(function(){var Bt,Ln,hn,Ye,sr,On,At,Ot,Qe,we,Ke,Mt,de,Me,zt,ft,ot,Ne,me,at,ze,Oe,$e,xt,Xe,vt,Ft,en,Kt,It,bt,dt,Gt,Sn,ln,Pn,st,Tt,Zt,_n,lt,Ht,le,Et,wn,Nn,En,si,qn=[].slice,zi={}.hasOwnProperty,yi=function(Pt,_t){function on(){this.constructor=Pt}for(var dn in _t)zi.call(_t,dn)&&(Pt[dn]=_t[dn]);return on.prototype=_t.prototype,Pt.prototype=new on,Pt.__super__=_t.prototype,Pt},Zi=[].indexOf||function(Pt){for(var _t=0,on=this.length;on>_t;_t++)if(_t in this&&this[_t]===Pt)return _t;return-1};for(ze={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},Kt=function(){var Pt;return null!=(Pt="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?Pt:+new Date},bt=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,at=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==bt&&(bt=function(Pt){return setTimeout(Pt,50)},at=function(Pt){return clearTimeout(Pt)}),Gt=function(Pt){var _t,on;return _t=Kt(),(on=function(){var dn;return(dn=Kt()-_t)>=33?(_t=Kt(),Pt(dn,function(){return bt(on)})):setTimeout(on,33-dn)})()},dt=function(){var Pt,_t,on;return on=arguments[0],_t=arguments[1],Pt=3<=arguments.length?qn.call(arguments,2):[],"function"==typeof on[_t]?on[_t].apply(on,Pt):on[_t]},Oe=function(){var Pt,_t,on,dn,Lt,gn,Fn;for(_t=arguments[0],gn=0,Fn=(dn=2<=arguments.length?qn.call(arguments,1):[]).length;Fn>gn;gn++)if(on=dn[gn])for(Pt in on)zi.call(on,Pt)&&(Lt=on[Pt],null!=_t[Pt]&&"object"==typeof _t[Pt]&&null!=Lt&&"object"==typeof Lt?Oe(_t[Pt],Lt):_t[Pt]=Lt);return _t},ot=function(Pt){var _t,on,Lt,gn;for(on=_t=0,Lt=0,gn=Pt.length;gn>Lt;Lt++)on+=Math.abs(Pt[Lt]),_t++;return on/_t},xt=function(Pt,_t){var on,Lt;if(null==Pt&&(Pt="options"),null==_t&&(_t=!0),Lt=document.querySelector("[data-pace-"+Pt+"]")){if(on=Lt.getAttribute("data-pace-"+Pt),!_t)return on;try{return JSON.parse(on)}catch(gn){return"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",gn):void 0}}},At=function(){function Pt(){}return Pt.prototype.on=function(_t,on,dn,Lt){var gn;return null==Lt&&(Lt=!1),null==this.bindings&&(this.bindings={}),null==(gn=this.bindings)[_t]&&(gn[_t]=[]),this.bindings[_t].push({handler:on,ctx:dn,once:Lt})},Pt.prototype.once=function(_t,on,dn){return this.on(_t,on,dn,!0)},Pt.prototype.off=function(_t,on){var dn,Lt,gn;if(null!=(null!=(Lt=this.bindings)?Lt[_t]:void 0)){if(null==on)return delete this.bindings[_t];for(dn=0,gn=[];dn<this.bindings[_t].length;)gn.push(this.bindings[_t][dn].handler===on?this.bindings[_t].splice(dn,1):dn++);return gn}},Pt.prototype.trigger=function(){var _t,on,dn,gn,Fn,ii,ri,jn;if(dn=arguments[0],_t=2<=arguments.length?qn.call(arguments,1):[],null!=(ii=this.bindings)?ii[dn]:void 0){for(gn=0,jn=[];gn<this.bindings[dn].length;)Fn=(ri=this.bindings[dn][gn]).once,ri.handler.apply(null!=(on=ri.ctx)?on:this,_t),jn.push(Fn?this.bindings[dn].splice(gn,1):gn++);return jn}},Pt}(),we=window.Pace||{},window.Pace=we,Oe(we,At.prototype),It=we.options=Oe({},ze,window.paceOptions,xt()),le=0,wn=(En=["ajax","document","eventLag","elements"]).length;wn>le;le++)!0===It[st=En[le]]&&(It[st]=ze[st]);Qe=function(Pt){function _t(){return _t.__super__.constructor.apply(this,arguments)}return yi(_t,Pt),_t}(Error),Ln=function(){function Pt(){this.progress=0}return Pt.prototype.getElement=function(){var _t;if(null==this.el){if(!(_t=document.querySelector(It.target)))throw new Qe;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=_t.firstChild?_t.insertBefore(this.el,_t.firstChild):_t.appendChild(this.el)}return this.el},Pt.prototype.finish=function(){var _t;return(_t=this.getElement()).className=_t.className.replace("pace-active",""),_t.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},Pt.prototype.update=function(_t){return this.progress=_t,this.render()},Pt.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(_t){Qe=_t}return this.el=void 0},Pt.prototype.render=function(){var _t,dn,Lt,gn,Fn,ii;if(null==document.querySelector(It.target))return!1;for(_t=this.getElement(),Lt="translate3d("+this.progress+"%, 0, 0)",gn=0,Fn=(ii=["webkitTransform","msTransform","transform"]).length;Fn>gn;gn++)_t.children[0].style[ii[gn]]=Lt;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(_t.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?dn="99":(dn=this.progress<10?"0":"",dn+=0|this.progress),_t.children[0].setAttribute("data-progress",""+dn)),this.lastRenderedProgress=this.progress},Pt.prototype.done=function(){return this.progress>=100},Pt}(),Ot=function(){function Pt(){this.bindings={}}return Pt.prototype.trigger=function(_t,on){var Lt,gn,Fn,ii;if(null!=this.bindings[_t]){for(ii=[],Lt=0,gn=(Fn=this.bindings[_t]).length;gn>Lt;Lt++)ii.push(Fn[Lt].call(this,on));return ii}},Pt.prototype.on=function(_t,on){var dn;return null==(dn=this.bindings)[_t]&&(dn[_t]=[]),this.bindings[_t].push(on)},Pt}(),Ht=window.XMLHttpRequest,lt=window.XDomainRequest,_n=window.WebSocket,$e=function(Pt,_t){var dn,Lt;for(dn in Lt=[],_t.prototype)try{Lt.push(null==Pt[dn]&&"function"!=typeof _t[dn]?"function"==typeof Object.defineProperty?Object.defineProperty(Pt,dn,{get:function(){return _t.prototype[dn]},configurable:!0,enumerable:!0}):Pt[dn]=_t.prototype[dn]:void 0)}catch(gn){}return Lt},Ft=[],we.ignore=function(){var Pt,_t,on;return _t=arguments[0],Pt=2<=arguments.length?qn.call(arguments,1):[],Ft.unshift("ignore"),on=_t.apply(null,Pt),Ft.shift(),on},we.track=function(){var Pt,_t,on;return _t=arguments[0],Pt=2<=arguments.length?qn.call(arguments,1):[],Ft.unshift("track"),on=_t.apply(null,Pt),Ft.shift(),on},Pn=function(Pt){var _t;return null==Pt&&(Pt="GET"),"track"===Ft[0]?"force":!(Ft.length||!It.ajax||!("socket"===Pt&&It.ajax.trackWebSockets||(_t=Pt.toUpperCase(),Zi.call(It.ajax.trackMethods,_t)>=0)))},Ke=function(Pt){function _t(){var on,dn=this;_t.__super__.constructor.apply(this,arguments),on=function(Lt){var gn;return gn=Lt.open,Lt.open=function(Fn,ii,ri){return Pn(Fn)&&dn.trigger("request",{type:Fn,url:ii,request:Lt}),gn.apply(Lt,arguments)}},window.XMLHttpRequest=function(Lt){var gn;return gn=new Ht(Lt),on(gn),gn};try{$e(window.XMLHttpRequest,Ht)}catch(Lt){}if(null!=lt){window.XDomainRequest=function(){var Lt;return Lt=new lt,on(Lt),Lt};try{$e(window.XDomainRequest,lt)}catch(Lt){}}if(null!=_n&&It.ajax.trackWebSockets){window.WebSocket=function(Lt,gn){var Fn;return Fn=null!=gn?new _n(Lt,gn):new _n(Lt),Pn("socket")&&dn.trigger("request",{type:"socket",url:Lt,protocols:gn,request:Fn}),Fn};try{$e(window.WebSocket,_n)}catch(Lt){}}}return yi(_t,Pt),_t}(Ot),Et=null,ln=function(Pt){var _t,on,dn,Lt;for(on=0,dn=(Lt=It.ajax.ignoreURLs).length;dn>on;on++)if("string"==typeof(_t=Lt[on])){if(-1!==Pt.indexOf(_t))return!0}else if(_t.test(Pt))return!0;return!1},(Xe=function(){return null==Et&&(Et=new Ke),Et})().on("request",function(Pt){var _t,on,dn,Lt;return Lt=Pt.type,dn=Pt.request,ln(Pt.url)||we.running||!1===It.restartOnRequestAfter&&"force"!==Pn(Lt)?void 0:(on=arguments,"boolean"==typeof(_t=It.restartOnRequestAfter||0)&&(_t=0),setTimeout(function(){var ii,ri,jn,Nt,Yt;if("socket"===Lt?dn.readyState<2:0<(jn=dn.readyState)&&4>jn){for(we.restart(),Yt=[],ii=0,ri=(Nt=we.sources).length;ri>ii;ii++){if((st=Nt[ii])instanceof Bt){st.watch.apply(st,on);break}Yt.push(void 0)}return Yt}},_t))}),Bt=function(){function Pt(){var _t=this;this.elements=[],Xe().on("request",function(){return _t.watch.apply(_t,arguments)})}return Pt.prototype.watch=function(_t){var on,dn,Lt;return Lt=_t.type,on=_t.request,ln(_t.url)?void 0:(dn="socket"===Lt?new Me(on):new zt(on),this.elements.push(dn))},Pt}(),zt=function(_t){var Lt,gn,Fn,ii,ri=this;if(this.progress=0,null!=window.ProgressEvent)for(_t.addEventListener("progress",function(jn){return ri.progress=jn.lengthComputable?100*jn.loaded/jn.total:ri.progress+(100-ri.progress)/2},!1),Lt=0,gn=(ii=["load","abort","timeout","error"]).length;gn>Lt;Lt++)_t.addEventListener(ii[Lt],function(){return ri.progress=100},!1);else Fn=_t.onreadystatechange,_t.onreadystatechange=function(){var jn;return 0===(jn=_t.readyState)||4===jn?ri.progress=100:3===_t.readyState&&(ri.progress=50),"function"==typeof Fn?Fn.apply(null,arguments):void 0}},Me=function(_t){var dn,Lt,gn,Fn=this;for(this.progress=0,dn=0,Lt=(gn=["error","open"]).length;Lt>dn;dn++)_t.addEventListener(gn[dn],function(){return Fn.progress=100},!1)},Ye=function(_t){var dn,Lt,gn;for(null==_t&&(_t={}),this.elements=[],null==_t.selectors&&(_t.selectors=[]),dn=0,Lt=(gn=_t.selectors).length;Lt>dn;dn++)this.elements.push(new sr(gn[dn]))},sr=function(){function Pt(_t){this.selector=_t,this.progress=0,this.check()}return Pt.prototype.check=function(){var _t=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return _t.check()},It.elements.checkInterval)},Pt.prototype.done=function(){return this.progress=100},Pt}(),hn=function(){function Pt(){var _t,on,dn=this;this.progress=null!=(on=this.states[document.readyState])?on:100,_t=document.onreadystatechange,document.onreadystatechange=function(){return null!=dn.states[document.readyState]&&(dn.progress=dn.states[document.readyState]),"function"==typeof _t?_t.apply(null,arguments):void 0}}return Pt.prototype.states={loading:0,interactive:50,complete:100},Pt}(),On=function(){var _t,on,dn,Lt,gn,Fn=this;this.progress=0,_t=0,gn=[],Lt=0,dn=Kt(),on=setInterval(function(){var ii;return ii=Kt()-dn-50,dn=Kt(),gn.push(ii),gn.length>It.eventLag.sampleCount&&gn.shift(),_t=ot(gn),++Lt>=It.eventLag.minSamples&&_t<It.eventLag.lagThreshold?(Fn.progress=100,clearInterval(on)):Fn.progress=3/(_t+3)*100},50)},de=function(){function Pt(_t){this.source=_t,this.last=this.sinceLastUpdate=0,this.rate=It.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=dt(this.source,"progress"))}return Pt.prototype.tick=function(_t,on){var dn;return null==on&&(on=dt(this.source,"progress")),on>=100&&(this.done=!0),on===this.last?this.sinceLastUpdate+=_t:(this.sinceLastUpdate&&(this.rate=(on-this.last)/this.sinceLastUpdate),this.catchup=(on-this.progress)/It.catchupTime,this.sinceLastUpdate=0,this.last=on),on>this.progress&&(this.progress+=this.catchup*_t),dn=1-Math.pow(this.progress/100,It.easeFactor),this.progress+=dn*this.rate*_t,this.progress=Math.min(this.lastProgress+It.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},Pt}(),Tt=null,Sn=null,Ne=null,Zt=null,ft=null,me=null,we.running=!1,vt=function(){return It.restartOnPushState?we.restart():void 0},null!=window.history.pushState&&(Nn=window.history.pushState,window.history.pushState=function(){return vt(),Nn.apply(window.history,arguments)}),null!=window.history.replaceState&&(si=window.history.replaceState,window.history.replaceState=function(){return vt(),si.apply(window.history,arguments)}),Mt={ajax:Bt,elements:Ye,document:hn,eventLag:On},(en=function(){var Pt,_t,on,dn,Lt,gn,Fn,ii;for(we.sources=Tt=[],_t=0,dn=(gn=["ajax","elements","document","eventLag"]).length;dn>_t;_t++)!1!==It[Pt=gn[_t]]&&Tt.push(new Mt[Pt](It[Pt]));for(on=0,Lt=(ii=null!=(Fn=It.extraSources)?Fn:[]).length;Lt>on;on++)Tt.push(new(st=ii[on])(It));return we.bar=Ne=new Ln,Sn=[],Zt=new de})(),we.stop=function(){return we.trigger("stop"),we.running=!1,Ne.destroy(),me=!0,null!=ft&&("function"==typeof at&&at(ft),ft=null),en()},we.restart=function(){return we.trigger("restart"),we.stop(),we.start()},we.go=function(){var Pt;return we.running=!0,Ne.render(),Pt=Kt(),me=!1,ft=Gt(function(_t,on){var Lt,gn,ii,ri,jn,Yt,an,Tn,fn,nn,An,Bn,Zn;for(Lt=Tn=0,gn=!0,ri=fn=0,An=Tt.length;An>fn;ri=++fn)for(st=Tt[ri],an=null!=Sn[ri]?Sn[ri]:Sn[ri]=[],jn=nn=0,Bn=(ii=null!=(Zn=st.elements)?Zn:[st]).length;Bn>nn;jn=++nn)gn&=(Yt=null!=an[jn]?an[jn]:an[jn]=new de(ii[jn])).done,Yt.done||(Lt++,Tn+=Yt.tick(_t));return Ne.update(Zt.tick(_t,Tn/Lt)),Ne.done()||gn||me?(Ne.update(100),we.trigger("done"),setTimeout(function(){return Ne.finish(),we.running=!1,we.trigger("hide")},Math.max(It.ghostTime,Math.max(It.minTime-(Kt()-Pt),0)))):on()})},we.start=function(Pt){Oe(It,Pt),we.running=!0;try{Ne.render()}catch(_t){Qe=_t}return document.querySelector(".pace")?(we.trigger("start"),we.go()):setTimeout(we.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return we}):"object"==typeof exports?module.exports=we:It.startOnPageLoad&&we.start()}).call(this),function(Bt,Ln){"use strict";function Ye(ee,Y,z){if("string"!=typeof ee)throw"invalid module definition, module id must be defined and be a string";if(Y===Ln)throw"invalid module definition, dependencies must be specified";if(z===Ln)throw"invalid module definition, definition function must be specified";!function(ee,Y){for(var z,B=[],C=0;C<ee.length;++C){if(!(z=Ot[ee[C]]||On(ee[C])))throw"module definition dependecy not found: "+ee[C];B.push(z)}Y.apply(null,B)}(Y,function(){Ot[ee]=z.apply(null,arguments)})}function On(ee){for(var Y=Bt,z=ee.split(/[.\/]/),B=0;B<z.length;++B){if(!Y[z[B]])return;Y=Y[z[B]]}return Y}var Ot={},Qe="tinymce/geom/Rect",we="tinymce/util/Promise",Ke="tinymce/util/Delay",Mt="tinymce/Env",de="tinymce/dom/EventUtils",Me="tinymce/dom/Sizzle",zt="tinymce/util/Arr",ft="tinymce/util/Tools",ot="tinymce/dom/DomQuery",Ne="tinymce/html/Styles",me="tinymce/dom/TreeWalker",at="tinymce/dom/Range",ze="tinymce/html/Entities",Oe="tinymce/dom/StyleSheetLoader",$e="tinymce/dom/DOMUtils",xt="tinymce/dom/ScriptLoader",Xe="tinymce/AddOnManager",vt="tinymce/dom/NodeType",Ft="tinymce/text/Zwsp",en="tinymce/caret/CaretContainer",Kt="tinymce/dom/RangeUtils",It="tinymce/NodeChange",bt="tinymce/html/Node",dt="tinymce/html/Schema",Gt="tinymce/html/SaxParser",Sn="tinymce/html/DomParser",ln="tinymce/html/Writer",Pn="tinymce/html/Serializer",st="tinymce/dom/Serializer",Tt="tinymce/dom/TridentSelection",Zt="tinymce/util/VK",_n="tinymce/dom/ControlSelection",lt="tinymce/util/Fun",Ht="tinymce/caret/CaretCandidate",le="tinymce/geom/ClientRect",Et="tinymce/text/ExtendingChar",wn="tinymce/caret/CaretPosition",Nn="tinymce/caret/CaretBookmark",En="tinymce/dom/BookmarkManager",vi="tinymce/dom/Selection",si="tinymce/dom/ElementUtils",qn="tinymce/fmt/Preview",zi="tinymce/fmt/Hooks",yi="tinymce/Formatter",Zi="tinymce/undo/Diff",Pt="tinymce/undo/Fragments",_t="tinymce/undo/Levels",on="tinymce/UndoManager",dn="tinymce/EnterKey",Lt="tinymce/ForceBlocks",gn="tinymce/caret/CaretUtils",Fn="tinymce/caret/CaretWalker",ii="tinymce/InsertList",ri="tinymce/InsertContent",jn="tinymce/EditorCommands",Nt="tinymce/util/URI",Yt="tinymce/util/Class",an="tinymce/util/EventDispatcher",Tn="tinymce/data/Binding",fn="tinymce/util/Observable",nn="tinymce/data/ObservableObject",An="tinymce/ui/Selector",Bn="tinymce/ui/Collection",Zn="tinymce/ui/DomUtils",$n="tinymce/ui/BoxUtils",xi="tinymce/ui/ClassList",Yi="tinymce/ui/ReflowQueue",Ki="tinymce/ui/Control",_i="tinymce/ui/Factory",Wr="tinymce/ui/KeyboardNavigation",nr="tinymce/ui/Container",Ui="tinymce/ui/DragHelper",vr="tinymce/ui/Scrollable",$i="tinymce/ui/Panel",Vi="tinymce/ui/Movable",Gr="tinymce/ui/Resizable",Nr="tinymce/ui/FloatPanel",to="tinymce/ui/Window",kt="tinymce/ui/MessageBox",Wt="tinymce/WindowManager",yn="tinymce/ui/Tooltip",rn="tinymce/ui/Widget",Dn="tinymce/ui/Progress",Hn="tinymce/ui/Notification",oi="tinymce/NotificationManager",ai="tinymce/dom/NodePath",Xn="tinymce/util/Quirks",hi="tinymce/EditorObservable",bi="tinymce/Mode",Mi="tinymce/Shortcuts",er="tinymce/file/Uploader",or="tinymce/file/Conversions",ar="tinymce/file/ImageScanner",kr="tinymce/file/BlobCache",Pr="tinymce/file/UploadStatus",zr="tinymce/ErrorReporter",fr="tinymce/EditorUpload",li="tinymce/caret/FakeCaret",Ur="tinymce/dom/Dimensions",no="tinymce/caret/LineWalker",Oo="tinymce/caret/LineUtils",pa="tinymce/dom/MousePosition",zo="tinymce/DragDropOverrides",Fo="tinymce/SelectionOverrides",ga="tinymce/util/Uuid",jr="tinymce/ui/Sidebar",Vo="tinymce/Editor",So="tinymce/util/I18n",Ho="tinymce/FocusManager",ma="tinymce/EditorManager",ms="tinymce/util/XHR",Mo="tinymce/util/JSON",vs="tinymce/util/JSONRequest",To="tinymce/util/JSONP",Ji="tinymce/util/LocalStorage",qr="tinymce/Compat",lr="tinymce/ui/Layout",ko="tinymce/ui/AbsoluteLayout",io="tinymce/ui/Button",Wo="tinymce/ui/ButtonGroup",Go="tinymce/ui/Checkbox",va="tinymce/ui/ComboBox",Fa="tinymce/ui/ColorBox",ya="tinymce/ui/PanelButton",Uo="tinymce/ui/ColorButton",jo="tinymce/util/Color",Va="tinymce/ui/ColorPicker",po="tinymce/ui/Path",Ha="tinymce/ui/ElementPath",xa="tinymce/ui/FormItem",ba="tinymce/ui/Form",ys="tinymce/ui/FieldSet",Fr="tinymce/content/LinkTargets",Pi="tinymce/ui/FilePicker",Ao="tinymce/ui/FitLayout",Zr="tinymce/ui/FlexLayout",_a="tinymce/ui/FlowLayout",xs="tinymce/fmt/FontInfo",Lr="tinymce/ui/FormatControls",Er="tinymce/ui/GridLayout",wa="tinymce/ui/Iframe",Io="tinymce/ui/InfoBox",bs="tinymce/ui/Label",Wa="tinymce/ui/Toolbar",Li="tinymce/ui/MenuBar",go="tinymce/ui/MenuButton",qo="tinymce/ui/MenuItem",Ca="tinymce/ui/Throbber",Zo="tinymce/ui/Menu",_s="tinymce/ui/ListBox",yr="tinymce/ui/Radio",ur="tinymce/ui/ResizeHandle",Yo="tinymce/ui/SelectBox",ro="tinymce/ui/Slider",gi="tinymce/ui/Spacer",mo="tinymce/ui/SplitButton",Sa="tinymce/ui/StackLayout",Ga="tinymce/ui/TabPanel",$o="tinymce/ui/TextBox";Ye(Qe,[],function(){function ee(D,N,E){var V,R,W,O,$,A;return V=N.x,R=N.y,W=D.w,O=D.h,$=N.w,A=N.h,"b"===(E=(E||"").split(""))[0]&&(R+=A),"r"===E[1]&&(V+=$),"c"===E[0]&&(R+=F(A/2)),"c"===E[1]&&(V+=F($/2)),"b"===E[3]&&(R-=O),"r"===E[4]&&(V-=W),"c"===E[3]&&(R-=F(O/2)),"c"===E[4]&&(V-=F(W/2)),T(V,R,W,O)}function T(D,N,E,V){return{x:D,y:N,w:E,h:V}}var w=Math.min,S=Math.max,F=Math.round;return{inflate:function(D,N,E){return T(D.x-N,D.y-E,D.w+2*N,D.h+2*E)},relativePosition:ee,findBestRelativePosition:function(D,N,E,V){var R,W;for(W=0;W<V.length;W++)if((R=ee(D,N,V[W])).x>=E.x&&R.x+R.w<=E.w+E.x&&R.y>=E.y&&R.y+R.h<=E.h+E.y)return V[W];return null},intersect:function(D,N){var E,V,R,W;return E=S(D.x,N.x),V=S(D.y,N.y),R=w(D.x+D.w,N.x+N.w),W=w(D.y+D.h,N.y+N.h),R-E<0||W-V<0?null:T(E,V,R-E,W-V)},clamp:function(D,N,E){var V,R,W,O,$,A,P,M,x,_;return A=D.y,P=D.x+D.w,M=D.y+D.h,x=N.x+N.w,_=N.y+N.h,V=S(0,N.x-($=D.x)),R=S(0,N.y-A),W=S(0,P-x),O=S(0,M-_),$+=V,A+=R,E&&(P+=V,M+=R,$-=W,A-=O),T($,A,(P-=W)-$,(M-=O)-A)},create:T,fromClientRect:function(D){return T(D.left,D.top,D.width,D.height)}}}),Ye(we,[],function(){function ee(D,N){return function(){D.apply(N,arguments)}}function Y(D){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof D)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],w(D,ee(B,this),ee(C,this))}function z(D){var N=this;return null===this._state?void this._deferreds.push(D):void S(function(){var E=N._state?D.onFulfilled:D.onRejected;if(null!==E){var V;try{V=E(N._value)}catch(R){return void D.reject(R)}D.resolve(V)}else(N._state?D.resolve:D.reject)(N._value)})}function B(D){try{if(D===this)throw new TypeError("A promise cannot be resolved with itself.");if(D&&("object"==typeof D||"function"==typeof D)){var N=D.then;if("function"==typeof N)return void w(ee(N,D),ee(B,this),ee(C,this))}this._state=!0,this._value=D,T.call(this)}catch(E){C.call(this,E)}}function C(D){this._state=!1,this._value=D,T.call(this)}function T(){for(var D=0,N=this._deferreds.length;D<N;D++)z.call(this,this._deferreds[D]);this._deferreds=null}function b(D,N,E,V){this.onFulfilled="function"==typeof D?D:null,this.onRejected="function"==typeof N?N:null,this.resolve=E,this.reject=V}function w(D,N,E){var V=!1;try{D(function(R){V||(V=!0,N(R))},function(R){V||(V=!0,E(R))})}catch(R){if(V)return;V=!0,E(R)}}if(window.Promise)return window.Promise;var S=Y.immediateFn||"function"==typeof setImmediate&&setImmediate||function(D){setTimeout(D,1)},F=Array.isArray||function(D){return"[object Array]"===Object.prototype.toString.call(D)};return Y.prototype.catch=function(D){return this.then(null,D)},Y.prototype.then=function(D,N){var E=this;return new Y(function(V,R){z.call(E,new b(D,N,V,R))})},Y.all=function(){var D=Array.prototype.slice.call(1===arguments.length&&F(arguments[0])?arguments[0]:arguments);return new Y(function(N,E){function V(O,$){try{if($&&("object"==typeof $||"function"==typeof $)){var A=$.then;if("function"==typeof A)return void A.call($,function(P){V(O,P)},E)}D[O]=$,0==--R&&N(D)}catch(P){E(P)}}if(0===D.length)return N([]);for(var R=D.length,W=0;W<D.length;W++)V(W,D[W])})},Y.resolve=function(D){return D&&"object"==typeof D&&D.constructor===Y?D:new Y(function(N){N(D)})},Y.reject=function(D){return new Y(function(N,E){E(D)})},Y.race=function(D){return new Y(function(N,E){for(var V=0,R=D.length;V<R;V++)D[V].then(N,E)})},Y}),Ye(Ke,[we],function(ee){function z(S,F){return"number"!=typeof F&&(F=0),setTimeout(S,F)}function B(S,F){return"number"!=typeof F&&(F=1),setInterval(S,F)}function b(S,F){var D,N;return N=function(){var E=arguments;clearTimeout(D),D=z(function(){S.apply(this,E)},F)},N.stop=function(){clearTimeout(D)},N}var w;return{requestAnimationFrame:function(S,F){return w?void w.then(S):void(w=new ee(function(D){F||(F=document.body),function(S,F){var N,E=window.requestAnimationFrame,V=["ms","moz","webkit"];for(N=0;N<V.length&&!E;N++)E=window[V[N]+"RequestAnimationFrame"];E||(E=function(R){window.setTimeout(R,0)}),E(S,F)}(D,F)}).then(S))},setTimeout:z,setInterval:B,setEditorTimeout:function(S,F,D){return z(function(){S.removed||F()},D)},setEditorInterval:function(S,F,D){var N;return N=B(function(){S.removed?clearInterval(N):F()},D)},debounce:b,throttle:b,clearInterval:function(S){return clearInterval(S)},clearTimeout:function(S){return clearTimeout(S)}}}),Ye(Mt,[],function(){function ee($){return"matchMedia"in window&&matchMedia($).matches}var B,C,T,b,w,S,F,D,N,E,V,R,W,Y=navigator,z=Y.userAgent;return B=window.opera&&window.opera.buildNumber,N=/Android/.test(z),T=(T=!(C=/WebKit/.test(z))&&!B&&/MSIE/gi.test(z)&&/Explorer/gi.test(Y.appName))&&/MSIE (\w+)\./.exec(z)[1],b=-1!=z.indexOf("Trident/")&&(-1!=z.indexOf("rv:")||-1!=Y.appName.indexOf("Netscape"))&&11,w=-1!=z.indexOf("Edge/")&&!T&&!b&&12,T=T||b||w,S=!C&&!b&&/Gecko/.test(z),F=-1!=z.indexOf("Mac"),D=/(iPad|iPhone)/.test(z),E="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,V=ee("only screen and (max-device-width: 480px)")&&(N||D),R=ee("only screen and (min-width: 800px)")&&(N||D),W=-1!=z.indexOf("Windows Phone"),w&&(C=!1),{opera:B,webkit:C,ie:T,gecko:S,mac:F,iOS:D,android:N,contentEditable:!D||E||z.match(/AppleWebKit\/(\d*)/)[1]>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=T,range:window.getSelection&&"Range"in window,documentMode:T&&!w?document.documentMode||7:10,fileApi:E,ceFalse:!1===T||T>8,canHaveCSP:!1===T||T>11,desktop:!V&&!R,windowsPhone:W}}),Ye(de,[Ke,Mt],function(ee,Y){function z(N,E,V,R){N.addEventListener?N.addEventListener(E,V,R||!1):N.attachEvent&&N.attachEvent("on"+E,V)}function B(N,E,V,R){N.removeEventListener?N.removeEventListener(E,V,R||!1):N.detachEvent&&N.detachEvent("on"+E,V)}function T(N,E){function V(){return!1}function R(){return!0}var W,$,O=E||{};for(W in N)D[W]||(O[W]=N[W]);if(O.target||(O.target=O.srcElement||document),Y.experimentalShadowDom&&(O.target=function(N,E){var V,R=E;return(V=N.path)&&V.length>0&&(R=V[0]),N.deepPath&&(V=N.deepPath())&&V.length>0&&(R=V[0]),R}(N,O.target)),N&&F.test(N.type)&&N.pageX===$&&N.clientX!==$){var A=O.target.ownerDocument||document,P=A.documentElement,M=A.body;O.pageX=N.clientX+(P&&P.scrollLeft||M&&M.scrollLeft||0)-(P&&P.clientLeft||M&&M.clientLeft||0),O.pageY=N.clientY+(P&&P.scrollTop||M&&M.scrollTop||0)-(P&&P.clientTop||M&&M.clientTop||0)}return O.preventDefault=function(){O.isDefaultPrevented=R,N&&(N.preventDefault?N.preventDefault():N.returnValue=!1)},O.stopPropagation=function(){O.isPropagationStopped=R,N&&(N.stopPropagation?N.stopPropagation():N.cancelBubble=!0)},O.stopImmediatePropagation=function(){O.isImmediatePropagationStopped=R,O.stopPropagation()},O.isDefaultPrevented||(O.isDefaultPrevented=V,O.isPropagationStopped=V,O.isImmediatePropagationStopped=V),void 0===O.metaKey&&(O.metaKey=!1),O}function b(N,E,V){function R(){V.domLoaded||(V.domLoaded=!0,E(A))}var $=N.document,A={type:"ready"};return V.domLoaded?void E(A):($.addEventListener?"complete"===$.readyState?R():z(N,"DOMContentLoaded",R):(z($,"readystatechange",function W(){("complete"===$.readyState||"interactive"===$.readyState&&$.body)&&(B($,"readystatechange",W),R())}),$.documentElement.doScroll&&N.self===N.top&&function O(){try{$.documentElement.doScroll("left")}catch(P){return void ee.setTimeout(O)}R()}()),void z(N,"load",R))}function w(){function N(P,M){var x,_,H,X,U=V[M];if(x=U&&U[P.type])for(_=0,H=x.length;_<H;_++)if((X=x[_])&&!1===X.func.call(X.scope,P)&&P.preventDefault(),P.isImmediatePropagationStopped())return}var R,W,O,$,A,E=this,V={};W=S+(+new Date).toString(32),$="onmouseenter"in document.documentElement,O="onfocusin"in document.documentElement,A={mouseenter:"mouseover",mouseleave:"mouseout"},R=1,E.domLoaded=!1,E.events=V,E.bind=function(P,M,x,_){function H(ge){N(T(ge||ve.event),X)}var X,U,J,ie,ye,pe,fe,ve=window;if(P&&3!==P.nodeType&&8!==P.nodeType){for(P[W]?X=P[W]:(X=R++,P[W]=X,V[X]={}),_=_||P,J=(M=M.split(" ")).length;J--;)pe=H,ye=fe=!1,"DOMContentLoaded"===(ie=M[J])&&(ie="ready"),E.domLoaded&&"ready"===ie&&"complete"==P.readyState?x.call(_,T({type:ie})):($||(ye=A[ie])&&(pe=function(ge){var Te,Ae;if(Te=ge.currentTarget,(Ae=ge.relatedTarget)&&Te.contains)Ae=Te.contains(Ae);else for(;Ae&&Ae!==Te;)Ae=Ae.parentNode;Ae||((ge=T(ge||ve.event)).type="mouseout"===ge.type?"mouseleave":"mouseenter",ge.target=Te,N(ge,X))}),O||"focusin"!==ie&&"focusout"!==ie||(fe=!0,ye="focusin"===ie?"focus":"blur",pe=function(ge){(ge=T(ge||ve.event)).type="focus"===ge.type?"focusin":"focusout",N(ge,X)}),(U=V[X][ie])?"ready"===ie&&E.domLoaded?x({type:ie}):U.push({func:x,scope:_}):(V[X][ie]=U=[{func:x,scope:_}],U.fakeName=ye,U.capture=fe,U.nativeHandler=pe,"ready"===ie?b(P,pe,E):z(P,ye||ie,pe,fe)));return P=U=0,x}},E.unbind=function(P,M,x){var _,H,X,U,J,ie;if(!P||3===P.nodeType||8===P.nodeType)return E;if(_=P[W]){if(ie=V[_],M){for(X=(M=M.split(" ")).length;X--;)if(H=ie[J=M[X]]){if(x)for(U=H.length;U--;)if(H[U].func===x){var ye=H.nativeHandler,pe=H.fakeName,fe=H.capture;(H=H.slice(0,U).concat(H.slice(U+1))).nativeHandler=ye,H.fakeName=pe,H.capture=fe,ie[J]=H}x&&0!==H.length||(delete ie[J],B(P,H.fakeName||J,H.nativeHandler,H.capture))}}else{for(J in ie)B(P,(H=ie[J]).fakeName||J,H.nativeHandler,H.capture);ie={}}for(J in ie)return E;delete V[_];try{delete P[W]}catch(ve){P[W]=null}}return E},E.fire=function(P,M,x){var _;if(!P||3===P.nodeType||8===P.nodeType)return E;(x=T(null,x)).type=M,x.target=P;do{(_=P[W])&&N(x,_),P=P.parentNode||P.ownerDocument||P.defaultView||P.parentWindow}while(P&&!x.isPropagationStopped());return E},E.clean=function(P){var M,x,_=E.unbind;if(!P||3===P.nodeType||8===P.nodeType)return E;if(P[W]&&_(P),P.getElementsByTagName||(P=P.document),P&&P.getElementsByTagName)for(_(P),M=(x=P.getElementsByTagName("*")).length;M--;)(P=x[M])[W]&&_(P);return E},E.destroy=function(){V={}},E.cancel=function(P){return P&&(P.preventDefault(),P.stopImmediatePropagation()),!1}}var S="mce-data-",F=/^(?:mouse|contextmenu)|click/,D={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return(w.Event=new w).bind(window,"ready",function(){}),w}),Ye(Me,[],function(){function ee(ae,Se,Ve,it){var mt,et,Ee,ht,pt,$t,Ge,l,c,f;if((Se?Se.ownerDocument||Se:Le)!==ve&&fe(Se),Ve=Ve||[],!ae||"string"!=typeof ae)return Ve;if(1!==(ht=(Se=Se||ve).nodeType)&&9!==ht)return[];if(Te&&!it){if(mt=sn.exec(ae))if(Ee=mt[1]){if(9===ht){if(!(et=Se.getElementById(Ee))||!et.parentNode)return Ve;if(et.id===Ee)return Ve.push(et),Ve}else if(Se.ownerDocument&&(et=Se.ownerDocument.getElementById(Ee))&&xe(Se,et)&&et.id===Ee)return Ve.push(et),Ve}else{if(mt[2])return je.apply(Ve,Se.getElementsByTagName(ae)),Ve;if((Ee=mt[3])&&M.getElementsByClassName)return je.apply(Ve,Se.getElementsByClassName(Ee)),Ve}if(M.qsa&&(!Ae||!Ae.test(ae))){if(l=Ge=Ie,c=Se,f=9===ht&&ae,1===ht&&"object"!==Se.nodeName.toLowerCase()){for($t=X(ae),(Ge=Se.getAttribute("id"))?l=Ge.replace(Rn,"\\$&"):Se.setAttribute("id",l),l="[id='"+l+"'] ",pt=$t.length;pt--;)$t[pt]=l+N($t[pt]);c=cn.test(ae)&&F(Se.parentNode)||Se,f=$t.join(",")}if(f)try{return je.apply(Ve,c.querySelectorAll(f)),Ve}catch(p){}finally{Ge||Se.removeAttribute("id")}}}return J(ae.replace(Bi,"$1"),Se,Ve,it)}function Y(){var Se=[];return function ae(Ve,it){return Se.push(Ve+" ")>x.cacheLength&&delete ae[Se.shift()],ae[Ve+" "]=it}}function z(ae){return ae[Ie]=!0,ae}function B(ae){var Se=ve.createElement("div");try{return!!ae(Se)}catch(Ve){return!1}finally{Se.parentNode&&Se.parentNode.removeChild(Se),Se=null}}function C(ae,Se){for(var Ve=ae.split("|"),it=ae.length;it--;)x.attrHandle[Ve[it]]=Se}function T(ae,Se){var Ve=Se&&ae,it=Ve&&1===ae.nodeType&&1===Se.nodeType&&(~Se.sourceIndex||re)-(~ae.sourceIndex||re);if(it)return it;if(Ve)for(;Ve=Ve.nextSibling;)if(Ve===Se)return-1;return ae?1:-1}function b(ae){return function(Se){return"input"===Se.nodeName.toLowerCase()&&Se.type===ae}}function w(ae){return function(Se){var Ve=Se.nodeName.toLowerCase();return("input"===Ve||"button"===Ve)&&Se.type===ae}}function S(ae){return z(function(Se){return Se=+Se,z(function(Ve,it){for(var mt,et=ae([],Ve.length,Se),Ee=et.length;Ee--;)Ve[mt=et[Ee]]&&(Ve[mt]=!(it[mt]=Ve[mt]))})})}function F(ae){return ae&&typeof ae.getElementsByTagName!==oe&&ae}function D(){}function N(ae){for(var Se=0,Ve=ae.length,it="";Se<Ve;Se++)it+=ae[Se].value;return it}function E(ae,Se,Ve){var it=Se.dir,mt=Ve&&"parentNode"===it,et=Dt++;return Se.first?function(Ee,ht,pt){for(;Ee=Ee[it];)if(1===Ee.nodeType||mt)return ae(Ee,ht,pt)}:function(Ee,ht,pt){var $t,Ge,l=[ut,et];if(pt){for(;Ee=Ee[it];)if((1===Ee.nodeType||mt)&&ae(Ee,ht,pt))return!0}else for(;Ee=Ee[it];)if(1===Ee.nodeType||mt){if(($t=(Ge=Ee[Ie]||(Ee[Ie]={}))[it])&&$t[0]===ut&&$t[1]===et)return l[2]=$t[2];if(Ge[it]=l,l[2]=ae(Ee,ht,pt))return!0}}}function V(ae){return ae.length>1?function(Se,Ve,it){for(var mt=ae.length;mt--;)if(!ae[mt](Se,Ve,it))return!1;return!0}:ae[0]}function W(ae,Se,Ve,it,mt){for(var et,Ee=[],ht=0,pt=ae.length,$t=null!=Se;ht<pt;ht++)(et=ae[ht])&&(Ve&&!Ve(et,it,mt)||(Ee.push(et),$t&&Se.push(ht)));return Ee}function O(ae,Se,Ve,it,mt,et){return it&&!it[Ie]&&(it=O(it)),mt&&!mt[Ie]&&(mt=O(mt,et)),z(function(Ee,ht,pt,$t){var Ge,l,c,f=[],p=[],v=ht.length,k=Ee||function(ae,Se,Ve){for(var it=0,mt=Se.length;it<mt;it++)ee(ae,Se[it],Ve);return Ve}(Se||"*",pt.nodeType?[pt]:pt,[]),L=!ae||!Ee&&Se?k:W(k,f,ae,pt,$t),G=Ve?mt||(Ee?ae:v||it)?[]:ht:L;if(Ve&&Ve(L,G,pt,$t),it)for(Ge=W(G,p),it(Ge,[],pt,$t),l=Ge.length;l--;)(c=Ge[l])&&(G[p[l]]=!(L[p[l]]=c));if(Ee){if(mt||ae){if(mt){for(Ge=[],l=G.length;l--;)(c=G[l])&&Ge.push(L[l]=c);mt(null,G=[],Ge,$t)}for(l=G.length;l--;)(c=G[l])&&(Ge=mt?ct.call(Ee,c):f[l])>-1&&(Ee[Ge]=!(ht[Ge]=c))}}else G=W(G===ht?G.splice(v,G.length):G),mt?mt(null,ht,G,$t):je.apply(ht,G)})}function $(ae){for(var Se,Ve,it,mt=ae.length,et=x.relative[ae[0].type],Ee=et||x.relative[" "],ht=et?1:0,pt=E(function(l){return l===Se},Ee,!0),$t=E(function(l){return ct.call(Se,l)>-1},Ee,!0),Ge=[function(l,c,f){return!et&&(f||c!==ie)||((Se=c).nodeType?pt(l,c,f):$t(l,c,f))}];ht<mt;ht++)if(Ve=x.relative[ae[ht].type])Ge=[E(V(Ge),Ve)];else{if((Ve=x.filter[ae[ht].type].apply(null,ae[ht].matches))[Ie]){for(it=++ht;it<mt&&!x.relative[ae[it].type];it++);return O(ht>1&&V(Ge),ht>1&&N(ae.slice(0,ht-1).concat({value:" "===ae[ht-2].type?"*":""})).replace(Bi,"$1"),Ve,ht<it&&$(ae.slice(ht,it)),it<mt&&$(ae=ae.slice(it)),it<mt&&N(ae))}Ge.push(Ve)}return V(Ge)}var P,M,x,_,H,X,U,J,ie,ye,pe,fe,ve,ge,Te,Ae,ne,ce,xe,Ie="sizzle"+-new Date,Le=window.document,ut=0,Dt=0,Vt=Y(),Qt=Y(),jt=Y(),Pe=function(ae,Se){return ae===Se&&(pe=!0),0},oe=typeof Ln,re=1<<31,Ce={}.hasOwnProperty,He=[],nt=He.pop,rt=He.push,je=He.push,St=He.slice,ct=He.indexOf||function(ae){for(var Se=0,Ve=this.length;Se<Ve;Se++)if(this[Se]===ae)return Se;return-1},wt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",yt="[\\x20\\t\\r\\n\\f]",bn="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Yn="\\["+yt+"*("+bn+")(?:"+yt+"*([*^$|!~]?=)"+yt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+bn+"))|)"+yt+"*\\]",Qn=":("+bn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Yn+")*)|.*)\\)|)",Bi=new RegExp("^"+yt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+yt+"+$","g"),di=new RegExp("^"+yt+"*,"+yt+"*"),fi=new RegExp("^"+yt+"*([>+~]|"+yt+")"+yt+"*"),Hi=new RegExp("="+yt+"*([^\\]'\"]*?)"+yt+"*\\]","g"),Ti=new RegExp(Qn),ki=new RegExp("^"+bn+"$"),Rt={ID:new RegExp("^#("+bn+")"),CLASS:new RegExp("^\\.("+bn+")"),TAG:new RegExp("^("+bn+"|[*])"),ATTR:new RegExp("^"+Yn),PSEUDO:new RegExp("^"+Qn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+yt+"*(even|odd|(([+-]|)(\\d*)n|)"+yt+"*(?:([+-]|)"+yt+"*(\\d+)|))"+yt+"*\\)|)","i"),bool:new RegExp("^(?:"+wt+")$","i"),needsContext:new RegExp("^"+yt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+yt+"*((?:-\\d)?\\d*)"+yt+"*\\)|)(?=[^-]|$)","i")},Xt=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,Ct=/^[^{]+\{\s*\[native \w/,sn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,cn=/[+~]/,Rn=/'|\\/g,Fe=new RegExp("\\\\([\\da-f]{1,6}"+yt+"?|("+yt+")|.)","ig"),Je=function(ae,Se,Ve){var it="0x"+Se-65536;return it!=it||Ve?Se:it<0?String.fromCharCode(it+65536):String.fromCharCode(it>>10|55296,1023&it|56320)};try{je.apply(He=St.call(Le.childNodes),Le.childNodes)}catch(ae){je={apply:He.length?function(Se,Ve){rt.apply(Se,St.call(Ve))}:function(Se,Ve){for(var it=Se.length,mt=0;Se[it++]=Ve[mt++];);Se.length=it-1}}}for(P in M=ee.support={},H=ee.isXML=function(ae){var Se=ae&&(ae.ownerDocument||ae).documentElement;return!!Se&&"HTML"!==Se.nodeName},fe=ee.setDocument=function(ae){var Ve,it=ae?ae.ownerDocument||ae:Le,mt=it.defaultView;return it!==ve&&9===it.nodeType&&it.documentElement?(ve=it,ge=it.documentElement,Te=!H(it),mt&&mt!==function(et){try{return et.top}catch(Ee){}return null}(mt)&&(mt.addEventListener?mt.addEventListener("unload",function(){fe()},!1):mt.attachEvent&&mt.attachEvent("onunload",function(){fe()})),M.attributes=B(function(et){return et.className="i",!et.getAttribute("className")}),M.getElementsByTagName=B(function(et){return et.appendChild(it.createComment("")),!et.getElementsByTagName("*").length}),M.getElementsByClassName=Ct.test(it.getElementsByClassName),M.getById=B(function(et){return ge.appendChild(et).id=Ie,!it.getElementsByName||!it.getElementsByName(Ie).length}),M.getById?(x.find.ID=function(et,Ee){if(typeof Ee.getElementById!==oe&&Te){var ht=Ee.getElementById(et);return ht&&ht.parentNode?[ht]:[]}},x.filter.ID=function(et){var Ee=et.replace(Fe,Je);return function(ht){return ht.getAttribute("id")===Ee}}):(delete x.find.ID,x.filter.ID=function(et){var Ee=et.replace(Fe,Je);return function(ht){var pt=typeof ht.getAttributeNode!==oe&&ht.getAttributeNode("id");return pt&&pt.value===Ee}}),x.find.TAG=M.getElementsByTagName?function(et,Ee){if(typeof Ee.getElementsByTagName!==oe)return Ee.getElementsByTagName(et)}:function(et,Ee){var ht,pt=[],$t=0,Ge=Ee.getElementsByTagName(et);if("*"===et){for(;ht=Ge[$t++];)1===ht.nodeType&&pt.push(ht);return pt}return Ge},x.find.CLASS=M.getElementsByClassName&&function(et,Ee){if(Te)return Ee.getElementsByClassName(et)},ne=[],Ae=[],(M.qsa=Ct.test(it.querySelectorAll))&&(B(function(et){et.innerHTML="<select msallowcapture=''><option selected=''></option></select>",et.querySelectorAll("[msallowcapture^='']").length&&Ae.push("[*^$]="+yt+"*(?:''|\"\")"),et.querySelectorAll("[selected]").length||Ae.push("\\["+yt+"*(?:value|"+wt+")"),et.querySelectorAll(":checked").length||Ae.push(":checked")}),B(function(et){var Ee=it.createElement("input");Ee.setAttribute("type","hidden"),et.appendChild(Ee).setAttribute("name","D"),et.querySelectorAll("[name=d]").length&&Ae.push("name"+yt+"*[*^$|!~]?="),et.querySelectorAll(":enabled").length||Ae.push(":enabled",":disabled"),et.querySelectorAll("*,:x"),Ae.push(",.*:")})),(M.matchesSelector=Ct.test(ce=ge.matches||ge.webkitMatchesSelector||ge.mozMatchesSelector||ge.oMatchesSelector||ge.msMatchesSelector))&&B(function(et){M.disconnectedMatch=ce.call(et,"div"),ce.call(et,"[s!='']:x"),ne.push("!=",Qn)}),Ae=Ae.length&&new RegExp(Ae.join("|")),ne=ne.length&&new RegExp(ne.join("|")),Ve=Ct.test(ge.compareDocumentPosition),xe=Ve||Ct.test(ge.contains)?function(et,Ee){var ht=9===et.nodeType?et.documentElement:et,pt=Ee&&Ee.parentNode;return et===pt||!(!pt||1!==pt.nodeType||!(ht.contains?ht.contains(pt):et.compareDocumentPosition&&16&et.compareDocumentPosition(pt)))}:function(et,Ee){if(Ee)for(;Ee=Ee.parentNode;)if(Ee===et)return!0;return!1},Pe=Ve?function(et,Ee){if(et===Ee)return pe=!0,0;var ht=!et.compareDocumentPosition-!Ee.compareDocumentPosition;return ht||(1&(ht=(et.ownerDocument||et)===(Ee.ownerDocument||Ee)?et.compareDocumentPosition(Ee):1)||!M.sortDetached&&Ee.compareDocumentPosition(et)===ht?et===it||et.ownerDocument===Le&&xe(Le,et)?-1:Ee===it||Ee.ownerDocument===Le&&xe(Le,Ee)?1:ye?ct.call(ye,et)-ct.call(ye,Ee):0:4&ht?-1:1)}:function(et,Ee){if(et===Ee)return pe=!0,0;var ht,pt=0,$t=et.parentNode,Ge=Ee.parentNode,l=[et],c=[Ee];if(!$t||!Ge)return et===it?-1:Ee===it?1:$t?-1:Ge?1:ye?ct.call(ye,et)-ct.call(ye,Ee):0;if($t===Ge)return T(et,Ee);for(ht=et;ht=ht.parentNode;)l.unshift(ht);for(ht=Ee;ht=ht.parentNode;)c.unshift(ht);for(;l[pt]===c[pt];)pt++;return pt?T(l[pt],c[pt]):l[pt]===Le?-1:c[pt]===Le?1:0},it):ve},ee.matches=function(ae,Se){return ee(ae,null,null,Se)},ee.matchesSelector=function(ae,Se){if((ae.ownerDocument||ae)!==ve&&fe(ae),Se=Se.replace(Hi,"='$1']"),M.matchesSelector&&Te&&(!ne||!ne.test(Se))&&(!Ae||!Ae.test(Se)))try{var Ve=ce.call(ae,Se);if(Ve||M.disconnectedMatch||ae.document&&11!==ae.document.nodeType)return Ve}catch(it){}return ee(Se,ve,null,[ae]).length>0},ee.contains=function(ae,Se){return(ae.ownerDocument||ae)!==ve&&fe(ae),xe(ae,Se)},ee.attr=function(ae,Se){(ae.ownerDocument||ae)!==ve&&fe(ae);var Ve=x.attrHandle[Se.toLowerCase()],it=Ve&&Ce.call(x.attrHandle,Se.toLowerCase())?Ve(ae,Se,!Te):Ln;return it!==Ln?it:M.attributes||!Te?ae.getAttribute(Se):(it=ae.getAttributeNode(Se))&&it.specified?it.value:null},ee.error=function(ae){throw new Error("Syntax error, unrecognized expression: "+ae)},ee.uniqueSort=function(ae){var Se,Ve=[],it=0,mt=0;if(pe=!M.detectDuplicates,ye=!M.sortStable&&ae.slice(0),ae.sort(Pe),pe){for(;Se=ae[mt++];)Se===ae[mt]&&(it=Ve.push(mt));for(;it--;)ae.splice(Ve[it],1)}return ye=null,ae},_=ee.getText=function(ae){var Se,Ve="",it=0,mt=ae.nodeType;if(mt){if(1===mt||9===mt||11===mt){if("string"==typeof ae.textContent)return ae.textContent;for(ae=ae.firstChild;ae;ae=ae.nextSibling)Ve+=_(ae)}else if(3===mt||4===mt)return ae.nodeValue}else for(;Se=ae[it++];)Ve+=_(Se);return Ve},(x=ee.selectors={cacheLength:50,createPseudo:z,match:Rt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ae){return ae[1]=ae[1].replace(Fe,Je),ae[3]=(ae[3]||ae[4]||ae[5]||"").replace(Fe,Je),"~="===ae[2]&&(ae[3]=" "+ae[3]+" "),ae.slice(0,4)},CHILD:function(ae){return ae[1]=ae[1].toLowerCase(),"nth"===ae[1].slice(0,3)?(ae[3]||ee.error(ae[0]),ae[4]=+(ae[4]?ae[5]+(ae[6]||1):2*("even"===ae[3]||"odd"===ae[3])),ae[5]=+(ae[7]+ae[8]||"odd"===ae[3])):ae[3]&&ee.error(ae[0]),ae},PSEUDO:function(ae){var Se,Ve=!ae[6]&&ae[2];return Rt.CHILD.test(ae[0])?null:(ae[3]?ae[2]=ae[4]||ae[5]||"":Ve&&Ti.test(Ve)&&(Se=X(Ve,!0))&&(Se=Ve.indexOf(")",Ve.length-Se)-Ve.length)&&(ae[0]=ae[0].slice(0,Se),ae[2]=Ve.slice(0,Se)),ae.slice(0,3))}},filter:{TAG:function(ae){var Se=ae.replace(Fe,Je).toLowerCase();return"*"===ae?function(){return!0}:function(Ve){return Ve.nodeName&&Ve.nodeName.toLowerCase()===Se}},CLASS:function(ae){var Se=Vt[ae+" "];return Se||(Se=new RegExp("(^|"+yt+")"+ae+"("+yt+"|$)"))&&Vt(ae,function(Ve){return Se.test("string"==typeof Ve.className&&Ve.className||typeof Ve.getAttribute!==oe&&Ve.getAttribute("class")||"")})},ATTR:function(ae,Se,Ve){return function(it){var mt=ee.attr(it,ae);return null==mt?"!="===Se:!Se||(mt+="","="===Se?mt===Ve:"!="===Se?mt!==Ve:"^="===Se?Ve&&0===mt.indexOf(Ve):"*="===Se?Ve&&mt.indexOf(Ve)>-1:"$="===Se?Ve&&mt.slice(-Ve.length)===Ve:"~="===Se?(" "+mt+" ").indexOf(Ve)>-1:"|="===Se&&(mt===Ve||mt.slice(0,Ve.length+1)===Ve+"-"))}},CHILD:function(ae,Se,Ve,it,mt){var et="nth"!==ae.slice(0,3),Ee="last"!==ae.slice(-4),ht="of-type"===Se;return 1===it&&0===mt?function(pt){return!!pt.parentNode}:function(pt,$t,Ge){var l,c,f,p,v,k,L=et!==Ee?"nextSibling":"previousSibling",G=pt.parentNode,Z=ht&&pt.nodeName.toLowerCase(),Q=!Ge&&!ht;if(G){if(et){for(;L;){for(f=pt;f=f[L];)if(ht?f.nodeName.toLowerCase()===Z:1===f.nodeType)return!1;k=L="only"===ae&&!k&&"nextSibling"}return!0}if(k=[Ee?G.firstChild:G.lastChild],Ee&&Q){for(p=(l=(c=G[Ie]||(G[Ie]={}))[ae]||[])[0]===ut&&l[2],f=(v=l[0]===ut&&l[1])&&G.childNodes[v];f=++v&&f&&f[L]||(p=v=0)||k.pop();)if(1===f.nodeType&&++p&&f===pt){c[ae]=[ut,v,p];break}}else if(Q&&(l=(pt[Ie]||(pt[Ie]={}))[ae])&&l[0]===ut)p=l[1];else for(;(f=++v&&f&&f[L]||(p=v=0)||k.pop())&&((ht?f.nodeName.toLowerCase()!==Z:1!==f.nodeType)||!++p||(Q&&((f[Ie]||(f[Ie]={}))[ae]=[ut,p]),f!==pt)););return(p-=mt)===it||p%it==0&&p/it>=0}}},PSEUDO:function(ae,Se){var Ve,it=x.pseudos[ae]||x.setFilters[ae.toLowerCase()]||ee.error("unsupported pseudo: "+ae);return it[Ie]?it(Se):it.length>1?(Ve=[ae,ae,"",Se],x.setFilters.hasOwnProperty(ae.toLowerCase())?z(function(mt,et){for(var Ee,ht=it(mt,Se),pt=ht.length;pt--;)mt[Ee=ct.call(mt,ht[pt])]=!(et[Ee]=ht[pt])}):function(mt){return it(mt,0,Ve)}):it}},pseudos:{not:z(function(ae){var Se=[],Ve=[],it=U(ae.replace(Bi,"$1"));return it[Ie]?z(function(mt,et,Ee,ht){for(var pt,$t=it(mt,null,ht,[]),Ge=mt.length;Ge--;)(pt=$t[Ge])&&(mt[Ge]=!(et[Ge]=pt))}):function(mt,et,Ee){return Se[0]=mt,it(Se,null,Ee,Ve),!Ve.pop()}}),has:z(function(ae){return function(Se){return ee(ae,Se).length>0}}),contains:z(function(ae){return ae=ae.replace(Fe,Je),function(Se){return(Se.textContent||Se.innerText||_(Se)).indexOf(ae)>-1}}),lang:z(function(ae){return ki.test(ae||"")||ee.error("unsupported lang: "+ae),ae=ae.replace(Fe,Je).toLowerCase(),function(Se){var Ve;do{if(Ve=Te?Se.lang:Se.getAttribute("xml:lang")||Se.getAttribute("lang"))return(Ve=Ve.toLowerCase())===ae||0===Ve.indexOf(ae+"-")}while((Se=Se.parentNode)&&1===Se.nodeType);return!1}}),target:function(ae){var Se=window.location&&window.location.hash;return Se&&Se.slice(1)===ae.id},root:function(ae){return ae===ge},focus:function(ae){return ae===ve.activeElement&&(!ve.hasFocus||ve.hasFocus())&&!!(ae.type||ae.href||~ae.tabIndex)},enabled:function(ae){return!1===ae.disabled},disabled:function(ae){return!0===ae.disabled},checked:function(ae){var Se=ae.nodeName.toLowerCase();return"input"===Se&&!!ae.checked||"option"===Se&&!!ae.selected},selected:function(ae){return!0===ae.selected},empty:function(ae){for(ae=ae.firstChild;ae;ae=ae.nextSibling)if(ae.nodeType<6)return!1;return!0},parent:function(ae){return!x.pseudos.empty(ae)},header:function(ae){return tt.test(ae.nodeName)},input:function(ae){return Xt.test(ae.nodeName)},button:function(ae){var Se=ae.nodeName.toLowerCase();return"input"===Se&&"button"===ae.type||"button"===Se},text:function(ae){var Se;return"input"===ae.nodeName.toLowerCase()&&"text"===ae.type&&(null==(Se=ae.getAttribute("type"))||"text"===Se.toLowerCase())},first:S(function(){return[0]}),last:S(function(ae,Se){return[Se-1]}),eq:S(function(ae,Se,Ve){return[Ve<0?Ve+Se:Ve]}),even:S(function(ae,Se){for(var Ve=0;Ve<Se;Ve+=2)ae.push(Ve);return ae}),odd:S(function(ae,Se){for(var Ve=1;Ve<Se;Ve+=2)ae.push(Ve);return ae}),lt:S(function(ae,Se,Ve){for(var it=Ve<0?Ve+Se:Ve;--it>=0;)ae.push(it);return ae}),gt:S(function(ae,Se,Ve){for(var it=Ve<0?Ve+Se:Ve;++it<Se;)ae.push(it);return ae})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[P]=b(P);for(P in{submit:!0,reset:!0})x.pseudos[P]=w(P);return D.prototype=x.filters=x.pseudos,x.setFilters=new D,X=ee.tokenize=function(ae,Se){var Ve,it,mt,et,Ee,ht,pt,$t=Qt[ae+" "];if($t)return Se?0:$t.slice(0);for(Ee=ae,ht=[],pt=x.preFilter;Ee;){for(et in Ve&&!(it=di.exec(Ee))||(it&&(Ee=Ee.slice(it[0].length)||Ee),ht.push(mt=[])),Ve=!1,(it=fi.exec(Ee))&&(Ve=it.shift(),mt.push({value:Ve,type:it[0].replace(Bi," ")}),Ee=Ee.slice(Ve.length)),x.filter)!(it=Rt[et].exec(Ee))||pt[et]&&!(it=pt[et](it))||(Ve=it.shift(),mt.push({value:Ve,type:et,matches:it}),Ee=Ee.slice(Ve.length));if(!Ve)break}return Se?Ee.length:Ee?ee.error(ae):Qt(ae,ht).slice(0)},U=ee.compile=function(ae,Se){var Ve,it=[],mt=[],et=jt[ae+" "];if(!et){for(Se||(Se=X(ae)),Ve=Se.length;Ve--;)(et=$(Se[Ve]))[Ie]?it.push(et):mt.push(et);et=jt(ae,function(ae,Se){var Ve=Se.length>0,it=ae.length>0,mt=function(et,Ee,ht,pt,$t){var Ge,l,c,f=0,p="0",v=et&&[],k=[],L=ie,G=et||it&&x.find.TAG("*",$t),Z=ut+=null==L?1:Math.random()||.1,Q=G.length;for($t&&(ie=Ee!==ve&&Ee);p!==Q&&null!=(Ge=G[p]);p++){if(it&&Ge){for(l=0;c=ae[l++];)if(c(Ge,Ee,ht)){pt.push(Ge);break}$t&&(ut=Z)}Ve&&((Ge=!c&&Ge)&&f--,et&&v.push(Ge))}if(f+=p,Ve&&p!==f){for(l=0;c=Se[l++];)c(v,k,Ee,ht);if(et){if(f>0)for(;p--;)v[p]||k[p]||(k[p]=nt.call(pt));k=W(k)}je.apply(pt,k),$t&&!et&&k.length>0&&f+Se.length>1&&ee.uniqueSort(pt)}return $t&&(ut=Z,ie=L),v};return Ve?z(mt):mt}(mt,it)),et.selector=ae}return et},J=ee.select=function(ae,Se,Ve,it){var mt,et,Ee,ht,pt,$t="function"==typeof ae&&ae,Ge=!it&&X(ae=$t.selector||ae);if(Ve=Ve||[],1===Ge.length){if((et=Ge[0]=Ge[0].slice(0)).length>2&&"ID"===(Ee=et[0]).type&&M.getById&&9===Se.nodeType&&Te&&x.relative[et[1].type]){if(!(Se=(x.find.ID(Ee.matches[0].replace(Fe,Je),Se)||[])[0]))return Ve;$t&&(Se=Se.parentNode),ae=ae.slice(et.shift().value.length)}for(mt=Rt.needsContext.test(ae)?0:et.length;mt--&&!x.relative[ht=(Ee=et[mt]).type];)if((pt=x.find[ht])&&(it=pt(Ee.matches[0].replace(Fe,Je),cn.test(et[0].type)&&F(Se.parentNode)||Se))){if(et.splice(mt,1),!(ae=it.length&&N(et)))return je.apply(Ve,it),Ve;break}}return($t||U(ae,Ge))(it,Se,!Te,Ve,cn.test(ae)&&F(Se.parentNode)||Se),Ve},M.sortStable=Ie.split("").sort(Pe).join("")===Ie,M.detectDuplicates=!!pe,fe(),M.sortDetached=B(function(ae){return 1&ae.compareDocumentPosition(ve.createElement("div"))}),B(function(ae){return ae.innerHTML="<a href='#'></a>","#"===ae.firstChild.getAttribute("href")})||C("type|href|height|width",function(ae,Se,Ve){if(!Ve)return ae.getAttribute(Se,"type"===Se.toLowerCase()?1:2)}),M.attributes&&B(function(ae){return ae.innerHTML="<input/>",ae.firstChild.setAttribute("value",""),""===ae.firstChild.getAttribute("value")})||C("value",function(ae,Se,Ve){if(!Ve&&"input"===ae.nodeName.toLowerCase())return ae.defaultValue}),B(function(ae){return null==ae.getAttribute("disabled")})||C(wt,function(ae,Se,Ve){var it;if(!Ve)return!0===ae[Se]?Se.toLowerCase():(it=ae.getAttributeNode(Se))&&it.specified?it.value:null}),ee}),Ye(zt,[],function(){function Y(D,N,E){var V,R;if(!D)return 0;if(E=E||D,D.length!==Ln){for(V=0,R=D.length;V<R;V++)if(!1===N.call(E,D[V],V,D))return 0}else for(V in D)if(D.hasOwnProperty(V)&&!1===N.call(E,D[V],V,D))return 0;return 1}function b(D,N,E){var V,R;for(V=0,R=D.length;V<R;V++)if(N.call(E,D[V],V,D))return V;return-1}var F=Array.isArray||function(D){return"[object Array]"===Object.prototype.toString.call(D)};return{isArray:F,toArray:function(D){var E,V,N=D;if(!F(D))for(N=[],E=0,V=D.length;E<V;E++)N[E]=D[E];return N},each:Y,map:function(D,N){var E=[];return Y(D,function(V,R){E.push(N(V,R,D))}),E},filter:function(D,N){var E=[];return Y(D,function(V,R){N&&!N(V,R,D)||E.push(V)}),E},indexOf:function(D,N){var E,V;if(D)for(E=0,V=D.length;E<V;E++)if(D[E]===N)return E;return-1},reduce:function(D,N,E,V){var R=0;for(arguments.length<3&&(E=D[0]);R<D.length;R++)E=N.call(V,E,D[R],R);return E},findIndex:b,find:function(D,N,E){var V=b(D,N,E);return-1!==V?D[V]:Ln},last:function(D){return D[D.length-1]}}}),Ye(ft,[Mt,zt],function(ee,Y){function z(R){return null===R||R===Ln?"":(""+R).replace(V,"")}function B(R,W){return W?!("array"!=W||!Y.isArray(R))||typeof R==W:R!==Ln}var V=/^\s*|\s*$/g;return{trim:z,isArray:Y.isArray,is:B,toArray:Y.toArray,makeMap:function(R,W,O){var $;for(W=W||",","string"==typeof(R=R||[])&&(R=R.split(W)),O=O||{},$=R.length;$--;)O[R[$]]={};return O},each:Y.each,map:Y.map,grep:Y.filter,inArray:Y.indexOf,hasOwn:function(R,W){return Object.prototype.hasOwnProperty.call(R,W)},extend:function(R,W){var O,$,A,M,P=arguments;for(O=1,$=P.length;O<$;O++)for(A in W=P[O])W.hasOwnProperty(A)&&(M=W[A])!==Ln&&(R[A]=M);return R},create:function(R,W,O){var A,P,M,x,_,$=this,H=0;if(R=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(R),M=R[3].match(/(^|\.)(\w+)$/i)[2],!(P=$.createNS(R[3].replace(/\.\w+$/,""),O))[M]){if("static"==R[2])return P[M]=W,void(this.onCreate&&this.onCreate(R[2],R[3],P[M]));W[M]||(W[M]=function(){},H=1),P[M]=W[M],$.extend(P[M].prototype,W),R[5]&&(A=$.resolve(R[5]).prototype,x=R[5].match(/\.(\w+)$/i)[1],_=P[M],P[M]=H?function(){return A[x].apply(this,arguments)}:function(){return this.parent=A[x],_.apply(this,arguments)},P[M].prototype[M]=P[M],$.each(A,function(X,U){P[M].prototype[U]=A[U]}),$.each(W,function(X,U){A[U]?P[M].prototype[U]=function(){return this.parent=A[U],X.apply(this,arguments)}:U!=M&&(P[M].prototype[U]=X)})),$.each(W.static,function(X,U){P[M][U]=X})}},walk:function S(R,W,O,$){$=$||this,R&&(O&&(R=R[O]),Y.each(R,function(A,P){return!1!==W.call($,A,P,O)&&void S(A,W,O,$)}))},createNS:function(R,W){var O,$;for(W=W||window,R=R.split("."),O=0;O<R.length;O++)W[$=R[O]]||(W[$]={}),W=W[$];return W},resolve:function(R,W){var O,$;for(W=W||window,O=0,$=(R=R.split(".")).length;O<$&&(W=W[R[O]]);O++);return W},explode:function(R,W){return!R||B(R,"array")?R:Y.map(R.split(W||","),z)},_addCacheSuffix:function(R){var W=ee.cacheSuffix;return W&&(R+=(-1===R.indexOf("?")?"?":"&")+W),R}}}),Ye(ot,[de,Me,ft,Mt],function(ee,Y,z,B){function C(ne){return void 0!==ne}function T(ne){return"string"==typeof ne}function w(ne,ce){var xe,Ie,Le;for(Le=(ce=ce||x).createElement("div"),xe=ce.createDocumentFragment(),Le.innerHTML=ne;Ie=Le.firstChild;)xe.appendChild(Ie);return xe}function S(ne,ce,xe,Ie){var Le;if(T(ce))ce=w(ce,O(ne[0]));else if(ce.length&&!ce.nodeType){if(ce=N.makeArray(ce),Ie)for(Le=ce.length-1;Le>=0;Le--)S(ne,ce[Le],xe,Ie);else for(Le=0;Le<ce.length;Le++)S(ne,ce[Le],xe,Ie);return ne}if(ce.nodeType)for(Le=ne.length;Le--;)xe.call(ne[Le],ce);return ne}function F(ne,ce){return ne&&ce&&-1!==(" "+ne.className+" ").indexOf(" "+ce+" ")}function D(ne,ce,xe){var Ie,Le;return ce=N(ce)[0],ne.each(function(){var ut=this;xe&&Ie==ut.parentNode||(Ie=ut.parentNode,Le=ce.cloneNode(!1),ut.parentNode.insertBefore(Le,ut)),Le.appendChild(ut)}),ne}function N(ne,ce){return new N.fn.init(ne,ce)}function V(ne){return null===ne||ne===J?"":(""+ne).replace(Ae,"")}function R(ne,ce){var xe,Ie,Le,Dt;if(ne)if(void 0===(xe=ne.length)){for(Ie in ne)if(ne.hasOwnProperty(Ie)&&!1===ce.call(Dt=ne[Ie],Ie,Dt))break}else for(Le=0;Le<xe&&!1!==ce.call(Dt=ne[Le],Le,Dt);Le++);return ne}function W(ne,ce){var xe=[];return R(ne,function(Ie,Le){ce(Le,Ie)&&xe.push(Le)}),xe}function O(ne){return ne?9==ne.nodeType?ne:ne.ownerDocument:x}function $(ne,ce,xe){var Ie=[],Le=ne[ce];for("string"!=typeof xe&&xe instanceof N&&(xe=xe[0]);Le&&9!==Le.nodeType&&(xe===Ln||!(Le===xe||"string"==typeof xe&&N(Le).is(xe)));)1===Le.nodeType&&Ie.push(Le),Le=Le[ce];return Ie}function A(ne,ce,xe,Ie){var Le=[];for(Ie instanceof N&&(Ie=Ie[0]);ne;ne=ne[ce])if(!xe||ne.nodeType===xe){if(Ie!==Ln&&(ne===Ie||"string"==typeof Ie&&N(ne).is(Ie)))break;Le.push(ne)}return Le}function P(ne,ce,xe){for(ne=ne[ce];ne;ne=ne[ce])if(ne.nodeType==xe)return ne;return null}function M(ne,ce,xe){R(xe,function(Ie,Le){ne[Ie]=ne[Ie]||{},ne[Ie][ce]=Le})}var J,x=document,_=Array.prototype.push,H=Array.prototype.slice,X=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,U=ee.Event,ie=z.makeMap("children,contents,next,prev"),ye=z.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),pe=z.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),fe={for:"htmlFor",class:"className",readonly:"readOnly"},ve={float:"cssFloat"},ge={},Te={},Ae=/^\s*|\s*$/g;return N.fn=N.prototype={constructor:N,selector:"",context:null,length:0,init:function(ne,ce){var Ie,Le,xe=this;if(!ne)return xe;if(ne.nodeType)return xe.context=xe[0]=ne,xe.length=1,xe;if(ce&&ce.nodeType)xe.context=ce;else{if(ce)return N(ne).attr(ce);xe.context=ce=document}if(T(ne)){if(xe.selector=ne,!(Ie="<"===ne.charAt(0)&&">"===ne.charAt(ne.length-1)&&ne.length>=3?[null,ne,null]:X.exec(ne)))return N(ce).find(ne);if(Ie[1])for(Le=w(ne,O(ce)).firstChild;Le;)_.call(xe,Le),Le=Le.nextSibling;else{if(!(Le=O(ce).getElementById(Ie[2])))return xe;if(Le.id!==Ie[2])return xe.find(ne);xe.length=1,xe[0]=Le}}else this.add(ne,!1);return xe},toArray:function(){return z.toArray(this)},add:function(ne,ce){var Ie,Le,xe=this;if(T(ne))return xe.add(N(ne));if(!1!==ce)for(Ie=N.unique(xe.toArray().concat(N.makeArray(ne))),xe.length=Ie.length,Le=0;Le<Ie.length;Le++)xe[Le]=Ie[Le];else _.apply(xe,N.makeArray(ne));return xe},attr:function(ne,ce){var Ie,xe=this;if("object"==typeof ne)R(ne,function(Le,ut){xe.attr(Le,ut)});else{if(!C(ce)){if(xe[0]&&1===xe[0].nodeType){if((Ie=ge[ne])&&Ie.get)return Ie.get(xe[0],ne);if(pe[ne])return xe.prop(ne)?ne:J;null===(ce=xe[0].getAttribute(ne,2))&&(ce=J)}return ce}this.each(function(){var Le;if(1===this.nodeType){if((Le=ge[ne])&&Le.set)return void Le.set(this,ce);null===ce?this.removeAttribute(ne,2):this.setAttribute(ne,ce,2)}})}return xe},removeAttr:function(ne){return this.attr(ne,null)},prop:function(ne,ce){var xe=this;if("object"==typeof(ne=fe[ne]||ne))R(ne,function(Ie,Le){xe.prop(Ie,Le)});else{if(!C(ce))return xe[0]&&xe[0].nodeType&&ne in xe[0]?xe[0][ne]:ce;this.each(function(){1==this.nodeType&&(this[ne]=ce)})}return xe},css:function(ne,ce){function xe(Vt){return Vt.replace(/-(\D)/g,function(Qt,jt){return jt.toUpperCase()})}function Ie(Vt){return Vt.replace(/[A-Z]/g,function(Qt){return"-"+Qt})}var ut,Dt,Le=this;if("object"==typeof ne)R(ne,function(Vt,Qt){Le.css(Vt,Qt)});else if(C(ce))ne=xe(ne),"number"!=typeof ce||ye[ne]||(ce+="px"),Le.each(function(){var Vt=this.style;if((Dt=Te[ne])&&Dt.set)Dt.set(this,ce);else{try{this.style[ve[ne]||ne]=ce}catch(Qt){}null!==ce&&""!==ce||(Vt.removeProperty?Vt.removeProperty(Ie(ne)):Vt.removeAttribute(ne))}});else{if(ut=Le[0],(Dt=Te[ne])&&Dt.get)return Dt.get(ut);if(ut.ownerDocument.defaultView)try{return ut.ownerDocument.defaultView.getComputedStyle(ut,null).getPropertyValue(Ie(ne))}catch(Vt){return J}else if(ut.currentStyle)return ut.currentStyle[xe(ne)]}return Le},remove:function(){for(var ce,xe=this.length;xe--;)U.clean(ce=this[xe]),ce.parentNode&&ce.parentNode.removeChild(ce);return this},empty:function(){for(var ce,xe=this.length;xe--;)for(ce=this[xe];ce.firstChild;)ce.removeChild(ce.firstChild);return this},html:function(ne){var xe,ce=this;if(C(ne)){xe=ce.length;try{for(;xe--;)ce[xe].innerHTML=ne}catch(Ie){N(ce[xe]).empty().append(ne)}return ce}return ce[0]?ce[0].innerHTML:""},text:function(ne){var xe,ce=this;if(C(ne)){for(xe=ce.length;xe--;)"innerText"in ce[xe]?ce[xe].innerText=ne:ce[0].textContent=ne;return ce}return ce[0]?ce[0].innerText||ce[0].textContent:""},append:function(){return S(this,arguments,function(ne){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(ne)})},prepend:function(){return S(this,arguments,function(ne){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(ne,this.firstChild)},!0)},before:function(){var ne=this;return ne[0]&&ne[0].parentNode?S(ne,arguments,function(ce){this.parentNode.insertBefore(ce,this)}):ne},after:function(){var ne=this;return ne[0]&&ne[0].parentNode?S(ne,arguments,function(ce){this.parentNode.insertBefore(ce,this.nextSibling)},!0):ne},appendTo:function(ne){return N(ne).append(this),this},prependTo:function(ne){return N(ne).prepend(this),this},replaceWith:function(ne){return this.before(ne).remove()},wrap:function(ne){return D(this,ne)},wrapAll:function(ne){return D(this,ne,!0)},wrapInner:function(ne){return this.each(function(){N(this).contents().wrapAll(ne)}),this},unwrap:function(){return this.parent().each(function(){N(this).replaceWith(this.childNodes)})},clone:function(){var ne=[];return this.each(function(){ne.push(this.cloneNode(!0))}),N(ne)},addClass:function(ne){return this.toggleClass(ne,!0)},removeClass:function(ne){return this.toggleClass(ne,!1)},toggleClass:function(ne,ce){var xe=this;return"string"!=typeof ne||(-1!==ne.indexOf(" ")?R(ne.split(" "),function(){xe.toggleClass(this,ce)}):xe.each(function(Ie,Le){var ut,Dt;(Dt=F(Le,ne))!==ce&&(ut=Le.className,Dt?Le.className=V((" "+ut+" ").replace(" "+ne+" "," ")):Le.className+=ut?" "+ne:ne)})),xe},hasClass:function(ne){return F(this[0],ne)},each:function(ne){return R(this,ne)},on:function(ne,ce){return this.each(function(){U.bind(this,ne,ce)})},off:function(ne,ce){return this.each(function(){U.unbind(this,ne,ce)})},trigger:function(ne){return this.each(function(){"object"==typeof ne?U.fire(this,ne.type,ne):U.fire(this,ne)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new N(H.apply(this,arguments))},eq:function(ne){return-1===ne?this.slice(ne):this.slice(ne,+ne+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(ne){var ce,xe,Ie=[];for(ce=0,xe=this.length;ce<xe;ce++)N.find(ne,this[ce],Ie);return N(Ie)},filter:function(ne){return N("function"==typeof ne?W(this.toArray(),function(ce,xe){return ne(xe,ce)}):N.filter(ne,this.toArray()))},closest:function(ne){var ce=[];return ne instanceof N&&(ne=ne[0]),this.each(function(xe,Ie){for(;Ie;){if("string"==typeof ne&&N(Ie).is(ne)){ce.push(Ie);break}if(Ie==ne){ce.push(Ie);break}Ie=Ie.parentNode}}),N(ce)},offset:function(ne){var ce,xe,Ie,Dt,Le=0,ut=0;return ne?this.css(ne):((ce=this[0])&&(Ie=(xe=ce.ownerDocument).documentElement,ce.getBoundingClientRect&&(Le=(Dt=ce.getBoundingClientRect()).left+(Ie.scrollLeft||xe.body.scrollLeft)-Ie.clientLeft,ut=Dt.top+(Ie.scrollTop||xe.body.scrollTop)-Ie.clientTop)),{left:Le,top:ut})},push:_,sort:[].sort,splice:[].splice},z.extend(N,{extend:z.extend,makeArray:function(ne){return function(ne){return ne&&ne==ne.window}(ne)||ne.nodeType?[ne]:z.toArray(ne)},inArray:function(ne,ce){var xe;if(ce.indexOf)return ce.indexOf(ne);for(xe=ce.length;xe--;)if(ce[xe]===ne)return xe;return-1},isArray:z.isArray,each:R,trim:V,grep:W,find:Y,expr:Y.selectors,unique:Y.uniqueSort,text:Y.getText,contains:Y.contains,filter:function(ne,ce,xe){var Ie=ce.length;for(xe&&(ne=":not("+ne+")");Ie--;)1!=ce[Ie].nodeType&&ce.splice(Ie,1);return 1===ce.length?N.find.matchesSelector(ce[0],ne)?[ce[0]]:[]:N.find.matches(ne,ce)}}),R({parent:function(ne){var ce=ne.parentNode;return ce&&11!==ce.nodeType?ce:null},parents:function(ne){return $(ne,"parentNode")},next:function(ne){return P(ne,"nextSibling",1)},prev:function(ne){return P(ne,"previousSibling",1)},children:function(ne){return A(ne.firstChild,"nextSibling",1)},contents:function(ne){return z.toArray(("iframe"===ne.nodeName?ne.contentDocument||ne.contentWindow.document:ne).childNodes)}},function(ne,ce){N.fn[ne]=function(xe){var Le=[];return this.each(function(){var ut=ce.call(Le,this,xe,Le);ut&&(N.isArray(ut)?Le.push.apply(Le,ut):Le.push(ut))}),this.length>1&&(ie[ne]||(Le=N.unique(Le)),0===ne.indexOf("parents")&&(Le=Le.reverse())),Le=N(Le),xe?Le.filter(xe):Le}}),R({parentsUntil:function(ne,ce){return $(ne,"parentNode",ce)},nextUntil:function(ne,ce){return A(ne,"nextSibling",1,ce).slice(1)},prevUntil:function(ne,ce){return A(ne,"previousSibling",1,ce).slice(1)}},function(ne,ce){N.fn[ne]=function(xe,Ie){var ut=[];return this.each(function(){var Dt=ce.call(ut,this,xe,ut);Dt&&(N.isArray(Dt)?ut.push.apply(ut,Dt):ut.push(Dt))}),this.length>1&&(ut=N.unique(ut),0!==ne.indexOf("parents")&&"prevUntil"!==ne||(ut=ut.reverse())),ut=N(ut),Ie?ut.filter(Ie):ut}}),N.fn.is=function(ne){return!!ne&&this.filter(ne).length>0},N.fn.init.prototype=N.fn,N.overrideDefaults=function(ne){function ce(Ie,Le){return xe=xe||ne(),0===arguments.length&&(Ie=xe.element),Le||(Le=xe.context),new ce.fn.init(Ie,Le)}var xe;return N.extend(ce,this),ce},B.ie&&B.ie<8&&(M(ge,"get",{maxlength:function(ne){var ce=ne.maxLength;return 2147483647===ce?J:ce},size:function(ne){var ce=ne.size;return 20===ce?J:ce},class:function(ne){return ne.className},style:function(ne){var ce=ne.style.cssText;return 0===ce.length?J:ce}}),M(ge,"set",{class:function(ne,ce){ne.className=ce},style:function(ne,ce){ne.style.cssText=ce}})),B.ie&&B.ie<9&&(ve.float="styleFloat",M(Te,"set",{opacity:function(ne,ce){var xe=ne.style;null===ce||""===ce?xe.removeAttribute("filter"):(xe.zoom=1,xe.filter="alpha(opacity="+100*ce+")")}})),N.attrHooks=ge,N.cssHooks=Te,N}),Ye(Ne,[],function(){return function(ee,Y){function z(V,R,W,O){function $(A){return(A=parseInt(A,10).toString(16)).length>1?A:"0"+A}return"#"+$(R)+$(W)+$(O)}var w,F,D,N,B=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,C=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,T=/\s*([^:]+):\s*([^;]+);?/g,b=/\s+$/,S={};for(ee=ee||{},Y&&(D=Y.getValidStyles(),N=Y.getInvalidStyles()),F="\\\" \\' \\; \\: ; : \ufeff".split(" "),w=0;w<F.length;w++)S[F[w]]="\ufeff"+w,S["\ufeff"+w]=F[w];return{toHex:function(V){return V.replace(B,z)},parse:function(V){function R(pe,fe,ve){var ge,Te,Ae,ne;if((ge=_[pe+"-top"+fe])&&(Te=_[pe+"-right"+fe])&&(Ae=_[pe+"-bottom"+fe])&&(ne=_[pe+"-left"+fe])){var ce=[ge,Te,Ae,ne];for(w=ce.length-1;w--&&ce[w]===ce[w+1];);w>-1&&ve||(_[pe+fe]=-1==w?ce[0]:ce.join(" "),delete _[pe+"-top"+fe],delete _[pe+"-right"+fe],delete _[pe+"-bottom"+fe],delete _[pe+"-left"+fe])}}function W(pe){var ve,fe=_[pe];if(fe){for(ve=(fe=fe.split(" ")).length;ve--;)if(fe[ve]!==fe[0])return!1;return _[pe]=fe[0],!0}}function $(pe){return J=!0,S[pe]}function A(pe,fe){return J&&(pe=pe.replace(/\uFEFF[0-9]/g,function(ve){return S[ve]})),fe||(pe=pe.replace(/\\([\'\";:])/g,"$1")),pe}function P(pe){return String.fromCharCode(parseInt(pe.slice(1),16))}function M(pe){return pe.replace(/\\[0-9a-f]+/gi,P)}function x(pe,fe,ve,ge,Te,Ae){if(Te=Te||Ae)return"'"+(Te=A(Te)).replace(/\'/g,"\\'")+"'";if(fe=A(fe||ve||ge),!ee.allow_script_urls){var ne=fe.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ne)||!ee.allow_svg_data_urls&&/^data:image\/svg/i.test(ne))return""}return ie&&(fe=ie.call(ye,fe,"style")),"url('"+fe.replace(/\'/g,"\\'")+"')"}var H,X,U,J,fe,ve,ge,_={},ie=ee.url_converter,ye=ee.url_converter_scope||this;if(V){for(V=(V=V.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,$).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(pe){return pe.replace(/[;:]/g,$)});H=T.exec(V);)if(T.lastIndex=H.index+H[0].length,X=H[1].replace(b,"").toLowerCase(),U=H[2].replace(b,""),X&&U){if(X=M(X),U=M(U),-1!==X.indexOf("\ufeff")||-1!==X.indexOf('"')||!ee.allow_script_urls&&("behavior"==X||/expression\s*\(|\/\*|\*\//.test(U)))continue;"font-weight"===X&&"700"===U?U="bold":"color"!==X&&"background-color"!==X||(U=U.toLowerCase()),U=(U=U.replace(B,z)).replace(C,x),_[X]=J?A(U,!0):U}R("border","",!0),R("border","-width"),R("border","-color"),R("border","-style"),R("padding",""),R("margin",""),"border",ve="border-style",ge="border-color",W(fe="border-width")&&W(ve)&&W(ge)&&(_.border=_[fe]+" "+_[ve]+" "+_[ge],delete _[fe],delete _[ve],delete _[ge]),"medium none"===_.border&&delete _.border,"none"===_["border-image"]&&delete _["border-image"]}return _},serialize:function(V,R){function W(M){var x,_,H,X;if(x=D[M])for(_=0,H=x.length;_<H;_++)(X=V[M=x[_]])&&($+=($.length>0?" ":"")+M+": "+X+";")}var A,P,M,_,$="";if(R&&D)W("*"),W(R);else for(A in V)!(P=V[A])||N&&(M=A,_=void 0,(_=N["*"])&&_[M]||(_=N[R])&&_[M])||($+=($.length>0?" ":"")+A+": "+P+";");return $}}}}),Ye(me,[],function(){return function(ee,Y){function z(T,b,w,S){var F,D;if(T){if(!S&&T[b])return T[b];if(T!=Y){if(F=T[w])return F;for(D=T.parentNode;D&&D!=Y;D=D.parentNode)if(F=D[w])return F}}}var C=ee;this.current=function(){return C},this.next=function(T){return C=z(C,"firstChild","nextSibling",T)},this.prev=function(T){return C=z(C,"lastChild","previousSibling",T)},this.prev2=function(T){return C=function(T,b,w,S){var F,D,N;if(T){if(F=T.previousSibling,Y&&F===Y)return;if(F){if(!S)for(N=F[b];N;N=N[b])if(!N[b])return N;return F}if((D=T.parentNode)&&D!==Y)return D}}(C,"lastChild",0,T)}}}),Ye(at,[ft],function(ee){function Y(z){function B(){return ne.createDocumentFragment()}function C(re,Ce){H(Le,re,Ce)}function T(re,Ce){H(ut,re,Ce)}function b(re){C(re.parentNode,oe(re))}function F(re){T(re.parentNode,oe(re)+1)}function O(){return X(xe)}function M(re,Ce){var He;if(3==re.nodeType||Ce<0)return re;for(He=re.firstChild;He&&Ce>0;)--Ce,He=He.nextSibling;return He||re}function _(re,Ce,He,nt){var rt,je,St,ct,wt,yt;if(re==He)return Ce==nt?0:Ce<nt?-1:1;for(rt=He;rt&&rt.parentNode!=re;)rt=rt.parentNode;if(rt){for(je=0,St=re.firstChild;St!=rt&&je<Ce;)je++,St=St.nextSibling;return Ce<=je?-1:1}for(rt=re;rt&&rt.parentNode!=He;)rt=rt.parentNode;if(rt){for(je=0,St=He.firstChild;St!=rt&&je<nt;)je++,St=St.nextSibling;return je<nt?-1:1}for(ct=z.findCommonAncestor(re,He),wt=re;wt&&wt.parentNode!=ct;)wt=wt.parentNode;for(wt||(wt=ct),yt=He;yt&&yt.parentNode!=ct;)yt=yt.parentNode;if(yt||(yt=ct),wt==yt)return 0;for(St=ct.firstChild;St;){if(St==wt)return-1;if(St==yt)return 1;St=St.nextSibling}}function H(re,Ce,He){var nt,rt;for(re?(Ae[Vt]=Ce,Ae[Dt]=He):(Ae[Qt]=Ce,Ae[jt]=He),nt=Ae[Qt];nt.parentNode;)nt=nt.parentNode;for(rt=Ae[Vt];rt.parentNode;)rt=rt.parentNode;rt==nt?_(Ae[Vt],Ae[Dt],Ae[Qt],Ae[jt])>0&&Ae.collapse(re):Ae.collapse(re),Ae.collapsed=Ae[Vt]==Ae[Qt]&&Ae[Dt]==Ae[jt],Ae.commonAncestorContainer=z.findCommonAncestor(Ae[Vt],Ae[Qt])}function X(re){var Ce,rt,je,St,ct,wt,yt,He=0,nt=0;if(Ae[Vt]==Ae[Qt])return function(re){var Ce,nt,rt,je,St,ct,wt,yt;if(re!=Ie&&(Ce=B()),Ae[Dt]==Ae[jt])return Ce;if(3==Ae[Vt].nodeType)return nt=Ae[Vt].nodeValue.substring(Ae[Dt],Ae[jt]),re!=xe&&(rt=Ae[Vt],yt=Ae[jt]-Ae[Dt],0===(wt=Ae[Dt])&&yt>=rt.nodeValue.length-1?rt.parentNode.removeChild(rt):rt.deleteData(wt,yt),Ae.collapse(Le)),re==Ie?void 0:(nt.length>0&&Ce.appendChild(ne.createTextNode(nt)),Ce);for(rt=M(Ae[Vt],Ae[Dt]),je=Ae[jt]-Ae[Dt];rt&&je>0;)St=rt.nextSibling,ct=ge(rt,re),Ce&&Ce.appendChild(ct),--je,rt=St;return re!=xe&&Ae.collapse(Le),Ce}(re);for(rt=(Ce=Ae[Qt]).parentNode;rt;Ce=rt,rt=rt.parentNode){if(rt==Ae[Vt])return J(Ce,re);++He}for(rt=(Ce=Ae[Vt]).parentNode;rt;Ce=rt,rt=rt.parentNode){if(rt==Ae[Qt])return ie(Ce,re);++nt}for(je=nt-He,St=Ae[Vt];je>0;)St=St.parentNode,je--;for(ct=Ae[Qt];je<0;)ct=ct.parentNode,je++;for(wt=St.parentNode,yt=ct.parentNode;wt!=yt;wt=wt.parentNode,yt=yt.parentNode)St=wt,ct=yt;return function(re,Ce,He){var nt,rt,je,ct,wt,yt;for(He!=Ie&&(rt=B()),nt=fe(re,He),rt&&rt.appendChild(nt),je=oe(re),ct=oe(Ce)-++je,wt=re.nextSibling;ct>0;)yt=wt.nextSibling,nt=ge(wt,He),rt&&rt.appendChild(nt),wt=yt,--ct;return nt=pe(Ce,He),rt&&rt.appendChild(nt),He!=xe&&(Ae.setStartAfter(re),Ae.collapse(Le)),rt}(St,ct,re)}function J(re,Ce){var He,nt,je,St,ct;if(Ce!=Ie&&(He=B()),nt=pe(re,Ce),He&&He.appendChild(nt),(je=oe(re)-Ae[Dt])<=0)return Ce!=xe&&(Ae.setEndBefore(re),Ae.collapse(ut)),He;for(nt=re.previousSibling;je>0;)St=nt.previousSibling,ct=ge(nt,Ce),He&&He.insertBefore(ct,He.firstChild),--je,nt=St;return Ce!=xe&&(Ae.setEndBefore(re),Ae.collapse(ut)),He}function ie(re,Ce){var He,nt,rt,je,St,ct;for(Ce!=Ie&&(He=B()),rt=fe(re,Ce),He&&He.appendChild(rt),nt=oe(re),++nt,je=Ae[jt]-nt,rt=re.nextSibling;rt&&je>0;)St=rt.nextSibling,ct=ge(rt,Ce),He&&He.appendChild(ct),--je,rt=St;return Ce!=xe&&(Ae.setStartAfter(re),Ae.collapse(Le)),He}function pe(re,Ce){var nt,rt,je,St,ct,He=M(Ae[Qt],Ae[jt]-1),wt=He!=Ae[Qt];if(He==re)return ve(He,wt,ut,Ce);for(rt=ve(nt=He.parentNode,ut,ut,Ce);nt;){for(;He;)je=He.previousSibling,St=ve(He,wt,ut,Ce),Ce!=Ie&&rt.insertBefore(St,rt.firstChild),wt=Le,He=je;if(nt==re)return rt;He=nt.previousSibling,ct=ve(nt=nt.parentNode,ut,ut,Ce),Ce!=Ie&&ct.appendChild(rt),rt=ct}}function fe(re,Ce){var rt,je,St,ct,wt,He=M(Ae[Vt],Ae[Dt]),nt=He!=Ae[Vt];if(He==re)return ve(He,nt,Le,Ce);for(je=ve(rt=He.parentNode,ut,Le,Ce);rt;){for(;He;)St=He.nextSibling,ct=ve(He,nt,Le,Ce),Ce!=Ie&&je.appendChild(ct),nt=Le,He=St;if(rt==re)return je;He=rt.nextSibling,wt=ve(rt=rt.parentNode,ut,Le,Ce),Ce!=Ie&&wt.appendChild(je),je=wt}}function ve(re,Ce,He,nt){var rt,je,St,ct,wt;return Ce?ge(re,nt):3==re.nodeType?(rt=re.nodeValue,He?(je=rt.substring(ct=Ae[Dt]),St=rt.substring(0,ct)):(je=rt.substring(0,ct=Ae[jt]),St=rt.substring(ct)),nt!=xe&&(re.nodeValue=St),nt==Ie?void 0:((wt=z.clone(re,ut)).nodeValue=je,wt)):nt!=Ie?z.clone(re,ut):void 0}function ge(re,Ce){return Ce!=Ie?Ce==xe?z.clone(re,Le):re:void re.parentNode.removeChild(re)}var Ae=this,ne=z.doc,xe=1,Ie=2,Le=!0,ut=!1,Dt="startOffset",Vt="startContainer",Qt="endContainer",jt="endOffset",Pe=ee.extend,oe=z.nodeIndex;return Pe(Ae,{startContainer:ne,startOffset:0,endContainer:ne,endOffset:0,collapsed:Le,commonAncestorContainer:ne,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:C,setEnd:T,setStartBefore:b,setStartAfter:function(re){C(re.parentNode,oe(re)+1)},setEndBefore:function(re){T(re.parentNode,oe(re))},setEndAfter:F,collapse:function(re){re?(Ae[Qt]=Ae[Vt],Ae[jt]=Ae[Dt]):(Ae[Vt]=Ae[Qt],Ae[Dt]=Ae[jt]),Ae.collapsed=Le},selectNode:function(re){b(re),F(re)},selectNodeContents:function(re){C(re,0),T(re,1===re.nodeType?re.childNodes.length:re.nodeValue.length)},compareBoundaryPoints:function(re,Ce){var He=Ae[Vt],nt=Ae[Dt],rt=Ae[Qt],je=Ae[jt],St=Ce.startContainer,ct=Ce.startOffset,wt=Ce.endContainer,yt=Ce.endOffset;return 0===re?_(He,nt,St,ct):1===re?_(rt,je,St,ct):2===re?_(rt,je,wt,yt):3===re?_(He,nt,wt,yt):void 0},deleteContents:function(){X(Ie)},extractContents:function(){return X(0)},cloneContents:O,insertNode:function(re){var nt,rt,Ce=this[Vt],He=this[Dt];3!==Ce.nodeType&&4!==Ce.nodeType||!Ce.nodeValue?(Ce.childNodes.length>0&&(rt=Ce.childNodes[He]),rt?Ce.insertBefore(re,rt):3==Ce.nodeType?z.insertAfter(re,Ce):Ce.appendChild(re)):He?He>=Ce.nodeValue.length?z.insertAfter(re,Ce):(nt=Ce.splitText(He),Ce.parentNode.insertBefore(re,nt)):Ce.parentNode.insertBefore(re,Ce)},surroundContents:function(re){var Ce=Ae.extractContents();Ae.insertNode(re),re.appendChild(Ce),Ae.selectNode(re)},cloneRange:function(){return Pe(new Y(z),{startContainer:Ae[Vt],startOffset:Ae[Dt],endContainer:Ae[Qt],endOffset:Ae[jt],collapsed:Ae.collapsed,commonAncestorContainer:Ae.commonAncestorContainer})},toStringIE:function(){return z.create("body",null,O()).outerText}}),Ae}return Y.prototype.toString=function(){return this.toStringIE()},Y}),Ye(ze,[ft],function(ee){function z(V,R){var W,O,$,A={};if(V){for(V=V.split(","),R=R||10,W=0;W<V.length;W+=2)O=String.fromCharCode(parseInt(V[W],R)),T[O]||(A[O]=$="&"+V[W+1]+";",A[$]=O);return A}}var C,T,b,B=ee.makeMap,w=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,S=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,F=/[<>&\"\']/g,D=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,N={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};T={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},b={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},C=z("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var E={encodeRaw:function(V,R){return V.replace(R?w:S,function(W){return T[W]||W})},encodeAllRaw:function(V){return(""+V).replace(F,function(R){return T[R]||R})},encodeNumeric:function(V,R){return V.replace(R?w:S,function(W){return W.length>1?"&#"+(1024*(W.charCodeAt(0)-55296)+(W.charCodeAt(1)-56320)+65536)+";":T[W]||"&#"+W.charCodeAt(0)+";"})},encodeNamed:function(V,R,W){return W=W||C,V.replace(R?w:S,function(O){return T[O]||W[O]||O})},getEncodeFunc:function(V,R){return R=z(R)||C,(V=B(V.replace(/\+/g,","))).named&&V.numeric?function($,A){return $.replace(A?w:S,function(P){return T[P]||R[P]||"&#"+P.charCodeAt(0)+";"||P})}:V.named?R?function($,A){return E.encodeNamed($,A,R)}:E.encodeNamed:V.numeric?E.encodeNumeric:E.encodeRaw},decode:function(V){return V.replace(D,function(R,W){return W?(W="x"===W.charAt(0).toLowerCase()?parseInt(W.substr(1),16):parseInt(W,10))>65535?(W-=65536,String.fromCharCode(55296+(W>>10),56320+(1023&W))):N[W]||String.fromCharCode(W):b[R]||C[R]||function(V){var R;return(R=document.createElement("div")).innerHTML=V,R.textContent||R.innerText||V}(R)})}};return E}),Ye(Oe,[ft,Ke],function(ee,Y){return function(z,B){function C(F){z.getElementsByTagName("head")[0].appendChild(F)}var S,b=0,w={};S=(B=B||{}).maxLoadTime||5e3,this.load=function(F,D,N){function E(){for(var _=x.passed,H=_.length;H--;)_[H]();x.status=2,x.passed=[],x.failed=[]}function V(){for(var _=x.failed,H=_.length;H--;)_[H]();x.status=3,x.passed=[],x.failed=[]}function W(_,H){_()||((new Date).getTime()-M<S?Y.setTimeout(H):V())}function O(){W(function(){for(var H,U,_=z.styleSheets,X=_.length;X--;)if((U=(H=_[X]).ownerNode?H.ownerNode:H.owningElement)&&U.id===A.id)return E(),!0},O)}var A,P,M,x,_;if(F=ee._addCacheSuffix(F),w[F]?x=w[F]:w[F]=x={passed:[],failed:[]},D&&x.passed.push(D),N&&x.failed.push(N),1!=x.status){if(2==x.status)return void E();if(3==x.status)return void V();if(x.status=1,(A=z.createElement("link")).rel="stylesheet",A.type="text/css",A.id="u"+b++,A.async=!1,A.defer=!1,M=(new Date).getTime(),!("onload"in A)||(_=navigator.userAgent.match(/WebKit\/(\d*)/))&&_[1]<536){if(navigator.userAgent.indexOf("Firefox")>0)return(P=z.createElement("style")).textContent='@import "'+F+'"',function $(){W(function(){try{var _=P.sheet.cssRules;return E(),!!_}catch(H){}},$)}(),void C(P);O()}else A.onload=O,A.onerror=V;C(A),A.href=F}}}}),Ye($e,[Me,ot,Ne,de,me,at,ze,Mt,ft,Oe],function(ee,Y,z,B,C,T,b,w,S,F){function N(x,_){var H=_.attr("style");(H=x.serializeStyle(x.parseStyle(H),_[0].nodeName))||(H=null),_.attr("data-mce-style",H)}function E(x,_){var X,U,H=0;if(x)for(X=x.nodeType,x=x.previousSibling;x;x=x.previousSibling)U=x.nodeType,(!_||3!=U||U!=X&&x.nodeValue.length)&&(H++,X=U);return H}function V(x,_){var X,H=this;H.doc=x,H.win=window,H.files={},H.counter=0,H.stdMode=!A||x.documentMode>=8,H.boxModel=!A||"CSS1Compat"==x.compatMode||H.stdMode,H.styleSheetLoader=new F(x),H.boundEvents=[],H.settings=_=_||{},H.schema=_.schema,H.styles=new z({url_converter:_.url_converter,url_converter_scope:_.url_converter_scope},_.schema),H.fixDoc(x),H.events=_.ownEvents?new B(_.proxy):B.Event,H.attrHooks=function(x,_){var H={},X=_.keep_values;return H={style:{set:function(J,ie){return null!==ie&&"object"==typeof ie?void J.css(ie):(X&&J.attr("data-mce-style",ie),void J.attr("style",ie))},get:function(J){var ie=J.attr("data-mce-style")||J.attr("style");return x.serializeStyle(x.parseStyle(ie),J[0].nodeName)}}},X&&(H.href=H.src={set:function(J,ie,ye){_.url_converter&&(ie=_.url_converter.call(_.url_converter_scope||x,ie,ye,J[0])),J.attr("data-mce-"+ye,ie).attr(ye,ie)},get:function(J,ie){return J.attr("data-mce-"+ie)||J.attr(ie)}}),H}(H,_),X=_.schema?_.schema.getBlockElements():{},H.$=Y.overrideDefaults(function(){return{context:x,element:H.getRoot()}}),H.isBlock=function(U){if(!U)return!1;var J=U.nodeType;return J?!(1!==J||!X[U.nodeName]):!!X[U]}}var R=S.each,W=S.is,O=S.grep,$=S.trim,A=w.ie,P=/^([a-z0-9],?)+$/i,M=/^[ \t\r\n]*$/;return V.prototype={$$:function(x){return"string"==typeof x&&(x=this.get(x)),this.$(x)},root:null,fixDoc:function(x){var H,_=this.settings;if(A&&_.schema)for(H in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(X){x.createElement(X)}),_.schema.getCustomElements())x.createElement(H)},clone:function(x,_){var X,H=this;return!A||1!==x.nodeType||_?x.cloneNode(_):_?X.firstChild:(X=H.doc.createElement(x.nodeName),R(H.getAttribs(x),function(J){H.setAttrib(X,J.nodeName,H.getAttrib(x,J.nodeName))}),X)},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(x){var _,H;return _=(x=x||this.win).document,H=this.boxModel?_.documentElement:_.body,{x:x.pageXOffset||H.scrollLeft,y:x.pageYOffset||H.scrollTop,w:x.innerWidth||H.clientWidth,h:x.innerHeight||H.clientHeight}},getRect:function(x){var H,X,_=this;return x=_.get(x),H=_.getPos(x),X=_.getSize(x),{x:H.x,y:H.y,w:X.w,h:X.h}},getSize:function(x){var H,X,_=this;return x=_.get(x),H=_.getStyle(x,"width"),X=_.getStyle(x,"height"),-1===H.indexOf("px")&&(H=0),-1===X.indexOf("px")&&(X=0),{w:parseInt(H,10)||x.offsetWidth||x.clientWidth,h:parseInt(X,10)||x.offsetHeight||x.clientHeight}},getParent:function(x,_,H){return this.getParents(x,_,H,!1)},getParents:function(x,_,H,X){var J,U=this,ie=[];for(x=U.get(x),X=X===Ln,H=H||("BODY"!=U.getRoot().nodeName?U.getRoot().parentNode:null),W(_,"string")&&(J=_,_="*"===_?function(ye){return 1==ye.nodeType}:function(ye){return U.is(ye,J)});x&&x!=H&&x.nodeType&&9!==x.nodeType;){if(!_||_(x)){if(!X)return x;ie.push(x)}x=x.parentNode}return X?ie:null},get:function(x){var _;return x&&this.doc&&"string"==typeof x&&(_=x,(x=this.doc.getElementById(x))&&x.id!==_)?this.doc.getElementsByName(_)[1]:x},getNext:function(x,_){return this._findSib(x,_,"nextSibling")},getPrev:function(x,_){return this._findSib(x,_,"previousSibling")},select:function(x,_){var H=this;return ee(x,H.get(_)||H.settings.root_element||H.doc,[])},is:function(x,_){var H;if(x.length===Ln){if("*"===_)return 1==x.nodeType;if(P.test(_)){for(_=_.toLowerCase().split(/,/),x=x.nodeName.toLowerCase(),H=_.length-1;H>=0;H--)if(_[H]==x)return!0;return!1}}if(x.nodeType&&1!=x.nodeType)return!1;var X=x.nodeType?[x]:x;return ee(_,X[0].ownerDocument||X[0],null,X).length>0},add:function(x,_,H,X,U){var J=this;return this.run(x,function(ie){var ye;return ye=W(_,"string")?J.doc.createElement(_):_,J.setAttribs(ye,H),X&&(X.nodeType?ye.appendChild(X):J.setHTML(ye,X)),U?ye:ie.appendChild(ye)})},create:function(x,_,H){return this.add(this.doc.createElement(x),x,_,H,1)},createHTML:function(x,_,H){var U,X="";for(U in X+="<"+x,_)_.hasOwnProperty(U)&&null!=_[U]&&(X+=" "+U+'="'+this.encode(_[U])+'"');return void 0!==H?X+">"+H+"</"+x+">":X+" />"},createFragment:function(x){var _,H,U,X=this.doc;for(U=X.createElement("div"),_=X.createDocumentFragment(),x&&(U.innerHTML=x);H=U.firstChild;)_.appendChild(H);return _},remove:function(x,_){return x=this.$$(x),_?x.each(function(){for(var H;H=this.firstChild;)3==H.nodeType&&0===H.data.length?this.removeChild(H):this.parentNode.insertBefore(H,this)}).remove():x.remove(),x.length>1?x.toArray():x[0]},setStyle:function(x,_,H){x=this.$$(x).css(_,H),this.settings.update_styles&&N(this,x)},getStyle:function(x,_,H){return x=this.$$(x),H?x.css(_):("float"==(_=_.replace(/-(\D)/g,function(X,U){return U.toUpperCase()}))&&(_=w.ie&&w.ie<12?"styleFloat":"cssFloat"),x[0]&&x[0].style?x[0].style[_]:Ln)},setStyles:function(x,_){x=this.$$(x).css(_),this.settings.update_styles&&N(this,x)},removeAllAttribs:function(x){return this.run(x,function(_){var H,X=_.attributes;for(H=X.length-1;H>=0;H--)_.removeAttributeNode(X.item(H))})},setAttrib:function(x,_,H){var U,J,X=this,ie=X.settings;""===H&&(H=null),U=(x=X.$$(x)).attr(_),x.length&&((J=X.attrHooks[_])&&J.set?J.set(x,H,_):x.attr(_,H),U!=H&&ie.onSetAttrib&&ie.onSetAttrib({attrElm:x,attrName:_,attrValue:H}))},setAttribs:function(x,_){var H=this;H.$$(x).each(function(X,U){R(_,function(J,ie){H.setAttrib(U,ie,J)})})},getAttrib:function(x,_,H){var U,J;return(x=this.$$(x)).length&&(J=(U=this.attrHooks[_])&&U.get?U.get(x,_):x.attr(_)),void 0===J&&(J=H||""),J},getPos:function(x,_){var J,pe,H=this,X=0,U=0,ie=H.doc,ye=ie.body;if(_=_||ye,x=H.get(x)){if(_===ye&&x.getBoundingClientRect&&"static"===Y(ye).css("position"))return{x:X=(pe=x.getBoundingClientRect()).left+(ie.documentElement.scrollLeft||ye.scrollLeft)-(_=H.boxModel?ie.documentElement:ye).clientLeft,y:U=pe.top+(ie.documentElement.scrollTop||ye.scrollTop)-_.clientTop};for(J=x;J&&J!=_&&J.nodeType;)X+=J.offsetLeft||0,U+=J.offsetTop||0,J=J.offsetParent;for(J=x.parentNode;J&&J!=_&&J.nodeType;)X-=J.scrollLeft||0,U-=J.scrollTop||0,J=J.parentNode}return{x:X,y:U}},parseStyle:function(x){return this.styles.parse(x)},serializeStyle:function(x,_){return this.styles.serialize(x,_)},addStyle:function(x){var X,U,H=this.doc;if(this!==V.DOM&&H===document){var J=V.DOM.addedStyles;if((J=J||[])[x])return;J[x]=!0,V.DOM.addedStyles=J}(U=H.getElementById("mceDefaultStyles"))||((U=H.createElement("style")).id="mceDefaultStyles",U.type="text/css",(X=H.getElementsByTagName("head")[0]).firstChild?X.insertBefore(U,X.firstChild):X.appendChild(U)),U.styleSheet?U.styleSheet.cssText+=x:U.appendChild(H.createTextNode(x))},loadCSS:function(x){var X,_=this,H=_.doc;return _!==V.DOM&&H===document?void V.DOM.loadCSS(x):(x||(x=""),X=H.getElementsByTagName("head")[0],void R(x.split(","),function(U){var J;U=S._addCacheSuffix(U),_.files[U]||(_.files[U]=!0,J=_.create("link",{rel:"stylesheet",href:U}),A&&H.documentMode&&H.recalc&&(J.onload=function(){H.recalc&&H.recalc(),J.onload=null}),X.appendChild(J))}))},addClass:function(x,_){this.$$(x).addClass(_)},removeClass:function(x,_){this.toggleClass(x,_,!1)},hasClass:function(x,_){return this.$$(x).hasClass(_)},toggleClass:function(x,_,H){this.$$(x).toggleClass(_,H).each(function(){""===this.className&&Y(this).attr("class",null)})},show:function(x){this.$$(x).show()},hide:function(x){this.$$(x).hide()},isHidden:function(x){return"none"==this.$$(x).css("display")},uniqueId:function(x){return(x||"mce_")+this.counter++},setHTML:function(x,_){x=this.$$(x),A?x.each(function(H,X){if(!1!==X.canHaveHTML){for(;X.firstChild;)X.removeChild(X.firstChild);try{X.innerHTML="<br>"+_,X.removeChild(X.firstChild)}catch(U){Y("<div></div>").html("<br>"+_).contents().slice(1).appendTo(X)}return _}}):x.html(_)},getOuterHTML:function(x){return 1==(x=this.get(x)).nodeType&&"outerHTML"in x?x.outerHTML:Y("<div></div>").append(Y(x).clone()).html()},setOuterHTML:function(x,_){var H=this;H.$$(x).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=_)}catch(X){}H.remove(Y(this).html(_),!0)})},decode:b.decode,encode:b.encodeAllRaw,insertAfter:function(x,_){return _=this.get(_),this.run(x,function(H){var X,U;return X=_.parentNode,(U=_.nextSibling)?X.insertBefore(H,U):X.appendChild(H),H})},replace:function(x,_,H){return this.run(_,function(U){return W(U,"array")&&(x=x.cloneNode(!0)),H&&R(O(U.childNodes),function(J){x.appendChild(J)}),U.parentNode.replaceChild(x,U)})},rename:function(x,_){var X,H=this;return x.nodeName!=_.toUpperCase()&&(X=H.create(_),R(H.getAttribs(x),function(U){H.setAttrib(X,U.nodeName,H.getAttrib(x,U.nodeName))}),H.replace(X,x,1)),X||x},findCommonAncestor:function(x,_){for(var X,H=x;H;){for(X=_;X&&H!=X;)X=X.parentNode;if(H==X)break;H=H.parentNode}return!H&&x.ownerDocument?x.ownerDocument.documentElement:H},toHex:function(x){return this.styles.toHex(S.trim(x))},run:function(x,_,H){var U,X=this;return"string"==typeof x&&(x=X.get(x)),!!x&&(H=H||this,x.nodeType||!x.length&&0!==x.length?_.call(H,x):(U=[],R(x,function(J,ie){J&&("string"==typeof J&&(J=X.get(J)),U.push(_.call(H,J,ie)))}),U))},getAttribs:function(x){var _;return(x=this.get(x))?A?(_=[],"OBJECT"==x.nodeName?x.attributes:("OPTION"===x.nodeName&&this.getAttrib(x,"selected")&&_.push({specified:1,nodeName:"selected"}),x.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(X){_.push({specified:1,nodeName:X})}),_)):x.attributes:[]},isEmpty:function(x,_){var X,U,J,ie,ye,pe,H=this,fe=0;if(x=x.firstChild){ye=new C(x,x.parentNode),_=_||(H.schema?H.schema.getNonEmptyElements():null),ie=H.schema?H.schema.getWhiteSpaceElements():{};do{if(1===(J=x.nodeType)){var ve=x.getAttribute("data-mce-bogus");if(ve){x=ye.next("all"===ve);continue}if(pe=x.nodeName.toLowerCase(),_&&_[pe]){if("br"===pe){fe++,x=ye.next();continue}return!1}for(X=(U=H.getAttribs(x)).length;X--;)if("name"===(pe=U[X].nodeName)||"data-mce-bookmark"===pe)return!1}if(8==J||3===J&&!M.test(x.nodeValue)||3===J&&x.parentNode&&ie[x.parentNode.nodeName]&&M.test(x.nodeValue))return!1;x=ye.next()}while(x)}return fe<=1},createRng:function(){var x=this.doc;return x.createRange?x.createRange():new T(this)},nodeIndex:E,split:function(x,_,H){function X(fe){var ge,ce,Te=fe.childNodes,Ae=fe.nodeType;if(1!=Ae||"bookmark"!=fe.getAttribute("data-mce-type")){for(ge=Te.length-1;ge>=0;ge--)X(Te[ge]);if(9!=Ae){if(3==Ae&&fe.nodeValue.length>0){var ne=$(fe.nodeValue).length;if(!U.isBlock(fe.parentNode)||ne>0||0===ne&&(ce=fe).previousSibling&&"SPAN"==ce.previousSibling.nodeName&&ce.nextSibling&&"SPAN"==ce.nextSibling.nodeName)return}else if(1==Ae&&(1==(Te=fe.childNodes).length&&Te[0]&&1==Te[0].nodeType&&"bookmark"==Te[0].getAttribute("data-mce-type")&&fe.parentNode.insertBefore(Te[0],fe),Te.length||/^(br|hr|input|img)$/i.test(fe.nodeName)))return;U.remove(fe)}return fe}}var ie,ye,pe,U=this,J=U.createRng();if(x&&_)return J.setStart(x.parentNode,U.nodeIndex(x)),J.setEnd(_.parentNode,U.nodeIndex(_)),ie=J.extractContents(),(J=U.createRng()).setStart(_.parentNode,U.nodeIndex(_)+1),J.setEnd(x.parentNode,U.nodeIndex(x)+1),ye=J.extractContents(),(pe=x.parentNode).insertBefore(X(ie),x),pe.insertBefore(H||_,x),pe.insertBefore(X(ye),x),U.remove(x),H||_},bind:function(x,_,H,X){var U=this;if(S.isArray(x)){for(var J=x.length;J--;)x[J]=U.bind(x[J],_,H,X);return x}return!U.settings.collect||x!==U.doc&&x!==U.win||U.boundEvents.push([x,_,H,X]),U.events.bind(x,_,H,X||U)},unbind:function(x,_,H){var U,X=this;if(S.isArray(x)){for(U=x.length;U--;)x[U]=X.unbind(x[U],_,H);return x}if(X.boundEvents&&(x===X.doc||x===X.win))for(U=X.boundEvents.length;U--;){var J=X.boundEvents[U];x!=J[0]||_&&_!=J[1]||H&&H!=J[2]||this.events.unbind(J[0],J[1],J[2])}return this.events.unbind(x,_,H)},fire:function(x,_,H){return this.events.fire(x,_,H)},getContentEditable:function(x){var _;return x&&1==x.nodeType?(_=x.getAttribute("data-mce-contenteditable"))&&"inherit"!==_?_:"inherit"!==x.contentEditable?x.contentEditable:null:null},getContentEditableParent:function(x){for(var _=this.getRoot(),H=null;x&&x!==_&&null===(H=this.getContentEditable(x));x=x.parentNode);return H},destroy:function(){var x=this;if(x.boundEvents){for(var _=x.boundEvents.length;_--;){var H=x.boundEvents[_];this.events.unbind(H[0],H[1],H[2])}x.boundEvents=null}ee.setDocument&&ee.setDocument(),x.win=x.doc=x.root=x.events=x.frag=null},isChildOf:function(x,_){for(;x;){if(_===x)return!0;x=x.parentNode}return!1},dumpRng:function(x){return"startContainer: "+x.startContainer.nodeName+", startOffset: "+x.startOffset+", endContainer: "+x.endContainer.nodeName+", endOffset: "+x.endOffset},_findSib:function(x,_,H){var X=this,U=_;if(x)for("string"==typeof U&&(U=function(J){return X.is(J,_)}),x=x[H];x;x=x[H])if(U(x))return x;return null}},V.DOM=new V(document),V.nodeIndex=E,V}),Ye(xt,[$e,ft],function(ee,Y){function z(){var $,E={},V=[],R={},W=[],O=0;this.isDone=function(A){return 2==E[A]},this.markDone=function(A){E[A]=2},this.add=this.load=function(A,P,M,x){E[A]==$&&(V.push(A),E[A]=0),P&&(R[A]||(R[A]=[]),R[A].push({success:P,failure:x,scope:M||this}))},this.remove=function(A){delete E[A],delete R[A]},this.loadQueue=function(A,P,M){this.loadScripts(V,A,P,M)},this.loadScripts=function(A,P,M,x){function _(U,J){C(R[J],function(ie){b(ie[U])&&ie[U].call(ie.scope)}),R[J]=$}var H,X=[];W.push({success:P,failure:x,scope:M||this}),(H=function(){var U=T(A);A.length=0,C(U,function(J){return 2===E[J]?void _("success",J):3===E[J]?void _("failure",J):void(1!==E[J]&&(E[J]=1,O++,function(A,P,M){function x(){H.remove(U),X&&(X.onreadystatechange=X.onload=X=null),P()}var X,U,H=B;U=H.uniqueId(),(X=document.createElement("script")).id=U,X.type="text/javascript",X.src=Y._addCacheSuffix(A),"onreadystatechange"in X?X.onreadystatechange=function(){/loaded|complete/.test(X.readyState)&&x()}:X.onload=x,X.onerror=function(){b(M)?M():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+A)},(document.getElementsByTagName("head")[0]||document.body).appendChild(X)}(J,function(){E[J]=2,O--,_("success",J),H()},function(){E[J]=3,O--,X.push(J),_("failure",J),H()})))}),O||(C(W,function(J){0===X.length?b(J.success)&&J.success.call(J.scope):b(J.failure)&&J.failure.call(J.scope,X)}),W.length=0)})()}}var B=ee.DOM,C=Y.each,T=Y.grep,b=function(w){return"function"==typeof w};return z.ScriptLoader=new z,z}),Ye(Xe,[xt,ft],function(ee,Y){function z(){var C=this;C.items=[],C.urls={},C.lookup={}}var B=Y.each;return z.prototype={get:function(C){return this.lookup[C]?this.lookup[C].instance:Ln},dependencies:function(C){var T;return this.lookup[C]&&(T=this.lookup[C].dependencies),T||[]},requireLangPack:function(C,T){var b=z.language;if(b&&!1!==z.languageLoad){if(T)if(-1!=(T=","+T+",").indexOf(","+b.substr(0,2)+","))b=b.substr(0,2);else if(-1==T.indexOf(","+b+","))return;ee.ScriptLoader.add(this.urls[C]+"/langs/"+b+".js")}},add:function(C,T,b){return this.items.push(T),this.lookup[C]={instance:T,dependencies:b},T},remove:function(C){delete this.urls[C],delete this.lookup[C]},createUrl:function(C,T){return"object"==typeof T?T:{prefix:C.prefix,resource:T,suffix:C.suffix}},addComponents:function(C,T){var b=this.urls[C];B(T,function(w){ee.ScriptLoader.add(b+"/"+w)})},load:function(C,T,b,w,S){function F(){var E=D.dependencies(C);B(E,function(V){var R=D.createUrl(T,V);D.load(R.resource,R,Ln,Ln)}),b&&b.call(w||ee)}var D=this,N=T;D.urls[C]||("object"==typeof T&&(N=T.prefix+T.resource+T.suffix),0!==N.indexOf("/")&&-1==N.indexOf("://")&&(N=z.baseURL+"/"+N),D.urls[C]=N.substring(0,N.lastIndexOf("/")),D.lookup[C]?F():ee.ScriptLoader.add(N,F,w,S))}},z.PluginManager=new z,z.ThemeManager=new z,z}),Ye(vt,[],function(){function ee(S){return function(F){return!!F&&F.nodeType==S}}function Y(S){return S=S.toLowerCase().split(" "),function(F){var D,N;if(F&&F.nodeType)for(N=F.nodeName.toLowerCase(),D=0;D<S.length;D++)if(N===S[D])return!0;return!1}}function b(S){return function(F){return!(!w(F)||F.contentEditable!==S&&F.getAttribute("data-mce-contenteditable")!==S)}}var w=ee(1);return{isText:ee(3),isElement:w,isComment:ee(8),isBr:Y("br"),isContentEditableTrue:b("true"),isContentEditableFalse:b("false"),matchNodeNames:Y,hasPropValue:function(S,F){return function(D){return w(D)&&D[S]===F}},hasAttributeValue:function(S,F){return function(D){return w(D)&&D.getAttribute(S)===F}},matchStyleValues:function(S,F){return F=F.toLowerCase().split(" "),function(D){var N;if(w(D))for(N=0;N<F.length;N++)if(getComputedStyle(D,null).getPropertyValue(S)===F[N])return!0;return!1}},isBogus:function(S){return w(S)&&S.hasAttribute("data-mce-bogus")}}}),Ye(Ft,[],function(){return{isZwsp:function(B){return"\ufeff"==B},ZWSP:"\ufeff",trim:function(B){return B.replace(new RegExp("\ufeff","g"),"")}}}),Ye(en,[vt,Ft],function(ee,Y){function z(P){return A(P)&&(P=P.parentNode),$(P)&&P.hasAttribute("data-mce-caret")}function B(P){return A(P)&&Y.isZwsp(P.data)}function C(P){return z(P)||B(P)}function T(P){var M=P.parentNode;M&&M.removeChild(P)}function N(P){return P.firstChild!==P.lastChild||!ee.isBr(P.firstChild)}function V(P){return A(P)&&P.data[0]==Y.ZWSP}function R(P){return A(P)&&P.data[P.data.length-1]==Y.ZWSP}var $=ee.isElement,A=ee.isText;return{isCaretContainer:C,isCaretContainerBlock:z,isCaretContainerInline:B,showCaretContainerBlock:function(P){return P&&P.hasAttribute("data-mce-caret")?(function(P){var M=P.getElementsByTagName("br"),x=M[M.length-1];ee.isBogus(x)&&x.parentNode.removeChild(x)}(P),P.removeAttribute("data-mce-caret"),P.removeAttribute("data-mce-bogus"),P.removeAttribute("style"),P.removeAttribute("_moz_abspos"),P):null},insertInline:function(P,M){var _,H,X;if(H=P.ownerDocument.createTextNode(Y.ZWSP),X=P.parentNode,M){if(A(_=P.previousSibling)){if(C(_))return _;if(R(_))return _.splitText(_.data.length-1)}X.insertBefore(H,P)}else{if(A(_=P.nextSibling)){if(C(_))return _;if(V(_))return _.splitText(1),_}P.nextSibling?X.insertBefore(H,P.nextSibling):X.appendChild(H)}return H},insertBlock:function(P,M,x){var H,X;return(H=M.ownerDocument.createElement(P)).setAttribute("data-mce-caret",x?"before":"after"),H.setAttribute("data-mce-bogus","all"),H.appendChild(function(){var P=document.createElement("br");return P.setAttribute("data-mce-bogus","1"),P}()),X=M.parentNode,x?X.insertBefore(H,M):M.nextSibling?X.insertBefore(H,M.nextSibling):X.appendChild(H),H},hasContent:N,remove:function(P){if($(P)&&C(P)&&(N(P)?P.removeAttribute("data-mce-caret"):T(P)),A(P)){var M=Y.trim(function(P){try{return P.nodeValue}catch(M){return""}}(P));!function(P,M){0===M.length?T(P):P.nodeValue=M}(P,M)}},startsWithCaretContainer:V,endsWithCaretContainer:R}}),Ye(Kt,[ft,me,vt,at,en],function(ee,Y,z,B,C){function T(A){return W(A)||O(A)}function w(A,P,M){for(;A&&A!==P;){if(M(A))return A;A=A.parentNode}return null}function F(A){return"_mce_caret"===A.id}function D(A,P){return $(A)&&!1===function(A,P,M){return null!==w(A,P,M)}(A,P,F)}function N(A){this.walk=function(P,M){function x(ce){var xe;return 3===(xe=ce[0]).nodeType&&xe===U&&J>=xe.nodeValue.length&&ce.splice(0,1),xe=ce[ce.length-1],0===ye&&ce.length>0&&xe===ie&&3===xe.nodeType&&ce.splice(ce.length-1,1),ce}function _(ce,xe,Ie){for(var Le=[];ce&&ce!=Ie;ce=ce[xe])Le.push(ce);return Le}function H(ce,xe){do{if(ce.parentNode==xe)return ce;ce=ce.parentNode}while(ce)}function X(ce,xe,Ie){var Le=Ie?"nextSibling":"previousSibling";for(Te=(ge=ce).parentNode;ge&&ge!=xe;ge=Te)Te=ge.parentNode,(Ae=_(ge==ce?ge:ge[Le],Le)).length&&(Ie||Ae.reverse(),M(x(Ae)))}var pe,fe,ve,ge,Te,Ae,ne,U=P.startContainer,J=P.startOffset,ie=P.endContainer,ye=P.endOffset;if((ne=A.select("td[data-mce-selected],th[data-mce-selected]")).length>0)R(ne,function(ce){M([ce])});else{if(1==U.nodeType&&U.hasChildNodes()&&(U=U.childNodes[J]),1==ie.nodeType&&ie.hasChildNodes()&&(ie=function(A,P){var M=A.childNodes;return--P>M.length-1?P=M.length-1:P<0&&(P=0),M[P]||A}(ie,ye)),U==ie)return M(x([U]));for(pe=A.findCommonAncestor(U,ie),ge=U;ge;ge=ge.parentNode){if(ge===ie)return X(U,pe,!0);if(ge===pe)break}for(ge=ie;ge;ge=ge.parentNode){if(ge===U)return X(ie,pe);if(ge===pe)break}fe=H(U,pe)||U,ve=H(ie,pe)||ie,X(U,fe,!0),(Ae=_(fe==U?fe:fe.nextSibling,"nextSibling",ve==ie?ve.nextSibling:ve)).length&&M(x(Ae)),X(ie,ve)}},this.split=function(P){function M(U,J){return U.splitText(J)}var x=P.startContainer,_=P.startOffset,H=P.endContainer,X=P.endOffset;return x==H&&3==x.nodeType?_>0&&_<x.nodeValue.length&&(x=(H=M(x,_)).previousSibling,X>_?(x=H=M(H,X-=_).previousSibling,X=H.nodeValue.length,_=0):X=0):(3==x.nodeType&&_>0&&_<x.nodeValue.length&&(x=M(x,_),_=0),3==H.nodeType&&X>0&&X<H.nodeValue.length&&(X=(H=M(H,X).previousSibling).nodeValue.length)),{startContainer:x,startOffset:_,endContainer:H,endOffset:X}},this.normalize=function(P){function M(H){function U(xe,Ie){for(var Le=new Y(xe,A.getParent(xe.parentNode,A.isBlock)||ge);xe=Le[Ie?"prev":"next"]();)if("BR"===xe.nodeName)return!0}function ye(xe,Ie){var Le,ut,Dt;if(Dt=A.getParent((Ie=Ie||pe).parentNode,A.isBlock)||ge,xe&&"BR"==Ie.nodeName&&ce&&A.isEmpty(Dt))return pe=Ie.parentNode,fe=A.nodeIndex(Ie),void(x=!0);for(Le=new Y(Ie,Dt);Te=Le[xe?"prev":"next"]();){if("false"===A.getContentEditableParent(Te)||D(Te,A.getRoot()))return;if(3===Te.nodeType&&Te.nodeValue.length>0)return pe=Te,fe=xe?Te.nodeValue.length:0,void(x=!0);if(A.isBlock(Te)||Ae[Te.nodeName.toLowerCase()])return;ut=Te}_&&ut&&(pe=ut,x=!0,fe=0)}var pe,fe,ve,Te,Ae,ne,ce,xe,ge=A.getRoot();if(fe=P[(H?"start":"end")+"Offset"],ce=1==(pe=P[(H?"start":"end")+"Container"]).nodeType&&fe===pe.childNodes.length,Ae=A.schema.getNonEmptyElements(),ne=H,!$(pe)){if(1==pe.nodeType&&fe>pe.childNodes.length-1&&(ne=!1),9===pe.nodeType&&(pe=A.getRoot(),fe=0),pe===ge){if(ne&&(Te=pe.childNodes[fe>0?fe-1:0])&&($(Te)||Ae[Te.nodeName]||"TABLE"==Te.nodeName))return;if(pe.hasChildNodes()){if(fe=Math.min(!ne&&fe>0?fe-1:fe,pe.childNodes.length-1),pe=pe.childNodes[fe],fe=0,!_&&pe===ge.lastChild&&"TABLE"===pe.nodeName||function(xe){for(;xe&&xe!=ge;){if(O(xe))return!0;xe=xe.parentNode}return!1}(pe)||$(pe))return;if(pe.hasChildNodes()&&!/TABLE/.test(pe.nodeName)){Te=pe,ve=new Y(pe,ge);do{if(O(Te)||$(Te)){x=!1;break}if(3===Te.nodeType&&Te.nodeValue.length>0){fe=ne?0:Te.nodeValue.length,pe=Te,x=!0;break}if(Ae[Te.nodeName.toLowerCase()]&&(!(xe=Te)||!/^(TD|TH|CAPTION)$/.test(xe.nodeName))){fe=A.nodeIndex(Te),pe=Te.parentNode,"IMG"!=Te.nodeName||ne||fe++,x=!0;break}}while(Te=ne?ve.next():ve.prev())}}}_&&(3===pe.nodeType&&0===fe&&ye(!0),1===pe.nodeType&&((Te=pe.childNodes[fe])||(Te=pe.childNodes[fe-1]),!Te||"BR"!==Te.nodeName||function(xe,Ie){return xe.previousSibling&&"A"==xe.previousSibling.nodeName}(Te)||U(Te)||U(Te,!0)||ye(!0,Te))),ne&&!_&&3===pe.nodeType&&fe===pe.nodeValue.length&&ye(!1),x&&P["set"+(H?"Start":"End")](pe,fe)}}var x,_;return _=P.collapsed,M(!0),_||M(),x&&_&&P.collapse(!0),x}}var R=ee.each,W=z.isContentEditableTrue,O=z.isContentEditableFalse,$=C.isCaretContainer;return N.compareRanges=function(A,P){if(A&&P){if(!A.item&&!A.duplicate)return A.startContainer==P.startContainer&&A.startOffset==P.startOffset;if(A.item&&P.item&&A.item(0)===P.item(0)||A.isEqual&&P.isEqual&&P.isEqual(A))return!0}return!1},N.getCaretRangeFromPoint=function(A,P,M){var x,_;if(M.caretPositionFromPoint)_=M.caretPositionFromPoint(A,P),(x=M.createRange()).setStart(_.offsetNode,_.offset),x.collapse(!0);else if(M.caretRangeFromPoint)x=M.caretRangeFromPoint(A,P);else if(M.body.createTextRange){x=M.body.createTextRange();try{x.moveToPoint(A,P),x.collapse(!0)}catch(H){x=function(A,P,M){var x,_,H;if(x=M.elementFromPoint(A,P),_=M.body.createTextRange(),x&&"HTML"!=x.tagName||(x=M.body),_.moveToElementText(x),(H=(H=ee.toArray(_.getClientRects())).sort(function(X,U){return(X=Math.abs(Math.max(X.top-P,X.bottom-P)))-Math.abs(Math.max(U.top-P,U.bottom-P))})).length>0){P=(H[0].bottom+H[0].top)/2;try{return _.moveToPoint(A,P),_.collapse(!0),_}catch(X){}}return null}(A,P,M)}return function(A,P){var M=A&&A.parentElement?A.parentElement():null;return O(w(M,P,T))?null:A}(x,M.body)}return x},N.getSelectedNode=function(A){var P=A.startContainer,M=A.startOffset;return P.hasChildNodes()&&A.endOffset==M+1?P.childNodes[M]:null},N.getNode=function(A,P){return 1==A.nodeType&&A.hasChildNodes()&&(P>=A.childNodes.length&&(P=A.childNodes.length-1),A=A.childNodes[P]),A},N}),Ye(It,[Kt,Mt,Ke],function(ee,Y,z){return function(B){var T,b=[];"onselectionchange"in B.getDoc()||B.on("NodeChange Click MouseUp KeyUp Focus",function(w){var S,F;F={startContainer:(S=B.selection.getRng()).startContainer,startOffset:S.startOffset,endContainer:S.endContainer,endOffset:S.endOffset},"nodechange"!=w.type&&ee.compareRanges(F,T)||B.fire("SelectionChange"),T=F}),B.on("contextmenu",function(){B.fire("SelectionChange")}),B.on("SelectionChange",function(){var w=B.selection.getStart(!0);!Y.range&&B.selection.isCollapsed()||!function(w){var S,F;if((F=B.$(w).parentsUntil(B.getBody()).add(w)).length===b.length){for(S=F.length;S>=0&&F[S]===b[S];S--);if(-1===S)return b=F,!0}return b=F,!1}(w)&&B.dom.isChildOf(w,B.getBody())&&B.nodeChanged({selectionChange:!0})}),B.on("MouseUp",function(w){w.isDefaultPrevented()||("IMG"==B.selection.getNode().nodeName?z.setEditorTimeout(B,function(){B.nodeChanged()}):B.nodeChanged())}),this.nodeChanged=function(w){var F,D,N,S=B.selection;B.initialized&&S&&!B.settings.disable_nodechange&&!B.readonly&&(N=B.getBody(),(F=S.getStart()||N).ownerDocument==B.getDoc()&&B.dom.isChildOf(F,N)||(F=N),"IMG"==F.nodeName&&S.isCollapsed()&&(F=F.parentNode),D=[],B.dom.getParent(F,function(E){return E===N||void D.push(E)}),(w=w||{}).element=F,w.parents=D,B.fire("NodeChange",w))}}}),Ye(bt,[],function(){function ee(C,T,b){var w,S,F=b?"lastChild":"firstChild",D=b?"prev":"next";if(C[F])return C[F];if(C!==T){if(w=C[D])return w;for(S=C.parent;S&&S!==T;S=S.parent)if(w=S[D])return w}}function Y(C,T){this.name=C,this.type=T,1===T&&(this.attributes=[],this.attributes.map={})}var z=/^[ \t\r\n]*$/,B={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return Y.prototype={replace:function(C){var T=this;return C.parent&&C.remove(),T.insert(C,T),T.remove(),T},attr:function(C,T){var w,S,b=this;if("string"!=typeof C){for(S in C)b.attr(S,C[S]);return b}if(w=b.attributes){if(void 0!==T){if(null===T){if(C in w.map)for(delete w.map[C],S=w.length;S--;)if(w[S].name===C)return w=w.splice(S,1),b;return b}if(C in w.map){for(S=w.length;S--;)if(w[S].name===C){w[S].value=T;break}}else w.push({name:C,value:T});return w.map[C]=T,b}return w.map[C]}},clone:function(){var b,w,S,F,D,C=this,T=new Y(C.name,C.type);if(S=C.attributes){for((D=[]).map={},b=0,w=S.length;b<w;b++)"id"!==(F=S[b]).name&&(D[D.length]={name:F.name,value:F.value},D.map[F.name]=F.value);T.attributes=D}return T.value=C.value,T.shortEnded=C.shortEnded,T},wrap:function(C){var T=this;return T.parent.insert(C,T),C.append(T),T},unwrap:function(){var T,b,C=this;for(T=C.firstChild;T;)b=T.next,C.insert(T,C,!0),T=b;C.remove()},remove:function(){var C=this,T=C.parent,b=C.next,w=C.prev;return T&&(T.firstChild===C?(T.firstChild=b,b&&(b.prev=null)):w.next=b,T.lastChild===C?(T.lastChild=w,w&&(w.next=null)):b.prev=w,C.parent=C.next=C.prev=null),C},append:function(C){var b,T=this;return C.parent&&C.remove(),(b=T.lastChild)?(b.next=C,C.prev=b,T.lastChild=C):T.lastChild=T.firstChild=C,C.parent=T,C},insert:function(C,T,b){var w;return C.parent&&C.remove(),w=T.parent||this,b?(T===w.firstChild?w.firstChild=C:T.prev.next=C,C.prev=T.prev,C.next=T,T.prev=C):(T===w.lastChild?w.lastChild=C:T.next.prev=C,C.next=T.next,C.prev=T,T.next=C),C.parent=w,C},getAll:function(C){var b,w=[];for(b=this.firstChild;b;b=ee(b,this))b.name===C&&w.push(b);return w},empty:function(){var T,b,w,C=this;if(C.firstChild){for(T=[],w=C.firstChild;w;w=ee(w,C))T.push(w);for(b=T.length;b--;)(w=T[b]).parent=w.firstChild=w.lastChild=w.next=w.prev=null}return C.firstChild=C.lastChild=null,C},isEmpty:function(C,T){var S,F,w=this.firstChild;if(T=T||{},w)do{if(1===w.type){if(w.attributes.map["data-mce-bogus"])continue;if(C[w.name])return!1;for(S=w.attributes.length;S--;)if("name"===(F=w.attributes[S].name)||0===F.indexOf("data-mce-bookmark"))return!1}if(8===w.type||3===w.type&&!z.test(w.value)||3===w.type&&w.parent&&T[w.parent.name]&&z.test(w.value))return!1}while(w=ee(w,this));return!0},walk:function(C){return ee(this,null,C)}},Y.create=function(C,T){var b,w;if(b=new Y(C,B[C]||1),T)for(w in T)b.attr(w,T[w]);return b},Y}),Ye(dt,[ft],function(ee){function Y(N,E){return(N=ee.trim(N))?N.split(E||" "):[]}function B(N,E){var V;return N&&(V={},"string"==typeof N&&(N={"*":N}),w(N,function(R,W){V[W]=V[W.toUpperCase()]="map"==E?b(R,/[, ]/):F(R,/[, ]/)})),V}var C={},T={},b=ee.makeMap,w=ee.each,S=ee.extend,F=ee.explode,D=ee.inArray;return function(N){function E(Ie,Le,ut){var Dt=N[Ie];return Dt?Dt=b(Dt,/[, ]/,b(Dt.toUpperCase(),/[, ]/)):(Dt=C[Ie])||(Dt=b(Le," ",b(Le.toUpperCase()," ")),Dt=S(Dt,ut),C[Ie]=Dt),Dt}function V(Ie){return new RegExp("^"+Ie.replace(/([?+*])/g,".$1")+"$")}function R(Ie){var Le,ut,Dt,Vt,Qt,jt,Pe,oe,re,Ce,He,nt,rt,je,St,ct,wt,yt,bn,Yn=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,Qn=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,Bi=/[*?+]/;if(Ie)for(Ie=Y(Ie,","),M["@"]&&(ct=M["@"].attributes,wt=M["@"].attributesOrder),Le=0,ut=Ie.length;Le<ut;Le++)if(Qt=Yn.exec(Ie[Le])){if(re=Qt[2],St=Qt[3],oe=Qt[5],jt={attributes:nt={},attributesOrder:rt=[]},"#"===(je=Qt[1])&&(jt.paddEmpty=!0),"-"===je&&(jt.removeEmpty=!0),"!"===Qt[4]&&(jt.removeEmptyAttrs=!0),ct){for(yt in ct)nt[yt]=ct[yt];rt.push.apply(rt,wt)}if(oe)for(Dt=0,Vt=(oe=Y(oe,"|")).length;Dt<Vt;Dt++)if(Qt=Qn.exec(oe[Dt])){if(Pe={},He=Qt[1],Ce=Qt[2].replace(/::/g,":"),je=Qt[3],bn=Qt[4],"!"===He&&(jt.attributesRequired=jt.attributesRequired||[],jt.attributesRequired.push(Ce),Pe.required=!0),"-"===He){delete nt[Ce],rt.splice(D(rt,Ce),1);continue}je&&("="===je&&(jt.attributesDefault=jt.attributesDefault||[],jt.attributesDefault.push({name:Ce,value:bn}),Pe.defaultValue=bn),":"===je&&(jt.attributesForced=jt.attributesForced||[],jt.attributesForced.push({name:Ce,value:bn}),Pe.forcedValue=bn),"<"===je&&(Pe.validValues=b(bn,"?"))),Bi.test(Ce)?(jt.attributePatterns=jt.attributePatterns||[],Pe.pattern=V(Ce),jt.attributePatterns.push(Pe)):(nt[Ce]||rt.push(Ce),nt[Ce]=Pe)}ct||"@"!=re||(ct=nt,wt=rt),St&&(jt.outputName=re,M[St]=jt),Bi.test(re)?(jt.pattern=V(re),_.push(jt)):M[re]=jt}}function W(Ie){M={},_=[],R(Ie),w(U,function(Le,ut){x[ut]=Le.children})}function O(Ie){var Le=/^(~)?(.+)$/;Ie&&(C.text_block_elements=C.block_elements=null,w(Y(Ie,","),function(ut){var Dt=Le.exec(ut),Vt="~"===Dt[1],Qt=Vt?"span":"div",jt=Dt[2];if(x[jt]=x[Qt],ce[jt]=Qt,Vt||(ve[jt.toUpperCase()]={},ve[jt]={}),!M[jt]){var Pe=M[Qt];delete(Pe=S({},Pe)).removeEmptyAttrs,delete Pe.removeEmpty,M[jt]=Pe}w(x,function(oe,re){oe[Qt]&&(x[re]=oe=S({},x[re]),oe[jt]=oe[Qt])})}))}function $(Ie){var Le=/^([+\-]?)(\w+)\[([^\]]+)\]$/;C[N.schema]=null,Ie&&w(Y(Ie,","),function(ut){var Vt,Qt,Dt=Le.exec(ut);Dt&&(Vt=(Qt=Dt[1])?x[Dt[2]]:x[Dt[2]]={"#comment":{}},Vt=x[Dt[2]],w(Y(Dt[3],"|"),function(jt){"-"===Qt?delete Vt[jt]:Vt[jt]={}}))})}function A(Ie){var ut,Le=M[Ie];if(Le)return Le;for(ut=_.length;ut--;)if((Le=_[ut]).pattern.test(Ie))return Le}var H,X,U,J,ie,ye,pe,fe,ve,ge,Te,Ae,ne,P=this,M={},x={},_=[],ce={},xe={};U=function(N){function E(x,_,H){function X(ye,pe){var ve,ge,fe={};for(ve=0,ge=ye.length;ve<ge;ve++)fe[ye[ve]]=pe||{};return fe}var U,J,ie;for(_=_||"","string"==typeof(H=H||[])&&(H=Y(H)),U=(x=Y(x)).length;U--;)ie={attributes:X(J=Y([W,_].join(" "))),attributesOrder:J,children:X(H,T)},R[x[U]]=ie}function V(x,_){var H,X,U,J;for(H=(x=Y(x)).length,_=Y(_);H--;)for(X=R[x[H]],U=0,J=_.length;U<J;U++)X.attributes[_[U]]={},X.attributesOrder.push(_[U])}var W,O,$,A,P,M,R={};return C[N]?C[N]:(W="id accesskey class dir lang style tabindex title",O="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",$="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=N&&(W+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",O+=" article aside details dialog figure header footer hgroup section nav",$+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=N&&(W+=" xml:lang",$=[$,M="acronym applet basefont big font strike tt"].join(" "),w(Y(M),function(x){E(x,"",$)}),O=[O,P="center dir isindex noframes"].join(" "),A=[O,$].join(" "),w(Y(P),function(x){E(x,"",A)})),A=A||[O,$].join(" "),E("html","manifest","head body"),E("head","","base command link meta noscript script style title"),E("title hr noscript br"),E("base","href target"),E("link","href rel media hreflang type sizes hreflang"),E("meta","name http-equiv content charset"),E("style","media type scoped"),E("script","src async defer type charset"),E("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",A),E("address dt dd div caption","",A),E("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",$),E("blockquote","cite",A),E("ol","reversed start type","li"),E("ul","","li"),E("li","value",A),E("dl","","dt dd"),E("a","href target rel media hreflang type",$),E("q","cite",$),E("ins del","cite datetime",A),E("img","src sizes srcset alt usemap ismap width height"),E("iframe","src name width height",A),E("embed","src type width height"),E("object","data type typemustmatch name usemap form width height",[A,"param"].join(" ")),E("param","name value"),E("map","name",[A,"area"].join(" ")),E("area","alt coords shape href target rel media hreflang type"),E("table","border","caption colgroup thead tfoot tbody tr"+("html4"==N?" col":"")),E("colgroup","span","col"),E("col","span"),E("tbody thead tfoot","","tr"),E("tr","","td th"),E("td","colspan rowspan headers",A),E("th","colspan rowspan headers scope abbr",A),E("form","accept-charset action autocomplete enctype method name novalidate target",A),E("fieldset","disabled form name",[A,"legend"].join(" ")),E("label","form for",$),E("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),E("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==N?A:$),E("select","disabled form multiple name required size","option optgroup"),E("optgroup","disabled label","option"),E("option","disabled label selected value"),E("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),E("menu","type label",[A,"li"].join(" ")),E("noscript","",A),"html4"!=N&&(E("wbr"),E("ruby","",[$,"rt rp"].join(" ")),E("figcaption","",A),E("mark rt rp summary bdi","",$),E("canvas","width height",A),E("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[A,"track source"].join(" ")),E("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[A,"track source"].join(" ")),E("picture","","img source"),E("source","src srcset type media sizes"),E("track","kind src srclang label default"),E("datalist","",[$,"option"].join(" ")),E("article section nav aside header footer","",A),E("hgroup","","h1 h2 h3 h4 h5 h6"),E("figure","",[A,"figcaption"].join(" ")),E("time","datetime",$),E("dialog","open",A),E("command","type label icon disabled checked radiogroup command"),E("output","for form name",$),E("progress","value max",$),E("meter","value min max low high optimum",$),E("details","open",[A,"summary"].join(" ")),E("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=N&&(V("script","language xml:space"),V("style","xml:space"),V("object","declare classid code codebase codetype archive standby align border hspace vspace"),V("embed","align name hspace vspace"),V("param","valuetype type"),V("a","charset name rev shape coords"),V("br","clear"),V("applet","codebase archive code object alt name width height align hspace vspace"),V("img","name longdesc align border hspace vspace"),V("iframe","longdesc frameborder marginwidth marginheight scrolling align"),V("font basefont","size color face"),V("input","usemap align"),V("select","onchange"),V("textarea"),V("h1 h2 h3 h4 h5 h6 div p legend caption","align"),V("ul","type compact"),V("li","type"),V("ol dl menu dir","compact"),V("pre","width xml:space"),V("hr","align noshade size width"),V("isindex","prompt"),V("table","summary width frame rules cellspacing cellpadding align bgcolor"),V("col","width align char charoff valign"),V("colgroup","width align char charoff valign"),V("thead","align char charoff valign"),V("tr","align char charoff valign bgcolor"),V("th","axis align char charoff valign nowrap bgcolor width height"),V("form","accept"),V("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),V("tfoot","align char charoff valign"),V("tbody","align char charoff valign"),V("area","nohref"),V("body","background bgcolor text link vlink alink")),"html4"!=N&&(V("input button select textarea","autofocus"),V("input textarea","placeholder"),V("a","download"),V("link script img","crossorigin"),V("iframe","sandbox seamless allowfullscreen")),w(Y("a form meter progress dfn"),function(x){R[x]&&delete R[x].children[x]}),delete R.caption.children.table,delete R.script,C[N]=R,R)}((N=N||{}).schema),!1===N.verify_html&&(N.valid_elements="*[*]"),H=B(N.valid_styles),X=B(N.invalid_styles,"map"),fe=B(N.valid_classes,"map"),J=E("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ie=E("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ye=E("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),pe=E("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),ge=E("non_empty_elements","td th iframe video audio object script pre code",ye),Te=E("move_caret_before_on_enter_elements","table",ge),Ae=E("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),ve=E("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",Ae),ne=E("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),w((N.special||"script noscript style textarea").split(" "),function(Ie){xe[Ie]=new RegExp("</"+Ie+"[^>]*>","gi")}),N.valid_elements?W(N.valid_elements):(w(U,function(Ie,Le){M[Le]={attributes:Ie.attributes,attributesOrder:Ie.attributesOrder},x[Le]=Ie.children}),"html5"!=N.schema&&w(Y("strong/b em/i"),function(Ie){Ie=Y(Ie,"/"),M[Ie[1]].outputName=Ie[0]}),w(Y("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(Ie){M[Ie]&&(M[Ie].removeEmpty=!0)}),w(Y("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(Ie){M[Ie].paddEmpty=!0}),w(Y("span"),function(Ie){M[Ie].removeEmptyAttrs=!0})),O(N.custom_elements),$(N.valid_children),R(N.extended_valid_elements),$("+ol[ul|ol],+ul[ul|ol]"),w({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(Ie,Le){M[Le]&&(M[Le].parentsRequired=Y(Ie))}),N.invalid_elements&&w(F(N.invalid_elements),function(Ie){M[Ie]&&delete M[Ie]}),A("span")||R("span[!data-mce-type|*]"),P.children=x,P.getValidStyles=function(){return H},P.getInvalidStyles=function(){return X},P.getValidClasses=function(){return fe},P.getBoolAttrs=function(){return pe},P.getBlockElements=function(){return ve},P.getTextBlockElements=function(){return Ae},P.getTextInlineElements=function(){return ne},P.getShortEndedElements=function(){return ye},P.getSelfClosingElements=function(){return ie},P.getNonEmptyElements=function(){return ge},P.getMoveCaretBeforeOnEnterElements=function(){return Te},P.getWhiteSpaceElements=function(){return J},P.getSpecialElements=function(){return xe},P.isValidChild=function(Ie,Le){var ut=x[Ie];return!(!ut||!ut[Le])},P.isValid=function(Ie,Le){var ut,Dt,Vt=A(Ie);if(Vt){if(!Le||Vt.attributes[Le])return!0;if(ut=Vt.attributePatterns)for(Dt=ut.length;Dt--;)if(ut[Dt].pattern.test(Ie))return!0}return!1},P.getElementRule=A,P.getCustomElements=function(){return ce},P.addValidElements=R,P.setValidElements=W,P.addCustomElements=O,P.addValidChildren=$,P.elements=M}}),Ye(Gt,[dt,ze,ft],function(ee,Y,z){function B(b,w,S){var D,N,E,V,F=1;for(V=b.getShortEndedElements(),(E=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=D=S;N=E.exec(w);){if(D=E.lastIndex,"/"===N[1])F--;else if(!N[1]){if(N[2]in V)continue;F++}if(0===F)break}return D}function C(b,w){function S(){}var F=this;b=b||{},F.schema=w=w||new ee,!1!==b.fix_self_closing&&(b.fix_self_closing=!0),T("comment cdata text start end pi doctype".split(" "),function(D){D&&(F[D]=b[D]||S)}),F.parse=function(D){function N(nt){var rt,je;for(rt=A.length;rt--&&A[rt].name!==nt;);if(rt>=0){for(je=A.length-1;je>=rt;je--)(nt=A[je]).valid&&V.end(nt.name);A.length=rt}}function E(nt,rt,je,St,ct){var wt,yt;if(je=(rt=rt.toLowerCase())in J?rt:Pe(je||St||ct||""),ye&&!H&&0!==rt.indexOf("data-")){if(!(wt=Te[rt])&&Ae){for(yt=Ae.length;yt--&&!(wt=Ae[yt]).pattern.test(rt););-1===yt&&(wt=null)}if(!wt||wt.validValues&&!(je in wt.validValues))return}if(re[rt]&&!b.allow_script_urls){var Yn=je.replace(/[\s\u0000-\u001F]+/g,"");try{Yn=decodeURIComponent(Yn)}catch(Qn){Yn=unescape(Yn)}if(Ce.test(Yn)||!b.allow_html_data_urls&&He.test(Yn)&&!/^data:image\//i.test(Yn))return}P.map[rt]=je,P.push({name:rt,value:je})}var R,O,$,P,M,x,_,H,X,U,J,ie,ye,pe,fe,ve,ge,Te,Ae,ne,ce,xe,Le,ut,Dt,Vt,Qt,oe,V=this,W=0,A=[],jt=0,Pe=Y.decode,re=z.makeMap("src,href,data,background,formaction,poster"),Ce=/((java|vb)script|mhtml):/i,He=/^data:/i;for(ut=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),Dt=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,U=w.getShortEndedElements(),Le=b.self_closing_elements||w.getSelfClosingElements(),J=w.getBoolAttrs(),ye=b.validate,X=b.remove_internals,oe=b.fix_self_closing,Vt=w.getSpecialElements();R=ut.exec(D);){if(W<R.index&&V.text(Pe(D.substr(W,R.index-W))),O=R[6])":"===(O=O.toLowerCase()).charAt(0)&&(O=O.substr(1)),N(O);else if(O=R[7]){if(":"===(O=O.toLowerCase()).charAt(0)&&(O=O.substr(1)),ie=O in U,oe&&Le[O]&&A.length>0&&A[A.length-1].name===O&&N(O),!ye||(pe=w.getElementRule(O))){if(fe=!0,ye&&(Te=pe.attributes,Ae=pe.attributePatterns),(ge=R[8])?((H=-1!==ge.indexOf("data-mce-type"))&&X&&(fe=!1),(P=[]).map={},ge.replace(Dt,E)):(P=[]).map={},ye&&!H){if(ne=pe.attributesRequired,ce=pe.attributesDefault,pe.removeEmptyAttrs&&!P.length&&(fe=!1),xe=pe.attributesForced)for(M=xe.length;M--;)"{$uid}"===(Qt=(ve=xe[M]).value)&&(Qt="mce_"+jt++),P.map[_=ve.name]=Qt,P.push({name:_,value:Qt});if(ce)for(M=ce.length;M--;)(_=(ve=ce[M]).name)in P.map||("{$uid}"===(Qt=ve.value)&&(Qt="mce_"+jt++),P.map[_]=Qt,P.push({name:_,value:Qt}));if(ne){for(M=ne.length;M--&&!(ne[M]in P.map););-1===M&&(fe=!1)}if(ve=P.map["data-mce-bogus"]){if("all"===ve){W=B(w,D,ut.lastIndex),ut.lastIndex=W;continue}fe=!1}}fe&&V.start(O,P,ie)}else fe=!1;if($=Vt[O]){$.lastIndex=W=R.index+R[0].length,(R=$.exec(D))?(fe&&(x=D.substr(W,R.index-W)),W=R.index+R[0].length):(x=D.substr(W),W=D.length),fe&&(x.length>0&&V.text(x,!0),V.end(O)),ut.lastIndex=W;continue}ie||(ge&&ge.indexOf("/")==ge.length-1?fe&&V.end(O):A.push({name:O,valid:fe}))}else(O=R[1])?(">"===O.charAt(0)&&(O=" "+O),b.allow_conditional_comments||"[if"!==O.substr(0,3).toLowerCase()||(O=" "+O),V.comment(O)):(O=R[2])?V.cdata(O):(O=R[3])?V.doctype(O):(O=R[4])&&V.pi(O,R[5]);W=R.index+R[0].length}for(W<D.length&&V.text(Pe(D.substr(W))),M=A.length-1;M>=0;M--)(O=A[M]).valid&&V.end(O.name)}}var T=z.each;return C.findEndTag=B,C}),Ye(Sn,[bt,dt,Gt,ft],function(ee,Y,z,B){var C=B.makeMap,T=B.each,b=B.explode,w=B.extend,S=function(D,N){D.padd_empty_with_br?N.empty().append(new ee("br","1")).shortEnded=!0:N.empty().append(new ee("#text","3")).value="\xa0"},F=function(D,N){return D&&D.firstChild===D.lastChild&&D.firstChild.name===N};return function(D,N){var V=this,R={},W=[],O={},$={};(D=D||{}).validate=!("validate"in D)||D.validate,D.root_name=D.root_name||"body",V.schema=N=N||new Y,V.filterNode=function(A){var P,M,x;for((M in R&&((x=O[M])?x.push(A):O[M]=[A]),P=W.length);P--;)(M=W[P].name)in A.attributes.map&&((x=$[M])?x.push(A):$[M]=[A]);return A},V.addNodeFilter=function(A,P){T(b(A),function(M){var x=R[M];x||(R[M]=x=[]),x.push(P)})},V.addAttributeFilter=function(A,P){T(b(A),function(M){var x;for(x=0;x<W.length;x++)if(W[x].name===M)return void W[x].callbacks.push(P);W.push({name:M,callbacks:[P]})})},V.parse=function(A,P){function x(oe,re){var He,Ce=new ee(oe,re);return oe in R&&((He=O[oe])?He.push(Ce):O[oe]=[Ce]),Ce}function _(oe){var re,Ce,He,nt,rt=N.getBlockElements();for(re=oe.prev;re&&3===re.type;){if((He=re.value.replace(Le,"")).length>0)return void(re.value=He);if(Ce=re.next){if(3==Ce.type&&Ce.value.length){re=re.prev;continue}if(!rt[Ce.name]&&"script"!=Ce.name&&"style"!=Ce.name){re=re.prev;continue}}nt=re.prev,re.remove(),re=nt}}var X,U,J,ie,ye,pe,fe,ve,ge,Te,Ae,ne,ce,Ie,Le,ut,Dt,Vt,Qt,jt,Pe,xe=[];if(P=P||{},O={},$={},ne=w(C("script,style,head,html,body,title,meta,param"),N.getBlockElements()),jt=N.getNonEmptyElements(),Qt=N.children,Ae=D.validate,Pe="forced_root_block"in P?P.forced_root_block:D.forced_root_block,Vt=N.getWhiteSpaceElements(),ce=/^[ \t\r\n]+/,Le=/[ \t\r\n]+$/,ut=/[ \t\r\n]+/g,Dt=/^[ \t\r\n]+$/,X=new z({validate:Ae,allow_script_urls:D.allow_script_urls,allow_conditional_comments:D.allow_conditional_comments,self_closing_elements:function(oe){var re,Ce={};for(re in oe)"li"!==re&&"p"!=re&&(Ce[re]=oe[re]);return Ce}(N.getSelfClosingElements()),cdata:function(oe){J.append(x("#cdata",4)).value=oe},text:function(oe,re){var Ce;Ie||(oe=oe.replace(ut," "),J.lastChild&&ne[J.lastChild.name]&&(oe=oe.replace(ce,""))),0!==oe.length&&((Ce=x("#text",3)).raw=!!re,J.append(Ce).value=oe)},comment:function(oe){J.append(x("#comment",8)).value=oe},pi:function(oe,re){J.append(x(oe,7)).value=re,_(J)},doctype:function(oe){J.append(x("#doctype",10)).value=oe,_(J)},start:function(oe,re,Ce){var He,nt,rt,je,St;if(rt=Ae?N.getElementRule(oe):{}){for((He=x(rt.outputName||oe,1)).attributes=re,He.shortEnded=Ce,J.append(He),(St=Qt[J.name])&&Qt[He.name]&&!St[He.name]&&xe.push(He),nt=W.length;nt--;)(je=W[nt].name)in re.map&&((ge=$[je])?ge.push(He):$[je]=[He]);ne[oe]&&_(He),Ce||(J=He),!Ie&&Vt[oe]&&(Ie=!0)}},end:function(oe){var re,Ce,He,nt,rt;if(Ce=Ae?N.getElementRule(oe):{}){if(ne[oe]&&!Ie){if((re=J.firstChild)&&3===re.type)if((He=re.value.replace(ce,"")).length>0)re.value=He,re=re.next;else for(nt=re.next,re.remove(),re=nt;re&&3===re.type;)nt=re.next,(0===(He=re.value).length||Dt.test(He))&&(re.remove(),re=nt),re=nt;if((re=J.lastChild)&&3===re.type)if((He=re.value.replace(Le,"")).length>0)re.value=He,re=re.prev;else for(nt=re.prev,re.remove(),re=nt;re&&3===re.type;)nt=re.prev,(0===(He=re.value).length||Dt.test(He))&&(re.remove(),re=nt),re=nt}if(Ie&&Vt[oe]&&(Ie=!1),(Ce.removeEmpty||Ce.paddEmpty)&&J.isEmpty(jt,Vt))if(Ce.paddEmpty)S(D,J);else if(!J.attributes.map.name&&!J.attributes.map.id)return rt=J.parent,ne[J.name]?J.empty().remove():J.unwrap(),void(J=rt);J=J.parent}}},N),U=J=new ee(P.context||D.root_name,11),X.parse(A),Ae&&xe.length&&(P.context?P.invalid=!0:function(A){var P,M,x,_,H,X,U,J,ie,ye,pe,fe,ve,ge,Te,Ae;for(fe=C("tr,td,th,tbody,thead,tfoot,table"),ye=N.getNonEmptyElements(),pe=N.getWhiteSpaceElements(),ve=N.getTextBlockElements(),ge=N.getSpecialElements(),P=0;P<A.length;P++)if((M=A[P]).parent&&!M.fixed)if(ve[M.name]&&"li"==M.parent.name){for(Te=M.next;Te&&ve[Te.name];)Te.name="li",Te.fixed=!0,M.parent.insert(Te,M.parent),Te=Te.next;M.unwrap(M)}else{for(_=[M],x=M.parent;x&&!N.isValidChild(x.name,M.name)&&!fe[x.name];x=x.parent)_.push(x);if(x&&_.length>1){for(_.reverse(),H=X=V.filterNode(_[0].clone()),ie=0;ie<_.length-1;ie++){for(N.isValidChild(X.name,_[ie].name)?(U=V.filterNode(_[ie].clone()),X.append(U)):U=X,J=_[ie].firstChild;J&&J!=_[ie+1];)Ae=J.next,U.append(J),J=Ae;X=U}H.isEmpty(ye,pe)?x.insert(M,_[0],!0):(x.insert(H,_[0],!0),x.insert(M,H)),((x=_[0]).isEmpty(ye,pe)||F(x,"br"))&&x.empty().remove()}else if(M.parent){if("li"===M.name){if((Te=M.prev)&&("ul"===Te.name||"ul"===Te.name)){Te.append(M);continue}if((Te=M.next)&&("ul"===Te.name||"ul"===Te.name)){Te.insert(M,Te.firstChild,!0);continue}M.wrap(V.filterNode(new ee("ul",1)));continue}N.isValidChild(M.parent.name,"div")&&N.isValidChild("div",M.name)?M.wrap(V.filterNode(new ee("div",1))):ge[M.name]?M.empty().remove():M.unwrap()}}}(xe)),Pe&&("body"==U.name||P.isRootContent)&&function(){function oe(nt){nt&&((re=nt.firstChild)&&3==re.type&&(re.value=re.value.replace(ce,"")),(re=nt.lastChild)&&3==re.type&&(re.value=re.value.replace(Le,"")))}var Ce,He,re=U.firstChild;if(N.isValidChild(U.name,Pe.toLowerCase())){for(;re;)Ce=re.next,3==re.type||1==re.type&&"p"!==re.name&&!ne[re.name]&&!re.attr("data-mce-type")?(He||((He=x(Pe,1)).attr(D.forced_root_block_attrs),U.insert(He,re)),He.append(re)):(oe(He),He=null),re=Ce;oe(He)}}(),!P.invalid){for(Te in O){for(ge=R[Te],fe=(ie=O[Te]).length;fe--;)ie[fe].parent||ie.splice(fe,1);for(ye=0,pe=ge.length;ye<pe;ye++)ge[ye](ie,Te,P)}for(ye=0,pe=W.length;ye<pe;ye++)if((ge=W[ye]).name in $){for(fe=(ie=$[ge.name]).length;fe--;)ie[fe].parent||ie.splice(fe,1);for(fe=0,ve=ge.callbacks.length;fe<ve;fe++)ge.callbacks[fe](ie,ge.name,P)}}return U},D.remove_trailing_brs&&V.addNodeFilter("br",function(A){var P,x,X,U,J,ie,pe,fe,M=A.length,_=w({},N.getBlockElements()),H=N.getNonEmptyElements(),ye=N.getNonEmptyElements();for(_.body=1,P=0;P<M;P++)if(X=(x=A[P]).parent,_[x.parent.name]&&x===X.lastChild){for(J=x.prev;J;){if("span"!==(ie=J.name)||"bookmark"!==J.attr("data-mce-type")){if("br"!==ie)break;if("br"===ie){x=null;break}}J=J.prev}x&&(x.remove(),X.isEmpty(H,ye)&&(pe=N.getElementRule(X.name))&&(pe.removeEmpty?X.remove():pe.paddEmpty&&S(D,X)))}else{for(U=x;X&&X.firstChild===U&&X.lastChild===U&&(U=X,!_[X.name]);)X=X.parent;U===X&&!0!==D.padd_empty_with_br&&((fe=new ee("#text",3)).value="\xa0",x.replace(fe))}}),D.allow_unsafe_link_target||V.addAttributeFilter("href",function(A){function M(J){var ie=new RegExp("("+U.replace(" ","|")+")","g");return J&&(J=B.trim(J.replace(ie,""))),J||null}for(var H,X,_=A.length,U="noopener noreferrer";_--;)X=(H=A[_]).attr("rel"),"a"===H.name&&H.attr("rel",(J=X,"_blank"==H.attr("target")?function(J){return(J=M(J))?[J,U].join(" "):U}(J):M(J)));var J}),D.allow_html_in_named_anchor||V.addAttributeFilter("id,name",function(A){for(var M,x,_,H,P=A.length;P--;)if("a"===(H=A[P]).name&&H.firstChild&&!H.attr("href")){_=H.parent,M=H.lastChild;do{x=M.prev,_.insert(M,H),M=x}while(M)}}),D.fix_list_elements&&V.addNodeFilter("ul,ol",function(A){for(var M,x,P=A.length;P--;)if("ul"===(x=(M=A[P]).parent).name||"ol"===x.name)if(M.prev&&"li"===M.prev.name)M.prev.append(M);else{var _=new ee("li",1);_.attr("style","list-style-type: none"),M.wrap(_)}}),D.validate&&N.getValidClasses()&&V.addAttributeFilter("class",function(A){for(var M,x,_,H,X,J,ie,P=A.length,U=N.getValidClasses();P--;){for(x=(M=A[P]).attr("class").split(" "),X="",_=0;_<x.length;_++)H=x[_],ie=!1,(J=U["*"])&&J[H]&&(ie=!0),J=U[M.name],!ie&&J&&J[H]&&(ie=!0),ie&&(X&&(X+=" "),X+=H);X.length||(X=null),M.attr("class",X)}})}}),Ye(ln,[ze,ft],function(ee,Y){var z=Y.makeMap;return function(B){var T,b,w,S,F,C=[];return T=(B=B||{}).indent,b=z(B.indent_before||""),w=z(B.indent_after||""),S=ee.getEncodeFunc(B.entity_encoding||"raw",B.entities),F="html"==B.element_format,{start:function(D,N,E){var V,R,W,O;if(T&&b[D]&&C.length>0&&(O=C[C.length-1]).length>0&&"\n"!==O&&C.push("\n"),C.push("<",D),N)for(V=0,R=N.length;V<R;V++)C.push(" ",(W=N[V]).name,'="',S(W.value,!0),'"');C[C.length]=!E||F?">":" />",E&&T&&w[D]&&C.length>0&&(O=C[C.length-1]).length>0&&"\n"!==O&&C.push("\n")},end:function(D){var N;C.push("</",D,">"),T&&w[D]&&C.length>0&&(N=C[C.length-1]).length>0&&"\n"!==N&&C.push("\n")},text:function(D,N){D.length>0&&(C[C.length]=N?D:S(D))},cdata:function(D){C.push("<![CDATA[",D,"]]>")},comment:function(D){C.push("\x3c!--",D,"--\x3e")},pi:function(D,N){N?C.push("<?",D," ",S(N),"?>"):C.push("<?",D,"?>"),T&&C.push("\n")},doctype:function(D){C.push("<!DOCTYPE",D,">",T?"\n":"")},reset:function(){C.length=0},getContent:function(){return C.join("").replace(/\n$/,"")}}}}),Ye(Pn,[ln,dt],function(ee,Y){return function(z,B){var C=this,T=new ee(z);(z=z||{}).validate=!("validate"in z)||z.validate,C.schema=B=B||new Y,C.writer=T,C.serialize=function(b){function w(D){var E,V,R,W,O,$,A,P,M,N=S[D.type];if(N)N(D);else{if(E=D.name,V=D.shortEnded,R=D.attributes,F&&R&&R.length>1&&(($=[]).map={},M=B.getElementRule(D.name))){for(A=0,P=M.attributesOrder.length;A<P;A++)(W=M.attributesOrder[A])in R.map&&($.map[W]=O=R.map[W],$.push({name:W,value:O}));for(A=0,P=R.length;A<P;A++)(W=R[A].name)in $.map||($.map[W]=O=R.map[W],$.push({name:W,value:O}));R=$}if(T.start(D.name,R,V),!V){if(D=D.firstChild)do{w(D)}while(D=D.next);T.end(E)}}}var S,F;return F=z.validate,S={3:function(D){T.text(D.value,D.raw)},8:function(D){T.comment(D.value)},7:function(D){T.pi(D.name,D.value)},10:function(D){T.doctype(D.value)},4:function(D){T.cdata(D.value)},11:function(D){if(D=D.firstChild)do{w(D)}while(D=D.next)}},T.reset(),1!=b.type||z.inner?S[11](b):w(b),T.getContent()}}}),Ye(st,[$e,Sn,Gt,ze,Pn,bt,dt,Mt,ft,Ft],function(ee,Y,z,B,C,T,b,w,S,F){var N=S.each,E=S.trim,V=ee.DOM;return function(R,W){function O(X){var U=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+H.join("|")+')="[^"]+"'].join("|"),"gi");return F.trim(X.replace(U,""))}function $(X){var ie,ye,pe,fe,ve,U=X,J=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,ge=W.schema;for(U=O(U),ve=ge.getShortEndedElements();fe=J.exec(U);)ye=J.lastIndex,pe=fe[0].length,ie=ve[fe[1]]?ye:z.findEndTag(ge,U,ye),U=U.substring(0,ye-pe)+U.substring(ie),J.lastIndex=ye-pe;return U}var M,x,_,H=["data-mce-selected"];return W&&(M=W.dom,x=W.schema),M=M||V,x=x||new b(R),R.entity_encoding=R.entity_encoding||"named",R.remove_trailing_brs=!("remove_trailing_brs"in R)||R.remove_trailing_brs,(_=new Y(R,x)).addAttributeFilter("data-mce-tabindex",function(X,U){for(var ie,J=X.length;J--;)(ie=X[J]).attr("tabindex",ie.attributes.map["data-mce-tabindex"]),ie.attr(U,null)}),_.addAttributeFilter("src,href,style",function(X,U){for(var ie,ye,J=X.length,pe="data-mce-"+U,fe=R.url_converter,ve=R.url_converter_scope;J--;)void 0!==(ye=(ie=X[J]).attributes.map[pe])?(ie.attr(U,ye.length>0?ye:null),ie.attr(pe,null)):(ye=ie.attributes.map[U],"style"===U?ye=M.serializeStyle(M.parseStyle(ye),ie.name):fe&&(ye=fe.call(ve,ye,U,ie.name)),ie.attr(U,ye.length>0?ye:null))}),_.addAttributeFilter("class",function(X){for(var J,ie,U=X.length;U--;)(ie=(J=X[U]).attr("class"))&&(ie=J.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),J.attr("class",ie.length>0?ie:null))}),_.addAttributeFilter("data-mce-type",function(X,U,J){for(var ye,ie=X.length;ie--;)"bookmark"!==(ye=X[ie]).attributes.map["data-mce-type"]||J.cleanup||ye.remove()}),_.addNodeFilter("noscript",function(X){for(var J,U=X.length;U--;)(J=X[U].firstChild)&&(J.value=B.decode(J.value))}),_.addNodeFilter("script,style",function(X,U){function J(ve){return ve.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var ye,pe,fe,ie=X.length;ie--;)pe=(ye=X[ie]).firstChild?ye.firstChild.value:"","script"===U?((fe=ye.attr("type"))&&ye.attr("type","mce-no/type"==fe?null:fe.replace(/^mce\-/,"")),pe.length>0&&(ye.firstChild.value="// <![CDATA[\n"+J(pe)+"\n// ]]>")):pe.length>0&&(ye.firstChild.value="\x3c!--\n"+J(pe)+"\n--\x3e")}),_.addNodeFilter("#comment",function(X){for(var J,U=X.length;U--;)0===(J=X[U]).value.indexOf("[CDATA[")?(J.name="#cdata",J.type=4,J.value=J.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===J.value.indexOf("mce:protected ")&&(J.name="#text",J.type=3,J.raw=!0,J.value=unescape(J.value).substr(14))}),_.addNodeFilter("xml:namespace,input",function(X,U){for(var ie,J=X.length;J--;)7===(ie=X[J]).type?ie.remove():1===ie.type&&("input"!==U||"type"in ie.attributes.map||ie.attr("type","text"))}),_.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(X,U){for(var J=X.length;J--;)X[J].attr(U,null)}),{schema:x,addNodeFilter:_.addNodeFilter,addAttributeFilter:_.addAttributeFilter,serialize:function(X,U){var ie,ye,pe,fe,ve,ge;return w.ie&&M.select("script,style,select,map").length>0?(ve=X.innerHTML,X=X.cloneNode(!1),M.setHTML(X,ve)):X=X.cloneNode(!0),(ie=document.implementation).createHTMLDocument&&(ye=ie.createHTMLDocument(""),N("BODY"==X.nodeName?X.childNodes:[X],function(Te){ye.body.appendChild(ye.importNode(Te,!0))}),X="BODY"!=X.nodeName?ye.body.firstChild:ye.body,pe=M.doc,M.doc=ye),(U=U||{}).format=U.format||"html",U.selection&&(U.forced_root_block=""),U.no_events||(U.node=X,this.onPreProcess(U)),function(R){function W(A){return A&&"br"===A.name}var O,$;W(O=R.lastChild)&&W($=O.prev)&&(O.remove(),$.remove())}(ge=_.parse(E(U.getInner?X.innerHTML:M.getOuterHTML(X)),U)),fe=new C(R,x),U.content=fe.serialize(ge),U.cleanup||(U.content=F.trim(U.content),U.content=U.content.replace(/\uFEFF/g,"")),U.no_events||this.onPostProcess(U),pe&&(M.doc=pe),U.node=null,U.content},addRules:function(X){x.addValidElements(X)},setRules:function(X){x.setValidElements(X)},onPreProcess:function(X){W&&W.fire("PreProcess",X)},onPostProcess:function(X){W&&W.fire("PostProcess",X)},addTempAttr:function(X){-1===S.inArray(H,X)&&(_.addAttributeFilter(X,function(U,J){for(var ie=U.length;ie--;)U[ie].attr(J,null)}),H.push(X))},trimHtml:O,getTrimmedContent:function(){return $(W.getBody().innerHTML)},trimContent:$}}}),Ye(Tt,[],function(){return function(Y){function z(w,S){var F,N,E,V,R,W,O,A,D=0,$=-1;if((F=w.duplicate()).collapse(S),(A=F.parentElement()).ownerDocument===Y.dom.doc){for(;"false"===A.contentEditable;)A=A.parentNode;if(!A.hasChildNodes())return{node:A,inside:1};for(N=(V=A.children).length-1;D<=N;)if(O=Math.floor((D+N)/2),F.moveToElementText(R=V[O]),($=F.compareEndPoints(S?"StartToStart":"EndToEnd",w))>0)N=O-1;else{if(!($<0))return{node:R};D=O+1}if($<0)for(R?F.collapse(!1):(F.moveToElementText(A),F.collapse(!0),R=A,E=!0),W=0;0!==F.compareEndPoints(S?"StartToStart":"StartToEnd",w)&&0!==F.move("character",1)&&A==F.parentElement();)W++;else for(F.collapse(!0),W=0;0!==F.compareEndPoints(S?"StartToStart":"StartToEnd",w)&&0!==F.move("character",-1)&&A==F.parentElement();)W++;return{node:R,position:$,offset:W,inside:E}}}var C=this,T=Y.dom;this.getBookmark=function(w){function S(E){var V,R,W,O,$=[];for(V=E.parentNode,R=T.getRoot().parentNode;V!=R&&9!==V.nodeType;){for(O=(W=V.children).length;O--;)if(E===W[O]){$.push(O);break}E=V,V=V.parentNode}return $}function F(E){var V;if(V=z(D,E))return{position:V.position,offset:V.offset,indexes:S(V.node),inside:V.inside}}var D=Y.getRng(),N={};return 2===w&&(D.item?N.start={ctrl:!0,indexes:S(D.item(0))}:(N.start=F(!0),Y.isCollapsed()||(N.end=F()))),N},this.moveToBookmark=function(w){function S(E){var V,R,W,O;for(V=T.getRoot(),R=E.length-1;R>=0;R--)(W=E[R])<=(O=V.children).length-1&&(V=O[W]);return V}function F(E){var R,W,$,V=w[E?"start":"end"];V&&(R=V.position>0,(W=N.createTextRange()).moveToElementText(S(V.indexes)),void 0!==($=V.offset)?(W.collapse(V.inside||R),W.moveStart("character",R?-$:$)):W.collapse(E),D.setEndPoint(E?"StartToStart":"EndToStart",W),E&&D.collapse(!0))}var D,N=T.doc.body;w.start&&(w.start.ctrl?((D=N.createControlRange()).addElement(S(w.start.indexes)),D.select()):(D=N.createTextRange(),F(!0),F(),D.select()))},this.addRange=function(w){function S(M){var x,_,H,X,U;H=T.create("a"),x=M?N:V,_=M?E:R,X=F.duplicate(),x!=O&&x!=O.documentElement||(x=$,_=0),3==x.nodeType?(x.parentNode.insertBefore(H,x),X.moveToElementText(H),X.moveStart("character",_),T.remove(H),F.setEndPoint(M?"StartToStart":"EndToEnd",X)):((U=x.childNodes).length?(_>=U.length?T.insertAfter(H,U[U.length-1]):x.insertBefore(H,U[_]),X.moveToElementText(H)):x.canHaveHTML&&(x.innerHTML="<span>&#xFEFF;</span>",X.moveToElementText(H=x.firstChild),X.collapse(!1)),F.setEndPoint(M?"StartToStart":"EndToEnd",X),T.remove(H))}var F,D,N,E,V,R,W,A,P,O=Y.dom.doc,$=O.body;if(N=w.startContainer,E=w.startOffset,V=w.endContainer,R=w.endOffset,F=$.createTextRange(),N==V&&1==N.nodeType){if(E==R&&!N.hasChildNodes()){if(N.canHaveHTML)return(W=N.previousSibling)&&!W.hasChildNodes()&&T.isBlock(W)?W.innerHTML="&#xFEFF;":W=null,N.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",F.moveToElementText(N.lastChild),F.select(),T.doc.selection.clear(),N.innerHTML="",void(W&&(W.innerHTML=""));E=T.nodeIndex(N),N=N.parentNode}if(E==R-1)try{if(P=N.childNodes[E],(D=$.createControlRange()).addElement(P),D.select(),(A=Y.getRng()).item&&P===A.item(0))return}catch(M){}}S(!0),S(),F.select()},this.getRangeAt=function(){function w(W){var $,A,M,_,O=z(S,W),P=0;if($=O.node,A=O.offset,!O.inside||$.hasChildNodes())if(void 0!==A){if(O.position<0){if(!(M=O.inside?$.firstChild:$.nextSibling))return void F[W?"setStartAfter":"setEndAfter"]($);if(!A)return void(3==M.nodeType?F[W?"setStart":"setEnd"](M,0):F[W?"setStartBefore":"setEndBefore"](M));for(;M;){if(3==M.nodeType&&(P+=(_=M.nodeValue).length)>=A){$=M,P=_.length-(P-=A);break}M=M.nextSibling}}else{if(!(M=$.previousSibling))return F[W?"setStartBefore":"setEndBefore"]($);if(!A)return void(3==$.nodeType?F[W?"setStart":"setEnd"](M,$.nodeValue.length):F[W?"setStartAfter":"setEndAfter"](M));for(;M;){if(3==M.nodeType&&(P+=M.nodeValue.length)>=A){$=M,P-=A;break}M=M.previousSibling}}F[W?"setStart":"setEnd"]($,P)}else F[W?"setStartBefore":"setEndAfter"]($);else F[W?"setStart":"setEnd"]($,0)}var D,N,E,V,R,S=Y.getRng(),F=T.createRng();if((D=S.item?S.item(0):S.parentElement()).ownerDocument!=T.doc)return F;if(N=Y.isCollapsed(),S.item)return F.setStart(D.parentNode,T.nodeIndex(D)),F.setEnd(F.startContainer,F.startOffset+1),F;try{w(!0),N||w()}catch(W){if(-2147024809!=W.number)throw W;R=C.getBookmark(2),(E=S.duplicate()).collapse(!0),D=E.parentElement(),N||((E=S.duplicate()).collapse(!1),(V=E.parentElement()).innerHTML=V.innerHTML),D.innerHTML=D.innerHTML,C.moveToBookmark(R),S=Y.getRng(),w(!0),N||w()}return F}}}),Ye(Zt,[Mt],function(ee){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(Y){return Y.shiftKey||Y.ctrlKey||Y.altKey||this.metaKeyPressed(Y)},metaKeyPressed:function(Y){return ee.mac?Y.metaKey:Y.ctrlKey&&!Y.altKey}}}),Ye(_n,[Zt,ft,Ke,Mt,vt],function(ee,Y,z,B,C){var b=C.isContentEditableFalse,w=C.isContentEditableTrue;return function(S,F){function D(ct){var wt=F.settings.object_resizing;return!1!==wt&&!B.iOS&&("string"!=typeof wt&&(wt="table,img,div"),"false"!==ct.getAttribute("data-mce-resize")&&ct!=F.getBody()&&F.dom.is(ct,wt))}function N(ct){var wt,yt,Yn,Qn;Qt=(Qt=(wt=ct.screenX-ne)*Te[2]+Le)<5?5:Qt,jt=(jt=(yt=ct.screenY-ce)*Te[3]+ut)<5?5:jt,("IMG"==pe.nodeName&&!1!==F.settings.resize_img_proportional?!ee.modifierPressed(ct):ee.modifierPressed(ct)||"IMG"==pe.nodeName&&Te[2]*Te[3]!=0)&&(Ce(wt)>Ce(yt)?(jt=He(Qt*Dt),Qt=He(jt/Dt)):(Qt=He(jt/Dt),jt=He(Qt*Dt))),ie.setStyles(fe,{width:Qt,height:jt}),ie.setStyles(ve,{left:Yn=(Yn=Te.startPos.x+wt)>0?Yn:0,top:Qn=(Qn=Te.startPos.y+yt)>0?Qn:0,display:"block"}),ve.innerHTML=Qt+" &times; "+jt,Te[2]<0&&fe.clientWidth<=Qt&&ie.setStyle(fe,"left",xe+(Le-Qt)),Te[3]<0&&fe.clientHeight<=jt&&ie.setStyle(fe,"top",Ie+(ut-jt)),(wt=nt.scrollWidth-rt)+(yt=nt.scrollHeight-je)!=0&&ie.setStyles(ve,{left:Yn-wt,top:Qn-yt}),Vt||(F.fire("ObjectResizeStart",{target:pe,width:Le,height:ut}),Vt=!0)}function E(){function ct(wt,yt){yt&&(pe.style[wt]||!F.schema.isValid(pe.nodeName.toLowerCase(),wt)?ie.setStyle(pe,wt,yt):ie.setAttrib(pe,wt,yt))}Vt=!1,ct("width",Qt),ct("height",jt),ie.unbind(Pe,"mousemove",N),ie.unbind(Pe,"mouseup",E),oe!=Pe&&(ie.unbind(oe,"mousemove",N),ie.unbind(oe,"mouseup",E)),ie.remove(fe),ie.remove(ve),re&&"TABLE"!=pe.nodeName||V(pe),F.fire("ObjectResized",{target:pe,width:Qt,height:jt}),ie.setAttrib(pe,"style",ie.getAttrib(pe,"style")),F.nodeChanged()}function V(ct,wt,yt){var bn,Yn,Qn,Bi,di;R(),H(),bn=ie.getPos(ct,nt),xe=bn.x,Ie=bn.y,di=ct.getBoundingClientRect(),Yn=di.width||di.right-di.left,Qn=di.height||di.bottom-di.top,pe!=ct&&(_(),pe=ct,Qt=jt=0),Bi=F.fire("ObjectSelected",{target:ct}),D(ct)&&!Bi.isDefaultPrevented()?ye(ge,function(fi,Hi){function Ti(Rt){ne=Rt.screenX,ce=Rt.screenY,Dt=(ut=pe.clientHeight)/(Le=pe.clientWidth),Te=fi,fi.startPos={x:Yn*fi[0]+xe,y:Qn*fi[1]+Ie},rt=nt.scrollWidth,je=nt.scrollHeight,fe=pe.cloneNode(!0),ie.addClass(fe,"mce-clonedresizable"),ie.setAttrib(fe,"data-mce-bogus","all"),fe.contentEditable=!1,fe.unSelectabe=!0,ie.setStyles(fe,{left:xe,top:Ie,margin:0}),fe.removeAttribute("data-mce-selected"),nt.appendChild(fe),ie.bind(Pe,"mousemove",N),ie.bind(Pe,"mouseup",E),oe!=Pe&&(ie.bind(oe,"mousemove",N),ie.bind(oe,"mouseup",E)),ve=ie.add(nt,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},Le+" &times; "+ut)}var ki;return wt?void(Hi==wt&&Ti(yt)):((ki=ie.get("mceResizeHandle"+Hi))&&ie.remove(ki),ki=ie.add(nt,"div",{id:"mceResizeHandle"+Hi,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Hi+"-resize; margin:0; padding:0"}),B.ie&&(ki.contentEditable=!1),ie.bind(ki,"mousedown",function(Rt){Rt.stopImmediatePropagation(),Rt.preventDefault(),Ti(Rt)}),fi.elm=ki,void ie.setStyles(ki,{left:Yn*fi[0]+xe-ki.offsetWidth/2,top:Qn*fi[1]+Ie-ki.offsetHeight/2}))}):R(),pe.setAttribute("data-mce-selected","1")}function R(){var ct,wt;for(ct in H(),pe&&pe.removeAttribute("data-mce-selected"),ge)(wt=ie.get("mceResizeHandle"+ct))&&(ie.unbind(wt),ie.remove(wt))}function W(ct){function wt(Yn,Qn){if(Yn)do{if(Yn===Qn)return!0}while(Yn=Yn.parentNode)}var yt,bn;if(!Vt&&!F.removed)return ye(ie.select("img[data-mce-selected],hr[data-mce-selected]"),function(Yn){Yn.removeAttribute("data-mce-selected")}),bn="mousedown"==ct.type?ct.target:S.getNode(),wt(bn=ie.$(bn).closest(re?"table":"table,img,hr")[0],nt)&&(X(),wt(yt=S.getStart(!0),bn)&&wt(S.getEnd(!0),bn)&&(!re||bn!=yt&&"IMG"!==yt.nodeName))?void V(bn):void R()}function O(ct,wt,yt){ct&&ct.attachEvent&&ct.attachEvent("on"+wt,yt)}function $(ct,wt,yt){ct&&ct.detachEvent&&ct.detachEvent("on"+wt,yt)}function A(ct){var yt,bn,Yn,Bi,di,fi,wt=ct.srcElement;for(bn in yt=wt.getBoundingClientRect(),di=Ae.clientX-yt.left,fi=Ae.clientY-yt.top,ge)if(Bi=wt.offsetHeight*(Yn=ge[bn])[1],Ce(wt.offsetWidth*Yn[0]-di)<8&&Ce(Bi-fi)<8){Te=Yn;break}Vt=!0,F.fire("ObjectResizeStart",{target:pe,width:pe.clientWidth,height:pe.clientHeight}),F.getDoc().selection.empty(),V(wt,bn,Ae)}function M(ct){return b(function(S,F){for(;F&&F!=S;){if(w(F)||b(F))return F;F=F.parentNode}return null}(F.getBody(),ct))}function x(ct){var wt=ct.srcElement;if(M(wt))!function(ct){ct.preventDefault?ct.preventDefault():ct.returnValue=!1}(ct);else if(wt!=pe){if(F.fire("ObjectSelected",{target:wt}),_(),0===wt.id.indexOf("mceResizeHandle"))return void(ct.returnValue=!1);"IMG"!=wt.nodeName&&"TABLE"!=wt.nodeName||(R(),pe=wt,O(wt,"resizestart",A))}}function _(){$(pe,"resizestart",A)}function H(){for(var ct in ge){var wt=ge[ct];wt.elm&&(ie.unbind(wt.elm),delete wt.elm)}}function X(){try{F.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(ct){}}function U(ct){var wt;if(re){wt=Pe.body.createControlRange();try{return wt.addElement(ct),wt.select(),!0}catch(yt){}}}var pe,fe,ve,ge,Te,Ae,ne,ce,xe,Ie,Le,ut,Dt,Vt,Qt,jt,rt,je,ie=F.dom,ye=Y.each,Pe=F.getDoc(),oe=document,re=B.ie&&B.ie<11,Ce=Math.abs,He=Math.round,nt=F.getBody();ge={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var St=".mce-content-body";return F.contentStyles.push(St+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+St+" .mce-resizehandle:hover {background: #000}"+St+" img[data-mce-selected],"+St+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+St+" .mce-clonedresizable {position: absolute;"+(B.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+St+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),F.on("init",function(){re?(F.on("ObjectResized",function(wt){"TABLE"!=wt.target.nodeName&&(R(),U(wt.target))}),O(nt,"controlselect",x),F.on("mousedown",function(wt){Ae=wt})):(X(),B.ie>=11&&(F.on("mousedown click",function(wt){var yt=wt.target,bn=yt.nodeName;Vt||!/^(TABLE|IMG|HR)$/.test(bn)||M(yt)||(F.selection.select(yt,"TABLE"==bn),"mousedown"==wt.type&&F.nodeChanged())}),F.dom.bind(nt,"mscontrolselect",function(wt){function yt(bn){z.setEditorTimeout(F,function(){F.selection.select(bn)})}return M(wt.target)?(wt.preventDefault(),void yt(wt.target)):void(/^(TABLE|IMG|HR)$/.test(wt.target.nodeName)&&(wt.preventDefault(),"IMG"==wt.target.tagName&&yt(wt.target)))})));var ct=z.throttle(function(wt){F.composing||W(wt)});F.on("nodechange ResizeEditor ResizeWindow drop",ct),F.on("keyup compositionend",function(wt){pe&&"TABLE"==pe.nodeName&&ct(wt)}),F.on("hide blur",R)}),F.on("remove",H),{isResizable:D,showResizeRect:V,hideResizeRect:R,updateResizeRect:W,controlSelect:U,destroy:function(){pe=fe=null,re&&(_(),$(nt,"controlselect",x))}}}}),Ye(lt,[],function(){var w=[].slice;return{constant:function(S){return function(){return S}},negate:function(S){return function(F){return!S(F)}},and:function(){var S=w.call(arguments);return function(F){for(var D=0;D<S.length;D++)if(!S[D](F))return!1;return!0}},or:function(){var S=w.call(arguments);return function(F){for(var D=0;D<S.length;D++)if(S[D](F))return!0;return!1}},curry:function T(S){var F=w.call(arguments);return F.length-1>=S.length?S.apply(this,F.slice(1)):function(){var D=F.concat([].slice.call(arguments));return T.apply(this,D)}},compose:function(S,F){return function(D){return S(F(D))}},noop:function(){}}}),Ye(Ht,[vt,zt,en],function(ee,Y,z){function B(O){return!W(O)&&(N(O)?!E(O.parentNode):V(O)||D(O)||R(O)||F(O))}function C(O,$){for(O=O.parentNode;O&&O!=$;O=O.parentNode){if(F(O))return!1;if(S(O))return!0}return!0}var S=ee.isContentEditableTrue,F=ee.isContentEditableFalse,D=ee.isBr,N=ee.isText,E=ee.matchNodeNames("script style textarea"),V=ee.matchNodeNames("img input textarea hr iframe video audio object"),R=ee.matchNodeNames("table"),W=z.isCaretContainer;return{isCaretCandidate:B,isInEditable:C,isAtomic:function(O){return V(O)||function(O){return!!F(O)&&!0!==Y.reduce(O.getElementsByTagName("*"),function($,A){return $||S(A)},!1)}(O)},isEditableCaretCandidate:function(O,$){return B(O)&&C(O,$)}}}),Ye(le,[],function(){function ee(N){return N?{left:D(N.left),top:D(N.top),bottom:D(N.bottom),right:D(N.right),width:D(N.width),height:D(N.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function B(N,E,V){return N>=0&&N<=Math.min(E.height,V.height)/2}function C(N,E){return N.bottom<E.top||!(N.top>E.bottom)&&B(E.top-N.bottom,N,E)}function T(N,E){return N.top>E.bottom||!(N.bottom<E.top)&&B(E.bottom-N.top,N,E)}function b(N,E){return N.left<E.left}function w(N,E){return N.right>E.right}var D=Math.round;return{clone:ee,collapse:function(N,E){return N=ee(N),E||(N.left=N.left+N.width),N.right=N.left,N.width=0,N},isEqual:function(N,E){return N.left===E.left&&N.top===E.top&&N.bottom===E.bottom&&N.right===E.right},isAbove:C,isBelow:T,isLeft:b,isRight:w,compare:function(N,E){return C(N,E)?-1:T(N,E)?1:b(N,E)?-1:w(N,E)?1:0},containsXY:function(N,E,V){return E>=N.left&&E<=N.right&&V>=N.top&&V<=N.bottom}}}),Ye(Et,[],function(){var Y=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:function(z){return"string"==typeof z&&z.charCodeAt(0)>=768&&Y.test(z)}}}),Ye(wn,[lt,vt,$e,Kt,Ht,le,Et],function(ee,Y,z,B,C,T,b){function w(_){return"createRange"in _?_.createRange():z.DOM.createRng()}function S(_){return _&&/[\r\n\t ]/.test(_)}function F(_){var U,H=_.startContainer,X=_.startOffset;return!!(S(_.toString())&&$(H.parentNode)&&(U=H.data,S(U[X-1])||S(U[X+1])))}function N(_,H,X){function ye(){return X||(X=function(_){function X(ve){var ge,Te;return Te=ve.getClientRects(),ge=T.clone(Te.length>0?Te[0]:ve.getBoundingClientRect()),P(ve)&&0===ge.left?function(ve){var ce,ge=ve.ownerDocument,Te=w(ge),Ae=ge.createTextNode("\xa0"),ne=ve.parentNode;return ne.insertBefore(Ae,ve),Te.setStart(Ae,0),Te.setEnd(Ae,1),ce=T.clone(Te.getBoundingClientRect()),ne.removeChild(Ae),ce}(ve):ge}function U(ve,ge){return(ve=T.collapse(ve,ge)).width=1,ve.right=ve.left+1,ve}function J(ve){0!==ve.height&&(ye.length>0&&T.isEqual(ve,ye[ye.length-1])||ye.push(ve))}function ie(ve,ge){var Te=w(ve.ownerDocument);if(ge<ve.data.length){if(b.isExtendingChar(ve.data[ge]))return ye;if(b.isExtendingChar(ve.data[ge-1])&&(Te.setStart(ve,ge),Te.setEnd(ve,ge+1),!F(Te)))return J(U(X(Te),!1)),ye}ge>0&&(Te.setStart(ve,ge-1),Te.setEnd(ve,ge),F(Te)||J(U(X(Te),!1))),ge<ve.data.length&&(Te.setStart(ve,ge),Te.setEnd(ve,ge+1),F(Te)||J(U(X(Te),!0)))}var pe,fe,ye=[];if(A(_.container()))return ie(_.container(),_.offset()),ye;if(E(_.container()))if(_.isAtEnd())fe=x(_.container(),_.offset()),A(fe)&&ie(fe,fe.data.length),O(fe)&&!P(fe)&&J(U(X(fe),!1));else{if(fe=x(_.container(),_.offset()),A(fe)&&ie(fe,0),O(fe)&&_.isAtEnd())return J(U(X(fe),!1)),ye;pe=x(_.container(),_.offset()-1),O(pe)&&!P(pe)&&(R(pe)||R(fe)||!O(fe))&&J(U(X(pe),!1)),O(fe)&&J(U(X(fe),!0))}return ye}(new N(_,H))),X}return{container:ee.constant(_),offset:ee.constant(H),toRange:function(){var ge;return(ge=w(_.ownerDocument)).setStart(_,H),ge.setEnd(_,H),ge},getClientRects:ye,isVisible:function(){return ye().length>0},isAtStart:function(){return A(_),0===H},isAtEnd:function(){return A(_)?H>=_.data.length:H>=_.childNodes.length},isEqual:function(ge){return ge&&_===ge.container()&&H===ge.offset()},getNode:function(ge){return x(_,ge?H-1:H)}}}var E=Y.isElement,V=C.isCaretCandidate,R=Y.matchStyleValues("display","block table"),W=Y.matchStyleValues("float","left right"),O=ee.and(E,V,ee.negate(W)),$=ee.negate(Y.matchStyleValues("white-space","pre pre-line pre-wrap")),A=Y.isText,P=Y.isBr,M=z.nodeIndex,x=B.getNode;return N.fromRangeStart=function(_){return new N(_.startContainer,_.startOffset)},N.fromRangeEnd=function(_){return new N(_.endContainer,_.endOffset)},N.after=function(_){return new N(_.parentNode,M(_)+1)},N.before=function(_){return new N(_.parentNode,M(_))},N}),Ye(Nn,[vt,$e,lt,zt,wn],function(ee,Y,z,B,C){function T(P){var M=P.parentNode;return $(M)?T(M):M}function b(P){return P?B.reduce(P.childNodes,function(M,x){return $(x)&&"BR"!=x.nodeName?M=M.concat(b(x)):M.push(x),M},[]):[]}function S(P){return function(M){return P===M}}function F(P){var M,x,_;return M=b(T(P)),x=B.findIndex(M,S(P),P),M=M.slice(0,x+1),_=B.reduce(M,function(H,X,U){return O(X)&&O(M[U-1])&&H++,H},0),M=B.filter(M,ee.matchNodeNames(P.nodeName)),(x=B.findIndex(M,S(P),P))-_}function D(P){return(O(P)?"text()":P.nodeName.toLowerCase())+"["+F(P)+"]"}var O=ee.isText,$=ee.isBogus,A=Y.nodeIndex;return{create:function(P,M){var x,_,X,U,J,H=[];return x=M.container(),_=M.offset(),O(x)?X=function(P,M){for(;(P=P.previousSibling)&&O(P);)M+=P.data.length;return M}(x,_):(_>=(U=x.childNodes).length?(X="after",_=U.length-1):X="before",x=U[_]),H.push(D(x)),J=function(P,M,x){var _=[];for(M=M.parentNode;M!=P;M=M.parentNode)_.push(M);return _}(P,x),J=B.filter(J,z.negate(ee.isBogus)),(H=H.concat(B.map(J,function(ie){return D(ie)}))).reverse().join("/")+","+X},resolve:function(P,M){var x,_,H;return M?(x=M.split(","),M=x[0].split("/"),H=x.length>1?x[1]:"before",_=B.reduce(M,function(X,U){return(U=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(U))?("text()"===U[1]&&(U[1]="#text"),function(P,M,x){var _=b(P);return _=B.filter(_,function(H,X){return!O(H)||!O(_[X-1])}),(_=B.filter(_,ee.matchNodeNames(M)))[x]}(X,U[1],parseInt(U[2],10))):null},P),_?O(_)?function(P,M){for(var H,x=P,_=0;O(x);){if(H=x.data.length,M>=_&&M<=_+H){P=x,M-=_;break}if(!O(x.nextSibling)){P=x,M=H;break}_+=H,x=x.nextSibling}return M>P.data.length&&(M=P.data.length),new C(P,M)}(_,parseInt(H,10)):(H="after"===H?A(_)+1:A(_),new C(_.parentNode,H)):null):null}}}),Ye(En,[Mt,ft,en,Nn,wn,vt,Kt],function(ee,Y,z,B,C,T,b){function w(F){var D=F.dom;this.getBookmark=function(N,E){function V(U,J){var ie=0;return Y.each(D.select(U),function(ye){if("all"!==ye.getAttribute("data-mce-bogus"))return ye!=J&&void ie++}),ie}function R(U){function J(ie){var ye,pe,fe,ve=ie?"start":"end";pe=U[ve+"Offset"],1==(ye=U[ve+"Container"]).nodeType&&"TR"==ye.nodeName&&(ye=(fe=ye.childNodes)[Math.min(ie?pe:pe-1,fe.length-1)])&&U["set"+(ie?"Start":"End")](ye,pe=ie?0:ye.childNodes.length)}return J(!0),J(),U}var $,A,P,M,x,_,X,H="&#xFEFF;";if(2==N)return x=(_=F.getNode())?_.nodeName:null,$=F.getRng(),S(_)||"IMG"==x?{name:x,index:V(x,_)}:F.tridentSel?F.tridentSel.getBookmark(N):(_=function(U){function J(ie,ye){var pe;return T.isElement(ie)&&(ie=b.getNode(ie,ye),S(ie))?ie:z.isCaretContainer(ie)&&(T.isText(ie)&&z.isCaretContainerBlock(ie)&&(ie=ie.parentNode),S(pe=ie.previousSibling)||S(pe=ie.nextSibling))?pe:void 0}return J(U.startContainer,U.startOffset)||J(U.endContainer,U.endOffset)}($))?{name:x=_.tagName,index:V(x,_)}:function(U){function J(pe,fe){var Ae,ne,ve=pe[fe?"startContainer":"endContainer"],ge=pe[fe?"startOffset":"endOffset"],Te=[],ce=0;if(3==ve.nodeType){if(E)for(Ae=ve.previousSibling;Ae&&3==Ae.nodeType;Ae=Ae.previousSibling)ge+=Ae.nodeValue.length;Te.push(ge)}else ge>=(ne=ve.childNodes).length&&ne.length&&(ce=1,ge=Math.max(0,ne.length-1)),Te.push(D.nodeIndex(ne[ge],E)+ce);for(;ve&&ve!=ie;ve=ve.parentNode)Te.push(D.nodeIndex(ve,E));return Te}var ie=D.getRoot(),ye={};return ye.start=J(U,!0),F.isCollapsed()||(ye.end=J(U)),ye}($);if(3==N)return $=F.getRng(),{start:B.create(D.getRoot(),C.fromRangeStart($)),end:B.create(D.getRoot(),C.fromRangeEnd($))};if(N)return{rng:F.getRng()};if($=F.getRng(),P=D.uniqueId(),M=F.isCollapsed(),X="overflow:hidden;line-height:0px",$.duplicate||$.item){if($.item)return{name:x=(_=$.item(0)).nodeName,index:V(x,_)};A=$.duplicate();try{$.collapse(),$.pasteHTML('<span data-mce-type="bookmark" id="'+P+'_start" style="'+X+'">'+H+"</span>"),M||(A.collapse(!1),$.moveToElementText(A.parentElement()),0===$.compareEndPoints("StartToEnd",A)&&A.move("character",-1),A.pasteHTML('<span data-mce-type="bookmark" id="'+P+'_end" style="'+X+'">'+H+"</span>"))}catch(U){return null}}else{if("IMG"==(x=(_=F.getNode()).nodeName))return{name:x,index:V(x,_)};A=R($.cloneRange()),M||(A.collapse(!1),A.insertNode(D.create("span",{"data-mce-type":"bookmark",id:P+"_end",style:X},H))),($=R($)).collapse(!0),$.insertNode(D.create("span",{"data-mce-type":"bookmark",id:P+"_start",style:X},H))}return F.moveToBookmark({id:P,keep:1}),{id:P}},this.moveToBookmark=function(N){function E(_){var X,U,J,ie,H=N[_?"start":"end"];if(H){for(J=H[0],U=$,X=H.length-1;X>=1;X--){if(H[X]>(ie=U.childNodes).length-1)return;U=ie[H[X]]}3===U.nodeType&&(J=Math.min(H[0],U.nodeValue.length)),1===U.nodeType&&(J=Math.min(H[0],U.childNodes.length)),_?O.setStart(U,J):O.setEnd(U,J)}return!0}function V(_){var X,U,J,ie,H=D.get(N.id+"_"+_),ye=N.keep;if(H&&(X=H.parentNode,"start"==_?(ye?(X=H.firstChild,U=1):U=D.nodeIndex(H),A=P=X,M=x=U):(ye?(X=H.firstChild,U=1):U=D.nodeIndex(H),P=X,x=U),!ye)){for(ie=H.previousSibling,J=H.nextSibling,Y.each(Y.grep(H.childNodes),function(pe){3==pe.nodeType&&(pe.nodeValue=pe.nodeValue.replace(/\uFEFF/g,""))});H=D.get(N.id+"_"+_);)D.remove(H,1);ie&&J&&ie.nodeType==J.nodeType&&3==ie.nodeType&&!ee.opera&&(U=ie.nodeValue.length,ie.appendData(J.nodeValue),D.remove(J),"start"==_?(A=P=ie,M=x=U):(P=ie,x=U))}}function R(_){return!D.isBlock(_)||_.innerHTML||ee.ie||(_.innerHTML='<br data-mce-bogus="1" />'),_}var O,$,A,P,M,x,_,H;if(N)if(Y.isArray(N.start)){if(O=D.createRng(),$=D.getRoot(),F.tridentSel)return F.tridentSel.moveToBookmark(N);E(!0)&&E()&&F.setRng(O)}else"string"==typeof N.start?F.setRng((_=D.createRng(),H=B.resolve(D.getRoot(),N.start),_.setStart(H.container(),H.offset()),H=B.resolve(D.getRoot(),N.end),_.setEnd(H.container(),H.offset()),_)):N.id?(V("start"),V("end"),A&&((O=D.createRng()).setStart(R(A),M),O.setEnd(R(P),x),F.setRng(O))):N.name?F.select(D.select(N.name)[N.index]):N.rng&&F.setRng(N.rng)}}var S=T.isContentEditableFalse;return w.isBookmarkNode=function(F){return F&&"SPAN"===F.tagName&&"bookmark"===F.getAttribute("data-mce-type")},w}),Ye(vi,[me,Tt,_n,Kt,En,vt,Mt,ft,wn],function(ee,Y,z,B,C,T,b,w,S){function F(V,R,W,O){var $=this;$.dom=V,$.win=R,$.serializer=W,$.editor=O,$.bookmarkManager=new C($),$.controlSelection=new z($,O),$.win.getSelection||($.tridentSel=new Y($))}var D=w.each,N=w.trim,E=b.ie;return F.prototype={setCursorLocation:function(V,R){var W=this,O=W.dom.createRng();V?(O.setStart(V,R),O.setEnd(V,R),W.setRng(O),W.collapse(!1)):(W._moveEndPoint(O,W.editor.getBody(),!0),W.setRng(O))},getContent:function(V){var A,P,M,R=this,W=R.getRng(),O=R.dom.create("body"),$=R.getSel();return A=P="",(V=V||{}).get=!0,V.format=V.format||"html",V.selection=!0,R.editor.fire("BeforeGetContent",V),"text"==V.format?R.isCollapsed()?"":W.text||($.toString?$.toString():""):(W.cloneContents?(M=W.cloneContents())&&O.appendChild(M):W.item!==Ln||W.htmlText!==Ln?(O.innerHTML="<br>"+(W.item?W.item(0).outerHTML:W.htmlText),O.removeChild(O.firstChild)):O.innerHTML=W.toString(),/^\s/.test(O.innerHTML)&&(A=" "),/\s+$/.test(O.innerHTML)&&(P=" "),V.getInner=!0,V.content=R.isCollapsed()?"":A+R.serializer.serialize(O,V)+P,R.editor.fire("GetContent",V),V.content)},setContent:function(V,R){var $,P,M,W=this,O=W.getRng(),A=W.win.document;if((R=R||{format:"html"}).set=!0,R.selection=!0,R.content=V,R.no_events||W.editor.fire("BeforeSetContent",R),V=R.content,O.insertNode){V+='<span id="__caret">_</span>',O.startContainer==A&&O.endContainer==A?A.body.innerHTML=V:(O.deleteContents(),0===A.body.childNodes.length?A.body.innerHTML=V:O.createContextualFragment?O.insertNode(O.createContextualFragment(V)):(P=A.createDocumentFragment(),M=A.createElement("div"),P.appendChild(M),M.outerHTML=V,O.insertNode(P))),$=W.dom.get("__caret"),(O=A.createRange()).setStartBefore($),O.setEndBefore($),W.setRng(O),W.dom.remove("__caret");try{W.setRng(O)}catch(x){}}else O.item&&(A.execCommand("Delete",!1,null),O=W.getRng()),/^\s+/.test(V)?(O.pasteHTML('<span id="__mce_tmp">_</span>'+V),W.dom.remove("__mce_tmp")):O.pasteHTML(V);R.no_events||W.editor.fire("SetContent",R)},getStart:function(V){var O,$,A,P,R=this,W=R.getRng();if(W.duplicate||W.item){if(W.item)return W.item(0);for((A=W.duplicate()).collapse(1),(O=A.parentElement()).ownerDocument!==R.dom.doc&&(O=R.dom.getRoot()),$=P=W.parentElement();P=P.parentNode;)if(P==O){O=$;break}return O}return 1==(O=W.startContainer).nodeType&&O.hasChildNodes()&&(V&&W.collapsed||(O=O.childNodes[Math.min(O.childNodes.length-1,W.startOffset)])),O&&3==O.nodeType?O.parentNode:O},getEnd:function(V){var O,$,R=this,W=R.getRng();return W.duplicate||W.item?W.item?W.item(0):((W=W.duplicate()).collapse(0),(O=W.parentElement()).ownerDocument!==R.dom.doc&&(O=R.dom.getRoot()),O&&"BODY"==O.nodeName&&O.lastChild||O):($=W.endOffset,1==(O=W.endContainer).nodeType&&O.hasChildNodes()&&(V&&W.collapsed||(O=O.childNodes[$>0?$-1:$])),O&&3==O.nodeType?O.parentNode:O)},getBookmark:function(V,R){return this.bookmarkManager.getBookmark(V,R)},moveToBookmark:function(V){return this.bookmarkManager.moveToBookmark(V)},select:function(V,R){var A,W=this,O=W.dom,$=O.createRng();if(W.lastFocusBookmark=null,V){if(!R&&W.controlSelection.controlSelect(V))return;A=O.nodeIndex(V),$.setStart(V.parentNode,A),$.setEnd(V.parentNode,A+1),R&&(W._moveEndPoint($,V,!0),W._moveEndPoint($,V)),W.setRng($)}return V},isCollapsed:function(){var R=this.getRng(),W=this.getSel();return!(!R||R.item)&&(R.compareEndPoints?0===R.compareEndPoints("StartToEnd",R):!W||R.collapsed)},collapse:function(V){var O,R=this,W=R.getRng();W.item&&(O=W.item(0),(W=R.win.document.body.createTextRange()).moveToElementText(O)),W.collapse(!!V),R.setRng(W)},getSel:function(){var V=this.win;return V.getSelection?V.getSelection():V.document.selection},getRng:function(V){function R(H,X,U){try{return X.compareBoundaryPoints(H,U)}catch(J){return-1}}var O,$,A,P,M,x,W=this;if(!W.win||null==(P=W.win.document))return null;if(!V&&W.lastFocusBookmark){var _=W.lastFocusBookmark;return _.startContainer?(($=P.createRange()).setStart(_.startContainer,_.startOffset),$.setEnd(_.endContainer,_.endOffset)):$=_,$}if(V&&W.tridentSel)return W.tridentSel.getRangeAt(0);try{(O=W.getSel())&&($=O.rangeCount>0?O.getRangeAt(0):O.createRange?O.createRange():P.createRange())}catch(H){}if((x=W.editor.fire("GetSelectionRange",{range:$})).range!==$)return x.range;if(E&&$&&$.setStart&&P.selection){try{M=P.selection.createRange()}catch(H){}M&&M.item&&(A=M.item(0),($=P.createRange()).setStartBefore(A),$.setEndAfter(A))}return $||($=P.createRange?P.createRange():P.body.createTextRange()),$.setStart&&9===$.startContainer.nodeType&&$.collapsed&&(A=W.dom.getRoot(),$.setStart(A,0),$.setEnd(A,0)),W.selectedRange&&W.explicitRange&&(0===R($.START_TO_START,$,W.selectedRange)&&0===R($.END_TO_END,$,W.selectedRange)?$=W.explicitRange:(W.selectedRange=null,W.explicitRange=null)),$},setRng:function(V,R){var O,$,W=this;if(V)if(V.select){W.explicitRange=null;try{V.select()}catch(P){}}else if(W.tridentSel){if(V.cloneRange)try{W.tridentSel.addRange(V)}catch(P){}}else{if(O=W.getSel(),V=W.editor.fire("SetSelectionRange",{range:V}).range,O){W.explicitRange=V;try{O.removeAllRanges(),O.addRange(V)}catch(P){}!1===R&&O.extend&&(O.collapse(V.endContainer,V.endOffset),O.extend(V.startContainer,V.startOffset)),W.selectedRange=O.rangeCount>0?O.getRangeAt(0):null}V.collapsed||V.startContainer!=V.endContainer||!O.setBaseAndExtent||b.ie||V.endOffset-V.startOffset<2&&V.startContainer.hasChildNodes()&&($=V.startContainer.childNodes[V.startOffset])&&"IMG"==$.tagName&&(O.setBaseAndExtent(V.startContainer,V.startOffset,V.endContainer,V.endOffset),O.anchorNode===V.startContainer&&O.focusNode===V.endContainer||O.setBaseAndExtent($,0,$,1)),W.editor.fire("AfterSetSelectionRange",{range:V})}},setNode:function(V){return this.setContent(this.dom.getOuterHTML(V)),V},getNode:function(){function V(_,H){for(var X=_;_&&3===_.nodeType&&0===_.length;)_=H?_.nextSibling:_.previousSibling;return _||X}var O,$,A,P,M,R=this,W=R.getRng(),x=R.dom.getRoot();return W?($=W.startContainer,A=W.endContainer,P=W.startOffset,M=W.endOffset,W.setStart?(O=W.commonAncestorContainer,!W.collapsed&&($==A&&M-P<2&&$.hasChildNodes()&&(O=$.childNodes[P]),3===$.nodeType&&3===A.nodeType&&($=$.length===P?V($.nextSibling,!0):$.parentNode,A=0===M?V(A.previousSibling,!1):A.parentNode,$&&$===A))?$:O&&3==O.nodeType?O.parentNode:O):((O=W.item?W.item(0):W.parentElement()).ownerDocument!==R.win.document&&(O=x),O)):x},getSelectedBlocks:function(V,R){var $,A,W=this,O=W.dom,P=[];if(A=O.getRoot(),V=O.getParent(V||W.getStart(),O.isBlock),R=O.getParent(R||W.getEnd(),O.isBlock),V&&V!=A&&P.push(V),V&&R&&V!=R){$=V;for(var M=new ee(V,A);($=M.next())&&$!=R;)O.isBlock($)&&P.push($)}return R&&V!=R&&R!=A&&P.push(R),P},isForward:function(){var W,O,V=this.dom,R=this.getSel();return!(R&&R.anchorNode&&R.focusNode)||((W=V.createRng()).setStart(R.anchorNode,R.anchorOffset),W.collapse(!0),(O=V.createRng()).setStart(R.focusNode,R.focusOffset),O.collapse(!0),W.compareBoundaryPoints(W.START_TO_START,O)<=0)},normalize:function(){var V=this,R=V.getRng();return b.range&&new B(V.dom).normalize(R)&&V.setRng(R,V.isForward()),R},selectorChanged:function(V,R){var O,W=this;return W.selectorChangedData||(W.selectorChangedData={},O={},W.editor.on("NodeChange",function($){var A=$.element,P=W.dom,M=P.getParents(A,null,P.getRoot()),x={};D(W.selectorChangedData,function(_,H){D(M,function(X){if(P.is(X,H))return O[H]||(D(_,function(U){U(!0,{node:X,selector:H,parents:M})}),O[H]=_),x[H]=_,!1})}),D(O,function(_,H){x[H]||(delete O[H],D(_,function(X){X(!1,{node:A,selector:H,parents:M})}))})})),W.selectorChangedData[V]||(W.selectorChangedData[V]=[]),W.selectorChangedData[V].push(R),W},getScrollContainer:function(){for(var V,R=this.dom.getRoot();R&&"BODY"!=R.nodeName;){if(R.scrollHeight>R.clientHeight){V=R;break}R=R.parentNode}return V},scrollIntoView:function(V,R){function W(U){for(var J=0,ie=0,ye=U;ye&&ye.nodeType;)J+=ye.offsetLeft||0,ie+=ye.offsetTop||0,ye=ye.offsetParent;return{x:J,y:ie}}var O,$,x,_,A=this,P=A.dom,M=P.getRoot(),H=0;if(T.isElement(V)){if(!1===R&&(H=V.offsetHeight),"BODY"!=M.nodeName){var X=A.getScrollContainer();if(X)return O=W(V).y-W(X).y+H,_=X.clientHeight,void((O<(x=X.scrollTop)||O+25>x+_)&&(X.scrollTop=O<x?O:O-_+25))}$=P.getViewPort(A.editor.getWin()),O=P.getPos(V).y+H,x=$.y,_=$.h,(O<$.y||O+25>x+_)&&A.editor.getWin().scrollTo(0,O<x?O:O-_+25)}},placeCaretAt:function(V,R){this.setRng(B.getCaretRangeFromPoint(V,R,this.editor.getDoc()))},_moveEndPoint:function(V,R,W){var O=R,$=new ee(R,O),A=this.dom.schema.getNonEmptyElements();do{if(3==R.nodeType&&0!==N(R.nodeValue).length)return void(W?V.setStart(R,0):V.setEnd(R,R.nodeValue.length));if(A[R.nodeName]&&!/^(TD|TH)$/.test(R.nodeName))return void(W?V.setStartBefore(R):"BR"==R.nodeName?V.setEndBefore(R):V.setEndAfter(R));if(b.ie&&b.ie<11&&this.dom.isBlock(R)&&this.dom.isEmpty(R))return void(W?V.setStart(R,0):V.setEnd(R,0))}while(R=W?$.next():$.prev());"BODY"==O.nodeName&&(W?V.setStart(O,0):V.setEnd(O,O.childNodes.length))},getBoundingClientRect:function(){var V=this.getRng();return V.collapsed?S.fromRangeStart(V).getClientRects()[0]:V.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},F}),Ye(si,[En,ft],function(ee,Y){var B=Y.each;return function(C){this.compare=function(T,b){function w(F){var D={};return B(C.getAttribs(F),function(N){var E=N.nodeName.toLowerCase();0!==E.indexOf("_")&&"style"!==E&&0!==E.indexOf("data-")&&(D[E]=C.getAttrib(F,E))}),D}function S(F,D){var N,E;for(E in F)if(F.hasOwnProperty(E)){if(void 0===(N=D[E])||F[E]!=N)return!1;delete D[E]}for(E in D)if(D.hasOwnProperty(E))return!1;return!0}return!(T.nodeName!=b.nodeName||!S(w(T),w(b))||!S(C.parseStyle(C.getAttrib(T,"style")),C.parseStyle(C.getAttrib(b,"style")))||ee.isBookmarkNode(T)||ee.isBookmarkNode(b))}}}),Ye(qn,[$e,ft,dt],function(ee,Y,z){function B(D,N){function V(M){var x;return function(M,x){x.classes.length&&F.addClass(M,x.classes.join(" ")),F.setAttribs(M,x.attrs)}(x=F.create(($="string"==typeof M?{name:M,classes:[],attrs:{}}:M).name),$),x}var O,$,A,P=N&&N.schema||new z({});return D&&D.length?(O=V($=D[0]),(A=F.create("div")).appendChild(function W(M,x,_){var H,X,U,J=x.length&&x[0],ie=J&&J.name;if(U=function(M,x){var _="string"!=typeof M?M.nodeName.toLowerCase():M,X=P.getElementRule(_).parentsRequired;return!(!X||!X.length)&&(x&&-1!==Y.inArray(X,x)?x:X[0])}(M,ie))ie==U?(X=x[0],x=x.slice(1)):X=U;else if(J)X=x[0],x=x.slice(1);else if(!_)return M;return X&&(H=V(X)).appendChild(M),_&&(H||(H=F.create("div")).appendChild(M),Y.each(_,function(ye){var pe=V(ye);H.insertBefore(pe,M)})),W(H,x,X&&X.siblings)}(O,D.slice(1),$.siblings)),A):""}function T(D){var N,E={classes:[],attrs:{}};return"*"!==(D=E.selector=Y.trim(D))&&(N=D.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(V,R,W,O,$){switch(R){case"#":E.attrs.id=W;break;case".":E.classes.push(W);break;case":":-1!==Y.inArray("checked disabled enabled read-only required".split(" "),W)&&(E.attrs[W]=W)}if("["==O){var A=$.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(E.attrs[A[1]]=A[2])}return""})),E.name=N||"div",E}function b(D){return D&&"string"==typeof D?(D=(D=D.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Y.map(D.split(/(?:>|\s+(?![^\[\]]+\]))/),function(N){var E=Y.map(N.split(/(?:~\+|~|\+)/),T),V=E.pop();return E.length&&(V.siblings=E),V}).reverse()):[]}var S=Y.each,F=ee.DOM;return{getCssText:function(D,N){function E(M){return M.replace(/%(\w+)/g,"")}var V,R,W,O,A,P,$="";if(!1===(P=D.settings.preview_styles))return"";if("string"!=typeof P&&(P="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof N){if(!(N=D.formatter.get(N)))return;N=N[0]}return"preview"in N&&!1===(P=N.preview)?"":(V=N.block||N.inline||"span",(O=b(N.selector)).length?(O[0].name||(O[0].name=V),V=N.selector,R=B(O,D)):R=B([V],D),W=F.select(V,R)[0]||R.firstChild,S(N.styles,function(M,x){(M=E(M))&&F.setStyle(W,x,M)}),S(N.attributes,function(M,x){(M=E(M))&&F.setAttrib(W,x,M)}),S(N.classes,function(M){M=E(M),F.hasClass(W,M)||F.addClass(W,M)}),D.fire("PreviewFormats"),F.setStyles(R,{position:"absolute",left:-65535}),D.getBody().appendChild(R),A=F.getStyle(D.getBody(),"fontSize",!0),A=/px$/.test(A)?parseInt(A,10):0,S(P.split(" "),function(M){var x=F.getStyle(W,M,!0);if(!("background-color"==M&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(x)&&(x=F.getStyle(D.getBody(),M,!0),"#ffffff"==F.toHex(x).toLowerCase())||"color"==M&&"#000000"==F.toHex(x).toLowerCase())){if("font-size"==M&&/em|%$/.test(x)){if(0===A)return;x=(x=parseFloat(x,10)/(/%$/.test(x)?100:1))*A+"px"}"border"==M&&x&&($+="padding:0 2px;"),$+=M+":"+x+";"}}),D.fire("AfterPreviewFormats"),F.remove(R),$)},parseSelector:b,selectorToHtml:function(D,N){return B(b(D),N)}}}),Ye(zi,[zt,vt,ot],function(ee,Y,z){var F,T={},b=ee.filter,w=ee.each;return F=function(S){var E,V,N=S.selection.getRng();E=Y.matchNodeNames("pre"),N.collapsed||(V=S.selection.getSelectedBlocks(),w(b(b(V,E),function(R){return E(R.previousSibling)&&-1!=ee.indexOf(V,R.previousSibling)}),function(R){!function(R,W){z(W).remove(),z(R).append("<br><br>").append(W.childNodes)}(R.previousSibling,R)}))},T["pre"]||(T.pre=[]),T.pre.push(F),{postProcess:function(S,F){w(T[S],function(D){D(F)})}}}),Ye(yi,[me,Kt,En,si,lt,ft,qn,zi],function(ee,Y,z,B,C,T,b,w){return function(S){function F(Fe){return Fe.nodeType&&(Fe=Fe.nodeName),!!S.schema.getTextBlockElements()[Fe.toLowerCase()]}function D(Fe){return/^(TH|TD)$/.test(Fe.nodeName)}function E(Fe,Je){return je.getParents(Fe,Je,je.getRoot())}function V(Fe){return 1===Fe.nodeType&&"_mce_caret"===Fe.id}function O(Fe){return Fe?rt[Fe]:rt}function $(Fe,Je){Fe&&("string"!=typeof Fe?Ct(Fe,function(ae,Se){$(Se,ae)}):(Ct(Je=Je.length?Je:[Je],function(ae){ae.deep===Ti&&(ae.deep=!ae.selector),ae.split===Ti&&(ae.split=!ae.selector||ae.inline),ae.remove===Ti&&ae.selector&&!ae.inline&&(ae.remove="none"),ae.selector&&ae.inline&&(ae.mixed=!0,ae.block_expand=!0),"string"==typeof ae.classes&&(ae.classes=ae.classes.split(/\s+/))}),rt[Fe]=Je))}function P(Fe,Je){var ae=O(Je);if(ae)for(var Se=0;Se<ae.length;Se++)if(!1===ae[Se].inherit&&je.is(Fe,ae[Se].selector))return!0;return!1}function M(Fe){var Je;return S.dom.getParent(Fe,function(ae){return(Je=S.dom.getStyle(ae,"text-decoration"))&&"none"!==Je}),Je}function x(Fe){var Je;1===Fe.nodeType&&Fe.parentNode&&1===Fe.parentNode.nodeType&&(Je=M(Fe.parentNode),S.dom.getStyle(Fe,"color")&&Je?S.dom.setStyle(Fe,"text-decoration",Je):S.dom.getStyle(Fe,"text-decoration")===Je&&S.dom.setStyle(Fe,"text-decoration",null))}function _(Fe,Je,ae){function Se(f,p){if(p=p||Ee,f){if(p.onformat&&p.onformat(f,p,Je,ae),Ct(p.styles,function(k,L){je.setStyle(f,L,Le(k,Je))}),p.styles){var v=je.getAttrib(f,"style");v&&f.setAttribute("data-mce-style",v)}Ct(p.attributes,function(k,L){je.setAttrib(f,L,Le(k,Je))}),Ct(p.classes,function(k){k=Le(k,Je),je.hasClass(f,k)||je.addClass(f,k)})}}function Ve(f,p){var v=!1;return!!Ee.selector&&(Ct(f,function(k){if(!("collapsed"in k)||k.collapsed===$t)return je.is(p,k.selector)&&!V(p)?(Se(p,k),v=!0,!1):void 0}),v)}function mt(f,p,v){var L,G,k=[],Z=!0;Se(G=je.create(L=Ee.inline||Ee.block)),ct.walk(f,function(Q){var he;Ct(Q,function se(_e){var Re,De,Ue,Ze;if(Ze=Z,Re=_e.nodeName.toLowerCase(),De=_e.parentNode.nodeName.toLowerCase(),1===_e.nodeType&&ki(_e)&&(Ze=Z,Z="true"===ki(_e),Ue=!0),ge(Re,"br"))return he=0,void(Ee.block&&je.remove(_e));if(Ee.wrapper&&U(_e,Fe,Je))he=0;else{if(Z&&!Ue&&Ee.block&&!Ee.wrapper&&F(Re)&&wt(De,L))return Se(_e=je.rename(_e,L)),k.push(_e),void(he=0);if(Ee.selector){var qt=Ve(et,_e);if(!Ee.inline||qt)return void(he=0)}!Z||Ue||!wt(L,Re)||!wt(De,L)||!v&&3===_e.nodeType&&1===_e.nodeValue.length&&65279===_e.nodeValue.charCodeAt(0)||V(_e)||Ee.inline&&yt(_e)?(he=0,Ct(sn(_e.childNodes),se),Ue&&(Z=Ze),he=0):(he||(he=je.clone(G,di),_e.parentNode.insertBefore(he,_e),k.push(he)),he.appendChild(_e))}})}),!0===Ee.links&&Ct(k,function(Q){!function se(he){"A"===he.nodeName&&Se(he,Ee),Ct(sn(he.childNodes),se)}(Q)}),Ct(k,function(Q){function se(Ze){var qt=0;return Ct(Ze.childNodes,function(Ut){ut(Ut)||tt(Ut)||qt++}),qt}function he(Ze){var qt=!1;return Ct(Ze.childNodes,function(Ut){if(Ae(Ut))return qt=Ut,!1}),qt}var De,Ze,qt,Ut;if(De=se(Q),!(k.length>1)&&yt(Q)||0!==De){if(Ee.inline||Ee.wrapper){if(Ee.exact||1!==De||((qt=he(Ze=Q))&&!tt(qt)&&ve(qt,Ee)&&(Se(Ut=je.clone(qt,di)),je.replace(Ut,Ze,fi),je.remove(qt,1)),Q=Ut||Ze),Ct(et,function(Ze){Ct(je.select(Ze.inline,Q),function(qt){tt(qt)||jt(Ze,Je,qt,Ze.exact?qt:null)})}),U(Q.parentNode,Fe,Je)&&jt(Ee,Je,Q)&&(Q=0),Ee.merge_with_parents&&je.getParent(Q.parentNode,function(Ze){if(U(Ze,Fe,Je))return jt(Ee,Je,Q)&&(Q=0),fi}),!yt(Q)&&!xe(Q,"fontSize")){var Ue=function(Ze,qt){do{if(1!==se(Ze)||!(Ze=he(Ze)))break;if(qt(Ze))return Ze}while(Ze);return null}(Q,ne("fontSize"));Ue&&_("fontsize",{value:xe(Ue,"fontSize")},Q)}Q&&!1!==Ee.merge_siblings&&(Q=re(oe(Q),Q),Q=re(Q,oe(Q,fi)))}}else je.remove(Q,1)})}var ht,pt,et=O(Fe),Ee=et[0],$t=!ae&&St.isCollapsed();if("false"!==ki(St.getNode())){if(Ee){if(ae)ae.nodeType?Ve(et,ae)||((pt=je.createRng()).setStartBefore(ae),pt.setEndAfter(ae),mt(Vt(pt,et),0,!0)):mt(ae,0,!0);else if($t&&Ee.inline&&!je.select("td[data-mce-selected],th[data-mce-selected]").length)He("apply",Fe,Je);else{var Ge=S.selection.getNode();bn||!et[0].defaultBlock||je.getParent(Ge,je.isBlock)||_(et[0].defaultBlock),S.selection.setRng(function(){var p=S.selection.getRng(),v=p.startContainer,k=p.endContainer;if(v!=k&&0===p.endOffset){var L=function(Z,Q){var se=new ee(Q);for(ae=se.prev2();ae;ae=se.prev2())if(3==ae.nodeType&&ae.data.length>0||ae.childNodes.length>1||ae==Z||"BR"==ae.tagName)return ae}(v,k);p.setEnd(L,3==L.nodeType?L.data.length:L.childNodes.length)}return p}()),ht=St.getBookmark(),mt(Vt(St.getRng(fi),et)),Ee.styles&&((Ee.styles.color||Ee.styles.textDecoration)&&(cn(Ge,x,"childNodes"),x(Ge)),Ee.styles.backgroundColor&&Te(Ge,ne("fontSize"),function(Fe,Je){return C.curry(function(ae,Se,Ve){je.setStyle(Ve,ae,Se)},"backgroundColor",Je)}(0,Le(Ee.styles.backgroundColor,Je)))),St.moveToBookmark(ht),nt(St.getRng(fi)),S.nodeChanged()}w.postProcess(Fe,S)}}else{ae=St.getNode();for(var l=0,c=et.length;l<c;l++)if(et[l].ceFalseOverride&&je.is(ae,et[l].selector))return void Se(ae,et[l])}}function H(Fe,Je,ae,Se){function Ve(v){var k,L,G,Z,Q;if(1===v.nodeType&&ki(v)&&(Z=c,c="true"===ki(v),Q=!0),k=sn(v.childNodes),c&&!Q)for(L=0,G=pt.length;L<G&&!jt(pt[L],Je,v,v);L++);if($t.deep&&k.length){for(L=0,G=k.length;L<G;L++)Ve(k[L]);Q&&(c=Z)}}function et(v){return function(v,k,L,G){var Z,Q,se,he,_e,Re;if(v){for(Re=v.parentNode,Z=k.parentNode;Z&&Z!=Re;Z=Z.parentNode){for(Q=je.clone(Z,di),_e=0;_e<pt.length;_e++)if(jt(pt[_e],Je,Q,Q)){Q=0;break}Q&&(se&&Q.appendChild(se),he||(he=Q),se=Q)}$t.mixed&&yt(v)||(k=je.split(v,k)),se&&(L.parentNode.insertBefore(se,L),he.appendChild(L))}return k}(function(v){var k;return Ct(E(v.parentNode).reverse(),function(L){var G;k||"_start"==L.id||"_end"==L.id||(G=U(L,Fe,Je,Se))&&!1!==G.split&&(k=L)}),k}(v),v,v)}function Ee(v){var k=je.get(v?"_start":"_end"),L=k[v?"firstChild":"lastChild"];return tt(L)&&(L=L[v?"firstChild":"lastChild"]),3==L.nodeType&&0===L.data.length&&(L=v?k.previousSibling||k.nextSibling:k.nextSibling||k.previousSibling),je.remove(k,!0),L}function ht(v){var k,L,G=v.commonAncestorContainer;if(v=Vt(v,pt,fi),$t.split){if((k=Ce(v,fi))!=(L=Ce(v))){if(/^(TR|TH|TD)$/.test(k.nodeName)&&k.firstChild&&(k="TR"==k.nodeName?k.firstChild.firstChild||k:k.firstChild||k),G&&/^T(HEAD|BODY|FOOT|R)$/.test(G.nodeName)&&D(L)&&L.firstChild&&(L=L.firstChild||L),je.isChildOf(k,L)&&!yt(L)&&!D(k)&&!D(L))return et(k=Dt(k,"span",{id:"_start","data-mce-type":"bookmark"})),void(k=Ee(fi));k=Dt(k,"span",{id:"_start","data-mce-type":"bookmark"}),L=Dt(L,"span",{id:"_end","data-mce-type":"bookmark"}),et(k),et(L),k=Ee(fi),L=Ee()}else k=L=et(k);v.startContainer=k.parentNode?k.parentNode:k,v.startOffset=Yn(k),v.endContainer=L.parentNode?L.parentNode:L,v.endOffset=Yn(L)+1}ct.walk(v,function(Z){Ct(Z,function(Q){Ve(Q),1===Q.nodeType&&"underline"===S.dom.getStyle(Q,"text-decoration")&&Q.parentNode&&"underline"===M(Q.parentNode)&&jt({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,Q)})})}var Ge,l,pt=O(Fe),$t=pt[0],c=!0;if(ae)ae.nodeType?((l=je.createRng()).setStartBefore(ae),l.setEndAfter(ae),ht(l)):ht(ae);else if("false"!==ki(St.getNode()))St.isCollapsed()&&$t.inline&&!je.select("td[data-mce-selected],th[data-mce-selected]").length?He("remove",Fe,Je,Se):(Ge=St.getBookmark(),ht(St.getRng(fi)),St.moveToBookmark(Ge),$t.inline&&J(Fe,Je,St.getStart())&&nt(St.getRng(!0)),S.nodeChanged());else{ae=St.getNode();for(var f=0,p=pt.length;f<p&&(!pt[f].ceFalseOverride||!jt(pt[f],Je,ae,ae));f++);}}function U(Fe,Je,ae,Se){function Ve(ht,pt,$t){var Ge,l,f,c=pt[$t];if(pt.onmatch)return pt.onmatch(ht,pt,$t);if(c)if(c.length===Ti){for(Ge in c)if(c.hasOwnProperty(Ge)&&(l="attributes"===$t?je.getAttrib(ht,Ge):xe(ht,Ge),Se&&!l&&!pt.exact||(!Se||pt.exact)&&!ge(l,Ie(Le(c[Ge],ae),Ge))))return}else for(f=0;f<c.length;f++)if("attributes"===$t?je.getAttrib(ht,c[f]):xe(ht,c[f]))return pt;return pt}var mt,et,Ee,it=O(Je);if(it&&Fe)for(et=0;et<it.length;et++)if(ve(Fe,mt=it[et])&&Ve(Fe,mt,"attributes")&&Ve(Fe,mt,"styles")){if(Ee=mt.classes)for(et=0;et<Ee.length;et++)if(!je.hasClass(Fe,Ee[et]))return;return mt}}function J(Fe,Je,ae){function Se(it){var mt=je.getRoot();return it!==mt&&(it=je.getParent(it,function(et){return!!P(et,Fe)||et.parentNode===mt||!!U(et,Fe,Je,!0)}),U(it,Fe,Je))}var Ve;return ae?Se(ae):Se(ae=St.getNode())||(Ve=St.getStart())!=ae&&Se(Ve)?fi:di}function ve(Fe,Je){return ge(Fe,Je.inline)||ge(Fe,Je.block)?fi:Je.selector?1==Fe.nodeType&&je.is(Fe,Je.selector):void 0}function ge(Fe,Je){return Je=""+((Je=Je||"").nodeName||Je),(Fe=""+((Fe=Fe||"").nodeName||Fe)).toLowerCase()==Je.toLowerCase()}function Te(Fe,Je,ae){Ct(Fe.childNodes,function(Se){Ae(Se)&&(Je(Se)&&ae(Se),Se.hasChildNodes()&&Te(Se,Je,ae))})}function Ae(Fe){return 1==Fe.nodeType&&!tt(Fe)&&!ut(Fe)&&!V(Fe)}function ne(Fe){return C.curry(function(Je,ae){return!(!ae||!xe(ae,Je))},Fe)}function xe(Fe,Je){return Ie(je.getStyle(Fe,Je),Je)}function Ie(Fe,Je){return"color"!=Je&&"backgroundColor"!=Je||(Fe=je.toHex(Fe)),"fontWeight"==Je&&700==Fe&&(Fe="bold"),"fontFamily"==Je&&(Fe=Fe.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+Fe}function Le(Fe,Je){return"string"!=typeof Fe?Fe=Fe(Je):Je&&(Fe=Fe.replace(/%(\w+)/g,function(ae,Se){return Je[Se]||ae})),Fe}function ut(Fe){return Fe&&3===Fe.nodeType&&/^([\t \r\n]+|)$/.test(Fe.nodeValue)}function Dt(Fe,Je,ae){var Se=je.create(Je,ae);return Fe.parentNode.insertBefore(Se,Fe),Se.appendChild(Fe),Se}function Vt(Fe,Je,ae){function Se(p){var k,L,G,Z,Q,se;if(k=L=p?Ge:c,Z=p?"previousSibling":"nextSibling",Q=je.getRoot(),3==k.nodeType&&!ut(k)&&(p?l>0:f<k.nodeValue.length))return k;for(;;){if(!Je[0].block_expand&&yt(L))return L;for(G=L[Z];G;G=G[Z])if(!tt(G)&&!ut(G)&&("BR"!=(se=G).nodeName||!se.getAttribute("data-mce-bogus")||se.nextSibling))return L;if(L==Q||L.parentNode==Q){k=L;break}L=L.parentNode}return k}function Ve(p,v){for(v===Ti&&(v=3===p.nodeType?p.length:p.childNodes.length);p&&p.hasChildNodes();)(p=p.childNodes[v])&&(v=3===p.nodeType?p.length:p.childNodes.length);return{node:p,offset:v}}function it(p){for(var v=p;v;){if(1===v.nodeType&&ki(v))return"false"===ki(v)?v:p;v=v.parentNode}return p}function mt(p,v,k){function L(he,_e){var Re,De,Ue=he.nodeValue;return void 0===_e&&(_e=k?Ue.length:0),k?-1===(Re=(Re=Ue.lastIndexOf(" ",_e))>(De=Ue.lastIndexOf("\xa0",_e))?Re:De)||ae||Re++:(Re=Ue.indexOf(" ",_e),De=Ue.indexOf("\xa0",_e),Re=-1!==Re&&(-1===De||Re<De)?Re:De),Re}var G,Z,Q,se;if(3===p.nodeType){if(-1!==(Q=L(p,v)))return{container:p,offset:Q};se=p}for(G=new ee(p,je.getParent(p,yt)||S.getBody());Z=G[k?"prev":"next"]();)if(3===Z.nodeType){if(se=Z,-1!==(Q=L(Z)))return{container:Z,offset:Q}}else if(yt(Z))break;if(se)return{container:se,offset:v=k?0:se.length}}function et(p,v){var k,L,G,Z;for(3==p.nodeType&&0===p.nodeValue.length&&p[v]&&(p=p[v]),k=E(p),L=0;L<k.length;L++)for(G=0;G<Je.length;G++)if((!("collapsed"in(Z=Je[G]))||Z.collapsed===Fe.collapsed)&&je.is(k[L],Z.selector))return k[L];return p}function Ee(p,v){var k,L=je.getRoot();if(Je[0].wrapper||(k=je.getParent(p,Je[0].block,L)),k||(k=je.getParent(3==p.nodeType?p.parentNode:p,function(G){return G!=L&&F(G)})),k&&Je[0].wrapper&&(k=E(k,"ul,ol").reverse()[0]||k),!k)for(k=p;k[v]&&!yt(k[v])&&!ge(k=k[v],"br"););return k||p}var ht,pt,$t,Ge=Fe.startContainer,l=Fe.startOffset,c=Fe.endContainer,f=Fe.endOffset;if(1==Ge.nodeType&&Ge.hasChildNodes()&&3==(Ge=Ge.childNodes[l>(ht=Ge.childNodes.length-1)?ht:l]).nodeType&&(l=0),1==c.nodeType&&c.hasChildNodes()&&3==(c=c.childNodes[f>(ht=c.childNodes.length-1)?ht:f-1]).nodeType&&(f=c.nodeValue.length),Ge=it(Ge),c=it(c),(tt(Ge.parentNode)||tt(Ge))&&3==(Ge=(Ge=tt(Ge)?Ge:Ge.parentNode).nextSibling||Ge).nodeType&&(l=0),(tt(c.parentNode)||tt(c))&&3==(c=(c=tt(c)?c:c.parentNode).previousSibling||c).nodeType&&(f=c.length),Je[0].inline&&(Fe.collapsed&&(($t=mt(Ge,l,!0))&&(Ge=$t.container,l=$t.offset),($t=mt(c,f))&&(c=$t.container,f=$t.offset)),(pt=Ve(c,f)).node)){for(;pt.node&&0===pt.offset&&pt.node.previousSibling;)pt=Ve(pt.node.previousSibling);pt.node&&pt.offset>0&&3===pt.node.nodeType&&" "===pt.node.nodeValue.charAt(pt.offset-1)&&pt.offset>1&&(c=pt.node).splitText(pt.offset-1)}return(Je[0].inline||Je[0].block_expand)&&(Je[0].inline&&3==Ge.nodeType&&0!==l||(Ge=Se(!0)),Je[0].inline&&3==c.nodeType&&f!==c.nodeValue.length||(c=Se())),Je[0].selector&&Je[0].expand!==di&&!Je[0].inline&&(Ge=et(Ge,"previousSibling"),c=et(c,"nextSibling")),(Je[0].block||Je[0].selector)&&(Ge=Ee(Ge,"previousSibling"),c=Ee(c,"nextSibling"),Je[0].block&&(yt(Ge)||(Ge=Se(!0)),yt(c)||(c=Se()))),1==Ge.nodeType&&(l=Yn(Ge),Ge=Ge.parentNode),1==c.nodeType&&(f=Yn(c)+1,c=c.parentNode),{startContainer:Ge,startOffset:l,endContainer:c,endOffset:f}}function jt(Fe,Je,ae,Se){var Ve,it,mt;if(!ve(ae,Fe)&&!function(Fe,Je){return Je.links&&"A"==Fe.tagName}(ae,Fe))return di;if("all"!=Fe.remove)for(Ct(Fe.styles,function(Ee,ht){Ee=Ie(Le(Ee,Je),ht),"number"==typeof ht&&(ht=Ee,Se=0),(Fe.remove_similar||!Se||ge(xe(Se,ht),Ee))&&je.setStyle(ae,ht,""),mt=1}),mt&&""===je.getAttrib(ae,"style")&&(ae.removeAttribute("style"),ae.removeAttribute("data-mce-style")),Ct(Fe.attributes,function(Ee,ht){var pt;if(Ee=Le(Ee,Je),"number"==typeof ht&&(ht=Ee,Se=0),!Se||ge(je.getAttrib(Se,ht),Ee)){if("class"==ht&&(Ee=je.getAttrib(ae,ht))&&(pt="",Ct(Ee.split(/\s+/),function($t){/mce\-\w+/.test($t)&&(pt+=(pt?" ":"")+$t)}),pt))return void je.setAttrib(ae,ht,pt);"class"==ht&&ae.removeAttribute("className"),Bi.test(ht)&&ae.removeAttribute("data-mce-"+ht),ae.removeAttribute(ht)}}),Ct(Fe.classes,function(Ee){Ee=Le(Ee,Je),Se&&!je.hasClass(Se,Ee)||je.removeClass(ae,Ee)}),it=je.getAttribs(ae),Ve=0;Ve<it.length;Ve++){var et=it[Ve].nodeName;if(0!==et.indexOf("_")&&0!==et.indexOf("data-"))return di}return"none"!=Fe.remove?(function(Fe,Je){function ae(it,mt,et){return!(it=oe(it,mt,et))||"BR"==it.nodeName||yt(it)}var Ve,Se=Fe.parentNode;Je.block&&(bn?Se==je.getRoot()&&(Je.list_block&&ge(Fe,Je.list_block)||Ct(sn(Fe.childNodes),function(it){wt(bn,it.nodeName.toLowerCase())?Ve?Ve.appendChild(it):(Ve=Dt(it,bn),je.setAttribs(Ve,S.settings.forced_root_block_attrs)):Ve=0})):yt(Fe)&&!yt(Se)&&(ae(Fe,di)||ae(Fe.firstChild,fi,1)||Fe.insertBefore(je.create("br"),Fe.firstChild),ae(Fe,fi)||ae(Fe.lastChild,di,1)||Fe.appendChild(je.create("br")))),Je.selector&&Je.inline&&!ge(Je.inline,Fe)||je.remove(Fe,1)}(ae,Fe),fi):void 0}function oe(Fe,Je,ae){if(Fe)for(Je=Je?"nextSibling":"previousSibling",Fe=ae?Fe:Fe[Je];Fe;Fe=Fe[Je])if(1==Fe.nodeType||!ut(Fe))return Fe}function re(Fe,Je){function ae(mt,et){for(Se=mt;Se;Se=Se[et]){if(3==Se.nodeType&&0!==Se.nodeValue.length)return mt;if(1==Se.nodeType&&!tt(Se))return Se}return mt}var Se,Ve,it=new B(je);if(Fe&&Je&&(Fe=ae(Fe,"previousSibling"),Je=ae(Je,"nextSibling"),it.compare(Fe,Je))){for(Se=Fe.nextSibling;Se&&Se!=Je;)Ve=Se,Se=Se.nextSibling,Fe.appendChild(Ve);return je.remove(Je),Ct(sn(Je.childNodes),function(mt){Fe.appendChild(mt)}),Fe}return Je}function Ce(Fe,Je){var ae,Se,Ve;return Se=Fe[Je?"startOffset":"endOffset"],1==(ae=Fe[Je?"startContainer":"endContainer"]).nodeType&&(!Je&&Se&&Se--,ae=ae.childNodes[Se>(Ve=ae.childNodes.length-1)?Ve:Se]),3===ae.nodeType&&Je&&Se>=ae.nodeValue.length&&(ae=new ee(ae,S.getBody()).next()||ae),3!==ae.nodeType||Je||0!==Se||(ae=new ee(ae,S.getBody()).prev()||ae),ae}function He(Fe,Je,ae,Se){function Ve(c){var f=je.create("span",{id:Ge,"data-mce-bogus":!0,style:l?"color:red":""});return c&&f.appendChild(S.getDoc().createTextNode(Qn)),f}function it(c,f){for(;c;){if(3===c.nodeType&&c.nodeValue!==Qn||c.childNodes.length>1)return!1;f&&1===c.nodeType&&f.push(c),c=c.firstChild}return!0}function mt(c){for(;c;){if(c.id===Ge)return c;c=c.parentNode}}function et(c){var f;if(c)for(c=(f=new ee(c,c)).current();c;c=f.next())if(3===c.nodeType)return c}function Ee(c,f){var p,v;if(c)v=St.getRng(!0),it(c)?(!1!==f&&(v.setStartBefore(c),v.setEndBefore(c)),je.remove(c)):((p=et(c)).nodeValue.charAt(0)===Qn&&(p.deleteData(0,1),v.startContainer==p&&v.startOffset>0&&v.setStart(p,v.startOffset-1),v.endContainer==p&&v.endOffset>0&&v.setEnd(p,v.endOffset-1)),je.remove(c,1)),St.setRng(v);else if(!(c=mt(St.getStart())))for(;c=je.get(Ge);)Ee(c,!1)}function $t(){var c;(c=mt(St.getStart()))&&!je.isEmpty(c)&&cn(c,function(f){1!=f.nodeType||f.id===Ge||je.isEmpty(f)||je.setAttrib(f,"data-mce-bogus",null)},"childNodes")}var Ge="_mce_caret",l=S.settings.caret_debug;S._hasCaretEvents||(Xt=function(){var f,c=[];if(it(mt(St.getStart()),c))for(f=c.length;f--;)je.setAttrib(c[f],"data-mce-bogus","1")},Rt=function(c){var f=c.keyCode;Ee(),8==f&&St.isCollapsed()&&St.getStart().innerHTML==Qn&&Ee(mt(St.getStart())),37!=f&&39!=f||Ee(mt(St.getStart())),$t()},S.on("SetContent",function(c){c.selection&&$t()}),S._hasCaretEvents=!0),"apply"==Fe?function(){var c,f,p,v,k,G;v=(c=St.getRng(!0)).startOffset,G=c.startContainer.nodeValue,(f=mt(St.getStart()))&&(p=et(f));var Z=/[^\s\u00a0\u00ad\u200b\ufeff]/;G&&v>0&&v<G.length&&Z.test(G.charAt(v))&&Z.test(G.charAt(v-1))?(k=St.getBookmark(),c.collapse(!0),c=Vt(c,O(Je)),c=ct.split(c),_(Je,ae,c),St.moveToBookmark(k)):(f&&p.nodeValue===Qn||(p=(f=Ve(!0)).firstChild,c.insertNode(f),v=1),_(Je,ae,f),St.setCursorLocation(p,v))}():function(){var f,v,k,L,G,Q,se,c=St.getRng(!0),Z=[];for(L=f=c.startContainer,3==f.nodeType&&(c.startOffset!=f.nodeValue.length&&(k=!0),L=L.parentNode);L;){if(U(L,Je,ae,Se)){G=L;break}L.nextSibling&&(k=!0),Z.push(L),L=L.parentNode}if(G)if(k)v=St.getBookmark(),c.collapse(!0),c=Vt(c,O(Je),!0),c=ct.split(c),H(Je,ae,c),St.moveToBookmark(v);else{for(L=se=Ve(),Q=Z.length-1;Q>=0;Q--)L.appendChild(je.clone(Z[Q],!1)),L=L.firstChild;L.appendChild(je.doc.createTextNode(Qn)),L=L.firstChild;var he=je.getParent(G,F);he&&je.isEmpty(he)?G.parentNode.replaceChild(se,G):je.insertAfter(se,G),St.setCursorLocation(L,1),je.isEmpty(G)&&je.remove(G)}}()}function nt(Fe){var Se,Ve,it,mt,et,Je=Fe.startContainer,ae=Fe.startOffset;if((Fe.startContainer!=Fe.endContainer||!function(Fe){return Fe&&/^(IMG)$/.test(Fe.nodeName)}(Fe.startContainer.childNodes[Fe.startOffset]))&&(3==Je.nodeType&&ae>=Je.nodeValue.length&&(ae=Yn(Je),Je=Je.parentNode,Se=!0),1==Je.nodeType))for(Je=(mt=Je.childNodes)[Math.min(ae,mt.length-1)],Ve=new ee(Je,je.getParent(Je,je.isBlock)),(ae>mt.length-1||Se)&&Ve.next(),it=Ve.current();it;it=Ve.next())if(3==it.nodeType&&!ut(it))return et=je.create("a",{"data-mce-bogus":"all"},Qn),it.parentNode.insertBefore(et,it),Fe.setStart(it,0),St.setRng(Fe),void je.remove(et)}var Hi,Ti,Rt,Xt,rt={},je=S.dom,St=S.selection,ct=new Y(je),wt=S.schema.isValidChild,yt=je.isBlock,bn=S.settings.forced_root_block,Yn=je.nodeIndex,Qn="\ufeff",Bi=/^(src|href|style)$/,di=!1,fi=!0,ki=je.getContentEditable,tt=z.isBookmarkNode,Ct=T.each,sn=T.grep,cn=T.walk;(0,T.extend)(this,{get:O,register:$,unregister:function(Fe){return Fe&&rt[Fe]&&delete rt[Fe],rt},apply:_,remove:H,toggle:function(Fe,Je,ae){var Se=O(Fe);!J(Fe,Je,ae)||"toggle"in Se[0]&&!Se[0].toggle?_(Fe,Je,ae):H(Fe,Je,ae)},match:J,matchAll:function(Fe,Je){var ae,Se=[],Ve={};return ae=St.getStart(),je.getParent(ae,function(it){var mt,et;for(mt=0;mt<Fe.length;mt++)!Ve[et=Fe[mt]]&&U(it,et,Je)&&(Ve[et]=!0,Se.push(et))},je.getRoot()),Se},matchNode:U,canApply:function(Fe){var Se,Ve,it,mt,Je=O(Fe);if(Je)for(Se=E(St.getStart()),it=Je.length-1;it>=0;it--){if(!(mt=Je[it].selector)||Je[it].defaultBlock)return fi;for(Ve=Se.length-1;Ve>=0;Ve--)if(je.is(Se[Ve],mt))return fi}return di},formatChanged:function(Fe,Je,ae){var Se;return Hi||(Hi={},Se={},S.on("NodeChange",function(Ve){var it=E(Ve.element),mt={};it=T.grep(it,function(et){return 1==et.nodeType&&!et.getAttribute("data-mce-bogus")}),Ct(Hi,function(et,Ee){Ct(it,function(ht){return U(ht,Ee,{},et.similar)?(Se[Ee]||(Ct(et,function(pt){pt(!0,{node:ht,format:Ee,parents:it})}),Se[Ee]=et),mt[Ee]=et,!1):!P(ht,Ee)&&void 0})}),Ct(Se,function(et,Ee){mt[Ee]||(delete Se[Ee],Ct(et,function(ht){ht(!1,{node:Ve.element,format:Ee,parents:it})}))})})),Ct(Fe.split(","),function(Ve){Hi[Ve]||(Hi[Ve]=[],Hi[Ve].similar=ae),Hi[Ve].push(Je)}),this},getCssText:function(Fe){return b.getCssText(S,Fe)}}),$({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(Fe,Je,ae){Ct(ae,function(Se,Ve){je.setAttrib(Fe,Ve,Se)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),Ct("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(Fe){$(Fe,{block:Fe,remove:"all"})}),$(S.settings.formats),function(){S.addShortcut("meta+b","bold_desc","Bold"),S.addShortcut("meta+i","italic_desc","Italic"),S.addShortcut("meta+u","underline_desc","Underline");for(var Fe=1;Fe<=6;Fe++)S.addShortcut("access+"+Fe,"",["FormatBlock",!1,"h"+Fe]);S.addShortcut("access+7","",["FormatBlock",!1,"p"]),S.addShortcut("access+8","",["FormatBlock",!1,"div"]),S.addShortcut("access+9","",["FormatBlock",!1,"address"])}(),S.on("BeforeGetContent",function(Fe){Xt&&"raw"!=Fe.format&&Xt()}),S.on("mouseup keydown",function(Fe){Rt&&Rt(Fe)})}}),Ye(Zi,[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(C,T){var b=C.length+T.length+2,w=new Array(b),S=new Array(b),D=function(R,W,O,$,A){var P=E(R,W,O,$);if(null===P||P.start===W&&P.diag===W-$||P.end===R&&P.diag===R-O)for(var M=R,x=O;M<W||x<$;)M<W&&x<$&&C[M]===T[x]?(A.push([0,C[M]]),++M,++x):W-R>$-O?(A.push([2,C[M]]),++M):(A.push([1,T[x]]),++x);else{D(R,P.start,O,P.start-P.diag,A);for(var _=P.start;_<P.end;++_)A.push([0,C[_]]);D(P.end,W,P.end-P.diag,$,A)}},N=function(R,W,O,$){for(var A=R;A-W<$&&A<O&&C[A]===T[A-W];)++A;return function(R,W,O){return{start:R,end:W,diag:O}}(R,A,W)},E=function(R,W,O,$){var A=W-R,P=$-O;if(0===A||0===P)return null;var M=A-P,x=P+A,_=(x%2==0?x:x+1)/2;w[1+_]=R,S[1+_]=W+1;for(var H=0;H<=_;++H){for(var X=-H;X<=H;X+=2){var U=X+_;w[U]=X===-H||X!=H&&w[U-1]<w[U+1]?w[U+1]:w[U-1]+1;for(var J=w[U],ie=J-R+O-X;J<W&&ie<$&&C[J]===T[ie];)w[U]=++J,++ie;if(M%2!=0&&M-H<=X&&X<=M+H&&S[U-M]<=w[U])return N(S[U-M],X+R-O,W,$)}for(X=M-H;X<=M+H;X+=2){for(S[U=X+_-M]=X===M-H||X!=M+H&&S[U+1]<=S[U-1]?S[U+1]-1:S[U-1],ie=(J=S[U]-1)-R+O-X;J>=R&&ie>=O&&C[J]===T[ie];)S[U]=J--,ie--;if(M%2==0&&-H<=X&&X<=H&&S[U]<=w[U+M])return N(S[U],X+R-O,W,$)}}},V=[];return D(0,C.length,0,T.length,V),V}}}),Ye(Pt,[zt,ze,Zi],function(ee,Y,z){var B=function(D){return 1===D.nodeType?D.outerHTML:3===D.nodeType?Y.encodeRaw(D.data,!1):8===D.nodeType?"\x3c!--"+D.data+"--\x3e":""};return{read:function(D){return ee.map(D.childNodes,B)},write:function(D,N){var E=ee.map(N.childNodes,B);return function(D,N){var E=0;ee.each(D,function(V){V[0]===z.KEEP?E++:V[0]===z.INSERT?(function(D,N,E){var V=function(D){var N,E,V;for(V=document.createElement("div"),N=document.createDocumentFragment(),D&&(V.innerHTML=D);E=V.firstChild;)N.appendChild(E);return N}(N);if(D.hasChildNodes()&&E<D.childNodes.length){var R=D.childNodes[E];R.parentNode.insertBefore(V,R)}else D.appendChild(V)}(N,V[1],E),E++):V[0]===z.DELETE&&function(D,N){if(D.hasChildNodes()&&N<D.childNodes.length){var E=D.childNodes[N];E.parentNode.removeChild(E)}}(N,E)})}(z.diff(E,D),N),N}}}),Ye(_t,[zt,Pt],function(ee,Y){var B=function(F){return{type:"fragmented",fragments:F,content:"",bookmark:null,beforeBookmark:null}},C=function(F){return{type:"complete",fragments:null,content:F,bookmark:null,beforeBookmark:null}},w=function(F){return"fragmented"===F.type?F.fragments.join(""):F.content};return{createFragmentedLevel:B,createCompleteLevel:C,createFromEditor:function(F){var D,N,E;return D=Y.read(F.getBody()),function(F){return-1!==F.indexOf("</iframe>")}(N=(E=ee.map(D,function(V){return F.serializer.trimContent(V)})).join(""))?B(E):C(N)},applyToEditor:function(F,D,N){"fragmented"===D.type?Y.write(D.fragments,F.getBody()):F.setContent(D.content,{format:"raw"}),F.selection.moveToBookmark(N?D.beforeBookmark:D.bookmark)},isEq:function(F,D){return w(F)===w(D)}}}),Ye(on,[Zt,ft,_t],function(ee,Y,z){return function(B){function C(V){B.setDirty(V)}function T(V){w.typing=!1,w.add({},V)}function b(){w.typing&&(w.typing=!1,w.add())}var D,N,w=this,S=0,F=[],E=0;return B.on("init",function(){w.add()}),B.on("BeforeExecCommand",function(V){var R=V.command;"Undo"!==R&&"Redo"!==R&&"mceRepaint"!==R&&(b(),w.beforeChange())}),B.on("ExecCommand",function(V){var R=V.command;"Undo"!==R&&"Redo"!==R&&"mceRepaint"!==R&&T(V)}),B.on("ObjectResizeStart Cut",function(){w.beforeChange()}),B.on("SaveContent ObjectResized blur",T),B.on("DragEnd",T),B.on("KeyUp",function(V){var R=V.keyCode;V.isDefaultPrevented()||((R>=33&&R<=36||R>=37&&R<=40||45===R||V.ctrlKey)&&(T(),B.nodeChanged()),46!==R&&8!==R||B.nodeChanged(),N&&w.typing&&(B.isDirty()||(C(F[0]&&!z.isEq(z.createFromEditor(B),F[0])),B.isDirty()&&B.fire("change",{level:F[0],lastLevel:null})),B.fire("TypingUndo"),N=!1,B.nodeChanged()))}),B.on("KeyDown",function(V){var R=V.keyCode;if(!V.isDefaultPrevented()){if(R>=33&&R<=36||R>=37&&R<=40||45===R)return void(w.typing&&T(V));!(R<16||R>20)||224===R||91===R||w.typing||V.ctrlKey&&!V.altKey||V.metaKey||(w.beforeChange(),w.typing=!0,w.add({},V),N=!0)}}),B.on("MouseDown",function(V){w.typing&&T(V)}),B.addShortcut("meta+z","","Undo"),B.addShortcut("meta+y,meta+shift+z","","Redo"),B.on("AddUndo Undo Redo ClearUndos",function(V){V.isDefaultPrevented()||B.nodeChanged()}),w={data:F,typing:!1,beforeChange:function(){E||(D=B.selection.getBookmark(2,!0))},add:function(V,R){var W,$,A,O=B.settings;if(A=z.createFromEditor(B),V=Y.extend(V=V||{},A),E||B.removed||B.fire("BeforeAddUndo",{level:V,lastLevel:$=F[S],originalEvent:R}).isDefaultPrevented()||$&&z.isEq($,V))return null;if(F[S]&&(F[S].beforeBookmark=D),O.custom_undo_redo_levels&&F.length>O.custom_undo_redo_levels){for(W=0;W<F.length-1;W++)F[W]=F[W+1];F.length--,S=F.length}V.bookmark=B.selection.getBookmark(2,!0),S<F.length-1&&(F.length=S+1),F.push(V),S=F.length-1;var P={level:V,lastLevel:$,originalEvent:R};return B.fire("AddUndo",P),S>0&&(C(!0),B.fire("change",P)),V},undo:function(){var V;return w.typing&&(w.add(),w.typing=!1),S>0&&(V=F[--S],z.applyToEditor(B,V,!0),C(!0),B.fire("undo",{level:V})),V},redo:function(){var V;return S<F.length-1&&(V=F[++S],z.applyToEditor(B,V,!1),C(!0),B.fire("redo",{level:V})),V},clear:function(){F=[],S=0,w.typing=!1,w.data=F,B.fire("ClearUndos")},hasUndo:function(){return S>0||w.typing&&F[0]&&!z.isEq(z.createFromEditor(B),F[0])},hasRedo:function(){return S<F.length-1&&!w.typing},transact:function(V){b(),w.beforeChange();try{E++,V()}finally{E--}return w.add()},extra:function(V,R){var O;w.transact(V)&&(O=F[S].bookmark,z.applyToEditor(B,F[S-1],!0),w.transact(R)&&(F[S-1].beforeBookmark=O))}}}}),Ye(dn,[me,Kt,en,Mt],function(ee,Y,z,B){var C=B.ie&&B.ie<11;return function(T){var w=T.dom,S=T.selection,F=T.settings,D=T.undoManager,N=T.schema,E=N.getNonEmptyElements(),V=N.getMoveCaretBeforeOnEnterElements();T.on("keydown",function(R){13==R.keyCode&&!1!==function(R){function W(oe){return oe&&w.isBlock(oe)&&!/^(TD|TH|CAPTION|FORM)$/.test(oe.nodeName)&&!/^(fixed|absolute)/i.test(oe.style.position)&&"true"!==w.getContentEditable(oe)}function $(oe){var re;w.isBlock(oe)&&(re=S.getRng(),oe.appendChild(w.create("span",null,"\xa0")),S.select(oe),oe.lastChild.outerHTML="",S.setRng(re))}function P(oe){var Ce,He,nt,je,rt=oe;if(oe){if(B.ie&&B.ie<9&&ce&&ce.firstChild&&ce.firstChild==ce.lastChild&&"BR"==ce.firstChild.tagName&&w.remove(ce.firstChild),/^(LI|DT|DD)$/.test(oe.nodeName)){var St=function(ct){for(;ct;){if(1==ct.nodeType||3==ct.nodeType&&ct.data&&/[\r\n\s]/.test(ct.data))return ct;ct=ct.nextSibling}}(oe.firstChild);St&&/^(UL|OL|DL)$/.test(St.nodeName)&&oe.insertBefore(w.doc.createTextNode("\xa0"),oe.firstChild)}if(nt=w.createRng(),B.ie||oe.normalize(),oe.hasChildNodes()){for(Ce=new ee(oe,oe);He=Ce.current();){if(3==He.nodeType){nt.setStart(He,0),nt.setEnd(He,0);break}if(V[He.nodeName.toLowerCase()]){nt.setStartBefore(He),nt.setEndBefore(He);break}rt=He,He=Ce.next()}He||(nt.setStart(rt,0),nt.setEnd(rt,0))}else"BR"==oe.nodeName?oe.nextSibling&&w.isBlock(oe.nextSibling)?((!xe||xe<9)&&(je=w.create("br"),oe.parentNode.insertBefore(je,oe)),nt.setStartBefore(oe),nt.setEndBefore(oe)):(nt.setStartAfter(oe),nt.setEndAfter(oe)):(nt.setStart(oe,0),nt.setEnd(oe,0));S.setRng(nt),w.remove(je),S.scrollIntoView(oe)}}function M(oe){var re=F.forced_root_block;re&&re.toLowerCase()===oe.tagName.toLowerCase()&&w.setAttribs(oe,F.forced_root_block_attrs)}function x(oe){oe.innerHTML=C?"":'<br data-mce-bogus="1">'}function _(oe){var Ce,He,nt,re=Ae,rt=N.getTextInlineElements();if(oe||"TABLE"==Vt?M(Ce=w.create(oe||jt)):Ce=ce.cloneNode(!1),nt=Ce,!1!==F.keep_styles)do{if(rt[re.nodeName]){if("_mce_caret"==re.id)continue;He=re.cloneNode(!1),w.setAttrib(He,"id",""),Ce.hasChildNodes()?(He.appendChild(Ce.firstChild),Ce.appendChild(He)):(nt=He,Ce.appendChild(He))}}while((re=re.parentNode)&&re!=Te);return C||(nt.innerHTML='<br data-mce-bogus="1">'),Ce}function H(oe){var re,Ce,He;if(3==Ae.nodeType&&(oe?ne>0:ne<Ae.nodeValue.length))return!1;if(Ae.parentNode==ce&&Pe&&!oe||oe&&1==Ae.nodeType&&Ae==ce.firstChild)return!0;if("TABLE"===Ae.nodeName||Ae.previousSibling&&"TABLE"==Ae.previousSibling.nodeName)return Pe&&!oe||!Pe&&oe;for(re=new ee(Ae,ce),3==Ae.nodeType&&(oe&&0===ne?re.prev():oe||ne!=Ae.nodeValue.length||re.next());Ce=re.current();){if(1===Ce.nodeType){if(!Ce.getAttribute("data-mce-bogus")&&(He=Ce.nodeName.toLowerCase(),E[He]&&"br"!==He))return!1}else if(3===Ce.nodeType&&!/^[ \t\r\n]*$/.test(Ce.nodeValue))return!1;oe?re.prev():re.next()}return!0}function J(){T.execCommand("InsertLineBreak",!1,R)}function fe(){Le=/^(H[1-6]|PRE|FIGURE)$/.test(Vt)&&"HGROUP"!=Qt?_(jt):_(),F.end_container_on_empty_block&&W(Dt)&&w.isEmpty(ce)?Le=w.split(Dt,ce):w.insertAfter(Le,ce),P(Le)}var ve,ge,Te,Ae,ne,ce,xe,Ie,Le,ut,Dt,Vt,Qt,jt,Pe,oe,re;if(ve=S.getRng(!0),!R.isDefaultPrevented()){if(!ve.collapsed)return void T.execCommand("Delete");if(new Y(w).normalize(ve),Ae=ve.startContainer,ne=ve.startOffset,jt=(jt=(F.force_p_newlines?"p":"")||F.forced_root_block)?jt.toUpperCase():"",xe=w.doc.documentMode,Ie=R.shiftKey,1==Ae.nodeType&&Ae.hasChildNodes()&&(Pe=ne>Ae.childNodes.length-1,Ae=Ae.childNodes[Math.min(ne,Ae.childNodes.length-1)]||Ae,ne=Pe&&3==Ae.nodeType?Ae.nodeValue.length:0),Te=function(oe){var Ce,He,re=w.getRoot();for(Ce=oe;Ce!==re&&"false"!==w.getContentEditable(Ce);)"true"===w.getContentEditable(Ce)&&(He=Ce),Ce=Ce.parentNode;return Ce!==re?He:re}(Ae)){if(D.beforeChange(),!w.isBlock(Te)&&Te!=w.getRoot())return void(jt&&!Ie||J());if((jt&&!Ie||!jt&&Ie)&&(Ae=function(oe,re){var Ce,He,nt,rt,je,St,ct=jt||"P";if(!(He=w.getParent(oe,w.isBlock))||!W(He)){if(St=(He=He||Te)==T.getBody()||function(oe){return oe&&/^(TD|TH|CAPTION)$/.test(oe.nodeName)}(He)?He.nodeName.toLowerCase():He.parentNode.nodeName.toLowerCase(),!He.hasChildNodes())return M(Ce=w.create(ct)),He.appendChild(Ce),ve.setStart(Ce,0),ve.setEnd(Ce,0),Ce;for(rt=oe;rt.parentNode!=He;)rt=rt.parentNode;for(;rt&&!w.isBlock(rt);)nt=rt,rt=rt.previousSibling;if(nt&&N.isValidChild(St,ct.toLowerCase())){for(M(Ce=w.create(ct)),nt.parentNode.insertBefore(Ce,nt),rt=nt;rt&&!w.isBlock(rt);)je=rt.nextSibling,Ce.appendChild(rt),rt=je;ve.setStart(oe,re),ve.setEnd(oe,re)}}return oe}(Ae,ne)),ce=w.getParent(Ae,w.isBlock),Dt=ce?w.getParent(ce.parentNode,w.isBlock):null,Vt=ce?ce.nodeName.toUpperCase():"","LI"!=(Qt=Dt?Dt.nodeName.toUpperCase():"")||R.ctrlKey||(ce=Dt,Vt=Qt),T.undoManager.typing&&(T.undoManager.typing=!1,T.undoManager.add()),/^(LI|DT|DD)$/.test(Vt)){if(!jt&&Ie)return void J();if(w.isEmpty(ce))return void function(){function oe(He){for(var nt=Dt[He?"firstChild":"lastChild"];nt&&1!=nt.nodeType;)nt=nt[He?"nextSibling":"previousSibling"];return nt===ce}function re(){var He=Dt.parentNode;return/^(LI|DT|DD)$/.test(He.nodeName)?He:Dt}if(Dt!=T.getBody()){var Ce=Dt.parentNode.nodeName;/^(OL|UL|LI)$/.test(Ce)&&(jt="LI"),Le=jt?_(jt):w.create("BR"),oe(!0)&&oe()?"LI"==Ce?w.insertAfter(Le,re()):w.replace(Le,Dt):oe(!0)?"LI"==Ce?(w.insertAfter(Le,re()),Le.appendChild(w.doc.createTextNode(" ")),Le.appendChild(Dt)):Dt.parentNode.insertBefore(Le,Dt):oe()?(w.insertAfter(Le,re()),$(Le)):(Dt=re(),(ge=ve.cloneRange()).setStartAfter(ce),ge.setEndAfter(Dt),ut=ge.extractContents(),"LI"==jt&&"LI"==ut.firstChild.nodeName?(Le=ut.firstChild,w.insertAfter(ut,Dt)):(w.insertAfter(ut,Dt),w.insertAfter(Le,Dt))),w.remove(ce),P(Le),D.add()}}()}if("PRE"==Vt&&!1!==F.br_in_pre){if(!Ie)return void J()}else if(!jt&&!Ie&&"LI"!=Vt||jt&&Ie)return void J();jt&&ce===T.getBody()||(jt=jt||"P",z.isCaretContainerBlock(ce)?(Le=z.showCaretContainerBlock(ce),w.isEmpty(ce)&&x(ce),P(Le)):H()?fe():H(!0)?($(Le=ce.parentNode.insertBefore(_(),ce)),P(ce)):((ge=ve.cloneRange()).setEndAfter(ce),function(oe){do{3===oe.nodeType&&(oe.nodeValue=oe.nodeValue.replace(/^[\r\n]+/,"")),oe=oe.firstChild}while(oe)}(ut=ge.extractContents()),Le=ut.firstChild,w.insertAfter(ut,ce),function(oe){var He,re=oe,Ce=[];if(re){for(;re=re.firstChild;){if(w.isBlock(re))return;1!=re.nodeType||E[re.nodeName.toLowerCase()]||Ce.push(re)}for(He=Ce.length;He--;)(!(re=Ce[He]).hasChildNodes()||re.firstChild==re.lastChild&&""===re.firstChild.nodeValue||"A"==re.nodeName&&" "===(re.innerText||re.textContent))&&w.remove(re)}}(Le),oe=ce,C||(oe.normalize(),(re=oe.lastChild)&&!/^(left|right)$/gi.test(w.getStyle(re,"float",!0))||w.add(oe,"br")),w.isEmpty(ce)&&x(ce),Le.normalize(),w.isEmpty(Le)?(w.remove(Le),fe()):P(Le)),w.setAttrib(Le,"id",""),T.fire("NewBlock",{newBlock:Le}),D.typing=!1,D.add())}}}(R)&&R.preventDefault()})}}),Ye(Lt,[],function(){return function(ee){var z=ee.settings,B=ee.dom,C=ee.selection,T=ee.schema,b=T.getBlockElements();z.forced_root_block&&ee.on("NodeChange",function(){var F,D,N,E,V,R,W,$,A,P,M,x,w=C.getStart(),S=ee.getBody(),O=-16777215;if(x=z.forced_root_block,w&&1===w.nodeType&&x){for(;w&&w!=S;){if(b[w.nodeName])return;w=w.parentNode}if((F=C.getRng()).setStart){D=F.startContainer,N=F.startOffset,E=F.endContainer,V=F.endOffset;try{A=ee.getDoc().activeElement===S}catch(_){}}else F.item&&(w=F.item(0),(F=ee.getDoc().body.createTextRange()).moveToElementText(w)),A=F.parentElement().ownerDocument===ee.getDoc(),(P=F.duplicate()).collapse(!0),N=-1*P.move("character",O),P.collapsed||((P=F.duplicate()).collapse(!1),V=-1*P.move("character",O)-N);for(w=S.firstChild,M=S.nodeName.toLowerCase();w;)if((3===w.nodeType||1==w.nodeType&&!b[w.nodeName])&&T.isValidChild(M,x.toLowerCase())){if(3===w.nodeType&&0===w.nodeValue.length){W=w,w=w.nextSibling,B.remove(W);continue}R||(R=B.create(x,ee.settings.forced_root_block_attrs),w.parentNode.insertBefore(R,w),$=!0),W=w,w=w.nextSibling,R.appendChild(W)}else R=null,w=w.nextSibling;if($&&A){if(F.setStart)F.setStart(D,N),F.setEnd(E,V),C.setRng(F);else try{(F=ee.getDoc().body.createTextRange()).moveToElementText(S),F.collapse(!0),F.moveStart("character",N),V>0&&F.moveEnd("character",V),F.select()}catch(_){}ee.nodeChanged()}}})}}),Ye(gn,[lt,me,vt,wn,en,Ht],function(ee,Y,z,B,C,T){function b(fe){return fe>0}function w(fe){return fe<0}function S(fe,ve){for(var ge;ge=fe(ve);)if(!X(ge))return ge;return null}function D(fe,ve){for(fe=fe.parentNode;fe&&fe!=ve;fe=fe.parentNode)if(M(fe))return fe;return ve}function N(fe,ve){for(;fe&&fe!=ve;){if(_(fe))return fe;fe=fe.parentNode}return null}function W(fe,ve){var ge=ve.ownerDocument.createRange();return fe?(ge.setStartBefore(ve),ge.setEndBefore(ve)):(ge.setStartAfter(ve),ge.setEndAfter(ve)),ge}function O(fe,ve,ge){return N(ve,fe)==N(ge,fe)}function $(fe,ve,ge){var Te,Ae;for(Ae=fe?"previousSibling":"nextSibling";ge&&ge!=ve;){if(H(Te=ge[Ae])&&(Te=Te[Ae]),x(Te)){if(O(ve,Te,ge))return Te;break}if(ie(Te))break;ge=ge.parentNode}return null}function P(fe,ve){return x(function(fe,ve){var ge,Te;return ve?(ge=ve.container(),Te=ve.offset(),J(ge)?ge.childNodes[Te+fe]:null):null}(fe,ve))}var M=z.isContentEditableTrue,x=z.isContentEditableFalse,_=z.matchStyleValues("display","block table table-cell table-caption"),H=C.isCaretContainer,X=C.isCaretContainerBlock,U=ee.curry,J=z.isElement,ie=T.isCaretCandidate,ye=U(W,!0),pe=U(W,!1);return{isForwards:b,isBackwards:w,findNode:function(fe,ve,ge,Te,Ae){var ne=new Y(fe,Te);if(w(ve)){if((x(fe)||X(fe))&&ge(fe=S(ne.prev,!0)))return fe;for(;fe=S(ne.prev,Ae);)if(ge(fe))return fe}if(b(ve)){if((x(fe)||X(fe))&&ge(fe=S(ne.next,!0)))return fe;for(;fe=S(ne.next,Ae);)if(ge(fe))return fe}return null},getEditingHost:D,getParentBlock:N,isInSameBlock:function(fe,ve,ge){return N(fe.container(),ge)==N(ve.container(),ge)},isInSameEditingHost:function(fe,ve,ge){return D(fe.container(),ge)==D(ve.container(),ge)},isBeforeContentEditableFalse:U(P,0),isAfterContentEditableFalse:U(P,-1),normalizeRange:function(fe,ve,ge){var Te,Ae,ne,ce,xe=U($,!0,ve),Ie=U($,!1,ve);if(ne=ge.startOffset,C.isCaretContainerBlock(Ae=ge.startContainer)){if(J(Ae)||(Ae=Ae.parentNode),"before"==(ce=Ae.getAttribute("data-mce-caret"))&&x(Te=Ae.nextSibling))return ye(Te);if("after"==ce&&x(Te=Ae.previousSibling))return pe(Te)}if(!ge.collapsed)return ge;if(z.isText(Ae)){if(H(Ae)){if(1===fe){if(Te=Ie(Ae))return ye(Te);if(Te=xe(Ae))return pe(Te)}if(-1===fe){if(Te=xe(Ae))return pe(Te);if(Te=Ie(Ae))return ye(Te)}return ge}if(C.endsWithCaretContainer(Ae)&&ne>=Ae.data.length-1)return 1===fe&&(Te=Ie(Ae))?ye(Te):ge;if(C.startsWithCaretContainer(Ae)&&ne<=1)return-1===fe&&(Te=xe(Ae))?pe(Te):ge;if(ne===Ae.data.length)return(Te=Ie(Ae))?ye(Te):ge;if(0===ne)return(Te=xe(Ae))?pe(Te):ge}return ge}}}),Ye(Fn,[vt,Ht,wn,gn,zt,lt],function(ee,Y,z,B,C,T){function w(M,x){return M.hasChildNodes()&&x<M.childNodes.length?M.childNodes[x]:null}function S(M,x){if(W(M)){if($(x.previousSibling)&&!E(x.previousSibling))return z.before(x);if(E(x))return z(x,0)}if(O(M)){if($(x.nextSibling)&&!E(x.nextSibling))return z.after(x);if(E(x))return z(x,x.data.length)}return O(M)?R(x)?z.before(x):z.after(x):z.before(x)}function D(M,x,_){var H,X,U,J,ie,ye,pe;if(!V(_)||!x)return null;if(H=(pe=x).container(),X=pe.offset(),E(H)){if(O(M)&&X>0)return z(H,--X);if(W(M)&&X<H.length)return z(H,++X);U=H}else{if(O(M)&&X>0&&(J=w(H,X-1),$(J)))return!A(J)&&(ie=B.findNode(J,M,P,J))?E(ie)?z(ie,ie.data.length):z.after(ie):E(J)?z(J,J.data.length):z.before(J);if(W(M)&&X<H.childNodes.length&&(J=w(H,X),$(J)))return function(M,x){var _;return!!ee.isBr(M)&&!!(_=D(1,z.after(M),x))&&!B.isInSameBlock(z.before(M),z.before(_),x)}(J,_)?D(M,z.after(J),_):!A(J)&&(ie=B.findNode(J,M,P,J))?E(ie)?z(ie,0):z.before(ie):E(J)?z(J,0):z.after(J);U=pe.getNode()}return(W(M)&&pe.isAtEnd()||O(M)&&pe.isAtStart())&&(U=B.findNode(U,M,T.constant(!0),_,!0),P(U))?S(M,U):(J=B.findNode(U,M,P,_),ye=C.last(C.filter(function(M,x){for(var _=[];M&&M!=x;)_.push(M),M=M.parentNode;return _}(H,_),N)),!ye||J&&ye.contains(J)?J?S(M,J):null:pe=W(M)?z.after(ye):z.before(ye))}var N=ee.isContentEditableFalse,E=ee.isText,V=ee.isElement,R=ee.isBr,W=B.isForwards,O=B.isBackwards,$=Y.isCaretCandidate,A=Y.isAtomic,P=Y.isEditableCaretCandidate;return function(M){return{next:function(x){return D(1,x,M)},prev:function(x){return D(-1,x,M)}}}}),Ye(ii,[ft,Fn,wn],function(ee,Y,z){var b=function(A){return ee.grep(A.childNodes,function(P){return"LI"===P.nodeName})},S=function(A){return A.length>0&&function(A){return!A.firstChild}(A[A.length-1])?A.slice(0,-1):A},F=function(A,P){var M=A.getParent(P,A.isBlock);return M&&"LI"===M.nodeName?M:null},V=function(A,P){var M=z.after(A),_=new Y(P).prev(M);return _?_.toRange():null};return{isListFragment:function(A){var P=A.firstChild,M=A.lastChild;return P&&"meta"===P.name&&(P=P.next),M&&"mce_marker"===M.attr("id")&&(M=M.prev),!(!P||P!==M||"ul"!==P.name&&"ol"!==P.name)},insertAtCaret:function(A,P,M,x){var _=function(A,P,M){var x=P.serialize(M);return function(A){var P=A.firstChild,M=A.lastChild;return P&&"META"===P.nodeName&&P.parentNode.removeChild(P),M&&"mce_marker"===M.id&&M.parentNode.removeChild(M),A}(A.createFragment(x))}(P,A,x),H=F(P,M.startContainer),X=S(b(_.firstChild)),ie=P.getRoot(),ye=function(pe){var fe=z.fromRangeStart(M),ve=new Y(P.getRoot()),ge=1===pe?ve.prev(fe):ve.next(fe);return!ge||F(P,ge.getNode())!==H};return ye(1)?function(A,P,M){var x=A.parentNode;return ee.each(P,function(_){x.insertBefore(_,A)}),function(A,P){var M=z.before(A),_=new Y(P).next(M);return _?_.toRange():null}(A,M)}(H,X,ie):ye(2)?function(A,P,M,x){return x.insertAfter(P.reverse(),A),V(P[0],M)}(H,X,ie,P):function(A,P,M,x){var _=function(A,P){var M=P.cloneRange(),x=P.cloneRange();return M.setStartBefore(A),x.setEndAfter(A),[M.cloneContents(),x.cloneContents()]}(A,x),H=A.parentNode;return H.insertBefore(_[0],A),ee.each(P,function(X){H.insertBefore(X,A)}),H.insertBefore(_[1],A),H.removeChild(A),V(P[P.length-1],M)}(H,X,ie,M)},isParentBlockLi:function(A,P){return!!F(A,P)},trimListItems:S,listItems:b}}),Ye(ri,[Mt,ft,Pn,Fn,wn,si,vt,ii],function(ee,Y,z,B,C,T,b,w){var S=b.matchNodeNames("td th");return{insertAtCaret:function(V,R){var W=function(V){var R;return"string"!=typeof V?(R=Y.extend({paste:V.paste,data:{paste:V.paste}},V),{content:V.content,details:R}):{content:V,details:{}}}(R);!function(V,R,W){var X,U,J,ie,ye,pe,fe,ve,ge,Te,Ae,ne,ce=V.schema.getTextInlineElements(),xe=V.selection,Ie=V.dom;/^ | $/.test(R)&&(R=function(Vt){function Qt(re){return Pe[re]&&3==Pe[re].nodeType}var jt,Pe,oe;return oe=(jt=xe.getRng(!0)).startOffset,3==(Pe=jt.startContainer).nodeType&&(oe>0?Vt=Vt.replace(/^&nbsp;/," "):Qt("previousSibling")||(Vt=Vt.replace(/^ /,"&nbsp;")),oe<Pe.length?Vt=Vt.replace(/&nbsp;(<br>|)$/," "):Qt("nextSibling")||(Vt=Vt.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),Vt}(R)),X=V.parser,ne=W.merge,U=new z({validate:V.settings.validate},V.schema),Ae='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',V.fire("BeforeSetContent",pe={content:R,format:"html",selection:!0}),-1==(R=pe.content).indexOf("{$caret}")&&(R+="{$caret}"),R=R.replace(/\{\$caret\}/,Ae);var Vt,Le=(ve=xe.getRng()).startContainer||(ve.parentElement?ve.parentElement():null),ut=V.getBody();Le===ut&&xe.isCollapsed()&&Ie.isBlock(ut.firstChild)&&(Vt=ut.firstChild)&&!V.schema.getShortEndedElements()[Vt.nodeName]&&Ie.isEmpty(ut.firstChild)&&((ve=Ie.createRng()).setStart(ut.firstChild,0),ve.setEnd(ut.firstChild,0),xe.setRng(ve)),xe.isCollapsed()||(V.selection.setRng(V.selection.getRng()),V.getDoc().execCommand("Delete",!1,null),function(){var Vt,Qt,jt;jt=(Vt=xe.getRng(!0)).startOffset,3==(Qt=Vt.startContainer).nodeType&&Vt.collapsed&&("\xa0"===Qt.data[jt]?(Qt.deleteData(jt,1),/[\u00a0| ]$/.test(R)||(R+=" ")):"\xa0"===Qt.data[jt-1]&&(Qt.deleteData(jt-1,1),/[\u00a0| ]$/.test(R)||(R=" "+R)))}());var Dt={context:(J=xe.getNode()).nodeName.toLowerCase(),data:W.data};if(ye=X.parse(R,Dt),!0===W.paste&&w.isListFragment(ye)&&w.isParentBlockLi(Ie,J))return ve=w.insertAtCaret(U,Ie,V.selection.getRng(!0),ye),V.selection.setRng(ve),void V.fire("SetContent",pe);if(function(Vt){for(var Qt=Vt;Qt=Qt.walk();)1===Qt.type&&Qt.attr("data-mce-fragment","1")}(ye),"mce_marker"==(ge=ye.lastChild).attr("id"))for(fe=ge,ge=ge.prev;ge;ge=ge.walk(!0))if(3==ge.type||!Ie.isBlock(ge.name)){V.schema.isValidChild(ge.parent.name,"span")&&ge.parent.insert(fe,ge,"br"===ge.name);break}if(V._selectionOverrides.showBlockCaretContainer(J),Dt.invalid){for(xe.setContent(Ae),J=xe.getNode(),ie=V.getBody(),9==J.nodeType?J=ge=ie:ge=J;ge!==ie;)J=ge,ge=ge.parentNode;R=J==ie?ie.innerHTML:Ie.getOuterHTML(J),R=U.serialize(X.parse(R.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return U.serialize(ye)}))),J==ie?Ie.setHTML(ie,R):Ie.setOuterHTML(J,R)}else R=U.serialize(ye),function(V,R,W){if("all"===W.getAttribute("data-mce-bogus"))W.parentNode.insertBefore(V.dom.createFragment(R),W);else{var O=W.firstChild;!O||O===W.lastChild&&"BR"===O.nodeName?V.dom.setHTML(W,R):V.selection.setContent(R)}}(V,R,J);(function(){if(ne){var Vt=V.getBody(),Qt=new T(Ie);Y.each(Ie.select("*[data-mce-fragment]"),function(jt){for(var Pe=jt.parentNode;Pe&&Pe!=Vt;Pe=Pe.parentNode)ce[jt.nodeName.toLowerCase()]&&Qt.compare(Pe,jt)&&Ie.remove(jt,!0)})}})(),function(Vt){var Pe,oe,re;if(Vt){if(xe.scrollIntoView(Vt),Pe=function(Ce){for(var He=V.getBody();Ce&&Ce!==He;Ce=Ce.parentNode)if("false"===V.dom.getContentEditable(Ce))return Ce;return null}(Vt))return Ie.remove(Vt),void xe.select(Pe);ve=Ie.createRng(),(ge=Vt.previousSibling)&&3==ge.nodeType?(ve.setStart(ge,ge.nodeValue.length),ee.ie||(Te=Vt.nextSibling)&&3==Te.nodeType&&(ge.appendData(Te.data),Te.parentNode.removeChild(Te))):(ve.setStartBefore(Vt),ve.setEndBefore(Vt)),oe=Ie.getParent(Vt,Ie.isBlock),Ie.remove(Vt),oe&&Ie.isEmpty(oe)&&(V.$(oe).empty(),ve.setStart(oe,0),ve.setEnd(oe,0),S(oe)||function(Vt){return!!Vt.getAttribute("data-mce-fragment")}(oe)||!(re=function(Ce){var He=C.fromRangeStart(Ce);if(He=new B(V.getBody()).next(He))return He.toRange()}(ve))?Ie.add(oe,Ie.create("br",{"data-mce-bogus":"1"})):(ve=re,Ie.remove(oe))),xe.setRng(ve)}}(Ie.get("mce_marker")),function(Vt){Y.each(Vt.getElementsByTagName("*"),function(Qt){Qt.removeAttribute("data-mce-fragment")})}(V.getBody()),V.fire("SetContent",pe),V.addVisual()}(V,W.content,W.details)}}}),Ye(jn,[Mt,ft,Kt,me,ri,vt],function(ee,Y,z,B,C,T){var b=Y.each,w=Y.extend,S=Y.map,F=Y.inArray,D=Y.explode,N=ee.ie&&ee.ie<11,E=!0;return function(R){function O(ne){var ce;if(!R.quirks.isHidden()){if(ne=ne.toLowerCase(),ce=ge.state[ne])return ce(ne);try{return R.getDoc().queryCommandState(ne)}catch(xe){}return!1}}function A(ne,ce){ce=ce||"exec",b(ne,function(xe,Ie){b(Ie.toLowerCase().split(","),function(Le){ge[ce][Le]=xe})})}function X(ne,ce,xe){return ce===Ln&&(ce=!1),xe===Ln&&(xe=null),R.getDoc().execCommand(ne,ce,xe)}function U(ne){return ve.match(ne)}function J(ne,ce){ve.toggle(ne,ce?{value:ce}:Ln),R.nodeChanged()}function ie(ne){Ae=fe.getBookmark(ne)}function ye(){fe.moveToBookmark(Ae)}var pe,fe,ve,Ae,ge={state:{},exec:{},value:{}},Te=R.settings;R.on("PreInit",function(){pe=R.dom,fe=R.selection,Te=R.settings,ve=R.formatter}),w(this,{execCommand:function(ne,ce,xe,Ie){var Le,ut,Dt=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(ne)||Ie&&Ie.skip_focus||R.focus(),(Ie=R.fire("BeforeExecCommand",{command:ne,ui:ce,value:xe})).isDefaultPrevented())return!1;if(ut=ne.toLowerCase(),Le=ge.exec[ut])return Le(ut,ce,xe),R.fire("ExecCommand",{command:ne,ui:ce,value:xe}),!0;if(b(R.plugins,function(Vt){if(Vt.execCommand&&Vt.execCommand(ne,ce,xe))return R.fire("ExecCommand",{command:ne,ui:ce,value:xe}),Dt=!0,!1}),Dt)return Dt;if(R.theme&&R.theme.execCommand&&R.theme.execCommand(ne,ce,xe))return R.fire("ExecCommand",{command:ne,ui:ce,value:xe}),!0;try{Dt=R.getDoc().execCommand(ne,ce,xe)}catch(Vt){}return!!Dt&&(R.fire("ExecCommand",{command:ne,ui:ce,value:xe}),!0)},queryCommandState:O,queryCommandValue:function(ne){var ce;if(!R.quirks.isHidden()){if(ne=ne.toLowerCase(),ce=ge.value[ne])return ce(ne);try{return R.getDoc().queryCommandValue(ne)}catch(xe){}}},queryCommandSupported:function(ne){if(ne=ne.toLowerCase(),ge.exec[ne])return!0;try{return R.getDoc().queryCommandSupported(ne)}catch(ce){}return!1},addCommands:A,addCommand:function(ne,ce,xe){ne=ne.toLowerCase(),ge.exec[ne]=function(Ie,Le,ut,Dt){return ce.call(xe||R,Le,ut,Dt)}},addQueryStateHandler:function(ne,ce,xe){ne=ne.toLowerCase(),ge.state[ne]=function(){return ce.call(xe||R)}},addQueryValueHandler:function(ne,ce,xe){ne=ne.toLowerCase(),ge.value[ne]=function(){return ce.call(xe||R)}},hasCustomCommand:function(ne){return ne=ne.toLowerCase(),!!ge.exec[ne]}}),A({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){R.undoManager.add()},"Cut,Copy,Paste":function(ne){var xe,ce=R.getDoc();try{X(ne)}catch(Le){xe=E}if("paste"!==ne||ce.queryCommandEnabled(ne)||(xe=!0),xe||!ce.queryCommandSupported(ne)){var Ie=R.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");ee.mac&&(Ie=Ie.replace(/Ctrl\+/g,"\u2318+")),R.notificationManager.open({text:Ie,type:"error"})}},unlink:function(){if(fe.isCollapsed()){var ne=R.dom.getParent(R.selection.getStart(),"a");ne&&R.dom.remove(ne,!0)}else ve.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(ne){var ce=ne.substring(7);"full"==ce&&(ce="justify"),b("left,center,right,justify".split(","),function(xe){ce!=xe&&ve.remove("align"+xe)}),"none"!=ce&&J("align"+ce)},"InsertUnorderedList,InsertOrderedList":function(ne){var ce,xe;X(ne),(ce=pe.getParent(fe.getNode(),"ol,ul"))&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((xe=ce.parentNode).nodeName)&&(ie(),pe.split(xe,ce),ye())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(ne){J(ne)},"ForeColor,HiliteColor,FontName":function(ne,ce,xe){J(ne,xe)},FontSize:function(ne,ce,xe){var Ie,Le;xe>=1&&xe<=7&&(Le=D(Te.font_size_style_values),xe=(Ie=D(Te.font_size_classes))?Ie[xe-1]||xe:Le[xe-1]||xe),J(ne,xe)},RemoveFormat:function(ne){ve.remove(ne)},mceBlockQuote:function(){J("blockquote")},FormatBlock:function(ne,ce,xe){return J(xe||"p")},mceCleanup:function(){var ne=fe.getBookmark();R.setContent(R.getContent({cleanup:E}),{cleanup:E}),fe.moveToBookmark(ne)},mceRemoveNode:function(ne,ce,xe){var Ie=xe||fe.getNode();Ie!=R.getBody()&&(ie(),R.dom.remove(Ie,E),ye())},mceSelectNodeDepth:function(ne,ce,xe){var Ie=0;pe.getParent(fe.getNode(),function(Le){if(1==Le.nodeType&&Ie++==xe)return fe.select(Le),!1},R.getBody())},mceSelectNode:function(ne,ce,xe){fe.select(xe)},mceInsertContent:function(ne,ce,xe){C.insertAtCaret(R,xe)},mceInsertRawHTML:function(ne,ce,xe){fe.setContent("tiny_mce_marker"),R.setContent(R.getContent().replace(/tiny_mce_marker/g,function(){return xe}))},mceToggleFormat:function(ne,ce,xe){J(xe)},mceSetContent:function(ne,ce,xe){R.setContent(xe)},"Indent,Outdent":function(ne){var ce,xe,Ie;xe=/[a-z%]+$/i.exec(ce=Te.indentation),ce=parseInt(ce,10),O("InsertUnorderedList")||O("InsertOrderedList")?X(ne):(Te.forced_root_block||pe.getParent(fe.getNode(),pe.isBlock)||ve.apply("div"),b(fe.getSelectedBlocks(),function(Le){if("false"!==pe.getContentEditable(Le)&&"LI"!==Le.nodeName){var ut=R.getParam("indent_use_margin",!1)?"margin":"padding";ut="TABLE"===Le.nodeName?"margin":ut,ut+="rtl"==pe.getStyle(Le,"direction",!0)?"Right":"Left","outdent"==ne?(Ie=Math.max(0,parseInt(Le.style[ut]||0,10)-ce),pe.setStyle(Le,ut,Ie?Ie+xe:"")):(Ie=parseInt(Le.style[ut]||0,10)+ce+xe,pe.setStyle(Le,ut,Ie))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){R.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){R.hasVisual=!R.hasVisual,R.addVisual()},mceReplaceContent:function(ne,ce,xe){R.execCommand("mceInsertContent",!1,xe.replace(/\{\$selection\}/g,fe.getContent({format:"text"})))},mceInsertLink:function(ne,ce,xe){var Ie;"string"==typeof xe&&(xe={href:xe}),Ie=pe.getParent(fe.getNode(),"a"),xe.href=xe.href.replace(" ","%20"),Ie&&xe.href||ve.remove("link"),xe.href&&ve.apply("link",xe,Ie)},selectAll:function(){var ce,ne=pe.getRoot();if(fe.getRng().setStart){var xe=pe.getParent(fe.getStart(),T.isContentEditableTrue);xe&&((ce=pe.createRng()).selectNodeContents(xe),fe.setRng(ce))}else(ce=fe.getRng()).item||(ce.moveToElementText(ne),ce.select())},delete:function(){X("Delete");var ne=R.getBody();pe.isEmpty(ne)&&(R.setContent(""),ne.firstChild&&pe.isBlock(ne.firstChild)?R.selection.setCursorLocation(ne.firstChild,0):R.selection.setCursorLocation(ne,0))},mceNewDocument:function(){R.setContent("")},InsertLineBreak:function(ne,ce,xe){var ut,Dt,Vt,Le=xe,Qt=fe.getRng(!0);new z(pe).normalize(Qt);var jt=Qt.startOffset,Pe=Qt.startContainer;if(1==Pe.nodeType&&Pe.hasChildNodes()){var oe=jt>Pe.childNodes.length-1;Pe=Pe.childNodes[Math.min(jt,Pe.childNodes.length-1)]||Pe,jt=oe&&3==Pe.nodeType?Pe.nodeValue.length:0}var re=pe.getParent(Pe,pe.isBlock),Ce=re?re.nodeName.toUpperCase():"",He=re?pe.getParent(re.parentNode,pe.isBlock):null,nt=He?He.nodeName.toUpperCase():"";"LI"!=nt||Le&&Le.ctrlKey||(re=He,Ce=nt),Pe&&3==Pe.nodeType&&jt>=Pe.nodeValue.length&&(N||function(){for(var ct,St=new B(Pe,re),wt=R.schema.getNonEmptyElements();ct=St.next();)if(wt[ct.nodeName.toLowerCase()]||ct.length>0)return!0}()||(ut=pe.create("br"),Qt.insertNode(ut),Qt.setStartAfter(ut),Qt.setEndAfter(ut),Dt=!0)),ut=pe.create("br"),Qt.insertNode(ut);var je=pe.doc.documentMode;return N&&"PRE"==Ce&&(!je||je<8)&&ut.parentNode.insertBefore(pe.doc.createTextNode("\r"),ut),Vt=pe.create("span",{},"&nbsp;"),ut.parentNode.insertBefore(Vt,ut),fe.scrollIntoView(Vt),pe.remove(Vt),Dt?(Qt.setStartBefore(ut),Qt.setEndBefore(ut)):(Qt.setStartAfter(ut),Qt.setEndAfter(ut)),fe.setRng(Qt),R.undoManager.add(),E}}),A({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(ne){var ce="align"+ne.substring(7),xe=fe.isCollapsed()?[pe.getParent(fe.getNode(),pe.isBlock)]:fe.getSelectedBlocks(),Ie=S(xe,function(Le){return!!ve.matchNode(Le,ce)});return-1!==F(Ie,E)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(ne){return U(ne)},mceBlockQuote:function(){return U("blockquote")},Outdent:function(){var ne;return Te.inline_styles&&((ne=pe.getParent(fe.getStart(),pe.isBlock))&&parseInt(ne.style.paddingLeft,10)>0||(ne=pe.getParent(fe.getEnd(),pe.isBlock))&&parseInt(ne.style.paddingLeft,10)>0)?E:O("InsertUnorderedList")||O("InsertOrderedList")||!Te.inline_styles&&!!pe.getParent(fe.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(ne){var ce=pe.getParent(fe.getNode(),"ul,ol");return ce&&("insertunorderedlist"===ne&&"UL"===ce.tagName||"insertorderedlist"===ne&&"OL"===ce.tagName)}},"state"),A({"FontSize,FontName":function(ne){var xe,ce=0;return(xe=pe.getParent(fe.getNode(),"span"))&&(ce="fontsize"==ne?xe.style.fontSize:xe.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),ce}},"value"),A({Undo:function(){R.undoManager.undo()},Redo:function(){R.undoManager.redo()}})}}),Ye(Nt,[ft],function(ee){function Y(b,w){var F,D,S=this;if(b=B(b),F=(w=S.settings=w||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(b)||/^\s*#/.test(b))S.source=b;else{var N=0===b.indexOf("//");0!==b.indexOf("/")||N||(b=(F&&F.protocol||"http")+"://mce_host"+b),/^[\w\-]*:?\/\//.test(b)||(D=w.base_uri?w.base_uri.path:new Y(location.href).directory,""===w.base_uri.protocol?b="//mce_host"+S.toAbsPath(D,b):(b=/([^#?]*)([#?]?.*)/.exec(b),b=(F&&F.protocol||"http")+"://mce_host"+S.toAbsPath(D,b[1])+b[2])),b=b.replace(/@@/g,"(mce_at)"),b=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(b),z(C,function(E,V){var R=b[V];R&&(R=R.replace(/\(mce_at\)/g,"@@")),S[E]=R}),F&&(S.protocol||(S.protocol=F.protocol),S.userInfo||(S.userInfo=F.userInfo),S.port||"mce_host"!==S.host||(S.port=F.port),S.host&&"mce_host"!==S.host||(S.host=F.host),S.source=""),N&&(S.protocol="")}}var z=ee.each,B=ee.trim,C="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),T={ftp:21,http:80,https:443,mailto:25};return Y.prototype={setPath:function(b){var w=this;b=/^(.*?)\/?(\w+)?$/.exec(b),w.path=b[0],w.directory=b[1],w.file=b[2],w.source="",w.getURI()},toRelative:function(b){var S,w=this;if("./"===b)return b;if("mce_host"!=(b=new Y(b,{base_uri:w})).host&&w.host!=b.host&&b.host||w.port!=b.port||w.protocol!=b.protocol&&""!==b.protocol)return b.getURI();var F=w.getURI(),D=b.getURI();return F==D||"/"==F.charAt(F.length-1)&&F.substr(0,F.length-1)==D?F:(S=w.toRelPath(w.path,b.path),b.query&&(S+="?"+b.query),b.anchor&&(S+="#"+b.anchor),S)},toAbsolute:function(b,w){return(b=new Y(b,{base_uri:this})).getURI(w&&this.isSameOrigin(b))},isSameOrigin:function(b){if(this.host==b.host&&this.protocol==b.protocol){if(this.port==b.port)return!0;var w=T[this.protocol];if(w&&(this.port||w)==(b.port||w))return!0}return!1},toRelPath:function(b,w){var S,N,E,F=0,D="";if(b=(b=b.substring(0,b.lastIndexOf("/"))).split("/"),S=w.split("/"),b.length>=S.length)for(N=0,E=b.length;N<E;N++)if(N>=S.length||b[N]!=S[N]){F=N+1;break}if(b.length<S.length)for(N=0,E=S.length;N<E;N++)if(N>=b.length||b[N]!=S[N]){F=N+1;break}if(1===F)return w;for(N=0,E=b.length-(F-1);N<E;N++)D+="../";for(N=F-1,E=S.length;N<E;N++)D+=N!=F-1?"/"+S[N]:S[N];return D},toAbsPath:function(b,w){var S,N,E,F=0,D=[];for(N=/\/$/.test(w)?"/":"",b=b.split("/"),w=w.split("/"),z(b,function(V){V&&D.push(V)}),b=D,S=w.length-1,D=[];S>=0;S--)0!==w[S].length&&"."!==w[S]&&(".."!==w[S]?F>0?F--:D.push(w[S]):F++);return 0!==(E=(S=b.length-F)<=0?D.reverse().join("/"):b.slice(0,S).join("/")+"/"+D.reverse().join("/")).indexOf("/")&&(E="/"+E),N&&E.lastIndexOf("/")!==E.length-1&&(E+=N),E},getURI:function(b){var w,S=this;return S.source&&!b||(w="",b||(w+=S.protocol?S.protocol+"://":"//",S.userInfo&&(w+=S.userInfo+"@"),S.host&&(w+=S.host),S.port&&(w+=":"+S.port)),S.path&&(w+=S.path),S.query&&(w+="?"+S.query),S.anchor&&(w+="#"+S.anchor),S.source=w),S.source}},Y.parseDataUri=function(b){var w,S;return b=decodeURIComponent(b).split(","),(S=/data:([^;]+)/.exec(b[0]))&&(w=S[1]),{type:w,data:b[1]}},Y.getDocumentBaseUrl=function(b){var w;return w=0!==b.protocol.indexOf("http")&&"file:"!==b.protocol?b.href:b.protocol+"//"+b.host+b.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(w)&&(w=w.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(w)||(w+="/")),w},Y}),Ye(Yt,[ft],function(ee){function Y(){}var C,T,z=ee.each,B=ee.extend;return Y.extend=C=function(b){function w(){var W,O,$,A=this;if(!T&&(A.init&&A.init.apply(A,arguments),O=A.Mixins))for(W=O.length;W--;)($=O[W]).init&&$.init.apply(A,arguments)}function S(){return this}function F(W,O){return function(){var P,$=this,A=$._super;return $._super=N[W],P=O.apply($,arguments),$._super=A,P}}var E,V,R,N=this.prototype;for(V in T=!0,E=new this,T=!1,b.Mixins&&(z(b.Mixins,function(W){for(var O in W)"init"!==O&&(b[O]=W[O])}),N.Mixins&&(b.Mixins=N.Mixins.concat(b.Mixins))),b.Methods&&z(b.Methods.split(","),function(W){b[W]=S}),b.Properties&&z(b.Properties.split(","),function(W){var O="_"+W;b[W]=function($){var A=this;return void 0!==$?(A[O]=$,A):A[O]}}),b.Statics&&z(b.Statics,function(W,O){w[O]=W}),b.Defaults&&N.Defaults&&(b.Defaults=B({},N.Defaults,b.Defaults)),b)E[V]="function"==typeof(R=b[V])&&N[V]?F(V,R):R;return w.prototype=E,w.constructor=w,w.extend=C,w},Y}),Ye(an,[ft],function(ee){function Y(B){function C(){return!1}function T(){return!0}function w(W,O,$,A){var P,M,x;if(!1===O&&(O=C),O)for(O={func:O},A&&ee.extend(O,A),x=(M=W.toLowerCase().split(" ")).length;x--;)(P=V[W=M[x]])||(P=V[W]=[],R(W,!0)),$?P.unshift(O):P.push(O);return N}function S(W,O){var $,A,P,M,x;if(W)for($=(M=W.toLowerCase().split(" ")).length;$--;){if(A=V[W=M[$]],!W){for(P in V)R(P,!1),delete V[P];return N}if(A){if(O)for(x=A.length;x--;)A[x].func===O&&(A=A.slice(0,x).concat(A.slice(x+1)),V[W]=A);else A.length=0;A.length||(R(W,!1),delete V[W])}}else{for(W in V)R(W,!1);V={}}return N}var E,R,N=this,V={};E=(B=B||{}).scope||N,R=B.toggleEvent||C,N.fire=function(W,O){var $,A,P,M;if(W=W.toLowerCase(),(O=O||{}).type=W,O.target||(O.target=E),O.preventDefault||(O.preventDefault=function(){O.isDefaultPrevented=T},O.stopPropagation=function(){O.isPropagationStopped=T},O.stopImmediatePropagation=function(){O.isImmediatePropagationStopped=T},O.isDefaultPrevented=C,O.isPropagationStopped=C,O.isImmediatePropagationStopped=C),B.beforeFire&&B.beforeFire(O),$=V[W])for(A=0,P=$.length;A<P;A++){if((M=$[A]).once&&S(W,M.func),O.isImmediatePropagationStopped())return O.stopPropagation(),O;if(!1===M.func.call(E,O))return O.preventDefault(),O}return O},N.on=w,N.off=S,N.once=function(W,O,$){return w(W,O,$,{once:!0})},N.has=function(W){return W=W.toLowerCase(),!(!V[W]||0===V[W].length)}}var z=ee.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return Y.isNative=function(B){return!!z[B.toLowerCase()]},Y}),Ye(Tn,[],function(){function ee(Y){this.create=Y.create}return ee.create=function(Y,z){return new ee({create:function(B,C){function T(S){B.set(C,S.value)}var w;return B.on("change:"+C,function(S){Y.set(z,S.value)}),Y.on("change:"+z,T),(w=B._bindings)||(w=B._bindings=[],B.on("destroy",function(){for(var S=w.length;S--;)w[S]()})),w.push(function(){Y.off("change:"+z,T)}),Y.get(z)}})},ee}),Ye(fn,[an],function(ee){function Y(z){return z._eventDispatcher||(z._eventDispatcher=new ee({scope:z,toggleEvent:function(B,C){ee.isNative(B)&&z.toggleNativeEvent&&z.toggleNativeEvent(B,C)}})),z._eventDispatcher}return{fire:function(z,B,C){var T=this;if(T.removed&&"remove"!==z)return B;if(B=Y(T).fire(z,B,C),!1!==C&&T.parent)for(var b=T.parent();b&&!B.isPropagationStopped();)b.fire(z,B,!1),b=b.parent();return B},on:function(z,B,C){return Y(this).on(z,B,C)},off:function(z,B){return Y(this).off(z,B)},once:function(z,B){return Y(this).once(z,B)},hasEventListeners:function(z){return Y(this).has(z)}}}),Ye(nn,[Tn,fn,Yt,ft],function(ee,Y,z,B){function C(b){return b.nodeType>0}function T(b,w){var S,F;if(b===w)return!0;if(null===b||null===w||"object"!=typeof b||"object"!=typeof w)return b===w;if(B.isArray(w)){if(b.length!==w.length)return!1;for(S=b.length;S--;)if(!T(b[S],w[S]))return!1}if(C(b)||C(w))return b===w;for(S in F={},w){if(!T(b[S],w[S]))return!1;F[S]=!0}for(S in b)if(!F[S]&&!T(b[S],w[S]))return!1;return!0}return z.extend({Mixins:[Y],init:function(b){var w,S;for(w in b=b||{})(S=b[w])instanceof ee&&(b[w]=S.create(this,w));this.data=b},set:function(b,w){var S,F,D=this.data[b];if(w instanceof ee&&(w=w.create(this,b)),"object"==typeof b){for(S in b)this.set(S,b[S]);return this}return T(D,w)||(this.data[b]=w,this.fire("change:"+b,F={target:this,name:b,value:w,oldValue:D}),this.fire("change",F)),this},get:function(b){return this.data[b]},has:function(b){return b in this.data},bind:function(b){return ee.create(this,b)},destroy:function(){this.fire("destroy")}})}),Ye(An,[Yt],function(ee){var T,z=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,B=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,C=/^\s*|\s*$/g,b=ee.extend({init:function(w){function V(O,$,A){function P(x){x&&$.push(x)}var M;return P(function(O){if(O)return O=O.toLowerCase(),function($){return"*"===O||$.type===O}}((M=z.exec(O.replace(C,"")))[1])),P(function(O){if(O)return function($){return $._name===O}}(M[2])),P(function(O){if(O)return O=O.split("."),function($){for(var A=O.length;A--;)if(!$.classes.contains(O[A]))return!1;return!0}}(M[3])),P(function(O,$,A){if(O)return function(P){var M=P[O]?P[O]():"";return $?"="===$?M===A:"*="===$?M.indexOf(A)>=0:"~="===$?(" "+M+" ").indexOf(" "+A+" ")>=0:"!="===$?M!=A:"^="===$?0===M.indexOf(A):"$="===$&&M.substr(M.length-A.length)===A:!!A}}(M[4],M[5],M[6])),P(function(O){var $;if(O)return(O=/(?:not\((.+)\))|(.+)/i.exec(O))[1]?($=R(O[1],[]),function(A){return!W(A,$)}):(O=O[2],function(A,P,M){return"first"===O?0===P:"last"===O?P===M-1:"even"===O?P%2==0:"odd"===O?P%2==1:!!A[O]&&A[O]()})}(M[7])),$.pseudo=!!M[7],$.direct=A,$}function R(O,$){var P,M,x,A=[];do{if(B.exec(""),(M=B.exec(O))&&(O=M[3],A.push(M[1]),M[2])){P=M[3];break}}while(M);for(P&&R(P,$),O=[],x=0;x<A.length;x++)">"!=A[x]&&O.push(V(A[x],[],">"===A[x-1]));return $.push(O),$}var W=this.match;this._selectors=R(w,[])},match:function(w,S){var F,D,N,E,V,R,W,O,$,A,P,M,x;for(F=0,D=(S=S||this._selectors).length;F<D;F++){for(x=w,M=0,N=(E=(V=S[F]).length)-1;N>=0;N--)for(O=V[N];x;){if(O.pseudo)for($=A=(P=x.parent().items()).length;$--&&P[$]!==x;);for(R=0,W=O.length;R<W;R++)if(!O[R](x,$,A)){R=W+1;break}if(R===W){M++;break}if(N===E-1)break;x=x.parent()}if(M===E)return!0}return!1},find:function(w){function S(V,R,W){var O,$,A,P,M,x=R[W];for(O=0,$=V.length;O<$;O++){for(M=V[O],A=0,P=x.length;A<P;A++)if(!x[A](M,O,$)){A=P+1;break}if(A===P)W==R.length-1?F.push(M):M.items&&S(M.items(),R,W+1);else if(x.direct)return;M.items&&S(M.items(),R,W)}}var D,N,F=[],E=this._selectors;if(w.items){for(D=0,N=E.length;D<N;D++)S(w.items(),E[D],0);N>1&&(F=function(w){for(var D,S=[],F=w.length;F--;)(D=w[F]).__checked||(S.push(D),D.__checked=1);for(F=S.length;F--;)delete S[F].__checked;return S}(F))}return T||(T=b.Collection),new T(F)}});return b}),Ye(Bn,[ft,An,Yt],function(ee,Y,z){var B,C,T=Array.prototype.push,b=Array.prototype.slice;return C={length:0,init:function(w){w&&this.add(w)},add:function(w){var S=this;return ee.isArray(w)?T.apply(S,w):w instanceof B?S.add(w.toArray()):T.call(S,w),S},set:function(w){var D,S=this,F=S.length;for(S.length=0,S.add(w),D=S.length;D<F;D++)delete S[D];return S},filter:function(w){var F,D,E,V,N=[];for("string"==typeof w?(w=new Y(w),V=function(R){return w.match(R)}):V=w,F=0,D=this.length;F<D;F++)V(E=this[F])&&N.push(E);return new B(N)},slice:function(){return new B(b.apply(this,arguments))},eq:function(w){return-1===w?this.slice(w):this.slice(w,+w+1)},each:function(w){return ee.each(this,w),this},toArray:function(){return ee.toArray(this)},indexOf:function(w){for(var F=this.length;F--&&this[F]!==w;);return F},reverse:function(){return new B(ee.toArray(this).reverse())},hasClass:function(w){return!!this[0]&&this[0].classes.contains(w)},prop:function(w,S){var N,F=this;return void 0!==S?(F.each(function(E){E[w]&&E[w](S)}),F):(N=F[0])&&N[w]?N[w]():void 0},exec:function(w){var S=this,F=ee.toArray(arguments).slice(1);return S.each(function(D){D[w]&&D[w].apply(D,F)}),S},remove:function(){for(var w=this.length;w--;)this[w].remove();return this},addClass:function(w){return this.each(function(S){S.classes.add(w)})},removeClass:function(w){return this.each(function(S){S.classes.remove(w)})}},ee.each("fire on off show hide append prepend before after reflow".split(" "),function(w){C[w]=function(){var S=ee.toArray(arguments);return this.each(function(F){w in F&&F[w].apply(F,S)}),this}}),ee.each("text name disabled active selected checked visible parent value data".split(" "),function(w){C[w]=function(S){return this.prop(w,S)}}),B=z.extend(C),Y.Collection=B,B}),Ye(Zn,[Mt,ft,$e],function(ee,Y,z){var B=0,C={id:function(){return"mceu_"+B++},create:function(T,b,w){var S=document.createElement(T);return z.DOM.setAttribs(S,b),"string"==typeof w?S.innerHTML=w:Y.each(w,function(F){F.nodeType&&S.appendChild(F)}),S},createFragment:function(T){return z.DOM.createFragment(T)},getWindowSize:function(){return z.DOM.getViewPort()},getSize:function(T){var b,w;if(T.getBoundingClientRect){var S=T.getBoundingClientRect();b=Math.max(S.width||S.right-S.left,T.offsetWidth),w=Math.max(S.height||S.bottom-S.bottom,T.offsetHeight)}else b=T.offsetWidth,w=T.offsetHeight;return{width:b,height:w}},getPos:function(T,b){return z.DOM.getPos(T,b||C.getContainer())},getContainer:function(){return ee.container?ee.container:document.body},getViewPort:function(T){return z.DOM.getViewPort(T)},get:function(T){return document.getElementById(T)},addClass:function(T,b){return z.DOM.addClass(T,b)},removeClass:function(T,b){return z.DOM.removeClass(T,b)},hasClass:function(T,b){return z.DOM.hasClass(T,b)},toggleClass:function(T,b,w){return z.DOM.toggleClass(T,b,w)},css:function(T,b,w){return z.DOM.setStyle(T,b,w)},getRuntimeStyle:function(T,b){return z.DOM.getStyle(T,b,!0)},on:function(T,b,w,S){return z.DOM.bind(T,b,w,S)},off:function(T,b,w){return z.DOM.unbind(T,b,w)},fire:function(T,b,w){return z.DOM.fire(T,b,w)},innerHtml:function(T,b){z.DOM.setHTML(T,b)}};return C}),Ye($n,[],function(){return{parseBox:function(ee){var Y;if(ee)return"number"==typeof ee?{top:ee=ee||0,left:ee,bottom:ee,right:ee}:(1===(Y=(ee=ee.split(" ")).length)?ee[1]=ee[2]=ee[3]=ee[0]:2===Y?(ee[2]=ee[0],ee[3]=ee[1]):3===Y&&(ee[3]=ee[1]),{top:parseInt(ee[0],10)||0,right:parseInt(ee[1],10)||0,bottom:parseInt(ee[2],10)||0,left:parseInt(ee[3],10)||0})},measureBox:function(ee,Y){function B(C){var T=parseFloat(function(C){var T=document.defaultView;return T?(C=C.replace(/[A-Z]/g,function(b){return"-"+b}),T.getComputedStyle(ee,null).getPropertyValue(C)):ee.currentStyle[C]}(C),10);return isNaN(T)?0:T}return{top:B(Y+"TopWidth"),right:B(Y+"RightWidth"),bottom:B(Y+"BottomWidth"),left:B(Y+"LeftWidth")}}}}),Ye(xi,[ft],function(ee){function Y(){}function z(B){this.cls=[],this.cls._map={},this.onchange=B||Y,this.prefix=""}return ee.extend(z.prototype,{add:function(B){return B&&!this.contains(B)&&(this.cls._map[B]=!0,this.cls.push(B),this._change()),this},remove:function(B){if(this.contains(B)){for(var C=0;C<this.cls.length&&this.cls[C]!==B;C++);this.cls.splice(C,1),delete this.cls._map[B],this._change()}return this},toggle:function(B,C){var T=this.contains(B);return T!==C&&(T?this.remove(B):this.add(B),this._change()),this},contains:function(B){return!!this.cls._map[B]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),z.prototype.toString=function(){var B;if(this.clsValue)return this.clsValue;B="";for(var C=0;C<this.cls.length;C++)C>0&&(B+=" "),B+=this.prefix+this.cls[C];return B},z}),Ye(Yi,[Ke],function(ee){var z,Y={};return{add:function(B){var C=B.parent();if(C){if(!C._layout||C._layout.isNative())return;Y[C._id]||(Y[C._id]=C),z||(z=!0,ee.requestAnimationFrame(function(){var T,b;for(T in z=!1,Y)(b=Y[T]).state.get("rendered")&&b.reflow();Y={}},document.body))}},remove:function(B){Y[B._id]&&delete Y[B._id]}}}),Ye(Ki,[Yt,ft,an,nn,Bn,Zn,ot,$n,xi,Yi],function(ee,Y,z,B,C,T,b,w,S,F){function D(A){return A._eventDispatcher||(A._eventDispatcher=new z({scope:A,toggleEvent:function(P,M){M&&z.isNative(P)&&(A._nativeEvents||(A._nativeEvents={}),A._nativeEvents[P]=!0,A.state.get("rendered")&&N(A))}})),A._eventDispatcher}function N(A){function P(fe){var ve=A.getParentCtrl(fe.target);ve&&ve.fire(fe.type,fe)}function M(){var fe=J._lastHoverCtrl;fe&&(fe.fire("mouseleave",{target:fe.getEl()}),fe.parents().each(function(ve){ve.fire("mouseleave",{target:ve.getEl()})}),J._lastHoverCtrl=null)}function x(fe){var Ae,ne,ce,ve=A.getParentCtrl(fe.target),ge=J._lastHoverCtrl,Te=0;if(ve!==ge){if(J._lastHoverCtrl=ve,(ne=ve.parents().toArray().reverse()).push(ve),ge){for((ce=ge.parents().toArray().reverse()).push(ge),Te=0;Te<ce.length&&ne[Te]===ce[Te];Te++);for(Ae=ce.length-1;Ae>=Te;Ae--)(ge=ce[Ae]).fire("mouseleave",{target:ge.getEl()})}for(Ae=Te;Ae<ne.length;Ae++)(ve=ne[Ae]).fire("mouseenter",{target:ve.getEl()})}}function _(fe){fe.preventDefault(),"mousewheel"==fe.type?(fe.deltaY=-.025*fe.wheelDelta,fe.wheelDeltaX&&(fe.deltaX=-.025*fe.wheelDeltaX)):(fe.deltaX=0,fe.deltaY=fe.detail),fe=A.fire("wheel",fe)}var H,X,U,J,ie,ye;if(ie=A._nativeEvents){for((U=A.parents().toArray()).unshift(A),H=0,X=U.length;!J&&H<X;H++)J=U[H]._eventsRoot;for(J||(J=U[U.length-1]||A),A._eventsRoot=J,X=H,H=0;H<X;H++)U[H]._eventsRoot=J;var pe=J._delegates;for(ye in pe||(pe=J._delegates={}),ie){if(!ie)return!1;"wheel"!==ye||V?("mouseenter"===ye||"mouseleave"===ye?J._hasMouseEnter||(b(J.getEl()).on("mouseleave",M).on("mouseover",x),J._hasMouseEnter=1):pe[ye]||(b(J.getEl()).on(ye,P),pe[ye]=!0),ie[ye]=!1):E?b(A.getEl()).on("mousewheel",_):b(A.getEl()).on("DOMMouseScroll",_)}}}var W,E="onmousewheel"in document,V=!1,R="mce-",O=0,$={Statics:{classPrefix:R},isRtl:function(){return W.rtl},classPrefix:R,init:function(A){function P(H){var X;for(H=H.split(" "),X=0;X<H.length;X++)M.classes.add(H[X])}var x,_,M=this;M.settings=A=Y.extend({},M.Defaults,A),M._id=A.id||"mceu_"+O++,M._aria={role:A.role},M._elmCache={},M.$=b,M.state=new B({visible:!0,active:!1,disabled:!1,value:""}),M.data=new B(A.data),M.classes=new S(function(){M.state.get("rendered")&&(M.getEl().className=this.toString())}),M.classes.prefix=M.classPrefix,(x=A.classes)&&(M.Defaults&&(_=M.Defaults.classes)&&x!=_&&P(_),P(x)),Y.each("title text name visible disabled active value".split(" "),function(H){H in A&&M[H](A[H])}),M.on("click",function(){if(M.disabled())return!1}),M.settings=A,M.borderBox=w.parseBox(A.border),M.paddingBox=w.parseBox(A.padding),M.marginBox=w.parseBox(A.margin),A.hidden&&M.hide()},Properties:"parent,name",getContainerElm:function(){return T.getContainer()},getParentCtrl:function(A){for(var P,M=this.getRoot().controlIdLookup;A&&M&&!(P=M[A.id]);)A=A.parentNode;return P},initLayoutRect:function(){var M,x,H,X,U,J,ie,ye,pe,fe,A=this,P=A.settings,_=A.getEl();M=A.borderBox=A.borderBox||w.measureBox(_,"border"),A.paddingBox=A.paddingBox||w.measureBox(_,"padding"),A.marginBox=A.marginBox||w.measureBox(_,"margin"),fe=T.getSize(_),U=(ye=P.minWidth)||fe.width,J=(pe=P.minHeight)||fe.height,H=P.width,X=P.height,ie=void 0!==(ie=P.autoResize)?ie:!H&&!X;var ve=M.left+M.right,ge=M.top+M.bottom,Te=P.maxWidth||65535,Ae=P.maxHeight||65535;return A._layoutRect=x={x:P.x||0,y:P.y||0,w:H=H||U,h:X=X||J,deltaW:ve,deltaH:ge,contentW:H-ve,contentH:X-ge,innerW:H-ve,innerH:X-ge,startMinWidth:ye||0,startMinHeight:pe||0,minW:Math.min(U,Te),minH:Math.min(J,Ae),maxW:Te,maxH:Ae,autoResize:ie,scrollW:0},A._lastLayoutRect={},x},layoutRect:function(A){var x,_,H,X,U,J,P=this,M=P._layoutRect;return M||(M=P.initLayoutRect()),A?(H=M.deltaW,X=M.deltaH,A.x!==U&&(M.x=A.x),A.y!==U&&(M.y=A.y),A.minW!==U&&(M.minW=A.minW),A.minH!==U&&(M.minH=A.minH),(_=A.w)!==U&&(M.w=_=(_=_<M.minW?M.minW:_)>M.maxW?M.maxW:_,M.innerW=_-H),(_=A.h)!==U&&(M.h=_=(_=_<M.minH?M.minH:_)>M.maxH?M.maxH:_,M.innerH=_-X),(_=A.innerW)!==U&&(M.innerW=_=(_=_<M.minW-H?M.minW-H:_)>M.maxW-H?M.maxW-H:_,M.w=_+H),(_=A.innerH)!==U&&(M.innerH=_=(_=_<M.minH-X?M.minH-X:_)>M.maxH-X?M.maxH-X:_,M.h=_+X),A.contentW!==U&&(M.contentW=A.contentW),A.contentH!==U&&(M.contentH=A.contentH),(x=P._lastLayoutRect).x===M.x&&x.y===M.y&&x.w===M.w&&x.h===M.h||((J=W.repaintControls)&&J.map&&!J.map[P._id]&&(J.push(P),J.map[P._id]=!0),x.x=M.x,x.y=M.y,x.w=M.w,x.h=M.h),P):M},repaint:function(){var P,M,x,_,H,X,U,J,ie,ye,A=this;ie=document.createRange?function(pe){return pe}:Math.round,P=A.getEl().style,X=(H=A.borderBox).left+H.right,U=H.top+H.bottom,(_=A._layoutRect).x!==(J=A._lastRepaintRect||{}).x&&(P.left=ie(_.x)+"px",J.x=_.x),_.y!==J.y&&(P.top=ie(_.y)+"px",J.y=_.y),_.w!==J.w&&(ye=ie(_.w-X),P.width=(ye>=0?ye:0)+"px",J.w=_.w),_.h!==J.h&&(ye=ie(_.h-U),P.height=(ye>=0?ye:0)+"px",J.h=_.h),A._hasBody&&_.innerW!==J.innerW&&(ye=ie(_.innerW),(x=A.getEl("body"))&&((M=x.style).width=(ye>=0?ye:0)+"px"),J.innerW=_.innerW),A._hasBody&&_.innerH!==J.innerH&&(ye=ie(_.innerH),(x=x||A.getEl("body"))&&((M=M||x.style).height=(ye>=0?ye:0)+"px"),J.innerH=_.innerH),A._lastRepaintRect=J,A.fire("repaint",{},!1)},updateLayoutRect:function(){var A=this;A.parent()._lastRect=null,T.css(A.getEl(),{width:"",height:""}),A._layoutRect=A._lastRepaintRect=A._lastLayoutRect=null,A.initLayoutRect()},on:function(A,P){var _,H,X,x=this;return D(x).on(A,"string"!=typeof(_=P)?_:function(U){return H||x.parentsAndSelf().each(function(J){var ie=J.settings.callbacks;if(ie&&(H=ie[_]))return X=J,!1}),H?H.call(X,U):(U.action=_,void this.fire("execute",U))}),x},off:function(A,P){return D(this).off(A,P),this},fire:function(A,P,M){var x=this;if((P=P||{}).control||(P.control=x),P=D(x).fire(A,P),!1!==M&&x.parent)for(var _=x.parent();_&&!P.isPropagationStopped();)_.fire(A,P,!1),_=_.parent();return P},hasEventListeners:function(A){return D(this).has(A)},parents:function(A){var M,x=new C;for(M=this.parent();M;M=M.parent())x.add(M);return A&&(x=x.filter(A)),x},parentsAndSelf:function(A){return new C(this).add(this.parents(A))},next:function(){var A=this.parent().items();return A[A.indexOf(this)+1]},prev:function(){var A=this.parent().items();return A[A.indexOf(this)-1]},innerHtml:function(A){return this.$el.html(A),this},getEl:function(A){var P=A?this._id+"-"+A:this._id;return this._elmCache[P]||(this._elmCache[P]=b("#"+P)[0]),this._elmCache[P]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(A){}return this},blur:function(){return this.getEl().blur(),this},aria:function(A,P){var M=this,x=M.getEl(M.ariaTarget);return void 0===P?M._aria[A]:(M._aria[A]=P,M.state.get("rendered")&&x.setAttribute("role"==A?A:"aria-"+A,P),M)},encode:function(A,P){return!1!==P&&(A=this.translate(A)),(A||"").replace(/[&<>"]/g,function(M){return"&#"+M.charCodeAt(0)+";"})},translate:function(A){return W.translate?W.translate(A):A},before:function(A){var P=this,M=P.parent();return M&&M.insert(A,M.items().indexOf(P),!0),P},after:function(A){var P=this,M=P.parent();return M&&M.insert(A,M.items().indexOf(P)),P},remove:function(){var x,_,A=this,P=A.getEl(),M=A.parent();if(A.items){var H=A.items().toArray();for(_=H.length;_--;)H[_].remove()}M&&M.items&&(x=[],M.items().each(function(U){U!==A&&x.push(U)}),M.items().set(x),M._lastRect=null),A._eventsRoot&&A._eventsRoot==A&&b(P).off();var X=A.getRoot().controlIdLookup;return X&&delete X[A._id],P&&P.parentNode&&P.parentNode.removeChild(P),A.state.set("rendered",!1),A.state.destroy(),A.fire("remove"),A},renderBefore:function(A){return b(A).before(this.renderHtml()),this.postRender(),this},renderTo:function(A){return b(A||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var M,x,_,H,X,A=this,P=A.settings;for(H in A.$el=b(A.getEl()),A.state.set("rendered",!0),P)0===H.indexOf("on")&&A.on(H.substr(2),P[H]);if(A._eventsRoot){for(_=A.parent();!X&&_;_=_.parent())X=_._eventsRoot;if(X)for(H in X._nativeEvents)A._nativeEvents[H]=!0}N(A),P.style&&(M=A.getEl())&&(M.setAttribute("style",P.style),M.style.cssText=P.style),A.settings.border&&A.$el.css({"border-top-width":(x=A.borderBox).top,"border-right-width":x.right,"border-bottom-width":x.bottom,"border-left-width":x.left});var U=A.getRoot();for(var J in U.controlIdLookup||(U.controlIdLookup={}),U.controlIdLookup[A._id]=A,A._aria)A.aria(J,A._aria[J]);!1===A.state.get("visible")&&(A.getEl().style.display="none"),A.bindStates(),A.state.on("change:visible",function(ie){var pe,ye=ie.value;A.state.get("rendered")&&(A.getEl().style.display=!1===ye?"none":"",A.getEl().getBoundingClientRect()),(pe=A.parent())&&(pe._lastRect=null),A.fire(ye?"show":"hide"),F.add(A)}),A.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(A){var _,H,X,U,J,ie,M=this.getEl(),x=M.parentNode,ye=function(pe,fe){var ve,ge,Te=pe;for(ve=ge=0;Te&&Te!=fe&&Te.nodeType;)ve+=Te.offsetLeft||0,ge+=Te.offsetTop||0,Te=Te.offsetParent;return{x:ve,y:ge}}(M,x);return _=ye.x,H=ye.y,X=M.offsetWidth,U=M.offsetHeight,J=x.clientWidth,ie=x.clientHeight,"end"==A?(_-=J-X,H-=ie-U):"center"==A&&(_-=J/2-X/2,H-=ie/2-U/2),x.scrollLeft=_,x.scrollTop=H,this},getRoot:function(){for(var P,A=this,M=[];A;){if(A.rootControl){P=A.rootControl;break}M.push(A),P=A,A=A.parent()}P||(P=this);for(var x=M.length;x--;)M[x].rootControl=P;return P},reflow:function(){F.remove(this);var A=this.parent();return A._layout&&!A._layout.isNative()&&A.reflow(),this}};return Y.each("text title visible disabled active value".split(" "),function(A){$[A]=function(P){return 0===arguments.length?this.state.get(A):(void 0!==P&&this.state.set(A,P),this)}}),W=ee.extend($)}),Ye(_i,[],function(){var Y,ee={};return{add:function(z,B){ee[z.toLowerCase()]=B},has:function(z){return!!ee[z.toLowerCase()]},create:function(z,B){var C,T,b;if(!Y){for(T in b=tinymce.ui)ee[T.toLowerCase()]=b[T];Y=!0}if("string"==typeof z?(B=B||{}).type=z:z=(B=z).type,z=z.toLowerCase(),!(C=ee[z]))throw new Error("Could not find control by type: "+z);return(C=new C(B)).type=z,C}}}),Ye(Wr,[],function(){return function(ee){function Y(_){return _&&1===_.nodeType}function z(_){return Y(_=_||M)?_.getAttribute("role"):null}function B(_){for(var H,X=_||M;X=X.parentNode;)if(H=z(X))return H}function C(_){var H=M;if(Y(H))return H.getAttribute("aria-"+_)}function T(_){var H=_.tagName.toUpperCase();return"INPUT"==H||"TEXTAREA"==H||"SELECT"==H}function w(_){var X=[];return function H(U){if(1==U.nodeType&&"none"!=U.style.display&&!U.disabled){(function(_){return!(!T(_)||_.hidden)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(z(_))})(U)&&X.push(U);for(var J=0;J<U.childNodes.length;J++)H(U.childNodes[J])}}(_||P.getEl()),X}function S(_){var H,X;(X=(_=_||x).parents().toArray()).unshift(_);for(var U=0;U<X.length&&!(H=X[U]).settings.ariaRoot;U++);return H}function D(_,H){return _<0?_=H.length-1:_>=H.length&&(_=0),H[_]&&H[_].focus(),_}function N(_,H){var X=-1,U=S();H=H||w(U.getEl());for(var J=0;J<H.length;J++)H[J]===M&&(X=J);U.lastAriaIndex=D(X+=_,H)}function E(){"tablist"==B()?N(-1,w(M.parentNode)):x.parent().submenu?$():N(-1)}function V(){var _=z(),H=B();"tablist"==H?N(1,w(M.parentNode)):"menuitem"==_&&"menu"==H&&C("haspopup")?A():N(1)}function R(){N(-1)}function W(){var _=z(),H=B();"menuitem"==_&&"menubar"==H?A():"button"==_&&C("haspopup")?A({key:"down"}):N(1)}function $(){x.fire("cancel")}function A(_){x.fire("click",{target:M,aria:_=_||{}})}var M,x,P=ee.root;try{M=document.activeElement}catch(_){M=document.body}return x=P.getParentCtrl(M),P.on("keydown",function(_){function H(X,U){T(M)||"slider"!==z(M)&&!1!==U(X)&&X.preventDefault()}if(!_.isDefaultPrevented())switch(_.keyCode){case 37:H(_,E);break;case 39:H(_,V);break;case 38:H(_,R);break;case 40:H(_,W);break;case 27:$();break;case 14:case 13:case 32:H(_,A);break;case 9:!1!==function(_){if("tablist"==B()){var X=w(x.getEl("body"))[0];X&&X.focus()}else N(_.shiftKey?-1:1)}(_)&&_.preventDefault()}}),P.on("focusin",function(_){M=_.target,x=_.control}),{focusFirst:function(_){var H=S(_),X=w(H.getEl());D(H.settings.ariaRemember&&"lastAriaIndex"in H?H.lastAriaIndex:0,X)}}}}),Ye(nr,[Ki,Bn,An,_i,Wr,ft,ot,xi,Yi],function(ee,Y,z,B,C,T,b,w,S){var F={};return ee.extend({init:function(D){var N=this;N._super(D),(D=N.settings).fixed&&N.state.set("fixed",!0),N._items=new Y,N.isRtl()&&N.classes.add("rtl"),N.bodyClasses=new w(function(){N.state.get("rendered")&&(N.getEl("body").className=this.toString())}),N.bodyClasses.prefix=N.classPrefix,N.classes.add("container"),N.bodyClasses.add("container-body"),D.containerCls&&N.classes.add(D.containerCls),N._layout=B.create((D.layout||"")+"layout"),N.add(N.settings.items?N.settings.items:N.render()),N._hasBody=!0},items:function(){return this._items},find:function(D){return(D=F[D]=F[D]||new z(D)).find(this)},add:function(D){var N=this;return N.items().add(N.create(D)).parent(N),N},focus:function(D){var E,V,R,N=this;return D&&(V=N.keyboardNav||N.parents().eq(-1)[0].keyboardNav)?void V.focusFirst(N):(R=N.find("*"),N.statusbar&&R.add(N.statusbar.items()),R.each(function(W){return W.settings.autofocus?(E=null,!1):void(W.canFocus&&(E=E||W))}),E&&E.focus(),N)},replace:function(D,N){for(var E,V=this.items(),R=V.length;R--;)if(V[R]===D){V[R]=N;break}R>=0&&((E=N.getEl())&&E.parentNode.removeChild(E),(E=D.getEl())&&E.parentNode.removeChild(E)),N.parent(this)},create:function(D){var E,N=this,V=[];return T.isArray(D)||(D=[D]),T.each(D,function(R){R&&(R instanceof ee||("string"==typeof R&&(R={type:R}),E=T.extend({},N.settings.defaults,R),R.type=E.type=E.type||R.type||N.settings.defaultType||(E.defaults?E.defaults.type:null),R=B.create(E)),V.push(R))}),V},renderNew:function(){var D=this;return D.items().each(function(N,E){var V;N.parent(D),N.state.get("rendered")||((V=D.getEl("body")).hasChildNodes()&&E<=V.childNodes.length-1?b(V.childNodes[E]).before(N.renderHtml()):b(V).append(N.renderHtml()),N.postRender(),S.add(N))}),D._layout.applyClasses(D.items().filter(":visible")),D._lastRect=null,D},append:function(D){return this.add(D).renderNew()},prepend:function(D){var N=this;return N.items().set(N.create(D).concat(N.items().toArray())),N.renderNew()},insert:function(D,N,E){var R,W,O,V=this;return D=V.create(D),R=V.items(),!E&&N<R.length-1&&(N+=1),N>=0&&N<R.length&&(W=R.slice(0,N).toArray(),O=R.slice(N).toArray(),R.set(W.concat(D,O))),V.renderNew()},fromJSON:function(D){for(var E in D)this.find("#"+E).value(D[E]);return this},toJSON:function(){var N={};return this.find("*").each(function(E){var V=E.name(),R=E.value();V&&void 0!==R&&(N[V]=R)}),N},renderHtml:function(){var D=this,N=D._layout,E=this.settings.role;return D.preRender(),N.preRender(D),'<div id="'+D._id+'" class="'+D.classes+'"'+(E?' role="'+this.settings.role+'"':"")+'><div id="'+D._id+'-body" class="'+D.bodyClasses+'">'+(D.settings.html||"")+N.renderHtml(D)+"</div></div>"},postRender:function(){var N,D=this;return D.items().exec("postRender"),D._super(),D._layout.postRender(D),D.state.set("rendered",!0),D.settings.style&&D.$el.css(D.settings.style),D.settings.border&&D.$el.css({"border-top-width":(N=D.borderBox).top,"border-right-width":N.right,"border-bottom-width":N.bottom,"border-left-width":N.left}),D.parent()||(D.keyboardNav=new C({root:D})),D},initLayoutRect:function(){var D=this,N=D._super();return D._layout.recalc(D),N},recalc:function(){var D=this,N=D._layoutRect,E=D._lastRect;if(!E||E.w!=N.w||E.h!=N.h)return D._layout.recalc(D),N=D.layoutRect(),D._lastRect={x:N.x,y:N.y,w:N.w,h:N.h},!0},reflow:function(){var D;if(S.remove(this),this.visible()){for(ee.repaintControls=[],ee.repaintControls.map={},this.recalc(),D=ee.repaintControls.length;D--;)ee.repaintControls[D].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),ee.repaintControls=[]}return this}})}),Ye(Ui,[ot],function(ee){function z(B){var C,T;if(B.changedTouches)for(C="screenX screenY pageX pageY clientX clientY".split(" "),T=0;T<C.length;T++)B[C[T]]=B.changedTouches[0][C[T]]}return function(B,C){function T(){return w.getElementById(C.handle||B)}var b,S,F,D,N,E,V,w=C.document||document;C=C||{},F=function(R){var O,$,W=function(B){var C,T,b,w,S,F,D,E=Math.max;return b=E((C=B.documentElement).scrollWidth,(T=B.body).scrollWidth),w=E(C.clientWidth,T.clientWidth),S=E(C.offsetWidth,T.offsetWidth),F=E(C.scrollHeight,T.scrollHeight),D=E(C.clientHeight,T.clientHeight),{width:b<S?w:b,height:F<E(C.offsetHeight,T.offsetHeight)?D:F}}(w);z(R),R.preventDefault(),S=R.button,O=T(),E=R.screenX,V=R.screenY,$=window.getComputedStyle?window.getComputedStyle(O,null).getPropertyValue("cursor"):O.runtimeStyle.cursor,b=ee("<div></div>").css({position:"absolute",top:0,left:0,width:W.width,height:W.height,zIndex:2147483647,opacity:1e-4,cursor:$}).appendTo(w.body),ee(w).on("mousemove touchmove",N).on("mouseup touchend",D),C.start(R)},N=function(R){return z(R),R.button!==S?D(R):(R.deltaX=R.screenX-E,R.deltaY=R.screenY-V,R.preventDefault(),void C.drag(R))},D=function(R){z(R),ee(w).off("mousemove touchmove",N).off("mouseup touchend",D),b.remove(),C.stop&&C.stop(R)},this.destroy=function(){ee(T()).off()},ee(T()).on("mousedown touchstart",F)}}),Ye(vr,[ot,Ui],function(ee,Y){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function z(){function b(D,N,E,V,R,W){var O,$,A,P,x,_,H,X;if($=C.getEl("scroll"+D)){if(H=N.toLowerCase(),X=E.toLowerCase(),ee(C.getEl("absend")).css(H,C.layoutRect()[V]-1),!R)return void ee($).css("display","none");ee($).css("display","block"),O=C.getEl("body"),A=C.getEl("scroll"+D+"t"),P=O["client"+E]-2*T,x=(P-=w&&S?$["client"+W]:0)/O["scroll"+E],(_={})[H]=O["offset"+N]+T,_[X]=P,ee($).css(_),(_={})[H]=O["scroll"+N]*x,_[X]=P*x,ee(A).css(_)}}var w,S,F;F=C.getEl("body"),S=F.scrollHeight>F.clientHeight,b("h","Left","Width","contentW",w=F.scrollWidth>F.clientWidth,"Height"),b("v","Top","Height","contentH",S,"Width")}var C=this,T=2;C.settings.autoScroll&&(C._hasScroll||(C._hasScroll=!0,function(){function b(w,S,F,D,N){var E,V=C._id+"-scroll"+w,R=C.classPrefix;ee(C.getEl()).append('<div id="'+V+'" class="'+R+"scrollbar "+R+"scrollbar-"+w+'"><div id="'+V+'t" class="'+R+'scrollbar-thumb"></div></div>'),C.draghelper=new Y(V+"t",{start:function(){E=C.getEl("body")["scroll"+S],ee("#"+V).addClass(R+"active")},drag:function(W){var O,$,A,P,M=C.layoutRect();$=M.contentW>M.innerW,A=M.contentH>M.innerH,P=C.getEl("body")["client"+F]-2*T,O=(P-=$&&A?C.getEl("scroll"+w)["client"+N]:0)/C.getEl("body")["scroll"+F],C.getEl("body")["scroll"+S]=E+W["delta"+D]/O},stop:function(){ee("#"+V).removeClass(R+"active")}})}C.classes.add("scroll"),b("v","Top","Height","Y","Width"),b("h","Left","Width","X","Height")}(),C.on("wheel",function(b){var w=C.getEl("body");w.scrollLeft+=10*(b.deltaX||0),w.scrollTop+=10*b.deltaY,z()}),ee(C.getEl("body")).on("scroll",z)),z())}}}),Ye($i,[nr,vr],function(ee,Y){return ee.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[Y],renderHtml:function(){var z=this,B=z._layout,C=z.settings.html;return z.preRender(),B.preRender(z),void 0===C?C='<div id="'+z._id+'-body" class="'+z.bodyClasses+'">'+B.renderHtml(z)+"</div>":("function"==typeof C&&(C=C.call(z)),z._hasBody=!1),'<div id="'+z._id+'" class="'+z.classes+'" hidefocus="1" tabindex="-1" role="group">'+(z._preBodyHtml||"")+C+"</div>"}})}),Ye(Vi,[Zn],function(ee){function Y(z,B,C){var T,b,w,S,F,D,N,E,V,R;return V=ee.getViewPort(),w=(b=ee.getPos(B)).x,S=b.y,z.state.get("fixed")&&"static"==ee.getRuntimeStyle(document.body,"position")&&(w-=V.x,S-=V.y),T=z.getEl(),F=(R=ee.getSize(T)).width,D=R.height,N=(R=ee.getSize(B)).width,E=R.height,"b"===(C=(C||"").split(""))[0]&&(S+=E),"r"===C[1]&&(w+=N),"c"===C[0]&&(S+=Math.round(E/2)),"c"===C[1]&&(w+=Math.round(N/2)),"b"===C[3]&&(S-=D),"r"===C[4]&&(w-=F),"c"===C[3]&&(S-=Math.round(D/2)),"c"===C[4]&&(w-=Math.round(F/2)),{x:w,y:S,w:F,h:D}}return{testMoveRel:function(z,B){for(var C=ee.getViewPort(),T=0;T<B.length;T++){var b=Y(this,z,B[T]);if(this.state.get("fixed")){if(b.x>0&&b.x+b.w<C.w&&b.y>0&&b.y+b.h<C.h)return B[T]}else if(b.x>C.x&&b.x+b.w<C.w+C.x&&b.y>C.y&&b.y+b.h<C.h+C.y)return B[T]}return B[0]},moveRel:function(z,B){"string"!=typeof B&&(B=this.testMoveRel(z,B));var C=Y(this,z,B);return this.moveTo(C.x,C.y)},moveBy:function(z,B){var C=this,T=C.layoutRect();return C.moveTo(T.x+z,T.y+B),C},moveTo:function(z,B){function C(S,F,D){return S<0||S+D>F&&(S=F-D)<0?0:S}var T=this;if(T.settings.constrainToViewport){var b=ee.getViewPort(window),w=T.layoutRect();z=C(z,b.w+b.x,w.w),B=C(B,b.h+b.y,w.h)}return T.state.get("rendered")?T.layoutRect({x:z,y:B}).repaint():(T.settings.x=z,T.settings.y=B),T.fire("move",{x:z,y:B}),T}}}),Ye(Gr,[Zn],function(ee){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(Y,z){if(Y<=1||z<=1){var B=ee.getWindowSize();Y=Y<=1?Y*B.w:Y,z=z<=1?z*B.h:z}return this._layoutRect.autoResize=!1,this.layoutRect({minW:Y,minH:z,w:Y,h:z}).reflow()},resizeBy:function(Y,z){var C=this.layoutRect();return this.resizeTo(C.w+Y,C.h+z)}}}),Ye(Nr,[$i,Vi,Gr,Zn,ot,Ke],function(ee,Y,z,B,C,T){function b(x,_){for(;x;){if(x==_)return!0;x=x.parent()}}function N(x){function _(X,U){for(var J,ie=0;ie<$.length;ie++)if($[ie]!=x)for(J=$[ie].parent();J&&(J=J.parent());)J==x&&$[ie].fixed(X).moveBy(0,U).repaint()}var H=B.getViewPort().y;x.settings.autofix&&(x.state.get("fixed")?x._autoFixY>H&&(x.fixed(!1).layoutRect({y:x._autoFixY}).repaint(),_(!1,x._autoFixY-H)):(x._autoFixY=x.layoutRect().y,x._autoFixY<H&&(x.fixed(!0).layoutRect({y:0}).repaint(),_(!0,H-x._autoFixY))))}function E(x,_){var H,U,X=M.zIndex||65535;if(x)A.push(_);else for(H=A.length;H--;)A[H]===_&&A.splice(H,1);if(A.length)for(H=0;H<A.length;H++)A[H].modal&&(X++,U=A[H]),A[H].getEl().style.zIndex=X,A[H].zIndex=X,X++;var J=C("#"+_.classPrefix+"modal-block",_.getContainerElm())[0];U?C(J).css("z-index",U.zIndex-1):J&&(J.parentNode.removeChild(J),P=!1),M.currentZIndex=X}function V(x){var _;for(_=$.length;_--;)$[_]===x&&$.splice(_,1);for(_=A.length;_--;)A[_]===x&&A.splice(_,1)}var R,W,O,P,$=[],A=[],M=ee.extend({Mixins:[Y,z],init:function(x){var _=this;_._super(x),_._eventsRoot=_,_.classes.add("floatpanel"),x.autohide&&(R||(R=function(x){2!=x.button&&function(x){for(var _=$.length;_--;){var H=$[_],X=H.getParentCtrl(x.target);if(H.settings.autohide){if(X&&(b(X,H)||H.parent()===X))continue;(x=H.fire("autohide",{target:x.target})).isDefaultPrevented()||H.hide()}}}(x)},C(document).on("click touchstart",R)),function(){if(!O){var x=document.documentElement,_=x.clientWidth,H=x.clientHeight;O=function(){document.all&&_==x.clientWidth&&H==x.clientHeight||(_=x.clientWidth,H=x.clientHeight,M.hideAll())},C(window).on("resize",O)}}(),$.push(_)),x.autofix&&(W||(W=function(){var x;for(x=$.length;x--;)N($[x])},C(window).on("scroll",W)),_.on("move",function(){N(this)})),_.on("postrender show",function(H){if(H.control==_){var X,U=_.classPrefix;_.modal&&!P&&((X=C("#"+U+"modal-block",_.getContainerElm()))[0]||(X=C('<div id="'+U+'modal-block" class="'+U+"reset "+U+'fade"></div>').appendTo(_.getContainerElm())),T.setTimeout(function(){X.addClass(U+"in"),C(_.getEl()).addClass(U+"in")}),P=!0),E(!0,_)}}),_.on("show",function(){_.parents().each(function(H){if(H.state.get("fixed"))return _.fixed(!0),!1})}),x.popover&&(_._preBodyHtml='<div class="'+_.classPrefix+'arrow"></div>',_.classes.add("popover").add("bottom").add(_.isRtl()?"end":"start")),_.aria("label",x.ariaLabel),_.aria("labelledby",_._id),_.aria("describedby",_.describedBy||_._id+"-none")},fixed:function(x){var _=this;if(_.state.get("fixed")!=x){if(_.state.get("rendered")){var H=B.getViewPort();x?_.layoutRect().y-=H.y:_.layoutRect().y+=H.y}_.classes.toggle("fixed",x),_.state.set("fixed",x)}return _},show:function(){var _,x=this,H=x._super();for(_=$.length;_--&&$[_]!==x;);return-1===_&&$.push(x),H},hide:function(){return V(this),E(!1,this),this._super()},hideAll:function(){M.hideAll()},close:function(){var x=this;return x.fire("close").isDefaultPrevented()||(x.remove(),E(!1,x)),x},remove:function(){V(this),this._super()},postRender:function(){var x=this;return x.settings.bodyRole&&this.getEl("body").setAttribute("role",x.settings.bodyRole),x._super()}});return M.hideAll=function(){for(var x=$.length;x--;){var _=$[x];_&&_.settings.autohide&&(_.hide(),$.splice(x,1))}},M}),Ye(to,[Nr,$i,Zn,ot,Ui,$n,Mt,Ke],function(ee,Y,z,B,C,T,b,w){function S(W){var A,$=B("meta[name=viewport]")[0];!1!==b.overrideViewPort&&($||(($=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild($)),(A=$.getAttribute("content"))&&void 0!==V&&(V=A),$.setAttribute("content",W?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":V))}var E=[],V="",R=ee.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(W){var O=this;O._super(W),O.isRtl()&&O.classes.add("rtl"),O.classes.add("window"),O.bodyClasses.add("window-body"),O.state.set("fixed",!0),W.buttons&&(O.statusbar=new Y({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:O.isRtl()?"start":"end",defaults:{type:"button"},items:W.buttons}),O.statusbar.classes.add("foot"),O.statusbar.parent(O)),O.on("click",function($){var A=O.classPrefix+"close";(z.hasClass($.target,A)||z.hasClass($.target.parentNode,A))&&O.close()}),O.on("cancel",function(){O.close()}),O.aria("describedby",O.describedBy||O._id+"-none"),O.aria("label",W.title),O._fullscreen=!1},recalc:function(){var $,A,P,M,W=this,O=W.statusbar;W._fullscreen&&(W.layoutRect(z.getWindowSize()),W.layoutRect().contentH=W.layoutRect().innerH),W._super(),$=W.layoutRect(),W.settings.title&&!W._fullscreen&&(A=$.headerW)>$.w&&(P=$.x-Math.max(0,A/2),W.layoutRect({w:A,x:P}),M=!0),O&&(O.layoutRect({w:W.layoutRect().innerW}).recalc(),(A=O.layoutRect().minW+$.deltaW)>$.w&&(P=$.x-Math.max(0,A-$.w),W.layoutRect({w:A,x:P}),M=!0)),M&&W.recalc()},initLayoutRect:function(){var A,W=this,O=W._super(),$=0;if(W.settings.title&&!W._fullscreen){A=W.getEl("head");var P=z.getSize(A);O.headerW=P.width,O.headerH=P.height,$+=O.headerH}W.statusbar&&($+=W.statusbar.layoutRect().h),O.deltaH+=$,O.minH+=$,O.h+=$;var M=z.getWindowSize();return O.x=W.settings.x||Math.max(0,M.w/2-O.w/2),O.y=W.settings.y||Math.max(0,M.h/2-O.h/2),O},renderHtml:function(){var W=this,O=W._layout,$=W._id,A=W.classPrefix,P=W.settings,M="",x="",_=P.html;return W.preRender(),O.preRender(W),P.title&&(M='<div id="'+$+'-head" class="'+A+'window-head"><div id="'+$+'-title" class="'+A+'title">'+W.encode(P.title)+'</div><div id="'+$+'-dragh" class="'+A+'dragh"></div><button type="button" class="'+A+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),P.url&&(_='<iframe src="'+P.url+'" tabindex="-1"></iframe>'),void 0===_&&(_=O.renderHtml(W)),W.statusbar&&(x=W.statusbar.renderHtml()),'<div id="'+$+'" class="'+W.classes+'" hidefocus="1"><div class="'+W.classPrefix+'reset" role="application">'+M+'<div id="'+$+'-body" class="'+W.bodyClasses+'">'+_+"</div>"+x+"</div></div>"},fullscreen:function(W){var A,M,O=this,$=document.documentElement,P=O.classPrefix;if(W!=O._fullscreen)if(B(window).on("resize",function(){var _;if(O._fullscreen)if(A)O._timer||(O._timer=w.setTimeout(function(){var X=z.getWindowSize();O.moveTo(0,0).resizeTo(X.w,X.h),O._timer=0},50));else{_=(new Date).getTime();var H=z.getWindowSize();O.moveTo(0,0).resizeTo(H.w,H.h),(new Date).getTime()-_>50&&(A=!0)}}),M=O.layoutRect(),O._fullscreen=W,W){O._initial={x:M.x,y:M.y,w:M.w,h:M.h},O.borderBox=T.parseBox("0"),O.getEl("head").style.display="none",M.deltaH-=M.headerH+2,B([$,document.body]).addClass(P+"fullscreen"),O.classes.add("fullscreen");var x=z.getWindowSize();O.moveTo(0,0).resizeTo(x.w,x.h)}else O.borderBox=T.parseBox(O.settings.border),O.getEl("head").style.display="",M.deltaH+=M.headerH,B([$,document.body]).removeClass(P+"fullscreen"),O.classes.remove("fullscreen"),O.moveTo(O._initial.x,O._initial.y).resizeTo(O._initial.w,O._initial.h);return O.reflow()},postRender:function(){var O,W=this;setTimeout(function(){W.classes.add("in"),W.fire("open")},0),W._super(),W.statusbar&&W.statusbar.postRender(),W.focus(),this.dragHelper=new C(W._id+"-dragh",{start:function(){O={x:W.layoutRect().x,y:W.layoutRect().y}},drag:function($){W.moveTo(O.x+$.deltaX,O.y+$.deltaY)}}),W.on("submit",function($){$.isDefaultPrevented()||W.close()}),E.push(W),S(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var O,W=this;for(W.dragHelper.destroy(),W._super(),W.statusbar&&this.statusbar.remove(),function(W,O){(function(){for(var W=0;W<E.length;W++)if(E[W]._fullscreen)return!0;return!1})()&&!1===O&&B([document.documentElement,document.body]).removeClass(W+"fullscreen")}(W.classPrefix,!1),O=E.length;O--;)E[O]===W&&E.splice(O,1);S(E.length>0)},getContentWindow:function(){var W=this.getEl().getElementsByTagName("iframe")[0];return W?W.contentWindow:null}});return function(){if(!b.desktop){var O={w:window.innerWidth,h:window.innerHeight};w.setInterval(function(){var $=window.innerWidth,A=window.innerHeight;O.w==$&&O.h==A||(O={w:$,h:A},B(window).trigger("resize"))},100)}B(window).on("resize",function(){var $,P,A=z.getWindowSize();for($=0;$<E.length;$++)P=E[$].layoutRect(),E[$].moveTo(E[$].settings.x||Math.max(0,A.w/2-P.w/2),E[$].settings.y||Math.max(0,A.h/2-P.h/2))})}(),R}),Ye(kt,[to],function(ee){var Y=ee.extend({init:function(z){this._super({border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}})},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(z){function B(b,w,S){return{type:"button",text:b,subtype:S?"primary":"",onClick:function(F){F.control.parents()[1].close(),T(w)}}}var C,T=z.callback||function(){};switch(z.buttons){case Y.OK_CANCEL:C=[B("Ok",!0,!0),B("Cancel",!1)];break;case Y.YES_NO:case Y.YES_NO_CANCEL:C=[B("Yes",1,!0),B("No",0)],z.buttons==Y.YES_NO_CANCEL&&C.push(B("Cancel",-1));break;default:C=[B("Ok",!0,!0)]}return new ee({padding:20,x:z.x,y:z.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:C,title:z.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:z.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:z.onClose,onCancel:function(){T(!1)}}).renderTo(document.body).reflow()},alert:function(z,B){return"string"==typeof z&&(z={text:z}),z.callback=B,Y.msgBox(z)},confirm:function(z,B){return"string"==typeof z&&(z={text:z}),z.callback=B,z.buttons=Y.OK_CANCEL,Y.msgBox(z)}}});return Y}),Ye(Wt,[to,kt],function(ee,Y){return function(z){function B(){if(w.length)return w[w.length-1]}function C(S){z.fire("OpenWindow",{win:S})}function T(S){z.fire("CloseWindow",{win:S})}var b=this,w=[];b.windows=w,z.on("remove",function(){for(var S=w.length;S--;)w[S].close()}),b.open=function(S,F){var D;return z.editorManager.setActive(z),S.title=S.title||" ",S.url=S.url||S.file,S.url&&(S.width=parseInt(S.width||320,10),S.height=parseInt(S.height||240,10)),S.body&&(S.items={defaults:S.defaults,type:S.bodyType||"form",items:S.body,data:S.data,callbacks:S.commands}),S.url||S.buttons||(S.buttons=[{text:"Ok",subtype:"primary",onclick:function(){D.find("form")[0].submit()}},{text:"Cancel",onclick:function(){D.close()}}]),D=new ee(S),w.push(D),D.on("close",function(){for(var N=w.length;N--;)w[N]===D&&w.splice(N,1);w.length||z.focus(),T(D)}),S.data&&D.on("postRender",function(){this.find("*").each(function(N){var E=N.name();E in S.data&&N.value(S.data[E])})}),D.features=S||{},D.params=F||{},1===w.length&&z.nodeChanged(),C(D=D.renderTo().reflow()),D},b.alert=function(S,F,D){var N;(N=Y.alert(S,function(){F?F.call(D||this):z.focus()})).on("close",function(){T(N)}),C(N)},b.confirm=function(S,F,D){var N;(N=Y.confirm(S,function(E){F.call(D||this,E)})).on("close",function(){T(N)}),C(N)},b.close=function(){B()&&B().close()},b.getParams=function(){return B()?B().params:null},b.setParams=function(S){B()&&(B().params=S)},b.getWindows=function(){return w}}}),Ye(yn,[Ki,Vi],function(ee,Y){return ee.extend({Mixins:[Y],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var z=this,B=z.classPrefix;return'<div id="'+z._id+'" class="'+z.classes+'" role="presentation"><div class="'+B+'tooltip-arrow"></div><div class="'+B+'tooltip-inner">'+z.encode(z.state.get("text"))+"</div></div>"},bindStates:function(){var z=this;return z.state.on("change:text",function(B){z.getEl().lastChild.innerHTML=z.encode(B.value)}),z._super()},repaint:function(){var B,C;(B=this.getEl().style).left=(C=this._layoutRect).x+"px",B.top=C.y+"px",B.zIndex=131070}})}),Ye(rn,[Ki,yn],function(ee,Y){var z,B=ee.extend({init:function(C){var T=this;T._super(C),C=T.settings,T.canFocus=!0,C.tooltip&&!1!==B.tooltips&&(T.on("mouseenter",function(b){var w=T.tooltip().moveTo(-65535);if(b.control==T){var S=w.text(C.tooltip).show().testMoveRel(T.getEl(),["bc-tc","bc-tl","bc-tr"]);w.classes.toggle("tooltip-n","bc-tc"==S),w.classes.toggle("tooltip-nw","bc-tl"==S),w.classes.toggle("tooltip-ne","bc-tr"==S),w.moveRel(T.getEl(),S)}else w.hide()}),T.on("mouseleave mousedown click",function(){T.tooltip().hide()})),T.aria("label",C.ariaLabel||C.tooltip)},tooltip:function(){return z||(z=new Y({type:"tooltip"})).renderTo(),z},postRender:function(){var C=this,T=C.settings;C._super(),C.parent()||!T.width&&!T.height||(C.initLayoutRect(),C.repaint()),T.autofocus&&C.focus()},bindStates:function(){function C(w){b.aria("disabled",w),b.classes.toggle("disabled",w)}function T(w){b.aria("pressed",w),b.classes.toggle("active",w)}var b=this;return b.state.on("change:disabled",function(w){C(w.value)}),b.state.on("change:active",function(w){T(w.value)}),b.state.get("disabled")&&C(!0),b.state.get("active")&&T(!0),b._super()},remove:function(){this._super(),z&&(z.remove(),z=null)}});return B}),Ye(Dn,[rn],function(ee){return ee.extend({Defaults:{value:0},init:function(Y){var z=this;z._super(Y),z.classes.add("progress"),z.settings.filter||(z.settings.filter=function(B){return Math.round(B)})},renderHtml:function(){var B=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+B+'bar-container"><div class="'+B+'bar"></div></div><div class="'+B+'text">0%</div></div>'},postRender:function(){var Y=this;return Y._super(),Y.value(Y.settings.value),Y},bindStates:function(){function Y(B){B=z.settings.filter(B),z.getEl().lastChild.innerHTML=B+"%",z.getEl().firstChild.firstChild.style.width=B+"%"}var z=this;return z.state.on("change:value",function(B){Y(B.value)}),Y(z.state.get("value")),z._super()}})}),Ye(Hn,[Ki,Vi,Dn,Ke],function(ee,Y,z,B){return ee.extend({Mixins:[Y],Defaults:{classes:"widget notification"},init:function(C){var T=this;T._super(C),C.text&&T.text(C.text),C.icon&&(T.icon=C.icon),C.color&&(T.color=C.color),C.type&&T.classes.add("notification-"+C.type),C.timeout&&(C.timeout<0||C.timeout>0)&&!C.closeButton?T.closeButton=!1:(T.classes.add("has-close"),T.closeButton=!0),C.progressBar&&(T.progressBar=new z),T.on("click",function(b){-1!=b.target.className.indexOf(T.classPrefix+"close")&&T.close()})},renderHtml:function(){var C=this,T=C.classPrefix,b="",w="",S="",F="";return C.icon&&(b='<i class="'+T+"ico "+T+"i-"+C.icon+'"></i>'),C.color&&(F=' style="background-color: '+C.color+'"'),C.closeButton&&(w='<button type="button" class="'+T+'close" aria-hidden="true">\xd7</button>'),C.progressBar&&(S=C.progressBar.renderHtml()),'<div id="'+C._id+'" class="'+C.classes+'"'+F+' role="presentation">'+b+'<div class="'+T+'notification-inner">'+C.state.get("text")+"</div>"+S+w+"</div>"},postRender:function(){var C=this;return B.setTimeout(function(){C.$el.addClass(C.classPrefix+"in")}),C._super()},bindStates:function(){var C=this;return C.state.on("change:text",function(T){C.getEl().childNodes[1].innerHTML=T.value}),C.progressBar&&C.progressBar.bindStates(),C._super()},close:function(){var C=this;return C.fire("close").isDefaultPrevented()||C.remove(),C},repaint:function(){var T,b;(T=this.getEl().style).left=(b=this._layoutRect).x+"px",T.top=b.y+"px",T.zIndex=65534}})}),Ye(oi,[Hn,Ke,ft],function(ee,Y,z){return function(B){function C(){if(E.length)return E[E.length-1]}function w(){if(E.length>0){var V=E.slice(0,1)[0],R=B.inline?B.getElement():B.getContentAreaContainer();if(V.moveRel(R,"tc-tc"),E.length>1)for(var W=1;W<E.length;W++)E[W].moveRel(E[W-1].getEl(),"bc-tc")}}var N=this,E=[];N.notifications=E,B.on("remove",function(){for(var V=E.length;V--;)E[V].close()}),B.on("ResizeEditor",w),B.on("ResizeWindow",function(){Y.requestAnimationFrame(function(){(function(){for(var V=0;V<E.length;V++)E[V].moveTo(0,0)})(),w()})}),N.open=function(V){if(!B.removed){var R;B.editorManager.setActive(B);var W=function(V,R){if(!function(V){return!V.progressBar&&!V.timeout}(R))return null;var W=z.grep(V,function(O){return function(V,R){return V.type===R.settings.type&&V.text===R.settings.text}(R,O)});return 0===W.length?null:W[0]}(E,V);return null===W?(R=new ee(V),E.push(R),V.timeout>0&&(R.timer=setTimeout(function(){R.close()},V.timeout)),R.on("close",function(){var O=E.length;for(R.timer&&B.getWin().clearTimeout(R.timer);O--;)E[O]===R&&E.splice(O,1);w()}),R.renderTo(),w()):R=W,R}},N.close=function(){C()&&C().close()},N.getNotifications=function(){return E},B.on("SkinLoaded",function(){var V=B.settings.service_message;V&&B.notificationManager.open({text:V,type:"warning",timeout:0,icon:""})})}}),Ye(ai,[$e],function(ee){return{create:function(B,C,T){for(var b=[];C&&C!=B;C=C.parentNode)b.push(ee.nodeIndex(C,T));return b},resolve:function(B,C){var T,b,w;for(b=B,T=C.length-1;T>=0;T--){if(C[T]>(w=b.childNodes).length-1)return null;b=w[C[T]]}return b}}}),Ye(Xn,[Zt,Kt,me,ai,bt,ze,Mt,ft,Ke,en,wn,Fn],function(ee,Y,z,B,C,T,b,w,S,F,D,N){return function(E){function V(Rt,Xt){try{E.getDoc().execCommand(Rt,!1,Xt)}catch(tt){}}function R(){return E.getDoc().documentMode||6}function W(Rt){return Rt.isDefaultPrevented()}function O(Rt){var Xt,tt;Rt.dataTransfer&&(E.selection.isCollapsed()&&"IMG"==Rt.target.tagName&&bn.select(Rt.target),(Xt=E.selection.getContent()).length>0&&(tt=Ti+escape(E.id)+","+escape(Xt),Rt.dataTransfer.setData(ki,tt)))}function $(Rt){var Xt;return Rt.dataTransfer&&(Xt=Rt.dataTransfer.getData(ki))&&Xt.indexOf(Ti)>=0?(Xt=Xt.substr(Ti.length).split(","),{id:unescape(Xt[0]),html:unescape(Xt[1])}):null}function A(Rt){E.queryCommandSupported("mceInsertClipboardContent")?E.execCommand("mceInsertClipboardContent",!1,{content:Rt}):E.execCommand("mceInsertContent",!1,Rt)}function x(){E.shortcuts.add("meta+a",null,"SelectAll")}function H(){E.on("keydown",function(Rt){if(!W(Rt)&&Rt.keyCode===ct){if(!E.getBody().getElementsByTagName("hr").length)return;if(bn.isCollapsed()&&0===bn.getRng(!0).startOffset){var Xt=bn.getNode(),tt=Xt.previousSibling;if("HR"==Xt.nodeName)return yt.remove(Xt),void Rt.preventDefault();tt&&tt.nodeName&&"hr"===tt.nodeName.toLowerCase()&&(yt.remove(tt),Rt.preventDefault())}}})}function ye(){E.on("keydown",function(Rt){if(!W(Rt)&&Rt.keyCode===ct&&bn.isCollapsed()&&0===bn.getRng(!0).startOffset){var Xt=bn.getNode().previousSibling;if(Xt&&Xt.nodeName&&"table"===Xt.nodeName.toLowerCase())return Rt.preventDefault(),!1}})}function Vt(){E.inline||(E.contentStyles.push("body {min-height: 150px}"),E.on("click",function(Rt){var Xt;if("HTML"==Rt.target.nodeName){if(b.ie>11)return void E.getBody().focus();Xt=E.selection.getRng(),E.getBody().focus(),E.selection.setRng(Xt),E.selection.normalize(),E.nodeChanged()}}))}function rt(){function Rt(Xt){var tt=new N(Xt.getBody()),Ct=Xt.selection.getRng(),sn=D.fromRangeStart(Ct),cn=D.fromRangeEnd(Ct),Rn=tt.prev(sn),Fe=tt.next(cn);return!Xt.selection.isCollapsed()&&(!Rn||Rn.isAtStart()&&sn.isEqual(Rn))&&(!Fe||Fe.isAtEnd()&&sn.isEqual(Fe))}E.on("keypress",function(Xt){!W(Xt)&&!bn.isCollapsed()&&Xt.charCode>31&&!ee.metaKeyPressed(Xt)&&Rt(E)&&(Xt.preventDefault(),E.setContent(String.fromCharCode(Xt.charCode)),E.selection.select(E.getBody(),!0),E.selection.collapse(!1),E.nodeChanged())}),E.on("keydown",function(Xt){var tt=Xt.keyCode;W(Xt)||tt!=wt&&tt!=ct||Rt(E)&&(Xt.preventDefault(),E.setContent(""),E.nodeChanged())})}var Rt,je=w.each,St=E.$,ct=ee.BACKSPACE,wt=ee.DELETE,yt=E.dom,bn=E.selection,Yn=E.settings,Qn=E.parser,Bi=E.serializer,di=b.gecko,fi=b.ie,Hi=b.webkit,Ti="data:text/mce-internal,",ki=fi?"Text":"URL";return E.on("keydown",function(Rt){var Xt,tt,Ct,sn,cn;if(!W(Rt)&&Rt.keyCode==ee.BACKSPACE&&(tt=(Xt=bn.getRng()).startContainer,Ct=Xt.startOffset,sn=yt.getRoot(),cn=tt,Xt.collapsed&&0===Ct)){for(;cn&&cn.parentNode&&cn.parentNode.firstChild==cn&&cn.parentNode!=sn;)cn=cn.parentNode;"BLOCKQUOTE"===cn.tagName&&(E.formatter.toggle("blockquote",null,cn),(Xt=yt.createRng()).setStart(tt,0),Xt.setEnd(tt,0),bn.setRng(Xt))}}),function(){function Rt(tt){var Ct=yt.create("body"),sn=tt.cloneContents();return Ct.appendChild(sn),bn.serializer.serialize(Ct,{format:"html"})}E.on("keydown",function(tt){var sn,cn,Ct=tt.keyCode;if(!W(tt)&&(Ct==wt||Ct==ct)){if(sn=E.selection.isCollapsed(),cn=E.getBody(),sn&&!yt.isEmpty(cn)||!sn&&!function(tt){if(!tt.setStart){if(tt.item)return!1;var Ct=tt.duplicate();return Ct.moveToElementText(E.getBody()),Y.compareRanges(tt,Ct)}var sn=Rt(tt),cn=yt.createRng();return cn.selectNode(E.getBody()),sn===Rt(cn)}(E.selection.getRng()))return;tt.preventDefault(),E.setContent(""),cn.firstChild&&yt.isBlock(cn.firstChild)?E.selection.setCursorLocation(cn.firstChild,0):E.selection.setCursorLocation(cn,0),E.nodeChanged()}})}(),b.windowsPhone||E.on("keyup focusin mouseup",function(Rt){65==Rt.keyCode&&ee.metaKeyPressed(Rt)||bn.normalize()},!0),Hi&&(rt(),function(){function Rt(Ee){var ht=Se.schema.getBlockElements(),pt=E.getBody();if("BR"!=Ee.nodeName)return!1;for(;Ee!=pt&&!ht[Ee.nodeName];Ee=Ee.parentNode)if(Ee.nextSibling)return!1;return!0}function Xt(Ee,ht){var pt;for(pt=Ee.nextSibling;pt&&pt!=ht;pt=pt.nextSibling)if((3!=pt.nodeType||0!==St.trim(pt.data).length)&&pt!==ht)return!1;return pt===ht}function tt(Ee,ht,pt){var $t,Ge,l;if(Se.isChildOf(Ee,E.getBody()))for(l=Se.schema.getNonEmptyElements(),$t=new z(pt||Ee,Ee);Ge=$t[ht?"next":"prev"]();)if(l[Ge.nodeName]&&!Rt(Ge)||3==Ge.nodeType&&Ge.data.length>0)return Ge}function Fe(Ee){var ht,pt,$t;(function(Ee){var ht=Ve.getRng();if(ht=function(Ee,ht){var pt,$t,Ge,l,c,f;if(!Ee.collapsed)return Ee;if(f=Ee.startOffset,3==(c=Ee.startContainer).nodeType)if(ht){if(f<c.data.length)return Ee}else if(f>0)return Ee;pt=Y.getNode(c,f),Ge=Se.getParent(pt,Se.isBlock),$t=tt(E.getBody(),ht,pt),l=Se.getParent($t,Se.isBlock);var p=1===c.nodeType&&f>c.childNodes.length-1;if(!pt||!$t)return Ee;if(l&&Ge!=l)if(ht){if(!Xt(Ge,l))return Ee;1==pt.nodeType?"BR"==pt.nodeName?Ee.setStartBefore(pt):Ee.setStartAfter(pt):Ee.setStart(pt,pt.data.length),1==$t.nodeType?Ee.setEnd($t,0):Ee.setEndBefore($t)}else{if(!Xt(l,Ge))return Ee;1==$t.nodeType?"BR"==$t.nodeName?Ee.setStartBefore($t):Ee.setStartAfter($t):Ee.setStart($t,$t.data.length),1==pt.nodeType&&p?Ee.setEndAfter(pt):Ee.setEndBefore(pt)}return Ee}(ht,Ee),function(Ee){var ht,pt,$t,Ge,l;if(!Ee.collapsed&&(ht=Se.getParent(Y.getNode(Ee.startContainer,Ee.startOffset),Se.isBlock),pt=Se.getParent(Y.getNode(Ee.endContainer,Ee.endOffset),Se.isBlock),l=E.schema.getTextBlockElements(),ht!=pt&&l[ht.nodeName]&&l[pt.nodeName]&&"false"!==Se.getContentEditable(ht)&&"false"!==Se.getContentEditable(pt)))return Ee.deleteContents(),$t=tt(ht,!1),Ge=tt(pt,!0),Se.isEmpty(pt)||St(ht).append(pt.childNodes),St(pt).remove(),$t?1==$t.nodeType?"BR"==$t.nodeName?(Ee.setStartBefore($t),Ee.setEndBefore($t)):(Ee.setStartAfter($t),Ee.setEndAfter($t)):(Ee.setStart($t,$t.data.length),Ee.setEnd($t,$t.data.length)):Ge&&(1==Ge.nodeType?(Ee.setStartBefore(Ge),Ee.setEndBefore(Ge)):(Ee.setStart(Ge,0),Ee.setEnd(Ge,0))),Ve.setRng(Ee),!0}(ht))return!0})(Ee)||(w.each(E.getBody().getElementsByTagName("*"),function(Ge){"SPAN"==Ge.tagName&&Ge.setAttribute("mce-data-marked",1),!Ge.hasAttribute("data-mce-style")&&Ge.hasAttribute("style")&&E.dom.setAttrib(Ge,"style",E.dom.getAttrib(Ge,"style"))}),(ht=new it(function(){})).observe(E.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),E.getDoc().execCommand(Ee?"ForwardDelete":"Delete",!1,null),pt=E.selection.getRng(),$t=pt.startContainer.parentNode,w.each(ht.takeRecords(),function(Ge){if(Se.isChildOf(Ge.target,E.getBody())){if("style"==Ge.attributeName){var l=Ge.target.getAttribute("data-mce-style");l?Ge.target.setAttribute("style",l):Ge.target.removeAttribute("style")}w.each(Ge.addedNodes,function(c){var f,p;"SPAN"!=c.nodeName||c.getAttribute("mce-data-marked")||(c==$t&&(f=pt.startOffset,p=c.firstChild),Se.remove(c,!0),p&&(pt.setStart(p,f),pt.setEnd(p,f),E.selection.setRng(pt)))})}}),ht.disconnect(),w.each(E.dom.select("span[mce-data-marked]"),function(Ge){Ge.removeAttribute("mce-data-marked")}))}function Je(Ee){E.undoManager.transact(function(){Fe(Ee)})}var mt,et,ae=E.getDoc(),Se=E.dom,Ve=E.selection,it=window.MutationObserver;it||(mt=!0,it=function(){function Ee(Ge){var l=Ge.relatedNode||Ge.target;pt.push({target:l,addedNodes:[l]})}function ht(Ge){pt.push({target:Ge.relatedNode||Ge.target,attributeName:Ge.attrName})}var $t,pt=[];this.observe=function(Ge){($t=Ge).addEventListener("DOMSubtreeModified",Ee,!1),$t.addEventListener("DOMNodeInsertedIntoDocument",Ee,!1),$t.addEventListener("DOMNodeInserted",Ee,!1),$t.addEventListener("DOMAttrModified",ht,!1)},this.disconnect=function(){$t.removeEventListener("DOMSubtreeModified",Ee,!1),$t.removeEventListener("DOMNodeInsertedIntoDocument",Ee,!1),$t.removeEventListener("DOMNodeInserted",Ee,!1),$t.removeEventListener("DOMAttrModified",ht,!1)},this.takeRecords=function(){return pt}}),E.on("keydown",function(Ee){var ht=Ee.keyCode==wt,pt=Ee.ctrlKey||Ee.metaKey;if(!W(Ee)&&(ht||Ee.keyCode==ct)){var $t=E.selection.getRng(),Ge=$t.startContainer,l=$t.startOffset;if(ht&&Ee.shiftKey)return;if(function(Ee,ht){function pt(Z,Q){return G=St(Q).parents().filter(function(se,he){return!!E.schema.getTextInlineElements()[he.nodeName]}),c=Z.cloneNode(!1),(G=w.map(G,function(se){return se=se.cloneNode(!1),c.hasChildNodes()&&se.appendChild(c.firstChild),c.appendChild(se),c.appendChild(se),se})).length?(L=Se.create("br"),G[0].appendChild(L),Se.replace(c,Z),ht.setStartBefore(L),ht.setEndBefore(L),E.selection.setRng(ht),L):null}function $t(Z){return Z&&E.schema.getTextBlockElements()[Z.tagName]}var Ge,l,c,f,p,v,k,L,G;if(ht.collapsed&&(k=ht.startOffset,$t(l=Se.getParent(v=ht.startContainer,Se.isBlock))))if(1==v.nodeType){if((v=v.childNodes[k])&&"BR"!=v.tagName)return;if(p=Ee?l.nextSibling:l.previousSibling,Se.isEmpty(l)&&$t(p)&&Se.isEmpty(p)&&pt(l,v))return Se.remove(p),!0}else if(3==v.nodeType){if(Ge=B.create(l,v),f=l.cloneNode(!0),v=B.resolve(f,Ge),Ee){if(k>=v.data.length)return;v.deleteData(k,1)}else{if(k<=0)return;v.deleteData(k-1,1)}if(Se.isEmpty(f))return pt(l,v)}}(ht,$t))return void Ee.preventDefault();if(!pt&&$t.collapsed&&3==Ge.nodeType&&(ht?l<Ge.data.length:l>0))return;Ee.preventDefault(),pt&&E.selection.getSel().modify("extend",ht?"forward":"backward",Ee.metaKey?"lineboundary":"word"),Fe(ht)}}),E.on("keypress",function(Ee){var ht,pt,$t,Ge,l,c;!W(Ee)&&!Ve.isCollapsed()&&Ee.charCode>31&&!ee.metaKeyPressed(Ee)&&(ht=E.selection.getRng(),c=String.fromCharCode(Ee.charCode),Ee.preventDefault(),pt=St(ht.startContainer).parents().filter(function(f,p){return!!E.schema.getTextInlineElements()[p.nodeName]}),Fe(!0),(pt=pt.filter(function(f,p){return!St.contains(E.getBody(),p)})).length?($t=Se.createFragment(),pt.each(function(f,p){p=p.cloneNode(!1),$t.hasChildNodes()?(p.appendChild($t.firstChild),$t.appendChild(p)):(l=p,$t.appendChild(p)),$t.appendChild(p)}),l.appendChild(E.getDoc().createTextNode(c)),Ge=Se.getParent(ht.startContainer,Se.isBlock),Se.isEmpty(Ge)?St(Ge).empty().append($t):ht.insertNode($t),ht.setStart(l.firstChild,1),ht.setEnd(l.firstChild,1),E.selection.setRng(ht)):E.selection.setContent(c))}),E.addCommand("Delete",function(){Fe()}),E.addCommand("ForwardDelete",function(){Fe(!0)}),mt||(E.on("dragstart",function(Ee){et=Ve.getRng(),O(Ee)}),E.on("drop",function(Ee){if(!W(Ee)){var ht=$(Ee);ht&&(Ee.preventDefault(),S.setEditorTimeout(E,function(){var pt=Y.getCaretRangeFromPoint(Ee.x,Ee.y,ae);et&&(Ve.setRng(et),et=null,Je()),Ve.setRng(pt),A(ht.html)}))}}),E.on("cut",function(Ee){W(Ee)||!Ee.clipboardData||E.selection.isCollapsed()||(Ee.preventDefault(),Ee.clipboardData.clearData(),Ee.clipboardData.setData("text/html",E.selection.getContent()),Ee.clipboardData.setData("text/plain",E.selection.getContent({format:"text"})),S.setEditorTimeout(E,function(){Je(!0)}))}))}(),E.settings.content_editable||yt.bind(E.getDoc(),"mousedown mouseup",function(Rt){var Xt;if(Rt.target==E.getDoc().documentElement)if(Xt=bn.getRng(),E.getBody().focus(),"mousedown"==Rt.type){if(F.isCaretContainer(Xt.startContainer))return;bn.placeCaretAt(Rt.clientX,Rt.clientY)}else bn.setRng(Xt)}),E.on("click",function(Rt){var Xt=Rt.target;/^(IMG|HR)$/.test(Xt.nodeName)&&"false"!==yt.getContentEditableParent(Xt)&&(Rt.preventDefault(),bn.select(Xt),E.nodeChanged()),"A"==Xt.nodeName&&yt.hasClass(Xt,"mce-item-anchor")&&(Rt.preventDefault(),bn.select(Xt))}),Yn.forced_root_block&&E.on("init",function(){V("DefaultParagraphSeparator",Yn.forced_root_block)}),E.on("init",function(){E.dom.bind(E.getBody(),"submit",function(Rt){Rt.preventDefault()})}),ye(),Qn.addNodeFilter("br",function(Rt){for(var Xt=Rt.length;Xt--;)"Apple-interchange-newline"==Rt[Xt].attr("class")&&Rt[Xt].remove()}),b.iOS?(E.inline||E.on("keydown",function(){document.activeElement==document.body&&E.getWin().focus()}),Vt(),E.on("click",function(Rt){var Xt=Rt.target;do{if("A"===Xt.tagName)return void Rt.preventDefault()}while(Xt=Xt.parentNode)}),E.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):x()),fi&&b.ie<11&&(H(),document.body.setAttribute("role","application"),R()>7||(V("RespectVisibilityInDesign",!0),E.contentStyles.push(".mceHideBrInPre pre br {display: none}"),yt.addClass(E.getBody(),"mceHideBrInPre"),Qn.addNodeFilter("pre",function(Rt){for(var tt,Ct,sn,cn,Xt=Rt.length;Xt--;)for(Ct=(tt=Rt[Xt].getAll("br")).length;Ct--;)(cn=(sn=tt[Ct]).prev)&&3===cn.type&&"\n"!=cn.value.charAt(cn.value-1)?cn.value+="\n":sn.parent.insert(new C("#text",3),sn,!0).value="\n"}),Bi.addNodeFilter("pre",function(Rt){for(var tt,Ct,cn,Xt=Rt.length;Xt--;)for(Ct=(tt=Rt[Xt].getAll("br")).length;Ct--;)(cn=tt[Ct].prev)&&3==cn.type&&(cn.value=cn.value.replace(/\r?\n$/,""))})),yt.bind(E.getBody(),"mouseup",function(){var Rt,Xt=bn.getNode();"IMG"==Xt.nodeName&&((Rt=yt.getStyle(Xt,"width"))&&(yt.setAttrib(Xt,"width",Rt.replace(/[^0-9%]+/g,"")),yt.setStyle(Xt,"width","")),(Rt=yt.getStyle(Xt,"height"))&&(yt.setAttrib(Xt,"height",Rt.replace(/[^0-9%]+/g,"")),yt.setStyle(Xt,"height","")))}),E.on("keydown",function(Rt){var Xt;W(Rt)||Rt.keyCode!=ct||(Xt=E.getDoc().selection.createRange())&&Xt.item&&(Rt.preventDefault(),E.undoManager.beforeChange(),yt.remove(Xt.item(0)),E.undoManager.add())}),R()>=10&&(Rt="",je("p div h1 h2 h3 h4 h5 h6".split(" "),function(Xt,tt){Rt+=(tt>0?",":"")+Xt+":empty"}),E.contentStyles.push(Rt+"{padding-right: 1px !important}")),R()<9&&(Qn.addNodeFilter("noscript",function(Rt){for(var tt,Ct,Xt=Rt.length;Xt--;)(Ct=(tt=Rt[Xt]).firstChild)&&tt.attr("data-mce-innertext",Ct.value)}),Bi.addNodeFilter("noscript",function(Rt){for(var tt,Ct,sn,Xt=Rt.length;Xt--;)tt=Rt[Xt],(Ct=Rt[Xt].firstChild)?Ct.value=T.decode(Ct.value):(sn=tt.attributes.map["data-mce-innertext"])&&(tt.attr("data-mce-innertext",null),(Ct=new C("#text",3)).value=sn,Ct.raw=!0,tt.append(Ct))})),function(){function Rt(Je,ae){var Se=sn.createTextRange();try{Se.moveToPoint(Je,ae)}catch(Ve){Se=null}return Se}function Xt(Je){var ae;Je.button?(ae=Rt(Je.x,Je.y))&&(ae.compareEndPoints("StartToStart",Rn)>0?ae.setEndPoint("StartToStart",Rn):ae.setEndPoint("EndToEnd",Rn),ae.select()):tt()}function tt(){var Je=Ct.selection.createRange();Rn&&!Je.item&&0===Je.compareEndPoints("StartToEnd",Je)&&Rn.select(),yt.unbind(Ct,"mouseup",tt),yt.unbind(Ct,"mousemove",Xt),Rn=cn=0}var cn,Rn,Fe,Ct=yt.doc,sn=Ct.body;Ct.documentElement.unselectable=!0,yt.bind(Ct,"mousedown contextmenu",function(Je){if("HTML"===Je.target.nodeName){if(cn&&tt(),(Fe=Ct.documentElement).scrollHeight>Fe.clientHeight)return;cn=1,(Rn=Rt(Je.x,Je.y))&&(yt.bind(Ct,"mouseup",tt),yt.bind(Ct,"mousemove",Xt),yt.getRoot().focus(),Rn.select())}})}()),b.ie>=11&&(Vt(),ye()),b.ie&&(x(),V("AutoUrlDetect",!1),E.on("dragstart",function(Rt){O(Rt)}),E.on("drop",function(Rt){if(!W(Rt)){var Xt=$(Rt);if(Xt&&Xt.id!=E.id){Rt.preventDefault();var tt=Y.getCaretRangeFromPoint(Rt.x,Rt.y,E.getDoc());bn.setRng(tt),A(Xt.html)}}})),di&&(rt(),H(),window.Range.prototype.getClientRects||E.on("mousedown",function(Rt){if(!W(Rt)&&"HTML"===Rt.target.nodeName){var Xt=E.getBody();Xt.blur(),S.setEditorTimeout(E,function(){Xt.focus()})}}),function(){function Rt(){var tt=yt.getAttribs(bn.getStart().cloneNode(!1));return function(){var Ct=bn.getStart();Ct!==E.getBody()&&(yt.setAttrib(Ct,"style",null),je(tt,function(sn){Ct.setAttributeNode(sn.cloneNode(!0))}))}}function Xt(){return!bn.isCollapsed()&&yt.getParent(bn.getStart(),yt.isBlock)!=yt.getParent(bn.getEnd(),yt.isBlock)}E.on("keypress",function(tt){var Ct;if(!W(tt)&&(8==tt.keyCode||46==tt.keyCode)&&Xt())return Ct=Rt(),E.getDoc().execCommand("delete",!1,null),Ct(),tt.preventDefault(),!1}),yt.bind(E.getDoc(),"cut",function(tt){var Ct;!W(tt)&&Xt()&&(Ct=Rt(),S.setEditorTimeout(E,function(){Ct()}))})}(),Yn.readonly||E.on("BeforeExecCommand MouseDown",function(){V("StyleWithCSS",!1),V("enableInlineTableEditing",!1),Yn.object_resizing||V("enableObjectResizing",!1)}),E.on("SetContent ExecCommand",function(Xt){"setcontent"!=Xt.type&&"mceInsertLink"!==Xt.command||je(yt.select("a"),function(Xt){var tt=Xt.parentNode,Ct=yt.getRoot();if(tt.lastChild===Xt){for(;tt&&!yt.isBlock(tt);){if(tt.parentNode.lastChild!==tt||tt===Ct)return;tt=tt.parentNode}yt.add(tt,"br",{"data-mce-bogus":1})}})}),E.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),b.mac&&E.on("keydown",function(Rt){!ee.metaKeyPressed(Rt)||Rt.shiftKey||37!=Rt.keyCode&&39!=Rt.keyCode||(Rt.preventDefault(),E.selection.getSel().modify("move",37==Rt.keyCode?"backward":"forward","lineboundary"))}),ye()),{refreshContentEditable:function(){},isHidden:function(){var Rt;return di?!(Rt=E.selection.getSel())||!Rt.rangeCount||0===Rt.rangeCount:0}}}}),Ye(hi,[fn,$e,ft],function(ee,Y,z){function B(S,F){return"selectionchange"==F?S.getDoc():!S.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(F)?S.getDoc().documentElement:S.settings.event_root?(S.eventRoot||(S.eventRoot=T.select(S.settings.event_root)[0]),S.eventRoot):S.getBody()}function C(S,F){function D(V){return!V.hidden&&!V.readonly}var E,N=B(S,F);if(S.delegates||(S.delegates={}),!S.delegates[F])if(S.settings.event_root){if(b||(b={},S.editorManager.on("removeEditor",function(){var V;if(!S.editorManager.activeEditor&&b){for(V in b)S.dom.unbind(B(S,V));b=null}})),b[F])return;b[F]=E=function(V){for(var R=V.target,W=S.editorManager.editors,O=W.length;O--;){var $=W[O].getBody();($===R||T.isChildOf(R,$))&&D(W[O])&&W[O].fire(F,V)}},T.bind(N,F,E)}else T.bind(N,F,E=function(V){D(S)&&S.fire(F,V)}),S.delegates[F]=E}var b,T=Y.DOM,w={bindPendingEventDelegates:function(){var S=this;z.each(S._pendingNativeEvents,function(F){C(S,F)})},toggleNativeEvent:function(S,F){var D=this;"focus"!=S&&"blur"!=S&&(F?D.initialized?C(D,S):D._pendingNativeEvents?D._pendingNativeEvents.push(S):D._pendingNativeEvents=[S]:D.initialized&&(D.dom.unbind(B(D,S),S,D.delegates[S]),delete D.delegates[S]))},unbindAllNativeEvents:function(){var F,S=this;if(S.delegates){for(F in S.delegates)S.dom.unbind(B(S,F),F,S.delegates[F]);delete S.delegates}S.inline||(S.getBody().onload=null,S.dom.unbind(S.getWin()),S.dom.unbind(S.getDoc())),S.dom.unbind(S.getBody()),S.dom.unbind(S.getContainer())}};return z.extend({},ee,w)}),Ye(bi,[],function(){function ee(C,T,b){try{C.getDoc().execCommand(T,!1,b)}catch(w){}}function z(C,T){C._clickBlocker&&(C._clickBlocker.unbind(),C._clickBlocker=null),T?(C._clickBlocker=function(C){var T,b;return T=C.getBody(),b=function(w){C.dom.getParents(w.target,"a").length>0&&w.preventDefault()},C.dom.bind(T,"click",b),{unbind:function(){C.dom.unbind(T,"click",b)}}}(C),C.selection.controlSelection.hideResizeRect(),C.readonly=!0,C.getBody().contentEditable=!1):(C.readonly=!1,C.getBody().contentEditable=!0,ee(C,"StyleWithCSS",!1),ee(C,"enableInlineTableEditing",!1),ee(C,"enableObjectResizing",!1),C.focus(),C.nodeChanged())}return{setMode:function(C,T){T!=(C.readonly?"readonly":"design")&&(C.initialized?z(C,"readonly"==T):C.on("init",function(){z(C,"readonly"==T)}),C.fire("SwitchMode",{mode:T}))}}}),Ye(Mi,[ft,Mt],function(ee,Y){var z=ee.each,B=ee.explode,C={f9:120,f10:121,f11:122},T=ee.makeMap("alt,ctrl,shift,meta,access");return function(b){function w(O){var $,A,P={};for(A in z(B(O,"+"),function(M){M in T?P[M]=!0:/^[0-9]{2,}$/.test(M)?P.keyCode=parseInt(M,10):(P.charCode=M.charCodeAt(0),P.keyCode=C[M]||M.toUpperCase().charCodeAt(0))}),$=[P.keyCode],T)P[A]?$.push(A):P[A]=!1;return P.id=$.join(","),P.access&&(P.alt=!0,Y.mac?P.ctrl=!0:P.shift=!0),P.meta&&(Y.mac?P.meta=!0:(P.ctrl=!0,P.meta=!1)),P}function S(O,$,A,P){var M;return(M=ee.map(B(O,">"),w))[M.length-1]=ee.extend(M[M.length-1],{func:A,scope:P||b}),ee.extend(M[0],{desc:b.translate($),subpatterns:M.slice(1)})}function N(O,$){return!!$&&$.ctrl==O.ctrlKey&&$.meta==O.metaKey&&$.alt==O.altKey&&$.shift==O.shiftKey&&!!(O.keyCode==$.keyCode||O.charCode&&O.charCode==$.charCode)&&(O.preventDefault(),!0)}function E(O){return O.func?O.func.call(O.scope):null}var R={},W=[];b.on("keyup keypress keydown",function(O){!function(O){return O.altKey||O.ctrlKey||O.metaKey}(O)&&!function(O){return"keydown"===O.type&&O.keyCode>=112&&O.keyCode<=123}(O)||O.isDefaultPrevented()||(z(R,function($){if(N(O,$))return W=$.subpatterns.slice(0),"keydown"==O.type&&E($),!0}),N(O,W[0])&&(1===W.length&&"keydown"==O.type&&E(W[0]),W.shift()))}),this.add=function(O,$,A,P){var M;return M=A,"string"==typeof A?A=function(){b.execCommand(M,!1,null)}:ee.isArray(M)&&(A=function(){b.execCommand(M[0],M[1],M[2])}),z(B(ee.trim(O.toLowerCase())),function(x){var _=S(x,$,A,P);R[_.id]=_}),!0},this.remove=function(O){var $=S(O);return!!R[$.id]&&(delete R[$.id],!0)}}}),Ye(er,[we,ft,lt],function(ee,Y,z){return function(B,C){function T(P){var M;return M={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[P.blob().type.toLowerCase()]||"dat",P.filename()+"."+M}function S(P,M,x,_){var H,X;(H=new XMLHttpRequest).open("POST",C.url),H.withCredentials=C.credentials,H.upload.onprogress=function(U){_(U.loaded/U.total*100)},H.onerror=function(){x("Image upload failed due to a XHR Transport error. Code: "+H.status)},H.onload=function(){var U;return 200!=H.status?void x("HTTP Error: "+H.status):(U=JSON.parse(H.responseText))&&"string"==typeof U.location?void M(function(P,M){return P?P.replace(/\/$/,"")+"/"+M.replace(/^\//,""):M}(C.basePath,U.location)):void x("Invalid JSON: "+H.responseText)},(X=new FormData).append("file",P.blob(),P.filename()),H.send(X)}function D(P,M){return{url:M,blobInfo:P,status:!0}}function N(P,M){return{url:"",blobInfo:P,status:!1,error:M}}function E(P,M){Y.each(A[P],function(x){x(M)}),delete A[P]}function O(P,M){return P=Y.grep(P,function(x){return!B.isUploaded(x.blobUri())}),ee.all(Y.map(P,function(x){return B.isPending(x.blobUri())?function(P){var M=P.blobUri();return new ee(function(x){A[M]=A[M]||[],A[M].push(x)})}(x):function(P,M,x){return B.markPending(P.blobUri()),new ee(function(_){var H,X,U=function(){};try{var J=function(){H&&(H.close(),X=U)};X=function(pe){pe<0||pe>100||(H||(H=x()),H.progressBar.value(pe))},M(function(P){return{id:P.id,blob:P.blob,base64:P.base64,filename:z.constant(T(P))}}(P),function(pe){J(),B.markUploaded(P.blobUri(),pe),E(P.blobUri(),D(P,pe)),_(D(P,pe))},function(pe){J(),B.removeFailed(P.blobUri()),E(P.blobUri(),N(P,pe)),_(N(P,pe))},X)}catch(pe){_(N(P,pe.message))}})}(x,C.handler,M)}))}var A={};return C=Y.extend({credentials:!1,handler:S},C),{upload:function(P,M){return!C.url&&function(P){return P===S}(C.handler)?new ee(function(P){P([])}):O(P,M)}}}}),Ye(or,[we],function(ee){function z(b){var w,S;return b=decodeURIComponent(b).split(","),(S=/data:([^;]+)/.exec(b[0]))&&(w=S[1]),{type:w,data:b[1]}}return{uriToBlob:function(b){return 0===b.indexOf("blob:")?function(b){return new ee(function(w){var S=new XMLHttpRequest;S.open("GET",b,!0),S.responseType="blob",S.onload=function(){200==this.status&&w(this.response)},S.send()})}(b):0===b.indexOf("data:")?function(b){return new ee(function(w){var S,F,D;b=z(b);try{S=atob(b.data)}catch(N){return void w(new Blob([]))}for(F=new Uint8Array(S.length),D=0;D<F.length;D++)F[D]=S.charCodeAt(D);w(new Blob([F],{type:b.type}))})}(b):null},blobToDataUri:function(b){return new ee(function(w){var S=new FileReader;S.onloadend=function(){w(S.result)},S.readAsDataURL(b)})},parseDataUri:z}}),Ye(ar,[we,zt,lt,or,Mt],function(ee,Y,z,B,C){var T=0,b=function(w){return(w||"blobid")+T++};return function(w,S){var D={};return{findAll:function(N,E){var R,W;return E||(E=z.constant(!0)),R=Y.filter(N.getElementsByTagName("img"),function(O){var $=O.src;return!!C.fileApi&&!O.hasAttribute("data-mce-bogus")&&!O.hasAttribute("data-mce-placeholder")&&!(!$||$==C.transparentSrc)&&(0===$.indexOf("blob:")?!w.isUploaded($):0===$.indexOf("data:")&&E(O))}),W=Y.map(R,function(O){var $;return D[O.src]?new ee(function(A){D[O.src].then(function(P){A({image:O,blobInfo:P.blobInfo})})}):($=new ee(function(A){!function(O,$){var A,P;0===O.src.indexOf("blob:")?(P=S.getByUri(O.src))?$({image:O,blobInfo:P}):B.uriToBlob(O.src).then(function(M){B.blobToDataUri(M).then(function(x){A=B.parseDataUri(x).data,P=S.create(b(),M,A),S.add(P),$({image:O,blobInfo:P})})}):(A=B.parseDataUri(O.src).data,(P=S.findFirst(function(M){return M.base64()===A}))?$({image:O,blobInfo:P}):B.uriToBlob(O.src).then(function(M){P=S.create(b(),M,A),S.add(P),$({image:O,blobInfo:P})}))}(O,A)}).then(function(A){return delete D[A.image.src],A}).catch(function(A){return delete D[O.src],A}),D[O.src]=$,$)}),ee.all(W)}}}}),Ye(kr,[zt,lt],function(ee,Y){return function(){function C(N){return T(function(E){return E.id()===N})}function T(N){return ee.filter(F,N)[0]}var F=[],D=Y.constant;return{create:function(N,E,V,R){return{id:D(N),filename:D(R||N),blob:D(E),base64:D(V),blobUri:D(URL.createObjectURL(E))}},add:function(N){C(N.id())||F.push(N)},get:C,getByUri:function(N){return T(function(E){return E.blobUri()==N})},findFirst:T,removeByUri:function(N){F=ee.filter(F,function(E){return E.blobUri()!==N||(URL.revokeObjectURL(E.blobUri()),!1)})},destroy:function(){ee.each(F,function(N){URL.revokeObjectURL(N.blobUri())}),F=[]}}}}),Ye(Pr,[],function(){return function(){function ee(E,V){return{status:E,resultUri:V}}function Y(E){return E in N}var N={};return{hasBlobUri:Y,getResultUri:function(E){var V=N[E];return V?V.resultUri:null},isPending:function(E){return!!Y(E)&&1===N[E].status},isUploaded:function(E){return!!Y(E)&&2===N[E].status},markPending:function(E){N[E]=ee(1,null)},markUploaded:function(E,V){N[E]=ee(2,V)},removeFailed:function(E){delete N[E]},destroy:function(){N={}}}}}),Ye(zr,[Xe],function(ee){var Y=ee.PluginManager,C=function(S,F){S.notificationManager.open({type:"error",text:F})},T=function(S,F){S._skinLoaded?C(S,F):S.on("SkinLoaded",function(){C(S,F)})};return{pluginLoadError:function(S,F){T(S,function(S,F){var D=function(S,F){for(var D in Y.urls)if(Y.urls[D]+"/plugin"+F+".js"===S)return D;return null}(F,S.suffix);return D?"Failed to load plugin: "+D+" from url "+F:"Failed to load plugin url: "+F}(S,F))},uploadError:function(S,F){T(S,"Failed to upload image: "+F)}}}),Ye(fr,[zt,er,ar,kr,Pr,zr],function(ee,Y,z,B,C,T){return function(b){function w(U){return function(J){return b.selection?U(J):[]}}function F(U,J,ie){var ye=0;do{-1!==(ye=U.indexOf(J,ye))&&(U=U.substring(0,ye)+ie+U.substr(ye+J.length),ye+=ie.length-J.length+1)}while(-1!==ye);return U}function D(U,J,ie){return U=F(U,'src="'+J+'"','src="'+ie+'"'),F(U,'data-mce-src="'+J+'"','data-mce-src="'+ie+'"')}function N(U,J){ee.each(b.undoManager.data,function(ie){"fragmented"===ie.type?ie.fragments=ee.map(ie.fragments,function(ye){return D(ye,U,J)}):ie.content=D(ie.content,U,J)})}function E(){return b.notificationManager.open({text:b.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function R(U){return x||(x=new Y(X,{url:H.images_upload_url,basePath:H.images_upload_base_path,credentials:H.images_upload_credentials,handler:H.images_upload_handler})),$().then(w(function(J){var ie;return ie=ee.map(J,function(ye){return ye.blobInfo}),x.upload(ie,E).then(w(function(ye){return ye=ee.map(ye,function(pe,fe){var ve=J[fe].image;return pe.status&&!1!==b.settings.images_replace_blob_uris?function(U,J){M.removeByUri(U.src),N(U.src,J),b.$(U).attr({src:H.images_reuse_filename?J+"?"+(new Date).getTime():J,"data-mce-src":b.convertURL(J,"src")})}(ve,pe.url):pe.error&&T.uploadError(b,pe.error),{element:ve,status:pe.status}}),U&&U(ye),ye}))}))}function W(U){if(!1!==H.automatic_uploads)return R(U)}function O(U){return!H.images_dataimg_filter||H.images_dataimg_filter(U)}function $(){return _||(_=new z(X,M)),_.findAll(b.getBody(),O).then(w(function(U){return ee.each(U,function(J){N(J.image.src,J.blobInfo.blobUri()),J.image.src=J.blobInfo.blobUri(),J.image.removeAttribute("data-mce-src")}),U}))}function P(U){return U.replace(/src="(blob:[^"]+)"/g,function(J,ie){var ye=X.getResultUri(ie);if(ye)return'src="'+ye+'"';var pe=M.getByUri(ie);return pe||(pe=ee.reduce(b.editorManager.editors,function(fe,ve){return fe||ve.editorUpload.blobCache.getByUri(ie)},null)),pe?'src="data:'+pe.blob().type+";base64,"+pe.base64()+'"':J})}var x,_,M=new B,H=b.settings,X=new C;return b.on("setContent",function(){!1!==b.settings.automatic_uploads?W():$()}),b.on("RawSaveContent",function(U){U.content=P(U.content)}),b.on("getContent",function(U){U.source_view||"raw"==U.format||(U.content=P(U.content))}),b.on("PostRender",function(){b.parser.addNodeFilter("img",function(U){ee.each(U,function(J){var ie=J.attr("src");if(!M.getByUri(ie)){var ye=X.getResultUri(ie);ye&&J.attr("src",ye)}})})}),{blobCache:M,uploadImages:R,uploadImagesAuto:W,scanForImages:$,destroy:function(){M.destroy(),X.destroy(),_=x=null}}}}),Ye(li,[en,wn,vt,Kt,ot,le,Ke],function(ee,Y,z,B,C,T,b){var w=z.isContentEditableFalse;return function(S,F){function V(){(function(){var M,x,_,H,X;for(M=C("*[contentEditable=false]",S),H=0;H<M.length;H++)ee.endsWithCaretContainer(_=(x=M[H]).previousSibling)&&(1==(X=_.data).length?_.parentNode.removeChild(_):_.deleteData(X.length-1,1)),ee.startsWithCaretContainer(_=x.nextSibling)&&(1==(X=_.data).length?_.parentNode.removeChild(_):_.deleteData(0,1))})(),P&&(ee.remove(P),P=null),A&&(A.remove(),A=null),clearInterval($)}var $,A,P;return{show:function(M,x){var _,H;return V(),F(x)?(P=ee.insertBlock("p",x,M),_=function(M,x){var H,X,U,J,ie,_=T.collapse(M.getBoundingClientRect(),x);return"BODY"==S.tagName?(H=S.ownerDocument.documentElement,X=S.scrollLeft||H.scrollLeft,U=S.scrollTop||H.scrollTop):(ie=S.getBoundingClientRect(),X=S.scrollLeft-ie.left,U=S.scrollTop-ie.top),_.left+=X,_.right+=X,_.top+=U,_.bottom+=U,_.width=1,(J=M.offsetWidth-M.clientWidth)>0&&(x&&(J*=-1),_.left+=J,_.right+=J),_}(x,M),C(P).css("top",_.top),A=C('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(_).appendTo(S),M&&A.addClass("mce-visual-caret-before"),$=b.setInterval(function(){C("div.mce-visual-caret",S).toggleClass("mce-visual-caret-hidden")},500),(H=x.ownerDocument.createRange()).setStart(P,0),H.setEnd(P,0),H):(P=ee.insertInline(x,M),H=x.ownerDocument.createRange(),w(P.nextSibling)?(H.setStart(P,0),H.setEnd(P,0)):(H.setStart(P,1),H.setEnd(P,1)),H)},hide:V,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function(){b.clearInterval($)}}}}),Ye(Ur,[zt,vt,le],function(ee,Y,z){return{getClientRects:function B(C){function T(w){return ee.map(w,function(S){return(S=z.clone(S)).node=C,S})}if(ee.isArray(C))return ee.reduce(C,function(w,S){return w.concat(B(S))},[]);if(Y.isElement(C))return T(C.getClientRects());if(Y.isText(C)){var b=C.ownerDocument.createRange();return b.setStart(C,0),b.setEnd(C,C.data.length),T(b.getClientRects())}}}}),Ye(no,[lt,zt,Ur,Ht,gn,Fn,wn,le],function(ee,Y,z,B,C,T,b,w){function F(O,$,A,P,M,x){function _(ie){var ye,pe,fe;for(fe=z.getClientRects(ie),-1==O&&(fe=fe.reverse()),ye=0;ye<fe.length;ye++)if(!A(pe=fe[ye],J)){if(U.length>0&&$(pe,Y.last(U))&&H++,pe.line=H,M(pe))return!0;U.push(pe)}}var X,J,H=0,U=[];return(J=Y.last(x.getClientRects()))&&(_(X=x.getNode()),function(O,$,A,P){for(;P=C.findNode(P,O,B.isEditableCaretCandidate,$);)if(A(P))return}(O,P,_,X)),U}var V=ee.curry;return{upUntil:V(F,-1,w.isAbove,w.isBelow),downUntil:V(F,1,w.isBelow,w.isAbove),positionsUntil:function(O,$,A,P){function M(fe){return Y.last(fe.getClientRects())}var _,H,X,U,ye,pe,x=new T($),J=[],ie=0;1==O?(_=x.next,H=w.isBelow,X=w.isAbove,U=b.after(P)):(_=x.prev,H=w.isAbove,X=w.isBelow,U=b.before(P)),pe=M(U);do{if(U.isVisible()&&!X(ye=M(U),pe)){if(J.length>0&&H(ye,Y.last(J))&&ie++,(ye=w.clone(ye)).position=U,ye.line=ie,A(ye))return J;J.push(ye)}}while(U=_(U));return J},isAboveLine:V(function(O,$){return $.line>O}),isLine:V(function(O,$){return $.line===O})}}),Ye(Oo,[lt,zt,vt,Ur,le,gn,Ht],function(ee,Y,z,B,C,T,b){function w(A,P){return Math.abs(A.left-P)}function S(A,P){return Math.abs(A.right-P)}function F(A,P){function M(x,_){return x>=_.left&&x<=_.right}return Y.reduce(A,function(x,_){var H,X;return H=Math.min(w(x,P),S(x,P)),X=Math.min(w(_,P),S(_,P)),M(P,_)?_:M(P,x)?x:X==H&&W(_.node)||X<H?_:x})}function D(A,P,M,x){for(;x=O(x,A,b.isEditableCaretCandidate,P);)if(M(x))return}function N(A,P){function M(_,H){var X;return X=Y.filter(B.getClientRects(H),function(U){return!_(U,P)}),x=x.concat(X),0===X.length}var x=[];return x.push(P),D(-1,A,$(M,C.isAbove),P.node),D(1,A,$(M,C.isBelow),P.node),x}var W=z.isContentEditableFalse,O=T.findNode,$=ee.curry;return{findClosestClientRect:F,findLineNodeRects:N,closestCaret:function(A,P,M){var x,_;return x=B.getClientRects(function(A){return Y.filter(Y.toArray(A.getElementsByTagName("*")),W)}(A)),(_=F(x=Y.filter(x,function(H){return M>=H.top&&M<=H.bottom}),P))&&(_=F(N(A,_),P))&&W(_.node)?function(A,P){return{node:A.node,before:w(A,P)<S(A,P)}}(_,P):null}}}),Ye(pa,[],function(){var ee=function(w){var S,F,D,N;return{top:(N=w.getBoundingClientRect()).top+(D=(S=w.ownerDocument).defaultView).pageYOffset-(F=S.documentElement).clientTop,left:N.left+D.pageXOffset-F.clientLeft}};return{calc:function(w,S){return function(w,S,F){return{pageX:F.left-w.left+S.left,pageY:F.top-w.top+S.top}}(function(w){return w.inline?ee(w.getBody()):{left:0,top:0}}(w),function(w){var S=w.getBody();return w.inline?{left:S.scrollLeft,top:S.scrollTop}:{left:0,top:0}}(w),function(w,S){if(S.target.ownerDocument!==w.getDoc()){var F=ee(w.getContentAreaContainer()),D=function(w){var S=w.getBody(),F=w.getDoc().documentElement;return w.inline?{left:S.scrollLeft,top:S.scrollTop}:{left:S.scrollLeft||F.scrollLeft,top:S.scrollTop||F.scrollTop}}(w);return{left:S.pageX-F.left+D.left,top:S.pageY-F.top+D.top}}return{left:S.pageX,top:S.pageY}}(w,S))}}}),Ye(zo,[vt,zt,lt,Ke,$e,pa],function(ee,Y,z,B,C,T){var b=ee.isContentEditableFalse,w=ee.isContentEditableTrue,R=function(ie){ie&&ie.parentNode&&ie.parentNode.removeChild(ie)},H=function(ie){ie.dragging=!1,ie.element=null,R(ie.ghost)},X=function(ie){var pe,fe,ve,ge,Te,Ae,ye={};pe=C.DOM,Ae=document,fe=function(ie,ye){return function(pe){if(function(ie){return 0===ie.button}(pe)){var fe=Y.find(ye.dom.getParents(pe.target),z.or(b,w));if(function(ie,ye){return b(ye)&&ye!==ie}(ye.getBody(),fe)){var ve=ye.dom.getPos(fe),ge=ye.getBody(),Te=ye.getDoc().documentElement;ie.element=fe,ie.screenX=pe.screenX,ie.screenY=pe.screenY,ie.maxX=(ye.inline?ge.scrollWidth:Te.offsetWidth)-2,ie.maxY=(ye.inline?ge.scrollHeight:Te.offsetHeight)-2,ie.relX=pe.pageX-ve.x,ie.relY=pe.pageY-ve.y,ie.width=fe.offsetWidth,ie.height=fe.offsetHeight,ie.ghost=function(ie,ye,pe,fe){var ve=ye.cloneNode(!0);ie.dom.setStyles(ve,{width:pe,height:fe}),ie.dom.setAttrib(ve,"data-mce-selected",null);var ge=ie.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return ie.dom.setStyles(ge,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:pe,height:fe}),ie.dom.setStyles(ve,{margin:0,boxSizing:"border-box"}),ge.appendChild(ve),ge}(ye,fe,ie.width,ie.height)}}}}(ye,ie),ve=function(ie,ye){var pe=B.throttle(function(fe,ve){ye._selectionOverrides.hideFakeCaret(),ye.selection.placeCaretAt(fe,ve)},0);return function(fe){var ve=Math.max(Math.abs(fe.screenX-ie.screenX),Math.abs(fe.screenY-ie.screenY));if(function(ie){return ie.element}(ie)&&!ie.dragging&&ve>10){if(ye.fire("dragstart",{target:ie.element}).isDefaultPrevented())return;ie.dragging=!0,ye.focus()}if(ie.dragging){var Te=function(ie,ye){return{pageX:ye.pageX-ie.relX,pageY:ye.pageY+5}}(ie,T.calc(ye,fe));(function(ie,ye){ie.parentNode!==ye&&ye.appendChild(ie)})(ie.ghost,ye.getBody()),function(ie,ye,pe,fe,ve,ge){var Te=0,Ae=0;ie.style.left=ye.pageX+"px",ie.style.top=ye.pageY+"px",ye.pageX+pe>ve&&(Te=ye.pageX+pe-ve),ye.pageY+fe>ge&&(Ae=ye.pageY+fe-ge),ie.style.width=pe-Te+"px",ie.style.height=fe-Ae+"px"}(ie.ghost,Te,ie.width,ie.height,ie.maxX,ie.maxY),pe(fe.clientX,fe.clientY)}}}(ye,ie),ge=function(ie,ye){return function(pe){if(ie.dragging&&function(ie,ye,pe){return ye!==pe&&!ie.dom.isChildOf(ye,pe)&&!b(ye)}(ye,function(ie){var pe=ie.getSel().getRangeAt(0).startContainer;return 3===pe.nodeType?pe.parentNode:pe}(ye.selection),ie.element)){var fe=function(ie){var ye=ie.cloneNode(!0);return ye.removeAttribute("data-mce-selected"),ye}(ie.element),ve=ye.fire("drop",{targetClone:fe,clientX:pe.clientX,clientY:pe.clientY});ve.isDefaultPrevented()||(fe=ve.targetClone,ye.undoManager.transact(function(){R(ie.element),ye.insertContent(ye.dom.getOuterHTML(fe)),ye._selectionOverrides.hideFakeCaret()}))}H(ie)}}(ye,ie),Te=function(ie,ye){return function(){H(ie),ie.dragging&&ye.fire("dragend")}}(ye,ie),ie.on("mousedown",fe),ie.on("mousemove",ve),ie.on("mouseup",ge),pe.bind(Ae,"mousemove",ve),pe.bind(Ae,"mouseup",Te),ie.on("remove",function(){pe.unbind(Ae,"mousemove",ve),pe.unbind(Ae,"mouseup",Te)})};return{init:function(ie){X(ie),function(ie){ie.on("drop",function(ye){var pe=void 0!==ye.clientX?ie.getDoc().elementFromPoint(ye.clientX,ye.clientY):null;(b(pe)||b(ie.dom.getContentEditableParent(pe)))&&ye.preventDefault()})}(ie)}}}),Ye(Fo,[Mt,Fn,wn,en,gn,li,no,Oo,vt,Kt,le,Zt,lt,zt,Ke,zo],function(ee,Y,z,B,C,T,b,w,S,F,D,N,E,V,R,W){function O(U,J){for(;J=U(J);)if(J.isVisible())return J;return J}var A=E.curry,P=S.isContentEditableTrue,M=S.isContentEditableFalse,x=S.isElement,_=C.isAfterContentEditableFalse,H=C.isBeforeContentEditableFalse,X=F.getSelectedNode;return function(U){function ye(tt){return U.dom.isBlock(tt)}function pe(tt){tt&&U.selection.setRng(tt)}function fe(){return U.selection.getRng()}function ve(tt,Ct){U.selection.scrollIntoView(tt,Ct)}function ge(tt,Ct,sn){return U.fire("ShowCaret",{target:Ct,direction:tt,before:sn}).isDefaultPrevented()?null:(ve(Ct,-1===tt),Ti.show(sn,Ct))}function Te(tt){return U.fire("BeforeObjectSelected",{target:tt}).isDefaultPrevented()?null:function(tt){var Ct=tt.ownerDocument.createRange();return Ct.selectNode(tt),Ct}(tt)}function ce(tt,Ct){return Ct=C.normalizeRange(tt,Bi,Ct),-1==tt?z.fromRangeStart(Ct):z.fromRangeEnd(Ct)}function ut(tt,Ct){var cn,Fe,Je;if(Ct.collapsed&&U.settings.forced_root_block){if(!(cn=U.dom.getParent(Ct.startContainer,"PRE")))return;(1==tt?fi(z.fromRangeStart(Ct)):Hi(z.fromRangeStart(Ct)))||(Je=U.dom.create(U.settings.forced_root_block),(!ee.ie||ee.ie>=11)&&(Je.innerHTML='<br data-mce-bogus="1">'),Fe=Je,1==tt?U.$(cn).after(Fe):U.$(cn).before(Fe),U.selection.select(Fe,!0),U.selection.collapse())}}function Dt(tt,Ct,sn,cn){var Rn;return(Rn=function(tt,Ct,sn,cn){var Rn,Fe,Je,ae;return!cn.collapsed&&(Rn=X(cn),M(Rn))?ge(tt,Rn,-1==tt):(ae=function(tt){return B.isCaretContainerBlock(tt.startContainer)}(cn),sn(Fe=ce(tt,cn))?Te(Fe.getNode(-1==tt)):(Fe=Ct(Fe))?sn(Fe)?ge(tt,Fe.getNode(-1==tt),1==tt):sn(Je=Ct(Fe))&&function(tt,Ct){var sn=C.isInSameBlock(tt,Ct);return!(sn||!S.isBr(tt.getNode()))||sn}(Fe,Je)?ge(tt,Je.getNode(-1==tt),1==tt):ae?oe(Fe.toRange()):null:ae?cn:null)}(tt,Ct,sn,cn))?Rn:(Rn=ut(tt,cn))||null}function Vt(tt,Ct,sn){var cn;return(cn=function(tt,Ct,sn){var cn,Rn,Fe,Je,ae,Se,Ve,it,mt;if(mt=X(sn),cn=ce(tt,sn),Rn=Ct(Bi,b.isAboveLine(1),cn),Fe=V.filter(Rn,b.isLine(1)),ae=V.last(cn.getClientRects()),H(cn)&&(mt=cn.getNode()),_(cn)&&(mt=cn.getNode(!0)),!ae)return null;if((Je=w.findClosestClientRect(Fe,Se=ae.left))&&M(Je.node))return Ve=Math.abs(Se-Je.left),it=Math.abs(Se-Je.right),ge(tt,Je.node,Ve<it);if(mt){var et=b.positionsUntil(tt,Bi,b.isAboveLine(1),mt);if((Je=w.findClosestClientRect(V.filter(et,b.isLine(1)),Se))||(Je=V.last(V.filter(et,b.isLine(0)))))return oe(Je.position.toRange())}}(tt,Ct,sn))?cn:(cn=ut(tt,sn))||null}function jt(tt){tt.hasAttribute("data-mce-caret")&&(B.showCaretContainerBlock(tt),pe(fe()),ve(tt[0]))}function Pe(tt){var Ct,sn;return tt=C.normalizeRange(1,Bi,tt),Ct=z.fromRangeStart(tt),M(Ct.getNode())?ge(1,Ct.getNode(),!Ct.isAtEnd()):M(Ct.getNode(!0))?ge(1,Ct.getNode(!0),!1):(sn=U.dom.getParent(Ct.getNode(),E.or(M,P)),M(sn)?ge(1,sn,!1):null)}function oe(tt){return tt&&tt.collapsed&&Pe(tt)||tt}function re(tt){var Ct,sn,cn,Rn;return M(tt)?(M(tt.previousSibling)&&(cn=tt.previousSibling),(sn=Hi(z.before(tt)))||(Ct=fi(z.after(tt))),Ct&&x(Ct.getNode())&&(Rn=Ct.getNode()),B.remove(tt.previousSibling),B.remove(tt.nextSibling),U.dom.remove(tt),U.dom.isEmpty(U.getBody())?(U.setContent(""),void U.focus()):cn?z.after(cn).toRange():Rn?z.before(Rn).toRange():sn?sn.toRange():Ct?Ct.toRange():null):null}function Ce(tt){var Ct=U.schema.getTextBlockElements();return tt.nodeName in Ct}function He(tt){return U.dom.isEmpty(tt)}function nt(tt,Ct,sn){var Rn,Fe,Je,ae,cn=U.dom;if(Rn=cn.getParent(Ct.getNode(),cn.isBlock),Fe=cn.getParent(sn.getNode(),cn.isBlock),-1===tt){if(ae=sn.getNode(!0),_(sn)&&ye(ae))return Ce(Rn)?(He(Rn)&&cn.remove(Rn),z.after(ae).toRange()):re(sn.getNode(!0))}else if(ae=Ct.getNode(),H(Ct)&&ye(ae))return Ce(Fe)?(He(Fe)&&cn.remove(Fe),z.before(ae).toRange()):re(Ct.getNode());if(Rn===Fe||!Ce(Rn)||!Ce(Fe))return null;for(;Je=Rn.firstChild;)Fe.appendChild(Je);return U.dom.remove(Rn),sn.toRange()}function rt(tt,Ct,sn,cn){var Rn,Fe,Je,ae;return!cn.collapsed&&(Rn=X(cn),M(Rn))?oe(re(Rn)):sn(Fe=ce(tt,cn))&&B.isCaretContainerBlock(cn.startContainer)?(ae=-1==tt?di.prev(Fe):di.next(Fe))?oe(ae.toRange()):cn:Ct(Fe)?oe(re(Fe.getNode(-1==tt))):Ct(Je=-1==tt?di.prev(Fe):di.next(Fe))?-1===tt?nt(tt,Fe,Je):nt(tt,Je,Fe):void 0}function ct(tt){return B.isCaretContainer(tt)||B.startsWithCaretContainer(tt)||B.endsWithCaretContainer(tt)}function wt(tt){return ct(tt.startContainer)||ct(tt.endContainer)}function yt(tt){var Ct,Rn,Fe,Je,ae,Se,Ve,it,mt,et,sn=U.$,cn=U.dom;if(!tt)return null;if(tt.collapsed){if(!wt(tt)){if(it=ce(1,tt),M(it.getNode()))return ge(1,it.getNode(),!it.isAtEnd());if(M(it.getNode(!0)))return ge(1,it.getNode(!0),!1)}return null}return ae=tt.startOffset,Se=tt.endOffset,3==(Je=tt.startContainer).nodeType&&0==ae&&M(Je.parentNode)&&(ae=cn.nodeIndex(Je=Je.parentNode),Je=Je.parentNode),1!=Je.nodeType?null:(Se==ae+1&&(Ct=Je.childNodes[ae]),M(Ct)?(mt=et=Ct.cloneNode(!0),(Ve=U.fire("ObjectSelected",{target:Ct,targetClone:mt})).isDefaultPrevented()?null:(mt=Ve.targetClone,0===(Rn=sn("#"+ki)).length&&(Rn=sn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",ki)).appendTo(U.getBody()),tt=U.dom.createRng(),mt===et&&ee.ie?(Rn.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(mt),tt.setStartAfter(Rn[0].firstChild.firstChild),tt.setEndAfter(mt)):(Rn.empty().append("\xa0").append(mt).append("\xa0"),tt.setStart(Rn[0].firstChild,1),tt.setEnd(Rn[0].lastChild,0)),Rn.css({top:cn.getPos(Ct,U.getBody()).y}),Rn[0].focus(),(Fe=U.selection.getSel()).removeAllRanges(),Fe.addRange(tt),U.$("*[data-mce-selected]").removeAttr("data-mce-selected"),Ct.setAttribute("data-mce-selected",1),Rt=Ct,Qn(),tt)):null)}function bn(){Rt&&(Rt.removeAttribute("data-mce-selected"),U.$("#"+ki).remove(),Rt=null)}function Qn(){Ti.hide()}var Rt,tt,Ct,Bi=U.getBody(),di=new Y(Bi),fi=A(O,di.next),Hi=A(O,di.prev),Ti=new T(U.getBody(),ye),ki="sel-"+U.dom.uniqueId(),Xt=U.$;return ee.ceFalse&&(function(){function tt(Ge,l){if(!1===Ge.isDefaultPrevented()){var c=l(fe());c&&(Ge.preventDefault(),pe(c))}}function Ct(Ge){for(var l=U.getBody();Ge&&Ge!=l;){if(P(Ge)||M(Ge))return Ge;Ge=Ge.parentNode}return null}var ae=A(Dt,1,fi,H),Se=A(Dt,-1,Hi,_),Ve=A(rt,1,H,_),it=A(rt,-1,_,H),mt=A(Vt,-1,b.upUntil),et=A(Vt,1,b.downUntil);U.on("mouseup",function(){var Ge=fe();Ge.collapsed&&pe(Pe(Ge))}),U.on("click",function(Ge){var l;(l=Ct(Ge.target))&&(M(l)&&(Ge.preventDefault(),U.focus()),P(l)&&U.dom.isChildOf(l,U.selection.getNode())&&bn())}),U.on("blur NewBlock",function(){bn(),Qn()});var Ge,l;l=!1,(Ge=U).on("touchstart",function(){l=!1}),Ge.on("touchmove",function(){l=!0}),Ge.on("touchend",function(c){var f=Ct(c.target);M(f)&&(l||(c.preventDefault(),yt(Te(f))))}),U.on("mousedown",function(Ge){var l;if(l=Ct(Ge.target))M(l)?(Ge.preventDefault(),yt(Te(l))):function(Ge,l,c){return!c.collapsed&&V.reduce(c.getClientRects(),function(f,p){return f||D.containsXY(p,Ge,l)},!1)}(Ge.clientX,Ge.clientY,U.selection.getRng())||U.selection.placeCaretAt(Ge.clientX,Ge.clientY);else{bn(),Qn();var c=w.closestCaret(Bi,Ge.clientX,Ge.clientY);c&&(function(Ge,l){var c=U.dom.getParent(Ge,U.dom.isBlock),f=U.dom.getParent(l,U.dom.isBlock);return c&&!function(Ge,l){return U.dom.getParent(Ge,U.dom.isBlock)===U.dom.getParent(l,U.dom.isBlock)}(c,f)&&function(Ge){var l=new Y(Ge);if(!Ge.firstChild)return!1;var c=z.before(Ge.firstChild),f=l.next(c);return f&&!H(f)&&!_(f)}(c)}(Ge.target,c.node)||(Ge.preventDefault(),U.getBody().focus(),pe(ge(1,c.node,c.before))))}}),U.on("keydown",function(Ge){if(!N.modifierPressed(Ge))switch(Ge.keyCode){case N.RIGHT:tt(Ge,ae);break;case N.DOWN:tt(Ge,et);break;case N.LEFT:tt(Ge,Se);break;case N.UP:tt(Ge,mt);break;case N.DELETE:tt(Ge,Ve);break;case N.BACKSPACE:tt(Ge,it);break;default:M(U.selection.getNode())&&function(Ge){return!(Ge.keyCode>=112&&Ge.keyCode<=123)}(Ge)&&Ge.preventDefault()}}),U.on("keyup compositionstart",function(Ge){(function(Ge){var l=Xt("*[data-mce-caret]")[0];if(l)"compositionstart"==Ge.type?(Ge.preventDefault(),Ge.stopPropagation(),jt(l)):B.hasContent(l)&&jt(l)})(Ge),function(Ge){var l;switch(Ge.keyCode){case N.DELETE:case N.BACKSPACE:l=function(){var Ge,l=Ct(U.selection.getNode());P(l)&&ye(l)&&U.dom.isEmpty(l)&&(Ge=U.dom.create("br",{"data-mce-bogus":"1"}),U.$(l).empty().append(Ge),U.selection.setRng(z.before(Ge).toRange()))}()}l&&Ge.preventDefault()}(Ge)},!0),U.on("cut",function(){var Ge=U.selection.getNode();M(Ge)&&R.setEditorTimeout(U,function(){pe(oe(re(Ge)))})}),U.on("getSelectionRange",function(Ge){var l=Ge.range;if(Rt){if(!Rt.parentNode)return void(Rt=null);(l=l.cloneRange()).selectNode(Rt),Ge.range=l}}),U.on("setSelectionRange",function(Ge){var l;(l=yt(Ge.range))&&(Ge.range=l)}),U.on("AfterSetSelectionRange",function(Ge){var l=Ge.range;wt(l)||Qn(),function(tt){return U.dom.hasClass(tt,"mce-offscreen-selection")}(l.startContainer.parentNode)||bn()}),U.on("focus",function(){R.setEditorTimeout(U,function(){U.selection.setRng(oe(U.selection.getRng()))},0)}),U.on("copy",function(Ge){var l=Ge.clipboardData;if(!Ge.isDefaultPrevented()&&Ge.clipboardData&&!ee.ie){var c=function(){var tt=U.dom.get(ki);return tt&&tt.getElementsByTagName("*")[0]}();c&&(Ge.preventDefault(),l.clearData(),l.setData("text/html",c.outerHTML),l.setData("text/plain",c.outerText))}}),W.init(U)}(),Ct=".mce-content-body",(tt=U.contentStyles).push(Ti.getCss()),tt.push(Ct+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+Ct+" *[contentEditable=false] {cursor: default;}"+Ct+" *[contentEditable=true] {cursor: text;}")),{showBlockCaretContainer:jt,hideFakeCaret:Qn,destroy:function(){Ti.destroy(),Rt=null}}}}),Ye(ga,[],function(){var ee=0;return{uuid:function(B){return B+ee+++function(){var B=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+B()+B()+B()}()}}}),Ye(jr,[],function(){return{add:function(Y,z,B){var C=Y.sidebars?Y.sidebars:[];C.push({name:z,settings:B}),Y.sidebars=C}}}),Ye(Vo,[$e,ot,Xe,It,bt,st,Pn,vi,yi,on,dn,Lt,jn,Nt,xt,de,Wt,oi,dt,Sn,Xn,Mt,ft,Ke,hi,bi,Mi,fr,Fo,ga,jr,zr],function(ee,Y,z,B,C,T,b,w,S,F,D,N,E,V,R,W,O,$,A,P,M,x,_,H,X,U,J,ie,ye,pe,fe,ve){function ge(Pe,oe,re){var He,nt,rt,Ce=this;He=Ce.documentBaseUrl=re.documentBaseURL,nt=re.baseURI,oe=ce({id:Pe,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:He,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:Ce.convertURL,url_converter_scope:Ce,ie7_compat:!0},rt=re.defaultSettings,oe),rt&&rt.external_plugins&&oe.external_plugins&&(oe.external_plugins=ce({},rt.external_plugins,oe.external_plugins)),Ce.settings=oe,z.language=oe.language||"en",z.languageLoad=oe.language_load,z.baseURL=re.baseURL,Ce.id=oe.id=Pe,Ce.setDirty(!1),Ce.plugins={},Ce.documentBaseURI=new V(oe.document_base_url||He,{base_uri:nt}),Ce.baseURI=nt,Ce.contentCSS=[],Ce.contentStyles=[],Ce.shortcuts=new J(Ce),Ce.loadedCSS={},Ce.editorCommands=new E(Ce),Ce.suffix=re.suffix,Ce.editorManager=re,Ce.inline=oe.inline,Ce.settings.content_editable=Ce.inline,oe.cache_suffix&&(x.cacheSuffix=oe.cache_suffix.replace(/^[\?\&]+/,"")),!1===oe.override_viewport&&(x.overrideViewPort=!1),re.fire("SetupEditor",Ce),Ce.execCallback("setup",Ce),Ce.$=Y.overrideDefaults(function(){return{context:Ce.inline?Ce.getBody():Ce.getDoc(),element:Ce.getBody()}})}var Te=ee.DOM,Ae=z.ThemeManager,ne=z.PluginManager,ce=_.extend,xe=_.each,Ie=_.explode,Le=_.inArray,ut=_.trim,Dt=_.resolve,Vt=W.Event,Qt=x.gecko,jt=x.ie;return ge.prototype={render:function(){var re=this,Ce=re.settings,He=re.id,nt=re.suffix;if(Vt.domLoaded){if(re.getElement()&&x.contentEditable){Ce.inline?re.inline=!0:(re.orgVisibility=re.getElement().style.visibility,re.getElement().style.visibility="hidden");var rt=re.getElement().form||Te.getParent(He,"form");rt&&(re.formElement=rt,Ce.hidden_input&&!/TEXTAREA|INPUT/i.test(re.getElement().nodeName)&&(Te.insertAfter(Te.create("input",{type:"hidden",name:He}),He),re.hasHiddenInput=!0),re.formEventDelegate=function(je){re.fire(je.type,je)},Te.bind(rt,"submit reset",re.formEventDelegate),re.on("reset",function(){re.setContent(re.startContent,{format:"raw"})}),!Ce.submit_patch||rt.submit.nodeType||rt.submit.length||rt._mceOldSubmit||(rt._mceOldSubmit=rt.submit,rt.submit=function(){return re.editorManager.triggerSave(),re.setDirty(!1),rt._mceOldSubmit(rt)})),re.windowManager=new O(re),re.notificationManager=new $(re),"xml"==Ce.encoding&&re.on("GetContent",function(je){je.save&&(je.content=Te.encode(je.content))}),Ce.add_form_submit_trigger&&re.on("submit",function(){re.initialized&&re.save()}),Ce.add_unload_trigger&&(re._beforeUnload=function(){!re.initialized||re.destroyed||re.isHidden()||re.save({format:"raw",no_events:!0,set_dirty:!1})},re.editorManager.on("BeforeUnload",re._beforeUnload)),re.editorManager.add(re),function(){var je=R.ScriptLoader;if(Ce.language&&"en"!=Ce.language&&!Ce.language_url&&(Ce.language_url=re.editorManager.baseURL+"/langs/"+Ce.language+".js"),Ce.language_url&&je.add(Ce.language_url),Ce.theme&&"function"!=typeof Ce.theme&&"-"!=Ce.theme.charAt(0)&&!Ae.urls[Ce.theme]){var St=Ce.theme_url;St=St?re.documentBaseURI.toAbsolute(St):"themes/"+Ce.theme+"/theme"+nt+".js",Ae.load(Ce.theme,St)}_.isArray(Ce.plugins)&&(Ce.plugins=Ce.plugins.join(" ")),xe(Ce.external_plugins,function(ct,wt){ne.load(wt,ct),Ce.plugins+=" "+wt}),xe(Ce.plugins.split(/[ ,]/),function(ct){if((ct=ut(ct))&&!ne.urls[ct])if("-"==ct.charAt(0)){ct=ct.substr(1,ct.length);var wt=ne.dependencies(ct);xe(wt,function(yt){yt=ne.createUrl({prefix:"plugins/",resource:yt,suffix:"/plugin"+nt+".js"},yt),ne.load(yt.resource,yt)})}else ne.load(ct,{prefix:"plugins/",resource:ct,suffix:"/plugin"+nt+".js"})}),je.loadQueue(function(){re.removed||re.init()},re,function(ct){ve.pluginLoadError(re,ct[0]),re.removed||re.init()})}()}}else Te.bind(window,"ready",function Pe(){Te.unbind(window,"ready",Pe),re.render()})},init:function(){var He,nt,rt,je,St,ct,wt,yt,bn,Yn,Qn,oe=this,re=oe.settings,Ce=oe.getElement(),Bi=[];if(oe.rtl=re.rtl_ui||oe.editorManager.i18n.rtl,oe.editorManager.i18n.setCode(re.language),re.aria_label=re.aria_label||Te.getAttrib(Ce,"aria-label",oe.getLang("aria.rich_text_area")),oe.fire("ScriptsLoaded"),re.theme&&("function"!=typeof re.theme?(re.theme=re.theme.replace(/-/,""),ct=Ae.get(re.theme),oe.theme=new ct(oe,Ae.urls[re.theme]),oe.theme.init&&oe.theme.init(oe,Ae.urls[re.theme]||oe.documentBaseUrl.replace(/\/$/,""),oe.$)):oe.theme=re.theme),xe(re.plugins.replace(/\-/g,"").split(/[ ,]/),function Pe(Ti){var Rt,Xt,ki=ne.get(Ti);if(Rt=ne.urls[Ti]||oe.documentBaseUrl.replace(/\/$/,""),Ti=ut(Ti),ki&&-1===Le(Bi,Ti)){if(xe(ne.dependencies(Ti),function(tt){Pe(tt)}),oe.plugins[Ti])return;Xt=new ki(oe,Rt,oe.$),oe.plugins[Ti]=Xt,Xt.init&&(Xt.init(oe,Rt),Bi.push(Ti))}}),re.render_ui&&oe.theme&&(oe.orgDisplay=Ce.style.display,"function"!=typeof re.theme?(nt=re.height||Ce.style.height||Ce.offsetHeight,rt=re.min_height||100,(Yn=/^[0-9\.]+(|px)$/i).test(""+(He=re.width||Ce.style.width||Ce.offsetWidth))&&(He=Math.max(parseInt(He,10),100)),Yn.test(""+nt)&&(nt=Math.max(parseInt(nt,10),rt)),St=oe.theme.renderUI({targetNode:Ce,width:He,height:nt,deltaWidth:re.delta_width,deltaHeight:re.delta_height}),re.content_editable||(nt=(St.iframeHeight||nt)+("number"==typeof nt?St.deltaHeight||0:""))<rt&&(nt=rt)):((St=re.theme(oe,Ce)).editorContainer.nodeType&&(St.editorContainer.id=St.editorContainer.id||oe.id+"_parent"),St.iframeContainer.nodeType&&(St.iframeContainer.id=St.iframeContainer.id||oe.id+"_iframecontainer"),nt=St.iframeHeight||Ce.offsetHeight),oe.editorContainer=St.editorContainer),re.content_css&&xe(Ie(re.content_css),function(Ti){oe.contentCSS.push(oe.documentBaseURI.toAbsolute(Ti))}),re.content_style&&oe.contentStyles.push(re.content_style),re.content_editable)return Ce=je=St=null,oe.initContentBody();if(oe.iframeHTML=re.doctype+"<html><head>",re.document_base_url!=oe.documentBaseUrl&&(oe.iframeHTML+='<base href="'+oe.documentBaseURI.getURI()+'" />'),!x.caretAfter&&re.ie7_compat&&(oe.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),oe.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(Qn=0;Qn<oe.contentCSS.length;Qn++){var di=oe.contentCSS[Qn];oe.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+_._addCacheSuffix(di)+'" />',oe.loadedCSS[di]=!0}-1!=(yt=re.body_id||"tinymce").indexOf("=")&&(yt=(yt=oe.getParam("body_id","","hash"))[oe.id]||yt),-1!=(bn=re.body_class||"").indexOf("=")&&(bn=(bn=oe.getParam("body_class","","hash"))[oe.id]||""),re.content_security_policy&&(oe.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+re.content_security_policy+'" />'),oe.iframeHTML+='</head><body id="'+yt+'" class="mce-content-body '+bn+'" data-id="'+oe.id+'"><br></body></html>';var fi='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+oe.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&x.ie&&x.ie<12&&(wt=fi);var Hi=Te.create("iframe",{id:oe.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:oe.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:nt,display:"block"}});if(Hi.onload=function(){Hi.onload=null,oe.fire("load")},Te.setAttrib(Hi,"src",wt||'javascript:""'),oe.contentAreaContainer=St.iframeContainer,oe.iframeElement=Hi,je=Te.add(St.iframeContainer,Hi),jt)try{oe.getDoc()}catch(Ti){je.src=wt=fi}St.editorContainer&&(Te.get(St.editorContainer).style.display=oe.orgDisplay,oe.hidden=Te.isHidden(St.editorContainer)),oe.getElement().style.display="none",Te.setAttrib(oe.id,"aria-hidden",!0),wt||oe.initContentBody(),Ce=je=St=null},initContentBody:function(Pe){var nt,rt,oe=this,re=oe.settings,Ce=oe.getElement(),He=oe.getDoc();re.inline||(oe.getElement().style.visibility=oe.orgVisibility),Pe||re.content_editable||(He.open(),He.write(oe.iframeHTML),He.close()),re.content_editable&&(oe.on("remove",function(){var je=this.getBody();Te.removeClass(je,"mce-content-body"),Te.removeClass(je,"mce-edit-focus"),Te.setAttrib(je,"contentEditable",null)}),Te.addClass(Ce,"mce-content-body"),oe.contentDocument=He=re.content_document||document,oe.contentWindow=re.content_window||window,oe.bodyElement=Ce,re.content_document=re.content_window=null,re.root_name=Ce.nodeName.toLowerCase()),(nt=oe.getBody()).disabled=!0,oe.readonly=re.readonly,oe.readonly||(oe.inline&&"static"==Te.getStyle(nt,"position",!0)&&(nt.style.position="relative"),nt.contentEditable=oe.getParam("content_editable_state",!0)),nt.disabled=!1,oe.editorUpload=new ie(oe),oe.schema=new A(re),oe.dom=new ee(He,{keep_values:!0,url_converter:oe.convertURL,url_converter_scope:oe,hex_colors:re.force_hex_style_colors,class_filter:re.class_filter,update_styles:!0,root_element:oe.inline?oe.getBody():null,collect:re.content_editable,schema:oe.schema,onSetAttrib:function(je){oe.fire("SetAttrib",je)}}),oe.parser=new P(re,oe.schema),oe.parser.addAttributeFilter("src,href,style,tabindex",function(je,St){for(var wt,bn,Yn,ct=je.length,yt=oe.dom;ct--;)if(bn=(wt=je[ct]).attr(St),!wt.attributes.map[Yn="data-mce-"+St]){if(0===bn.indexOf("data:")||0===bn.indexOf("blob:"))continue;"style"===St?((bn=yt.serializeStyle(yt.parseStyle(bn),wt.name)).length||(bn=null),wt.attr(Yn,bn),wt.attr(St,bn)):"tabindex"===St?(wt.attr(Yn,bn),wt.attr(St,null)):wt.attr(Yn,oe.convertURL(bn,St,wt.name))}}),oe.parser.addNodeFilter("script",function(je){for(var ct,wt,St=je.length;St--;)0!==(wt=(ct=je[St]).attr("type")||"no/type").indexOf("mce-")&&ct.attr("type","mce-"+wt)}),oe.parser.addNodeFilter("#cdata",function(je){for(var ct,St=je.length;St--;)(ct=je[St]).type=8,ct.name="#comment",ct.value="[CDATA["+ct.value+"]]"}),oe.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(je){for(var ct,St=je.length,wt=oe.schema.getNonEmptyElements();St--;)(ct=je[St]).isEmpty(wt)&&0===ct.getAll("br").length&&(ct.append(new C("br",1)).shortEnded=!0)}),oe.serializer=new T(re,oe),oe.selection=new w(oe.dom,oe.getWin(),oe.serializer,oe),oe.formatter=new S(oe),oe.undoManager=new F(oe),oe.forceBlocks=new N(oe),oe.enterKey=new D(oe),oe._nodeChangeDispatcher=new B(oe),oe._selectionOverrides=new ye(oe),oe.fire("PreInit"),re.browser_spellcheck||re.gecko_spellcheck||(He.body.spellcheck=!1,Te.setAttrib(nt,"spellcheck","false")),oe.quirks=new M(oe),oe.fire("PostRender"),re.directionality&&(nt.dir=re.directionality),re.nowrap&&(nt.style.whiteSpace="nowrap"),re.protect&&oe.on("BeforeSetContent",function(je){xe(re.protect,function(St){je.content=je.content.replace(St,function(ct){return"\x3c!--mce:protected "+escape(ct)+"--\x3e"})})}),oe.on("SetContent",function(){oe.addVisual(oe.getBody())}),re.padd_empty_editor&&oe.on("PostProcess",function(je){je.content=je.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),oe.load({initial:!0,format:"html"}),oe.startContent=oe.getContent({format:"raw"}),oe.initialized=!0,oe.bindPendingEventDelegates(),oe.fire("init"),oe.focus(!0),oe.nodeChanged({initial:!0}),oe.execCallback("init_instance_callback",oe),oe.on("compositionstart compositionend",function(je){oe.composing="compositionstart"===je.type}),oe.contentStyles.length>0&&(rt="",xe(oe.contentStyles,function(je){rt+=je+"\r\n"}),oe.dom.addStyle(rt)),xe(oe.contentCSS,function(je){oe.loadedCSS[je]||(oe.dom.loadCSS(je),oe.loadedCSS[je]=!0)}),re.auto_focus&&H.setEditorTimeout(oe,function(){var je;(je=!0===re.auto_focus?oe:oe.editorManager.get(re.auto_focus)).destroyed||je.focus()},100),Ce=He=nt=null},focus:function(Pe){var nt,rt,ct,wt,re=this,Ce=re.selection,He=re.settings.content_editable,je=re.getDoc(),St=re.getBody();if(!Pe){if((nt=Ce.getRng()).item&&(rt=nt.item(0)),re.quirks.refreshContentEditable(),wt=Ce.getNode(),ct=re.dom.getParent(wt,function(yt){return"true"===re.dom.getContentEditable(yt)}),re.$.contains(St,ct))return ct.focus(),Ce.normalize(),void re.editorManager.setActive(re);if(He||(x.opera||re.getBody().focus(),re.getWin().focus()),Qt||He){if(St.setActive)try{St.setActive()}catch(wt){St.focus()}else St.focus();He&&Ce.normalize()}rt&&rt.ownerDocument==je&&((nt=je.body.createControlRange()).addElement(rt),nt.select())}re.editorManager.setActive(re)},execCallback:function(Pe){var Ce,oe=this,re=oe.settings[Pe];if(re)return oe.callbackLookup&&(Ce=oe.callbackLookup[Pe])&&(re=Ce.func,Ce=Ce.scope),"string"==typeof re&&(Ce=(Ce=re.replace(/\.\w+$/,""))?Dt(Ce):0,re=Dt(re),oe.callbackLookup=oe.callbackLookup||{},oe.callbackLookup[Pe]={func:re,scope:Ce}),re.apply(Ce||oe,Array.prototype.slice.call(arguments,1))},translate:function(Pe){var oe=this.settings.language||"en",re=this.editorManager.i18n;return Pe?(Pe=re.data[oe+"."+Pe]||Pe.replace(/\{\#([^\}]+)\}/g,function(Ce,He){return re.data[oe+"."+He]||"{#"+He+"}"}),this.editorManager.translate(Pe)):""},getLang:function(Pe,oe){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+Pe]||(oe!==Ln?oe:"{#"+Pe+"}")},getParam:function(Pe,oe,re){var He,Ce=Pe in this.settings?this.settings[Pe]:oe;return"hash"===re?(He={},"string"==typeof Ce?xe(Ce.indexOf("=")>0?Ce.split(/[;,](?![^=;,]*(?:[;,]|$))/):Ce.split(","),function(nt){nt=nt.split("="),He[ut(nt[0])]=ut(nt.length>1?nt[1]:nt)}):He=Ce,He):Ce},nodeChanged:function(Pe){this._nodeChangeDispatcher.nodeChanged(Pe)},addButton:function(Pe,oe){var re=this;oe.cmd&&(oe.onclick=function(){re.execCommand(oe.cmd)}),oe.text||oe.icon||(oe.icon=Pe),re.buttons=re.buttons||{},oe.tooltip=oe.tooltip||oe.title,re.buttons[Pe]=oe},addSidebar:function(Pe,oe){return fe.add(this,Pe,oe)},addMenuItem:function(Pe,oe){var re=this;oe.cmd&&(oe.onclick=function(){re.execCommand(oe.cmd)}),re.menuItems=re.menuItems||{},re.menuItems[Pe]=oe},addContextToolbar:function(Pe,oe){var Ce,re=this;re.contextToolbars=re.contextToolbars||[],"string"==typeof Pe&&(Ce=Pe,Pe=function(He){return re.dom.is(He,Ce)}),re.contextToolbars.push({id:pe.uuid("mcet"),predicate:Pe,items:oe})},addCommand:function(Pe,oe,re){this.editorCommands.addCommand(Pe,oe,re)},addQueryStateHandler:function(Pe,oe,re){this.editorCommands.addQueryStateHandler(Pe,oe,re)},addQueryValueHandler:function(Pe,oe,re){this.editorCommands.addQueryValueHandler(Pe,oe,re)},addShortcut:function(Pe,oe,re,Ce){this.shortcuts.add(Pe,oe,re,Ce)},execCommand:function(Pe,oe,re,Ce){return this.editorCommands.execCommand(Pe,oe,re,Ce)},queryCommandState:function(Pe){return this.editorCommands.queryCommandState(Pe)},queryCommandValue:function(Pe){return this.editorCommands.queryCommandValue(Pe)},queryCommandSupported:function(Pe){return this.editorCommands.queryCommandSupported(Pe)},show:function(){var Pe=this;Pe.hidden&&(Pe.hidden=!1,Pe.inline?Pe.getBody().contentEditable=!0:(Te.show(Pe.getContainer()),Te.hide(Pe.id)),Pe.load(),Pe.fire("show"))},hide:function(){var Pe=this,oe=Pe.getDoc();Pe.hidden||(jt&&oe&&!Pe.inline&&oe.execCommand("SelectAll"),Pe.save(),Pe.inline?(Pe.getBody().contentEditable=!1,Pe==Pe.editorManager.focusedEditor&&(Pe.editorManager.focusedEditor=null)):(Te.hide(Pe.getContainer()),Te.setStyle(Pe.id,"display",Pe.orgDisplay)),Pe.hidden=!0,Pe.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(Pe,oe){this.fire("ProgressState",{state:Pe,time:oe})},load:function(Pe){var Ce,re=this.getElement();if(re)return(Pe=Pe||{}).load=!0,Ce=this.setContent(re.value!==Ln?re.value:re.innerHTML,Pe),Pe.element=re,Pe.no_events||this.fire("LoadContent",Pe),Pe.element=re=null,Ce},save:function(Pe){var Ce,He,oe=this,re=oe.getElement();if(re&&oe.initialized)return(Pe=Pe||{}).save=!0,Pe.element=re,Pe.content=oe.getContent(Pe),Pe.no_events||oe.fire("SaveContent",Pe),"raw"==Pe.format&&oe.fire("RawSaveContent",Pe),Ce=Pe.content,/TEXTAREA|INPUT/i.test(re.nodeName)?re.value=Ce:(oe.inline||(re.innerHTML=Ce),(He=Te.getParent(oe.id,"form"))&&xe(He.elements,function(nt){if(nt.name==oe.id)return nt.value=Ce,!1})),Pe.element=re=null,!1!==Pe.set_dirty&&oe.setDirty(!1),Ce},setContent:function(Pe,oe){var He,nt,re=this,Ce=re.getBody();return(oe=oe||{}).format=oe.format||"html",oe.set=!0,oe.content=Pe,oe.no_events||re.fire("BeforeSetContent",oe),0===(Pe=oe.content).length||/^\s+$/.test(Pe)?(nt=jt&&jt<11?"":'<br data-mce-bogus="1">',"TABLE"==Ce.nodeName?Pe="<tr><td>"+nt+"</td></tr>":/^(UL|OL)$/.test(Ce.nodeName)&&(Pe="<li>"+nt+"</li>"),(He=re.settings.forced_root_block)&&re.schema.isValidChild(Ce.nodeName.toLowerCase(),He.toLowerCase())?Pe=re.dom.createHTML(He,re.settings.forced_root_block_attrs,Pe=nt):jt||Pe||(Pe='<br data-mce-bogus="1">'),re.dom.setHTML(Ce,Pe),re.fire("SetContent",oe)):("raw"!==oe.format&&(Pe=new b({validate:re.validate},re.schema).serialize(re.parser.parse(Pe,{isRootContent:!0}))),oe.content=ut(Pe),re.dom.setHTML(Ce,oe.content),oe.no_events||re.fire("SetContent",oe)),oe.content},getContent:function(Pe){var re,oe=this,Ce=oe.getBody();return(Pe=Pe||{}).format=Pe.format||"html",Pe.get=!0,Pe.getInner=!0,Pe.no_events||oe.fire("BeforeGetContent",Pe),re="raw"==Pe.format?_.trim(oe.serializer.getTrimmedContent()):"text"==Pe.format?Ce.innerText||Ce.textContent:oe.serializer.serialize(Ce,Pe),Pe.content="text"!=Pe.format?ut(re):re,Pe.no_events||oe.fire("GetContent",Pe),Pe.content},insertContent:function(Pe,oe){oe&&(Pe=ce({content:Pe},oe)),this.execCommand("mceInsertContent",!1,Pe)},isDirty:function(){return!this.isNotDirty},setDirty:function(Pe){var oe=!this.isNotDirty;this.isNotDirty=!Pe,Pe&&Pe!=oe&&this.fire("dirty")},setMode:function(Pe){U.setMode(this,Pe)},getContainer:function(){var Pe=this;return Pe.container||(Pe.container=Te.get(Pe.editorContainer||Pe.id+"_parent")),Pe.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=Te.get(this.id)),this.targetElm},getWin:function(){var oe;return this.contentWindow||(oe=this.iframeElement)&&(this.contentWindow=oe.contentWindow),this.contentWindow},getDoc:function(){var oe;return this.contentDocument||(oe=this.getWin())&&(this.contentDocument=oe.document),this.contentDocument},getBody:function(){var Pe=this.getDoc();return this.bodyElement||(Pe?Pe.body:null)},convertURL:function(Pe,oe,re){var He=this.settings;return He.urlconverter_callback?this.execCallback("urlconverter_callback",Pe,re,!0,oe):!He.convert_urls||re&&"LINK"==re.nodeName||0===Pe.indexOf("file:")||0===Pe.length?Pe:He.relative_urls?this.documentBaseURI.toRelative(Pe):Pe=this.documentBaseURI.toAbsolute(Pe,He.remove_script_host)},addVisual:function(Pe){var He,oe=this,re=oe.settings,Ce=oe.dom;Pe=Pe||oe.getBody(),oe.hasVisual===Ln&&(oe.hasVisual=re.visual),xe(Ce.select("table,a",Pe),function(nt){var rt;switch(nt.nodeName){case"TABLE":return He=re.visual_table_class||"mce-item-table",void((rt=Ce.getAttrib(nt,"border"))&&"0"!=rt||!oe.hasVisual?Ce.removeClass(nt,He):Ce.addClass(nt,He));case"A":return void(Ce.getAttrib(nt,"href",!1)||(rt=Ce.getAttrib(nt,"name")||nt.id,He=re.visual_anchor_class||"mce-item-anchor",rt&&oe.hasVisual?Ce.addClass(nt,He):Ce.removeClass(nt,He)))}}),oe.fire("VisualAid",{element:Pe,hasVisual:oe.hasVisual})},remove:function(){var Pe=this;Pe.removed||(Pe.save(),Pe.removed=1,Pe.unbindAllNativeEvents(),Pe.hasHiddenInput&&Te.remove(Pe.getElement().nextSibling),Pe.inline||(jt&&jt<10&&Pe.getDoc().execCommand("SelectAll",!1,null),Te.setStyle(Pe.id,"display",Pe.orgDisplay),Pe.getBody().onload=null),Pe.fire("remove"),Pe.editorManager.remove(Pe),Te.remove(Pe.getContainer()),Pe._selectionOverrides.destroy(),Pe.editorUpload.destroy(),Pe.destroy())},destroy:function(Pe){var re,oe=this;if(!oe.destroyed){if(!Pe&&!oe.removed)return void oe.remove();Pe||(oe.editorManager.off("beforeunload",oe._beforeUnload),oe.theme&&oe.theme.destroy&&oe.theme.destroy(),oe.selection.destroy(),oe.dom.destroy()),(re=oe.formElement)&&(re._mceOldSubmit&&(re.submit=re._mceOldSubmit,re._mceOldSubmit=null),Te.unbind(re,"submit reset",oe.formEventDelegate)),oe.contentAreaContainer=oe.formElement=oe.container=oe.editorContainer=null,oe.bodyElement=oe.contentDocument=oe.contentWindow=null,oe.iframeElement=oe.targetElm=null,oe.selection&&(oe.selection=oe.selection.win=oe.selection.dom=oe.selection.dom.doc=null),oe.destroyed=1}},uploadImages:function(Pe){return this.editorUpload.uploadImages(Pe)},_scanForImages:function(){return this.editorUpload.scanForImages()}},ce(ge.prototype,X),ge}),Ye(So,[ft],function(ee){var Y={},z="en";return{setCode:function(B){B&&(z=B,this.rtl=!!this.data[B]&&"rtl"===this.data[B]._dir)},getCode:function(){return z},rtl:!1,add:function(B,C){var T=Y[B];for(var b in T||(Y[B]=T={}),C)T[b]=C[b];this.setCode(B)},translate:function(B){function C(F){return ee.is(F,"function")?Object.prototype.toString.call(F):T(F)?"":""+F}function T(F){return""===F||null===F||ee.is(F,"undefined")}function b(F){return F=C(F),ee.hasOwn(w,F)?C(w[F]):F}var w=Y[z]||{};if(T(B))return"";if(ee.is(B,"object")&&ee.hasOwn(B,"raw"))return C(B.raw);if(ee.is(B,"array")){var S=B.slice(1);B=b(B[0]).replace(/\{([0-9]+)\}/g,function(F,D){return ee.hasOwn(S,D)?C(S[D]):F})}return b(B).replace(/{context:\w+}$/,"")},data:Y}}),Ye(Ho,[$e,Ke,Mt],function(ee,Y,z){function B(F){function D(){try{return document.activeElement}catch(W){return document.body}}F.on("AddEditor",function(W){var O=W.editor;O.on("init",function(){(O.inline||z.ie)&&("onbeforedeactivate"in document&&z.ie<9?O.dom.bind(O.getBody(),"beforedeactivate",function($){if($.target==O.getBody())try{O.lastRng=O.selection.getRng()}catch(A){}}):O.on("nodechange mouseup keyup",function($){var A=D();"nodechange"==$.type&&$.selectionChange||(A&&A.id==O.id+"_ifr"&&(A=O.getBody()),O.dom.isChildOf(A,O.getBody())&&(O.lastRng=O.selection.getRng()))}),z.webkit&&!C&&(C=function(){var $=F.activeEditor;if($&&$.selection){var A=$.selection.getRng();A&&!A.collapsed&&(O.lastRng=A)}},w.bind(document,"selectionchange",C)))}),O.on("setcontent",function(){O.lastRng=null}),O.on("mousedown",function(){O.selection.lastFocusBookmark=null}),O.on("focusin",function(){var A,$=F.focusedEditor;O.selection.lastFocusBookmark&&(A=function(W,O){var $;return O.startContainer?(($=W.getDoc().createRange()).setStart(O.startContainer,O.startOffset),$.setEnd(O.endContainer,O.endOffset)):$=O,$}(O,O.selection.lastFocusBookmark),O.selection.lastFocusBookmark=null,O.selection.setRng(A)),$!=O&&($&&$.fire("blur",{focusedEditor:O}),F.setActive(O),F.focusedEditor=O,O.fire("focus",{blurredEditor:$}),O.focus(!0)),O.lastRng=null}),O.on("focusout",function(){Y.setEditorTimeout(O,function(){var $=F.focusedEditor;S(O,D())||$!=O||(O.fire("blur",{focusedEditor:null}),F.focusedEditor=null,O.selection&&(O.selection.lastFocusBookmark=null))})}),T||(T=function($){var P,A=F.activeEditor;P=$.target,A&&P.ownerDocument==document&&(A.selection&&P!=A.getBody()&&(A.selection.lastFocusBookmark=function(W,O){return O&&O.startContainer?W.isChildOf(O.startContainer,W.getRoot())&&W.isChildOf(O.endContainer,W.getRoot())?{startContainer:O.startContainer,startOffset:O.startOffset,endContainer:O.endContainer,endOffset:O.endOffset}:void 0:O}(A.dom,A.lastRng)),P==document.body||S(A,P)||F.focusedEditor!=A||(A.fire("blur",{focusedEditor:null}),F.focusedEditor=null))},w.bind(document,"focusin",T)),O.inline&&!b&&(b=function($){var A=F.activeEditor,P=A.dom;if(A.inline&&P&&!P.isChildOf($.target,A.getBody())){var M=A.selection.getRng();M.collapsed||(A.lastRng=M)}},w.bind(document,"mouseup",b))}),F.on("RemoveEditor",function(W){F.focusedEditor==W.editor&&(F.focusedEditor=null),F.activeEditor||(w.unbind(document,"selectionchange",C),w.unbind(document,"focusin",T),w.unbind(document,"mouseup",b),C=T=b=null)})}var C,T,b,w=ee.DOM,S=function(F,D){var N=F?F.settings.custom_ui_selector:"";return null!==w.getParent(D,function(V){return B.isEditorUIElement(V)||!!N&&F.dom.is(V,N)})};return B.isEditorUIElement=function(F){return-1!==F.className.toString().indexOf("mce-")},B._isUIElement=S,B}),Ye(ma,[Vo,ot,$e,Nt,Mt,ft,we,fn,So,Ho,Xe],function(ee,Y,z,B,C,T,b,w,S,F,D){function N(H){$(x.editors,function(X){X.fire("scroll"===H.type?"ScrollWindow":"ResizeWindow",H)})}function E(H,X){X!==_&&(X?Y(window).on("resize scroll",N):Y(window).off("resize scroll",N),_=X)}function V(H){var U,X=x.editors;delete X[H.id];for(var J=0;J<X.length;J++)if(X[J]==H){X.splice(J,1),U=!0;break}return x.activeEditor==H&&(x.activeEditor=X[0]),x.focusedEditor==H&&(x.focusedEditor=null),U}var M,x,W=z.DOM,O=T.explode,$=T.each,A=T.extend,P=0,_=!1;return x={$:Y,majorVersion:"4",minorVersion:"5.7",releaseDate:"2017-04-25",editors:[],i18n:S,activeEditor:null,setup:function(){var X,U,ie,ye,H=this,J="";if(U=B.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(U)&&(U=U.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(U)||(U+="/")),ie=window.tinymce||window.tinyMCEPreInit)X=ie.base||ie.baseURL,J=ie.suffix;else{for(var pe=document.getElementsByTagName("script"),fe=0;fe<pe.length;fe++){var ve=(ye=pe[fe].src).substring(ye.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(ye)){-1!=ve.indexOf(".min")&&(J=".min"),X=ye.substring(0,ye.lastIndexOf("/"));break}}!X&&document.currentScript&&(-1!=(ye=document.currentScript.src).indexOf(".min")&&(J=".min"),X=ye.substring(0,ye.lastIndexOf("/")))}H.baseURL=new B(U).toAbsolute(X),H.documentBaseURL=U,H.baseURI=new B(H.baseURL),H.suffix=J,H.focusManager=new F(H)},overrideDefaults:function(H){var X;(X=H.base_url)&&(this.baseURL=new B(this.documentBaseURL).toAbsolute(X.replace(/\/+$/,"")),this.baseURI=new B(this.baseURL)),H.suffix&&(this.suffix=H.suffix),this.defaultSettings=H;var J=H.plugin_base_urls;for(var ie in J)D.PluginManager.urls[ie]=J[ie]},init:function(H){function J(ne){var ce=ne.id;return ce||(ce=(ce=ne.name)&&!W.get(ce)?ne.name:W.uniqueId(),ne.setAttribute("id",ce)),ce}function ye(ne,ce){return ce.constructor===RegExp?ce.test(ne.className):W.hasClass(ne,ce)}var ge,Te,ve=this;Te=T.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var Ae=function(ne){ge=ne};return ve.settings=H,W.bind(window,"ready",function fe(){function ne(Le,ut,Dt){var Vt=new ee(Le,ut,ve);xe.push(Vt),Vt.on("init",function(){++ce===Ie.length&&Ae(xe)}),Vt.targetElm=Vt.targetElm||Dt,Vt.render()}var Ie,ce=0,xe=[];return W.unbind(window,"ready",fe),function(ne){var ce=H[ne];ce&&ce.apply(ve,Array.prototype.slice.call(arguments,2))}("onpageload"),Ie=Y.unique(function(ne){var ce,xe=[];if(ne.types)return $(ne.types,function(Ie){xe=xe.concat(W.select(Ie.selector))}),xe;if(ne.selector)return W.select(ne.selector);if(ne.target)return[ne.target];switch(ne.mode){case"exact":(ce=ne.elements||"").length>0&&$(O(ce),function(Ie){var Le;(Le=W.get(Ie))?xe.push(Le):$(document.forms,function(ut){$(ut.elements,function(Dt){Dt.name===Ie&&(Ie="mce_editor_"+P++,W.setAttrib(Dt,"id",Ie),xe.push(Dt))})})});break;case"textareas":case"specific_textareas":$(W.select("textarea"),function(Ie){ne.editor_deselector&&ye(Ie,ne.editor_deselector)||ne.editor_selector&&!ye(Ie,ne.editor_selector)||xe.push(Ie)})}return xe}(H)),H.types?void $(H.types,function(Le){T.each(Ie,function(ut){return!W.is(ut,Le.selector)||(ne(J(ut),A({},H,Le),ut),!1)})}):(T.each(Ie,function(Le){!function(H){H&&H.initialized&&!(H.getContainer()||H.getBody()).parentNode&&(V(H),H.unbindAllNativeEvents(),H.destroy(!0),H.removed=!0,H=null)}(ve.get(Le.id))}),Ie=T.grep(Ie,function(Le){return!ve.get(Le.id)}),void $(Ie,function(Le){!function(ne,ce){return ne.inline&&ce.tagName.toLowerCase()in Te}(H,Le)?ne(J(Le),H,Le):function(ne,ce){window.console&&!window.test&&window.console.log("Could not initialize inline editor on invalid inline target element",ce)}(0,Le)}))}),new b(function(ne){ge?ne(ge):Ae=function(ce){ne(ce)}})},get:function(H){return arguments.length?H in this.editors?this.editors[H]:null:this.editors},add:function(H){var X=this,U=X.editors;return U[H.id]=H,U.push(H),E(0,!0),X.activeEditor=H,X.fire("AddEditor",{editor:H}),M||(M=function(){X.fire("BeforeUnload")},W.bind(window,"beforeunload",M)),H},createEditor:function(H,X){return this.add(new ee(H,X,this))},remove:function(H){var U,ie,X=this,J=X.editors;if(H)return"string"==typeof H?void $(W.select(H=H.selector||H),function(ye){(ie=J[ye.id])&&X.remove(ie)}):J[(ie=H).id]?(V(ie)&&X.fire("RemoveEditor",{editor:ie}),J.length||W.unbind(window,"beforeunload",M),ie.remove(),E(0,J.length>0),ie):null;for(U=J.length-1;U>=0;U--)X.remove(J[U])},execCommand:function(H,X,U){var J=this,ie=J.get(U);switch(H){case"mceAddEditor":return J.get(U)||new ee(U,J.settings,J).render(),!0;case"mceRemoveEditor":return ie&&ie.remove(),!0;case"mceToggleEditor":return ie?(ie.isHidden()?ie.show():ie.hide(),!0):(J.execCommand("mceAddEditor",0,U),!0)}return!!J.activeEditor&&J.activeEditor.execCommand(H,X,U)},triggerSave:function(){$(this.editors,function(H){H.save()})},addI18n:function(H,X){S.add(H,X)},translate:function(H){return S.translate(H)},setActive:function(H){var X=this.activeEditor;this.activeEditor!=H&&(X&&X.fire("deactivate",{relatedTarget:H}),H.fire("activate",{relatedTarget:X})),this.activeEditor=H}},A(x,w),x.setup(),window.tinymce=window.tinyMCE=x,x}),Ye("tinymce/LegacyInput",[ma,ft],function(ee,Y){var z=Y.each,B=Y.explode;ee.on("AddEditor",function(C){var T=C.editor;T.on("preInit",function(){function b(E,V){z(V,function(R,W){R&&D.setStyle(E,W,R)}),D.rename(E,"span")}var S,F,D,N=T.settings;N.inline_styles&&(F=B(N.font_size_legacy_values),S={font:function(E,V){b(V,{backgroundColor:V.style.backgroundColor,color:V.color,fontFamily:V.face,fontSize:F[parseInt(V.size,10)-1]})},u:function(E,V){"html4"===T.settings.schema&&b(V,{textDecoration:"underline"})},strike:function(E,V){b(V,{textDecoration:"line-through"})}},T.on("PreProcess SetContent",function(E){D=T.dom,N.convert_fonts_to_spans&&z(D.select("font,u,strike",E.node),function(V){S[V.nodeName.toLowerCase()](D,V)})}))})})}),Ye(ms,[fn,ft],function(ee,Y){var z={send:function(B){function C(){!B.async||4==T.readyState||b++>1e4?(B.success&&b<1e4&&200==T.status?B.success.call(B.success_scope,""+T.responseText,T,B):B.error&&B.error.call(B.error_scope,b>1e4?"TIMED_OUT":"GENERAL",T,B),T=null):setTimeout(C,10)}var T,b=0;if(B.scope=B.scope||this,B.success_scope=B.success_scope||B.scope,B.error_scope=B.error_scope||B.scope,B.async=!1!==B.async,B.data=B.data||"",z.fire("beforeInitialize",{settings:B}),T=new XMLHttpRequest){if(T.overrideMimeType&&T.overrideMimeType(B.content_type),T.open(B.type||(B.data?"POST":"GET"),B.url,B.async),B.crossDomain&&(T.withCredentials=!0),B.content_type&&T.setRequestHeader("Content-Type",B.content_type),B.requestheaders&&Y.each(B.requestheaders,function(w){T.setRequestHeader(w.key,w.value)}),T.setRequestHeader("X-Requested-With","XMLHttpRequest"),(T=z.fire("beforeSend",{xhr:T,settings:B}).xhr).send(B.data),!B.async)return C();setTimeout(C,10)}}};return Y.extend(z,ee),z}),Ye(Mo,[],function(){return{serialize:function ee(Y,z){var B,C,T,b;if(z=z||'"',null===Y)return"null";if("string"==(T=typeof Y))return C="\bb\tt\nn\ff\rr\"\"''\\\\",z+Y.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(w,S){return'"'===z&&"'"===w?w:(B=C.indexOf(S))+1?"\\"+C.charAt(B+1):(w=S.charCodeAt().toString(16),"\\u"+"0000".substring(w.length)+w)})+z;if("object"==T){if(Y.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(Y)){for(B=0,C="[";B<Y.length;B++)C+=(B>0?",":"")+ee(Y[B],z);return C+"]"}for(b in C="{",Y)Y.hasOwnProperty(b)&&(C+="function"!=typeof Y[b]?(C.length>1?","+z:z)+b+z+":"+ee(Y[b],z):"");return C+"}"}return""+Y},parse:function(Y){try{return window[String.fromCharCode(101)+"val"]("("+Y+")")}catch(z){}}}}),Ye(vs,[Mo,ms,ft],function(ee,Y,z){function B(T){this.settings=C({},T),this.count=0}var C=z.extend;return B.sendRPC=function(T){return(new B).send(T)},B.prototype={send:function(T){var b=T.error,w=T.success;(T=C(this.settings,T)).success=function(S,F){void 0===(S=ee.parse(S))&&(S={error:"JSON Parse error."}),S.error?b.call(T.error_scope||T.scope,S.error,F):w.call(T.success_scope||T.scope,S.result)},T.error=function(S,F){b&&b.call(T.error_scope||T.scope,S,F)},T.data=ee.serialize({id:T.id||"c"+this.count++,method:T.method,params:T.params}),T.content_type="application/json",Y.send(T)}},B}),Ye(To,[$e],function(ee){return{callbacks:{},count:0,send:function(Y){var z=this,B=ee.DOM,C=Y.count!==Ln?Y.count:z.count,T="tinymce_jsonp_"+C;z.callbacks[C]=function(b){B.remove(T),delete z.callbacks[C],Y.callback(b)},B.add(B.doc.body,"script",{id:T,src:Y.url,type:"text/javascript"}),z.count++}}}),Ye(Ji,[],function(){function ee(){for(var F in b=[],T)b.push(F);B.length=b.length}function z(){var F,D="";if(S){for(var N in T)F=T[N],D+=(D?",":"")+N.length.toString(32)+","+N+","+F.length.toString(32)+","+F;C.setAttribute(w,D);try{C.save(w)}catch(E){}ee()}}var B,C,T,b,w,S;try{if(window.localStorage)return localStorage}catch(F){}return w="tinymce",C=document.documentElement,(S=!!C.addBehavior)&&C.addBehavior("#default#userData"),B={key:function(F){return b[F]},getItem:function(F){return F in T?T[F]:null},setItem:function(F,D){T[F]=""+D,z()},removeItem:function(F){delete T[F],z()},clear:function(){T={},z()}},function(){function F(W){var O,$;return-1===($=W!==Ln?V+W:N.indexOf(",",V))||$>N.length?null:(O=N.substring(V,$),V=$+1,O)}var D,N,E,V=0;if(T={},S){C.load(w),N=C.getAttribute(w)||"";do{var R=F();if(null===R)break;if(null!==(D=F(parseInt(R,32)||0))){if(null===(R=F()))break;E=F(parseInt(R,32)||0),D&&(T[D]=E)}}while(null!==D);ee()}}(),B}),Ye(qr,[$e,de,xt,Xe,ft,Mt],function(ee,Y,z,B,C,T){var b=window.tinymce;return b.DOM=ee.DOM,b.ScriptLoader=z.ScriptLoader,b.PluginManager=B.PluginManager,b.ThemeManager=B.ThemeManager,b.dom=b.dom||{},b.dom.Event=Y.Event,C.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(w){b[w]=C[w]}),C.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(w){b[w]=T[w.substr(2).toLowerCase()]}),{}}),Ye(lr,[Yt,ft],function(ee,Y){return ee.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(z){this.settings=Y.extend({},this.Defaults,z)},preRender:function(z){z.bodyClasses.add(this.settings.containerClass)},applyClasses:function(z){var T,b,w,S,C=this.settings;T=C.firstControlClass,b=C.lastControlClass,z.each(function(F){F.classes.remove(T).remove(b).add(C.controlClass),F.visible()&&(w||(w=F),S=F)}),w&&w.classes.add(T),S&&S.classes.add(b)},renderHtml:function(z){var C="";return this.applyClasses(z.items()),z.items().each(function(T){C+=T.renderHtml()}),C},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),Ye(ko,[lr],function(ee){return ee.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(Y){Y.items().filter(":visible").each(function(z){var B=z.settings;z.layoutRect({x:B.x,y:B.y,w:B.w,h:B.h}),z.recalc&&z.recalc()})},renderHtml:function(Y){return'<div id="'+Y._id+'-absend" class="'+Y.classPrefix+'abs-end"></div>'+this._super(Y)}})}),Ye(io,[rn],function(ee){return ee.extend({Defaults:{classes:"widget btn",role:"button"},init:function(Y){var B,z=this;z._super(Y),Y=z.settings,B=z.settings.size,z.on("click mousedown",function(C){C.preventDefault()}),z.on("touchstart",function(C){z.fire("click",C),C.preventDefault()}),Y.subtype&&z.classes.add(Y.subtype),B&&z.classes.add("btn-"+B),Y.icon&&z.icon(Y.icon)},icon:function(Y){return arguments.length?(this.state.set("icon",Y),this):this.state.get("icon")},repaint:function(){var z,Y=this.getEl().firstChild;Y&&((z=Y.style).width=z.height="100%"),this._super()},renderHtml:function(){var T,Y=this,z=Y._id,B=Y.classPrefix,C=Y.state.get("icon"),b=Y.state.get("text"),w="";return(T=Y.settings.image)?(C="none","string"!=typeof T&&(T=window.getSelection?T[0]:T[1]),T=" style=\"background-image: url('"+T+"')\""):T="",b&&(Y.classes.add("btn-has-text"),w='<span class="'+B+'txt">'+Y.encode(b)+"</span>"),'<div id="'+z+'" class="'+Y.classes+'" tabindex="-1" aria-labelledby="'+z+'"><button role="presentation" type="button" tabindex="-1">'+((C=C?B+"ico "+B+"i-"+C:"")?'<i class="'+C+'"'+T+"></i>":"")+w+"</button></div>"},bindStates:function(){function Y(T){var b=B("span."+C,z.getEl());T?(b[0]||(B("button:first",z.getEl()).append('<span class="'+C+'"></span>'),b=B("span."+C,z.getEl())),b.html(z.encode(T))):b.remove(),z.classes.toggle("btn-has-text",!!T)}var z=this,B=z.$,C=z.classPrefix+"txt";return z.state.on("change:text",function(T){Y(T.value)}),z.state.on("change:icon",function(T){var b=T.value,w=z.classPrefix;z.settings.icon=b,b=b?w+"ico "+w+"i-"+z.settings.icon:"";var S=z.getEl().firstChild,F=S.getElementsByTagName("i")[0];b?(F&&F==S.firstChild||(F=document.createElement("i"),S.insertBefore(F,S.firstChild)),F.className=b):F&&S.removeChild(F),Y(z.state.get("text"))}),z._super()}})}),Ye(Wo,[nr],function(ee){return ee.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var Y=this,z=Y._layout;return Y.classes.add("btn-group"),Y.preRender(),z.preRender(Y),'<div id="'+Y._id+'" class="'+Y.classes+'"><div id="'+Y._id+'-body">'+(Y.settings.html||"")+z.renderHtml(Y)+"</div></div>"}})}),Ye(Go,[rn],function(ee){return ee.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(Y){var z=this;z._super(Y),z.on("click mousedown",function(B){B.preventDefault()}),z.on("click",function(B){B.preventDefault(),z.disabled()||z.checked(!z.checked())}),z.checked(z.settings.checked)},checked:function(Y){return arguments.length?(this.state.set("checked",Y),this):this.state.get("checked")},value:function(Y){return arguments.length?this.checked(Y):this.checked()},renderHtml:function(){var Y=this,z=Y._id,B=Y.classPrefix;return'<div id="'+z+'" class="'+Y.classes+'" unselectable="on" aria-labelledby="'+z+'-al" tabindex="-1"><i class="'+B+"ico "+B+'i-checkbox"></i><span id="'+z+'-al" class="'+B+'label">'+Y.encode(Y.state.get("text"))+"</span></div>"},bindStates:function(){function Y(B){z.classes.toggle("checked",B),z.aria("checked",B)}var z=this;return z.state.on("change:text",function(B){z.getEl("al").firstChild.data=z.translate(B.value)}),z.state.on("change:checked change:value",function(B){z.fire("change"),Y(B.value)}),z.state.on("change:icon",function(B){var C=B.value,T=z.classPrefix;if(void 0===C)return z.settings.icon;z.settings.icon=C,C=C?T+"ico "+T+"i-"+z.settings.icon:"";var b=z.getEl().firstChild,w=b.getElementsByTagName("i")[0];C?(w&&w==b.firstChild||(w=document.createElement("i"),b.insertBefore(w,b.firstChild)),w.className=C):w&&b.removeChild(w)}),z.state.get("checked")&&Y(!0),z._super()}})}),Ye(va,[rn,_i,Zn,ot,Zt,ft],function(ee,Y,z,B,C,T){return ee.extend({init:function(b){var w=this;w._super(b),b=w.settings,w.classes.add("combobox"),w.subinput=!0,w.ariaTarget="inp",b.menu=b.menu||b.values,b.menu&&(b.icon="caret"),w.on("click",function(S){var F=S.target,D=w.getEl();if(B.contains(D,F)||F==D)for(;F&&F!=D;)F.id&&-1!=F.id.indexOf("-open")&&(w.fire("action"),b.menu&&(w.showMenu(),S.aria&&w.menu.items()[0].focus())),F=F.parentNode}),w.on("keydown",function(S){var F;13==S.keyCode&&"INPUT"===S.target.nodeName&&(S.preventDefault(),w.parents().reverse().each(function(D){if(D.toJSON)return F=D,!1}),w.fire("submit",{data:F.toJSON()}))}),w.on("keyup",function(S){if("INPUT"==S.target.nodeName){var F=w.state.get("value"),D=S.target.value;D!==F&&(w.state.set("value",D),w.fire("autocomplete",S))}}),w.on("mouseover",function(S){var F=w.tooltip().moveTo(-65535);if(w.statusLevel()&&-1!==S.target.className.indexOf(w.classPrefix+"status")){var D=w.statusMessage()||"Ok",N=F.text(D).show().testMoveRel(S.target,["bc-tc","bc-tl","bc-tr"]);F.classes.toggle("tooltip-n","bc-tc"==N),F.classes.toggle("tooltip-nw","bc-tl"==N),F.classes.toggle("tooltip-ne","bc-tr"==N),F.moveRel(S.target,N)}})},statusLevel:function(b){return arguments.length>0&&this.state.set("statusLevel",b),this.state.get("statusLevel")},statusMessage:function(b){return arguments.length>0&&this.state.set("statusMessage",b),this.state.get("statusMessage")},showMenu:function(){var S,b=this;b.menu||((S=b.settings.menu||[]).length?S={type:"menu",items:S}:S.type=S.type||"menu",b.menu=Y.create(S).parent(b).renderTo(b.getContainerElm()),b.fire("createmenu"),b.menu.reflow(),b.menu.on("cancel",function(F){F.control===b.menu&&b.focus()}),b.menu.on("show hide",function(F){F.control.items().each(function(D){D.active(D.value()==b.value())})}).fire("show"),b.menu.on("select",function(F){b.value(F.control.value())}),b.on("focusin",function(F){"INPUT"==F.target.tagName.toUpperCase()&&b.menu.hide()}),b.aria("expanded",!0)),b.menu.show(),b.menu.layoutRect({w:b.layoutRect().w}),b.menu.moveRel(b.getEl(),b.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var D,N,b=this,w=b.getEl(),S=b.getEl("open"),F=b.layoutRect(),E=0,V=w.firstChild;b.statusLevel()&&"none"!==b.statusLevel()&&(E=parseInt(z.getRuntimeStyle(V,"padding-right"),10)-parseInt(z.getRuntimeStyle(V,"padding-left"),10)),D=S?F.w-z.getSize(S).width-10:F.w-10;var R=document;return R.all&&(!R.documentMode||R.documentMode<=8)&&(N=b.layoutRect().h-2+"px"),B(V).css({width:D-E,lineHeight:N}),b._super(),b},postRender:function(){var b=this;return B(this.getEl("inp")).on("change",function(w){b.state.set("value",w.target.value),b.fire("change",w)}),b._super()},renderHtml:function(){var N,E,W,b=this,w=b._id,S=b.settings,F=b.classPrefix,D=b.state.get("value")||"",V="",R="";return"spellcheck"in S&&(R+=' spellcheck="'+S.spellcheck+'"'),S.maxLength&&(R+=' maxlength="'+S.maxLength+'"'),S.size&&(R+=' size="'+S.size+'"'),S.subtype&&(R+=' type="'+S.subtype+'"'),W='<i id="'+w+'-status" class="mce-status mce-ico" style="display: none"></i>',b.disabled()&&(R+=' disabled="disabled"'),(N=S.icon)&&"caret"!=N&&(N=F+"ico "+F+"i-"+S.icon),E=b.state.get("text"),(N||E)&&(V='<div id="'+w+'-open" class="'+F+"btn "+F+'open" tabIndex="-1" role="button"><button id="'+w+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=N?'<i class="'+N+'"></i>':'<i class="'+F+'caret"></i>')+(E?(N?" ":"")+E:"")+"</button></div>",b.classes.add("has-open")),'<div id="'+w+'" class="'+b.classes+'"><input id="'+w+'-inp" class="'+F+'textbox" value="'+b.encode(D,!1)+'" hidefocus="1"'+R+' placeholder="'+b.encode(S.placeholder)+'" />'+W+V+"</div>"},value:function(b){return arguments.length?(this.state.set("value",b),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(b,w){var S=this;if(0!==b.length){var F=function(N,E){return function(){S.fire("selectitem",{title:E,value:N})}};S.menu?S.menu.items().remove():S.menu=Y.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(S).renderTo(),T.each(b,function(N){S.menu.add({text:N.title,url:N.previewUrl,match:w,classes:"menu-item-ellipsis",onclick:F(N.value,N.title)})}),S.menu.renderNew(),S.hideMenu(),S.menu.on("cancel",function(N){N.control.parent()===S.menu&&(N.stopPropagation(),S.focus(),S.hideMenu())}),S.menu.on("select",function(){S.focus()});var D=S.layoutRect().w;S.menu.layoutRect({w:D,minW:0,maxW:D}),S.menu.reflow(),S.menu.show(),S.menu.moveRel(S.getEl(),S.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else S.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var b=this;b.state.on("change:value",function(S){b.getEl("inp").value!=S.value&&(b.getEl("inp").value=S.value)}),b.state.on("change:disabled",function(S){b.getEl("inp").disabled=S.value}),b.state.on("change:statusLevel",function(S){var F=b.getEl("status"),D=b.classPrefix,N=S.value;z.css(F,"display","none"===N?"none":""),z.toggleClass(F,D+"i-checkmark","ok"===N),z.toggleClass(F,D+"i-warning","warn"===N),z.toggleClass(F,D+"i-error","error"===N),b.classes.toggle("has-status","none"!==N),b.repaint()}),z.on(b.getEl("status"),"mouseleave",function(){b.tooltip().hide()}),b.on("cancel",function(S){b.menu&&b.menu.visible()&&(S.stopPropagation(),b.hideMenu())});var w=function(S,F){F&&F.items().length>0&&F.items().eq(S)[0].focus()};return b.on("keydown",function(S){var F=S.keyCode;"INPUT"===S.target.nodeName&&(F===C.DOWN?(S.preventDefault(),b.fire("autocomplete"),w(0,b.menu)):F===C.UP&&(S.preventDefault(),w(-1,b.menu)))}),b._super()},remove:function(){B(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),Ye(Fa,[va],function(ee){return ee.extend({init:function(Y){var z=this;Y.spellcheck=!1,Y.onaction&&(Y.icon="none"),z._super(Y),z.classes.add("colorbox"),z.on("change keyup postrender",function(){z.repaintColor(z.value())})},repaintColor:function(Y){var z=this.getEl("open"),B=z?z.getElementsByTagName("i")[0]:null;if(B)try{B.style.background=Y}catch(C){}},bindStates:function(){var Y=this;return Y.state.on("change:value",function(z){Y.state.get("rendered")&&Y.repaintColor(z.value)}),Y._super()}})}),Ye(ya,[io,Nr],function(ee,Y){return ee.extend({showPanel:function(){var z=this,B=z.settings;if(z.active(!0),z.panel)z.panel.show();else{var C=B.panel;C.type&&(C={layout:"grid",items:C}),C.role=C.role||"dialog",C.popover=!0,C.autohide=!0,C.ariaRoot=!0,z.panel=new Y(C).on("hide",function(){z.active(!1)}).on("cancel",function(T){T.stopPropagation(),z.focus(),z.hidePanel()}).parent(z).renderTo(z.getContainerElm()),z.panel.fire("show"),z.panel.reflow()}z.panel.moveRel(z.getEl(),B.popoverAlign||(z.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var z=this;return z.aria("haspopup",!0),z.on("click",function(B){B.control===z&&(z.panel&&z.panel.visible()?z.hidePanel():(z.showPanel(),z.panel.focus(!!B.aria)))}),z._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),Ye(Uo,[ya,$e],function(ee,Y){var z=Y.DOM;return ee.extend({init:function(B){this._super(B),this.classes.add("colorbutton")},color:function(B){return B?(this._color=B,this.getEl("preview").style.backgroundColor=B,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var B=this,C=B._id,T=B.classPrefix,b=B.state.get("text"),w=B.settings.icon?T+"ico "+T+"i-"+B.settings.icon:"",S=B.settings.image?" style=\"background-image: url('"+B.settings.image+"')\"":"",F="";return b&&(B.classes.add("btn-has-text"),F='<span class="'+T+'txt">'+B.encode(b)+"</span>"),'<div id="'+C+'" class="'+B.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(w?'<i class="'+w+'"'+S+"></i>":"")+'<span id="'+C+'-preview" class="'+T+'preview"></span>'+F+'</button><button type="button" class="'+T+'open" hidefocus="1" tabindex="-1"> <i class="'+T+'caret"></i></button></div>'},postRender:function(){var B=this,C=B.settings.onclick;return B.on("click",function(T){T.aria&&"down"==T.aria.key||T.control!=B||z.getParent(T.target,"."+B.classPrefix+"open")||(T.stopImmediatePropagation(),C.call(B,T))}),delete B.settings.onclick,B._super()}})}),Ye(jo,[],function(){var Y=Math.min,z=Math.max,B=Math.round;return function(C){function D(W){var O;return"object"==typeof W?"r"in W?(E=W.r,V=W.g,R=W.b):"v"in W&&function(W,O,$){var A,P,M,x;if(W=(parseInt(W,10)||0)%360,O=parseInt(O,10)/100,$=parseInt($,10)/100,O=z(0,Y(O,1)),$=z(0,Y($,1)),0!==O){switch(A=W/60,M=(P=$*O)*(1-Math.abs(A%2-1)),x=$-P,Math.floor(A)){case 0:E=P,V=M,R=0;break;case 1:E=M,V=P,R=0;break;case 2:E=0,V=P,R=M;break;case 3:E=0,V=M,R=P;break;case 4:E=M,V=0,R=P;break;case 5:E=P,V=0,R=M;break;default:E=V=R=0}E=B(255*(E+x)),V=B(255*(V+x)),R=B(255*(R+x))}else E=V=R=B(255*$)}(W.h,W.s,W.v):(O=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(W))?(E=parseInt(O[1],10),V=parseInt(O[2],10),R=parseInt(O[3],10)):(O=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(W))?(E=parseInt(O[1],16),V=parseInt(O[2],16),R=parseInt(O[3],16)):(O=/#([0-F])([0-F])([0-F])/gi.exec(W))&&(E=parseInt(O[1]+O[1],16),V=parseInt(O[2]+O[2],16),R=parseInt(O[3]+O[3],16)),E=E<0?0:E>255?255:E,V=V<0?0:V>255?255:V,R=R<0?0:R>255?255:R,N}var N=this,E=0,V=0,R=0;C&&D(C),N.toRgb=function(){return{r:E,g:V,b:R}},N.toHsv=function(){return W=E,O=V,$=R,P=0,M=0,(_=Y(W/=255,Y(O/=255,$/=255)))==(H=z(W,z(O,$)))?{h:0,s:0,v:100*(M=_)}:(P=(H-_)/H,M=H,{h:B(60*((W==_?3:$==_?1:5)-(W==_?O-$:$==_?W-O:$-W)/(H-_))),s:B(100*P),v:B(100*M)});var W,O,$,P,M,_,H},N.toHex=function(){function W(O){return(O=parseInt(O,10).toString(16)).length>1?O:"0"+O}return"#"+W(E)+W(V)+W(R)},N.parse=D}}),Ye(Va,[rn,Ui,Zn,jo],function(ee,Y,z,B){return ee.extend({Defaults:{classes:"widget colorpicker"},init:function(C){this._super(C)},postRender:function(){function C(W,O){var A,P,$=z.getPos(W);return A=O.pageX-$.x,P=O.pageY-$.y,{x:A=Math.max(0,Math.min(A/W.clientWidth,1)),y:P=Math.max(0,Math.min(P/W.clientHeight,1))}}function T(W,O){z.css(E,{top:(360-W.h)/360*100+"%"}),O||z.css(R,{left:W.s+"%",top:100-W.v+"%"}),V.style.background=new B({s:100,v:100,h:W.h}).toHex(),S.color().parse({s:W.s,v:W.v,h:W.h})}function b(W){var O;O=C(V,W),D.s=100*O.x,D.v=100*(1-O.y),T(D),S.fire("change")}function w(W){var O;O=C(N,W),(D=F.toHsv()).h=360*(1-O.y),T(D,!0),S.fire("change")}var D,N,E,V,R,S=this,F=S.color();N=S.getEl("h"),E=S.getEl("hp"),V=S.getEl("sv"),R=S.getEl("svp"),S._repaint=function(){T(D=F.toHsv())},S._super(),S._svdraghelper=new Y(S._id+"-sv",{start:b,drag:b}),S._hdraghelper=new Y(S._id+"-h",{start:w,drag:w}),S._repaint()},rgb:function(){return this.color().toRgb()},value:function(C){var T=this;return arguments.length?(T.color().parse(C),void(T._rendered&&T._repaint())):T.color().toHex()},color:function(){return this._color||(this._color=new B),this._color},renderHtml:function(){var S,T=this,b=T._id,w=T.classPrefix,F="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return S='<div id="'+b+'-h" class="'+w+'colorpicker-h" style="background: -ms-linear-gradient(top,'+F+");background: linear-gradient(to bottom,"+F+');">'+function(){var N,E,R,W,V="";for(R="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",N=0,E=(W=F.split(",")).length-1;N<E;N++)V+='<div class="'+w+'colorpicker-h-chunk" style="height:'+100/E+"%;"+R+W[N]+",endColorstr="+W[N+1]+");-ms-"+R+W[N]+",endColorstr="+W[N+1]+')"></div>';return V}()+'<div id="'+b+'-hp" class="'+w+'colorpicker-h-marker"></div></div>','<div id="'+b+'" class="'+T.classes+'"><div id="'+b+'-sv" class="'+w+'colorpicker-sv"><div class="'+w+'colorpicker-overlay1"><div class="'+w+'colorpicker-overlay2"><div id="'+b+'-svp" class="'+w+'colorpicker-selector1"><div class="'+w+'colorpicker-selector2"></div></div></div></div></div>'+S+"</div>"}})}),Ye(po,[rn],function(ee){return ee.extend({init:function(Y){var z=this;Y.delimiter||(Y.delimiter="\xbb"),z._super(Y),z.classes.add("path"),z.canFocus=!0,z.on("click",function(B){var C;(C=B.target.getAttribute("data-index"))&&z.fire("select",{value:z.row()[C],index:C})}),z.row(z.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(Y){return arguments.length?(this.state.set("row",Y),this):this.state.get("row")},renderHtml:function(){var Y=this;return'<div id="'+Y._id+'" class="'+Y.classes+'">'+Y._getDataPathHtml(Y.state.get("row"))+"</div>"},bindStates:function(){var Y=this;return Y.state.on("change:row",function(z){Y.innerHtml(Y._getDataPathHtml(z.value))}),Y._super()},_getDataPathHtml:function(Y){var C,T,z=this,B=Y||[],b="",w=z.classPrefix;for(C=0,T=B.length;C<T;C++)b+=(C>0?'<div class="'+w+'divider" aria-hidden="true"> '+z.settings.delimiter+" </div>":"")+'<div role="button" class="'+w+"path-item"+(C==T-1?" "+w+"last":"")+'" data-index="'+C+'" tabindex="-1" id="'+z._id+"-"+C+'" aria-level="'+(C+1)+'">'+B[C].name+"</div>";return b||(b='<div class="'+w+'path-item">\xa0</div>'),b}})}),Ye(Ha,[po],function(ee){return ee.extend({postRender:function(){function Y(C){return!(1!==C.nodeType||"BR"!=C.nodeName&&!C.getAttribute("data-mce-bogus")&&"bookmark"!==C.getAttribute("data-mce-type"))}var z=this,B=z.settings.editor;return!1!==B.settings.elementpath&&(z.on("select",function(C){B.focus(),B.selection.select(this.row()[C.index].element),B.nodeChanged()}),B.on("nodeChange",function(C){for(var T=[],b=C.parents,w=b.length;w--;)if(1==b[w].nodeType&&!Y(b[w])){var S=B.fire("ResolveName",{name:b[w].nodeName.toLowerCase(),target:b[w]});if(S.isDefaultPrevented()||T.push({name:S.name,element:b[w]}),S.isPropagationStopped())break}z.row(T)})),z._super()}})}),Ye(xa,[nr],function(ee){return ee.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var Y=this,z=Y._layout,B=Y.classPrefix;return Y.classes.add("formitem"),z.preRender(Y),'<div id="'+Y._id+'" class="'+Y.classes+'" hidefocus="1" tabindex="-1">'+(Y.settings.title?'<div id="'+Y._id+'-title" class="'+B+'title">'+Y.settings.title+"</div>":"")+'<div id="'+Y._id+'-body" class="'+Y.bodyClasses+'">'+(Y.settings.html||"")+z.renderHtml(Y)+"</div></div>"}})}),Ye(ba,[nr,xa,ft],function(ee,Y,z){return ee.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var B=this,C=B.items();B.settings.formItemDefaults||(B.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),C.each(function(T){var b,w=T.settings.label;w&&((b=new Y(z.extend({items:{type:"label",id:T._id+"-l",text:w,flex:0,forId:T._id,disabled:T.disabled()}},B.settings.formItemDefaults))).type="formitem",T.aria("labelledby",T._id+"-l"),void 0===T.settings.flex&&(T.settings.flex=1),B.replace(T,b),b.add(T))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var B=this;B._super(),B.fromJSON(B.settings.data)},bindStates:function(){function B(){var w,S,T=0,b=[];if(!1!==C.settings.labelGapCalc)for(("children"==C.settings.labelGapCalc?C.find("formitem"):C.items()).filter("formitem").each(function(D){var N=D.items()[0],E=N.getEl().clientWidth;T=E>T?E:T,b.push(N)}),S=C.settings.labelGap||0,w=b.length;w--;)b[w].settings.minWidth=T+S}var C=this;C._super(),C.on("show",B),B()}})}),Ye(ys,[ba],function(ee){return ee.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var Y=this,z=Y._layout,B=Y.classPrefix;return Y.preRender(),z.preRender(Y),'<fieldset id="'+Y._id+'" class="'+Y.classes+'" hidefocus="1" tabindex="-1">'+(Y.settings.title?'<legend id="'+Y._id+'-title" class="'+B+'fieldset-title">'+Y.settings.title+"</legend>":"")+'<div id="'+Y._id+'-body" class="'+Y.bodyClasses+'">'+(Y.settings.html||"")+z.renderHtml(Y)+"</div></fieldset>"}})}),Ye(Fr,[$e,lt,zt,ga,ft,vt],function(ee,Y,z,B,C,T){var b=C.trim,w=function(U,J,ie,ye,pe){return{type:U,title:J,url:ie,level:ye,attach:pe}},D=function(U){return U.innerText||U.textContent},V=function(U){return function(U){return U&&"A"===U.nodeName&&(U.id||U.name)}(U)&&W(U)},R=function(U){return U&&/^(H[1-6])$/.test(U.nodeName)},W=function(U){return function(U){for(;U=U.parentNode;){var J=U.contentEditable;if(J&&"inherit"!==J)return T.isContentEditableTrue(U)}return!1}(U)&&!T.isContentEditableFalse(U)},O=function(U){return R(U)&&W(U)},A=function(U){var J=function(U){return U.id?U.id:B.uuid("h")}(U);return w("header",D(U),"#"+J,function(U){return R(U)?parseInt(U.nodeName.substr(1),10):0}(U),function(){U.id=J})},P=function(U){var J=U.id||U.name,ie=D(U);return w("anchor",ie||"#"+J,"#"+J,0,Y.noop)},H=function(U){return b(U.title).length>0};return{find:function(U){var J=function(U){return function(U,J){return ee.DOM.select("h1,h2,h3,h4,h5,h6,a:not([href])",J)}(0,U)}(U);return z.filter(function(U){return z.map(z.filter(U,O),A)}(J).concat(function(U){return z.map(z.filter(U,V),P)}(J)),H)}}}),Ye(Pi,[va,ft,zt,lt,Zt,Fr],function(ee,Y,z,B,C,T){var b={},S=function(M){return{title:M.title,value:{title:{raw:M.title},url:M.url,attach:M.attach}}},D=function(M,x){return{title:M,value:{title:M,url:x,attach:B.noop}}},E=function(M,x,_){var H=x in M?M[x]:_;return!1===H?null:H},W=function(M,x){var _=M.toLowerCase(),H=Y.grep(x,function(X){return-1!==X.title.toLowerCase().indexOf(_)});return 1===H.length&&H[0].title===M?[]:H},$=function(M,x,_,H){var X=function(U){var ie=function(M,x,_,H){var pe,fe,ve,X={title:"-"},U=function(pe){var fe=z.filter(pe[_],function(ve){return function(M,x){return!z.find(x,function(H){return H.url===M})}(ve,x)});return Y.map(fe,function(ve){return{title:ve,value:{title:ve,url:ve,attach:B.noop}}})},J=function(pe){return function(M){return Y.map(M,S)}(z.filter(x,function(ve){return ve.type==pe}))};return!1===H.typeahead_urls?[]:"file"===_?function(pe){return z.reduce(pe,function(fe,ve){return 0===fe.length||0===ve.length?fe.concat(ve):fe.concat(X,ve)},[])}([W(M,U(b)),W(M,J("header")),W(M,(pe=J("anchor"),fe=E(H,"anchor_top","#top"),ve=E(H,"anchor_bottom","#bottom"),null!==fe&&pe.unshift(D("<top>",fe)),null!==ve&&pe.push(D("<bottom>",ve)),pe))]):W(M,U(b))}(U,T.find(_),H,x);M.showAutoComplete(ie,U)};M.on("autocomplete",function(){X(M.value())}),M.on("selectitem",function(U){var J=U.value;M.value(J.url);var ie=function(M){var x=M.title;return x.raw?x.raw:x}(J);M.fire("change","image"===H?{meta:{alt:ie,attach:J.attach}}:{meta:{text:ie,attach:J.attach}}),M.focus()}),M.on("click",function(U){0===M.value().length&&"INPUT"===U.target.nodeName&&X("")}),M.on("PostRender",function(){M.getRoot().on("submit",function(U){U.isDefaultPrevented()||function(M,x){var _=b[x];/^https?/.test(M)&&(_?-1===z.indexOf(_,M)&&(b[x]=_.slice(0,5).concat(M)):b[x]=[M])}(M.value(),H)})})};return ee.extend({init:function(M){var X,U,J,x=this,_=tinymce.activeEditor,H=_.settings,ie=M.filetype;M.spellcheck=!1,(J=H.file_picker_types||H.file_browser_callback_types)&&(J=Y.makeMap(J,/[, ]/)),J&&!J[ie]||(!(U=H.file_picker_callback)||J&&!J[ie]?!(U=H.file_browser_callback)||J&&!J[ie]||(X=function(){U(x.getEl("inp").id,x.value(),ie,window)}):X=function(){var ye=x.fire("beforecall").meta;ye=Y.extend({filetype:ie},ye),U.call(_,function(pe,fe){x.value(pe).fire("change",{meta:fe})},x.value(),ye)}),X&&(M.icon="browse",M.onaction=X),x._super(M),$(x,H,_.getBody(),ie),function(M,x,_){var H=x.filepicker_validator_handler;H&&M.state.on("change:value",function(U){!function(U){0===U.length?M.statusLevel("none"):H({url:U,type:_},function(J){var ie=function(M){var x=M.status,_=M.message;return"valid"===x?{status:"ok",message:_}:"unknown"===x||"invalid"===x?{status:"warn",message:_}:{status:"none",message:""}}(J);M.statusMessage(ie.message),M.statusLevel(ie.status)})}(U.value)})}(x,H,ie)}})}),Ye(Ao,[ko],function(ee){return ee.extend({recalc:function(Y){var z=Y.layoutRect(),B=Y.paddingBox;Y.items().filter(":visible").each(function(C){C.layoutRect({x:B.left,y:B.top,w:z.innerW-B.right-B.left,h:z.innerH-B.top-B.bottom}),C.recalc&&C.recalc()})}})}),Ye(Zr,[ko],function(ee){return ee.extend({recalc:function(Y){var z,B,C,T,b,w,S,F,D,N,E,V,R,W,$,P,M,x,_,H,X,U,J,ie,ye,pe,fe,ve,ge,Te,Ae,ne,ce,xe,Ie,Le,ut,A=[],Dt=Math.max,Vt=Math.min;for(C=Y.items().filter(":visible"),T=Y.layoutRect(),b=Y.paddingBox,w=Y.settings,V=Y.isRtl()?w.direction||"row-reversed":w.direction,S=w.align,F=Y.isRtl()?w.pack||"end":w.pack,D=w.spacing||0,"row-reversed"!=V&&"column-reverse"!=V||(C=C.set(C.toArray().reverse()),V=V.split("-")[0]),"column"==V?(ie="y",U="h",J="minH",ye="maxH",fe="innerH",pe="top",ve="deltaH",ge="contentH",xe="left",ne="w",Te="x",Ae="innerW",ce="minW",Ie="right",Le="deltaW",ut="contentW"):(ie="x",U="w",J="minW",ye="maxW",fe="innerW",pe="left",ve="deltaW",ge="contentW",xe="top",ne="h",Te="y",Ae="innerH",ce="minH",Ie="bottom",Le="deltaH",ut="contentH"),E=T[fe]-b[pe]-b[pe],X=N=0,z=0,B=C.length;z<B;z++)W=(R=C[z]).layoutRect(),E-=z<B-1?D:0,($=R.settings.flex)>0&&(N+=$,W[ye]&&A.push(R),W.flex=$),E-=W[J],(P=b[xe]+W[ce]+b[Ie])>X&&(X=P);if((_={})[J]=E<0?T[J]-E+T[ve]:T[fe]-E+T[ve],_[ce]=X+T[Le],_[ge]=T[fe]-E,_[ut]=X,_.minW=Vt(_.minW,T.maxW),_.minH=Vt(_.minH,T.maxH),_.minW=Dt(_.minW,T.startMinWidth),_.minH=Dt(_.minH,T.startMinHeight),!T.autoResize||_.minW==T.minW&&_.minH==T.minH){for(x=E/N,z=0,B=A.length;z<B;z++)(P=(W=(R=A[z]).layoutRect())[J]+W.flex*x)>(M=W[ye])?(E-=W[ye]-W[J],N-=W.flex,W.flex=0,W.maxFlexSize=M):W.maxFlexSize=0;for(x=E/N,H=b[pe],_={},0===N&&("end"==F?H=E+b[pe]:"center"==F?(H=Math.round(T[fe]/2-(T[fe]-E)/2)+b[pe])<0&&(H=b[pe]):"justify"==F&&(H=b[pe],D=Math.floor(E/(C.length-1)))),_[Te]=b[xe],z=0,B=C.length;z<B;z++)P=(W=(R=C[z]).layoutRect()).maxFlexSize||W[J],"center"===S?_[Te]=Math.round(T[Ae]/2-W[ne]/2):"stretch"===S?(_[ne]=Dt(W[ce]||0,T[Ae]-b[xe]-b[Ie]),_[Te]=b[xe]):"end"===S&&(_[Te]=T[Ae]-W[ne]-b.top),W.flex>0&&(P+=W.flex*x),_[U]=P,_[ie]=H,R.layoutRect(_),R.recalc&&R.recalc(),H+=P+D}else if(_.w=_.minW,_.h=_.minH,Y.layoutRect(_),this.recalc(Y),null===Y._lastRect){var Qt=Y.parent();Qt&&(Qt._lastRect=null,Qt.recalc())}}})}),Ye(_a,[lr],function(ee){return ee.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(Y){Y.items().filter(":visible").each(function(z){z.recalc&&z.recalc()})},isNative:function(){return!0}})}),Ye(xs,[$e],function(ee){var Y=function(w,S,F){for(;F!==S;){if(F.style[w])return F.style[w];F=F.parentNode}return""},C=function(w,S){return ee.DOM.getStyle(S,w,!0)};return{getFontSize:function(w,S){var F=Y("fontSize",w,S);return""!==F?F:C("fontSize",S)},getFontFamily:function(w,S){var F=Y("fontFamily",w,S),D=""!==F?F:C("fontFamily",S);return D!==Ln?function(w){return w.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}(D):""},toPt:function(w){return/[0-9.]+px$/.test(w)?Math.round(72*parseInt(w,10)/96)+"pt":w}}}),Ye(Lr,[Ki,rn,Nr,ft,zt,$e,ma,Mt,xs],function(ee,Y,z,B,C,T,b,w,S){function N(R){function W(ve,ge){return function(){var Te=this;R.on("nodeChange",function(Ae){var ne=R.formatter,ce=null;E(Ae.parents,function(xe){if(E(ve,function(Ie){if(ge?ne.matchNode(xe,ge,{value:Ie.value})&&(ce=Ie.value):ne.matchNode(xe,Ie.value)&&(ce=Ie.value),ce)return!1}),ce)return!1}),Te.value(ce)})}}function $(ve){return function(){var ge=this;R.on("nodeChange",function(Te){var Ae,ne,ce=null;Ae=S.getFontSize(R.getBody(),Te.element),ne=S.toPt(Ae),E(ve,function(xe){xe.value===Ae?ce=Ae:xe.value===ne&&(ce=ne)}),ge.value(ce),ce||ge.text(ne)})}}function A(ve){for(var ge=(ve=ve.replace(/;$/,"").split(";")).length;ge--;)ve[ge]=ve[ge].split("=");return ve}function M(ve){return function(){var ge=this;R.formatter?R.formatter.formatChanged(ve,function(Te){ge.active(Te)}):R.on("init",function(){R.formatter.formatChanged(ve,function(Te){ge.active(Te)})})}}function x(ve){return function(){function ge(){return!!R.undoManager&&R.undoManager["redo"==ve?"hasRedo":"hasUndo"]()}var Te=this;Te.disabled(!ge()),R.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){Te.disabled(R.readonly||!ge())})}}function H(ve){ve.control&&(ve=ve.control.value()),ve&&R.execCommand("mceToggleFormat",!1,ve)}function X(ve){var ge=ve.length;return B.each(ve,function(Te){Te.menu&&(Te.hidden=0===X(Te.menu));var Ae=Te.format;Ae&&(Te.hidden=!R.formatter.canApply(Ae)),Te.hidden&&ge--}),ge}function U(ve){var ge=ve.items().length;return ve.items().each(function(Te){Te.menu&&Te.visible(U(Te.menu)>0),!Te.menu&&Te.settings.menu&&Te.visible(X(Te.settings.menu)>0);var Ae=Te.settings.format;Ae&&Te.visible(R.formatter.canApply(Ae)),Te.visible()||ge--}),ge}var J,Te,Ae,ne;Te=0,Ae=[],ne=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],R.on("init",function(){E(Ae,function(ce){R.formatter.register(ce.name,ce)})}),J={type:"menu",items:function ve(ce){var xe=[];if(ce)return E(ce,function(Ie){var Le={text:Ie.title,icon:Ie.icon};if(Ie.items)Le.menu=ve(Ie.items);else{var ut=Ie.format||"custom"+Te++;Ie.format||(Ie.name=ut,Ae.push(Ie)),Le.format=ut,Le.cmd=Ie.cmd}xe.push(Le)}),xe}(R.settings.style_formats_merge?R.settings.style_formats?ne.concat(R.settings.style_formats):ne:R.settings.style_formats||ne),onPostRender:function(ce){R.fire("renderFormatsMenu",{control:ce.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return R.formatter.getCssText(this.settings.format)},onPostRender:function(){var ce=this;ce.parent().on("show",function(){var xe,Ie;(xe=ce.settings.format)&&(ce.disabled(!R.formatter.canApply(xe)),ce.active(R.formatter.match(xe))),(Ie=ce.settings.cmd)&&ce.active(R.queryCommandState(Ie))})},onclick:function(){this.settings.format&&H(this.settings.format),this.settings.cmd&&R.execCommand(this.settings.cmd)}}},E({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(ve,ge){R.addButton(ge,{tooltip:ve,onPostRender:M(ge),onclick:function(){H(ge)}})}),E({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(ve,ge){R.addButton(ge,{tooltip:ve[0],cmd:ve[1]})}),E({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(ve,ge){R.addButton(ge,{tooltip:ve[0],cmd:ve[1],onPostRender:M(ge)})});var ye=function(ve){var ge,Te;if("string"==typeof ve)Te=ve.split(" ");else if(B.isArray(ve))return V(B.map(ve,ye));return ge=B.grep(Te,function(Ae){return"|"===Ae||Ae in R.menuItems}),B.map(ge,function(Ae){return"|"===Ae?{text:"-"}:R.menuItems[Ae]})};R.addButton("undo",{tooltip:"Undo",onPostRender:x("undo"),cmd:"undo"}),R.addButton("redo",{tooltip:"Redo",onPostRender:x("redo"),cmd:"redo"}),R.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),R.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:x("undo"),cmd:"undo"}),R.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:x("redo"),cmd:"redo"}),R.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var ve=this;R.on("VisualAid",function(ge){ve.active(ge.hasVisual)}),ve.active(R.hasVisual)},cmd:"mceToggleVisualAid"}),R.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),R.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){var ve;this.menu.add(function(ve){var ge=ve;return ge.length>0&&"-"===ge[0].text&&(ge=ge.slice(1)),ge.length>0&&"-"===ge[ge.length-1].text&&(ge=ge.slice(0,ge.length-1)),ge}((ve=R.settings).insert_button_items?ye(ve.insert_button_items):function(ve){var ge=[{text:"-"}],Te=B.grep(R.menuItems,function(Ae){return"insert"===Ae.context});return B.each(Te,function(Ae){"before"==Ae.separator&&ge.push({text:"|"}),Ae.prependToContext?ge.unshift(Ae):ge.push(Ae),"after"==Ae.separator&&ge.push({text:"|"})}),ge}())),this.menu.renderNew()}}),E({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(ve,ge){R.addMenuItem(ge,{text:ve[0],icon:ge,shortcut:ve[2],cmd:ve[1]})}),R.on("mousedown",function(){z.hideAll()}),R.addButton("styleselect",{type:"menubutton",text:"Formats",menu:J,onShowMenu:function(){R.settings.style_formats_autohide&&U(this.menu)}}),R.addButton("formatselect",function(){var ve=[],ge=A(R.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return E(ge,function(Te){ve.push({text:Te[0],value:Te[1],textStyle:function(){return R.formatter.getCssText(Te[1])}})}),{type:"listbox",text:ge[0][0],values:ve,fixedWidth:!0,onselect:H,onPostRender:W(ve)}}),R.addButton("fontselect",function(){var ve,ge=[],Te=A(R.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return E(Te,function(Ae){ge.push({text:{raw:Ae[0]},value:Ae[1],textStyle:-1==Ae[1].indexOf("dings")?"font-family:"+Ae[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:ge,fixedWidth:!0,onPostRender:(ve=ge,function(){var ge=this,Te=function(Ae){return Ae?Ae.split(",")[0]:""};R.on("nodeChange",function(Ae){var ne,ce=null;ne=S.getFontFamily(R.getBody(),Ae.element),E(ve,function(xe){xe.value.toLowerCase()===ne.toLowerCase()&&(ce=xe.value)}),E(ve,function(xe){ce||Te(xe.value).toLowerCase()!==Te(ne).toLowerCase()||(ce=xe.value)}),ge.value(ce),!ce&&ne&&ge.text(Te(ne))})}),onselect:function(Ae){Ae.control.settings.value&&R.execCommand("FontName",!1,Ae.control.settings.value)}}}),R.addButton("fontsizeselect",function(){var ve=[];return E((R.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(Ae){var ne=Ae,ce=Ae,xe=Ae.split("=");xe.length>1&&(ne=xe[0],ce=xe[1]),ve.push({text:ne,value:ce})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:ve,fixedWidth:!0,onPostRender:$(ve),onclick:function(Ae){Ae.control.settings.value&&R.execCommand("FontSize",!1,Ae.control.settings.value)}}}),R.addMenuItem("formats",{text:"Formats",menu:J})}var E=B.each,V=function(R){return C.reduce(R,function(W,O){return W.concat(O)},[])};b.on("AddEditor",function(R){var W=R.editor;(function(R){R.on("ScriptsLoaded",function(){R.rtl&&(ee.rtl=!0)})})(W),N(W),function(R){R.settings.ui_container&&(w.container=T.DOM.select(R.settings.ui_container)[0])}(W)}),ee.translate=function(R){return b.translate(R)},Y.tooltips=!w.iOS}),Ye(Er,[ko],function(ee){return ee.extend({recalc:function(Y){var z,B,C,T,b,w,S,F,D,N,E,V,R,W,O,$,A,P,M,x,_,H,X,ie,ye,pe,fe,ve,U=[],J=[];for((z=Y.settings,T=Y.items().filter(":visible"),b=Y.layoutRect(),C=z.columns||Math.ceil(Math.sqrt(T.length)),B=Math.ceil(T.length/C),P=z.spacingH||z.spacing||0,M=z.spacingV||z.spacing||0,x=z.alignH||z.align,_=z.alignV||z.align,$=Y.paddingBox,ve="reverseRows"in z?z.reverseRows:Y.isRtl(),x&&"string"==typeof x&&(x=[x]),_&&"string"==typeof _&&(_=[_]),E=0);E<C;E++)U.push(0);for(V=0;V<B;V++)J.push(0);for(V=0;V<B;V++)for(E=0;E<C&&(N=T[V*C+E]);E++)ye=(D=N.layoutRect()).minH,U[E]=(ie=D.minW)>U[E]?ie:U[E],J[V]=ye>J[V]?ye:J[V];for(pe=b.innerW-$.left-$.right,H=0,E=0;E<C;E++)H+=U[E]+(E>0?P:0),pe-=(E>0?P:0)+U[E];for(fe=b.innerH-$.top-$.bottom,X=0,V=0;V<B;V++)X+=J[V]+(V>0?M:0),fe-=(V>0?M:0)+J[V];if(X+=$.top+$.bottom,(F={}).minW=(H+=$.left+$.right)+(b.w-b.innerW),F.minH=X+(b.h-b.innerH),F.contentW=F.minW-b.deltaW,F.contentH=F.minH-b.deltaH,F.minW=Math.min(F.minW,b.maxW),F.minH=Math.min(F.minH,b.maxH),F.minW=Math.max(F.minW,b.startMinWidth),F.minH=Math.max(F.minH,b.startMinHeight),!b.autoResize||F.minW==b.minW&&F.minH==b.minH){var Te;b.autoResize&&((F=Y.layoutRect(F)).contentW=F.minW-b.deltaW,F.contentH=F.minH-b.deltaH),Te="start"==z.packV?0:fe>0?Math.floor(fe/B):0;var Ae=0,ne=z.flexWidths;if(ne)for(E=0;E<ne.length;E++)Ae+=ne[E];else Ae=C;var ce=pe/Ae;for(E=0;E<C;E++)U[E]+=ne?ne[E]*ce:ce;for(W=$.top,V=0;V<B;V++){for(R=$.left,S=J[V]+Te,E=0;E<C&&(N=T[ve?V*C+C-1-E:V*C+E]);E++)O=N.settings,D=N.layoutRect(),w=Math.max(U[E],D.startMinWidth),D.x=R,D.y=W,"center"==(A=O.alignH||(x?x[E]||x[0]:null))?D.x=R+w/2-D.w/2:"right"==A?D.x=R+w-D.w:"stretch"==A&&(D.w=w),"center"==(A=O.alignV||(_?_[E]||_[0]:null))?D.y=W+S/2-D.h/2:"bottom"==A?D.y=W+S-D.h:"stretch"==A&&(D.h=S),N.layoutRect(D),R+=w+P,N.recalc&&N.recalc();W+=S+M}}else if(F.w=F.minW,F.h=F.minH,Y.layoutRect(F),this.recalc(Y),null===Y._lastRect){var xe=Y.parent();xe&&(xe._lastRect=null,xe.recalc())}}})}),Ye(wa,[rn,Ke],function(ee,Y){return ee.extend({renderHtml:function(){var z=this;return z.classes.add("iframe"),z.canFocus=!1,'<iframe id="'+z._id+'" class="'+z.classes+'" tabindex="-1" src="'+(z.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(z){this.getEl().src=z},html:function(z,B){var C=this,T=this.getEl().contentWindow.document.body;return T?(T.innerHTML=z,B&&B()):Y.setTimeout(function(){C.html(z)}),this}})}),Ye(Io,[rn],function(ee){return ee.extend({init:function(Y){var z=this;z._super(Y),z.classes.add("widget").add("infobox"),z.canFocus=!1},severity:function(Y){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(Y)},help:function(Y){this.state.set("help",Y)},renderHtml:function(){var Y=this,z=Y.classPrefix;return'<div id="'+Y._id+'" class="'+Y.classes+'"><div id="'+Y._id+'-body">'+Y.encode(Y.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+z+"ico "+z+'i-help"></i></button></div></div>'},bindStates:function(){var Y=this;return Y.state.on("change:text",function(z){Y.getEl("body").firstChild.data=Y.encode(z.value),Y.state.get("rendered")&&Y.updateLayoutRect()}),Y.state.on("change:help",function(z){Y.classes.toggle("has-help",z.value),Y.state.get("rendered")&&Y.updateLayoutRect()}),Y._super()}})}),Ye(bs,[rn,Zn],function(ee,Y){return ee.extend({init:function(z){var B=this;B._super(z),B.classes.add("widget").add("label"),B.canFocus=!1,z.multiline&&B.classes.add("autoscroll"),z.strong&&B.classes.add("strong")},initLayoutRect:function(){var z=this,B=z._super();return z.settings.multiline&&(Y.getSize(z.getEl()).width>B.maxW&&(B.minW=B.maxW,z.classes.add("multiline")),z.getEl().style.width=B.minW+"px",B.startMinH=B.h=B.minH=Math.min(B.maxH,Y.getSize(z.getEl()).height)),B},repaint:function(){var z=this;return z.settings.multiline||(z.getEl().style.lineHeight=z.layoutRect().h+"px"),z._super()},severity:function(z){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(z)},renderHtml:function(){var B,C,z=this,T=z.settings.forId;return!T&&(C=z.settings.forName)&&(B=z.getRoot().find("#"+C)[0])&&(T=B._id),T?'<label id="'+z._id+'" class="'+z.classes+'"'+(T?' for="'+T+'"':"")+">"+z.encode(z.state.get("text"))+"</label>":'<span id="'+z._id+'" class="'+z.classes+'">'+z.encode(z.state.get("text"))+"</span>"},bindStates:function(){var z=this;return z.state.on("change:text",function(B){z.innerHtml(z.encode(B.value)),z.state.get("rendered")&&z.updateLayoutRect()}),z._super()}})}),Ye(Wa,[nr],function(ee){return ee.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(Y){this._super(Y),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(z){z.classes.add("toolbar-item")}),this._super()}})}),Ye(Li,[Wa],function(ee){return ee.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),Ye(go,[io,_i,Li],function(ee,Y,z){var C=ee.extend({init:function(T){var b=this;b._renderOpen=!0,b._super(T),T=b.settings,b.classes.add("menubtn"),T.fixedWidth&&b.classes.add("fixed-width"),b.aria("haspopup",!0),b.state.set("menu",T.menu||b.render())},showMenu:function(T){var w,b=this;return b.menu&&b.menu.visible()&&!1!==T?b.hideMenu():(b.menu||((w=b.state.get("menu")||[]).length?w={type:"menu",items:w}:w.type=w.type||"menu",b.menu=w.renderTo?w.parent(b).show().renderTo():Y.create(w).parent(b).renderTo(),b.fire("createmenu"),b.menu.reflow(),b.menu.on("cancel",function(S){S.control.parent()===b.menu&&(S.stopPropagation(),b.focus(),b.hideMenu())}),b.menu.on("select",function(){b.focus()}),b.menu.on("show hide",function(S){S.control==b.menu&&b.activeMenu("show"==S.type),b.aria("expanded","show"==S.type)}).fire("show")),b.menu.show(),b.menu.layoutRect({w:b.layoutRect().w}),b.menu.moveRel(b.getEl(),b.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void b.fire("showmenu"))},hideMenu:function(){var T=this;T.menu&&(T.menu.items().each(function(b){b.hideMenu&&b.hideMenu()}),T.menu.hide())},activeMenu:function(T){this.classes.toggle("active",T)},renderHtml:function(){var F,T=this,b=T._id,w=T.classPrefix,S=T.settings.icon,D=T.state.get("text"),N="";return(F=T.settings.image)?(S="none","string"!=typeof F&&(F=window.getSelection?F[0]:F[1]),F=" style=\"background-image: url('"+F+"')\""):F="",D&&(T.classes.add("btn-has-text"),N='<span class="'+w+'txt">'+T.encode(D)+"</span>"),S=T.settings.icon?w+"ico "+w+"i-"+S:"",T.aria("role",T.parent()instanceof z?"menuitem":"button"),'<div id="'+b+'" class="'+T.classes+'" tabindex="-1" aria-labelledby="'+b+'"><button id="'+b+'-open" role="presentation" type="button" tabindex="-1">'+(S?'<i class="'+S+'"'+F+"></i>":"")+N+' <i class="'+w+'caret"></i></button></div>'},postRender:function(){var T=this;return T.on("click",function(b){b.control===T&&function(T,b){for(;T;){if(b===T)return!0;T=T.parentNode}return!1}(b.target,T.getEl())&&(T.focus(),T.showMenu(!b.aria),b.aria&&T.menu.items().filter(":visible")[0].focus())}),T.on("mouseenter",function(b){var F,w=b.control,S=T.parent();w&&S&&w instanceof C&&w.parent()==S&&(S.items().filter("MenuButton").each(function(D){D.hideMenu&&D!=w&&(D.menu&&D.menu.visible()&&(F=!0),D.hideMenu())}),F&&(w.focus(),w.showMenu()))}),T._super()},bindStates:function(){var T=this;return T.state.on("change:menu",function(){T.menu&&T.menu.remove(),T.menu=null}),T._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return C}),Ye(qo,[rn,_i,Mt,Ke],function(ee,Y,z,B){return ee.extend({Defaults:{border:0,role:"menuitem"},init:function(C){var b,T=this;T._super(C),C=T.settings,T.classes.add("menu-item"),C.menu&&T.classes.add("menu-item-expand"),C.preview&&T.classes.add("menu-item-preview"),"-"!==(b=T.state.get("text"))&&"|"!==b||(T.classes.add("menu-item-sep"),T.aria("role","separator"),T.state.set("text","-")),C.selectable&&(T.aria("role","menuitemcheckbox"),T.classes.add("menu-item-checkbox"),C.icon="selected"),C.preview||C.selectable||T.classes.add("menu-item-normal"),T.on("mousedown",function(w){w.preventDefault()}),C.menu&&!C.ariaHideMenu&&T.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var b,C=this,T=C.settings,w=C.parent();if(w.items().each(function(F){F!==C&&F.hideMenu()}),T.menu){(b=C.menu)?b.show():((b=T.menu).length?b={type:"menu",items:b}:b.type=b.type||"menu",w.settings.itemDefaults&&(b.itemDefaults=w.settings.itemDefaults),(b=C.menu=Y.create(b).parent(C).renderTo()).reflow(),b.on("cancel",function(F){F.stopPropagation(),C.focus(),b.hide()}),b.on("show hide",function(F){F.control.items&&F.control.items().each(function(D){D.active(D.settings.selected)})}).fire("show"),b.on("hide",function(F){F.control===b&&C.classes.remove("selected")}),b.submenu=!0),b._parentMenu=w,b.classes.add("menu-sub");var S=b.testMoveRel(C.getEl(),C.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);b.moveRel(C.getEl(),S),b.rel=S,S="menu-sub-"+S,b.classes.remove(b._lastRel).add(S),b._lastRel=S,C.classes.add("selected"),C.aria("expanded",!0)}},hideMenu:function(){var C=this;return C.menu&&(C.menu.items().each(function(T){T.hideMenu&&T.hideMenu()}),C.menu.hide(),C.aria("expanded",!1)),C},renderHtml:function(){function T(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(A){var P=D.match||"";return P?A.replace(new RegExp(T(P),"gi"),function(M){return"!mce~match["+M+"]mce~match!"}):A}function w(A){return A.replace(new RegExp(T("!mce~match["),"g"),"<b>").replace(new RegExp(T("]mce~match!"),"g"),"</b>")}var $,S=this,F=S._id,D=S.settings,N=S.classPrefix,E=S.state.get("text"),V=S.settings.icon,R="",W=D.shortcut,O=S.encode(D.url);return V&&S.parent().classes.add("menu-has-icons"),D.image&&(R=" style=\"background-image: url('"+D.image+"')\""),W&&(W=function(A){var P,M,x;for(x=z.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},A=A.split("+"),P=0;P<A.length;P++)(M=x[A[P].toLowerCase()])&&(A[P]=M);return A.join("+")}(W)),V=N+"ico "+N+"i-"+(S.settings.icon||"none"),$="-"!==E?'<i class="'+V+'"'+R+"></i>\xa0":"",E=w(S.encode(b(E))),O=w(S.encode(b(O))),'<div id="'+F+'" class="'+S.classes+'" tabindex="-1">'+$+("-"!==E?'<span id="'+F+'-text" class="'+N+'text">'+E+"</span>":"")+(W?'<div id="'+F+'-shortcut" class="'+N+'menu-shortcut">'+W+"</div>":"")+(D.menu?'<div class="'+N+'caret"></div>':"")+(O?'<div class="'+N+'menu-item-link">'+O+"</div>":"")+"</div>"},postRender:function(){var C=this,T=C.settings,b=T.textStyle;if("function"==typeof b&&(b=b.call(this)),b){var w=C.getEl("text");w&&w.setAttribute("style",b)}return C.on("mouseenter click",function(S){S.control===C&&(T.menu||"click"!==S.type?(C.showMenu(),S.aria&&C.menu.focus(!0)):(C.fire("select"),B.requestAnimationFrame(function(){C.parent().hideAll()})))}),C._super(),C},hover:function(){var C=this;return C.parent().items().each(function(T){T.classes.remove("selected")}),C.classes.toggle("selected",!0),C},active:function(C){return void 0!==C&&this.aria("checked",C),this._super(C)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),Ye(Ca,[ot,Ki,Ke],function(ee,Y,z){return function(B,C){var b,S,T=this,w=Y.classPrefix;T.show=function(F,D){function N(){b&&(ee(B).append('<div class="'+w+"throbber"+(C?" "+w+"throbber-inline":"")+'"></div>'),D&&D())}return T.hide(),b=!0,F?S=z.setTimeout(N,F):N(),T},T.hide=function(){var F=B.lastChild;return z.clearTimeout(S),F&&-1!=F.className.indexOf("throbber")&&F.parentNode.removeChild(F),b=!1,T}}}),Ye(Zo,[Nr,qo,Ca,ft],function(ee,Y,z,B){return ee.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(C){if(C.autohide=!0,C.constrainToViewport=!0,"function"==typeof C.items&&(C.itemsFactory=C.items,C.items=[]),C.itemDefaults)for(var b=C.items,w=b.length;w--;)b[w]=B.extend({},C.itemDefaults,b[w]);this._super(C),this.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){function C(){T.throbber&&(T.throbber.hide(),T.throbber=null)}var b,T=this;T.settings.itemsFactory&&(T.throbber||(T.throbber=new z(T.getEl("body"),!0),0===T.items().length?(T.throbber.show(),T.fire("loading")):T.throbber.show(100,function(){T.items().remove(),T.fire("loading")}),T.on("hide close",C)),T.requestTime=b=(new Date).getTime(),T.settings.itemsFactory(function(S){return 0===S.length?void T.hide():void(T.requestTime===b&&(T.getEl().style.width="",T.getEl("body").style.width="",C(),T.items().remove(),T.getEl("body").innerHTML="",T.add(S),T.renderNew(),T.fire("loaded")))}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var C=this;return C.items().each(function(T){var b=T.settings;if(b.icon||b.image||b.selectable)return C._hasIcons=!0,!1}),C.settings.itemsFactory&&C.on("postrender",function(){C.settings.itemsFactory&&C.load()}),C._super()}})}),Ye(_s,[go,Zo],function(ee,Y){return ee.extend({init:function(z){var T,b,w,S,C=this;C._super(z),C._values=T=(z=C.settings).values,T&&(void 0!==z.value&&function B(F){for(var D=0;D<F.length;D++){if(b=F[D].selected||z.value===F[D].value)return w=w||F[D].text,C.state.set("value",F[D].value),!0;if(F[D].menu&&B(F[D].menu))return!0}}(T),!b&&T.length>0&&(w=T[0].text,C.state.set("value",T[0].value)),C.state.set("menu",T)),C.state.set("text",z.text||w),C.classes.add("listbox"),C.on("select",function(F){var D=F.control;S&&(F.lastControl=S),z.multiple?D.active(!D.active()):C.value(F.control.value()),S=D})},bindStates:function(){function B(T,b){var w;if(T)for(var S=0;S<T.length;S++){if(T[S].value===b)return T[S];if(T[S].menu&&(w=B(T[S].menu,b)))return w}}var C=this;return C.on("show",function(T){!function(T,b){T instanceof Y&&T.items().each(function(w){w.hasMenus()||w.active(w.value()===b)})}(T.control,C.value())}),C.state.on("change:value",function(T){var b=B(C.state.get("menu"),T.value);C.text(b?b.text:C.settings.text)}),C._super()}})}),Ye(yr,[Go],function(ee){return ee.extend({Defaults:{classes:"radio",role:"radio"}})}),Ye(ur,[rn,Ui],function(ee,Y){return ee.extend({renderHtml:function(){var z=this,B=z.classPrefix;return z.classes.add("resizehandle"),"both"==z.settings.direction&&z.classes.add("resizehandle-both"),z.canFocus=!1,'<div id="'+z._id+'" class="'+z.classes+'"><i class="'+B+"ico "+B+'i-resize"></i></div>'},postRender:function(){var z=this;z._super(),z.resizeDragHelper=new Y(this._id,{start:function(){z.fire("ResizeStart")},drag:function(B){"both"!=z.settings.direction&&(B.deltaX=0),z.fire("Resize",B)},stop:function(){z.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),Ye(Yo,[rn],function(ee){function Y(z){var B="";if(z)for(var C=0;C<z.length;C++)B+='<option value="'+z[C]+'">'+z[C]+"</option>";return B}return ee.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(z){var B=this;B._super(z),B.settings.size&&(B.size=B.settings.size),B.settings.options&&(B._options=B.settings.options),B.on("keydown",function(C){var T;13==C.keyCode&&(C.preventDefault(),B.parents().reverse().each(function(b){if(b.toJSON)return T=b,!1}),B.fire("submit",{data:T.toJSON()}))})},options:function(z){return arguments.length?(this.state.set("options",z),this):this.state.get("options")},renderHtml:function(){var B,z=this,C="";return B=Y(z._options),z.size&&(C=' size = "'+z.size+'"'),'<select id="'+z._id+'" class="'+z.classes+'"'+C+">"+B+"</select>"},bindStates:function(){var z=this;return z.state.on("change:options",function(B){z.getEl().innerHTML=Y(B.value)}),z._super()}})}),Ye(ro,[rn,Ui,Zn],function(ee,Y,z){function B(b,w,S){return b<w&&(b=w),b>S&&(b=S),b}function C(b,w,S){b.setAttribute("aria-"+w,S)}function T(b,w){var S,F,D,N,V;"v"==b.settings.orientation?(N="top",D="height",F="h"):(N="left",D="width",F="w"),V=b.getEl("handle"),S=(b.layoutRect()[F]||100)-z.getSize(V)[D],V.style[N]=S*((w-b._minValue)/(b._maxValue-b._minValue))+"px",V.style.height=b.layoutRect().h+"px",C(V,"valuenow",w),C(V,"valuetext",""+b.settings.previewFilter(w)),C(V,"valuemin",b._minValue),C(V,"valuemax",b._maxValue)}return ee.extend({init:function(b){var w=this;b.previewFilter||(b.previewFilter=function(S){return Math.round(100*S)/100}),w._super(b),w.classes.add("slider"),"v"==b.orientation&&w.classes.add("vertical"),w._minValue=b.minValue||0,w._maxValue=b.maxValue||100,w._initValue=w.state.get("value")},renderHtml:function(){var b=this,w=b._id;return'<div id="'+w+'" class="'+b.classes+'"><div id="'+w+'-handle" class="'+b.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var N,E,V,R,W,O,$,A,P,M,x,_,H,X,D=this;N=D._minValue,E=D._maxValue,"v"==D.settings.orientation?(V="screenY",R="top",W="height",O="h"):(V="screenX",R="left",W="width",O="w"),D._super(),function($,A){function P(M){var x;x=D.value(),x=function($,A,P){return P*(A-$)-$}($,A,function($,A,P){return(P+$)/(A-$)}($,A,x)+.05*M),x=B(x,$,A),D.value(x),D.fire("dragstart",{value:x}),D.fire("drag",{value:x}),D.fire("dragend",{value:x})}D.on("keydown",function(M){switch(M.keyCode){case 37:case 38:P(-1);break;case 39:case 40:P(1)}})}(N,E,D.getEl("handle")),$=N,A=E,P=D.getEl("handle"),D._dragHelper=new Y(D._id,{handle:D._id+"-handle",start:function(U){M=U[V],x=parseInt(D.getEl("handle").style[R],10),_=(D.layoutRect()[O]||100)-z.getSize(P)[W],D.fire("dragstart",{value:X})},drag:function(U){H=B(x+(U[V]-M),0,_),P.style[R]=H+"px",D.value(X=$+H/_*(A-$)),D.tooltip().text(""+D.settings.previewFilter(X)).show().moveRel(P,"bc tc"),D.fire("drag",{value:X})},stop:function(){D.tooltip().hide(),D.fire("dragend",{value:X})}})},repaint:function(){this._super(),T(this,this.value())},bindStates:function(){var b=this;return b.state.on("change:value",function(w){T(b,w.value)}),b._super()}})}),Ye(gi,[rn],function(ee){return ee.extend({renderHtml:function(){var Y=this;return Y.classes.add("spacer"),Y.canFocus=!1,'<div id="'+Y._id+'" class="'+Y.classes+'"></div>'}})}),Ye(mo,[go,Zn,ot],function(ee,Y,z){return ee.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var w,B=this,C=B.getEl(),T=B.layoutRect();return B._super(),w=C.lastChild,z(C.firstChild).css({width:T.w-Y.getSize(w).width,height:T.h-2}),z(w).css({height:T.h-2}),B},activeMenu:function(B){z(this.getEl().lastChild).toggleClass(this.classPrefix+"active",B)},renderHtml:function(){var b,B=this,C=B._id,T=B.classPrefix,w=B.state.get("icon"),S=B.state.get("text"),F="";return(b=B.settings.image)?(w="none","string"!=typeof b&&(b=window.getSelection?b[0]:b[1]),b=" style=\"background-image: url('"+b+"')\""):b="",w=B.settings.icon?T+"ico "+T+"i-"+w:"",S&&(B.classes.add("btn-has-text"),F='<span class="'+T+'txt">'+B.encode(S)+"</span>"),'<div id="'+C+'" class="'+B.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(w?'<i class="'+w+'"'+b+"></i>":"")+F+'</button><button type="button" class="'+T+'open" hidefocus="1" tabindex="-1">'+(B._menuBtnText?(w?"\xa0":"")+B._menuBtnText:"")+' <i class="'+T+'caret"></i></button></div>'},postRender:function(){var B=this,C=B.settings.onclick;return B.on("click",function(T){var b=T.target;if(T.control==this)for(;b;){if(T.aria&&"down"!=T.aria.key||"BUTTON"==b.nodeName&&-1==b.className.indexOf("open"))return T.stopImmediatePropagation(),void(C&&C.call(this,T));b=b.parentNode}}),delete B.settings.onclick,B._super()}})}),Ye(Sa,[_a],function(ee){return ee.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),Ye(Ga,[$i,ot,Zn],function(ee,Y,z){return ee.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(B){var C;this.activeTabId&&(C=this.getEl(this.activeTabId),Y(C).removeClass(this.classPrefix+"active"),C.setAttribute("aria-selected","false")),this.activeTabId="t"+B,(C=this.getEl("t"+B)).setAttribute("aria-selected","true"),Y(C).addClass(this.classPrefix+"active"),this.items()[B].show().fire("showtab"),this.reflow(),this.items().each(function(T,b){B!=b&&T.hide()})},renderHtml:function(){var B=this,C=B._layout,T="",b=B.classPrefix;return B.preRender(),C.preRender(B),B.items().each(function(w,S){var F=B._id+"-t"+S;w.aria("role","tabpanel"),w.aria("labelledby",F),T+='<div id="'+F+'" class="'+b+'tab" unselectable="on" role="tab" aria-controls="'+w._id+'" aria-selected="false" tabIndex="-1">'+B.encode(w.settings.title)+"</div>"}),'<div id="'+B._id+'" class="'+B.classes+'" hidefocus="1" tabindex="-1"><div id="'+B._id+'-head" class="'+b+'tabs" role="tablist">'+T+'</div><div id="'+B._id+'-body" class="'+B.bodyClasses+'">'+C.renderHtml(B)+"</div></div>"},postRender:function(){var B=this;B._super(),B.settings.activeTab=B.settings.activeTab||0,B.activateTab(B.settings.activeTab),this.on("click",function(C){var T=C.target.parentNode;if(T&&T.id==B._id+"-head")for(var b=T.childNodes.length;b--;)T.childNodes[b]==C.target&&B.activateTab(b)})},initLayoutRect:function(){var C,T,b,B=this;T=(T=z.getSize(B.getEl("head")).width)<0?0:T,b=0,B.items().each(function(S){T=Math.max(T,S.layoutRect().minW),b=Math.max(b,S.layoutRect().minH)}),B.items().each(function(S){S.settings.x=0,S.settings.y=0,S.settings.w=T,S.settings.h=b,S.layoutRect({x:0,y:0,w:T,h:b})});var w=z.getSize(B.getEl("head")).height;return B.settings.minWidth=T,B.settings.minHeight=b+w,(C=B._super()).deltaH+=w,C.innerH=C.h-C.deltaH,C}})}),Ye($o,[rn,ft,Zn],function(ee,Y,z){return ee.extend({init:function(B){var C=this;C._super(B),C.classes.add("textbox"),B.multiline?C.classes.add("multiline"):(C.on("keydown",function(T){var b;13==T.keyCode&&(T.preventDefault(),C.parents().reverse().each(function(w){if(w.toJSON)return b=w,!1}),C.fire("submit",{data:b.toJSON()}))}),C.on("keyup",function(T){C.state.set("value",T.target.value)}))},repaint:function(){var C,T,b,w,F,B=this,S=0;C=B.getEl().style,T=B._layoutRect,F=B._lastRepaintRect||{};var D=document;return!B.settings.multiline&&D.all&&(!D.documentMode||D.documentMode<=8)&&(C.lineHeight=T.h-S+"px"),w=(b=B.borderBox).left+b.right+8,S=b.top+b.bottom+(B.settings.multiline?8:0),T.x!==F.x&&(C.left=T.x+"px",F.x=T.x),T.y!==F.y&&(C.top=T.y+"px",F.y=T.y),T.w!==F.w&&(C.width=T.w-w+"px",F.w=T.w),T.h!==F.h&&(C.height=T.h-S+"px",F.h=T.h),B._lastRepaintRect=F,B.fire("repaint",{},!1),B},renderHtml:function(){var T,b,B=this,C=B.settings;return T={id:B._id,hidefocus:"1"},Y.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(w){T[w]=C[w]}),B.disabled()&&(T.disabled="disabled"),C.subtype&&(T.type=C.subtype),(b=z.create(C.multiline?"textarea":"input",T)).value=B.state.get("value"),b.className=B.classes,b.outerHTML},value:function(B){return arguments.length?(this.state.set("value",B),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var B=this;B.getEl().value=B.state.get("value"),B._super(),B.$el.on("change",function(C){B.state.set("value",C.target.value),B.fire("change",C)})},bindStates:function(){var B=this;return B.state.on("change:value",function(C){B.getEl().value!=C.value&&(B.getEl().value=C.value)}),B.state.on("change:disabled",function(C){B.getEl().disabled=C.value}),B._super()},remove:function(){this.$el.off(),this._super()}})}),Ye("tinymce/Register",[],function(){var ee=this||window;return"function"==typeof ee.define&&(ee.define.amd||ee.define("ephox/tinymce",[],function(){return ee.tinymce})),"object"==typeof module&&(module.exports=window.tinymce),{}}),function(ee){var Y,z,B,C,T;for(Y=0;Y<ee.length;Y++){z=Bt,C=(B=ee[Y]).split(/[.\/]/);for(var b=0;b<C.length-1;++b)z[C[b]]===Ln&&(z[C[b]]={}),z=z[C[b]];z[C[C.length-1]]=Ot[B]}if(Bt.AMDLC_TESTS){for(B in T=Bt.privateModules||{},Ot)T[B]=Ot[B];for(Y=0;Y<ee.length;Y++)delete T[ee[Y]];Bt.privateModules=T}}([Qe,we,Ke,Mt,de,Me,ft,ot,Ne,me,ze,$e,xt,Xe,Kt,bt,dt,Gt,Sn,ln,Pn,st,Zt,_n,En,vi,yi,on,jn,Nt,Yt,an,fn,An,Bn,Yi,Ki,_i,Wr,nr,Ui,vr,$i,Vi,Gr,Nr,to,kt,Wt,yn,rn,Dn,Hn,oi,hi,Mi,Vo,So,Ho,ma,ms,Mo,vs,To,Ji,qr,lr,ko,io,Wo,Go,va,Fa,ya,Uo,jo,Va,po,Ha,xa,ba,ys,Pi,Ao,Zr,_a,Lr,Er,wa,Io,bs,Wa,Li,go,qo,Ca,Zo,_s,yr,ur,Yo,ro,gi,mo,Sa,Ga,$o])}(window),function(){var Bt={},Ye=function(Qe){var we=Bt[Qe];if(void 0===we)throw"module ["+Qe+"] was undefined";return void 0===we.instance&&function(Qe){for(var we=Bt[Qe],Ke=we.deps,Mt=we.defn,de=Ke.length,Me=new Array(de),zt=0;zt<de;++zt)Me[zt]=Ye(Ke[zt]);var ft=Mt.apply(null,Me);if(void 0===ft)throw"module ["+Qe+"] returned undefined";we.instance=ft}(Qe),we.instance},At=function(Qe,we,Ke){if("string"!=typeof Qe)throw"module id must be a string";if(void 0===we)throw"no dependencies for "+Qe;if(void 0===Ke)throw"no definition function for "+Qe;Bt[Qe]={deps:we,defn:Ke,instance:void 0}},Ot=function(Qe,we){At(Qe,[],function(){return we})};Ot("1",tinymce.Env),Ot("2",tinymce.EditorManager),Ot("3",tinymce.ThemeManager),Ot("8",tinymce.util.Tools),Ot("9",tinymce.ui.Factory),Ot("a",tinymce.DOM),At("b",["8","9"],function(Qe,we){var Mt=function(Me,zt,ft){var ot,Ne=[];if(zt)return Qe.each(zt.split(/[ ,]/),function(me){var ze=function(){var Oe=Me.selection;me.settings.stateSelector&&Oe.selectorChanged(me.settings.stateSelector,function($e){me.active($e)},!0),me.settings.disabledStateSelector&&Oe.selectorChanged(me.settings.disabledStateSelector,function($e){me.disabled($e)})};"|"==me?ot=null:we.has(me)?(Ne.push(me={type:me,size:ft}),ot=null):(ot||Ne.push(ot={type:"buttongroup",items:[]}),Me.buttons[me]&&("function"==typeof(me=Me.buttons[me])&&(me=me()),me.type=me.type||"button",me.size=ft,me=we.create(me),ot.items.push(me),Me.initialized?ze():Me.on("init",ze)))}),{type:"toolbar",layout:"flow",items:Ne}};return{createToolbar:Mt,createToolbars:function(Me,zt){var ft=[],ot=Me.settings,Ne=function(at){if(at)return ft.push(Mt(Me,at,zt)),!0};if(Qe.isArray(ot.toolbar)){if(0===ot.toolbar.length)return;Qe.each(ot.toolbar,function(at,ze){ot["toolbar"+(ze+1)]=at}),delete ot.toolbar}for(var me=1;me<10&&Ne(ot["toolbar"+me]);me++);if(ft.length||!1===ot.toolbar||Ne(ot.toolbar||"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"),ft.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:ft}}}}),At("c",["8"],function(Qe){var we={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},Ke=function(Me,zt){return"|"==zt?{text:"|"}:Me[zt]},Mt=function(Me,zt,ft){var ot,Ne,me,at,ze;if(ze=Qe.makeMap((zt.removed_menuitems||"").split(/[ ,]/)),zt.menu?(Ne=zt.menu[ft],at=!0):Ne=we[ft],Ne){ot={text:Ne.title},me=[],Qe.each((Ne.items||"").split(/[ ,]/),function($e){Ke(Me,$e)&&!ze[$e]&&me.push(Ke(Me,$e))}),at||Qe.each(Me,function($e){$e.context==ft&&("before"==$e.separator&&me.push({text:"|"}),$e.prependToContext?me.unshift($e):me.push($e),"after"==$e.separator&&me.push({text:"|"}))});for(var Oe=0;Oe<me.length;Oe++)"|"==me[Oe].text&&(0!==Oe&&Oe!=me.length-1||me.splice(Oe,1));if(ot.menu=me,!ot.menu.length)return null}return ot};return{createMenuButtons:function(Me){var zt,ft=[],ot=Me.settings,Ne=[];if(ot.menu)for(zt in ot.menu)Ne.push(zt);else for(zt in we)Ne.push(zt);for(var me="string"==typeof ot.menubar?ot.menubar.split(/[ ,]/):Ne,at=0;at<me.length;at++){var ze=me[at];(ze=Mt(Me.menuItems,Me.settings,ze))&&ft.push(ze)}return ft}}}),Ot("j",tinymce.util.Delay),Ot("k",tinymce.geom.Rect),At("d",["a","8","j","b","9","k"],function(Qe,we,Ke,Mt,de,Me){var zt=function(ze){return{left:ze.x,top:ze.y,width:ze.w,height:ze.h,right:ze.x+ze.w,bottom:ze.y+ze.h}},ot=function(ze,Oe){ze.moveTo(Oe.left,Oe.top)},me=function(ze,Oe,$e,xt,Xe,vt){return vt=zt({x:Oe,y:$e,w:vt.w,h:vt.h}),ze&&(vt=ze({elementRect:zt(xt),contentAreaRect:zt(Xe),panelRect:vt})),vt};return{addContextualToolbars:function(ze){var Oe,$e=ze.settings,xt=function(){return ze.contextToolbars||[]},vt=function(dt,Gt){var Sn,ln,Pn,st,Tt,Zt,_n,Ht=$e.inline_toolbar_position_handler;if(!ze.removed){if(!dt||!dt.toolbar.panel)return void function(ze){we.each(ze.contextToolbars,function(Oe){Oe.panel&&Oe.panel.hide()})}(ze);_n=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],Tt=dt.toolbar.panel,Gt&&Tt.show(),Pn=function(dt){var Gt,Sn,ln;return Gt=Qe.getPos(ze.getContentAreaContainer()),Sn=ze.dom.getRect(dt),"BODY"===(ln=ze.dom.getRoot()).nodeName&&(Sn.x-=ln.ownerDocument.documentElement.scrollLeft||ln.scrollLeft,Sn.y-=ln.ownerDocument.documentElement.scrollTop||ln.scrollTop),Sn.x+=Gt.x,Sn.y+=Gt.y,Sn}(dt.element),ln=Qe.getRect(Tt.getEl()),st=Qe.getRect(ze.getContentAreaContainer()||ze.getBody()),"inline"!==Qe.getStyle(dt.element,"display",!0)&&(Pn.w=dt.element.clientWidth,Pn.h=dt.element.clientHeight),ze.inline||(st.w=ze.getDoc().documentElement.offsetWidth),ze.selection.controlSelection.isResizable(dt.element)&&Pn.w<25&&(Pn=Me.inflate(Pn,0,8)),Sn=Me.findBestRelativePosition(ln,Pn,st,_n),Pn=Me.clamp(Pn,st),Sn?(Zt=Me.relativePosition(ln,Pn,Sn),ot(Tt,me(Ht,Zt.x,Zt.y,Pn,st,ln))):(st.h+=ln.h,(Pn=Me.intersect(st,Pn))?(Sn=Me.findBestRelativePosition(ln,Pn,st,["bc-tc","bl-tl","br-tr"]))?(Zt=Me.relativePosition(ln,Pn,Sn),ot(Tt,me(Ht,Zt.x,Zt.y,Pn,st,ln))):ot(Tt,me(Ht,Pn.x,Pn.y,Pn,st,ln)):Tt.hide()),function(ze,Oe,$e){Oe=Oe?Oe.substr(0,2):"",we.each({t:"down",b:"up"},function(xt,Xe){ze.classes.toggle("arrow-"+xt,$e(Xe,Oe.substr(0,1)))}),we.each({l:"left",r:"right"},function(xt,Xe){ze.classes.toggle("arrow-"+xt,$e(Xe,Oe.substr(1,1)))})}(Tt,Sn,function(le,Et){return le===Et})}},Ft=function(dt){return function(){Ke.requestAnimationFrame(function(){ze.selection&&vt(bt(ze.selection.getNode()),dt)})}},It=function(){we.each(xt(),function(dt){dt.panel&&dt.panel.hide()})},bt=function(dt){var Gt,Sn,ln,Pn=xt();for(Gt=(ln=ze.$(dt).parents().add(dt)).length-1;Gt>=0;Gt--)for(Sn=Pn.length-1;Sn>=0;Sn--)if(Pn[Sn].predicate(ln[Gt]))return{toolbar:Pn[Sn],element:ln[Gt]};return null};ze.on("click keyup setContent ObjectResized",function(dt){("setcontent"!==dt.type||dt.selection)&&Ke.setEditorTimeout(ze,function(){var Gt;(Gt=bt(ze.selection.getNode()))?(It(),function(dt){var Gt;dt.toolbar.panel?(dt.toolbar.panel.show(),vt(dt)):(Oe||(Oe=ze.selection.getScrollContainer()||ze.getWin(),Qe.bind(Oe,"scroll",Ft(!0)),ze.on("remove",function(){Qe.unbind(Oe,"scroll")})),Gt=de.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:Mt.createToolbar(ze,dt.toolbar.items),oncancel:function(){ze.focus()}}),dt.toolbar.panel=Gt,Gt.renderTo(document.body).reflow(),vt(dt))}(Gt)):It()})}),ze.on("blur hide contextmenu",It),ze.on("ObjectResizeStart",function(){var dt=bt(ze.selection.getNode());dt&&dt.toolbar.panel&&dt.toolbar.panel.hide()}),ze.on("ResizeEditor ResizeWindow",Ft(!0)),ze.on("nodeChange",Ft(!1)),ze.on("remove",function(){we.each(xt(),function(dt){dt.panel&&dt.panel.remove()}),ze.contextToolbars={}}),ze.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var dt=bt(ze.selection.getNode());dt&&dt.toolbar.panel&&dt.toolbar.panel.items()[0].focus()})}}}),At("e",[],function(){var Qe=function(Ke,Mt){return function(){var de=Ke.find(Mt)[0];de&&de.focus(!0)}};return{addKeys:function(Ke,Mt){Ke.shortcuts.add("Alt+F9","",Qe(Mt,"menubar")),Ke.shortcuts.add("Alt+F10,F10","",Qe(Mt,"toolbar")),Ke.shortcuts.add("Alt+F11","",Qe(Mt,"elementpath")),Mt.on("cancel",function(){Ke.focus()})}}}),At("f",["8","9","1"],function(Qe,we,Ke){var de=function(ze,Oe,$e){var xt=ze.settings[$e];xt&&xt(function(ze){return{element:function(){return ze}}}(Oe.getEl("body")))},ot=function(ze,Oe,$e){return function(xt){var Xe=xt.control,vt=Xe.parents().filter("panel")[0],Ft=vt.find("#"+Oe)[0],en=function(ze,Oe){return Qe.grep(ze,function($e){return $e.name===Oe})[0]}($e,Oe);(function(ze,Oe,$e){Qe.each($e,function(xt){var Xe=Oe.items().filter("#"+xt.name)[0];Xe&&Xe.visible()&&xt.name!==ze&&(de(xt,Xe,"onhide"),Xe.visible(!1))})})(Oe,vt,$e),function(ze){ze.items().each(function(Oe){Oe.active(!1)})}(Xe.parent()),Ft&&Ft.visible()?(de(en,Ft,"onhide"),Ft.hide(),Xe.active(!1)):(Ft?(Ft.show(),de(en,Ft,"onshow")):(Ft=we.create({type:"container",name:Oe,layout:"stack",classes:"sidebar-panel",html:""}),vt.prepend(Ft),de(en,Ft,"onrender"),de(en,Ft,"onshow")),Xe.active(!0)),ze.fire("ResizeEditor")}};return{hasSidebar:function(ze){return!(Ke.ie&&!(Ke.ie>=11)||!ze.sidebars)&&ze.sidebars.length>0},createSidebar:function(ze){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:Qe.map(ze.sidebars,function($e){var xt=$e.settings;return{type:"button",icon:xt.icon,image:xt.image,tooltip:xt.tooltip,onclick:ot(ze,$e.name,ze.sidebars)}})}]}}}}),At("g",[],function(){return{fireSkinLoaded:function(we){var Ke=function(){we._skinLoaded=!0,we.fire("SkinLoaded")};return function(){we.initialized?Ke():we.on("init",Ke)}}}}),At("6",["a"],function(Qe){var we=function(de){return{width:de.clientWidth,height:de.clientHeight}},Ke=function(de,Me,zt){var ft,ot,Ne,me,at=de.settings;ft=de.getContainer(),ot=de.getContentAreaContainer().firstChild,Ne=we(ft),me=we(ot),null!==Me&&(Me=Math.max(at.min_width||100,Me),Me=Math.min(at.max_width||65535,Me),Qe.setStyle(ft,"width",Me+(Ne.width-me.width)),Qe.setStyle(ot,"width",Me)),zt=Math.max(at.min_height||100,zt),zt=Math.min(at.max_height||65535,zt),Qe.setStyle(ot,"height",zt),de.fire("ResizeEditor")};return{resizeTo:Ke,resizeBy:function(de,Me,zt){var ft=de.getContentAreaContainer();Ke(de,ft.clientWidth+Me,ft.clientHeight+zt)}}}),At("4",["8","9","a","b","c","d","e","f","g","6"],function(Qe,we,Ke,Mt,de,Me,zt,ft,ot,Ne){var at=function($e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:$e,html:""}},ze=function($e){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[at("0"),ft.createSidebar($e)]}};return{render:function($e,xt,Xe){var vt,Ft,en,Kt=$e.settings;return Xe.skinUiCss&&Ke.styleSheetLoader.load(Xe.skinUiCss,ot.fireSkinLoaded($e)),vt=xt.panel=we.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===Kt.menubar?null:{type:"menubar",border:"0 0 1 0",items:de.createMenuButtons($e)},Mt.createToolbars($e,Kt.toolbar_items_size),ft.hasSidebar($e)?ze($e):at("1 0 0 0")]}),!1!==Kt.resize&&(Ft={type:"resizehandle",direction:Kt.resize,onResizeStart:function(){var It=$e.getContentAreaContainer().firstChild;en={width:It.clientWidth,height:It.clientHeight}},onResize:function(It){Ne.resizeTo($e,"both"===Kt.resize?en.width+It.deltaX:null,en.height+It.deltaY)}}),!1!==Kt.statusbar&&vt.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:$e},Ft]}),$e.fire("BeforeRenderUI"),$e.on("SwitchMode",function($e){return function(xt){$e.find("*").disabled("readonly"===xt.mode)}}(vt)),vt.renderBefore(Xe.targetNode).reflow(),Kt.readonly&&$e.setMode("readonly"),Kt.width&&Ke.setStyle(vt.getEl(),"width",Kt.width),$e.on("remove",function(){vt.remove(),vt=null}),zt.addKeys($e,vt),Me.addContextualToolbars($e),{iframeContainer:vt.find("#iframe")[0].getEl(),editorContainer:vt.getEl()}}}}),Ot("h",tinymce.ui.FloatPanel),At("5",["8","9","a","h","b","c","d","e","g"],function(Qe,we,Ke,Mt,de,Me,zt,ft,ot){return{render:function(me,at,ze){var Oe,$e,xt=me.settings;xt.fixed_toolbar_container&&($e=Ke.select(xt.fixed_toolbar_container)[0]);var Xe=function(){if(Oe&&Oe.moveRel&&Oe.visible()&&!Oe._fixed){var Kt=me.selection.getScrollContainer(),It=me.getBody(),bt=0,dt=0;if(Kt){var Gt=Ke.getPos(It),Sn=Ke.getPos(Kt);bt=Math.max(0,Sn.x-Gt.x),dt=Math.max(0,Sn.y-Gt.y)}Oe.fixed(!1).moveRel(It,me.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(bt,dt)}},vt=function(){Oe&&(Oe.show(),Xe(),Ke.addClass(me.getBody(),"mce-edit-focus"))},Ft=function(){Oe&&(Oe.hide(),Mt.hideAll(),Ke.removeClass(me.getBody(),"mce-edit-focus"))},en=function(){return Oe?void(Oe.visible()||vt()):(Oe=at.panel=we.create({type:$e?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!$e,border:1,items:[!1===xt.menubar?null:{type:"menubar",border:"0 0 1 0",items:Me.createMenuButtons(me)},de.createToolbars(me,xt.toolbar_items_size)]}),me.fire("BeforeRenderUI"),Oe.renderTo($e||document.body).reflow(),ft.addKeys(me,Oe),vt(),zt.addContextualToolbars(me),me.on("nodeChange",Xe),me.on("activate",vt),me.on("deactivate",Ft),void me.nodeChanged())};return xt.content_editable=!0,me.on("focus",function(){ze.skinUiCss?Ke.styleSheetLoader.load(ze.skinUiCss,en,en):en()}),me.on("blur hide",Ft),me.on("remove",function(){Oe&&(Oe.remove(),Oe=null)}),ze.skinUiCss&&Ke.styleSheetLoader.load(ze.skinUiCss,ot.fireSkinLoaded(me)),{}}}}),Ot("i",tinymce.ui.Throbber),At("7",["i"],function(Qe){return{setup:function(Ke,Mt){var de;Ke.on("ProgressState",function(Me){de=de||new Qe(Mt.panel.getEl("body")),Me.state?de.show(Me.time):de.hide()})}}}),At("0",["1","2","3","4","5","6","7"],function(Qe,we,Ke,Mt,de,Me,zt){return Ke.add("modern",function(ot){return{renderUI:function(Ne){return function(ot,Ne,me){var at=ot.settings,ze=!1!==at.skin&&(at.skin||"lightgray");if(ze){var Oe=at.skin_url;Oe=Oe?ot.documentBaseURI.toAbsolute(Oe):we.baseURL+"/skins/"+ze,me.skinUiCss=Qe.documentMode<=7?Oe+"/skin.ie7.min.css":Oe+"/skin.min.css",ot.contentCSS.push(Oe+"/content"+(ot.inline?".inline":"")+".min.css")}return zt.setup(ot,Ne),at.inline?de.render(ot,Ne,me):Mt.render(ot,Ne,me)}(ot,this,Ne)},resizeTo:function(Ne,me){return Me.resizeTo(ot,Ne,me)},resizeBy:function(Ne,me){return Me.resizeBy(ot,Ne,me)}}}),function(){}}),Ye("0")()}(),tinymce.PluginManager.add("link",function(Bt){function Ln(me){return me&&"A"===me.nodeName&&me.href}function hn(me){return tinymce.util.Tools.grep(me,Ln).length>0}function Ye(me){return Bt.dom.getParent(me,"a[href]")}function sr(){return Ye(Bt.selection.getStart())}function Ke(me){if(me){var at=function(me){return me.getAttribute("data-mce-href")||me.getAttribute("href")}(me);if(/^#/.test(at)){var ze=Bt.$(at);ze.length&&Bt.selection.scrollIntoView(ze[0],!0)}else!function(me){if(!tinymce.Env.ie||tinymce.Env.ie>10){var at=document.createElement("a");at.target="_blank",at.href=me,at.rel="noreferrer noopener";var ze=document.createEvent("MouseEvents");ze.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),function(me,at){document.body.appendChild(me),me.dispatchEvent(at),document.body.removeChild(me)}(at,ze)}else{var Oe=window.open("","_blank");if(Oe){Oe.opener=null;var $e=Oe.document;$e.open(),$e.write('<meta http-equiv="refresh" content="0; url='+tinymce.DOM.encode(me)+'">'),$e.close()}}}(me.href)}}function Mt(){Ke(sr())}function Me(me){return function(){var at=Bt.settings.link_list;"string"==typeof at?tinymce.util.XHR.send({url:at,success:function(ze){me(tinymce.util.JSON.parse(ze))}}):"function"==typeof at?at(me):me(at)}}function zt(me,at,ze){return function Oe($e,xt){return xt=xt||[],tinymce.each($e,function(Xe){var vt={text:Xe.text||Xe.title};Xe.menu?vt.menu=Oe(Xe.menu):(vt.value=Xe.value,at&&at(vt)),xt.push(vt)}),xt}(me,ze||[])}function ft(me){function at(lt){var Ht=Kt.find("#text");(!Ht.value()||lt.lastControl&&Ht.value()==lt.lastControl.text())&&Ht.value(lt.control.text()),Kt.find("#href").value(lt.control.value())}function Oe(){!en&&0===Tt.text.length&&It&&this.parent().parent().find("#text")[0].value(this.value())}var vt,Ft,en,Kt,It,bt,dt,Gt,Sn,ln,Pn,st,Ht,Tt={},Zt=Bt.selection,_n=Bt.dom;vt=Zt.getNode(),Ft=_n.getParent(vt,"a[href]"),Ht=Zt.getContent(),It=!(/</.test(Ht)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(Ht)||-1==Ht.indexOf("href="))),Tt.text=en=Ft?Ft.innerText||Ft.textContent:Zt.getContent({format:"text"}),Tt.href=Ft?_n.getAttrib(Ft,"href"):"",Ft?Tt.target=_n.getAttrib(Ft,"target"):Bt.settings.default_link_target&&(Tt.target=Bt.settings.default_link_target),(st=_n.getAttrib(Ft,"rel"))&&(Tt.rel=st),(st=_n.getAttrib(Ft,"class"))&&(Tt.class=st),(st=_n.getAttrib(Ft,"title"))&&(Tt.title=st),It&&(bt={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){Tt.text=this.value()}}),me&&(dt={type:"listbox",label:"Link list",values:zt(me,function(lt){lt.value=Bt.convertURL(lt.value||lt.url,"href")},[{text:"None",value:""}]),onselect:at,value:Bt.convertURL(Tt.href,"href"),onPostRender:function(){dt=this}}),!1!==Bt.settings.target_list&&(Bt.settings.target_list||(Bt.settings.target_list=[{text:"None",value:""},{text:"New window",value:"_blank"}]),Sn={name:"target",type:"listbox",label:"Target",values:zt(Bt.settings.target_list)}),Bt.settings.rel_list&&(Gt={name:"rel",type:"listbox",label:"Rel",values:zt(Bt.settings.rel_list)}),Bt.settings.link_class_list&&(ln={name:"class",type:"listbox",label:"Class",values:zt(Bt.settings.link_class_list,function(lt){lt.value&&(lt.textStyle=function(){return Bt.formatter.getCssText({inline:"a",classes:[lt.value]})})})}),!1!==Bt.settings.link_title&&(Pn={name:"title",type:"textbox",label:"Title",value:Tt.title}),Kt=Bt.windowManager.open({title:"Insert link",data:Tt,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function(lt){var Ht=lt.meta||{};dt&&dt.value(Bt.convertURL(this.value(),"href")),tinymce.each(lt.meta,function(le,Et){var wn=Kt.find("#"+Et);"text"===Et?0===en.length&&(wn.value(le),Tt.text=le):wn.value(le)}),Ht.attach&&(ot={href:this.value(),attach:Ht.attach}),Ht.text||Oe.call(this)},onkeyup:Oe,onbeforecall:function(lt){lt.meta=Kt.toJSON()}},bt,Pn,function(lt){var Ht=[];if(tinymce.each(Bt.dom.select("a:not([href])"),function(le){var Et=le.name||le.id;Et&&Ht.push({text:Et,value:"#"+Et,selected:-1!=lt.indexOf("#"+Et)})}),Ht.length)return Ht.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:Ht,onselect:at}}(Tt.href),dt,Gt,Sn,ln],onSubmit:function(lt){function Ht(En,vi){var si=Bt.selection.getRng();tinymce.util.Delay.setEditorTimeout(Bt,function(){Bt.windowManager.confirm(En,function(qn){Bt.selection.setRng(si),vi(qn)})})}function Et(){var En={href:Nn,target:Tt.target?Tt.target:null,rel:Tt.rel?Tt.rel:null,class:Tt.class?Tt.class:null,title:Tt.title?Tt.title:null};Bt.settings.allow_unsafe_link_target||(En.rel=function(En,vi){function qn(yi){var Zi=new RegExp("("+zi.replace(" ","|")+")","g");return yi&&(yi=tinymce.trim(yi.replace(Zi,""))),yi||null}var yi,zi="noopener noreferrer";return vi?(yi=qn(yi=En))?[yi,zi].join(" "):zi:qn(En)}(En.rel,"_blank"==En.target)),Nn===ot.href&&(ot.attach(),ot={}),Ft?(Bt.focus(),It&&Tt.text!=en&&("innerText"in Ft?Ft.innerText=Tt.text:Ft.textContent=Tt.text),_n.setAttribs(Ft,En),Zt.select(Ft),Bt.undoManager.add()):It?Bt.insertContent(_n.createHTML("a",En,_n.encode(Tt.text))):Bt.execCommand("mceInsertLink",!1,En)}function wn(){Bt.undoManager.transact(Et)}var Nn;return Tt=tinymce.extend(Tt,lt.data),(Nn=Tt.href)?Nn.indexOf("@")>0&&-1==Nn.indexOf("//")&&-1==Nn.indexOf("mailto:")?void Ht("The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(En){En&&(Nn="mailto:"+Nn),wn()}):Bt.settings.link_assume_external_targets&&!/^\w+:/i.test(Nn)||!Bt.settings.link_assume_external_targets&&/^\s*www[\.|\d\.]/i.test(Nn)?void Ht("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(En){En&&(Nn="http://"+Nn),wn()}):void wn():void Bt.execCommand("unlink")}})}var ot={};Bt.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onclick:Me(ft),stateSelector:"a[href]"}),Bt.addButton("unlink",{icon:"unlink",tooltip:"Remove link",cmd:"unlink",stateSelector:"a[href]"}),Bt.addContextToolbar&&(Bt.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:Mt}),Bt.addContextToolbar(function(me){var at,ze,Oe;return!!(Bt.settings.link_context_toolbar&&!function(){var me=Bt.plugins.contextmenu;return!!me&&me.isContextMenuVisible()}()&&Ln(me)&&(at=Bt.selection,ze=at.getRng(),Oe=ze.startContainer,3==Oe.nodeType&&at.isCollapsed()&&ze.startOffset>0&&ze.startOffset<Oe.data.length))},"openlink | link unlink")),Bt.addShortcut("Meta+K","",Me(ft)),Bt.addCommand("mceLink",Me(ft)),Bt.on("click",function(me){var at=Ye(me.target);at&&tinymce.util.VK.metaKeyPressed(me)&&(me.preventDefault(),Ke(at))}),Bt.on("keydown",function(me){var at=sr();at&&13===me.keyCode&&function(me){return!0===me.altKey&&!1===me.shiftKey&&!1===me.ctrlKey&&!1===me.metaKey}(me)&&(me.preventDefault(),Ke(at))}),this.showDialog=ft,Bt.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:Mt,onPostRender:function(){var me=this,at=function(ze){hn(ze.parents)?me.show():me.hide()};hn(Bt.dom.getParents(Bt.selection.getStart()))||me.hide(),Bt.on("nodechange",at),me.on("remove",function(){Bt.off("nodechange",at)})},prependToContext:!0}),Bt.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:Me(ft),stateSelector:"a[href]",context:"insert",prependToContext:!0})}),function(Bt,Ln){"use strict";function Ye(Ot,Qe,we){if("string"!=typeof Ot)throw"invalid module definition, module id must be defined and be a string";if(Qe===Ln)throw"invalid module definition, dependencies must be specified";if(we===Ln)throw"invalid module definition, definition function must be specified";!function(Ot,Qe){for(var we,Ke=[],Mt=0;Mt<Ot.length;++Mt){if(!(we=At[Ot[Mt]]||sr(Ot[Mt])))throw"module definition dependecy not found: "+Ot[Mt];Ke.push(we)}Qe.apply(null,Ke)}(Qe,function(){At[Ot]=we.apply(null,arguments)})}function sr(Ot){for(var Qe=Bt,we=Ot.split(/[.\/]/),Ke=0;Ke<we.length;++Ke){if(!Qe[we[Ke]])return;Qe=Qe[we[Ke]]}return Qe}var At={};Ye("tinymce/pasteplugin/Utils",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema"],function(Ot,Qe,we){function Ke(ft,ot){return Ot.each(ot,function(Ne){ft=Ne.constructor==RegExp?ft.replace(Ne,""):ft.replace(Ne[0],Ne[1])}),ft}return{filter:Ke,innerText:function(ft){var Ne=new we,me=new Qe({},Ne),at="",ze=Ne.getShortEndedElements(),Oe=Ot.makeMap("script noscript style textarea video audio iframe object"," "),$e=Ne.getBlockElements();return ft=Ke(ft,[/<!\[[^\]]+\]>/g]),function ot(xt){var Xe=xt.name,vt=xt;if("br"!==Xe)if(ze[Xe]&&(at+=" "),Oe[Xe])at+=" ";else{if(3==xt.type&&(at+=xt.value),!xt.shortEnded&&(xt=xt.firstChild))do{ot(xt)}while(xt=xt.next);$e[Xe]&&vt.next&&(at+="\n","p"==Xe&&(at+="\n"))}else at+="\n"}(me.parse(ft)),at},trimHtml:function(ft){return Ke(function(ft){var ot="\x3c!--StartFragment--\x3e",Ne="\x3c!--EndFragment--\x3e",me=ft.indexOf(ot);if(-1!==me){var at=ft.substr(me+ot.length),ze=at.indexOf(Ne);if(-1!==ze&&/^<\/(p|h[1-6]|li)>/i.test(at.substr(ze+Ne.length,5)))return at.substr(0,ze)}return ft}(ft),[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(Ne,me,at){return me||at?"\xa0":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function(ft){var ot=0;return function(){return ft+ot++}}}}),Ye("tinymce/pasteplugin/SmartPaste",["tinymce/util/Tools"],function(Ot){var Qe=function(Ne){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(Ne)},we=function(Ne){return Qe(Ne)&&/.(gif|jpe?g|png)$/.test(Ne)},de=function(Ne,me,at){return!(!1!==Ne.selection.isCollapsed()||!Qe(me))&&function(Ne,me,at){return Ne.undoManager.extra(function(){at(Ne,me)},function(){Ne.execCommand("mceInsertLink",!1,me)}),!0}(Ne,me,at)},Me=function(Ne,me,at){return!!we(me)&&function(Ne,me,at){return Ne.undoManager.extra(function(){at(Ne,me)},function(){Ne.insertContent('<img src="'+me+'">')}),!0}(Ne,me,at)},zt=function(Ne,me){return Ne.insertContent(me,{merge:!1!==Ne.settings.paste_merge_formats,paste:!0}),!0};return{isImageUrl:we,isAbsoluteUrl:Qe,insertContent:function(Ne,me){!1===Ne.settings.smart_paste?zt(Ne,me):function(Ne,me){Ot.each([de,Me,zt],function(at){return!0!==at(Ne,me,zt)})}(Ne,me)}}}),Ye("tinymce/pasteplugin/Clipboard",["tinymce/Env","tinymce/dom/RangeUtils","tinymce/util/VK","tinymce/pasteplugin/Utils","tinymce/pasteplugin/SmartPaste","tinymce/util/Delay"],function(Ot,Qe,we,Ke,Mt,de){return function(Me){function zt(lt){var Ht,le=Me.dom;if(Ht=Me.fire("BeforePastePreProcess",{content:lt}),lt=(Ht=Me.fire("PastePreProcess",Ht)).content,!Ht.isDefaultPrevented()){if(Me.hasEventListeners("PastePostProcess")&&!Ht.isDefaultPrevented()){var Et=le.add(Me.getBody(),"div",{style:"display:none"},lt);Ht=Me.fire("PastePostProcess",{node:Et}),le.remove(Et),lt=Ht.node.innerHTML}Ht.isDefaultPrevented()||Mt.insertContent(Me,lt)}}function ft(lt){lt=Me.dom.encode(lt).replace(/\r\n/g,"\n");var Ht,le=Me.dom.getParent(Me.selection.getStart(),Me.dom.isBlock),Et=Me.settings.forced_root_block;Et&&(Ht=(Ht=Me.dom.createHTML(Et,Me.settings.forced_root_block_attrs)).substr(0,Ht.length-3)+">"),le&&/^(PRE|DIV)$/.test(le.nodeName)||!Et?lt=Ke.filter(lt,[[/\n/g,"<br>"]]):-1!=(lt=Ke.filter(lt,[[/\n\n/g,"</p>"+Ht],[/^(.*<\/p>)(<p>)$/,Ht+"$1"],[/\n/g,"<br />"]])).indexOf("<p>")&&(lt=Ht+lt),zt(lt)}function ot(){var Ht,le=Me.dom,Et=Me.getBody(),Nn=Me.dom.getViewPort(Me.getWin()).y,En=20;if(Gt=Me.selection.getRng(),Me.inline&&(Ht=Me.selection.getScrollContainer())&&Ht.scrollTop>0&&(Nn=Ht.scrollTop),Gt.getClientRects){var vi=function(qn){var zi,yi,Zi,Pt=qn.startContainer;if((zi=qn.getClientRects()).length)return zi[0];if(qn.collapsed&&1==Pt.nodeType){for(Zi=Pt.childNodes[Gt.startOffset];Zi&&3==Zi.nodeType&&!Zi.data.length;)Zi=Zi.nextSibling;if(Zi)return"BR"==Zi.tagName&&(yi=le.doc.createTextNode("\ufeff"),Zi.parentNode.insertBefore(yi,Zi),(qn=le.createRng()).setStartBefore(yi),qn.setEndAfter(yi),zi=qn.getClientRects(),le.remove(yi)),zi.length?zi[0]:void 0}}(Gt);if(vi)En=Nn+(vi.top-le.getPos(Et).y);else{En=Nn;var si=Gt.startContainer;si&&(3==si.nodeType&&si.parentNode!=Et&&(si=si.parentNode),1==si.nodeType&&(En=le.getPos(si,Ht||Et).y))}}dt=le.add(Me.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+En+"px;width: 10px; height: 10px; overflow: hidden; opacity: 0"},Tt),(Ot.ie||Ot.gecko)&&le.setStyle(dt,"left","rtl"==le.getStyle(Et,"direction",!0)?65535:-65535),le.bind(dt,"beforedeactivate focusin focusout",function(qn){qn.stopPropagation()}),dt.focus(),Me.selection.select(dt,!0)}function Ne(){if(dt){for(var lt;lt=Me.dom.get("mcepastebin");)Me.dom.remove(lt),Me.dom.unbind(lt);Gt&&Me.selection.setRng(Gt)}dt=Gt=null}function me(){var lt,Ht,le,wn="";for(lt=Me.dom.select("div[id=mcepastebin]"),Ht=0;Ht<lt.length;Ht++)(le=lt[Ht]).firstChild&&"mcepastebin"==le.firstChild.id&&(le=le.firstChild),wn!=Tt&&(wn+=le.innerHTML);return wn}function at(lt){var Ht={};if(lt){if(lt.getData){var le=lt.getData("Text");le&&le.length>0&&-1==le.indexOf(Zt)&&(Ht["text/plain"]=le)}if(lt.types)for(var Et=0;Et<lt.types.length;Et++){var wn=lt.types[Et];Ht[wn]=lt.getData(wn)}}return Ht}function Oe(lt){return Kt(lt,"text/html")||Kt(lt,"text/plain")}function Xe(lt,Ht,le){lt&&(Me.selection.setRng(lt),lt=null);var Et=Ht.result,wn=function(lt){var Ht;return-1!==(Ht=lt.indexOf(","))?lt.substr(Ht+1):null}(Et),Nn=new Image;if(Nn.src=Et,function(lt,Ht){return!lt.images_dataimg_filter||lt.images_dataimg_filter(Ht)}(Me.settings,Nn)){var En,vi,si=Me.editorUpload.blobCache;(vi=si.findFirst(function(qn){return qn.base64()===wn}))?En=vi:(En=si.create(_n(),le,wn),si.add(En)),zt('<img src="'+En.blobUri()+'">')}else zt('<img src="'+Et+'">')}function vt(lt,Ht){function le(wn){var Nn,En,vi,si=!1;if(wn)for(Nn=0;Nn<wn.length;Nn++)if(/^image\/(jpeg|png|gif|bmp)$/.test((En=wn[Nn]).type)){var qn=En.getAsFile?En.getAsFile():En;(vi=new FileReader).onload=Xe.bind(null,Ht,vi,qn),vi.readAsDataURL(qn),lt.preventDefault(),si=!0}return si}var Et=lt.clipboardData||lt.dataTransfer;if(Me.settings.paste_data_images&&Et)return le(Et.items)||le(Et.files)}function Kt(lt,Ht){return Ht in lt&&lt[Ht].length>0}function It(lt){return we.metaKeyPressed(lt)&&86==lt.keyCode||lt.shiftKey&&45==lt.keyCode}var dt,Gt,Sn,ln=this,Pn=0,st=!1,Tt="%MCEPASTEBIN%",Zt="data:text/mce-internal,",_n=Ke.createIdGenerator("mceclip");ln.pasteHtml=zt,ln.pasteText=ft,ln.pasteImageData=vt,Me.on("preInit",function(){(function(){function lt(Et,wn,Nn){var En;return Kt(Et,"text/html")?En=Et["text/html"]:(En=me())==Tt&&(Nn=!0),En=Ke.trimHtml(En),dt&&dt.firstChild&&"mcepastebin"===dt.firstChild.id&&(Nn=!0),Ne(),En.length||(Nn=!0),Nn&&(En=Kt(Et,"text/plain")&&-1==En.indexOf("</p>")?Et["text/plain"]:Ke.innerText(En)),En==Tt?void(wn||Me.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void(Nn?ft(En):zt(En))}Me.on("keydown",function(Et){function wn(Nn){It(Nn)&&!Nn.isDefaultPrevented()&&Ne()}if(It(Et)&&!Et.isDefaultPrevented()){if((Sn=Et.shiftKey&&86==Et.keyCode)&&Ot.webkit&&-1!=navigator.userAgent.indexOf("Version/"))return;if(Et.stopImmediatePropagation(),Pn=(new Date).getTime(),Ot.ie&&Sn)return Et.preventDefault(),void Me.fire("paste",{ieFake:!0});Ne(),ot(),Me.once("keyup",wn),Me.once("paste",function(){Me.off("keyup",wn)})}}),Me.on("paste",function(Et){var wn=(new Date).getTime(),Nn=function(lt){return at(lt.clipboardData||Me.getDoc().dataTransfer)}(Et),En=(new Date).getTime()-wn,vi=(new Date).getTime()-Pn-En<1e3,si="text"==ln.pasteFormat||Sn;return Sn=!1,Et.isDefaultPrevented()||function(lt){var Ht=lt.clipboardData;return-1!=navigator.userAgent.indexOf("Android")&&Ht&&Ht.items&&0===Ht.items.length}(Et)||!Oe(Nn)&&vt(Et,Gt||Me.selection.getRng())?void Ne():(vi||Et.preventDefault(),!Ot.ie||vi&&!Et.ieFake||(ot(),Me.dom.bind(dt,"paste",function(qn){qn.stopPropagation()}),Me.getDoc().execCommand("Paste",!1,null),Nn["text/html"]=me()),void(Kt(Nn,"text/html")?(Et.preventDefault(),lt(Nn,vi,si)):de.setEditorTimeout(Me,function(){lt(Nn,vi,si)},0)))}),Me.on("dragstart dragend",function(Et){st="dragstart"==Et.type}),Me.on("drop",function(Et){var wn,Nn;if(Nn=function(lt){return Qe.getCaretRangeFromPoint(lt.clientX,lt.clientY,Me.getDoc())}(Et),!Et.isDefaultPrevented()&&!st&&(Oe(wn=at(Et.dataTransfer))&&!function(Et){var wn=Et["text/plain"];return!!wn&&0===wn.indexOf("file://")}(wn)||!vt(Et,Nn))&&Nn&&!1!==Me.settings.paste_filter_drop){var En=wn["mce-internal"]||wn["text/html"]||wn["text/plain"];En&&(Et.preventDefault(),de.setEditorTimeout(Me,function(){Me.undoManager.transact(function(){wn["mce-internal"]&&Me.execCommand("Delete"),Me.selection.setRng(Nn),En=Ke.trimHtml(En),wn["text/html"]?zt(En):ft(En)})}))}}),Me.on("dragover dragend",function(Et){Me.settings.paste_data_images&&Et.preventDefault()})})(),Me.parser.addNodeFilter("img",function(lt,Ht,le){function wn(qn){qn.attr("data-mce-object")||si===Ot.transparentSrc||qn.remove()}function Nn(qn){return 0===qn.indexOf("webkit-fake-url")}function En(qn){return 0===qn.indexOf("data:")}if(!Me.settings.paste_data_images&&(qn=le).data&&!0===qn.data.paste)for(var vi=lt.length;vi--;){var si=lt[vi].attributes.map.src;si&&(Nn(si)||!Me.settings.allow_html_data_urls&&En(si))&&wn(lt[vi])}var qn})})}}),Ye("tinymce/pasteplugin/WordFilter",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema","tinymce/html/Serializer","tinymce/html/Node","tinymce/pasteplugin/Utils"],function(Ot,Qe,we,Ke,Mt,de){function Me(Ne){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(Ne)||/class="OutlineElement/.test(Ne)||/id="?docs\-internal\-guid\-/.test(Ne)}function zt(Ne){var me,at;return at=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],Ne=Ne.replace(/^[\u00a0 ]+/,""),Ot.each(at,function(ze){if(ze.test(Ne))return me=!0,!1}),me}function ft(Ne){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(Ne)}function ot(Ne){var me=Ne.settings;Ne.on("BeforePastePreProcess",function(at){function Oe(It,bt){var dt,Gt={},Sn=Ne.dom.parseStyle(bt);return Ot.each(Sn,function(ln,Pn){switch(Pn){case"mso-list":(dt=/\w+ \w+([0-9]+)/i.exec(bt))&&(It._listLevel=parseInt(dt[1],10)),/Ignore/i.test(ln)&&It.firstChild&&(It._listIgnore=!0,It.firstChild._listIgnore=!0);break;case"horiz-align":Pn="text-align";break;case"vert-align":Pn="vertical-align";break;case"font-color":case"mso-foreground":Pn="color";break;case"mso-background":case"mso-highlight":Pn="background";break;case"font-weight":case"font-style":return void("normal"!=ln&&(Gt[Pn]=ln));case"mso-element":if(/^(comment|comment-list)$/i.test(ln))return void It.remove()}return 0===Pn.indexOf("mso-comment")?void It.remove():void(0!==Pn.indexOf("mso-")&&("all"==$e||xt&&xt[Pn])&&(Gt[Pn]=ln))}),/(bold)/i.test(Gt["font-weight"])&&(delete Gt["font-weight"],It.wrap(new Mt("b",1))),/(italic)/i.test(Gt["font-style"])&&(delete Gt["font-style"],It.wrap(new Mt("i",1))),(Gt=Ne.dom.serializeStyle(Gt,It.name))||null}var $e,xt,Xe=at.content;if(Xe=(Xe=Xe.replace(/<b[^>]+id="?docs-internal-[^>]*>/gi,"")).replace(/<br class="?Apple-interchange-newline"?>/gi,""),($e=me.paste_retain_style_properties)&&(xt=Ot.makeMap($e.split(/[, ]/))),!1!==me.paste_enable_default_filters&&Me(at.content)){at.wordContent=!0,Xe=de.filter(Xe,[/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(It,bt){return bt.length>0?bt.replace(/./," ").slice(Math.floor(bt.length/2)).split("").join("\xa0"):""}]]);var vt=me.paste_word_valid_elements;vt||(vt="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody");var Ft=new we({valid_elements:vt,valid_children:"-li[p]"});Ot.each(Ft.elements,function(It){It.attributes.class||(It.attributes.class={},It.attributesOrder.push("class")),It.attributes.style||(It.attributes.style={},It.attributesOrder.push("style"))});var en=new Qe({},Ft);en.addAttributeFilter("style",function(It){for(var bt,dt=It.length;dt--;)(bt=It[dt]).attr("style",Oe(bt,bt.attr("style"))),"span"==bt.name&&bt.parent&&!bt.attributes.length&&bt.unwrap()}),en.addAttributeFilter("class",function(It){for(var bt,dt,Gt=It.length;Gt--;)dt=(bt=It[Gt]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(dt)&&bt.remove(),bt.attr("class",null)}),en.addNodeFilter("del",function(It){for(var bt=It.length;bt--;)It[bt].remove()}),en.addNodeFilter("a",function(It){for(var bt,dt,Gt,Sn=It.length;Sn--;)if(dt=(bt=It[Sn]).attr("href"),Gt=bt.attr("name"),dt&&-1!=dt.indexOf("#_msocom_"))bt.remove();else if(dt&&0===dt.indexOf("file://")&&(dt=dt.split("#")[1])&&(dt="#"+dt),dt||Gt){if(Gt&&!/^_?(?:toc|edn|ftn)/i.test(Gt)){bt.unwrap();continue}bt.attr({href:dt,name:Gt})}else bt.unwrap()});var Kt=en.parse(Xe);!1!==me.paste_convert_word_fake_lists&&function(It){function bt(Et){var wn="";if(3===Et.type)return Et.value;if(Et=Et.firstChild)do{wn+=bt(Et)}while(Et=Et.next);return wn}function dt(Et,wn){if(3===Et.type&&wn.test(Et.value))return Et.value=Et.value.replace(wn,""),!1;if(Et=Et.firstChild)do{if(!dt(Et,wn))return!1}while(Et=Et.next);return!0}function Gt(Et){if(Et._listIgnore)Et.remove();else if(Et=Et.firstChild)do{Gt(Et)}while(Et=Et.next)}function Sn(Et,wn,Nn){var En=Et._listLevel||st;En!=st&&(En<st?ln&&(ln=ln.parent.parent):(Pn=ln,ln=null)),ln&&ln.name==wn?ln.append(Et):(Pn=Pn||ln,ln=new Mt(wn,1),Nn>1&&ln.attr("start",""+Nn),Et.wrap(ln)),Et.name="li",En>st&&Pn&&Pn.lastChild.append(ln),st=En,Gt(Et),dt(Et,/^\u00a0+/),dt(Et,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),dt(Et,/^\u00a0+/)}for(var ln,Pn,st=1,Tt=[],Zt=It.firstChild;null!=Zt;)if(Tt.push(Zt),null!==(Zt=Zt.walk()))for(;void 0!==Zt&&Zt.parent!==It;)Zt=Zt.walk();for(var _n=0;_n<Tt.length;_n++)if("p"==(It=Tt[_n]).name&&It.firstChild){var lt=bt(It);if(ft(lt)){Sn(It,"ul");continue}if(zt(lt)){var Ht=/([0-9]+)\./.exec(lt),le=1;Ht&&(le=parseInt(Ht[1],10)),Sn(It,"ol",le);continue}if(It._listLevel){Sn(It,"ul",1);continue}ln=null}else Pn=ln,ln=null}(Kt),at.content=new Ke({validate:me.validate},Ft).serialize(Kt)}})}return ot.isWordContent=Me,ot}),Ye("tinymce/pasteplugin/Quirks",["tinymce/Env","tinymce/util/Tools","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Utils"],function(Ot,Qe,we,Ke){return function(Mt){function de(Ne){Mt.on("BeforePastePreProcess",function(me){me.content=Ne(me.content)})}var Ne;Ot.webkit&&de(function(Ne){if(we.isWordContent(Ne))return Ne;var me=Mt.settings.paste_webkit_styles;if(!1===Mt.settings.paste_remove_styles_if_webkit||"all"==me)return Ne;if(me&&(me=me.split(/[, ]/)),me){var at=Mt.dom,ze=Mt.selection.getNode();Ne=Ne.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(Oe,$e,xt,Xe){var vt=at.parseStyle(xt,"span"),Ft={};if("none"===me)return $e+Xe;for(var en=0;en<me.length;en++){var Kt=vt[me[en]],It=at.getStyle(ze,me[en],!0);/color/.test(me[en])&&(Kt=at.toHex(Kt),It=at.toHex(It)),It!=Kt&&(Ft[me[en]]=Kt)}return(Ft=at.serializeStyle(Ft,"span"))?$e+' style="'+Ft+'"'+Xe:$e+Xe})}else Ne=Ne.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return Ne.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(Oe,$e,xt,Xe){return $e+' style="'+xt+'"'+Xe})}),Ot.ie&&(de(function(Ne){if(!we.isWordContent(Ne))return Ne;var me=[];Qe.each(Mt.schema.getBlockElements(),function(ze,Oe){me.push(Oe)});var at=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+me.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return Ne=Ke.filter(Ne,[[at,"$1"]]),Ke.filter(Ne,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}),Ne=function(Ne){Mt.$("a",Ne).find("font,u").each(function(me,at){Mt.dom.remove(at,!0)})},Mt.on("PastePostProcess",function(me){Ne(me.node)}))}}),Ye("tinymce/pasteplugin/Plugin",["tinymce/PluginManager","tinymce/pasteplugin/Clipboard","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Quirks"],function(Ot,Qe,we,Ke){var Mt;Ot.add("paste",function(de){function zt(){if("text"==ot.pasteFormat)ot.pasteFormat="html",de.fire("PastePlainTextToggle",{state:!1});else if(ot.pasteFormat="text",de.fire("PastePlainTextToggle",{state:!0}),!Mt&&!1!==de.settings.paste_plaintext_inform){var at=de.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.");de.notificationManager.open({text:at,type:"info"}),Mt=!0}de.focus()}function ft(){var at=this;at.active("text"===ot.pasteFormat),de.on("PastePlainTextToggle",function(ze){at.active(ze.state)})}var ot,Ne=this,me=de.settings;return/(^|[ ,])powerpaste([, ]|$)/.test(me.plugins)&&Ot.get("powerpaste")?void("undefined"!=typeof console&&console.log&&console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")):(Ne.clipboard=ot=new Qe(de),Ne.quirks=new Ke(de),Ne.wordFilter=new we(de),de.settings.paste_as_text&&(Ne.clipboard.pasteFormat="text"),me.paste_preprocess&&de.on("PastePreProcess",function(at){me.paste_preprocess.call(Ne,Ne,at)}),me.paste_postprocess&&de.on("PastePostProcess",function(at){me.paste_postprocess.call(Ne,Ne,at)}),de.addCommand("mceInsertClipboardContent",function(at,ze){ze.content&&Ne.clipboard.pasteHtml(ze.content),ze.text&&Ne.clipboard.pasteText(ze.text)}),de.settings.paste_block_drop&&de.on("dragend dragover draggesture dragdrop drop drag",function(at){at.preventDefault(),at.stopPropagation()}),de.settings.paste_data_images||de.on("drop",function(at){var ze=at.dataTransfer;ze&&ze.files&&ze.files.length>0&&at.preventDefault()}),de.addCommand("mceTogglePlainTextPaste",zt),de.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:zt,onPostRender:ft}),void de.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:ot.pasteFormat,onclick:zt,onPostRender:ft}))})}),function(Ot){var Qe,we,Ke,Mt,de;for(Qe=0;Qe<Ot.length;Qe++){we=Bt,Mt=(Ke=Ot[Qe]).split(/[.\/]/);for(var Me=0;Me<Mt.length-1;++Me)we[Mt[Me]]===Ln&&(we[Mt[Me]]={}),we=we[Mt[Me]];we[Mt[Mt.length-1]]=At[Ke]}if(Bt.AMDLC_TESTS){for(Ke in de=Bt.privateModules||{},At)de[Ke]=At[Ke];for(Qe=0;Qe<Ot.length;Qe++)delete de[Ot[Qe]];Bt.privateModules=de}}(["tinymce/pasteplugin/Utils"])}(window),function(Bt,Ln){"use strict";function Ye(At,Ot,Qe){if("string"!=typeof At)throw"invalid module definition, module id must be defined and be a string";if(Ot===Ln)throw"invalid module definition, dependencies must be specified";if(Qe===Ln)throw"invalid module definition, definition function must be specified";!function(At,Ot){for(var Qe,we=[],Ke=0;Ke<At.length;++Ke){if(!(Qe=On[At[Ke]]||sr(At[Ke])))throw"module definition dependecy not found: "+At[Ke];we.push(Qe)}Ot.apply(null,we)}(Ot,function(){On[At]=Qe.apply(null,arguments)})}function sr(At){for(var Ot=Bt,Qe=At.split(/[.\/]/),we=0;we<Qe.length;++we){if(!Ot[Qe[we]])return;Ot=Ot[Qe[we]]}return Ot}var On={};Ye("tinymce/tableplugin/Utils",["tinymce/Env"],function(At){var Qe=function(Ke){return function(Mt,de){Mt&&(1===(de=parseInt(de,10))||0===de?Mt.removeAttribute(Ke,1):Mt.setAttribute(Ke,de,1))}},we=function(Ke){return function(Mt){return parseInt(Mt.getAttribute(Ke)||1,10)}};return{setColSpan:Qe("colSpan"),setRowSpan:Qe("rowspan"),getColSpan:we("colSpan"),getRowSpan:we("rowSpan"),setSpanVal:function(Ke,Mt,de){Qe(Mt)(Ke,de)},getSpanVal:function(Ke,Mt){return we(Mt)(Ke)},paddCell:function(Ke){(!At.ie||At.ie>9)&&(Ke.hasChildNodes()||(Ke.innerHTML='<br data-mce-bogus="1" />'))}}}),Ye("tinymce/tableplugin/SplitCols",["tinymce/util/Tools","tinymce/tableplugin/Utils"],function(At,Ot){var Qe=function(me,at,ze){return me[ze]?me[ze][at]:null},we=function(me,at,ze){var Oe=Qe(me,at,ze);return Oe?Oe.elm:null},Ke=function(me,at,ze,Oe){var $e,Xe=0,vt=we(me,at,ze);for($e=ze;(Oe>0?$e<me.length:$e>=0)&&vt===Qe(me,at,$e).elm;$e+=Oe)Xe++;return Xe},Mt=function(me,at,ze){for(var Oe,$e=me[ze],xt=at;xt<$e.length;xt++)if((Oe=$e[xt]).real)return Oe.elm;return null},Me=function(me,at){var Oe=me.elm.ownerDocument.createElement("td");return Ot.setColSpan(Oe,Ot.getColSpan(me.elm)),Ot.setRowSpan(Oe,at),Ot.paddCell(Oe),Oe},zt=function(me,at,ze,Oe){var $e=Mt(me,ze+1,Oe);$e?$e.parentNode.insertBefore(at,$e):($e=Mt(me,0,Oe)).parentNode.appendChild(at)};return{splitAt:function(me,at,ze,Oe){var $e=function(me,at){for(var ze,Oe=[],$e=me[at],xt=0;xt<$e.length;xt++)Oe.push({elm:(ze=$e[xt]).elm,above:Ke(me,xt,at,-1)-1,below:Ke(me,xt,at,1)-1}),xt+=Ot.getColSpan(ze.elm)-1;return Oe}(me,ze),xt=we(me,at,ze).parentNode,Xe=[];return At.each($e,function(vt,Ft){var en=Oe?function(me,at,ze,Oe){if(0!==at.above){Ot.setRowSpan(at.elm,at.above);var $e=Me(at,at.below+1);return zt(me,$e,ze,Oe),$e}return null}(me,vt,Ft,ze):function(me,at,ze,Oe){if(0!==at.below){Ot.setRowSpan(at.elm,at.above+1);var $e=Me(at,at.below);return zt(me,$e,ze,Oe+1),$e}return null}(me,vt,Ft,ze);null!==en&&Xe.push(Xe)}),{cells:Xe,row:xt}}}}),Ye("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env","tinymce/tableplugin/Utils","tinymce/tableplugin/SplitCols"],function(At,Ot,Qe,we){var Ke=At.each,Mt=Qe.getSpanVal,de=Qe.setSpanVal;return function(Me,zt,ft){function ot(){Me.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected")}function Ne(Nt){return Nt===Me.getBody()}function me(Nt,Yt){return Nt?(Yt=At.map(Yt.split(","),function(an){return an.toLowerCase()}),At.grep(Nt.childNodes,function(an){return-1!==At.inArray(Yt,an.nodeName.toLowerCase())})):[]}function at(){var Nt=0;Lt=[],gn=0,Ke(["thead","tbody","tfoot"],function(Yt){var an=me(zt,Yt)[0],Tn=me(an,"tr");Ke(Tn,function(fn,nn){nn+=Nt,Ke(me(fn,"td,th"),function(An,Bn){var Zn,$n,xi,Yi;if(Lt[nn])for(;Lt[nn][Bn];)Bn++;for(xi=Mt(An,"rowspan"),Yi=Mt(An,"colspan"),$n=nn;$n<nn+xi;$n++)for(Lt[$n]||(Lt[$n]=[]),Zn=Bn;Zn<Bn+Yi;Zn++)Lt[$n][Zn]={part:Yt,real:$n==nn&&Zn==Bn,elm:An,rowspan:xi,colspan:Yi};gn=Math.max(gn,Bn+1)})}),Nt+=Tn.length})}function ze(Nt){return Me.fire("newrow",{node:Nt}),Nt}function Oe(Nt){return Me.fire("newcell",{node:Nt}),Nt}function $e(Nt,Yt){return(Nt=Nt.cloneNode(Yt)).removeAttribute("id"),Nt}function xt(Nt,Yt){var an;if(an=Lt[Yt])return an[Nt]}function Xe(Nt,Yt){return Nt[Yt]?Nt[Yt]:null}function vt(Nt,Yt){for(var an=[],Tn=0;Tn<Nt.length;Tn++)an.push(xt(Yt,Tn));return an}function Ft(Nt){return Nt&&(!!jn.getAttrib(Nt.elm,"data-mce-selected")||Nt==ft)}function en(){var Nt=[];return Ke(zt.rows,function(Yt){Ke(Yt.cells,function(an){if(jn.getAttrib(an,"data-mce-selected")||ft&&an==ft.elm)return Nt.push(Yt),!1})}),Nt}function bt(Nt){var Yt,an={};return!1!==Me.settings.table_clone_elements&&(an=At.makeMap((Me.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),At.walk(Nt,function(Tn){var fn;if(3==Tn.nodeType)return Ke(jn.getParents(Tn.parentNode,null,Nt).reverse(),function(nn){an[nn.nodeName]&&(nn=$e(nn,!1),Yt?fn&&fn.appendChild(nn):Yt=fn=nn,fn=nn)}),fn&&(fn.innerHTML=Ot.ie&&Ot.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'),!1},"childNodes"),Oe(Nt=$e(Nt,!1)),de(Nt,"rowSpan",1),de(Nt,"colSpan",1),Yt?Nt.appendChild(Yt):Qe.paddCell(Nt),Nt}function dt(){var Nt,Yt=jn.createRng();return Ke(jn.select("tr",zt),function(an){0===an.cells.length&&jn.remove(an)}),0===jn.select("tr",zt).length?(Yt.setStartBefore(zt),Yt.setEndBefore(zt),ri.setRng(Yt),void jn.remove(zt)):(Ke(jn.select("thead,tbody,tfoot",zt),function(an){0===an.rows.length&&jn.remove(an)}),at(),void(Fn&&(Nt=Lt[Math.min(Lt.length-1,Fn.y)],Nt&&(ri.select(Nt[Math.min(Nt.length-1,Fn.x)].elm,!0),ri.collapse(!0)))))}function Gt(Nt,Yt,an,Tn){var fn,nn,An,Bn,Zn;for(fn=Lt[Yt][Nt].elm.parentNode,An=1;An<=an;An++)if(fn=jn.getNext(fn,"tr")){for(nn=Nt;nn>=0;nn--)if((Zn=Lt[Yt+An][nn].elm).parentNode==fn){for(Bn=1;Bn<=Tn;Bn++)jn.insertAfter(bt(Zn),Zn);break}if(-1==nn)for(Bn=1;Bn<=Tn;Bn++)fn.insertBefore(bt(fn.cells[0]),fn.cells[0])}}function Sn(){Ke(Lt,function(Nt,Yt){Ke(Nt,function(an,Tn){var fn,nn,An;if(Ft(an)&&(fn=Mt(an=an.elm,"colspan"),nn=Mt(an,"rowspan"),fn>1||nn>1)){for(de(an,"rowSpan",1),de(an,"colSpan",1),An=0;An<fn-1;An++)jn.insertAfter(bt(an),an);Gt(Tn,Yt,nn-1,fn)}})})}function ln(Nt,Yt,an){for(var Tn=[],fn=0;fn<Nt.length;fn++)(fn<Yt||fn>an)&&Tn.push(Nt[fn]);return Tn}function Pn(Nt){return At.grep(Nt,function(Yt){return!1===Yt.real})}function st(Nt){for(var Yt=[],an=0;an<Nt.length;an++){var Tn=Nt[an].elm;Yt[Yt.length-1]!==Tn&&Yt.push(Tn)}return Yt}function lt(Nt){var Yt,an,Tn,fn,nn,An,Bn,Zn,$n,xi;if(Ke(Lt,function(Yi,Ki){if(Ke(Yi,function(_i){if(Ft(_i)&&(An=ze($e(nn=(_i=_i.elm).parentNode,!1)),Yt=Ki,Nt))return!1}),Nt)return Yt===Ln}),Yt!==Ln){for(fn=0,xi=0;fn<Lt[0].length;fn+=xi)if(Lt[Yt][fn]&&(xi=Mt(an=Lt[Yt][fn].elm,"colspan"),an!=Tn)){if(Nt){if(Yt>0&&Lt[Yt-1][fn]&&($n=Mt(Zn=Lt[Yt-1][fn].elm,"rowSpan"))>1){de(Zn,"rowSpan",$n+1);continue}}else if(($n=Mt(an,"rowspan"))>1){de(an,"rowSpan",$n+1);continue}Bn=bt(an),de(Bn,"colSpan",an.colSpan),An.appendChild(Bn),Tn=an}An.hasChildNodes()&&(Nt?nn.parentNode.insertBefore(An,nn):jn.insertAfter(An,nn))}}function le(Nt){var Yt,an;Ke(Lt,function(Tn){if(Ke(Tn,function(fn,nn){if(Ft(fn)&&(Yt=nn,Nt))return!1}),Nt)return Yt===Ln}),Ke(Lt,function(Tn,fn){var nn,An,Bn;Tn[Yt]&&(nn=Tn[Yt].elm)!=an&&(Bn=Mt(nn,"colspan"),An=Mt(nn,"rowspan"),1==Bn?Nt?(nn.parentNode.insertBefore(bt(nn),nn),Gt(Yt,fn,An-1,Bn)):(jn.insertAfter(bt(nn),nn),Gt(Yt,fn,An-1,Bn)):de(nn,"colSpan",nn.colSpan+1),an=nn)})}function Nn(Nt){var Yt=[];return Ke(Nt,function(an){Ke(an,function(Tn){Yt.push(Tn)})}),Yt}function yi(Nt){var Yt;return Ke(Lt,function(an,Tn){return Ke(an,function(fn,nn){if(fn.elm==Nt)return Yt={x:nn,y:Tn},!1}),!Yt}),Yt}var Lt,gn,Fn,ii,Nt,Yt,ri=Me.selection,jn=ri.dom;zt=zt||jn.getParent(ri.getStart(!0),"table"),at(),(ft=ft||jn.getParent(ri.getStart(!0),"th,td"))&&(Fn=yi(ft),Nt=Yt=0,Ke(Lt,function(an,Tn){Ke(an,function(fn,nn){var An,Bn;Ft(fn)&&(nn>Nt&&(Nt=nn),Tn>Yt&&(Yt=Tn),(fn=Lt[Tn][nn]).real&&((An=fn.colspan-1)&&nn+An>Nt&&(Nt=nn+An),(Bn=fn.rowspan-1)&&Tn+Bn>Yt&&(Yt=Tn+Bn)))})}),ii={x:Nt,y:Yt},ft=xt(Fn.x,Fn.y)),At.extend(this,{deleteTable:function(){var Nt=jn.createRng();Ne(zt)||(Nt.setStartAfter(zt),Nt.setEndAfter(zt),ri.setRng(Nt),jn.remove(zt))},split:Sn,merge:function(Nt,Yt,an){var Tn,fn,nn,An,Bn,Zn,$n,xi,Yi,Ki,_i,Wr,nr;if(Nt?(An=(fn=(Tn=yi(Nt)).x)+(Yt-1),Bn=(nn=Tn.y)+(an-1)):(Fn=ii=null,Ke(Lt,function($i,Vi){Ke($i,function(Gr,Nr){Ft(Gr)&&(Fn||(Fn={x:Nr,y:Vi}),ii={x:Nr,y:Vi})})}),Fn&&(fn=Fn.x,nn=Fn.y,An=ii.x,Bn=ii.y)),xi=xt(fn,nn),Yi=xt(An,Bn),xi&&Yi&&xi.part==Yi.part){Sn(),at(),Wr=function(Nt,Yt,an,Tn,fn){var nn=0;if(fn-an<1)return 0;for(var An=an+1;An<=fn;An++){var Bn=ln(Xe(Nt,An),Yt,Tn),Zn=Pn(Bn);Bn.length===Zn.length&&(At.each(st(Zn),function($n){Qe.setRowSpan($n,Qe.getRowSpan($n)-1)}),nn++)}return nn}(Lt,fn,nn,An,Bn),nr=function(Nt,Yt,an,Tn,fn){var nn=0;if(Tn-Yt<1)return 0;for(var An=Yt+1;An<=Tn;An++){var Bn=ln(vt(Nt,An),an,fn),Zn=Pn(Bn);Bn.length===Zn.length&&(At.each(st(Zn),function($n){Qe.setColSpan($n,Qe.getColSpan($n)-1)}),nn++)}return nn}(Lt,fn,nn,An,Bn),xi=xt(fn,nn).elm;var Ui=An-fn-nr+1,vr=Bn-nn-Wr+1;for(Ui===gn&&vr===Lt.length&&(Ui=1,vr=1),Ui===gn&&vr>1&&(vr=1),de(xi,"colSpan",Ui),de(xi,"rowSpan",vr),$n=nn;$n<=Bn;$n++)for(Zn=fn;Zn<=An;Zn++)Lt[$n]&&Lt[$n][Zn]&&(Nt=Lt[$n][Zn].elm)!=xi&&(Ki=At.grep(Nt.childNodes),Ke(Ki,function($i){xi.appendChild($i)}),Ki.length&&(Ki=At.grep(xi.childNodes),_i=0,Ke(Ki,function($i){"BR"==$i.nodeName&&_i++<Ki.length-1&&xi.removeChild($i)})),jn.remove(Nt));dt()}},insertRow:lt,insertRows:function(Nt,Yt){Yt=Yt||en().length||1;for(var an=0;an<Yt;an++)lt(Nt)},insertCol:le,insertCols:function(Nt,Yt){Yt=Yt||function(){var Nt=0;return Ke(Lt,function(Yt){if(Ke(Yt,function(an){Ft(an)&&Nt++}),Nt)return!1}),Nt}()||1;for(var an=0;an<Yt;an++)le(Nt)},splitCols:function(Nt){if(Fn){var Yt=we.splitAt(Lt,Fn.x,Fn.y,Nt);At.each(Yt.cells,Oe)}},deleteCols:function(){var Nt=[];Ne(zt)&&(1==Lt[0].length||function(Nt){return At.grep(Nn(Nt),Ft)}(Lt).length==Nn(Lt).length)||(Ke(Lt,function(Yt){Ke(Yt,function(an,Tn){Ft(an)&&-1===At.inArray(Nt,Tn)&&(Ke(Lt,function(fn){var nn,An=fn[Tn].elm;(nn=Mt(An,"colSpan"))>1?de(An,"colSpan",nn-1):jn.remove(An)}),Nt.push(Tn))})}),dt())},deleteRows:function(){var Yt;Yt=en(),Ne(zt)&&Yt.length==zt.rows.length||(Ke(Yt.reverse(),function(an){!function(an){var Tn,fn;Ke(an.cells,function(nn){var An=Mt(nn,"rowSpan");An>1&&(de(nn,"rowSpan",An-1),Gt((Tn=yi(nn)).x,Tn.y,1,1))}),Tn=yi(an.cells[0]),Ke(Lt[Tn.y],function(nn){var An;(nn=nn.elm)!=fn&&((An=Mt(nn,"rowSpan"))<=1?jn.remove(nn):de(nn,"rowSpan",An-1),fn=nn)})}(an)}),dt())},cutRows:function(){var Nt=en();if(!Ne(zt)||Nt.length!=zt.rows.length)return jn.remove(Nt),dt(),Nt},copyRows:function(){var Nt=en();return Ke(Nt,function(Yt,an){Nt[an]=$e(Yt,!0)}),Nt},pasteRows:function(Nt,Yt){var an,Tn,fn;Nt&&(an=we.splitAt(Lt,Fn.x,Fn.y,Yt),Tn=an.row,At.each(an.cells,Oe),fn=At.map(Nt,function(nn){return nn.cloneNode(!0)}),Yt||fn.reverse(),Ke(fn,function(nn){var An,Bn,Zn=nn.cells.length;for(ze(nn),An=0;An<Zn;An++)Oe(Bn=nn.cells[An]),de(Bn,"colSpan",1),de(Bn,"rowSpan",1);for(An=Zn;An<gn;An++)nn.appendChild(Oe(bt(nn.cells[Zn-1])));for(An=gn;An<Zn;An++)jn.remove(nn.cells[An]);Yt?Tn.parentNode.insertBefore(nn,Tn):jn.insertAfter(nn,Tn)}),ot())},getPos:yi,setStartCell:function(Nt){Fn=yi(Nt)},setEndCell:function(Nt){var Yt,an,Tn,fn,nn,An,Bn,Zn,$n,xi;if(ii=yi(Nt),Fn&&ii){for(Yt=Math.min(Fn.x,ii.x),an=Math.min(Fn.y,ii.y),nn=Tn=Math.max(Fn.x,ii.x),An=fn=Math.max(Fn.y,ii.y),xi=an;xi<=fn;xi++)for($n=Yt;$n<=Tn;$n++)(Nt=Lt[xi][$n]).real&&((Bn=Nt.colspan-1)&&$n+Bn>nn&&(nn=$n+Bn),(Zn=Nt.rowspan-1)&&xi+Zn>An&&(An=xi+Zn));for(ot(),xi=an;xi<=An;xi++)for($n=Yt;$n<=nn;$n++)Lt[xi][$n]&&jn.setAttrib(Lt[xi][$n].elm,"data-mce-selected","1")}},moveRelIdx:function(Nt,Yt){var an,Tn,fn;Tn=(an=yi(Nt)).y*gn+an.x;do{if(!(fn=xt((Tn+=Yt)%gn,Math.floor(Tn/gn))))break;if(fn.elm!=Nt)return ri.select(fn.elm,!0),jn.isEmpty(fn.elm)&&ri.collapse(!0),!0}while(fn.elm==Nt);return!1},refresh:at})}}),Ye("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/util/Delay","tinymce/Env","tinymce/util/Tools","tinymce/tableplugin/Utils"],function(At,Ot,Qe,we,Ke){var Mt=we.each,de=Ke.getSpanVal;return function(Me){function ft(){Me.on("KeyDown",function(Oe){var $e,xt,Xe=Me.dom;37!=Oe.keyCode&&38!=Oe.keyCode||($e=Me.selection.getRng(),(xt=Xe.getParent($e.startContainer,"table"))&&Me.getBody().firstChild==xt&&function(Oe,$e){var xt,Xe=$e.ownerDocument,vt=Xe.createRange();return vt.setStartBefore($e),vt.setEnd(Oe.endContainer,Oe.endOffset),(xt=Xe.createElement("body")).appendChild(vt.cloneContents()),0===xt.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}($e,xt)&&(($e=Xe.createRng()).setStartBefore(xt),$e.setEndBefore(xt),Me.selection.setRng($e),Oe.preventDefault()))})}function ot(){Me.on("KeyDown SetContent VisualAid",function(){var ze;for(ze=Me.getBody().lastChild;ze;ze=ze.previousSibling)if(3==ze.nodeType){if(ze.nodeValue.length>0)break}else if(1==ze.nodeType&&("BR"==ze.tagName||!ze.getAttribute("data-mce-bogus")))break;ze&&"TABLE"==ze.nodeName&&(Me.settings.forced_root_block?Me.dom.add(Me.getBody(),Me.settings.forced_root_block,Me.settings.forced_root_block_attrs,Qe.ie&&Qe.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'):Me.dom.add(Me.getBody(),"br",{"data-mce-bogus":"1"}))}),Me.on("PreProcess",function(ze){var Oe=ze.node.lastChild;Oe&&("BR"==Oe.nodeName||1==Oe.childNodes.length&&("BR"==Oe.firstChild.nodeName||"\xa0"==Oe.firstChild.nodeValue))&&Oe.previousSibling&&"TABLE"==Oe.previousSibling.nodeName&&Me.dom.remove(Oe)})}var Oe,xt,Xe,vt,en,Kt;(function(){function ze($e){Me.selection.select($e,!0),Me.selection.collapse(!0)}function Oe($e){Me.$($e).empty(),Ke.paddCell($e)}Me.on("keydown",function($e){var xt,Xe,vt,Ft;if(($e.keyCode==At.DELETE||$e.keyCode==At.BACKSPACE)&&!$e.isDefaultPrevented()&&(xt=Me.dom.getParent(Me.selection.getStart(),"table"))){if(Xe=Me.dom.select("td,th",xt),0===(vt=we.grep(Xe,function(en){return!!Me.dom.getAttrib(en,"data-mce-selected")})).length)return Ft=Me.dom.getParent(Me.selection.getStart(),"td,th"),void(Me.selection.isCollapsed()&&Ft&&Me.dom.isEmpty(Ft)&&($e.preventDefault(),Oe(Ft),ze(Ft)));$e.preventDefault(),Me.undoManager.transact(function(){Xe.length==vt.length?Me.execCommand("mceTableDelete"):(we.each(vt,Oe),ze(vt[0]))})}})})(),Oe=function(It,bt){var dt=Me.selection.getRng(),Gt=It.ownerDocument.createTextNode("\xa0");dt.startOffset?It.insertBefore(Gt,It.firstChild):It.appendChild(Gt),bt&&(Me.selection.select(Gt,!0),Me.selection.collapse(!0))},xt=function(It){return It.firstChild===It.lastChild&&It.firstChild},Xe=function(It){return It&&3===It.nodeType},vt=function(It){var bt=xt(It);return Xe(bt)&&1===bt.data.length?bt.data:null},en=function(It){return Me.dom.isEmpty(It)||Kt(vt(It))},Kt=function(It){return"\xa0"===It},Me.on("keydown",function(It){if(function(It){return(It.keyCode==At.DELETE||It.keyCode==At.BACKSPACE)&&!It.isDefaultPrevented()}(It)){var bt=Me.dom.getParent(Me.selection.getStart(),"caption");(function(It){return It&&"CAPTION"==It.nodeName&&"TABLE"==It.parentNode.nodeName})(bt)&&(Qe.ie&&(Me.selection.isCollapsed()?function(It){var bt=xt(It),dt=vt(It);return bt&&!Xe(bt)||dt&&!Kt(dt)}(bt)&&Oe(bt):(Me.undoManager.transact(function(){Me.execCommand("Delete"),en(bt)&&Oe(bt,!0)}),It.preventDefault())),en(bt)&&It.preventDefault())}}),Qe.webkit&&(function(){function ze(Oe){function $e(Zt,_n){var lt=Zt?"previousSibling":"nextSibling",Ht=Me.dom.getParent(_n,"tr"),le=Ht[lt];if(le)return Sn(0,_n,le,Zt),Oe.preventDefault(),!0;var Et=Me.dom.getParent(Ht,"table"),wn=Ht.parentNode,Nn=wn.nodeName.toLowerCase();if("tbody"===Nn||Nn===(Zt?"tfoot":"thead")){var En=function(Zt,_n,lt,Ht){var le=Me.dom.select(">tbody",_n),Et=le.indexOf(lt);return Zt&&0===Et||!Zt&&Et===le.length-1?function(Zt,_n){var Ht=Me.dom.select(">"+(Zt?"thead":"tfoot"),_n);return 0!==Ht.length?Ht[0]:null}(Zt,_n):-1===Et?le["thead"===lt.tagName.toLowerCase()?0:le.length-1]:le[Et+(Zt?-1:1)]}(Zt,Et,wn);if(null!==En)return function(Zt,_n,lt){var Ht=en(_n,Zt);return Ht&&Sn(0,lt,Ht,Zt),Oe.preventDefault(),!0}(Zt,En,_n)}return function(Zt,_n,lt,Ht){var le=Ht[lt];if(le)return Kt(le),!0;var Et=Me.dom.getParent(Ht,"td,th");return Et?$e(Zt,Et):(Kt(en(_n,!Zt)),Oe.preventDefault(),!1)}(Zt,Ht,lt,Et)}function en(Zt,_n){var lt=Zt&&Zt[_n?"lastChild":"firstChild"];return lt&&"BR"===lt.nodeName?Me.dom.getParent(lt,"td,th"):lt}function Kt(Zt){Me.selection.setCursorLocation(Zt,0)}function Sn(Zt,_n,lt,Ht){var le=function(Zt){for(var _n=0,lt=Zt;lt.previousSibling;)_n+=de(lt=lt.previousSibling,"colspan");return _n}(Me.dom.getParent(_n,"td,th")),Et=function(Zt,_n){var lt=0,Ht=0;return Mt(Zt.children,function(le,Et){if(lt+=de(le,"colspan"),Ht=Et,lt>_n)return!1}),Ht}(lt,le),wn=lt.childNodes[Et];Kt(en(wn,Ht)||wn)}var Zt,_n,st=Oe.keyCode;if((st==At.UP||st==At.DOWN)&&(_n=(Zt=Me).selection.getNode(),null!==Zt.dom.getParent(_n,"tr"))){var Tt=Me.selection.getNode();Ot.setEditorTimeout(Me,function(){(function(Zt){var _n=Me.selection.getNode(),lt=Me.dom.getParent(_n,"td,th"),Ht=Me.dom.getParent(Zt,"td,th");return lt&&lt!==Ht&&function(Zt,_n){return Me.dom.getParent(Zt,"TABLE")===Me.dom.getParent(_n,"TABLE")}(lt,Ht)})(Tt)&&$e(!Oe.shiftKey&&st===At.UP,Tt)},0)}}Me.on("KeyDown",function(Oe){ze(Oe)})}(),function(){function Oe(){var $e=Me.selection.getRng(),xt=Me.selection.getNode(),Xe=Me.dom.getParent($e.startContainer,"TD,TH");if(function($e,xt,Xe,vt){var Ft,bt=$e.dom.getParent(xt.startContainer,"TABLE");return bt&&(Ft=bt.parentNode),3==xt.startContainer.nodeType&&0===xt.startOffset&&0===xt.endOffset&&vt&&("TR"==Xe.nodeName||Xe==Ft)||("TD"==Xe.nodeName||"TH"==Xe.nodeName)&&!vt}(Me,$e,xt,Xe)){Xe||(Xe=xt);for(var vt=Xe.lastChild;vt.lastChild;)vt=vt.lastChild;3==vt.nodeType&&($e.setEnd(vt,vt.data.length),Me.selection.setRng($e))}}Me.on("KeyDown",function(){Oe()}),Me.on("MouseDown",function($e){2!=$e.button&&Oe()})}()),Qe.gecko&&(ft(),ot()),Qe.ie>9&&(ft(),ot())}}),Ye("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],function(At,Ot,Qe){return function(we,Ke){function Mt(xt){we.getBody().style.webkitUserSelect="",(xt||Oe)&&(we.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected"),Oe=!1)}function de(xt,Xe){return!(!xt||!Xe)&&xt===ze.getParent(Xe,"table")}function Me(xt){var Xe,vt,Ft=xt.target;if(!me&&!at&&Ft!==Ne&&(Ne=Ft,ot&&ft)){if(vt=ze.getParent(Ft,"td,th"),de(ot,vt)||(vt=ze.getParent(ot,"td,th")),ft===vt&&!Oe)return;if(Ke(!0),de(ot,vt)){xt.preventDefault(),zt||(zt=new At(we,ot,ft),we.getBody().style.webkitUserSelect="none"),zt.setEndCell(vt),Oe=!0,Xe=we.selection.getSel();try{Xe.removeAllRanges?Xe.removeAllRanges():Xe.empty()}catch(en){}}}}var zt,ft,ot,Ne,me,at,ze=we.dom,Oe=!0,$e=function(){ft=zt=ot=Ne=null,Ke(!1)};return we.on("SelectionChange",function(xt){Oe&&xt.stopImmediatePropagation()},!0),we.on("MouseDown",function(xt){2==xt.button||me||at||(Mt(),ft=ze.getParent(xt.target,"td,th"),ot=ze.getParent(ft,"table"))}),we.on("mouseover",Me),we.on("remove",function(){ze.unbind(we.getDoc(),"mouseover",Me),Mt()}),we.on("MouseUp",function(){function xt(bt,dt){var Gt=new Ot(bt,bt);do{if(3==bt.nodeType&&0!==Qe.trim(bt.nodeValue).length)return void(dt?Xe.setStart(bt,0):Xe.setEnd(bt,bt.nodeValue.length));if("BR"==bt.nodeName)return void(dt?Xe.setStartBefore(bt):Xe.setEndBefore(bt))}while(bt=dt?Gt.next():Gt.prev())}var Xe,vt,Ft,en,Kt,It=we.selection;if(ft){if(zt&&(we.getBody().style.webkitUserSelect=""),(vt=ze.select("td[data-mce-selected],th[data-mce-selected]")).length>0){(Xe=ze.createRng()).setStartBefore(en=vt[0]),Xe.setEndAfter(en),xt(en,1),Ft=new Ot(en,ze.getParent(vt[0],"table"));do{if("TD"==en.nodeName||"TH"==en.nodeName){if(!ze.getAttrib(en,"data-mce-selected"))break;Kt=en}}while(en=Ft.next());xt(Kt),It.setRng(Xe)}we.nodeChanged(),$e()}}),we.on("KeyUp Drop SetContent",function(xt){Mt("setcontent"==xt.type),$e(),me=!1}),we.on("ObjectResizeStart ObjectResized",function(xt){me="objectresized"!=xt.type}),we.on("dragstart",function(){at=!0}),we.on("drop dragend",function(){at=!1}),{clear:Mt}}}),Ye("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],function(At,Ot){var Qe=At.each;return function(we){function Ke(){var Oe=we.settings.color_picker_callback;if(Oe)return function(){var $e=this;Oe.call(we,function(xt){$e.value(xt).fire("change")},$e.value())}}function Mt(Oe){return{title:"Advanced",type:"form",defaults:{onchange:function(){Ne(Oe,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:Ke()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:Ke()}]}]}}function de(Oe){return Oe?Oe.replace(/px$/,""):""}function Me(Oe){return/^[0-9]+$/.test(Oe)&&(Oe+="px"),Oe}function zt(Oe){Qe("left center right".split(" "),function($e){we.formatter.remove("align"+$e,{},Oe)})}function ot(Oe,$e,xt){return function Xe(vt,Ft){return Ft=Ft||[],At.each(vt,function(en){var Kt={text:en.text||en.title};en.menu?Kt.menu=Xe(en.menu):(Kt.value=en.value,$e&&$e(Kt)),Ft.push(Kt)}),Ft}(Oe,xt||[])}function Ne(Oe,$e,xt){var Xe=$e.toJSON(),vt=Oe.parseStyle(Xe.style);xt?($e.find("#borderColor").value(vt["border-color"]||"")[0].fire("change"),$e.find("#backgroundColor").value(vt["background-color"]||"")[0].fire("change")):(vt["border-color"]=Xe.borderColor,vt["background-color"]=Xe.backgroundColor),$e.find("#style").value(Oe.serializeStyle(Oe.parseStyle(Oe.serializeStyle(vt))))}function me(Oe,$e,xt){var Xe=Oe.parseStyle(Oe.getAttrib(xt,"style"));Xe["border-color"]&&($e.borderColor=Xe["border-color"]),Xe["background-color"]&&($e.backgroundColor=Xe["background-color"]),$e.style=Oe.serializeStyle(Xe)}var ze=this;ze.tableProps=function(){ze.table(!0)},ze.table=function(Oe){function $e(){function Gt(ln,Pn,st){if("TD"===ln.tagName||"TH"===ln.tagName)bt.setStyle(ln,Pn,st);else if(ln.children)for(var Tt=0;Tt<ln.children.length;Tt++)Gt(ln.children[Tt],Pn,st)}var Sn;Ne(bt,this),!1===(dt=At.extend(dt,this.toJSON())).class&&delete dt.class,we.undoManager.transact(function(){if(Xe||(Xe=we.plugins.table.insertTable(dt.cols||1,dt.rows||1)),we.dom.setAttribs(Xe,{style:dt.style,class:dt.class}),we.settings.table_style_by_css){if((It=[]).push({name:"border",value:dt.border}),It.push({name:"border-spacing",value:Me(dt.cellspacing)}),function(Oe,$e,xt){var Xe=Oe.parseStyle(Oe.getAttrib($e,"style"));Qe(xt,function(vt){Xe[vt.name]=vt.value}),Oe.setAttrib($e,"style",Oe.serializeStyle(Oe.parseStyle(Oe.serializeStyle(Xe))))}(bt,Xe,It),bt.setAttribs(Xe,{"data-mce-border-color":dt.borderColor,"data-mce-cell-padding":dt.cellpadding,"data-mce-border":dt.border}),Xe.children)for(var ln=0;ln<Xe.children.length;ln++)Gt(Xe.children[ln],"border",dt.border),Gt(Xe.children[ln],"padding",Me(dt.cellpadding))}else we.dom.setAttribs(Xe,{border:dt.border,cellpadding:dt.cellpadding,cellspacing:dt.cellspacing});bt.getAttrib(Xe,"width")&&!we.settings.table_style_by_css?bt.setAttrib(Xe,"width",de(dt.width)):bt.setStyle(Xe,"width",Me(dt.width)),bt.setStyle(Xe,"height",Me(dt.height)),(Sn=bt.select("caption",Xe)[0])&&!dt.caption&&bt.remove(Sn),!Sn&&dt.caption&&((Sn=bt.create("caption")).innerHTML=Ot.ie?"\xa0":'<br data-mce-bogus="1"/>',Xe.insertBefore(Sn,Xe.firstChild)),zt(Xe),dt.align&&we.formatter.apply("align"+dt.align,{},Xe),we.focus(),we.addVisual()})}function xt(Gt,Sn){return function(Tt,Zt){for(var _n=0;_n<Zt.length;_n++){var lt=bt.getStyle(Zt[_n],Sn);if(void 0===Tt&&(Tt=lt),Tt!=lt)return""}return Tt}(undefined,we.dom.select("td,th",Gt))}var Xe,vt,Ft,en,Kt,It,bt=we.dom,dt={};!0===Oe?(Xe=bt.getParent(we.selection.getStart(),"table"))&&(dt={width:de(bt.getStyle(Xe,"width")||bt.getAttrib(Xe,"width")),height:de(bt.getStyle(Xe,"height")||bt.getAttrib(Xe,"height")),cellspacing:de(bt.getStyle(Xe,"border-spacing")||bt.getAttrib(Xe,"cellspacing")),cellpadding:bt.getAttrib(Xe,"data-mce-cell-padding")||bt.getAttrib(Xe,"cellpadding")||xt(Xe,"padding"),border:bt.getAttrib(Xe,"data-mce-border")||bt.getAttrib(Xe,"border")||xt(Xe,"border"),borderColor:bt.getAttrib(Xe,"data-mce-border-color"),caption:!!bt.select("caption",Xe)[0],class:bt.getAttrib(Xe,"class")},Qe("left center right".split(" "),function(Gt){we.formatter.matchNode(Xe,"align"+Gt)&&(dt.align=Gt)})):(vt={label:"Cols",name:"cols"},Ft={label:"Rows",name:"rows"}),we.settings.table_class_list&&(dt.class&&(dt.class=dt.class.replace(/\s*mce\-item\-table\s*/g,"")),en={name:"class",type:"listbox",label:"Class",values:ot(we.settings.table_class_list,function(Gt){Gt.value&&(Gt.textStyle=function(){return we.formatter.getCssText({block:"table",classes:[Gt.value]})})})}),Kt={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:!1!==we.settings.table_appearance_options?[vt,Ft,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[vt,Ft,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},en]},!1!==we.settings.table_advtab?(me(bt,dt,Xe),we.windowManager.open({title:"Table properties",data:dt,bodyType:"tabpanel",body:[{title:"General",type:"form",items:Kt},Mt(bt)],onsubmit:$e})):we.windowManager.open({title:"Table properties",data:dt,body:Kt,onsubmit:$e})},ze.merge=function(Oe,$e){we.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var xt=this.toJSON();we.undoManager.transact(function(){Oe.merge($e,xt.cols,xt.rows)})}})},ze.cell=function(){function Oe(bt,dt,Gt){(1===Kt.length||Gt)&&en.setAttrib(bt,dt,Gt)}function $e(bt,dt,Gt){(1===Kt.length||Gt)&&en.setStyle(bt,dt,Gt)}function xt(){Ne(en,this),vt=At.extend(vt,this.toJSON()),we.undoManager.transact(function(){Qe(Kt,function(bt){Oe(bt,"scope",vt.scope),Oe(bt,"style",vt.style),Oe(bt,"class",vt.class),$e(bt,"width",Me(vt.width)),$e(bt,"height",Me(vt.height)),vt.type&&bt.nodeName.toLowerCase()!==vt.type&&(bt=en.rename(bt,vt.type)),1===Kt.length&&(zt(bt),function(Oe){Qe("top middle bottom".split(" "),function($e){we.formatter.remove("valign"+$e,{},Oe)})}(bt)),vt.align&&we.formatter.apply("align"+vt.align,{},bt),vt.valign&&we.formatter.apply("valign"+vt.valign,{},bt)}),we.focus()})}var Xe,vt,Ft,en=we.dom,Kt=[];if(Kt=we.dom.select("td[data-mce-selected],th[data-mce-selected]"),Xe=we.dom.getParent(we.selection.getStart(),"td,th"),!Kt.length&&Xe&&Kt.push(Xe),Xe=Xe||Kt[0]){Kt.length>1?vt={width:"",height:"",scope:"",class:"",align:"",style:"",type:Xe.nodeName.toLowerCase()}:((vt={width:de(en.getStyle(Xe,"width")||en.getAttrib(Xe,"width")),height:de(en.getStyle(Xe,"height")||en.getAttrib(Xe,"height")),scope:en.getAttrib(Xe,"scope"),class:en.getAttrib(Xe,"class")}).type=Xe.nodeName.toLowerCase(),Qe("left center right".split(" "),function(bt){we.formatter.matchNode(Xe,"align"+bt)&&(vt.align=bt)}),Qe("top middle bottom".split(" "),function(bt){we.formatter.matchNode(Xe,"valign"+bt)&&(vt.valign=bt)}),me(en,vt,Xe)),we.settings.table_cell_class_list&&(Ft={name:"class",type:"listbox",label:"Class",values:ot(we.settings.table_cell_class_list,function(bt){bt.value&&(bt.textStyle=function(){return we.formatter.getCssText({block:"td",classes:[bt.value]})})})});var It={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},Ft]};we.windowManager.open(!1!==we.settings.table_cell_advtab?{title:"Cell properties",bodyType:"tabpanel",data:vt,body:[{title:"General",type:"form",items:It},Mt(en)],onsubmit:xt}:{title:"Cell properties",data:vt,body:It,onsubmit:xt})}},ze.row=function(){function Oe(Gt,Sn,ln){(1===dt.length||ln)&&bt.setAttrib(Gt,Sn,ln)}function xt(){var Gt,Sn,ln;Ne(bt,this),Kt=At.extend(Kt,this.toJSON()),we.undoManager.transact(function(){var Pn=Kt.type;Qe(dt,function(st){Oe(st,"scope",Kt.scope),Oe(st,"style",Kt.style),Oe(st,"class",Kt.class),function(Gt,Sn,ln){(1===dt.length||ln)&&bt.setStyle(Gt,"height",ln)}(st,0,Me(Kt.height)),Pn!==st.parentNode.nodeName.toLowerCase()&&(Gt=bt.getParent(st,"table"),Sn=st.parentNode,(ln=bt.select(Pn,Gt)[0])||(ln=bt.create(Pn),Gt.firstChild?Gt.insertBefore(ln,Gt.firstChild):Gt.appendChild(ln)),ln.appendChild(st),Sn.hasChildNodes()||bt.remove(Sn)),1===dt.length&&zt(st),Kt.align&&we.formatter.apply("align"+Kt.align,{},st)}),we.focus()})}var Xe,vt,Ft,en,Kt,It,bt=we.dom,dt=[];Xe=we.dom.getParent(we.selection.getStart(),"table"),vt=we.dom.getParent(we.selection.getStart(),"td,th"),Qe(Xe.rows,function(Gt){Qe(Gt.cells,function(Sn){if(bt.getAttrib(Sn,"data-mce-selected")||Sn==vt)return dt.push(Gt),!1})}),(Ft=dt[0])&&(dt.length>1?Kt={height:"",scope:"",class:"",align:"",type:Ft.parentNode.nodeName.toLowerCase()}:((Kt={height:de(bt.getStyle(Ft,"height")||bt.getAttrib(Ft,"height")),scope:bt.getAttrib(Ft,"scope"),class:bt.getAttrib(Ft,"class")}).type=Ft.parentNode.nodeName.toLowerCase(),Qe("left center right".split(" "),function(Gt){we.formatter.matchNode(Ft,"align"+Gt)&&(Kt.align=Gt)}),me(bt,Kt,Ft)),we.settings.table_row_class_list&&(en={name:"class",type:"listbox",label:"Class",values:ot(we.settings.table_row_class_list,function(Gt){Gt.value&&(Gt.textStyle=function(){return we.formatter.getCssText({block:"tr",classes:[Gt.value]})})})}),It={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},en]},we.windowManager.open(!1!==we.settings.table_row_advtab?{title:"Row properties",data:Kt,bodyType:"tabpanel",body:[{title:"General",type:"form",items:It},Mt(bt)],onsubmit:xt}:{title:"Row properties",data:Kt,body:It,onsubmit:xt}))}}}),Ye("tinymce/tableplugin/ResizeBars",["tinymce/util/Tools","tinymce/util/VK"],function(At,Ot){var Qe;return function(we){function Ke(kt,Wt){return{index:kt,y:we.dom.getPos(Wt).y}}function Mt(kt,Wt){return{index:kt,y:we.dom.getPos(Wt).y+Wt.offsetHeight}}function de(kt,Wt){return{index:kt,x:we.dom.getPos(Wt).x}}function Me(kt,Wt){return{index:kt,x:we.dom.getPos(Wt).x+Wt.offsetWidth}}function zt(){return"rtl"===we.getBody().dir}function ft(){return we.inline}function ot(){return ft?we.getBody().ownerDocument.body:we.getBody()}function Ne(kt,Wt){return zt()?Me(kt,Wt):de(kt,Wt)}function me(kt,Wt){return zt()?de(kt,Wt):Me(kt,Wt)}function ze(kt,Wt){var yn=we.dom.getStyle(kt,Wt,!0);return parseInt(yn,10)}function Oe(kt){return ze(kt,"width")/ze(kt.parentElement,"width")*100}function Xe(kt,Wt,yn){for(var rn=[],Dn=1;Dn<yn.length;Dn++)rn.push(kt(Dn-1,yn[Dn].element));return rn.push(Wt(yn.length-1,yn[yn.length-1].element)),rn}function vt(){var kt=we.dom.select("."+Zn,ot());At.each(kt,function(Wt){we.dom.remove(Wt)})}function Ft(kt){vt(),st(kt)}function en(kt,Wt,yn,rn,Dn,Hn,oi,ai){var Xn={"data-mce-bogus":"all",class:Zn+" "+kt,unselectable:"on","data-mce-resize":!1,style:"cursor: "+Wt+"; margin: 0; padding: 0; position: absolute; left: "+yn+"px; top: "+rn+"px; height: "+Dn+"px; width: "+Hn+"px; "};return Xn[oi]=ai,Xn}function bt(kt){return At.map(kt.rows,function(Wt){return{element:Wt,cells:At.map(Wt.cells,function(rn){var Dn=rn.hasAttribute("rowspan")?parseInt(rn.getAttribute("rowspan"),10):1,Hn=rn.hasAttribute("colspan")?parseInt(rn.getAttribute("colspan"),10):1;return{element:rn,rowspan:Dn,colspan:Hn}})}})}function dt(kt){function Wt(hi,bi){return hi+","+bi}var Hn={},oi=[],ai=0,Xn=0;return At.each(kt,function(hi,bi){var Mi=[];At.each(hi.cells,function(er){for(var or=0;Hn[Wt(bi,or)]!==Ln;)or++;for(var ar={element:er.element,colspan:er.colspan,rowspan:er.rowspan,rowIndex:bi,colIndex:or},kr=0;kr<er.colspan;kr++)for(var Pr=0;Pr<er.rowspan;Pr++){var zr=bi+Pr,fr=or+kr;Hn[Wt(zr,fr)]=ar,ai=Math.max(ai,zr+1),Xn=Math.max(Xn,fr+1)}Mi.push(ar)}),oi.push({element:hi.element,cells:Mi})}),{grid:{maxRows:ai,maxCols:Xn},getAt:function(hi,bi){return Hn[Wt(hi,bi)]},getAllCells:function(){var hi=[];return At.each(oi,function(bi){hi=hi.concat(bi.cells)}),hi},getAllRows:function(){return oi}}}function Gt(kt,Wt){for(var yn=[],rn=kt;rn<Wt;rn++)yn.push(rn);return yn}function Sn(kt,Wt,yn){for(var rn,Dn=kt(),Hn=0;Hn<Dn.length;Hn++)Wt(Dn[Hn])&&(rn=Dn[Hn]);return rn||yn()}function ln(kt){var Wt=Gt(0,kt.grid.maxCols),yn=Gt(0,kt.grid.maxRows);return At.map(Wt,function(rn){return Sn(function(){for(var ai=[],Xn=0;Xn<yn.length;Xn++){var hi=kt.getAt(Xn,rn);hi&&hi.colIndex===rn&&ai.push(hi)}return ai},function(ai){return 1===ai.colspan},function(){for(var ai,Xn=0;Xn<yn.length;Xn++)if(ai=kt.getAt(Xn,rn))return ai;return null})})}function Pn(kt){var Wt=Gt(0,kt.grid.maxCols),yn=Gt(0,kt.grid.maxRows);return At.map(yn,function(rn){return Sn(function(){for(var ai=[],Xn=0;Xn<Wt.length;Xn++){var hi=kt.getAt(rn,Xn);hi&&hi.rowIndex===rn&&ai.push(hi)}return ai},function(ai){return 1===ai.rowspan},function(){return kt.getAt(rn,0)})})}function st(kt){var yn=dt(bt(kt)),rn=Pn(yn),Dn=ln(yn),Hn=we.dom.getPos(kt),oi=rn.length>0?Xe(Ke,Mt,rn):[],ai=Dn.length>0?Xe(Ne,me,Dn):[];(function(kt,Wt,yn){At.each(kt,function(rn){var Dn=yn.x,Hn=rn.y-vr/2,oi=vr,ai=Wt;we.dom.add(ot(),"div",en($n,xi,Dn,Hn,oi,ai,Yi,rn.index))})})(oi,kt.offsetWidth,Hn),function(kt,Wt,yn){At.each(kt,function(rn){var Dn=rn.x-vr/2,Hn=yn.y,oi=Wt,ai=vr;we.dom.add(ot(),"div",en(_i,Wr,Dn,Hn,oi,ai,nr,rn.index))})}(ai,kt.offsetHeight,Hn)}function Tt(kt,Wt,yn,rn){if(Wt<0||Wt>=kt.length-1)return"";var Dn=kt[Wt];if(Dn)Dn={value:Dn,delta:0};else for(var Hn=kt.slice(0,Wt).reverse(),oi=0;oi<Hn.length;oi++)Hn[oi]&&(Dn={value:Hn[oi],delta:oi+1});var ai=kt[Wt+1];if(ai)ai={value:ai,delta:1};else for(var Xn=kt.slice(Wt+1),hi=0;hi<Xn.length;hi++)Xn[hi]&&(ai={value:Xn[hi],delta:hi+1});var bi=ai.delta-Dn.delta,Mi=Math.abs(ai.value-Dn.value)/bi;return yn?Mi/ze(rn,"width")*100:Mi}function Zt(kt,Wt){var yn=we.dom.getStyle(kt,Wt);return yn||(yn=we.dom.getAttrib(kt,Wt)),yn||(yn=we.dom.getStyle(kt,Wt,!0)),yn}function _n(kt,Wt,yn){var rn=Zt(kt,"width"),Dn=parseInt(rn,10),Hn=Wt?function(kt,Wt){return ze(kt,"width")/ze(Wt,"width")*100}(kt,yn):ze(kt,"width");return(Wt&&!si(rn)||!Wt&&!qn(rn))&&(Dn=0),!isNaN(Dn)&&Dn>0?Dn:Hn}function lt(kt,Wt,yn){for(var rn=ln(kt),Dn=At.map(rn,function(hi){return Ne(hi.colIndex,hi.element).x}),Hn=[],oi=0;oi<rn.length;oi++){var Xn=(rn[oi].element.hasAttribute("colspan")?parseInt(rn[oi].element.getAttribute("colspan"),10):1)>1?Tt(Dn,oi):_n(rn[oi].element,Wt,yn);Hn.push(Xn=Xn||$i)}return Hn}function Ht(kt){var Wt=Zt(kt,"height"),yn=parseInt(Wt,10);return si(Wt)&&(yn=0),!isNaN(yn)&&yn>0?yn:ze(kt,"height")}function le(kt){for(var Wt=Pn(kt),yn=At.map(Wt,function(ai){return Ke(ai.rowIndex,ai.element).y}),rn=[],Dn=0;Dn<Wt.length;Dn++){var oi=(Wt[Dn].element.hasAttribute("rowspan")?parseInt(Wt[Dn].element.getAttribute("rowspan"),10):1)>1?Tt(yn,Dn):Ht(Wt[Dn].element);rn.push(oi=oi||Vi)}return rn}function Et(kt,Wt,yn,rn,Dn){function Hn(Mi){return At.map(Mi,function(){return 0})}function ai(Mi,er){var or,ar=Hn(bi.slice(0,Mi)),kr=Hn(bi.slice(er+1));if(yn>=0){var Pr=Math.max(rn,bi[er]-yn);or=ar.concat([yn,Pr-bi[er]]).concat(kr)}else{var zr=Math.max(rn,bi[Mi]+yn);or=ar.concat([zr-bi[Mi],bi[Mi]-zr]).concat(kr)}return or}var bi=kt.slice(0);return 0===kt.length?[]:1===kt.length?Dn?[100-bi[0]]:[Math.max(rn,bi[0]+yn)-bi[0]]:0===Wt?ai(0,1):Wt>0&&Wt<kt.length-1?ai(Wt,Wt+1):Wt===kt.length-1?function(Mi,er){var or,ar=Hn(bi.slice(0,er));if(yn>=0)or=ar.concat([yn]);else{var kr=Math.max(rn,bi[er]+yn);or=ar.concat([kr-bi[er]])}return or}(0,Wt):[]}function wn(kt,Wt,yn){for(var rn=0,Dn=kt;Dn<Wt;Dn++)rn+=yn[Dn];return rn}function Nn(kt,Wt){var yn=kt.getAllCells();return At.map(yn,function(rn){var Dn=wn(rn.colIndex,rn.colIndex+rn.colspan,Wt);return{element:rn.element,width:Dn,colspan:rn.colspan}})}function En(kt,Wt){var yn=kt.getAllCells();return At.map(yn,function(rn){var Dn=wn(rn.rowIndex,rn.rowIndex+rn.rowspan,Wt);return{element:rn.element,height:Dn,rowspan:rn.rowspan}})}function vi(kt,Wt){var yn=kt.getAllRows();return At.map(yn,function(rn,Dn){return{element:rn.element,height:Wt[Dn]}})}function si(kt){return Nr.test(kt)}function qn(kt){return to.test(kt)}function zi(kt,Wt,yn){for(var Xn=dt(bt(kt)),hi=si(kt.width)||si(kt.style.width),bi=lt(Xn,hi,kt),Mi=hi?function(kt,Wt){return Wt/ze(kt,"width")*100}(kt,Wt):Wt,er=Et(bi,yn,Mi,$i,hi),or=[],ar=0;ar<er.length;ar++)or.push(er[ar]+bi[ar]);var kr=Nn(Xn,or),Pr=hi?"%":"px",zr=hi?yn<Xn.grid.maxCols-1?Oe(kt):Oe(kt)+function(kt,Wt){return Wt/ze(kt.parentElement,"width")*100}(kt,Wt):yn<Xn.grid.maxCols-1?ze(kt,"width"):ze(kt,"width")+Wt;we.undoManager.transact(function(){var li;li=Pr,At.each(kr,function(Ur){we.dom.setStyle(Ur.element,"width",Ur.width+li),we.dom.setAttrib(Ur.element,"width",null)}),function(fr,li,Ur){yn!=Xn.grid.maxCols-1&&Ur||(we.dom.setStyle(kt,"width",fr+li),we.dom.setAttrib(kt,"width",null))}(zr,Pr,hi)})}function yi(kt,Wt,yn){for(var Dn=dt(bt(kt)),Hn=le(Dn),oi=[],ai=0,Xn=0;Xn<Hn.length;Xn++)oi.push(Xn===yn?Wt+Hn[Xn]:Hn[Xn]),ai+=ai[Xn];var hi=En(Dn,oi),bi=vi(Dn,oi);we.undoManager.transact(function(){At.each(bi,function(Mi){we.dom.setStyle(Mi.element,"height",Mi.height+"px"),we.dom.setAttrib(Mi.element,"height",null)}),At.each(hi,function(Mi){we.dom.setStyle(Mi.element,"height",Mi.height+"px"),we.dom.setAttrib(Mi.element,"height",null)}),we.dom.setStyle(kt,"height",ai+"px"),we.dom.setAttrib(kt,"height",null)})}function dn(){if(we.dom.remove(fn),Tn){var kt,Wt;if(we.dom.removeClass(nn,Gr),Tn=!1,gn(nn)){var yn=parseInt(we.dom.getAttrib(nn,Ui),10),rn=we.dom.getPos(nn).x;kt=parseInt(we.dom.getAttrib(nn,nr),10),Wt=zt()?yn-rn:rn-yn,Math.abs(Wt)>=1&&zi(Qe,Wt,kt)}else if(Fn(nn)){var Dn=parseInt(we.dom.getAttrib(nn,Ki),10),Hn=we.dom.getPos(nn).y;kt=parseInt(we.dom.getAttrib(nn,Yi),10),Wt=Hn-Dn,Math.abs(Wt)>=1&&yi(Qe,Wt,kt)}Ft(Qe),we.nodeChanged()}}function Lt(kt,Wt){fn=fn||function(){var kt=document.createElement("div");return kt.setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"),kt.setAttribute("data-mce-bogus","all"),kt}(),Tn=!0,we.dom.addClass(kt,Gr),nn=kt,function(kt,Wt){we.dom.bind(kt,"mouseup",function(){dn()}),we.dom.bind(kt,"mousemove",function(yn){clearTimeout(an),Tn&&Wt(yn)}),we.dom.bind(kt,"mouseout",function(){an=setTimeout(function(){dn()},200)})}(fn,Wt),we.dom.add(ot(),fn)}function gn(kt){return we.dom.hasClass(kt,_i)}function Fn(kt){return we.dom.hasClass(kt,$n)}function ii(kt){var Wt=kt.clientX-(An=An!==Ln?An:kt.clientX);An=kt.clientX;var yn=we.dom.getPos(nn).x;we.dom.setStyle(nn,"left",yn+Wt+"px")}function ri(kt){var Wt=kt.clientY-(Bn=Bn!==Ln?Bn:kt.clientY);Bn=kt.clientY;var yn=we.dom.getPos(nn).y;we.dom.setStyle(nn,"top",yn+Wt+"px")}function Yt(kt){var Wt=kt.target,yn=we.getBody();if(we.$.contains(yn,Qe)||Qe===yn)if(gn(Wt)){kt.preventDefault();var rn=we.dom.getPos(Wt).x;we.dom.setAttrib(Wt,Ui,rn),function(kt){An=Ln,Lt(kt,ii)}(Wt)}else if(Fn(Wt)){kt.preventDefault();var Dn=we.dom.getPos(Wt).y;we.dom.setAttrib(Wt,Ki,Dn),function(kt){Bn=Ln,Lt(kt,ri)}(Wt)}else vt()}var an,Tn,fn,nn,An,Bn,Zn="mce-resize-bar",$n="mce-resize-bar-row",xi="row-resize",Yi="data-row",Ki="data-initial-top",_i="mce-resize-bar-col",Wr="col-resize",nr="data-col",Ui="data-initial-left",vr=4,$i=10,Vi=10,Gr="mce-resize-bar-dragging",Nr=new RegExp(/(\d+(\.\d+)?%)/),to=new RegExp(/px|em/);return we.on("init",function(){we.dom.bind(ot(),"mousedown",Yt)}),we.on("ObjectResized",function(kt){var Wt=kt.target;if("TABLE"===Wt.nodeName){var yn=[];At.each(Wt.rows,function(rn){At.each(rn.cells,function(Dn){var Hn=we.dom.getStyle(Dn,"width",!0);yn.push({cell:Dn,width:Hn})})}),At.each(yn,function(rn){we.dom.setStyle(rn.cell,"width",rn.width),we.dom.setAttrib(rn.cell,"width",null)})}}),we.on("mouseover",function(kt){if(!Tn){var Wt=we.dom.getParent(kt.target,"table");("TABLE"===kt.target.nodeName||Wt)&&(Qe=Wt,Ft(Wt))}}),we.on("keydown",function(kt){switch(kt.keyCode){case Ot.LEFT:case Ot.RIGHT:case Ot.UP:case Ot.DOWN:vt()}}),we.on("remove",function(){vt(),we.dom.unbind(ot(),"mousedown",Yt)}),{adjustWidth:zi,adjustHeight:yi,clearBars:vt,drawBars:st,determineDeltas:Et,getTableGrid:dt,getTableDetails:bt,getWidths:lt,getPixelHeights:le,isPercentageBasedSize:si,isPixelBasedSize:qn,recalculateWidths:Nn,recalculateCellHeights:En,recalculateRowHeights:vi}}}),Ye("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Dialogs","tinymce/tableplugin/ResizeBars","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],function(At,Ot,Qe,we,Ke,Mt,de,Me,zt){var ot=Mt.each;zt.add("table",function(Ne){function me(st){return function(){Ne.execCommand(st)}}function at(st,Tt){var Zt,_n,lt,Ht;for(lt='<table id="__mce"><tbody>',Zt=0;Zt<Tt;Zt++){for(lt+="<tr>",_n=0;_n<st;_n++)lt+="<td>"+(Me.ie&&Me.ie<10?"&nbsp;":"<br>")+"</td>";lt+="</tr>"}return lt+="</tbody></table>",Ne.undoManager.transact(function(){Ne.insertContent(lt),Ht=Ne.dom.get("__mce"),Ne.dom.setAttrib(Ht,"id",null),Ne.$("tr",Ht).each(function(le,Et){Ne.fire("newrow",{node:Et}),Ne.$("th,td",Et).each(function(wn,Nn){Ne.fire("newcell",{node:Nn})})}),Ne.dom.setAttribs(Ht,Ne.settings.table_default_attributes||{}),Ne.dom.setStyles(Ht,Ne.settings.table_default_styles||{})}),Ht}function ze(st,Tt,Zt){function _n(){var lt,Ht,le,Et={},wn=0;(lt=(Ht=Ne.dom.select("td[data-mce-selected],th[data-mce-selected]"))[0])||(lt=Ne.selection.getStart()),Zt&&Ht.length>0?(ot(Ht,function(Nn){return Et[Nn.parentNode.parentNode.nodeName]=1}),ot(Et,function(Nn){wn+=Nn}),le=1!==wn):le=!Ne.dom.getParent(lt,Tt),st.disabled(le),Ne.selection.selectorChanged(Tt,function(Nn){st.disabled(!Nn)})}Ne.initialized?_n():Ne.on("init",_n)}function Oe(){ze(this,"table")}function $e(){ze(this,"td,th")}function vt(st,Tt,Zt){var _n,lt,Ht,le,Et,wn=Zt.getEl().getElementsByTagName("table")[0],Nn=Zt.isRtl()||"tl-tr"==Zt.parent().rel;for(wn.nextSibling.innerHTML=st+1+" x "+(Tt+1),Nn&&(st=9-st),lt=0;lt<10;lt++)for(_n=0;_n<10;_n++)Ne.dom.toggleClass(le=wn.rows[lt].childNodes[_n].firstChild,"mce-active",Et=(Nn?_n>=st:_n<=st)&&lt<=Tt),Et&&(Ht=le);return Ht.parentNode}var dt,Gt,Sn=this,ln=new we(Ne);!Ne.settings.object_resizing||!1===Ne.settings.table_resize_bars||!0!==Ne.settings.object_resizing&&"table"!==Ne.settings.object_resizing||(Gt=Ke(Ne)),Ne.addMenuItem("inserttable",!1===Ne.settings.table_grid?{text:"Table",icon:"table",context:"table",onclick:ln.table}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(st){st.aria&&(this.parent().hideAll(),st.stopImmediatePropagation(),ln.table())},onshow:function(){vt(0,0,this.menu.items()[0])},onhide:function(){var st=this.menu.items()[0].getEl().getElementsByTagName("a");Ne.dom.removeClass(st,"mce-active"),Ne.dom.addClass(st[0],"mce-active")},menu:[{type:"container",html:function(){var st="";st='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var Tt=0;Tt<10;Tt++){st+="<tr>";for(var Zt=0;Zt<10;Zt++)st+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*Tt+Zt)+'" href="#" data-mce-x="'+Zt+'" data-mce-y="'+Tt+'"></a></td>';st+="</tr>"}return(st+="</table>")+'<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(st){var Tt,Zt,_n=st.target;"A"==_n.tagName.toUpperCase()&&(Tt=parseInt(_n.getAttribute("data-mce-x"),10),Zt=parseInt(_n.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(Tt=9-Tt),Tt===this.lastX&&Zt===this.lastY||(vt(Tt,Zt,st.control),this.lastX=Tt,this.lastY=Zt))},onclick:function(st){var Tt=this;"A"==st.target.tagName.toUpperCase()&&(st.preventDefault(),st.stopPropagation(),Tt.parent().cancel(),Ne.undoManager.transact(function(){at(Tt.lastX+1,Tt.lastY+1)}),Ne.addVisual())}}]}),Ne.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:Oe,onclick:ln.tableProps}),Ne.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:Oe,cmd:"mceTableDelete"}),Ne.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:me("mceTableCellProps"),onPostRender:$e},{text:"Merge cells",onclick:me("mceTableMergeCells"),onPostRender:function(){ze(this,"td,th",!0)}},{text:"Split cell",onclick:me("mceTableSplitCells"),onPostRender:$e}]}),Ne.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:me("mceTableInsertRowBefore"),onPostRender:$e},{text:"Insert row after",onclick:me("mceTableInsertRowAfter"),onPostRender:$e},{text:"Delete row",onclick:me("mceTableDeleteRow"),onPostRender:$e},{text:"Row properties",onclick:me("mceTableRowProps"),onPostRender:$e},{text:"-"},{text:"Cut row",onclick:me("mceTableCutRow"),onPostRender:$e},{text:"Copy row",onclick:me("mceTableCopyRow"),onPostRender:$e},{text:"Paste row before",onclick:me("mceTablePasteRowBefore"),onPostRender:$e},{text:"Paste row after",onclick:me("mceTablePasteRowAfter"),onPostRender:$e}]}),Ne.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:me("mceTableInsertColBefore"),onPostRender:$e},{text:"Insert column after",onclick:me("mceTableInsertColAfter"),onPostRender:$e},{text:"Delete column",onclick:me("mceTableDeleteCol"),onPostRender:$e}]});var st,Pn=[];ot("inserttable tableprops deletetable | cell row column".split(" "),function(st){Pn.push("|"==st?{text:"-"}:Ne.menuItems[st])}),Ne.addButton("table",{type:"menubutton",title:"Table",menu:Pn}),Me.isIE||Ne.on("click",function(st){"TABLE"===(st=st.target).nodeName&&(Ne.selection.select(st),Ne.nodeChanged())}),Sn.quirks=new Ot(Ne),Ne.on("Init",function(){Sn.cellSelection=new Qe(Ne,function(st){st&&Gt&&Gt.clearBars()}),Sn.resizeBars=Gt}),Ne.on("PreInit",function(){Ne.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",function(st,Tt){for(var Zt=st.length;Zt--;)st[Zt].attr(Tt,null)})}),ot({mceTableSplitCells:function(st){st.split()},mceTableMergeCells:function(st){var Tt;Tt=Ne.dom.getParent(Ne.selection.getStart(),"th,td"),Ne.dom.select("td[data-mce-selected],th[data-mce-selected]").length?st.merge():ln.merge(st,Tt)},mceTableInsertRowBefore:function(st){st.insertRows(!0)},mceTableInsertRowAfter:function(st){st.insertRows()},mceTableInsertColBefore:function(st){st.insertCols(!0)},mceTableInsertColAfter:function(st){st.insertCols()},mceTableDeleteCol:function(st){st.deleteCols()},mceTableDeleteRow:function(st){st.deleteRows()},mceTableCutRow:function(st){dt=st.cutRows()},mceTableCopyRow:function(st){dt=st.copyRows()},mceTablePasteRowBefore:function(st){st.pasteRows(dt,!0)},mceTablePasteRowAfter:function(st){st.pasteRows(dt)},mceSplitColsBefore:function(st){st.splitCols(!0)},mceSplitColsAfter:function(st){st.splitCols(!1)},mceTableDelete:function(st){Gt&&Gt.clearBars(),st.deleteTable()}},function(st,Tt){Ne.addCommand(Tt,function(){var Zt=new At(Ne);Zt&&(st(Zt),Ne.execCommand("mceRepaint"),Sn.cellSelection.clear())})}),ot({mceInsertTable:ln.table,mceTableProps:function(){ln.table(!0)},mceTableRowProps:ln.row,mceTableCellProps:ln.cell},function(st,Tt){Ne.addCommand(Tt,function(Zt,_n){st(_n)})}),Ne.addButton("tableprops",{title:"Table properties",onclick:ln.tableProps,icon:"table"}),Ne.addButton("tabledelete",{title:"Delete table",onclick:me("mceTableDelete")}),Ne.addButton("tablecellprops",{title:"Cell properties",onclick:me("mceTableCellProps")}),Ne.addButton("tablemergecells",{title:"Merge cells",onclick:me("mceTableMergeCells")}),Ne.addButton("tablesplitcells",{title:"Split cell",onclick:me("mceTableSplitCells")}),Ne.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:me("mceTableInsertRowBefore")}),Ne.addButton("tableinsertrowafter",{title:"Insert row after",onclick:me("mceTableInsertRowAfter")}),Ne.addButton("tabledeleterow",{title:"Delete row",onclick:me("mceTableDeleteRow")}),Ne.addButton("tablerowprops",{title:"Row properties",onclick:me("mceTableRowProps")}),Ne.addButton("tablecutrow",{title:"Cut row",onclick:me("mceTableCutRow")}),Ne.addButton("tablecopyrow",{title:"Copy row",onclick:me("mceTableCopyRow")}),Ne.addButton("tablepasterowbefore",{title:"Paste row before",onclick:me("mceTablePasteRowBefore")}),Ne.addButton("tablepasterowafter",{title:"Paste row after",onclick:me("mceTablePasteRowAfter")}),Ne.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:me("mceTableInsertColBefore")}),Ne.addButton("tableinsertcolafter",{title:"Insert column after",onclick:me("mceTableInsertColAfter")}),Ne.addButton("tabledeletecol",{title:"Delete column",onclick:me("mceTableDeleteCol")}),""!==(st=Ne.settings.table_toolbar)&&!1!==st&&(st||(st="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),Ne.addContextToolbar(function(st){return Ne.dom.is(st,"table")&&Ne.getBody().contains(st)},st)),!1!==Ne.settings.table_tab_navigation&&Ne.on("keydown",function(st){var Tt,Zt,_n;9==st.keyCode&&(Tt=Ne.dom.getParent(Ne.selection.getStart(),"th,td"))&&(st.preventDefault(),Zt=new At(Ne),_n=st.shiftKey?-1:1,Ne.undoManager.transact(function(){!Zt.moveRelIdx(Tt,_n)&&_n>0&&(Zt.insertRow(),Zt.refresh(),Zt.moveRelIdx(Tt,_n))}))}),Sn.insertTable=at,Sn.setClipboardRows=function(st){dt=st},Sn.getClipboardRows=function(){return dt}})})}(window),function(Bt,Ln){"object"==typeof exports&&"undefined"!=typeof module?Ln(exports):"function"==typeof define&&define.amd?define(["exports"],Ln):Ln(Bt.echarts={})}(this,function(Bt){"use strict";function Ln(e,t){"createCanvas"===e&&(od=null),Np[e]=t}function hn(e){if(null==e||"object"!=typeof e)return e;var t=e,n=ku.call(e);if("[object Array]"===n){if(!ln(e)){t=[];for(var i=0,r=e.length;i<r;i++)t[i]=hn(e[i])}}else if(xx[n]){if(!ln(e)){var o=e.constructor;if(e.constructor.from)t=o.from(e);else for(t=new o(e.length),i=0,r=e.length;i<r;i++)t[i]=hn(e[i])}}else if(!yx[n]&&!ln(e)&&!Xe(e))for(var a in t={},e)e.hasOwnProperty(a)&&(t[a]=hn(e[a]));return t}function Ye(e,t,n){if(!Oe(t)||!Oe(e))return n?hn(t):e;for(var i in t)if(t.hasOwnProperty(i)){var r=e[i],o=t[i];!Oe(o)||!Oe(r)||me(o)||me(r)||Xe(o)||Xe(r)||$e(o)||$e(r)||ln(o)||ln(r)?!n&&i in e||(e[i]=hn(t[i])):Ye(r,o,n)}return e}function sr(e,t){for(var n=e[0],i=1,r=e.length;i<r;i++)n=Ye(n,e[i],t);return n}function On(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function At(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(n?null!=t[i]:null==e[i])&&(e[i]=t[i]);return e}function Ot(){return od||(od=kl().getContext("2d")),od}function Qe(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1}function we(e,t){function n(){}var i=e.prototype;for(var r in n.prototype=t.prototype,e.prototype=new n,i)e.prototype[r]=i[r];e.prototype.constructor=e,e.superClass=t}function Ke(e,t,n){At(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,n)}function Mt(e){if(e)return"string"!=typeof e&&"number"==typeof e.length}function de(e,t,n){if(e&&t)if(e.forEach&&e.forEach===Nk)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function Me(e,t,n){if(e&&t){if(e.map&&e.map===Lk)return e.map(t,n);for(var i=[],r=0,o=e.length;r<o;r++)i.push(t.call(n,e[r],r,e));return i}}function zt(e,t,n,i){if(e&&t){if(e.reduce&&e.reduce===Ek)return e.reduce(t,n,i);for(var r=0,o=e.length;r<o;r++)n=t.call(i,n,e[r],r,e);return n}}function ft(e,t,n){if(e&&t){if(e.filter&&e.filter===Pk)return e.filter(t,n);for(var i=[],r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)&&i.push(e[r]);return i}}function ot(e,t){var n=Iu.call(arguments,2);return function(){return e.apply(t,n.concat(Iu.call(arguments)))}}function Ne(e){var t=Iu.call(arguments,1);return function(){return e.apply(this,t.concat(Iu.call(arguments)))}}function me(e){return"[object Array]"===ku.call(e)}function at(e){return"function"==typeof e}function ze(e){return"[object String]"===ku.call(e)}function Oe(e){var t=typeof e;return"function"===t||!!e&&"object"==t}function $e(e){return!!yx[ku.call(e)]}function xt(e){return!!xx[ku.call(e)]}function Xe(e){return"object"==typeof e&&"number"==typeof e.nodeType&&"object"==typeof e.ownerDocument}function vt(e){return e!=e}function Ft(e){for(var t=0,n=arguments.length;t<n;t++)if(null!=arguments[t])return arguments[t]}function en(e,t){return null!=e?e:t}function Kt(e,t,n){return null!=e?e:null!=t?t:n}function It(){return Function.call.apply(Iu,arguments)}function bt(e){if("number"==typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function dt(e,t){if(!e)throw new Error(t)}function Gt(e){return null==e?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function Sn(e){e[bx]=!0}function ln(e){return e[bx]}function Pn(e){function t(r,o){n?i.set(r,o):i.set(o,r)}var n=me(e),i=this;e instanceof Pn?e.each(t):e&&de(e,t)}function st(e){return new Pn(e)}function Tt(e,t){for(var n=new e.constructor(e.length+t.length),i=0;i<e.length;i++)n[i]=e[i];var r=e.length;for(i=0;i<t.length;i++)n[i+r]=t[i];return n}function Zt(){}function _n(e,t){var n=new _x(2);return null==e&&(e=0),null==t&&(t=0),n[0]=e,n[1]=t,n}function lt(e,t){return e[0]=t[0],e[1]=t[1],e}function Ht(e){var t=new _x(2);return t[0]=e[0],t[1]=e[1],t}function le(e,t,n){return e[0]=t,e[1]=n,e}function Et(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function wn(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e}function Nn(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function En(e){return Math.sqrt(vi(e))}function vi(e){return e[0]*e[0]+e[1]*e[1]}function si(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function qn(e,t){var n=En(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function zi(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function yi(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}function Zi(e,t,n,i){return e[0]=t[0]+i*(n[0]-t[0]),e[1]=t[1]+i*(n[1]-t[1]),e}function Pt(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[2]*r+n[4],e[1]=n[1]*i+n[3]*r+n[5],e}function _t(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function on(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function dn(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function Lt(e,t){return{target:e,topTarget:t&&t.topTarget}}function Fn(){}function ii(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var i,r=e;r;){if(r.clipPath&&!r.clipPath.contain(t,n))return!1;r.silent&&(i=!0),r=r.parent}return!i||Sx}return!1}function ri(){var e=new Vk(6);return jn(e),e}function jn(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Nt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Yt(e,t,n){var r=t[1]*n[0]+t[3]*n[1],o=t[0]*n[2]+t[2]*n[3],a=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],u=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=t[0]*n[0]+t[2]*n[1],e[1]=r,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e}function an(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function Tn(e,t,n){var i=t[0],r=t[2],o=t[4],a=t[1],s=t[3],u=t[5],d=Math.sin(n),h=Math.cos(n);return e[0]=i*h+a*d,e[1]=-i*d+a*h,e[2]=r*h+s*d,e[3]=-r*d+h*s,e[4]=h*o+d*u,e[5]=h*u-d*o,e}function fn(e,t,n){var i=n[0],r=n[1];return e[0]=t[0]*i,e[1]=t[1]*r,e[2]=t[2]*i,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*r,e}function nn(e,t){var n=t[0],i=t[2],r=t[4],o=t[1],a=t[3],s=t[5],u=n*a-o*i;return u?(e[0]=a*(u=1/u),e[1]=-o*u,e[2]=-i*u,e[3]=n*u,e[4]=(i*s-a*r)*u,e[5]=(o*r-n*s)*u,e):null}function An(e){var t=ri();return Nt(t,e),t}function Bn(e){return e>Mx||e<-Mx}function Zn(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}function $n(e){return(e=Math.round(e))<0?0:e>255?255:e}function Yi(e){return e<0?0:e>1?1:e}function Ki(e){return $n(e.length&&"%"===e.charAt(e.length-1)?parseFloat(e)/100*255:parseInt(e,10))}function _i(e){return Yi(e.length&&"%"===e.charAt(e.length-1)?parseFloat(e)/100:parseFloat(e))}function Wr(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function nr(e,t,n){return e+(t-e)*n}function Ui(e,t,n,i,r){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e}function vr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function $i(e,t){sd&&vr(sd,t),sd=Dx.put(e,sd||t.slice())}function Vi(e,t){if(e){t=t||[];var n=Dx.get(e);if(n)return vr(t,n);var i=(e+="").replace(/ /g,"").toLowerCase();if(i in Ix)return vr(t,Ix[i]),$i(e,t),t;if("#"!==i.charAt(0)){var r=i.indexOf("("),o=i.indexOf(")");if(-1!==r&&o+1===i.length){var a=i.substr(0,r),s=i.substr(r+1,o-(r+1)).split(","),u=1;switch(a){case"rgba":if(4!==s.length)return void Ui(t,0,0,0,1);u=_i(s.pop());case"rgb":return 3!==s.length?void Ui(t,0,0,0,1):(Ui(t,Ki(s[0]),Ki(s[1]),Ki(s[2]),u),$i(e,t),t);case"hsla":return 4!==s.length?void Ui(t,0,0,0,1):(s[3]=_i(s[3]),Gr(s,t),$i(e,t),t);case"hsl":return 3!==s.length?void Ui(t,0,0,0,1):(Gr(s,t),$i(e,t),t);default:return}}Ui(t,0,0,0,1)}else{if(4===i.length)return(d=parseInt(i.substr(1),16))>=0&&d<=4095?(Ui(t,(3840&d)>>4|(3840&d)>>8,240&d|(240&d)>>4,15&d|(15&d)<<4,1),$i(e,t),t):void Ui(t,0,0,0,1);if(7===i.length){var d=parseInt(i.substr(1),16);return d>=0&&d<=16777215?(Ui(t,(16711680&d)>>16,(65280&d)>>8,255&d,1),$i(e,t),t):void Ui(t,0,0,0,1)}}}}function Gr(e,t){var n=(parseFloat(e[0])%360+360)%360/360,i=_i(e[1]),r=_i(e[2]),o=r<=.5?r*(i+1):r+i-r*i,a=2*r-o;return Ui(t=t||[],$n(255*Wr(a,o,n+1/3)),$n(255*Wr(a,o,n)),$n(255*Wr(a,o,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function to(e,t){var n=Vi(e);if(n){for(var i=0;i<3;i++)n[i]=t<0?n[i]*(1-t)|0:(255-n[i])*t+n[i]|0;return Hn(n,4===n.length?"rgba":"rgb")}}function kt(e){var t=Vi(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function Wt(e,t,n){if(t&&t.length&&e>=0&&e<=1){n=n||[];var i=e*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=t[r],s=t[o],u=i-r;return n[0]=$n(nr(a[0],s[0],u)),n[1]=$n(nr(a[1],s[1],u)),n[2]=$n(nr(a[2],s[2],u)),n[3]=Yi(nr(a[3],s[3],u)),n}}function yn(e,t,n){if(t&&t.length&&e>=0&&e<=1){var i=e*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=Vi(t[r]),s=Vi(t[o]),u=i-r,d=Hn([$n(nr(a[0],s[0],u)),$n(nr(a[1],s[1],u)),$n(nr(a[2],s[2],u)),Yi(nr(a[3],s[3],u))],"rgba");return n?{color:d,leftIndex:r,rightIndex:o,value:i}:d}}function rn(e,t,n,i){if(e=Vi(e))return e=function(e){if(e){var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),u=s-a,d=(s+a)/2;if(0===u)t=0,n=0;else{n=d<.5?u/(s+a):u/(2-s-a);var h=((s-i)/6+u/2)/u,g=((s-r)/6+u/2)/u,m=((s-o)/6+u/2)/u;i===s?t=m-g:r===s?t=1/3+h-m:o===s&&(t=2/3+g-h),t<0&&(t+=1),t>1&&(t-=1)}var y=[360*t,n,d];return null!=e[3]&&y.push(e[3]),y}}(e),null!=t&&(e[0]=function(e){return(e=Math.round(e))<0?0:e>360?360:e}(t)),null!=n&&(e[1]=_i(n)),null!=i&&(e[2]=_i(i)),Hn(Gr(e),"rgba")}function Dn(e,t){if((e=Vi(e))&&null!=t)return e[3]=Yi(t),Hn(e,"rgba")}function Hn(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}}function oi(e,t){return e[t]}function ai(e,t,n){e[t]=n}function Xn(e,t,n){return(t-e)*n+e}function hi(e,t,n){return n>.5?t:e}function bi(e,t,n,i,r){var o=e.length;if(1==r)for(s=0;s<o;s++)i[s]=Xn(e[s],t[s],n);else for(var a=o&&e[0].length,s=0;s<o;s++)for(var u=0;u<a;u++)i[s][u]=Xn(e[s][u],t[s][u],n)}function Mi(e,t,n){var i=e.length,r=t.length;if(i!==r)if(i>r)e.length=r;else for(a=i;a<r;a++)e.push(1===n?t[a]:Rp.call(t[a]));for(var o=e[0]&&e[0].length,a=0;a<e.length;a++)if(1===n)isNaN(e[a])&&(e[a]=t[a]);else for(var s=0;s<o;s++)isNaN(e[a][s])&&(e[a][s]=t[a][s])}function er(e,t,n){if(e===t)return!0;var i=e.length;if(i!==t.length)return!1;if(1===n){for(o=0;o<i;o++)if(e[o]!==t[o])return!1}else for(var r=e[0].length,o=0;o<i;o++)for(var a=0;a<r;a++)if(e[o][a]!==t[o][a])return!1;return!0}function or(e,t,n,i,r,o,a,s,u){var d=e.length;if(1==u)for(g=0;g<d;g++)s[g]=ar(e[g],t[g],n[g],i[g],r,o,a);else for(var h=e[0].length,g=0;g<d;g++)for(var m=0;m<h;m++)s[g][m]=ar(e[g][m],t[g][m],n[g][m],i[g][m],r,o,a)}function ar(e,t,n,i,r,o,a){var s=.5*(n-e),u=.5*(i-t);return(2*(t-n)+s+u)*a+(-3*(t-n)-2*s-u)*o+s*r+t}function kr(e){if(Mt(e)){var t=e.length;if(Mt(e[0])){for(var n=[],i=0;i<t;i++)n.push(Rp.call(e[i]));return n}return Rp.call(e)}return e}function Pr(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function fr(e,t,n,i,r,o){var a=e._getter,s=e._setter,u="spline"===t,d=i.length;if(d){var h,g=Mt(i[0].value),m=!1,y=!1,I=g?function(e){var t=e[e.length-1].value;return Mt(t&&t[0])?2:1}(i):0;i.sort(function(Vn,Jn){return Vn.time-Jn.time}),h=i[d-1].time;for(var j=[],q=[],K=i[0].value,te=!0,ue=0;ue<d;ue++){j.push(i[ue].time/h);var be=i[ue].value;if(g&&er(be,K,I)||!g&&be===K||(te=!1),K=be,"string"==typeof be){var ke=Vi(be);ke?(be=ke,m=!0):y=!0}q.push(be)}if(o||!te){var Be=q[d-1];for(ue=0;ue<d-1;ue++)g?Mi(q[ue],Be,I):!isNaN(q[ue])||isNaN(Be)||y||m||(q[ue]=Be);g&&Mi(a(e._target,r),Be,I);var qe,gt,tn,Jt,un,Mn=0,xn=0;if(m)var kn=[0,0,0,0];var Wn=new Zn({target:e._target,life:h,loop:e._loop,delay:e._delay,onframe:function(Vn,Jn){var zn;if(Jn<0)zn=0;else if(Jn<xn){for(zn=Math.min(Mn+1,d-1);zn>=0&&!(j[zn]<=Jn);zn--);zn=Math.min(zn,d-2)}else{for(zn=Mn;zn<d&&!(j[zn]>Jn);zn++);zn=Math.min(zn-1,d-2)}Mn=zn,xn=Jn;var Di=j[zn+1]-j[zn];if(0!==Di)if(qe=(Jn-j[zn])/Di,u)if(tn=q[zn],gt=q[0===zn?zn:zn-1],Jt=q[zn>d-2?d-1:zn+1],un=q[zn>d-3?d-1:zn+2],g)or(gt,tn,Jt,un,qe,qe*qe,qe*qe*qe,a(Vn,r),I);else{if(m)ci=or(gt,tn,Jt,un,qe,qe*qe,qe*qe*qe,kn,1),ci=Pr(kn);else{if(y)return hi(tn,Jt,qe);ci=ar(gt,tn,Jt,un,qe,qe*qe,qe*qe*qe)}s(Vn,r,ci)}else if(g)bi(q[zn],q[zn+1],qe,a(Vn,r),I);else{var ci;if(m)bi(q[zn],q[zn+1],qe,kn,1),ci=Pr(kn);else{if(y)return hi(q[zn],q[zn+1],qe);ci=Xn(q[zn],q[zn+1],qe)}s(Vn,r,ci)}},ondestroy:n});return t&&"spline"!==t&&(Wn.easing=t),Wn}}}function li(e,t,n,i){n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i),this.x=e,this.y=t,this.width=n,this.height=i}function no(e,t,n,i){var r=t+1;if(r===n)return 1;if(i(e[r++],e[t])<0){for(;r<n&&i(e[r],e[r-1])<0;)r++;!function(e,t,n){for(n--;t<n;){var i=e[t];e[t++]=e[n],e[n--]=i}}(e,t,r)}else for(;r<n&&i(e[r],e[r-1])>=0;)r++;return r-t}function pa(e,t,n,i,r){for(i===t&&i++;i<n;i++){for(var o,a=e[i],s=t,u=i;s<u;)r(a,e[o=s+u>>>1])<0?u=o:s=o+1;var d=i-s;switch(d){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;d>0;)e[s+d]=e[s+d-1],d--}e[s]=a}}function zo(e,t,n,i,r,o){var a=0,s=0,u=1;if(o(e,t[n+r])>0){for(s=i-r;u<s&&o(e,t[n+r+u])>0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),a+=r,u+=r}else{for(s=r+1;u<s&&o(e,t[n+r-u])<=0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var d=a;a=r-u,u=r-d}for(a++;a<u;){var h=a+(u-a>>>1);o(e,t[n+h])>0?a=h+1:u=h}return u}function Fo(e,t,n,i,r,o){var a=0,s=0,u=1;if(o(e,t[n+r])<0){for(s=r+1;u<s&&o(e,t[n+r-u])<0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var d=a;a=r-u,u=r-d}else{for(s=i-r;u<s&&o(e,t[n+r+u])>=0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),a+=r,u+=r}for(a++;a<u;){var h=a+(u-a>>>1);o(e,t[n+h])<0?u=h:a=h+1}return u}function ga(e,t){function n(h){var g=o[h],m=a[h],y=o[h+1],I=a[h+1];a[h]=m+I,h===u-3&&(o[h+1]=o[h+2],a[h+1]=a[h+2]),u--;var j=Fo(e[y],e,g,m,0,t);g+=j,0!=(m-=j)&&0!==(I=zo(e[g+m-1],e,y,I,I-1,t))&&(m<=I?function(h,g,m,y){var I=0;for(I=0;I<g;I++)d[I]=e[h+I];var j=0,q=m,K=h;if(e[K++]=e[q++],0!=--y)if(1!==g){for(var te,ue,be,ke=s;;){te=0,ue=0,be=!1;do{if(t(e[q],d[j])<0){if(e[K++]=e[q++],ue++,te=0,0==--y){be=!0;break}}else if(e[K++]=d[j++],te++,ue=0,1==--g){be=!0;break}}while((te|ue)<ke);if(be)break;do{if(0!==(te=Fo(e[q],d,j,g,0,t))){for(I=0;I<te;I++)e[K+I]=d[j+I];if(K+=te,j+=te,(g-=te)<=1){be=!0;break}}if(e[K++]=e[q++],0==--y){be=!0;break}if(0!==(ue=zo(d[j],e,q,y,0,t))){for(I=0;I<ue;I++)e[K+I]=e[q+I];if(K+=ue,q+=ue,0==(y-=ue)){be=!0;break}}if(e[K++]=d[j++],1==--g){be=!0;break}ke--}while(te>=Nu||ue>=Nu);if(be)break;ke<0&&(ke=0),ke+=2}if((s=ke)<1&&(s=1),1===g){for(I=0;I<y;I++)e[K+I]=e[q+I];e[K+y]=d[j]}else{if(0===g)throw new Error;for(I=0;I<g;I++)e[K+I]=d[j+I]}}else{for(I=0;I<y;I++)e[K+I]=e[q+I];e[K+y]=d[j]}else for(I=0;I<g;I++)e[K+I]=d[j+I]}(g,m,y,I):function(h,g,m,y){var I=0;for(I=0;I<y;I++)d[I]=e[m+I];var j=h+g-1,q=y-1,K=m+y-1,te=0,ue=0;if(e[K--]=e[j--],0!=--g)if(1!==y){for(var be=s;;){var ke=0,Be=0,We=!1;do{if(t(d[q],e[j])<0){if(e[K--]=e[j--],ke++,Be=0,0==--g){We=!0;break}}else if(e[K--]=d[q--],Be++,ke=0,1==--y){We=!0;break}}while((ke|Be)<be);if(We)break;do{if(0!=(ke=g-Fo(d[q],e,h,g,g-1,t))){for(g-=ke,ue=1+(K-=ke),te=1+(j-=ke),I=ke-1;I>=0;I--)e[ue+I]=e[te+I];if(0===g){We=!0;break}}if(e[K--]=d[q--],1==--y){We=!0;break}if(0!=(Be=y-zo(e[j],d,0,y,y-1,t))){for(y-=Be,ue=1+(K-=Be),te=1+(q-=Be),I=0;I<Be;I++)e[ue+I]=d[te+I];if(y<=1){We=!0;break}}if(e[K--]=e[j--],0==--g){We=!0;break}be--}while(ke>=Nu||Be>=Nu);if(We)break;be<0&&(be=0),be+=2}if((s=be)<1&&(s=1),1===y){for(ue=1+(K-=g),te=1+(j-=g),I=g-1;I>=0;I--)e[ue+I]=e[te+I];e[K]=d[q]}else{if(0===y)throw new Error;for(te=K-(y-1),I=0;I<y;I++)e[te+I]=d[I]}}else{for(ue=1+(K-=g),te=1+(j-=g),I=g-1;I>=0;I--)e[ue+I]=e[te+I];e[K]=d[q]}else for(te=K-(y-1),I=0;I<y;I++)e[te+I]=d[I]}(g,m,y,I))}var o,a,s=Nu,u=0,d=[];o=[],a=[],this.mergeRuns=function(){for(;u>1;){var h=u-2;if(h>=1&&a[h-1]<=a[h]+a[h+1]||h>=2&&a[h-2]<=a[h]+a[h-1])a[h-1]<a[h+1]&&h--;else if(a[h]>a[h+1])break;n(h)}},this.forceMergeRuns=function(){for(;u>1;){var h=u-2;h>0&&a[h-1]<a[h+1]&&h--,n(h)}},this.pushRun=function(h,g){o[u]=h,a[u]=g,u+=1}}function jr(e,t,n,i){n||(n=0),i||(i=e.length);var r=i-n;if(!(r<2)){var o=0;if(r<Px)return void pa(e,n,i,n+(o=no(e,n,i,t)),t);var a=new ga(e,t),s=function(e){for(var t=0;e>=Px;)t|=1&e,e>>=1;return e+t}(r);do{if((o=no(e,n,i,t))<s){var u=r;u>s&&(u=s),pa(e,n,n+u,n+o,t),o=u}a.pushRun(n,o),a.mergeRuns(),r-=o,n+=o}while(0!==r);a.forceMergeRuns()}}function Vo(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}function So(e,t,n){var i=null==t.x?0:t.x,r=null==t.x2?1:t.x2,o=null==t.y?0:t.y,a=null==t.y2?0:t.y2;return t.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),e.createLinearGradient(i,o,r,a)}function Ho(e,t,n){var i=n.width,r=n.height,o=Math.min(i,r),a=null==t.x?.5:t.x,s=null==t.y?.5:t.y,u=null==t.r?.5:t.r;return t.global||(a=a*i+n.x,s=s*r+n.y,u*=o),e.createRadialGradient(a,s,0,a,s,u)}function ma(){return!1}function cl(e,t,n){var i=kl(),r=t.getWidth(),o=t.getHeight(),a=i.style;return a&&(a.position="absolute",a.left=0,a.top=0,a.width=r+"px",a.height=o+"px",i.setAttribute("data-zr-dom-id",e)),i.width=r*n,i.height=o*n,i}function ms(e){if("string"==typeof e){var t=Gp.get(e);return t&&t.image}return e}function Mo(e,t,n,i,r){if(e){if("string"==typeof e){if(t&&t.__zrImageSrc===e||!n)return t;var o=Gp.get(e),a={hostEl:n,cb:i,cbPayload:r};return o?!To(t=o.image)&&o.pending.push(a):(!t&&(t=new Image),t.onload=vs,Gp.put(e,t.__cachedImgObj={image:t,pending:[a]}),t.src=t.__zrImageSrc=e),t}return e}return t}function vs(){var e=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function To(e){return e&&e.width&&e.height}function Ji(e,t){var n=e+":"+(t=t||Lu);if(pd[n])return pd[n];for(var i=(e+"").split("\n"),r=0,o=0,a=i.length;o<a;o++)r=Math.max(Va(i[o],t).width,r);return Up>Zk&&(Up=0,pd={}),Up++,pd[n]=r,r}function qr(e,t,n,i,r,o,a){return o?function(e,t,n,i,r,o,a){var s=Ha(e,{rich:o,truncate:a,font:t,textAlign:n,textPadding:r}),u=s.outerWidth,d=s.outerHeight;return new li(io(0,u,n),Wo(0,d,i),u,d)}(e,t,n,i,r,o,a):function(e,t,n,i,r,o){var a=po(e,t,r,o),s=Ji(e,t);r&&(s+=r[1]+r[3]);var u=a.outerHeight,d=new li(io(0,s,n),Wo(0,u,i),s,u);return d.lineHeight=a.lineHeight,d}(e,t,n,i,r,a)}function io(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function Wo(e,t,n){return"middle"===n?e-=t/2:"bottom"===n&&(e-=t),e}function Go(e,t,n){var i=t.x,r=t.y,o=t.height,a=t.width,s=o/2,u="left",d="top";switch(e){case"left":i-=n,r+=s,u="right",d="middle";break;case"right":i+=n+a,r+=s,d="middle";break;case"top":i+=a/2,r-=n,u="center",d="bottom";break;case"bottom":i+=a/2,r+=o+n,u="center";break;case"inside":i+=a/2,r+=s,u="center",d="middle";break;case"insideLeft":i+=n,r+=s,d="middle";break;case"insideRight":i+=a-n,r+=s,u="right",d="middle";break;case"insideTop":i+=a/2,r+=n,u="center";break;case"insideBottom":i+=a/2,r+=o-n,u="center",d="bottom";break;case"insideTopLeft":i+=n,r+=n;break;case"insideTopRight":i+=a-n,r+=n,u="right";break;case"insideBottomLeft":i+=n,r+=o-n,d="bottom";break;case"insideBottomRight":i+=a-n,r+=o-n,u="right",d="bottom"}return{x:i,y:r,textAlign:u,textVerticalAlign:d}}function va(e,t,n,i,r){if(!t)return"";var o=(e+"").split("\n");r=Fa(t,n,i,r);for(var a=0,s=o.length;a<s;a++)o[a]=ya(o[a],r);return o.join("\n")}function Fa(e,t,n,i){(i=On({},i)).font=t,n=en(n,"..."),i.maxIterations=en(i.maxIterations,2);var r=i.minChar=en(i.minChar,0);i.cnCharWidth=Ji("\u56fd",t);var o=i.ascCharWidth=Ji("a",t);i.placeholder=en(i.placeholder,"");for(var a=e=Math.max(0,e-1),s=0;s<r&&a>=o;s++)a-=o;var u=Ji(n);return u>a&&(n="",u=0),a=e-u,i.ellipsis=n,i.ellipsisWidth=u,i.contentWidth=a,i.containerWidth=e,i}function ya(e,t){var n=t.containerWidth,i=t.font,r=t.contentWidth;if(!n)return"";var o=Ji(e,i);if(o<=n)return e;for(var a=0;;a++){if(o<=r||a>=t.maxIterations){e+=t.ellipsis;break}var s=0===a?Uo(e,r,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(e.length*r/o):0;o=Ji(e=e.substr(0,s),i)}return""===e&&(e=t.placeholder),e}function Uo(e,t,n,i){for(var r=0,o=0,a=e.length;o<a&&r<t;o++){var s=e.charCodeAt(o);r+=0<=s&&s<=127?n:i}return o}function jo(e){return Ji("\u56fd",e)}function Va(e,t){return qp.measureText(e,t)}function po(e,t,n,i){null!=e&&(e+="");var r=jo(t),o=e?e.split("\n"):[],a=o.length*r,s=a;if(n&&(s+=n[0]+n[2]),e&&i){var u=i.outerHeight,d=i.outerWidth;if(null!=u&&s>u)e="",o=[];else if(null!=d)for(var h=Fa(d-(n?n[1]+n[3]:0),t,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),g=0,m=o.length;g<m;g++)o[g]=ya(o[g],h)}return{lines:o,height:a,outerHeight:s,lineHeight:r}}function Ha(e,t){var n={lines:[],width:0,height:0};if(null!=e&&(e+=""),!e)return n;for(var i,r=jp.lastIndex=0;null!=(i=jp.exec(e));){var o=i.index;o>r&&xa(n,e.substring(r,o)),xa(n,i[2],i[1]),r=jp.lastIndex}r<e.length&&xa(n,e.substring(r,e.length));var a=n.lines,s=0,u=0,d=[],h=t.textPadding,g=t.truncate,m=g&&g.outerWidth,y=g&&g.outerHeight;for(h&&(null!=m&&(m-=h[1]+h[3]),null!=y&&(y-=h[0]+h[2])),un=0;un<a.length;un++){for(var I=a[un],j=0,q=0,K=0;K<I.tokens.length;K++){var te=(Mn=I.tokens[K]).styleName&&t.rich[Mn.styleName]||{},ue=Mn.textPadding=te.textPadding,be=Mn.font=te.font||t.font,ke=Mn.textHeight=en(te.textHeight,jo(be));if(ue&&(ke+=ue[0]+ue[2]),Mn.height=ke,Mn.lineHeight=Kt(te.textLineHeight,t.textLineHeight,ke),Mn.textAlign=te&&te.textAlign||t.textAlign,Mn.textVerticalAlign=te&&te.textVerticalAlign||"middle",null!=y&&s+Mn.lineHeight>y)return{lines:[],width:0,height:0};Mn.textWidth=Ji(Mn.text,be);var Be=te.textWidth,We=null==Be||"auto"===Be;if("string"==typeof Be&&"%"===Be.charAt(Be.length-1))Mn.percentWidth=Be,d.push(Mn),Be=0;else{if(We){Be=Mn.textWidth;var qe=te.textBackgroundColor,gt=qe&&qe.image;gt&&To(gt=ms(gt))&&(Be=Math.max(Be,gt.width*ke/gt.height))}var tn=ue?ue[1]+ue[3]:0;Be+=tn;var Jt=null!=m?m-q:null;null!=Jt&&Jt<Be&&(!We||Jt<tn?(Mn.text="",Mn.textWidth=Be=0):(Mn.text=va(Mn.text,Jt-tn,be,g.ellipsis,{minChar:g.minChar}),Mn.textWidth=Ji(Mn.text,be),Be=Mn.textWidth+tn))}q+=Mn.width=Be,te&&(j=Math.max(j,Mn.lineHeight))}I.width=q,I.lineHeight=j,s+=j,u=Math.max(u,q)}n.outerWidth=n.width=en(t.textWidth,u),n.outerHeight=n.height=en(t.textHeight,s),h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]);for(var un=0;un<d.length;un++){var Mn=d[un];Mn.width=parseInt(Mn.percentWidth,10)/100*u}return n}function xa(e,t,n){for(var i=""===t,r=t.split("\n"),o=e.lines,a=0;a<r.length;a++){var s=r[a],u={styleName:n,text:s,isLineHolder:!s&&!i};if(a)o.push({tokens:[u]});else{var d=(o[o.length-1]||(o[0]={tokens:[]})).tokens,h=d.length;1===h&&d[0].isLineHolder?d[0]=u:(s||!h||i)&&d.push(u)}}}function ba(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&Gt(t)||e.textFont||e.font}function ys(e,t){var n,i,r,o,g,a=t.x,s=t.y,u=t.width,d=t.height,h=t.r;u<0&&(a+=u,u=-u),d<0&&(s+=d,d=-d),"number"==typeof h?n=i=r=o=h:h instanceof Array?1===h.length?n=i=r=o=h[0]:2===h.length?(n=r=h[0],i=o=h[1]):3===h.length?(n=h[0],i=o=h[1],r=h[2]):(n=h[0],i=h[1],r=h[2],o=h[3]):n=i=r=o=0,n+i>u&&(n*=u/(g=n+i),i*=u/g),r+o>u&&(r*=u/(g=r+o),o*=u/g),i+r>d&&(i*=d/(g=i+r),r*=d/g),n+o>d&&(n*=d/(g=n+o),o*=d/g),e.moveTo(a+n,s),e.lineTo(a+u-i,s),0!==i&&e.quadraticCurveTo(a+u,s,a+u,s+i),e.lineTo(a+u,s+d-r),0!==r&&e.quadraticCurveTo(a+u,s+d,a+u-r,s+d),e.lineTo(a+o,s+d),0!==o&&e.quadraticCurveTo(a,s+d,a,s+d-o),e.lineTo(a,s+n),0!==n&&e.quadraticCurveTo(a,s,a+n,s)}function Fr(e){return Pi(e),de(e.rich,Pi),e}function Pi(e){if(e){e.font=ba(e);var t=e.textAlign;"middle"===t&&(t="center"),e.textAlign=null==t||Yk[t]?t:"left";var n=e.textVerticalAlign||e.textBaseline;"center"===n&&(n="middle"),e.textVerticalAlign=null==n||$k[n]?n:"top",e.textPadding&&(e.textPadding=bt(e.textPadding))}}function Ao(e,t,n,i,r){i.rich?function(e,t,n,i,r){var o=e.__textCotentBlock;o&&!e.__dirty||(o=e.__textCotentBlock=Ha(n,i)),function(e,t,n,i,r){var o=n.width,a=n.outerWidth,s=n.outerHeight,u=i.textPadding,d=Wa(0,i,r),h=d.baseX,g=d.baseY,m=d.textAlign,y=d.textVerticalAlign;Lr(t,i,r,h,g);var I=io(h,a,m),j=Wo(g,s,y),q=I,K=j;u&&(q+=u[3],K+=u[0]);var te=q+o;wa(i)&&Io(e,t,i,I,j,a,s);for(var ue=0;ue<n.lines.length;ue++){for(var be,ke=n.lines[ue],Be=ke.tokens,We=Be.length,qe=ke.lineHeight,gt=ke.width,tn=0,Jt=q,un=te,Mn=We-1;tn<We&&(!(be=Be[tn]).textAlign||"left"===be.textAlign);)Er(e,t,be,i,qe,K,Jt,"left"),gt-=be.width,Jt+=be.width,tn++;for(;Mn>=0&&"right"===(be=Be[Mn]).textAlign;)Er(e,t,be,i,qe,K,un,"right"),gt-=be.width,un-=be.width,Mn--;for(Jt+=(o-(Jt-q)-(te-un)-gt)/2;tn<=Mn;)Er(e,t,be=Be[tn],i,qe,K,Jt+be.width/2,"center"),Jt+=be.width,tn++;K+=qe}}(e,t,o,i,r)}(e,t,n,i,r):function(e,t,n,i,r){var o=Li(t,"font",i.font||Lu),a=i.textPadding,s=e.__textCotentBlock;s&&!e.__dirty||(s=e.__textCotentBlock=po(n,o,a,i.truncate));var u=s.outerHeight,d=s.lines,h=s.lineHeight,g=Wa(0,i,r),m=g.baseX,y=g.baseY,I=g.textAlign,j=g.textVerticalAlign;Lr(t,i,r,m,y);var q=Wo(y,u,j),K=m,te=q,ue=wa(i);if(ue||a){var be=Ji(n,o);a&&(be+=a[1]+a[3]);var ke=io(m,be,I);ue&&Io(e,t,i,ke,q,be,u),a&&(K=Zo(m,I,a),te+=a[0])}Li(t,"textAlign",I||"left"),Li(t,"textBaseline","middle"),Li(t,"shadowBlur",i.textShadowBlur||0),Li(t,"shadowColor",i.textShadowColor||"transparent"),Li(t,"shadowOffsetX",i.textShadowOffsetX||0),Li(t,"shadowOffsetY",i.textShadowOffsetY||0),te+=h/2;var Be=i.textStrokeWidth,We=go(i.textStroke,Be),qe=qo(i.textFill);We&&(Li(t,"lineWidth",Be),Li(t,"strokeStyle",We)),qe&&Li(t,"fillStyle",qe);for(var gt=0;gt<d.length;gt++)We&&t.strokeText(d[gt],K,te),qe&&t.fillText(d[gt],K,te),te+=h}(e,t,n,i,r)}function Lr(e,t,n,i,r){if(n&&t.textRotation){var o=t.textOrigin;"center"===o?(i=n.width/2+n.x,r=n.height/2+n.y):o&&(i=o[0]+n.x,r=o[1]+n.y),e.translate(i,r),e.rotate(-t.textRotation),e.translate(-i,-r)}}function Er(e,t,n,i,r,o,a,s){var u=i.rich[n.styleName]||{},d=n.textVerticalAlign,h=o+r/2;"top"===d?h=o+n.height/2:"bottom"===d&&(h=o+r-n.height/2),!n.isLineHolder&&wa(u)&&Io(e,t,u,"right"===s?a-n.width:"center"===s?a-n.width/2:a,h-n.height/2,n.width,n.height);var g=n.textPadding;g&&(a=Zo(a,s,g),h-=n.height/2-g[2]-n.textHeight/2),Li(t,"shadowBlur",Kt(u.textShadowBlur,i.textShadowBlur,0)),Li(t,"shadowColor",u.textShadowColor||i.textShadowColor||"transparent"),Li(t,"shadowOffsetX",Kt(u.textShadowOffsetX,i.textShadowOffsetX,0)),Li(t,"shadowOffsetY",Kt(u.textShadowOffsetY,i.textShadowOffsetY,0)),Li(t,"textAlign",s),Li(t,"textBaseline","middle"),Li(t,"font",n.font||Lu);var m=go(u.textStroke||i.textStroke,I),y=qo(u.textFill||i.textFill),I=en(u.textStrokeWidth,i.textStrokeWidth);m&&(Li(t,"lineWidth",I),Li(t,"strokeStyle",m),t.strokeText(n.text,a,h)),y&&(Li(t,"fillStyle",y),t.fillText(n.text,a,h))}function wa(e){return e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor}function Io(e,t,n,i,r,o,a){var s=n.textBackgroundColor,u=n.textBorderWidth,d=n.textBorderColor,h=ze(s);if(Li(t,"shadowBlur",n.textBoxShadowBlur||0),Li(t,"shadowColor",n.textBoxShadowColor||"transparent"),Li(t,"shadowOffsetX",n.textBoxShadowOffsetX||0),Li(t,"shadowOffsetY",n.textBoxShadowOffsetY||0),h||u&&d){t.beginPath();var g=n.textBorderRadius;g?ys(t,{x:i,y:r,width:o,height:a,r:g}):t.rect(i,r,o,a),t.closePath()}if(h)Li(t,"fillStyle",s),t.fill();else if(Oe(s)){var m=s.image;(m=Mo(m,null,e,bs,s))&&To(m)&&t.drawImage(m,i,r,o,a)}u&&d&&(Li(t,"lineWidth",u),Li(t,"strokeStyle",d),t.stroke())}function bs(e,t){t.image=e}function Wa(e,t,n){var i=t.x||0,r=t.y||0,o=t.textAlign,a=t.textVerticalAlign;if(n){var s=t.textPosition;if(s instanceof Array)i=n.x+Ca(s[0],n.width),r=n.y+Ca(s[1],n.height);else{var u=Go(s,n,t.textDistance);i=u.x,r=u.y,o=o||u.textAlign,a=a||u.textVerticalAlign}var d=t.textOffset;d&&(i+=d[0],r+=d[1])}return{baseX:i,baseY:r,textAlign:o,textVerticalAlign:a}}function Li(e,t,n){return e[t]=Lx(e,t,n),e[t]}function go(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function qo(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function Ca(e,t){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function Zo(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}function _s(e,t){return null!=e&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}function yr(e){for(var t in Da.call(this,e=e||{}),e)e.hasOwnProperty(t)&&"style"!==t&&(this[t]=e[t]);this.style=new Rs(e.style,this),this._rect=null,this.__clipPaths=[]}function ur(e){yr.call(this,e)}function Yo(e){return parseInt(e,10)}function oo(e,t,n,i){return n=n||{},i||!Ci.canvasSupported?ee(e,t,n):Ci.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):ee(e,t,n),n}function ee(e,t,n){var i=function(e){return e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0}}(e);n.zrX=t.clientX-i.left,n.zrY=t.clientY-i.top}function Y(e,t,n){if(null!=(t=t||window.event).zrX)return t;var i=t.type;if(i&&i.indexOf("touch")>=0){var r="touchend"!=i?t.targetTouches[0]:t.changedTouches[0];r&&oo(e,r,t,n)}else oo(e,t,t,n),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;var o=t.button;return null==t.which&&void 0!==o&&Xk.test(t.type)&&(t.which=1&o?1:2&o?3:4&o?2:0),t}function z(e,t,n){Kp?e.addEventListener(t,n):e.attachEvent("on"+t,n)}function B(e,t,n){Kp?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}function C(e){return e.which>1}function T(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function w(e){return"mousewheel"===e&&Ci.browser.firefox?"DOMMouseScroll":e}function S(e,t,n){var i=e._gestureMgr;"start"===n&&i.clear();var r=i.recognize(t,e.handler.findHover(t.zrX,t.zrY,null).target,e.dom);if("end"===n&&i.clear(),r){var o=r.type;t.gestureEvent=o,e.handler.dispatchToElement({target:r.target},o,r.event)}}function F(e){e._touching=!0,clearTimeout(e._touchTimer),e._touchTimer=setTimeout(function(){e._touching=!1},700)}function D(e){var t=e.pointerType;return"pen"===t||"touch"===t}function E(e){function t(n,i){de(n,function(r){z(e,w(r),i._handlers[r])},i)}_r.call(this),this.dom=e,this._touching=!1,this._gestureMgr=new Jp,this._handlers={},function(e){de(eg,function(n){e._handlers[n]=ot(so[n],e)}),de(Ex,function(n){e._handlers[n]=ot(so[n],e)}),de(vd,function(n){e._handlers[n]=function(n,i){return function(){if(!i._touching)return n.apply(i,arguments)}}(so[n],e)})}(this),Ci.pointerEventsSupported?t(Ex,this):(Ci.touchEventsSupported&&t(eg,this),t(vd,this))}function V(e,t){var n=new tg(vx(),e,t);return Bs[n.id]=n,n}function R(e,t){yd[e]=t}function O(e){return e instanceof Array?e:null==e?[]:[e]}function $(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var i=0,r=n.length;i<r;i++){var o=n[i];!e.emphasis[t].hasOwnProperty(o)&&e[t].hasOwnProperty(o)&&(e.emphasis[t][o]=e[t][o])}}}function A(e){return!Dl(e)||eA(e)||e instanceof Date?e:e.value}function M(e,t){t=(t||[]).slice();var n=Me(e||[],function(i,r){return{exist:i}});return Il(t,function(i,r){if(Dl(i)){for(o=0;o<n.length;o++)if(!n[o].option&&null!=i.id&&n[o].exist.id===i.id+"")return n[o].option=i,void(t[r]=null);for(var o=0;o<n.length;o++){var a=n[o].exist;if(!(n[o].option||null!=a.id&&null!=i.id||null==i.name||_(i)||_(a)||a.name!==i.name+""))return n[o].option=i,void(t[r]=null)}}}),Il(t,function(i,r){if(Dl(i)){for(var o=0;o<n.length;o++)if(!n[o].option&&!_(n[o].exist)&&null==i.id){n[o].option=i;break}o>=n.length&&n.push({option:i})}}),n}function x(e){var t=st();Il(e,function(n,i){var r=n.exist;r&&t.set(r.id,n)}),Il(e,function(n,i){var r=n.option;dt(!r||null==r.id||!t.get(r.id)||t.get(r.id)===n,"id duplicates: "+(r&&r.id)),r&&null!=r.id&&t.set(r.id,n),!n.keyInfo&&(n.keyInfo={})}),Il(e,function(n,i){var r=n.exist,o=n.option,a=n.keyInfo;if(Dl(o)){if(a.name=null!=o.name?o.name+"":r?r.name:xd,r)a.id=r.id;else if(null!=o.id)a.id=o.id+"";else{var s=0;do{a.id="\0"+a.name+"\0"+s++}while(t.get(a.id))}t.set(a.id,n)}})}function _(e){return Dl(e)&&e.id&&0===(e.id+"").indexOf("\0_ec_\0")}function X(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?me(t.dataIndex)?Me(t.dataIndex,function(n){return e.indexOfRawIndex(n)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?me(t.name)?Me(t.name,function(n){return e.indexOfName(n)}):e.indexOfName(t.name):void 0}function U(){var e="__\0ec_inner_"+tA+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}function J(e,t,n){if(ze(t)){var i={};i[t+"Index"]=0,t=i}var r=n&&n.defaultMainType;!r||ie(t,r+"Index")||ie(t,r+"Id")||ie(t,r+"Name")||(t[r+"Index"]=0);var o={};return Il(t,function(a,s){if(a=t[s],"dataIndex"!==s&&"dataIndexInside"!==s){var u=s.match(/^(\w+)(Index|Id|Name)$/)||[],d=u[1],h=(u[2]||"").toLowerCase();if(!(!d||!h||null==a||"index"===h&&"none"===a||n&&n.includeMainTypes&&Qe(n.includeMainTypes,d)<0)){var g={mainType:d};"index"===h&&"all"===a||(g[h]=a);var m=e.queryComponents(g);o[d+"Models"]=m,o[d+"Model"]=m[0]}}else o[s]=a}),o}function ie(e,t){return e&&e.hasOwnProperty(t)}function ye(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function fe(e){var t={main:"",sub:""};return e&&(e=e.split(nA),t.main=e[0]||"",t.sub=e[1]||""),t}function ge(e,t){e.$constructor=e,e.extend=function(n){var i=this,r=function(){n.$constructor?n.$constructor.apply(this,arguments):i.apply(this,arguments)};return On(r.prototype,n),r.extend=this.extend,r.superCall=Ae,r.superApply=ne,we(r,this),r.superClass=i,r}}function Te(e){var t=["__\0is_clz",iA++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(n){return!(!n||!n[t])}}function Ae(e,t){var n=It(arguments,2);return this.superClass.prototype[t].apply(e,n)}function ne(e,t,n){return this.superClass.prototype[t].apply(e,n)}function ce(e,t){t=t||{};var i={};if(e.registerClass=function(o,a){return a&&(function(e){dt(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}(a),(a=fe(a)).sub?a.sub!==Os&&((function(o){var a=i[o.main];return a&&a[Os]||((a=i[o.main]={})[Os]=!0),a}(a))[a.sub]=o):i[a.main]=o),o},e.getClass=function(o,a,s){var u=i[o];if(u&&u[Os]&&(u=a?u[a]:null),s&&!u)throw new Error(a?"Component "+o+"."+(a||"")+" not exists. Load it first.":o+".type should be specified.");return u},e.getClassesByMainType=function(o){o=fe(o);var a=[],s=i[o.main];return s&&s[Os]?de(s,function(u,d){d!==Os&&a.push(u)}):a.push(s),a},e.hasClass=function(o){return o=fe(o),!!i[o.main]},e.getAllClassMainTypes=function(){var o=[];return de(i,function(a,s){o.push(s)}),o},e.hasSubTypes=function(o){o=fe(o);var a=i[o.main];return a&&a[Os]},e.parseClassType=fe,t.registerWhenExtend){var r=e.extend;r&&(e.extend=function(o){var a=r.call(this,o);return e.registerClass(a,o.type)})}return e}function xe(e){return e>-_d&&e<_d}function Ie(e){return e>_d||e<-_d}function Le(e,t,n,i,r){var o=1-r;return o*o*(o*e+3*r*t)+r*r*(r*i+3*o*n)}function ut(e,t,n,i,r){var o=1-r;return 3*(((t-e)*o+2*(n-t)*r)*o+(i-n)*r*r)}function Vt(e,t,n,i,r){var o=6*n-12*t+6*e,a=9*t+3*i-3*e-9*n,s=3*t-3*e,u=0;if(xe(a))Ie(o)&&(g=-s/o)>=0&&g<=1&&(r[u++]=g);else{var d=o*o-4*a*s;if(xe(d))r[0]=-o/(2*a);else if(d>0){var h=Ka(d),g=(-o+h)/(2*a),m=(-o-h)/(2*a);g>=0&&g<=1&&(r[u++]=g),m>=0&&m<=1&&(r[u++]=m)}}return u}function Qt(e,t,n,i,r,o){var a=(t-e)*r+e,s=(n-t)*r+t,u=(i-n)*r+n,d=(s-a)*r+a,h=(u-s)*r+s,g=(h-d)*r+d;o[0]=e,o[1]=a,o[2]=d,o[3]=g,o[4]=g,o[5]=h,o[6]=u,o[7]=i}function Pe(e,t,n,i){var r=1-i;return r*(r*e+2*i*t)+i*i*n}function oe(e,t,n,i){return 2*((1-i)*(t-e)+i*(n-t))}function Ce(e,t,n){var i=e+n-2*t;return 0===i?.5:(e-t)/i}function He(e,t,n,i,r){var o=(t-e)*i+e,a=(n-t)*i+t,s=(a-o)*i+o;r[0]=e,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=n}function rt(e,t,n){if(0!==e.length){var i,r=e[0],o=r[0],a=r[0],s=r[1],u=r[1];for(i=1;i<e.length;i++)o=Kr(o,(r=e[i])[0]),a=Jr(a,r[0]),s=Kr(s,r[1]),u=Jr(u,r[1]);t[0]=o,t[1]=s,n[0]=a,n[1]=u}}function je(e,t,n,i,r,o){r[0]=Kr(e,n),r[1]=Kr(t,i),o[0]=Jr(e,n),o[1]=Jr(t,i)}function St(e,t,n,i,r,o,a,s,u,d){var h,g=Vt,m=Le,y=g(e,n,r,a,Fx);for(u[0]=1/0,u[1]=1/0,d[0]=-1/0,d[1]=-1/0,h=0;h<y;h++){var I=m(e,n,r,a,Fx[h]);u[0]=Kr(I,u[0]),d[0]=Jr(I,d[0])}for(y=g(t,i,o,s,Vx),h=0;h<y;h++){var j=m(t,i,o,s,Vx[h]);u[1]=Kr(j,u[1]),d[1]=Jr(j,d[1])}u[0]=Kr(e,u[0]),d[0]=Jr(e,d[0]),u[0]=Kr(a,u[0]),d[0]=Jr(a,d[0]),u[1]=Kr(t,u[1]),d[1]=Jr(t,d[1]),u[1]=Kr(s,u[1]),d[1]=Jr(s,d[1])}function ct(e,t,n,i,r,o,a,s){var u=Ce,d=Pe,h=Jr(Kr(u(e,n,r),1),0),g=Jr(Kr(u(t,i,o),1),0),m=d(e,n,r,h),y=d(t,i,o,g);a[0]=Kr(e,r,m),a[1]=Kr(t,o,y),s[0]=Jr(e,r,m),s[1]=Jr(t,o,y)}function wt(e,t,n,i,r,o,a,s,u){var d=_t,h=on,g=Math.abs(r-o);if(g%zs<1e-4&&g>1e-4)return s[0]=e-n,s[1]=t-i,u[0]=e+n,void(u[1]=t+i);if(Cd[0]=ig(r)*n+e,Cd[1]=ng(r)*i+t,Sd[0]=ig(o)*n+e,Sd[1]=ng(o)*i+t,d(s,Cd,Sd),h(u,Cd,Sd),(r%=zs)<0&&(r+=zs),(o%=zs)<0&&(o+=zs),r>o&&!a?o+=zs:r<o&&a&&(r+=zs),a){var m=o;o=r,r=m}for(var y=0;y<o;y+=Math.PI/2)y>r&&(Md[0]=ig(y)*n+e,Md[1]=ng(y)*i+t,d(s,Md,s),h(u,Md,u))}function yt(e,t,n,i,r,o,a){if(0===r)return!1;var u,s=r;if(a>t+s&&a>i+s||a<t-s&&a<i-s||o>e+s&&o>n+s||o<e-s&&o<n-s)return!1;if(e===n)return Math.abs(o-e)<=s/2;var h=(u=(t-i)/(e-n))*o-a+(e*i-n*t)/(e-n);return h*h/(u*u+1)<=s/2*s/2}function bn(e,t,n,i,r,o,a,s,u,d,h){if(0===u)return!1;var g=u;return!(h>t+g&&h>i+g&&h>o+g&&h>s+g||h<t-g&&h<i-g&&h<o-g&&h<s-g||d>e+g&&d>n+g&&d>r+g&&d>a+g||d<e-g&&d<n-g&&d<r-g&&d<a-g)&&function(e,t,n,i,r,o,a,s,u,d,h){var g,m,y,I,j,q=.005,K=1/0;ea[0]=u,ea[1]=d;for(var te=0;te<1;te+=.05)bo[0]=Le(e,n,r,a,te),bo[1]=Le(t,i,o,s,te),(I=Ya(ea,bo))<K&&(g=te,K=I);K=1/0;for(var ue=0;ue<32&&!(q<Ox);ue++)y=g+q,bo[0]=Le(e,n,r,a,m=g-q),bo[1]=Le(t,i,o,s,m),I=Ya(bo,ea),m>=0&&I<K?(g=m,K=I):(Pl[0]=Le(e,n,r,a,y),Pl[1]=Le(t,i,o,s,y),j=Ya(Pl,ea),y<=1&&j<K?(g=y,K=j):q*=.5);return Ka(K)}(e,t,n,i,r,o,a,s,d,h)<=g/2}function Yn(e,t,n,i,r,o,a,s,u){if(0===a)return!1;var d=a;return!(u>t+d&&u>i+d&&u>o+d||u<t-d&&u<i-d&&u<o-d||s>e+d&&s>n+d&&s>r+d||s<e-d&&s<n-d&&s<r-d)&&function(e,t,n,i,r,o,a,s,u){var d,h=.005,g=1/0;ea[0]=a,ea[1]=s;for(var m=0;m<1;m+=.05)bo[0]=Pe(e,n,r,m),bo[1]=Pe(t,i,o,m),(q=Ya(ea,bo))<g&&(d=m,g=q);g=1/0;for(var y=0;y<32&&!(h<Ox);y++){var I=d-h,j=d+h;bo[0]=Pe(e,n,r,I),bo[1]=Pe(t,i,o,I);var q=Ya(bo,ea);if(I>=0&&q<g)d=I,g=q;else{Pl[0]=Pe(e,n,r,j),Pl[1]=Pe(t,i,o,j);var K=Ya(Pl,ea);j<=1&&K<g?(d=j,g=K):h*=.5}}return Ka(g)}(e,t,n,i,r,o,s,u)<=d/2}function Qn(e){return(e%=Gx)<0&&(e+=Gx),e}function Bi(e,t,n,i,r,o,a,s,u){if(0===a)return!1;var d=a;s-=e,u-=t;var h=Math.sqrt(s*s+u*u);if(h-d>n||h+d<n)return!1;if(Math.abs(i-r)%Bu<1e-4)return!0;if(o){var g=i;i=Qn(r),r=Qn(g)}else i=Qn(i),r=Qn(r);i>r&&(r+=Bu);var m=Math.atan2(u,s);return m<0&&(m+=Bu),m>=i&&m<=r||m+Bu>=i&&m+Bu<=r}function di(e,t,n,i,r,o){if(o>t&&o>i||o<t&&o<i||i===t)return 0;var a=i<t?1:-1,s=(o-t)/(i-t);return 1!==s&&0!==s||(a=i<t?.5:-.5),s*(n-e)+e>r?a:0}function Hi(){var e=_o[0];_o[0]=_o[1],_o[1]=e}function Ti(e,t,n,i,r,o,a,s,u,d){if(d>t&&d>i&&d>o&&d>s||d<t&&d<i&&d<o&&d<s)return 0;var h=function(e,t,n,i,r,o){var a=i+3*(t-n)-e,s=3*(n-2*t+e),u=3*(t-e),d=e-r,h=s*s-3*a*u,g=s*u-9*a*d,m=u*u-3*s*d,y=0;if(xe(h)&&xe(g))xe(s)?o[0]=0:(qe=-u/s)>=0&&qe<=1&&(o[y++]=qe);else{var I=g*g-4*h*m;if(xe(I)){var j=g/h,q=-j/2;(qe=-s/a+j)>=0&&qe<=1&&(o[y++]=qe),q>=0&&q<=1&&(o[y++]=q)}else if(I>0){var K=Ka(I),te=h*s+1.5*a*(-g+K),ue=h*s+1.5*a*(-g-K);(qe=(-s-((te=te<0?-bd(-te,wd):bd(te,wd))+(ue=ue<0?-bd(-ue,wd):bd(ue,wd))))/(3*a))>=0&&qe<=1&&(o[y++]=qe)}else{var be=(2*h*s-3*a*g)/(2*Ka(h*h*h)),ke=Math.acos(be)/3,Be=Ka(h),We=Math.cos(ke),qe=(-s-2*Be*We)/(3*a),gt=(q=(-s+Be*(We+zx*Math.sin(ke)))/(3*a),(-s+Be*(We-zx*Math.sin(ke)))/(3*a));qe>=0&&qe<=1&&(o[y++]=qe),q>=0&&q<=1&&(o[y++]=q),gt>=0&&gt<=1&&(o[y++]=gt)}}return y}(t,i,o,s,d,Hr);if(0===h)return 0;for(var g,m,y=0,I=-1,j=0;j<h;j++){var q=Hr[j],K=0===q||1===q?.5:1;Le(e,n,r,a,q)<u||(I<0&&(I=Vt(t,i,o,s,_o),_o[1]<_o[0]&&I>1&&Hi(),g=Le(t,i,o,s,_o[0]),I>1&&(m=Le(t,i,o,s,_o[1]))),y+=2==I?q<_o[0]?g<t?K:-K:q<_o[1]?m<g?K:-K:s<m?K:-K:q<_o[0]?g<t?K:-K:s<g?K:-K)}return y}function ki(e,t,n,i,r,o,a,s){if(s>t&&s>i&&s>o||s<t&&s<i&&s<o)return 0;var u=function(e,t,n,i,r){var o=e-2*t+n,a=2*(t-e),s=e-i,u=0;if(xe(o))Ie(a)&&(g=-s/a)>=0&&g<=1&&(r[u++]=g);else{var d=a*a-4*o*s;if(xe(d))(g=-a/(2*o))>=0&&g<=1&&(r[u++]=g);else if(d>0){var h=Ka(d),g=(-a+h)/(2*o),m=(-a-h)/(2*o);g>=0&&g<=1&&(r[u++]=g),m>=0&&m<=1&&(r[u++]=m)}}return u}(t,i,o,s,Hr);if(0===u)return 0;var d=Ce(t,i,o);if(d>=0&&d<=1){for(var h=0,g=Pe(t,i,o,d),m=0;m<u;m++)y=0===Hr[m]||1===Hr[m]?.5:1,(I=Pe(e,n,r,Hr[m]))<a||(h+=Hr[m]<d?g<t?y:-y:o<g?y:-y);return h}var y=0===Hr[0]||1===Hr[0]?.5:1,I=Pe(e,n,r,Hr[0]);return I<a?0:o<t?y:-y}function Rt(e,t,n,i,r,o,a,s){if((s-=t)>n||s<-n)return 0;d=Math.sqrt(n*n-s*s),Hr[0]=-d,Hr[1]=d;var u=Math.abs(i-r);if(u<1e-4)return 0;if(u%El<1e-4)return i=0,r=El,I=o?1:-1,a>=Hr[0]+e&&a<=Hr[1]+e?I:0;if(o){var d=i;i=Qn(r),r=Qn(d)}else i=Qn(i),r=Qn(r);i>r&&(r+=El);for(var h=0,g=0;g<2;g++){var m=Hr[g];if(m+e>a){var y=Math.atan2(s,m),I=o?1:-1;y<0&&(y=El+y),(y>=i&&y<=r||y+El>=i&&y+El<=r)&&(y>Math.PI/2&&y<1.5*Math.PI&&(I=-I),h+=I)}}return h}function Xt(e,t,n,i,r){for(var o=0,a=0,s=0,u=0,d=0,h=0;h<e.length;){var g=e[h++];switch(g===Qa.M&&h>1&&(n||(o+=di(a,s,u,d,i,r))),1==h&&(u=a=e[h],d=s=e[h+1]),g){case Qa.M:a=u=e[h++],s=d=e[h++];break;case Qa.L:if(n){if(yt(a,s,e[h],e[h+1],t,i,r))return!0}else o+=di(a,s,e[h],e[h+1],i,r)||0;a=e[h++],s=e[h++];break;case Qa.C:if(n){if(bn(a,s,e[h++],e[h++],e[h++],e[h++],e[h],e[h+1],t,i,r))return!0}else o+=Ti(a,s,e[h++],e[h++],e[h++],e[h++],e[h],e[h+1],i,r)||0;a=e[h++],s=e[h++];break;case Qa.Q:if(n){if(Yn(a,s,e[h++],e[h++],e[h],e[h+1],t,i,r))return!0}else o+=ki(a,s,e[h++],e[h++],e[h],e[h+1],i,r)||0;a=e[h++],s=e[h++];break;case Qa.A:var m=e[h++],y=e[h++],I=e[h++],j=e[h++],q=e[h++],K=e[h++],te=(h++,1-e[h++]),ue=Math.cos(q)*I+m,be=Math.sin(q)*j+y;h>1?o+=di(a,s,ue,be,i,r):(u=ue,d=be);var ke=(i-m)*j/I+m;if(n){if(Bi(m,y,j,q,q+K,te,t,ke,r))return!0}else o+=Rt(m,y,j,q,q+K,te,ke,r);a=Math.cos(q+K)*I+m,s=Math.sin(q+K)*j+y;break;case Qa.R:if(u=a=e[h++],d=s=e[h++],ue=u+e[h++],be=d+e[h++],n){if(yt(u,d,ue,d,t,i,r)||yt(ue,d,ue,be,t,i,r)||yt(ue,be,u,be,t,i,r)||yt(u,be,u,d,t,i,r))return!0}else o+=di(ue,d,ue,be,i,r),o+=di(u,be,u,d,i,r);break;case Qa.Z:if(n){if(yt(a,s,u,d,t,i,r))return!0}else o+=di(a,s,u,d,i,r);a=u,s=d}}return n||function(e,t){return Math.abs(e-t)<lA}(s,d)||(o+=di(a,s,u,d,i,r)||0),0!==o}function sn(e){yr.call(this,e),this.path=null}function cn(e,t,n,i,r,o,a,s,u,d,h){var g=u*(Id/180),m=Ad(g)*(e-n)/2+kd(g)*(t-i)/2,y=-1*kd(g)*(e-n)/2+Ad(g)*(t-i)/2,I=m*m/(a*a)+y*y/(s*s);I>1&&(a*=sg(I),s*=sg(I));var j=(r===o?-1:1)*sg((a*a*(s*s)-a*a*(y*y)-s*s*(m*m))/(a*a*(y*y)+s*s*(m*m)))||0,q=j*a*y/s,K=j*-s*m/a,te=(e+n)/2+Ad(g)*q-kd(g)*K,ue=(t+i)/2+kd(g)*q+Ad(g)*K,be=Zx([1,0],[(m-q)/a,(y-K)/s]),ke=[(m-q)/a,(y-K)/s],Be=[(-1*m-q)/a,(-1*y-K)/s],We=Zx(ke,Be);lg(ke,Be)<=-1&&(We=Id),lg(ke,Be)>=1&&(We=0),0===o&&We>0&&(We-=2*Id),1===o&&We<0&&(We+=2*Id),h.addData(d,te,ue,a,s,be,We,g,o)}function Fe(e,t){var n=function(e){if(!e)return[];var t,n=e.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(t=0;t<ag.length;t++)n=n.replace(new RegExp(ag[t],"g"),"|"+ag[t]);var i,r=n.split("|"),o=0,a=0,s=new lo,u=lo.CMD;for(t=1;t<r.length;t++){var d,h=r[t],g=h.charAt(0),m=0,y=h.slice(1).replace(/e,-/g,"e-").split(",");y.length>0&&""===y[0]&&y.shift();for(var I=0;I<y.length;I++)y[I]=parseFloat(y[I]);for(;m<y.length&&!isNaN(y[m])&&!isNaN(y[0]);){var j,q,K,te,ue,be,ke,Be=o,We=a;switch(g){case"l":o+=y[m++],a+=y[m++],s.addData(d=u.L,o,a);break;case"L":o=y[m++],a=y[m++],s.addData(d=u.L,o,a);break;case"m":o+=y[m++],a+=y[m++],s.addData(d=u.M,o,a),g="l";break;case"M":o=y[m++],a=y[m++],s.addData(d=u.M,o,a),g="L";break;case"h":o+=y[m++],s.addData(d=u.L,o,a);break;case"H":o=y[m++],s.addData(d=u.L,o,a);break;case"v":a+=y[m++],s.addData(d=u.L,o,a);break;case"V":a=y[m++],s.addData(d=u.L,o,a);break;case"C":s.addData(d=u.C,y[m++],y[m++],y[m++],y[m++],y[m++],y[m++]),o=y[m-2],a=y[m-1];break;case"c":s.addData(d=u.C,y[m++]+o,y[m++]+a,y[m++]+o,y[m++]+a,y[m++]+o,y[m++]+a),o+=y[m-2],a+=y[m-1];break;case"S":j=o,q=a;var qe=s.len(),gt=s.data;i===u.C&&(j+=o-gt[qe-4],q+=a-gt[qe-3]),Be=y[m++],We=y[m++],o=y[m++],a=y[m++],s.addData(d=u.C,j,q,Be,We,o,a);break;case"s":j=o,q=a,qe=s.len(),gt=s.data,i===u.C&&(j+=o-gt[qe-4],q+=a-gt[qe-3]),Be=o+y[m++],We=a+y[m++],o+=y[m++],a+=y[m++],s.addData(d=u.C,j,q,Be,We,o,a);break;case"Q":Be=y[m++],We=y[m++],o=y[m++],a=y[m++],s.addData(d=u.Q,Be,We,o,a);break;case"q":Be=y[m++]+o,We=y[m++]+a,o+=y[m++],a+=y[m++],s.addData(d=u.Q,Be,We,o,a);break;case"T":j=o,q=a,qe=s.len(),gt=s.data,i===u.Q&&(j+=o-gt[qe-4],q+=a-gt[qe-3]),o=y[m++],a=y[m++],s.addData(d=u.Q,j,q,o,a);break;case"t":j=o,q=a,qe=s.len(),gt=s.data,i===u.Q&&(j+=o-gt[qe-4],q+=a-gt[qe-3]),o+=y[m++],a+=y[m++],s.addData(d=u.Q,j,q,o,a);break;case"A":K=y[m++],te=y[m++],ue=y[m++],be=y[m++],ke=y[m++],cn(Be=o,We=a,o=y[m++],a=y[m++],be,ke,K,te,ue,d=u.A,s);break;case"a":K=y[m++],te=y[m++],ue=y[m++],be=y[m++],ke=y[m++],cn(Be=o,We=a,o+=y[m++],a+=y[m++],be,ke,K,te,ue,d=u.A,s)}}"z"!==g&&"Z"!==g||s.addData(d=u.Z),i=d}return s.toStatic(),s}(e);return(t=t||{}).buildPath=function(i){if(i.setData)i.setData(n.data),(r=i.getContext())&&i.rebuildPath(r);else{var r=i;n.rebuildPath(r)}},t.applyTransform=function(i){hA(n,i),this.dirty(!0)},t}function Se(e,t,n,i,r,o,a){var s=.5*(n-e),u=.5*(i-t);return(2*(t-n)+s+u)*a+(-3*(t-n)-2*s-u)*o+s*r+t}function Ve(e,t,n){var i=t.points,r=t.smooth;if(i&&i.length>=2){if(r&&"spline"!==r){var o=pA(i,r,n,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var a=i.length,s=0;s<(n?a:a-1);s++){var u=o[2*s],d=o[2*s+1],h=i[(s+1)%a];e.bezierCurveTo(u[0],u[1],d[0],d[1],h[0],h[1])}}else{"spline"===r&&(i=fA(i,n)),e.moveTo(i[0][0],i[0][1]),s=1;for(var g=i.length;s<g;s++)e.lineTo(i[s][0],i[s][1])}n&&e.closePath()}}function it(e,t,n){return null===e.cpx2||null===e.cpy2?[(n?ut:Le)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?ut:Le)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?oe:Pe)(e.x1,e.cpx1,e.x2,t),(n?oe:Pe)(e.y1,e.cpy1,e.y2,t)]}function mt(e){yr.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function et(e){return sn.extend(e)}function Ee(e,t,n,i){var r=function(e,t){return new sn(Fe(e,t))}(e,t),o=r.getBoundingRect();return n&&("center"===i&&(n=pt(n,o)),$t(r,n)),r}function ht(e,t,n){var i=new ur({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(r){"center"===n&&i.setStyle(pt(t,{width:r.width,height:r.height}))}});return i}function pt(e,t){var n,i=t.width/t.height,r=e.height*i;return n=r<=e.width?e.height:(r=e.width)/i,{x:e.x+e.width/2-r/2,y:e.y+e.height/2-n/2,width:r,height:n}}function $t(e,t){if(e.applyTransform){var n=e.getBoundingRect().calculateTransform(t);e.applyTransform(n)}}function Ge(e){var t=e.shape,n=e.style.lineWidth;return Ol(2*t.x1)===Ol(2*t.x2)&&(t.x1=t.x2=c(t.x1,n,!0)),Ol(2*t.y1)===Ol(2*t.y2)&&(t.y1=t.y2=c(t.y1,n,!0)),e}function l(e){var t=e.shape,n=e.style.lineWidth,i=t.x,r=t.y,o=t.width,a=t.height;return t.x=c(t.x,n,!0),t.y=c(t.y,n,!0),t.width=Math.max(c(i+o,n,!1)-t.x,0===o?0:1),t.height=Math.max(c(r+a,n,!1)-t.y,0===a?0:1),e}function c(e,t,n){var i=Ol(2*e);return(i+Ol(t))%2==0?i/2:(i+(n?1:-1))/2}function f(e){return null!=e&&"none"!=e}function p(e){return"string"==typeof e?to(e,-.1):e}function v(e){if(e.__hoverStlDirty){var t=e.style.stroke,n=e.style.fill,i=e.__hoverStl;i.fill=i.fill||(f(n)?p(n):null),i.stroke=i.stroke||(f(t)?p(t):null);var r={};for(var o in i)null!=i[o]&&(r[o]=e.style[o]);e.__normalStl=r,e.__hoverStlDirty=!1}}function k(e){if(!e.__isHover){if(v(e),e.useHoverLayer)e.__zr&&e.__zr.addHover(e,e.__hoverStl);else{var t=e.style,n=t.insideRollbackOpt;n&&function(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth)}(t),t.extendFrom(e.__hoverStl),n&&(In(t,t.insideOriginalTextPosition,n),null==t.textFill&&(t.textFill=n.autoColor)),e.dirty(!1),e.z2+=1}e.__isHover=!0}}function L(e){if(e.__isHover){var t=e.__normalStl;e.useHoverLayer?e.__zr&&e.__zr.removeHover(e):(t&&e.setStyle(t),e.z2-=1),e.__isHover=!1}}function G(e){"group"===e.type?e.traverse(function(t){"group"!==t.type&&k(t)}):k(e)}function Z(e){"group"===e.type?e.traverse(function(t){"group"!==t.type&&L(t)}):L(e)}function Q(e,t){e.__hoverStl=e.hoverStyle||t||{},e.__hoverStlDirty=!0,e.__isHover&&v(e)}function se(e){this.__hoverSilentOnTouch&&e.zrByTouch||!this.__isEmphasis&&G(this)}function he(e){this.__hoverSilentOnTouch&&e.zrByTouch||!this.__isEmphasis&&Z(this)}function _e(){this.__isEmphasis=!0,G(this)}function Re(){this.__isEmphasis=!1,Z(this)}function De(e,t,n){e.__hoverSilentOnTouch=n&&n.hoverSilentOnTouch,"group"===e.type?e.traverse(function(i){"group"!==i.type&&Q(i,t)}):Q(e,t),e.on("mouseover",se).on("mouseout",he),e.on("emphasis",_e).on("normal",Re)}function Ue(e,t,n,i,r,o,a){var s,u=(r=r||Ld).labelFetcher,d=r.labelDataIndex,h=r.labelDimIndex,g=n.getShallow("show"),m=i.getShallow("show");(g||m)&&(u&&(s=u.getFormattedLabel(d,"normal",null,h)),null==s&&(s=at(r.defaultText)?r.defaultText(d,r):r.defaultText));var y=g?s:null,I=m?en(u?u.getFormattedLabel(d,"emphasis",null,h):null,s):null;null==y&&null==I||(Ze(e,n,o,r),Ze(t,i,a,r,!0)),e.text=y,t.text=I}function Ze(e,t,n,i,r){return qt(e,t,i,r),n&&On(e,n),e.host&&e.host.dirty&&e.host.dirty(!1),e}function qt(e,t,n,i){if((n=n||Ld).isRectText){var r=t.getShallow("position")||(i?null:"inside");"outside"===r&&(r="top"),e.textPosition=r,e.textOffset=t.getShallow("offset");var o=t.getShallow("rotate");null!=o&&(o*=Math.PI/180),e.textRotation=o,e.textDistance=en(t.getShallow("distance"),i?null:5)}var a,s=t.ecModel,u=s&&s.option.textStyle,d=function(e){for(var t;e&&e!==e.ecModel;){var n=(e.option||Ld).rich;if(n)for(var i in t=t||{},n)n.hasOwnProperty(i)&&(t[i]=1);e=e.parentModel}return t}(t);if(d)for(var h in a={},d)if(d.hasOwnProperty(h)){var g=t.getModel(["rich",h]);mn(a[h]={},g,u,n,i)}return e.rich=a,mn(e,t,u,n,i,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),e}function mn(e,t,n,i,r,o){if(n=!r&&n||Ld,e.textFill=Cn(t.getShallow("color"),i)||n.color,e.textStroke=Cn(t.getShallow("textBorderColor"),i)||n.textBorderColor,e.textStrokeWidth=en(t.getShallow("textBorderWidth"),n.textBorderWidth),!r){if(o){var a=e.textPosition;e.insideRollback=In(e,a,i),e.insideOriginalTextPosition=a,e.insideRollbackOpt=i}null==e.textFill&&(e.textFill=i.autoColor)}e.fontStyle=t.getShallow("fontStyle")||n.fontStyle,e.fontWeight=t.getShallow("fontWeight")||n.fontWeight,e.fontSize=t.getShallow("fontSize")||n.fontSize,e.fontFamily=t.getShallow("fontFamily")||n.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),o&&i.disableBox||(e.textBackgroundColor=Cn(t.getShallow("backgroundColor"),i),e.textPadding=t.getShallow("padding"),e.textBorderColor=Cn(t.getShallow("borderColor"),i),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||n.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||n.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||n.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function Cn(e,t){return"auto"!==e?e:t&&t.autoColor?t.autoColor:null}function In(e,t,n){var i,r=n.useInsideStyle;return null==e.textFill&&!1!==r&&(!0===r||n.isRectText&&t&&"string"==typeof t&&t.indexOf("inside")>=0)&&(i={textFill:null,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth},e.textFill="#fff",null==e.textStroke&&(e.textStroke=n.autoColor,null==e.textStrokeWidth&&(e.textStrokeWidth=2))),i}function ei(e,t){var n=t||t.getModel("textStyle");return Gt([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}function ni(e,t,n,i,r,o){if("function"==typeof r&&(o=r,r=null),i&&i.isAnimationEnabled()){var a=e?"Update":"",s=i.getShallow("animationDuration"+a),u=i.getShallow("animationEasing"+a),d=i.getShallow("animationDelay"+a);"function"==typeof d&&(d=d(r,i.getAnimationDelayParams?i.getAnimationDelayParams(t,r):null)),"function"==typeof s&&(s=s(r)),s>0?t.animateTo(n,s,d||0,u,o,!!o):(t.stopAnimation(),t.attr(n),o&&o())}else t.stopAnimation(),t.attr(n),o&&o()}function pn(e,t,n,i,r){ni(!0,e,t,n,i,r)}function ui(e,t,n,i,r){ni(!1,e,t,n,i,r)}function mi(e,t){for(var n=jn([]);e&&e!==t;)Yt(n,e.getLocalTransform(),n),e=e.parent;return n}function pi(e,t,n){return t&&!Mt(t)&&(t=Jo.getLocalTransform(t)),n&&(t=nn([],t)),Pt([],e,t)}function ji(e,t,n){var i=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),r=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),o=["left"===e?-i:"right"===e?i:0,"top"===e?-r:"bottom"===e?r:0];return o=pi(o,t,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function wi(e,t,n,i){function r(a){var s={position:Ht(a.position),rotation:a.rotation};return a.shape&&(s.shape=On({},a.shape)),s}if(e&&t){var o=(s={},e.traverse(function(u){!u.isGroup&&u.anid&&(s[u.anid]=u)}),s);t.traverse(function(a){if(!a.isGroup&&a.anid){var s=o[a.anid];if(s){var u=r(a);a.attr(r(s)),pn(a,u,n,a.dataIndex)}}})}var s}function Fi(e,t){return Me(e,function(n){var i=n[0];i=Nd(i,t.x),i=Pd(i,t.x+t.width);var r=n[1];return r=Nd(r,t.y),[i,r=Pd(r,t.y+t.height)]})}function Wi(e,t,n){var i=(t=On({rectHover:!0},t)).style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(i.image=e.slice(8),At(i,n),new ur(t)):Ee(e.replace("path://",""),t,n,"center")}function Kn(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}function cr(e,t,n){for(var i=0;i<t.length&&(!t[i]||null!=(e=e&&"object"==typeof e?e[t[i]]:null));i++);return null==e&&n&&(e=n.get(t)),e}function Sr(e,t){var n=Kx(e).getParent;return n?n.call(e,t):e.parentModel}function Yr(e){return[e||"",bA++,Math.random().toFixed(5)].join("_")}function Ai(e,t,n,i){var r=t[1]-t[0],o=n[1]-n[0];if(0===r)return 0===o?n[0]:(n[0]+n[1])/2;if(i)if(r>0){if(e<=t[0])return n[0];if(e>=t[1])return n[1]}else{if(e>=t[0])return n[0];if(e<=t[1])return n[1]}else{if(e===t[0])return n[0];if(e===t[1])return n[1]}return(e-t[0])/r*o+n[0]}function vn(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return"string"==typeof e?function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e}function $r(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e}function ws(e){return e.sort(function(t,n){return t-n}),e}function Um(e){if(e=+e,isNaN(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}function lc(e){var t=e.toString(),n=t.indexOf("e");if(n>0){var i=+t.slice(n+1);return i<0?-i:0}var r=t.indexOf(".");return r<0?0:t.length-1-r}function Nh(e,t){var n=Math.log,i=Math.LN10,r=Math.floor(n(e[1]-e[0])/i),o=Math.round(n(Math.abs(t[1]-t[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function jm(e,t,n){if(!e[t])return 0;var i=zt(e,function(I,j){return I+(isNaN(j)?0:j)},0);if(0===i)return 0;for(var r=Math.pow(10,n),o=Me(e,function(I){return(isNaN(I)?0:I)/i*r*100}),a=100*r,s=Me(o,function(I){return Math.floor(I)}),u=zt(s,function(I,j){return I+j},0),d=Me(o,function(I,j){return I-s[j]});u<a;){for(var h=Number.NEGATIVE_INFINITY,g=null,m=0,y=d.length;m<y;++m)d[m]>h&&(h=d[m],g=m);++s[g],d[g]=0,++u}return s[t]/r}function Ph(e){var t=2*Math.PI;return(e%t+t)%t}function tu(e){return e>-Jx&&e<Jx}function nu(e){if(e instanceof Date)return e;if("string"==typeof e){var t=_A.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(n-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,+t[7]||0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}return null==e?new Date(NaN):new Date(Math.round(e))}function qm(e){return Math.pow(10,Zm(e))}function Zm(e){return Math.floor(Math.log(e)/Math.LN10)}function Lh(e,t){var i=Zm(e),r=Math.pow(10,i),o=e/r;return e=(t?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10)*r,i>=-20?+e.toFixed(i<0?-i:0):e}function Eh(e){function t(u,d,h){return u.interval[h]<d.interval[h]||u.interval[h]===d.interval[h]&&(u.close[h]-d.close[h]==(h?-1:1)||!h&&t(u,d,1))}e.sort(function(u,d){return t(u,d,0)?-1:1});for(var n=-1/0,i=1,r=0;r<e.length;){for(var o=e[r].interval,a=e[r].close,s=0;s<2;s++)o[s]<=n&&(o[s]=n,a[s]=s?1:1-i),n=o[s],i=a[s];o[0]===o[1]&&a[0]*a[1]!=1?e.splice(r,1):r++}return e}function Ym(e){return e-parseFloat(e)>=0}function Cs(e){return isNaN(e)?"-":(e=(e+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function $m(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(n,i){return i.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}function ir(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Rh(e,t,n){me(t)||(t=[t]);var i=t.length;if(!i)return"";for(var r=t[0].$vars||[],o=0;o<r.length;o++){var a=Qx[o];e=e.replace(hg(a),hg(a,0))}for(var s=0;s<i;s++)for(var u=0;u<r.length;u++){var d=t[s][r[u]];e=e.replace(hg(Qx[u],s),n?ir(d):d)}return e}function Xm(e,t,n){return de(t,function(i,r){e=e.replace("{"+r+"}",n?ir(i):i)}),e}function uc(e,t){var n=(e=ze(e)?{color:e,extraCssText:t}:e||{}).color;return t=e.extraCssText,n?"subItem"===e.type?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+ir(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+ir(n)+";"+(t||"")+'"></span>':""}function Bh(e,t,n){"week"!==e&&"month"!==e&&"quarter"!==e&&"half-year"!==e&&"year"!==e||(e="MM-dd\nyyyy");var i=nu(t),r=n?"UTC":"",o=i["get"+r+"FullYear"](),a=i["get"+r+"Month"]()+1,s=i["get"+r+"Date"](),u=i["get"+r+"Hours"](),d=i["get"+r+"Minutes"](),h=i["get"+r+"Seconds"]();return e.replace("MM",Ou(a)).replace("M",a).replace("yyyy",o).replace("yy",o%100).replace("dd",Ou(s)).replace("d",s).replace("hh",Ou(u)).replace("h",u).replace("mm",Ou(d)).replace("m",d).replace("ss",Ou(h)).replace("s",h)}function cc(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)}function Oh(e,t,n,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;t.eachChild(function(u,d){var h,g,m=u.position,y=u.getBoundingRect(),I=t.childAt(d+1),j=I&&I.getBoundingRect();if("horizontal"===e){var q=y.width+(j?-j.x+y.x:0);(h=o+q)>i||u.newline?(o=0,h=q,a+=s+n,s=y.height):s=Math.max(s,y.height)}else{var K=y.height+(j?-j.y+y.y:0);(g=a+K)>r||u.newline?(o+=s+n,a=0,g=K,s=y.width):s=Math.max(s,y.width)}u.newline||(m[0]=o,m[1]=a,"horizontal"===e?o=h+n:a=g+n)})}function xr(e,t,n){n=Vs(n||0);var i=t.width,r=t.height,o=vn(e.left,i),a=vn(e.top,r),s=vn(e.right,i),u=vn(e.bottom,r),d=vn(e.width,i),h=vn(e.height,r),g=n[2]+n[0],m=n[1]+n[3],y=e.aspect;switch(isNaN(d)&&(d=i-s-m-o),isNaN(h)&&(h=r-u-g-a),null!=y&&(isNaN(d)&&isNaN(h)&&(y>i/r?d=.8*i:h=.8*r),isNaN(d)&&(d=y*h),isNaN(h)&&(h=d/y)),isNaN(o)&&(o=i-s-d-m),isNaN(a)&&(a=r-u-h-g),e.left||e.right){case"center":o=i/2-d/2-n[3];break;case"right":o=i-d-m}switch(e.top||e.bottom){case"middle":case"center":a=r/2-h/2-n[0];break;case"bottom":a=r-h-g}o=o||0,a=a||0,isNaN(d)&&(d=i-m-o-(s||0)),isNaN(h)&&(h=r-g-a-(u||0));var I=new li(o+n[3],a+n[0],d,h);return I.margin=n,I}function dc(e,t,n,i,r){var o=!r||!r.hv||r.hv[0],a=!r||!r.hv||r.hv[1],s=r&&r.boundingMode||"all";if(o||a){var u;if("raw"===s)u="group"===e.type?new li(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var d=e.getLocalTransform();(u=u.clone()).applyTransform(d)}t=xr(At({width:u.width,height:u.height},t),n,i);var h=e.position,g=o?t.x-u.x:0,m=a?t.y-u.y:0;e.attr("position","raw"===s?[g,m]:[h[0]+g,h[1]+m])}}function Ua(e,t,n){function i(h,g){var m={},y=0,I={},j=0;if(Rd(h,function(te){I[te]=e[te]}),Rd(h,function(te){r(t,te)&&(m[te]=I[te]=t[te]),o(m,te)&&y++,o(I,te)&&j++}),s[g])return o(t,h[1])?I[h[2]]=null:o(t,h[2])&&(I[h[1]]=null),I;if(2!==j&&y){if(y>=2)return m;for(var q=0;q<h.length;q++){var K=h[q];if(!r(m,K)&&r(e,K)){m[K]=e[K];break}}return m}return I}function r(h,g){return h.hasOwnProperty(g)}function o(h,g){return null!=h[g]&&"auto"!==h[g]}function a(h,g,m){Rd(h,function(y){g[y]=m[y]})}!Oe(n)&&(n={});var s=n.ignoreSize;!me(s)&&(s=[s,s]);var u=i(Hs[0],0),d=i(Hs[1],1);a(Hs[0],e,u),a(Hs[1],e,d)}function dl(e){return Km({},e)}function Km(e,t){return t&&e&&Rd(tb,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}function Jm(e){var t=e.get("coordinateSystem"),n={coordSysName:t,coordSysDims:[],axisMap:st(),categoryAxisMap:st()},i=AA[t];if(i)return i(e,n,n.axisMap,n.categoryAxisMap),n}function hl(e){return"category"===e.get("type")}function Do(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===zd?{}:[]),this.sourceFormat=e.sourceFormat||ib,this.seriesLayoutBy=e.seriesLayoutBy||rb,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&st(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}function Qm(e){var t=e.option,n=t.data,i=xt(n)?Fd:Ws,r=!1,o=t.seriesLayoutBy,a=t.sourceHeader,s=t.dimensions,u=function(e){var t=e.option;if(!t.data)return e.ecModel.getComponent("dataset",t.datasetIndex||0)}(e);if(u){var d=u.option;n=d.source,i=zl(u).sourceFormat,r=!0,o=o||d.seriesLayoutBy,null==a&&(a=d.sourceHeader),s=s||d.dimensions}var h=function(e,t,n,i,r){if(!e)return{dimensionsDefine:ev(r)};var o,a,s,d;if(t===Bd)"auto"===i||null==i?tv(function(h){null!=h&&"-"!==h&&(ze(h)?null==a&&(a=1):a=0)},n,e,10):a=i?1:0,r||1!==a||(r=[],tv(function(h,g){r[g]=null!=h?h:""},n,e)),o=r?r.length:n===gg?e.length:e[0]?e[0].length:null;else if(t===Od)r||(r=function(e){for(var t,n=0;n<e.length&&!(t=e[n++]););if(t){var i=[];return de(t,function(r,o){i.push(o)}),i}}(e),s=!0);else if(t===zd)r||(r=[],s=!0,de(e,function(h,g){r.push(g)}));else if(t===Ws){var u=A(e[0]);o=me(u)&&u.length||1}return s&&de(r,function(h,g){"name"===(Oe(h)?h.name:h)&&(d=g)}),{startIndex:a,dimensionsDefine:ev(r),dimensionsDetectCount:o,potentialNameDimIndex:d}}(n,i,o,a,s),g=t.encode;!g&&u&&(g=function(e,t,n,i,r,o){var a=Jm(e),s={},u=[],d=[],h=e.subType,g=st(["pie","map","funnel"]),m=st(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(a&&null!=m.get(h)){var I=zl(e.ecModel).datasetMap,j=t.uid+"_"+r,q=I.get(j)||I.set(j,{categoryWayDim:1,valueWayDim:0});de(a.coordSysDims,function(be){if(null==a.firstCategoryDimIndex)ke=q.valueWayDim++,s[be]=ke,d.push(ke);else if(a.categoryAxisMap.get(be))s[be]=0,u.push(0);else{var ke=q.categoryWayDim++;s[be]=ke,d.push(ke)}})}else if(null!=g.get(h)){for(var K,te=0;te<5&&null==K;te++)nv(n,i,r,o.dimensionsDefine,o.startIndex,te)||(K=te);if(null!=K){s.value=K;var ue=o.potentialNameDimIndex||Math.max(K-1,0);d.push(ue),u.push(ue)}}return u.length&&(s.itemName=u),d.length&&(s.seriesName=d),s}(e,u,n,i,o,h)),zl(e).source=new Do({data:n,fromDataset:r,seriesLayoutBy:o,sourceFormat:i,dimensionsDefine:h.dimensionsDefine,startIndex:h.startIndex,dimensionsDetectCount:h.dimensionsDetectCount,encodeDefine:g})}function ev(e){if(e){var t=st();return Me(e,function(n,i){if(null==(n=On({},Oe(n)?n:{name:n})).name)return n;n.name+="",null==n.displayName&&(n.displayName=n.name);var r=t.get(n.name);return r?n.name+="-"+r.count++:t.set(n.name,{count:1}),n})}}function tv(e,t,n,i){if(null==i&&(i=1/0),t===gg)for(o=0;o<n.length&&o<i;o++)e(n[o]?n[o][0]:null,o);else for(var r=n[0]||[],o=0;o<r.length&&o<i;o++)e(r[o],o)}function Qw(e,t){return nv(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function nv(e,t,n,i,r,o){function a(I){return(null==I||!isFinite(I)||""===I)&&(!(!ze(I)||"-"===I)||void 0)}var s,u;if(xt(e))return!1;if(i&&(u=Oe(u=i[o])?u.name:u),t===Bd)if(n===gg){for(var d=e[o],h=0;h<(d||[]).length&&h<5;h++)if(null!=(s=a(d[r+h])))return s}else for(h=0;h<e.length&&h<5;h++){var g=e[r+h];if(g&&null!=(s=a(g[o])))return s}else if(t===Od){if(!u)return;for(h=0;h<e.length&&h<5;h++)if((m=e[h])&&null!=(s=a(m[u])))return s}else if(t===zd){if(!u)return;if(!(d=e[u])||xt(d))return!1;for(h=0;h<d.length&&h<5;h++)if(null!=(s=a(d[h])))return s}else if(t===Ws)for(h=0;h<e.length&&h<5;h++){var m=e[h],y=A(m);if(!me(y))return!1;if(null!=(s=a(y[o])))return s}return!1}function nC(e){e=e,this.option={},this.option[mg]=1,this._componentsMap=st({series:[]}),function(e,t){de(t,function(n,i){Ii.hasClass(i)||("object"==typeof n?e[i]=e[i]?Ye(e[i],n,!1):hn(n):null==e[i]&&(e[i]=n))})}(e,this._theme.option),Ye(e,kA,!1),this.mergeOption(e)}function zh(e,t){e._seriesIndicesMap=st(e._seriesIndices=Me(t,function(n){return n.componentIndex})||[])}function iv(e,t){return t.hasOwnProperty("subType")?ft(e,function(n){return n.subType===t.subType}):e}function rv(e){de(IA,function(t){this[t]=ot(e[t],e)},this)}function Rr(){this._coordinateSystems=[]}function Fh(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[]}function oC(e,t,n){var i,r,o=[],a=[],s=e.timeline;return e.baseOption&&(r=e.baseOption),(s||e.options)&&(r=r||{},o=(e.options||[]).slice()),e.media&&(r=r||{},Hd(e.media,function(d){d&&d.option&&(d.query?a.push(d):i||(i=d))})),r||(r=e),r.timeline||(r.timeline=s),Hd([r].concat(o).concat(Me(a,function(d){return d.option})),function(d){Hd(t,function(h){h(d,n)})}),{baseOption:r,timelineOptions:o,mediaDefault:i,mediaList:a}}function aC(e,t,n){var i={width:t,height:n,aspectratio:t/n},r=!0;return de(e,function(o,a){var s=a.match(DA);if(s&&s[1]&&s[2]){var u=s[1],d=s[2].toLowerCase();(function(e,t,n){return"min"===n?e>=t:"max"===n?e<=t:e===t})(i[d],o,u)||(r=!1)}}),r}function Vh(e){var t=e&&e.itemStyle;if(t)for(var n=0,i=ab.length;n<i;n++){var r=ab[n],o=t.normal,a=t.emphasis;o&&o[r]&&(e[r]=e[r]||{},e[r].normal?Ye(e[r].normal,o[r]):e[r].normal=o[r],o[r]=null),a&&a[r]&&(e[r]=e[r]||{},e[r].emphasis?Ye(e[r].emphasis,a[r]):e[r].emphasis=a[r],a[r]=null)}}function Ar(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var i=e[t].normal,r=e[t].emphasis;i&&(n?(e[t].normal=e[t].emphasis=null,At(e[t],i)):e[t]=i),r&&(e.emphasis=e.emphasis||{},e.emphasis[t]=r)}}function hc(e){Ar(e,"itemStyle"),Ar(e,"lineStyle"),Ar(e,"areaStyle"),Ar(e,"label"),Ar(e,"labelLine"),Ar(e,"upperLabel"),Ar(e,"edgeLabel")}function pr(e){var t=Gd(e)&&e.textStyle;if(t)for(var n=0,i=Bx.length;n<i;n++){var r=Bx[n];t.hasOwnProperty(r)&&(e[r]=t[r])}}function vo(e){e&&(hc(e),pr(e.label),e.emphasis&&pr(e.emphasis.label))}function Ma(e){return me(e)?e:e?[e]:[]}function ov(e){return(me(e)?e[0]:e)||{}}function av(e){de(PA,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}function sv(e,t){Do.isInstance(e)||(e=Do.seriesDataToSource(e)),this._source=e;var n=this._data=e.data,i=e.sourceFormat;i===Fd&&(this._offset=0,this._dimSize=t,this._data=n),On(this,EA[i===Bd?i+"_"+e.seriesLayoutBy:i])}function lv(){return this._data.length}function uv(e){return this._data[e]}function Hh(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}function Wh(e,t,n,i){return null!=n?e[n]:e}function cv(e,t,n,i){return Gh(e[i],this._dimensionInfos[t])}function Gh(e,t){var n=t&&t.type;if("ordinal"===n){var i=t&&t.ordinalMeta;return i?i.parseAndCollect(e):e}return"time"===n&&"number"!=typeof e&&null!=e&&"-"!==e&&(e=+nu(e)),null==e||""===e?NaN:+e}function Ss(e,t,n){if(e){var i=e.getRawDataItem(t);if(null!=i){var r,o,a=e.getProvider().getSource().sourceFormat,s=e.getDimensionInfo(n);return s&&(r=s.name,o=s.index),RA[a](i,t,o,r)}}}function fC(e,t,n){if(e){var i=e.getProvider().getSource().sourceFormat;if(i===Ws||i===Od){var r=e.getRawDataItem(t);return i!==Ws||Oe(r)||(r=null),r?r[n]:void 0}}}function iu(e){return new dv(e)}function dv(e){this._reset=(e=e||{}).reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}function hv(e){var t=e.name;xd===t&&(e.name=function(e){var t=e.getRawData(),n=[];return de(t.mapDimension("seriesName",!0),function(i){var r=t.getDimensionInfo(i);r.displayName&&n.push(r.displayName)}),n.join(" ")}(e)||t)}function mC(e){return e.model.getRawData().count()}function vC(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),yC}function yC(e,t){e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function fv(e,t){de(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,Ne(xC,t))})}function xC(e){var t=Uh(e);t&&t.setOutputEnd(this.count())}function Uh(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var i=n.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(e.uid))}return i}}function Mr(){this.group=new Un,this.uid=Yr("viewChart"),this.renderTask=iu({plan:bC,reset:_C}),this.renderTask.context={view:this}}function jh(e,t){if(e&&(e.trigger(t),"group"===e.type))for(var n=0;n<e.childCount();n++)jh(e.childAt(n),t)}function pv(e,t,n){var i=X(e,t);null!=i?de(O(i),function(r){jh(e.getItemGraphicEl(r),n)}):e.eachItemGraphicEl(function(r){jh(r,n)})}function bC(e){return zA(e.model)}function _C(e){var t=e.model,n=e.ecModel,i=e.api,r=e.payload,o=t.pipelineContext.incrementalRender,a=e.view,s=r&&lb(r).updateMethod;return a[o&&a.incrementalPrepareRender?"incrementalPrepareRender":s&&a[s]?s:"render"](t,n,i,r),o?wC:null}function wC(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}function qh(e,t,n){function i(){h=(new Date).getTime(),g=null,e.apply(a,s||[])}var r,o,a,s,u,d=0,h=0,g=null;t=t||0;var m=function(){r=(new Date).getTime(),a=this,s=arguments;var y=u||t,I=u||n;u=null,o=r-(I?d:h)-y,clearTimeout(g),I?g=setTimeout(i,y):o>=0?i():g=setTimeout(i,-o),d=r};return m.clear=function(){g&&(clearTimeout(g),g=null)},m.debounceNextCall=function(y){u=y},m}function ru(e,t,n,i){var r=e[t];if(r){var o=r[Ud]||r;if(r[ub]!==n||r[cb]!==i){if(null==n||!i)return e[t]=o;(r=e[t]=qh(o,n,"debounce"===i))[Ud]=o,r[cb]=i,r[ub]=n}return r}}function gv(e,t){var n=e[t];n&&n[Ud]&&(e[t]=n[Ud])}function fc(e,t){this.ecInstance=e,this.api=t,this._stageTaskMap=st()}function mv(e,t,n,i,r){function o(s,u){return s.setDirty&&(!s.dirtyMap||s.dirtyMap.get(u.__pipeline.id))}var a;r=r||{},de(t,function(s,u){if(!r.visualType||r.visualType===s.visualType){var d=e._stageTaskMap.get(s.uid),h=d.seriesTaskMap,g=d.overallTask;if(g){var m,y=g.agentStubMap;y.each(function(j){o(r,j)&&(j.dirty(),m=!0)}),m&&g.dirty(),db(g,i);var I=e.getPerformArgs(g,r.block);y.each(function(j){j.perform(I)}),a|=g.perform(I)}else h&&h.each(function(j,q){o(r,j)&&j.dirty();var K=e.getPerformArgs(j,r.block);K.skip=!s.performRawSeries&&n.isSeriesFiltered(j.context.model),db(j,i),a|=j.perform(K)})}}),e.unfinished|=a}function MC(e){e.overallReset(e.ecModel,e.api,e.payload)}function TC(e,t){return e.overallProgress&&kC}function kC(){this.agent.dirty(),this.getDownstream().dirty()}function AC(){this.agent&&this.agent.dirty()}function IC(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function DC(e){if(e.useClearVisual&&e.data.clearAllVisual(),(e.resetDefines=O(e.reset(e.model,e.ecModel,e.api,e.payload))).length)return NC}function NC(e,t){for(var n=t.data,i=t.resetDefines,r=0;r<i.length;r++){var o=i[r];if(o&&o.dataEach)for(var a=e.start;a<e.end;a++)o.dataEach(n,a);else o&&o.progress&&o.progress(e,n)}}function PC(e){return e.data.count()}function pc(e,t,n){var r=e._pipelineMap.get(t.uid);!r.head&&(r.head=n),r.tail&&r.tail.pipe(n),r.tail=n,n.__idxInPipeline=r.count++,n.__pipeline=r}function LC(e){qd=null;try{e(Vu,hb)}catch(t){}return qd}function vv(e,t){for(var n in t.prototype)e[n]=Zt}function fl(e){return function(t,n,i){t=t&&t.toLowerCase(),_r.prototype[e].call(this,t,n,i)}}function ou(){_r.call(this)}function au(e,t,n){function i(a,s){return a.__prio-s.__prio}n=n||{},"string"==typeof t&&(t=wb[t]),this._dom=e;var r=this._zr=V(e,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=qh(ot(r.flush,r),17),(t=hn(t))&&sb(t,!0),this._theme=t,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Rr;var o=this._api=function(e){var t=e._coordSysMgr;return On(new rv(e),{getCoordinateSystems:ot(t.getCoordinateSystems,t),getComponentByElement:function(n){for(;n;){var i=n.__ecComponentInfo;if(null!=i)return e._model.getComponent(i.mainType,i.index);n=n.parent}}})}(this);this._scheduler=new fc(this,o),_r.call(this),this._messageCenter=new ou,this._initEvents(),this.resize=ot(this.resize,this),this._pendingActions=[],jr(rs,i),jr(Wu,i),r.animation.on("frame",this._onframe,this),Sn(this)}function yv(e,t,n){var i,r=this._model,o=this._coordSysMgr.getCoordinateSystems();t=J(r,t);for(var a=0;a<o.length;a++){var s=o[a];if(s[e]&&null!=(i=s[e](r,t,n)))return i}}function su(e){var t=e._model,n=e._scheduler;n.restorePipelines(t),n.prepareStageTasks(Wu),n.prepareStageTasks(rs),wv(e,"component",t,n),wv(e,"chart",t,n),n.plan()}function xv(e,t,n,i,r){function o(d){d&&d.__alive&&d[t]&&d[t](d.__model,a,e._api,n)}var a=e._model;if(i){var s={};s[i+"Id"]=n[i+"Id"],s[i+"Index"]=n[i+"Index"],s[i+"Name"]=n[i+"Name"];var u={mainType:i,query:s};r&&(u.subType=r),a&&a.eachComponent(u,function(d,h){o(e["series"===i?"_chartsMap":"_componentsMap"][d.__viewId])},e)}else Tr(e._componentsViews.concat(e._chartsViews),o)}function bv(e,t){var n=e._chartsMap,i=e._scheduler;t.eachSeries(function(r){i.updateStreamModes(r,n[r.__viewId])})}function _v(e,t){var n=e.type,i=e.escapeConnect,r=Zd[n],o=r.actionInfo,a=(o.update||"update").split(":"),s=a.pop();a=null!=a[0]&&gb(a[0]),this[aa]=!0;var u=[e],d=!1;e.batch&&(d=!0,u=Me(e.batch,function(y){return(y=At(On({},y),e)).batch=null,y}));var h,g=[],m="highlight"===n||"downplay"===n;Tr(u,function(y){(h=(h=r.action(y,this._model,this._api))||On({},y)).type=o.event||h.type,g.push(h),m?xv(this,s,y,"series"):a&&xv(this,s,y,a.main,a.sub)},this),"none"===s||m||a||(this[Us]?(su(this),is.update.call(this,e),this[Us]=!1):is[s].call(this,e)),h=d?{type:o.event||n,escapeConnect:i,batch:g}:g[0],this[aa]=!1,!t&&this._messageCenter.trigger(h.type,h)}function gc(e){for(var t=this._pendingActions;t.length;){var n=t.shift();_v.call(this,n,e)}}function mc(e){!e&&this.trigger("updated")}function wv(e,t,n,i){function r(m){var y="_ec_"+m.id+"_"+m.type,I=s[y];if(!I){var j=gb(m.type);(I=new(o?La.getClass(j.main,j.sub):Mr.getClass(j.sub))).init(n,d),s[y]=I,a.push(I),u.add(I.group)}m.__viewId=I.__id=y,I.__alive=!0,I.__model=m,I.group.__ecComponentInfo={mainType:m.mainType,index:m.componentIndex},!o&&i.prepareView(I,m,n,d)}for(var o="component"===t,a=o?e._componentsViews:e._chartsViews,s=o?e._componentsMap:e._chartsMap,u=e._zr,d=e._api,h=0;h<a.length;h++)a[h].__alive=!1;for(o?n.eachComponent(function(m,y){"series"!==m&&r(y)}):n.eachSeries(r),h=0;h<a.length;){var g=a[h];g.__alive?h++:(!o&&g.renderTask.dispose(),u.remove(g.group),g.dispose(n,d),a.splice(h,1),delete s[g.__id],g.__id=g.group.__ecComponentInfo=null)}}function Zh(e){e.clearColorPalette(),e.eachSeries(function(t){t.clearColorPalette()})}function Cv(e,t,n,i){(function(e,t,n,i,r){Tr(e._componentsViews,function(o){var a=o.__model;o.render(a,t,n,i),Sv(a,o)})})(e,t,n,i),Tr(e._chartsViews,function(r){r.__alive=!1}),Yh(e,t,0,i),Tr(e._chartsViews,function(r){r.__alive||r.remove(t,n)})}function Yh(e,t,n,i,r){var o,a=e._scheduler;t.eachSeries(function(s){var u=e._chartsMap[s.__viewId];u.__alive=!0;var d=u.renderTask;a.updatePayload(d,i),r&&r.get(s.uid)&&d.dirty(),o|=d.perform(a.getPerformArgs(d)),u.group.silent=!!s.get("silent"),Sv(s,u),function(e,t){var n=e.get("blendMode")||null;t.group.traverse(function(i){i.isGroup||i.style.blend!==n&&i.setStyle("blend",n),i.eachPendingDisplayable&&i.eachPendingDisplayable(function(r){r.setStyle("blend",n)})})}(s,u)}),a.unfinished|=o,function(e,t){var n=e.storage,i=0;n.traverse(function(r){r.isGroup||i++}),i>t.get("hoverLayerThreshold")&&!Ci.node&&n.traverse(function(r){r.isGroup||(r.useHoverLayer=!0)})}(e._zr,t),VA(e._zr.dom,t)}function $h(e,t){Tr(_b,function(n){n(e,t)})}function Sv(e,t){var n=e.get("z"),i=e.get("zlevel");t.group.traverse(function(r){"group"!==r.type&&(null!=n&&(r.z=n),null!=i&&(r.zlevel=i))})}function Mv(e){$d[e]=!1}function Xh(e){return js[function(e,t){return e.getAttribute?e.getAttribute(t):e[t]}(e,Mg)]}function Kh(e,t){wb[e]=t}function Ir(e){bb.push(e)}function yo(e,t){Qh(Wu,e,t,mb)}function Ni(e,t,n){"function"==typeof t&&(n=t,t="");var i=Hu(e)?e.type:[e,e={event:t}][0];e.event=(e.event||i).toLowerCase(),t=e.event,WA(xb.test(i)&&xb.test(t)),Zd[i]||(Zd[i]={action:n,actionInfo:e}),Yd[t]=i}function Jh(e,t){Rr.register(e,t)}function rr(e,t){Qh(rs,e,t,vb,"layout")}function Xi(e,t){Qh(rs,e,t,yb,"visual")}function Qh(e,t,n,i,r){(GA(t)||Hu(t))&&(n=t,t=i);var o=fc.wrapStageHandler(n,r);return o.__prio=t,o.__raw=n,e.push(o),o}function Tv(e,t){Sg[e]=t}function Xr(e){return Ii.extend(e)}function br(e){return La.extend(e)}function lu(e){return hr.extend(e)}function Vr(e){return Mr.extend(e)}function vc(e){return Cb[e]}function kv(e){return e}function Ta(e,t,n,i,r){this._old=e,this._new=t,this._oldKeyGetter=n||kv,this._newKeyGetter=i||kv,this.context=r}function Av(e,t,n,i,r){for(var o=0;o<e.length;o++){var a="_ec_"+r[i](e[o],o),s=t[a];null==s?(n.push(a),t[a]=o):(s.length||(t[a]=s=[s]),s.push(o))}}function yc(e){return"category"===e?"ordinal":"time"===e?"time":"float"}function xc(e){return e._rawCount>65535?typeof os.Uint32Array===Gu?Array:os.Uint32Array:typeof os.Uint16Array===Gu?Array:os.Uint16Array}function GC(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function Iv(e,t){de(JA.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods}function uu(e){return e}function cu(e){return e<this._count&&e>=0?this._indices[e]:-1}function ef(e,t){var n=e._idList[t];return null==n&&(n=e._getIdFromStore(t)),null==n&&(n=XA+t),n}function tf(e){return me(e)||(e=[e]),e}function Dv(e,t){var n=e.dimensions,i=new wr(Me(n,e.getDimensionInfo,e),e.hostModel);Iv(i,e);for(var r=i._storage={},o=e._storage,a=0;a<n.length;a++){var s=n[a];o[s]&&(r[s]=Qe(t,s)>=0?UC(o[s]):o[s])}return i}function UC(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=GC(e[n]);return t}function Nv(e,t,n){function i(K,te,ue){null!=Sb.get(te)?K.otherDims[te]=ue:(K.coordDim=te,K.coordDimIndex=ue,s.set(te,!0))}Do.isInstance(t)||(t=Do.seriesDataToSource(t)),n=n||{},e=(e||[]).slice();for(var r=(n.dimsDef||[]).slice(),o=st(n.encodeDef),a=st(),s=st(),u=[],d=function(e,t,n,i){return null==i&&(i=Math.max(e.dimensionsDetectCount||1,t.length,n.length),de(t,function(r){var o=r.dimsDef;o&&(i=Math.max(i,o.length))})),i}(t,e,r,n.dimCount),h=0;h<d;h++){var g=r[h]=On({},Oe(r[h])?r[h]:{name:r[h]}),m=g.name,y=u[h]={otherDims:{}};null!=m&&null==a.get(m)&&(y.name=y.displayName=m,a.set(m,h)),null!=g.type&&(y.type=g.type),null!=g.displayName&&(y.displayName=g.displayName)}o.each(function(K,te){K=O(K).slice();var ue=o.set(te,[]);de(K,function(be,ke){ze(be)&&(be=a.get(be)),null!=be&&be<d&&(ue[ke]=be,i(u[be],te,ke))})});var I=0;de(e,function(K,te){var ue,be,ke;if(ze(K))ue=K,K={};else{ue=K.name;var Be=K.ordinalMeta;K.ordinalMeta=null,(K=hn(K)).ordinalMeta=Be,be=K.dimsDef,ke=K.otherDims,K.name=K.coordDim=K.coordDimIndex=K.dimsDef=K.otherDims=null}var We=O(o.get(ue));if(!We.length)for(var qe=0;qe<(be&&be.length||1);qe++){for(;I<u.length&&null!=u[I].coordDim;)I++;I<u.length&&We.push(I++)}de(We,function(gt,tn){var Jt=u[gt];i(At(Jt,K),ue,tn),null==Jt.name&&be&&(Jt.name=Jt.displayName=be[tn]),Jt.isSysCoord=!0,ke&&At(Jt.otherDims,ke)})});for(var j=n.extraPrefix||"value",q=0;q<d;q++)null==(y=u[q]=u[q]||{}).coordDim&&(y.coordDim=Pv(j,s,n.extraFromZero),y.coordDimIndex=0,y.isExtraCoord=!0),null==y.name&&(y.name=Pv(y.coordDim,a)),null==y.type&&Qw(t,q)&&(y.type="ordinal");return u}function Pv(e,t,n){if(n||null!=t.get(e)){for(var i=0;null!=t.get(e+i);)i++;e+=i}return t.set(e,!0),e}function ka(e,t){Do.isInstance(e)||(e=Do.seriesDataToSource(e));var n,i=t.get("coordinateSystem"),r=Rr.get(i),o=Jm(t);o&&(n=Me(o.coordSysDims,function(g){var m={name:g},y=o.axisMap.get(g);if(y){var I=y.get("type");m.type=yc(I),m.stackable=function(e){return"category"!==e&&"time"!==e}(I)}return m})),n||(n=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]);var a,s,u=Vl(e,{coordDimensions:n});o&&de(u,function(g,m){var I=o.categoryAxisMap.get(g.coordDim);I&&(null==a&&(a=m),g.ordinalMeta=I.getOrdinalMeta()),null!=g.otherDims.itemName&&(s=!0)}),s||null==a||(u[a].otherDims.itemName=0);var d=new wr(u,t),h=null!=a&&function(e){if(e.sourceFormat===Ws){var t=function(e){for(var t=0;t<e.length&&null==e[t];)t++;return e[t]}(e.data||[]);return null!=t&&!me(A(t))}}(e)?function(g,m,y,I){return I===a?y:this.defaultDimValueGetter(g,m,y,I)}:null;return d.hasItemOption=!1,d.initData(e,null,h),d}function gr(e){this._setting=e||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function du(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication}function Lv(e){return e._map||(e._map=st(e.categories))}function $C(e){return Oe(e)&&null!=e.value?e.value:e+""}function Ev(e){return lc(e)+2}function Rv(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function Bv(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),Rv(e,0,t),Rv(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function Ov(e){return e.get("stack")||Ng+e.seriesIndex}function zv(e){return e.dim+e.index}function Fv(e,t){return Vv(Me(e,function(n){var i=n.getData(),r=n.coordinateSystem.getBaseAxis(),o=r.getExtent(),a="category"===r.type?r.getBandWidth():Math.abs(o[1]-o[0])/i.count();return{bandWidth:a,barWidth:vn(n.get("barWidth"),a),barMaxWidth:vn(n.get("barMaxWidth"),a),barGap:n.get("barGap"),barCategoryGap:n.get("barCategoryGap"),axisKey:zv(r),stackId:Ov(n)}}))}function Vv(e,t){var n={};de(e,function(r,o){var a=r.axisKey,s=r.bandWidth,u=n[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},d=u.stacks;n[a]=u;var h=r.stackId;d[h]||u.autoWidthCount++,d[h]=d[h]||{width:0,maxWidth:0};var g=r.barWidth;g&&!d[h].width&&(d[h].width=g,g=Math.min(u.remainedWidth,g),u.remainedWidth-=g);var m=r.barMaxWidth;m&&(d[h].maxWidth=m);var y=r.barGap;null!=y&&(u.gap=y);var I=r.barCategoryGap;null!=I&&(u.categoryGap=I)});var i={};return de(n,function(r,o){i[o]={};var a=r.stacks,u=vn(r.categoryGap,r.bandWidth),d=vn(r.gap,1),h=r.remainedWidth,g=r.autoWidthCount,m=(h-u)/(g+(g-1)*d);m=Math.max(m,0),de(a,function(q,K){var te=q.maxWidth;te&&te<m&&(te=Math.min(te,h),q.width&&(te=Math.min(te,q.width)),h-=te,q.width=te,g--)}),m=(h-u)/(g+(g-1)*d),m=Math.max(m,0);var y,I=0;de(a,function(q,K){q.width||(q.width=m),y=q,I+=q.width*(1+d)}),y&&(I-=y.width*d);var j=-I/2;de(a,function(q,K){i[o][K]=i[o][K]||{offset:j,width:q.width},j+=q.width*(1+d)})}),i}function Hv(e,t,n){var i=Fv(ft(t.getSeriesByType(e),function(a){return!t.isSeriesFiltered(a)&&a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type})),r={},o={};t.eachSeriesByType(e,function(a){if("cartesian2d"===a.coordinateSystem.type){var s=a.getData(),u=a.coordinateSystem,d=u.getBaseAxis(),h=Ov(a),g=i[zv(d)][h],m=g.offset,y=g.width,I=u.getOtherAxis(d),j=a.get("barMinHeight")||0,q=d.onZero?I.toGlobalCoord(I.dataToCoord(0)):I.getGlobalExtent()[0],K=[s.mapDimension("x"),s.mapDimension("y")],te=s.mapArray(K,function(ue,be){return u.dataToPoint([ue,be])},!0);r[h]=r[h]||[],o[h]=o[h]||[],s.setLayout({offset:m,size:y}),s.each(s.mapDimension(I.dim),function(ue,be){if(!isNaN(ue)){r[h][be]||(r[h][be]={p:q,n:q},o[h][be]={p:q,n:q});var ke,Be,We,qe,gt=ue>=0?"p":"n",tn=te[be],Jt=r[h][be][gt],un=o[h][be][gt];I.isHorizontal()?(ke=Jt,Be=tn[1]+m,qe=y,o[h][be][gt]+=We=tn[0]-un,Math.abs(We)<j&&(We=(We<0?-1:1)*j),r[h][be][gt]+=We):(ke=tn[0]+m,Be=Jt,We=y,o[h][be][gt]+=qe=tn[1]-un,Math.abs(qe)<j&&(qe=(qe<=0?-1:1)*j),r[h][be][gt]+=qe),s.setItemLayout(be,{x:ke,y:Be,width:We,height:qe})}},!0)}},this)}function bc(e,t){return iI(e,nI(t))}function Wv(e,t){var n,i,r,o=e.type,a=t.getMin(),s=t.getMax(),u=null!=a,d=null!=s,h=e.getExtent();"ordinal"===o?n=t.getCategories().length:(me(i=t.get("boundaryGap"))||(i=[i||0,i||0]),"boolean"==typeof i[0]&&(i=[0,0]),i[0]=vn(i[0],1),i[1]=vn(i[1],1),r=h[1]-h[0]||Math.abs(h[0])),null==a&&(a="ordinal"===o?n?0:NaN:h[0]-i[0]*r),null==s&&(s="ordinal"===o?n?n-1:NaN:h[1]+i[1]*r),"dataMin"===a?a=h[0]:"function"==typeof a&&(a=a({min:h[0],max:h[1]})),"dataMax"===s?s=h[1]:"function"==typeof s&&(s=s({min:h[0],max:h[1]})),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN),e.setBlank(vt(a)||vt(s)),t.getNeedCrossZero()&&(a>0&&s>0&&!u&&(a=0),a<0&&s<0&&!d&&(s=0));var g=t.ecModel;if(g){var m=ft(g.getSeriesByType("bar"),function(I){return I.getBaseAxis()===t.axis}).length>0;if(("time"===o||"interval"===o)&&m){var y=function(e,t,n){var i=n.ecModel,r=n.axis.getExtent(),o=r[1]-r[0],a=Fv(ft(i.getSeriesByType("bar"),function(m){return!i.isSeriesFiltered(m)&&m.coordinateSystem&&"cartesian2d"===m.coordinateSystem.type}))[n.axis.dim+n.axis.index];if(void 0===a)return{min:e,max:t};var s=1/0;de(a,function(m){s=Math.min(m.offset,s)});var u=-1/0;de(a,function(m){u=Math.max(m.offset+m.width,u)});var d=Math.abs(s)+u,h=t-e,g=h/(1-(s+u)/o)-h;return{min:e-=g*(s/d),max:t+=g*(u/d)}}(a,s,t);a=y.min,s=y.max}}return[a,s]}function Ms(e,t){var n=Wv(e,t),i=null!=t.getMin(),r=null!=t.getMax(),o=t.get("splitNumber");"log"===e.type&&(e.base=t.get("logBase"));var a=e.type;e.setExtent(n[0],n[1]),e.niceExtent({splitNumber:o,fixMin:i,fixMax:r,minInterval:"interval"===a||"time"===a?t.get("minInterval"):null,maxInterval:"interval"===a||"time"===a?t.get("maxInterval"):null});var s=t.get("interval");null!=s&&e.setInterval&&e.setInterval(s)}function pl(e,t){if(t=t||e.get("type"))switch(t){case"category":return new Ag(e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),[1/0,-1/0]);case"value":return new sa;default:return(gr.getClass(t)||sa).create(e)}}function Gv(e,t,n,i,r){var o,a=0,s=0,u=(i-r)/180*Math.PI,d=1;t.length>40&&(d=Math.floor(t.length/40));for(var h=0;h<e.length;h+=d){var g=e[h],m=qr(t[h],n,"center","top");m.x+=g*Math.cos(u),m.y+=g*Math.sin(u),m.width*=1.3,m.height*=1.3,o?o.intersect(m)?(s++,a=Math.max(a,s)):(o.union(m),s=0):o=m.clone()}return 0===a&&d>1?d:(a+1)*d-1}function nf(e,t){var o,n=e.scale,i=n.getTicksLabels(),r=n.getTicks();return"string"==typeof t?(o=t,Me(i,t=function(a){return o.replace("{value}",null!=a?a:"")})):"function"==typeof t?Me(r,function(o,a){return t(rf(e,o),a)},this):i}function rf(e,t){return"category"===e.type?e.scale.getLabel(t):t}function eS(e,t){if("image"!==this.type){var n=this.style,i=this.shape;i&&"line"===i.symbolType?n.stroke=e:this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff"):(n.fill&&(n.fill=e),n.stroke&&(n.stroke=e)),this.dirty(!1)}}function ao(e,t,n,i,r,o,a){var u,s=0===e.indexOf("empty");return s&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),(u=0===e.indexOf("image://")?ht(e.slice(8),new li(t,n,i,r),a?"center":"cover"):0===e.indexOf("path://")?Ee(e.slice(7),{},new li(t,n,i,r),a?"center":"cover"):new dI({shape:{symbolType:e,x:t,y:n,width:i,height:r}})).__isEmptyBrush=s,u.setColor=eS,u.setColor(o),u}function Uv(e,t){return Math.abs(e-t)<fI}function Ts(e,t,n){var i=0,r=e[0];if(!r)return!1;for(var o=1;o<e.length;o++){var a=e[o];i+=di(r[0],r[1],a[0],a[1],t,n),r=a}var s=e[0];return Uv(r[0],s[0])&&Uv(r[1],s[1])||(i+=di(r[0],r[1],s[0],s[1],t,n)),0!==i}function _c(e,t,n){if(this.name=e,this.geometries=t,n)n=[n[0],n[1]];else{var i=this.getBoundingRect();n=[i.x+i.width/2,i.y+i.height/2]}this.center=n}function jv(e,t,n){for(var i=[],r=t[0],o=t[1],a=0;a<e.length;a+=2){var s=e.charCodeAt(a)-64,u=e.charCodeAt(a+1)-64;s=s>>1^-(1&s),u=u>>1^-(1&u),r=s+=r,o=u+=o,i.push([s/n,u/n])}return i}function qv(e,t){var n=(e[1]-e[0])/t/2;e[0]+=n,e[1]-=n}function wc(e,t){var n=e.mapDimension("defaultedLabel",!0),i=n.length;if(1===i)return Ss(e,t,n[0]);if(i){for(var r=[],o=0;o<n.length;o++){var a=Ss(e,t,n[o]);r.push(a)}return r.join(" ")}}function of(e){return[e[0]/2,e[1]/2]}function gl(e,t,n){Un.call(this),this.updateData(e,t,n)}function iS(e,t){this.parent.drift(e,t)}function ml(e){this.group=new Un,this._symbolCtor=e||gl}function af(e,t,n,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i&&i(n))&&"none"!==e.getItemVisual(n,"symbol")}function Zv(e){var t=e.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}function Yv(e){return e>=0?1:-1}function $v(e,t,n){for(var i,r=e.getBaseAxis(),o=e.getOtherAxis(r),a=r.onZero?0:o.scale.getExtent()[0],s=o.dim,u="x"===s||"radius"===s?1:0,d=t.stackedOn,h=t.get(s,n);d&&Yv(d.get(s,n))===Yv(h);){i=d;break}var g=[];return g[u]=t.get(r.dim,n),g[1-u]=i?i.get(s,n,!0):a,e.dataToPoint(g)}function ja(e){return isNaN(e[0])||isNaN(e[1])}function sf(e,t,n,i,r,o,a,s,u,d,h){for(var g=0,m=n,y=0;y<i;y++){var I=t[m];if(m>=r||m<0)break;if(ja(I)){if(h){m+=o;continue}break}if(m===n)e[o>0?"moveTo":"lineTo"](I[0],I[1]),Eb(as,I);else if(u>0){var j=m+o,q=t[j];if(h)for(;q&&ja(t[j]);)q=t[j+=o];var K=.5,te=t[g];if(!(q=t[j])||ja(q))Eb(ss,I);else{var ue,be;if(ja(q)&&!h&&(q=I),Nn(Og,q,te),"x"===d||"y"===d){var ke="x"===d?0:1;ue=Math.abs(I[ke]-te[ke]),be=Math.abs(I[ke]-q[ke])}else ue=Es(I,te),be=Es(I,q);Lb(ss,I,Og,-u*(1-(K=be/(be+ue))))}Nb(as,as,s),Pb(as,as,a),Nb(ss,ss,s),Pb(ss,ss,a),e.bezierCurveTo(as[0],as[1],ss[0],ss[1],I[0],I[1]),Lb(as,I,Og,u*K)}else e.lineTo(I[0],I[1]);g=m,m+=o}return y}function lf(e,t){var n=[1/0,1/0],i=[-1/0,-1/0];if(t)for(var r=0;r<e.length;r++){var o=e[r];o[0]<n[0]&&(n[0]=o[0]),o[1]<n[1]&&(n[1]=o[1]),o[0]>i[0]&&(i[0]=o[0]),o[1]>i[1]&&(i[1]=o[1])}return{min:t?n:i,max:t?i:n}}function Xv(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++){var i=e[n],r=t[n];if(i[0]!==r[0]||i[1]!==r[1])return}return!0}}function Kv(e){return"number"==typeof e?e:e?.3:0}function Jv(e){var t=e.getGlobalExtent();if(e.onBand){var n=e.getBandWidth()/2-1,i=t[1]>t[0]?1:-1;t[0]+=i*n,t[1]-=i*n}return t}function Qv(e){return e>=0?1:-1}function e0(e,t,n){return"polar"===e.type?function(e,t,n){var i=e.getAngleAxis(),r=e.getRadiusAxis().getExtent(),o=i.getExtent(),a=Math.PI/180,s=new Na({shape:{cx:e.cx,cy:e.cy,r0:r[0],r:r[1],startAngle:-o[0]*a,endAngle:-o[1]*a,clockwise:i.inverse}});return t&&(s.shape.endAngle=-o[0]*a,ui(s,{shape:{endAngle:-o[1]*a}},n)),s}(e,t,n):function(e,t,n){var i=Jv(e.getAxis("x")),r=Jv(e.getAxis("y")),o=e.getBaseAxis().isHorizontal(),a=Math.min(i[0],i[1]),s=Math.min(r[0],r[1]),u=Math.max(i[0],i[1])-a,d=Math.max(r[0],r[1])-s,h=n.get("lineStyle.width")||2,g=n.get("clipOverflow")?h/2:Math.max(u,d);o?(s-=g,d+=2*g):(a-=g,u+=2*g);var m=new Gi({shape:{x:a,y:s,width:u,height:d}});return t&&(m.shape[o?"width":"height"]=0,ui(m,{shape:{width:u,height:d}},n)),m}(e,t,n)}function qa(e,t,n){for(var i=t.getBaseAxis(),r="x"===i.dim||"radius"===i.dim?0:1,o=[],a=0;a<e.length-1;a++){var s=e[a+1],u=e[a];o.push(u);var d=[];switch(n){case"end":d[r]=s[r],d[1-r]=u[1-r],o.push(d);break;case"middle":var g=[];d[r]=g[r]=(u[r]+s[r])/2,d[1-r]=u[1-r],g[1-r]=s[1-r],o.push(d),o.push(g);break;default:d[r]=u[r],d[1-r]=s[1-r],o.push(d)}}return e[a]&&o.push(e[a]),o}function uS(e){return this._axes[e]}function hu(e){Qd.call(this,e)}function t0(e,t){return t.type||(t.data?"category":"value")}function uf(e,t,n){return e.getCoordSysModel()===t}function cS(e,t){var n=t*Math.PI/180,i=e.plain(),r=i.width,o=i.height,a=r*Math.cos(n)+o*Math.sin(n),s=r*Math.sin(n)+o*Math.cos(n);return new li(i.x,i.y,a,s)}function vl(e,t,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,n),this.model=e}function n0(e,t,n){var i=e[t];if(n.onZero){var r=n.onZeroAxisIndex;if(null==r){for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];if(a&&!i0(a)){r=+o;break}}null==r&&(n.onZero=!1),n.onZeroAxisIndex=r}else(a=i[r])&&i0(a)&&(n.onZero=!1)}}function i0(e){return"category"===e.type||"time"===e.type||!SI(e)}function r0(e,t){return Me(MI,function(n){return e.getReferringComponents(n)[0]})}function o0(e){return"cartesian2d"===e.get("coordinateSystem")}function a0(e){var t={componentType:e.mainType};return t[e.mainType+"Index"]=e.componentIndex,t}function s0(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)}function xo(e){e&&(e.ignore=!0)}function l0(e,t,n){var i=e&&e.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(i&&r){var o=jn([]);return Tn(o,o,-e.rotation),i.applyTransform(Yt([],o,e.getLocalTransform())),r.applyTransform(Yt([],o,t.getLocalTransform())),i.intersect(r)}}function u0(e){return"middle"===e||"center"===e}function cf(e,t){return"all"===e||me(e)&&Qe(e,t)>=0||e===t}function wS(e){var t=df(e);if(t){var n=t.axisPointerModel,i=t.axis.scale,r=n.option,o=n.get("status"),a=n.get("value");null!=a&&(a=i.parse(a));var s=hf(n);null==o&&(r.status=s?"show":"hide");var u=i.getExtent().slice();u[0]>u[1]&&u.reverse(),(null==a||a>u[1])&&(a=u[1]),a<u[0]&&(a=u[0]),r.value=a,s&&(r.status=t.axis.scale.isBlank()?"hide":"show")}}function df(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[fu(e)]}function hf(e){return!!e.get("handle.show")}function fu(e){return e.type+"||"+e.id}function c0(e,t,n,i,r,o){var a=uo.getAxisPointerClass(e.axisPointerClass);if(a){var s=function(e){var t=df(e);return t&&t.axisPointerModel}(t);s?(e._axisPointer||(e._axisPointer=new a)).render(t,s,i,o):d0(e,i)}}function d0(e,t,n){var i=e._axisPointer;i&&i.dispose(t,n),e._axisPointer=null}function ff(e,t,n){n=n||{};var i=e.coordinateSystem,r=t.axis,o={},a=r.position,s=r.onZero?"onZero":a,u=r.dim,d=i.getRect(),h=[d.x,d.x+d.width,d.y,d.y+d.height],g={left:0,right:1,top:0,bottom:1,onZero:2},m=t.get("offset")||0,y="x"===u?[h[2]-m,h[3]+m]:[h[0]-m,h[1]+m];if(r.onZero){var I=i.getAxis("x"===u?"y":"x",r.onZeroAxisIndex),j=I.toGlobalCoord(I.dataToCoord(0));y[g.onZero]=Math.max(Math.min(j,y[1]),y[0])}o.position=["y"===u?y[g[s]]:h[0],"x"===u?y[g[s]]:h[3]],o.rotation=Math.PI/2*("x"===u?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[a],o.labelOffset=r.onZero?y[g[a]]-y[g.onZero]:0,t.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),Ft(n.labelInside,t.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var K=t.get("axisLabel.rotate");return o.labelRotate="top"===s?-K:K,o.labelInterval=r.getLabelInterval(),o.z2=1,o}function h0(e,t,n,i,r,o,a){Ue(e,t,n.getModel("label"),n.getModel("emphasis.label"),{labelFetcher:r,labelDataIndex:o,defaultText:wc(r.getData(),o),isRectText:!0,autoColor:i}),f0(e),f0(t)}function f0(e,t){"outside"===e.textPosition&&(e.textPosition=t)}function p0(e,t,n){n.style.text=null,pn(n,{shape:{width:0}},t,e,function(){n.parent&&n.parent.remove(n)})}function g0(e,t,n){n.style.text=null,pn(n,{shape:{r:n.shape.r0}},t,e,function(){n.parent&&n.parent.remove(n)})}function m0(e,t,n,i,r,o,a,s){var u=t.getItemVisual(n,"color"),d=t.getItemVisual(n,"opacity"),h=i.getModel("itemStyle"),g=i.getModel("emphasis.itemStyle").getBarItemStyle();s||e.setShape("r",h.get("barBorderRadius")||0),e.useStyle(At({fill:u,opacity:d},h.getBarItemStyle()));var m=i.getShallow("cursor");m&&e.attr("cursor",m),s||h0(e.style,g,i,u,o,n),De(e,g)}function MS(e,t,n,i){var r=t.getData(),a=r.getName(this.dataIndex),s=t.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:e,name:a,seriesId:t.id}),r.each(function(u){v0(r.getItemGraphicEl(u),r.getItemLayout(u),t.isSelected(r.getName(u)),s,n)})}function v0(e,t,n,i,r){var o=(t.startAngle+t.endAngle)/2,u=n?i:0,d=[Math.cos(o)*u,Math.sin(o)*u];r?e.animate().when(200,{position:d}).start("bounceOut"):e.attr("position",d)}function pf(e,t){function n(){o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore}function i(){o.ignore=o.normalIgnore,a.ignore=a.normalIgnore}Un.call(this);var r=new Na({z2:2}),o=new ra,a=new Si;this.add(r),this.add(o),this.add(a),this.updateData(e,t,!0),this.on("emphasis",n).on("normal",i).on("mouseover",n).on("mouseout",i)}function y0(e,t,n,i,r,o,a){function s(j,q){for(var K=j;K>=0&&(e[K].y-=q,!(K>0&&e[K].y>e[K-1].y+e[K-1].height));K--);}function u(j,q,K,te,ue,be){for(var ke=q?Number.MAX_VALUE:0,Be=0,We=j.length;Be<We;Be++)if("center"!==j[Be].position){var qe=Math.abs(j[Be].y-te),gt=j[Be].len,tn=j[Be].len2,Jt=qe<ue+gt?Math.sqrt((ue+gt+tn)*(ue+gt+tn)-qe*qe):Math.abs(j[Be].x-K);q&&Jt>=ke&&(Jt=ke-10),!q&&Jt<=ke&&(Jt=ke+10),j[Be].x=K+Jt*be,ke=Jt}}e.sort(function(j,q){return j.y-q.y});for(var d,h=0,g=e.length,m=[],y=[],I=0;I<g;I++)(d=e[I].y-h)<0&&function(j,q,K,te){for(var ue=j;ue<q;ue++)if(e[ue].y+=K,ue>j&&ue+1<q&&e[ue+1].y>e[ue].y+e[ue].height)return void s(ue,K/2);s(q-1,K/2)}(I,g,-d),h=e[I].y+e[I].height;for(a-h<0&&s(g-1,h-a),I=0;I<g;I++)e[I].y>=n?y.push(e[I]):m.push(e[I]);u(m,!1,t,n,i,r),u(y,!0,t,n,i,r)}function x0(){this.group=new Un}function b0(e,t,n){mr.call(this,e,t,n),this.type="value",this.angle=0,this.name=""}function Ko(e,t,n){this._model=e,this.dimensions=[],this._indicatorAxes=Me(e.getIndicatorModels(),function(i,r){var o="indicator_"+r,a=new b0(o,new sa);return a.name=i.get("name"),a.model=i,i.axis=a,this.dimensions.push(o),a},this),this.resize(e,n)}function Cc(e,t){return At({show:t},e)}function _0(e,t){return!!gf(e)[t]}function gf(e){return e[Kb]||(e[Kb]={})}function pu(e){this._zr=e,this._opt={};var t=ot,n=t(DS,this),i=t(NS,this),r=t(PS,this),o=t(LS,this),a=t(ES,this);_r.call(this),this.setPointerChecker=function(s){this.pointerChecker=s},this.enable=function(s,u){this.disable(),this._opt=At(hn(u)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),null==s&&(s=!0),!0!==s&&"move"!==s&&"pan"!==s||(e.on("mousedown",n),e.on("mousemove",i),e.on("mouseup",r)),!0!==s&&"scale"!==s&&"zoom"!==s||(e.on("mousewheel",o),e.on("pinch",a))},this.disable=function(){e.off("mousedown",n),e.off("mousemove",i),e.off("mouseup",r),e.off("mousewheel",o),e.off("pinch",a)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function DS(e){if(!(C(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}}function NS(e){if(!C(e)&&C0(this,"moveOnMouseMove",e)&&this._dragging&&"pinch"!==e.gestureEvent&&!_0(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,i=this._x,r=this._y,o=t-i,a=n-r;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&Xa(e.event),this.trigger("pan",o,a,i,r,t,n)}}function PS(e){C(e)||(this._dragging=!1)}function LS(e){C0(this,"zoomOnMouseWheel",e)&&0!==e.wheelDelta&&w0.call(this,e,e.wheelDelta>0?1.1:1/1.1,e.offsetX,e.offsetY)}function ES(e){_0(this._zr,"globalPan")||w0.call(this,e,e.pinchScale>1?1.1:1/1.1,e.pinchX,e.pinchY)}function w0(e,t,n,i){this.pointerChecker&&this.pointerChecker(e,n,i)&&(Xa(e.event),this.trigger("zoom",t,n,i))}function C0(e,t,n){var i=e._opt[t];return i&&(!ze(i)||n.event[i+"Key"])}function S0(e,t,n){var i=e.target,r=i.position;r[0]+=t,r[1]+=n,i.dirty()}function M0(e,t,n,i){var r=e.target,o=e.zoomLimit,a=r.position,s=r.scale,u=e.zoom=e.zoom||1;if(u*=t,o){var d=o.min||0;u=Math.max(Math.min(o.max||1/0,u),d)}var g=u/e.zoom;e.zoom=u,a[0]-=(n-a[0])*(g-1),a[1]-=(i-a[1])*(g-1),s[0]*=g,s[1]*=g,r.dirty()}function mf(e,t,n){var i=t.getComponentByElement(e.topTarget),r=i&&i.coordinateSystem;return i&&i!==n&&!RI[i.mainType]&&r&&r.model!==n}function T0(e,t){var n=e.getItemStyle(),i=e.get("areaColor");return null!=i&&(n.fill=i),n}function k0(e,t){t.eachChild(function(n){de(n.__regions,function(i){n.trigger(e.isSelected(i.name)?"emphasis":"normal")})})}function Sc(e,t){var n=new Un;this._controller=new pu(e.getZr()),this._controllerHost={target:t?n:null},this.group=n,this._updateGroup=t}function A0(e,t,n){var i=e.getZoom(),r=e.getCenter(),o=t.zoom,a=e.dataToPoint(r);if(null!=t.dx&&null!=t.dy&&(a[0]-=t.dx,a[1]-=t.dy,r=e.pointToData(a),e.setCenter(r)),null!=o){if(n){var s=n.min||0;o=Math.max(Math.min(i*o,n.max||1/0),s)/i}e.scale[0]*=o,e.scale[1]*=o;var d=e.position,g=(t.originY-d[1])*(o-1);d[0]-=(t.originX-d[0])*(o-1),d[1]-=g,e.updateTransform(),r=e.pointToData(a),e.setCenter(r),e.setZoom(o*i)}return{center:e.getCenter(),zoom:e.getZoom()}}function vf(){Jo.call(this)}function ks(e){this.name=e,Jo.call(this),this._roamTransformable=new vf,this._rawTransformable=new vf}function I0(e,t,n,i){var r=n.seriesModel,o=r?r.coordinateSystem:null;return o===this?o[e](i):null}function yl(e,t,n,i,r){ks.call(this,e),this.map=t,this._nameCoordMap=st(),this.loadGeoJson(n,i,r)}function D0(e,t,n,i){var r=n.geoModel,o=n.seriesModel,a=r?r.coordinateSystem:o?o.coordinateSystem||(o.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return a===this?a[e](i):null}function N0(e,t){var n=e.get("boundingCoords");if(null!=n){var i=n[0],r=n[1];isNaN(i[0])||isNaN(i[1])||isNaN(r[0])||isNaN(r[1])||this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}var o,a=this.getBoundingRect(),s=e.get("layoutCenter"),u=e.get("layoutSize"),d=t.getWidth(),h=t.getHeight(),g=e.get("aspectScale")||.75,m=a.width/a.height*g,y=!1;if(s&&u&&(s=[vn(s[0],d),vn(s[1],h)],u=vn(u,Math.min(d,h)),isNaN(s[0])||isNaN(s[1])||isNaN(u)||(y=!0)),y){var I={};m>1?(I.width=u,I.height=u/m):(I.height=u,I.width=u*m),I.y=s[1]-I.height/2,I.x=s[0]-I.width/2}else(o=e.getBoxLayoutParams()).aspect=m,I=xr(o,{width:d,height:h});this.setViewRect(I.x,I.y,I.width,I.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}function P0(e,t){de(t.get("geoCoord"),function(n,i){e.addGeoCoord(i,n)})}function L0(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,E0(t,n,e),Zu(n,function(i){Zu(t.TRANSFERABLE_METHODS,function(r){i.wrapMethod(r,Ne(OS,e))})}),t.wrapMethod("cloneShallow",Ne(FS,e)),Zu(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,Ne(zS,e))}),dt(n[t.dataType]===t)}function OS(e,t){if(function(e){return e[rh]===e}(this)){var n=On({},this[Yu]);n[this.dataType]=t,E0(t,n,e)}else yf(t,this.dataType,this[rh],e);return t}function zS(e,t){return e.struct&&e.struct.update(this),t}function FS(e,t){return Zu(t[Yu],function(n,i){n!==t&&yf(n.cloneShallow(),i,t,e)}),t}function VS(e){var t=this[rh];return null==e||null==t?t:t[Yu][e]}function E0(e,t,n){e[Yu]={},Zu(t,function(i,r){yf(i,r,e,n)})}function yf(e,t,n,i){n[Yu][t]=e,e[rh]=n,e.dataType=t,i.struct&&(e[i.structAttr]=i.struct,i.struct[i.datasAttr[t]]=e),e.getLinkedData=VS}function As(e,t,n){this._nodes=[],this.hostModel=e,this.levelModels=Me(t||[],function(i){return new Kn(i,e,e.ecModel)}),this.leavesModel=new Kn(n||{},e,e.ecModel)}function US(e,t){var n=e.isExpand?e.children:[],i=e.parentNode.children,r=e.hierNode.i?i[e.hierNode.i-1]:null;if(n.length){!function(e){for(var t=e.children,n=t.length,i=0,r=0;--n>=0;){var o=t[n];o.hierNode.prelim+=i,o.hierNode.modifier+=i,i+=o.hierNode.shift+(r+=o.hierNode.change)}}(e);var o=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;r?(e.hierNode.prelim=r.hierNode.prelim+t(e,r),e.hierNode.modifier=e.hierNode.prelim-o):e.hierNode.prelim=o}else r&&(e.hierNode.prelim=r.hierNode.prelim+t(e,r));e.parentNode.hierNode.defaultAncestor=function(e,t,n,i){if(t){for(var r=e,o=e,a=o.parentNode.children[0],s=t,u=r.hierNode.modifier,d=o.hierNode.modifier,h=a.hierNode.modifier,g=s.hierNode.modifier;s=xf(s),o=bf(o),s&&o;){r=xf(r),a=bf(a),r.hierNode.ancestor=e;var m=s.hierNode.prelim+g-o.hierNode.prelim-d+i(s,o);m>0&&(XS($S(s,e,n),e,m),d+=m,u+=m),g+=s.hierNode.modifier,d+=o.hierNode.modifier,u+=r.hierNode.modifier,h+=a.hierNode.modifier}s&&!xf(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=g-u),o&&!bf(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=d-h,n=e)}return n}(e,r,e.parentNode.hierNode.defaultAncestor||i[0],t)}function jS(e){e.setLayout({x:e.hierNode.prelim+e.parentNode.hierNode.modifier},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function R0(e){return arguments.length?e:KS}function gu(e,t){var n={};return e-=Math.PI/2,n.x=t*Math.cos(e),n.y=t*Math.sin(e),n}function xf(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function bf(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function $S(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}function XS(e,t,n){var i=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=i}function KS(e,t){return e.parentNode===t.parentNode?1:2}function B0(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)&&"none"!==e.getItemVisual(t,"symbol")}function O0(e,t,n){return n.itemModel=t,n.itemStyle=t.getModel("itemStyle").getItemStyle(),n.hoverItemStyle=t.getModel("emphasis.itemStyle").getItemStyle(),n.lineStyle=t.getModel("lineStyle").getLineStyle(),n.labelModel=t.getModel("label"),n.hoverLabelModel=t.getModel("emphasis.label"),n.symbolInnerColor=!1===e.isExpand&&0!==e.children.length?n.itemStyle.fill:"#fff",n}function z0(e,t,n,i,r,o){var a=!n,s=e.tree.getNodeByDataIndex(t),u=(o=O0(s,s.getModel(),o),e.tree.root),d=s.parentNode===u?s:s.parentNode||s,h=e.getItemGraphicEl(d.dataIndex),g=d.getLayout(),m=h?{x:h.position[0],y:h.position[1],rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:g,y=s.getLayout();a?(n=new gl(e,t,o)).attr("position",[m.x,m.y]):n.updateData(e,t,o),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=y.rawX,n.__radialRawY=y.rawY,i.add(n),e.setItemGraphicEl(t,n),pn(n,{position:[y.x,y.y]},r);var I=n.getSymbolPath();if("radial"===o.layout){var j,q,K=u.children[0],te=K.getLayout(),ue=K.children.length;if(y.x===te.x&&!0===s.isExpand){var be={};be.x=(K.children[0].getLayout().x+K.children[ue-1].getLayout().x)/2,be.y=(K.children[0].getLayout().y+K.children[ue-1].getLayout().y)/2,(j=Math.atan2(be.y-te.y,be.x-te.x))<0&&(j=2*Math.PI+j),(q=be.x<te.x)&&(j-=Math.PI)}else(j=Math.atan2(y.y-te.y,y.x-te.x))<0&&(j=2*Math.PI+j),0===s.children.length||0!==s.children.length&&!1===s.isExpand?(q=y.x<te.x)&&(j-=Math.PI):(q=y.x>te.x)||(j-=Math.PI);I.setStyle({textPosition:q?"left":"right",textRotation:-j,textOrigin:"center",verticalAlign:"middle"})}if(s.parentNode&&s.parentNode!==u){var Be=n.__edge;Be||(Be=n.__edge=new cg({shape:_f(o,m,m),style:At({opacity:0},o.lineStyle)})),pn(Be,{shape:_f(o,g,y),style:{opacity:1}},r),i.add(Be)}}function F0(e,t,n,i,r,o){for(var a,s=e.tree.getNodeByDataIndex(t),u=e.tree.root,d=(o=O0(s,s.getModel(),o),s.parentNode===u?s:s.parentNode||s);null==(a=d.getLayout());)d=d.parentNode===u?d:d.parentNode||d;pn(n,{position:[a.x+1,a.y+1]},r,function(){i.remove(n),e.setItemGraphicEl(t,null)}),n.fadeOut(null,{keepLabel:!0});var h=n.__edge;h&&pn(h,{shape:_f(o,a,a),style:{opacity:0}},r,function(){i.remove(h)})}function _f(e,t,n){var i,r,o,a,s=e.orient;if("radial"===e.layout){var I=n.rawX,j=n.rawY,u=gu(m=t.rawX,y=t.rawY),d=gu(m,y+(j-y)*e.curvature),h=gu(I,j+(y-j)*e.curvature),g=gu(I,j);return{x1:u.x,y1:u.y,x2:g.x,y2:g.y,cpx1:d.x,cpy1:d.y,cpx2:h.x,cpy2:h.y}}var m=t.x,y=t.y;return I=n.x,j=n.y,"horizontal"===s&&(i=m+(I-m)*e.curvature,r=y,o=I+(m-I)*e.curvature,a=j),"vertical"===s&&(i=m,r=y+(j-y)*e.curvature,o=I,a=j+(y-j)*e.curvature),{x1:m,y1:y,x2:I,y2:j,cpx1:i,cpy1:r,cpx2:o,cpy2:a}}function mu(e,t){for(var n,i=[e];n=i.pop();)if(t(n),n.isExpand){var r=n.children;if(r.length)for(var o=r.length-1;o>=0;o--)i.push(r[o])}}function vu(e,t,n){if(e&&Qe(t,e.type)>=0){var i=n.getData().tree.root,r=e.targetNode;if(r&&i.contains(r))return{node:r};var o=e.targetNodeId;if(null!=o&&(r=i.getNodeById(o)))return{node:r}}}function V0(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function wf(e,t){return Qe(V0(e),t)>=0}function Cf(e,t){for(var n=[];e;){var i=e.dataIndex;n.push({name:e.name,dataIndex:i,value:t.getRawValue(i)}),e=e.parentNode}return n.reverse(),n}function H0(e){var t=0;de(e.children,function(i){H0(i);var r=i.value;me(r)&&(r=r[0]),t+=r});var n=e.value;me(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),me(e.value)?e.value[0]=n:e.value=n}function Sf(e){this.group=new Un,e.add(this.group)}function eM(e,t,n,i,r,o){var a=[[r?e:e-jg,t],[e+n,t],[e+n,t+i],[r?e:e-jg,t+i]];return!o&&a.splice(2,0,[e+n+jg,t+i/2]),!r&&a.push([e,t+i/2]),a}function tM(e,t,n){e.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&Cf(n,t)}}function iM(e,t,n,i,r,o,a,s,u,d){function h(xn,kn){ue?!xn.invisible&&o.push(xn):(kn(),xn.__tmWillVisible||(xn.invisible=!1))}function g(xn,kn,Wn,Vn,Jn,zn){var Di=a.getModel(),ci=Ft(e.getFormattedLabel(a.dataIndex,"normal",null,null,zn?"upperLabel":"label"),Di.get("name"));if(!zn&&j.isLeafRoot){var Qi=e.get("drillDownIcon",!0);ci=Qi?Qi+" "+ci:ci}var Dr=Di.getModel(zn?WI:VI),za=Di.getModel(zn?GI:HI),ul=Dr.getShallow("show");Ue(xn,kn,Dr,za,{defaultText:ul?ci:null,autoColor:Wn,isRectText:!0}),zn&&(xn.textRect=hn(zn)),xn.truncate=ul&&Dr.get("ellipsis")?{outerWidth:Vn,outerHeight:Jn,minChar:2}:null}function m(xn,kn,Wn,Vn){var Jn=null!=ke&&n[xn][ke],zn=r[xn];return Jn?(n[xn][ke]=null,function(xn,kn,Wn){(xn[be]={}).old="nodeGroup"===Wn?kn.position.slice():On({},kn.shape)}(zn,Jn,xn)):ue||((Jn=new kn({z:rM(Wn,Vn)})).__tmDepth=Wn,Jn.__tmStorageName=xn,function(xn,kn,Wn){var Vn=xn[be]={},Jn=a.parentNode;if(Jn&&(!i||"drillDown"===i.direction)){var zn=0,Di=0,ci=r.background[Jn.getRawIndex()];!i&&ci&&ci.old&&(zn=ci.old.width,Di=ci.old.height),Vn.old="nodeGroup"===Wn?[0,Di]:{x:zn,y:Di,width:0,height:0}}Vn.fadein="nodeGroup"!==Wn}(zn,0,xn)),t[xn][be]=Jn}if(a){var j=a.getLayout();if(j&&j.isInView){var q=j.width,K=j.height,te=j.borderWidth,ue=j.invisible,be=a.getRawIndex(),ke=s&&s.getRawIndex(),Be=a.viewChildren,We=j.upperHeight,qe=Be&&Be.length,gt=a.getModel("itemStyle"),tn=a.getModel("emphasis.itemStyle"),Jt=m("nodeGroup",t_);if(Jt){if(u.add(Jt),Jt.attr("position",[j.x||0,j.y||0]),Jt.__tmNodeWidth=q,Jt.__tmNodeHeight=K,j.isAboveViewRoot)return Jt;var un=m("background",n_,d,jI);if(un&&function(xn,kn,Wn){kn.dataIndex=a.dataIndex,kn.seriesIndex=e.seriesIndex,kn.setShape({x:0,y:0,width:q,height:K});var Vn=a.getVisual("borderColor",!0),Jn=tn.get("borderColor");h(kn,function(){var zn=i_(gt);zn.fill=Vn;var Di=qg(tn);if(Di.fill=Jn,Wn){var ci=q-2*te;g(zn,Di,Vn,ci,We,{x:te,y:0,width:ci,height:We})}else zn.text=Di.text=null;kn.setStyle(zn),De(kn,Di)}),xn.add(kn)}(Jt,un,qe&&j.upperHeight),!qe){var Mn=m("content",n_,d,qI);Mn&&function(xn,kn){kn.dataIndex=a.dataIndex,kn.seriesIndex=e.seriesIndex;var Wn=Math.max(q-2*te,0),Vn=Math.max(K-2*te,0);kn.culling=!0,kn.setShape({x:te,y:te,width:Wn,height:Vn});var Jn=a.getVisual("color",!0);h(kn,function(){var zn=i_(gt);zn.fill=Jn;var Di=qg(tn);g(zn,Di,Jn,Wn,Vn),kn.setStyle(zn),De(kn,Di)}),xn.add(kn)}(Jt,Mn)}return Jt}}}}function rM(e,t){var n=e*UI+t;return(n-1)/n}function Mf(e,t){var n=e.visual,i=[];Oe(n)?$u(n,function(o){i.push(o)}):null!=n&&i.push(n),t||1!==i.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(i[1]=i[0]),G0(e,i)}function Mc(e){return{applyVisual:function(t,n,i){t=this.mapValueToVisual(t),i("color",e(n("color"),t))},_doMap:Af([0,1])}}function W0(e){var t=this.option.visual;return t[Math.round(Ai(e,[0,1],[0,t.length-1],!0))]||{}}function Tf(e){return function(t,n,i){i(e,this.mapValueToVisual(t))}}function Tc(e){var t=this.option.visual;return t[this.option.loop&&e!==ah?e%t.length:e]}function kf(){return this.option.visual[0]}function Af(e){return{linear:function(t){return Ai(t,e,this.option.visual,!0)},category:Tc,piecewise:function(t,n){var i=If.call(this,n);return null==i&&(i=Ai(t,e,this.option.visual,!0)),i},fixed:kf}}function If(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var i=n[Oi.findPieceIndex(e,n)];if(i&&i.visual)return i.visual[this.type]}}function G0(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=Me(t,function(n){return Vi(n)})),t}function kc(e,t,n){return e?t<=n:t<n}function U0(e,t,n,i,r,o){var a=e.getModel(),s=e.getLayout();if(s&&!s.invisible&&s.isInView){var u,d=e.getModel(Yg),h=function(e,t,n,i){var r=On({},t);return de(["color","colorAlpha","colorSaturation"],function(o){var a=e.get(o,!0);null==a&&n&&(a=n[o]),null==a&&(a=t[o]),null==a&&(a=i.get(o)),null!=a&&(r[o]=a)}),r}(d,t,n[e.depth],i),g=d.get("borderColor"),m=d.get("borderColorSaturation");null!=m&&(g=function(e,t){return null!=t?rn(t,null,null,e):null}(m,u=j0(h))),e.setVisual("borderColor",g);var y=e.viewChildren;if(y&&y.length){var I=function(e,t,n,i,r,o){if(o&&o.length){var a=Nf(t,"color")||null!=r.color&&"none"!==r.color&&(Nf(t,"colorAlpha")||Nf(t,"colorSaturation"));if(a){var s=t.get("visualMin"),u=t.get("visualMax"),d=n.dataExtent.slice();null!=s&&s<d[0]&&(d[0]=s),null!=u&&u>d[1]&&(d[1]=u);var h=t.get("colorMappingBy"),g={type:a.name,dataExtent:d,visual:a.range};"color"!==g.type||"index"!==h&&"id"!==h?g.mappingMethod="linear":(g.mappingMethod="category",g.loop=!0);var m=new Oi(g);return m.__drColorMappingBy=h,m}}}(0,a,s,0,h,y);de(y,function(j,q){(j.depth>=r.length||j===r[j.depth])&&U0(j,function(e,t,n,i,r,o){var a=On({},t);if(r){var s=r.type,u="color"===s&&r.__drColorMappingBy,d="index"===u?i:"id"===u?o.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));a[s]=r.mapValueToVisual(d)}return a}(a,h,j,q,I,o),n,i,r,o)})}else u=j0(h),e.setVisual("color",u)}}function j0(e){var t=Df(e,"color");if(t){var n=Df(e,"colorAlpha"),i=Df(e,"colorSaturation");return i&&(t=rn(t,null,null,i)),n&&(t=Dn(t,n)),t}}function Df(e,t){var n=e[t];if(null!=n&&"none"!==n)return n}function Nf(e,t){var n=e.get(t);return YI(n)&&n.length?{name:t,range:n}:null}function q0(e,t,n,i){var r,o;if(!e.isRemoved()){var a=e.getLayout();r=a.width,o=a.height;var s=(y=e.getModel()).get(s_),u=y.get(XI)/2,d=$0(y),h=Math.max(s,d),g=s-u,m=h-u,y=e.getModel();e.setLayout({borderWidth:s,upperHeight:h,upperLabelHeight:d},!0);var I=(r=Ku(r-2*g,0))*(o=Ku(o-g-m,0)),j=function(e,t,n,i,r,o){var a=e.children||[],s=i.sort;"asc"!==s&&"desc"!==s&&(s=null);var u=null!=i.leafDepth&&i.leafDepth<=o;if(r&&!u)return e.viewChildren=[];!function(e,t){t&&e.sort(function(n,i){var r="asc"===t?n.getValue()-i.getValue():i.getValue()-n.getValue();return 0===r?"asc"===t?n.dataIndex-i.dataIndex:i.dataIndex-n.dataIndex:r})}(a=ft(a,function(y){return!y.isRemoved()}),s);var d=function(e,t,n){for(var i=0,r=0,o=t.length;r<o;r++)i+=t[r].getValue();var a=e.get("visualDimension");if(t&&t.length)if("value"===a&&n)s=[t[t.length-1].getValue(),t[0].getValue()],"asc"===n&&s.reverse();else{var s=[1/0,-1/0];$g(t,function(u){var d=u.getValue(a);d<s[0]&&(s[0]=d),d>s[1]&&(s[1]=d)})}else s=[NaN,NaN];return{sum:i,dataExtent:s}}(t,a,s);if(0===d.sum)return e.viewChildren=[];if(d.sum=function(e,t,n,i,r){if(!i)return n;for(var o=e.get("visibleMin"),a=r.length,s=a,u=a-1;u>=0;u--){var d=r["asc"===i?a-u-1:u].getValue();d/n*t<o&&(s=u,n-=d)}return r.splice("asc"===i?0:s,a-s),n}(t,n,d.sum,s,a),0===d.sum)return e.viewChildren=[];for(var h=0,g=a.length;h<g;h++){var m=a[h].getValue()/d.sum*n;a[h].setLayout({area:m})}return u&&(a.length&&e.setLayout({isLeafRoot:!0},!0),a.length=0),e.viewChildren=a,e.setLayout({dataExtent:d.dataExtent},!0),a}(e,y,I,t,n,i);if(j.length){var q={x:g,y:m,width:r,height:o},K=sh(r,o),te=1/0,ue=[];ue.area=0;for(var be=0,ke=j.length;be<ke;){var Be=j[be];ue.push(Be),ue.area+=Be.getLayout().area;var We=gM(ue,K,t.squareRatio);We<=te?(be++,te=We):(ue.area-=ue.pop().getLayout().area,Z0(ue,K,q,u,!1),K=sh(q.width,q.height),ue.length=ue.area=0,te=1/0)}if(ue.length&&Z0(ue,K,q,u,!0),!n){var qe=y.get("childrenVisibleMin");null!=qe&&I<qe&&(n=!0)}for(be=0,ke=j.length;be<ke;be++)q0(j[be],t,n,i+1)}}}function gM(e,t,n){for(var i,r=0,o=1/0,a=0,s=e.length;a<s;a++)(i=e[a].getLayout().area)&&(i<o&&(o=i),i>r&&(r=i));var u=e.area*e.area,d=t*t*n;return u?Ku(d*r/u,u/(d*o)):1/0}function Z0(e,t,n,i,r){var o=t===n.width?0:1,a=1-o,s=["x","y"],u=["width","height"],d=n[s[o]],h=t?e.area/t:0;(r||h>n[u[a]])&&(h=n[u[a]]);for(var g=0,m=e.length;g<m;g++){var y=e[g],I={},j=h?y.getLayout().area/h:0,q=I[u[a]]=Ku(h-2*i,0),K=n[s[o]]+n[u[o]]-d,te=g===m-1||K<j?K:j,ue=I[u[o]]=Ku(te-2*i,0);I[s[a]]=n[s[a]]+sh(i,q/2),I[s[o]]=d+sh(i,ue/2),d+=te,y.setLayout(I,!0)}n[s[a]]+=h,n[u[a]]-=h}function Y0(e,t,n,i,r){var o=e.getLayout(),a=n[r],s=a&&a===e;if(!(a&&!s||r===n.length&&e!==i)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(o),isAboveViewRoot:s},!0);var u=new li(t.x-o.x,t.y-o.y,t.width,t.height);$g(e.viewChildren||[],function(d){Y0(d,u,n,i,r+1)})}}function $0(e){return e.get(KI)?e.get(JI):0}function xl(e){return"_EC_"+e}function No(e,t){this.id=null==e?"":e,this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=null==t?-1:t}function yu(e,t,n){this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}function Pf(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}function X0(e){return"_"+e+"Type"}function K0(e,t,n){var i=t.getItemVisual(n,"color"),r=t.getItemVisual(n,e),o=t.getItemVisual(n,e+"Size");if(r&&"none"!==r){me(o)||(o=[o,o]);var a=ao(r,-o[0]/2,-o[1]/2,o[0],o[1],i);return a.name=e,a}}function Lf(e,t){var n=t[0],i=t[1],r=t[2];e.x1=n[0],e.y1=n[1],e.x2=i[0],e.y2=i[1],e.percent=1,r?(e.cpx1=r[0],e.cpy1=r[1]):(e.cpx1=NaN,e.cpy1=NaN)}function xu(e,t,n){Un.call(this),this._createLine(e,t,n)}function Ac(e){this._ctor=e||xu,this.group=new Un}function J0(e){var t=e.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),hoverLineStyle:t.getModel("emphasis.lineStyle").getLineStyle(),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label")}}function Q0(e){return isNaN(e[0])||isNaN(e[1])}function Ef(e){return!Q0(e[0])&&!Q0(e[1])}function ey(e,t,n){for(var i,r=e[0],o=e[1],a=e[2],s=1/0,u=n*n,d=.1,h=.1;h<=.9;h+=.1)Jg[0]=Zl(r[0],o[0],a[0],h),Jg[1]=Zl(r[1],o[1],a[1],h),(y=d_(tm(Jg,t)-u))<s&&(s=y,i=h);for(var g=0;g<32;g++){var m=i+d;Qg[0]=Zl(r[0],o[0],a[0],i),Qg[1]=Zl(r[1],o[1],a[1],i),em[0]=Zl(r[0],o[0],a[0],m),em[1]=Zl(r[1],o[1],a[1],m);var y=tm(Qg,t)-u;if(d_(y)<.01)break;var I=tm(em,t)-u;d/=2,y<0?I>=0?i+=d:i-=d:I>=0?i-=d:i+=d}return i}function ty(e,t){return e.getVisual("opacity")||e.getModel().get(t)}function Ic(e,t,n){var i=e.getGraphicEl(),r=ty(e,t);null!=n&&(null==r&&(r=1),r*=n),i.downplay&&i.downplay(),i.traverse(function(o){"group"!==o.type&&o.setStyle("opacity",r)})}function Is(e,t){var n=ty(e,t),i=e.getGraphicEl();i.highlight&&i.highlight(),i.traverse(function(r){"group"!==r.type&&r.setStyle("opacity",n)})}function Dc(e){return e instanceof Array||(e=[e,e]),e}function ny(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode(function(i){var r=i.getModel();i.setLayout([+r.get("x"),+r.get("y")])}),iy(n)}}function iy(e){e.eachEdge(function(t){var n=t.getModel().get("lineStyle.curveness")||0,i=Ht(t.node1.getLayout()),r=Ht(t.node2.getLayout()),o=[i,r];+n&&o.push([(i[0]+r[0])/2-(i[1]-r[1])*n,(i[1]+r[1])/2-(r[0]-i[0])*n]),t.setLayout(o)})}function ry(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=t.getBoundingRect(),i=e.getData(),r=i.graph,o=0,a=i.getSum("value"),s=2*Math.PI/(a||i.count()),u=n.width/2+n.x,d=n.height/2+n.y,h=Math.min(n.width,n.height)/2;r.eachNode(function(g){var m=g.getValue("value");o+=s*(a?m:1)/2,g.setLayout([h*Math.cos(o)+u,h*Math.sin(o)+d]),o+=s*(a?m:1)/2}),i.setLayout({cx:u,cy:d}),r.eachEdge(function(g){var m,y=g.getModel().get("lineStyle.curveness")||0,I=Ht(g.node1.getLayout()),j=Ht(g.node2.getLayout());+y&&(m=[u*(y*=3)+(I[0]+j[0])/2*(1-y),d*y+(I[1]+j[1])/2*(1-y)]),g.setLayout([I,j,m])})}}function oy(e,t){return t&&("string"==typeof t?e=t.replace("{value}",null!=e?e:""):"function"==typeof t&&(e=t(e))),e}function Rf(e,t){function n(){o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore}function i(){o.ignore=o.normalIgnore,a.ignore=a.normalIgnore}Un.call(this);var r=new wo,o=new ra,a=new Si;this.add(r),this.add(o),this.add(a),this.updateData(e,t,!0),this.on("emphasis",n).on("normal",i).on("mouseover",n).on("mouseout",i)}function Bf(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function Nc(e,t){return Math.min(t[1],Math.max(t[0],e))}function Of(e,t,n){this._axesMap=st(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}function Pc(e,t){return p_(g_(e,t[0]),t[1])}function IM(e,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*e,axisNameAvailableWidth:n,axisLabelShow:!0}}function DM(e,t){var n,i,o=t.axisExpandWidth,s=t.axisCollapseWidth,u=t.winInnerIndices,d=s,h=!1;return e<u[0]?(n=e*s,i=s):e<=u[1]?(n=t.axisExpandWindow0Pos+e*o-t.axisExpandWindow[0],d=o,h=!0):(n=t.layoutLength-(t.axisCount-1-e)*s,i=s),{position:n,axisNameAvailableWidth:d,axisLabelShow:h,nameTruncateMaxWidth:i}}function bl(e){_r.call(this),this._zr=e,this.group=new Un,this._track=[],this._covers=[],this._uid="brushController_"+pD++,this._handlers={},da(gD,function(t,n){this._handlers[n]=ot(t,this)},this)}function ay(e,t){var n=ch[t.brushType].createCover(e,t);return n.__brushOption=t,uy(n,t),e.group.add(n),n}function sy(e,t){var n=Ff(t);return n.endCreating&&(n.endCreating(e,t),uy(t,t.__brushOption)),t}function ly(e,t){var n=t.__brushOption;Ff(t).updateCoverShape(e,t,n.range,n)}function uy(e,t){var n=t.z;null==n&&(n=uD),e.traverse(function(i){i.z=n,i.z2=n})}function zf(e,t){Ff(t).updateCommon(e,t),ly(e,t)}function Ff(e){return ch[e.__brushOption.brushType]}function Vf(e,t,n){var i=e._panels;if(!i)return!0;var r,o=e._transform;return da(i,function(a){a.isTargetByCursor(t,n,o)&&(r=a)}),r}function cy(e,t){var n=e._panels;if(!n)return!0;var i=t.__brushOption.panelId;return null==i||n[i]}function Hf(e){var t=e._covers,n=t.length;return da(t,function(i){e.group.remove(i)},e),t.length=0,!!n}function Ds(e,t){var n=sD(e._covers,function(i){var r=i.__brushOption,o=hn(r.range);return{brushType:r.brushType,panelId:r.panelId,range:o}});e.trigger("brush",n,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function dy(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function hy(e,t,n,i){var r=new Un;return r.add(new Gi({name:"main",style:Gf(n),silent:!0,draggable:!0,cursor:"move",drift:hs(e,t,r,"nswe"),ondragend:hs(Ds,t,{isEnd:!0})})),da(i,function(o){r.add(new Gi({name:o,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:hs(e,t,r,o),ondragend:hs(Ds,t,{isEnd:!0})}))}),r}function fy(e,t,n,i){var r=i.brushStyle.lineWidth||0,o=Xl(r,dD),a=n[0][0],s=n[1][0],u=a-r/2,d=s-r/2,h=n[0][1],g=n[1][1],m=h-o+r/2,y=g-o+r/2,I=h-a,j=g-s,q=I+r,K=j+r;Aa(e,t,"main",a,s,I,j),i.transformable&&(Aa(e,t,"w",u,d,o,K),Aa(e,t,"e",m,d,o,K),Aa(e,t,"n",u,d,q,o),Aa(e,t,"s",u,y,q,o),Aa(e,t,"nw",u,d,o,o),Aa(e,t,"ne",m,d,o,o),Aa(e,t,"sw",u,y,o,o),Aa(e,t,"se",m,y,o,o))}function Wf(e,t){var n=t.__brushOption,i=n.transformable,r=t.childAt(0);r.useStyle(Gf(n)),r.attr({silent:!i,cursor:i?"move":"default"}),da(["w","e","n","s","se","sw","ne","nw"],function(o){var a=t.childOfName(o),s=Uf(e,o);a&&a.attr({silent:!i,invisible:!i,cursor:i?fD[s]+"-resize":null})})}function Aa(e,t,n,i,r,o,a){var s=t.childOfName(n);s&&s.setShape(function(e){var t=ec(e[0][0],e[1][0]),n=ec(e[0][1],e[1][1]);return{x:t,y:n,width:Xl(e[0][0],e[1][0])-t,height:Xl(e[0][1],e[1][1])-n}}(jf(e,t,[[i,r],[i+o,r+a]])))}function Gf(e){return At({strokeNoScale:!0},e.brushStyle)}function py(e,t,n,i){var r=[ec(e,n),ec(t,i)],o=[Xl(e,n),Xl(t,i)];return[[r[0],o[0]],[r[1],o[1]]]}function Uf(e,t){if(t.length>1)return("e"===(i=[Uf(e,(t=t.split(""))[0]),Uf(e,t[1])])[0]||"w"===i[0])&&i.reverse(),i.join("");var i=ji({w:"left",e:"right",n:"top",s:"bottom"}[t],function(e){return mi(e.group)}(e));return{left:"w",right:"e",top:"n",bottom:"s"}[i]}function gy(e,t,n,i,r,o,a,s){var u=i.__brushOption,d=e(u.range),h=my(n,o,a);da(r.split(""),function(g){var m=hD[g];d[m[0]][m[1]]+=h[m[0]]}),u.range=t(py(d[0][0],d[1][0],d[0][1],d[1][1])),zf(n,i),Ds(n,{isEnd:!1})}function RM(e,t,n,i,r){var o=t.__brushOption.range,a=my(e,n,i);da(o,function(s){s[0]+=a[0],s[1]+=a[1]}),zf(e,t),Ds(e,{isEnd:!1})}function my(e,t,n){var i=e.group,r=i.transformCoordToLocal(t,n),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function jf(e,t,n){var i=cy(e,t);return i&&!0!==i?i.clipPath(n,e._transform):hn(n)}function qf(e){var t=e.event;t.preventDefault&&t.preventDefault()}function Zf(e,t,n){return e.childOfName("main").contain(t,n)}function vy(e,t,n,i){var r,o=e._creatingCover,a=e._creatingPanel,s=e._brushOption;if(e._track.push(n.slice()),function(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],i=t[0],r=n[0]-i[0],o=n[1]-i[1];return lD(r*r+o*o,.5)>cD}(e)||o){if(a&&!o){"single"===s.brushMode&&Hf(e);var u=hn(s);u.brushType=yy(u.brushType,a),u.panelId=!0===a?null:a.panelId,o=e._creatingCover=ay(e,u),e._covers.push(o)}if(o){var d=ch[yy(e._brushType,a)];o.__brushOption.range=d.getCreatingRange(jf(e,o,e._track)),i&&(sy(e,o),d.updateCommon(e,o)),ly(e,o),r={isEnd:i}}}else i&&"single"===s.brushMode&&s.removeOnClick&&Vf(e,t,n)&&Hf(e)&&(r={isEnd:i,removeOnClick:!0});return r}function yy(e,t){return"auto"===e?t.defaultBrushType:e}function xy(e){if(this._dragging){qf(e);var t=vy(this,e,this.group.transformCoordToLocal(e.offsetX,e.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,t&&Ds(this,t)}}function by(e){return{createCover:function(t,n){return hy(hs(gy,function(i){var r=[i,[0,100]];return e&&r.reverse(),r},function(i){return i[e]}),t,n,[["w","e"],["n","s"]][e])},getCreatingRange:function(t){var n=dy(t);return[ec(n[0][e],n[1][e]),Xl(n[0][e],n[1][e])]},updateCoverShape:function(t,n,i,r){var o,a=cy(t,n);if(!0!==a&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(e,t._transform);else{var s=t._zr;o=[0,[s.getWidth(),s.getHeight()][1-e]]}var u=[i,o];e&&u.reverse(),fy(t,n,u,r)},updateCommon:Wf,contain:Zf}}function _y(e){return e=Yf(e),function(t,n){return Fi(t,e)}}function wy(e,t){return e=Yf(e),function(n){var i=null!=t?t:n,o=i?e.x:e.y;return[o,o+((i?e.width:e.height)||0)]}}function Cy(e,t,n){return e=Yf(e),function(i,r,o){return e.contain(r[0],r[1])&&!mf(i,t,n)}}function Yf(e){return li.create(e)}function $f(e,t){var n=e._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}function Sy(e,t,n,i){for(var r=[],o=0;o<n.length;o++){var a=n[o],s=e.get(e.mapDimension(a),t);qM(s,i.getAxis(a).type)||r.push(i.dataToPoint(s,a))}return r}function qM(e,t){return"category"===t?null==e:null==e||isNaN(e)}function Xf(){function e(r,o){if(o>=n.length)return r;for(var a=-1,s=r.length,u=n[o++],d={},h={};++a<s;){var g=u(r[a]),m=h[g];m?m.push(r[a]):h[g]=[r[a]]}return de(h,function(y,I){d[I]=e(y,o)}),d}function t(r,o){if(o>=n.length)return r;var a=[],s=i[o++];return de(r,function(u,d){a.push({key:d,values:t(u,o)})}),s?a.sort(function(u,d){return s(u.key,d.key)}):a}var n=[],i=[];return{key:function(r){return n.push(r),this},sortKeys:function(r){return i[n.length-1]=r,this},entries:function(r){return t(e(r,0),0)}}}function Kf(e,t,n){de(e,function(i){var r,o,a,s=0,u=i.length;for(i.sort(u2),a=0;a<u;a++)(o=s-(r=i[a]).getLayout().y)>0&&(d=r.getLayout().y+o,r.setLayout({y:d},!0)),s=r.getLayout().y+r.getLayout().dy+t;if((o=s-t-n)>0){var d=r.getLayout().y-o;for(r.setLayout({y:d},!0),s=r.getLayout().y,a=u-2;a>=0;--a)(o=(r=i[a]).getLayout().y+r.getLayout().dy+t-s)>0&&(d=r.getLayout().y-o,r.setLayout({y:d},!0)),s=r.getLayout().y}})}function n2(e,t){de(e.slice().reverse(),function(n){de(n,function(i){if(i.outEdges.length){var r=_l(i.outEdges,i2)/_l(i.outEdges,Ec),o=i.getLayout().y+(r-Lc(i))*t;i.setLayout({y:o},!0)}})})}function i2(e){return Lc(e.node2)*e.getValue()}function r2(e,t){de(e,function(n){de(n,function(i){if(i.inEdges.length){var r=_l(i.inEdges,o2)/_l(i.inEdges,Ec),o=i.getLayout().y+(r-Lc(i))*t;i.setLayout({y:o},!0)}})})}function o2(e){return Lc(e.node1)*e.getValue()}function s2(e,t){return e.node2.getLayout().y-t.node2.getLayout().y}function l2(e,t){return e.node1.getLayout().y-t.node1.getLayout().y}function _l(e,t){for(var n=0,i=e.length,r=-1;++r<i;){var o=+t.call(e,e[r],r);isNaN(o)||(n+=o)}return n}function Lc(e){return e.getLayout().y+e.getLayout().dy/2}function u2(e,t){return e.getLayout().y-t.getLayout().y}function c2(e,t){return e<t?-1:e>t?1:e===t?0:NaN}function Ec(e){return e.getValue()}function Rc(e,t,n,i){Un.call(this),this.styleUpdater=n,this._createContent(e,t,i),this.updateData(e,t,i)}function My(e,t,n){return Me(e,function(i){return(i=i.slice())[t]=n.initBaseline,i})}function Ty(e){var t={};return de(e,function(n,i){t["ends"+i]=n}),t}function ky(e){this.group=new Un,this.styleUpdater=e}function d2(e,t,n){var i=t.getItemModel(n),r=i.getModel(CD),o=t.getItemVisual(n,"color"),a=r.getItemStyle(["borderColor"]),s=e.childAt(e.whiskerIndex);s.style.set(a),s.style.stroke=o,s.dirty();var u=e.childAt(e.bodyIndex);u.style.set(a),u.style.stroke=o,u.dirty(),De(e,i.getModel(SD).getItemStyle())}function g2(e,t,n){var i=t.getItemModel(n),r=i.getModel(MD),o=t.getItemVisual(n,"color"),a=t.getItemVisual(n,"borderColor")||o,s=r.getItemStyle(["color","color0","borderColor","borderColor0"]),u=e.childAt(e.whiskerIndex);u.useStyle(s),u.style.stroke=a;var d=e.childAt(e.bodyIndex);d.useStyle(s),d.style.fill=o,d.style.stroke=a,De(e,i.getModel(TD).getItemStyle())}function Ay(e,t){e.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?t.color:null,fill:"fill"===t.brushType?t.color:null}})})}function Jf(e,t){Un.call(this);var n=new gl(e,t),i=new Un;this.add(n),this.add(i),i.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(e,t)}function Iy(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=Me(t,function(n){var i={coords:[n[0].coord,n[1].coord]};return n[0].name&&(i.fromName=n[0].name),n[1].name&&(i.toName=n[1].name),sr([i,n[0],n[1]])}))}function bu(e,t,n){Un.call(this),this.add(this.createLine(e,t,n)),this._updateEffectSymbol(e,t)}function Bc(e,t,n){Un.call(this),this._createPolyline(e,t,n)}function Qf(e,t,n){bu.call(this,e,t,n),this._lastFrame=0,this._lastFramePercent=0}function Dy(){this.group=new Un}function Oc(e){return e instanceof Array||(e=[e,e]),e}function Ny(){var e=kl();this.canvas=e,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}function Py(e,t,n,i){var r=e.getItemLayout(t),o=n.get("symbolRepeat"),a=n.get("symbolClip"),s=n.get("symbolPosition")||"start",u=(n.get("symbolRotate")||0)*Math.PI/180||0,d=n.get("symbolPatternSize")||2,h=n.isAnimationEnabled(),g={dataIndex:t,layout:r,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",color:e.getItemVisual(t,"color"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:d,rotation:u,animationModel:h?n:null,hoverAnimation:h&&n.get("hoverAnimation"),z2:n.getShallow("z",!0)||0};(function(e,t,n,i,r){var o,a=i.valueDim,s=e.get("symbolBoundingData"),u=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),d=u.toGlobalCoord(u.dataToCoord(0)),h=1-+(n[a.wh]<=0);if(me(s)){var g=[ep(u,s[0])-d,ep(u,s[1])-d];g[1]<g[0]&&g.reverse(),o=g[h]}else o=null!=s?ep(u,s)-d:t?i.coordSysExtent[a.index][h]-d:n[a.wh];r.boundingLength=o,t&&(r.repeatCutLength=n[a.wh]),r.pxSign=o>0?1:o<0?-1:0})(n,o,r,i,g),function(e,t,n,i,r,o,a,s,u,d){var h=u.valueDim,g=u.categoryDim,m=Math.abs(n[g.wh]),y=e.getItemVisual(t,"symbolSize");me(y)?y=y.slice():(null==y&&(y="100%"),y=[y,y]),y[g.index]=vn(y[g.index],m),y[h.index]=vn(y[h.index],i?m:Math.abs(o)),d.symbolSize=y,(d.symbolScale=[y[0]/s,y[1]/s])[h.index]*=(u.isHorizontal?-1:1)*a}(e,t,r,o,0,g.boundingLength,g.pxSign,d,i,g),function(e,t,n,i,r){var o=e.get(RD)||0;o&&(rm.attr({scale:t.slice(),rotation:n}),rm.updateTransform(),o/=rm.getLineScale(),o*=t[i.valueDim.index]),r.valueLineWidth=o}(n,g.symbolScale,u,i,g);var m=g.symbolSize,y=n.get("symbolOffset");return me(y)&&(y=[vn(y[0],m[0]),vn(y[1],m[1])]),function(e,t,n,i,r,o,a,s,u,d,h,g){var m=h.categoryDim,y=h.valueDim,I=g.pxSign,j=Math.max(t[y.index]+s,0),q=j;if(i){var K=Math.abs(u),te=Ft(e.get("symbolMargin"),"15%")+"",ue=!1;te.lastIndexOf("!")===te.length-1&&(ue=!0,te=te.slice(0,te.length-1)),te=vn(te,t[y.index]);var be=Math.max(j+2*te,0),ke=ue?0:2*te,Be=Ym(i),We=Be?i:Gy((K+ke)/be);be=j+2*(te=(K-We*j)/2/(ue?We:We-1)),ke=ue?0:2*te,Be||"fixed"===i||(We=d?Gy((Math.abs(d)+ke)/be):0),q=We*be-ke,g.repeatTimes=We,g.symbolMargin=te}var qe=I*(q/2),gt=g.pathPosition=[];gt[m.index]=n[m.wh]/2,gt[y.index]="start"===a?qe:"end"===a?u-qe:u/2,o&&(gt[0]+=o[0],gt[1]+=o[1]);var tn=g.bundlePosition=[];tn[m.index]=n[m.xy],tn[y.index]=n[y.xy];var Jt=g.barRectShape=On({},n);Jt[y.wh]=I*Math.max(Math.abs(n[y.wh]),Math.abs(gt[y.index]+qe)),Jt[m.wh]=n[m.wh];var un=g.clipShape={};un[m.xy]=-n[m.xy],un[m.wh]=h.ecSize[m.wh],un[y.xy]=0,un[y.wh]=n[y.wh]}(n,m,r,o,0,y,s,g.valueLineWidth,g.boundingLength,g.repeatCutLength,i,g),g}function ep(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function Ly(e){var t=e.symbolPatternSize,n=ao(e.symbolType,-t/2,-t/2,t,t,e.color);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function Ey(e,t,n,i){function r(j){var q=u.slice(),K=n.pxSign,te=j;return("start"===n.symbolRepeatDirection?K>0:K<0)&&(te=h-1-j),q[d.index]=m*(te-h/2+.5)+u[d.index],{position:q,scale:n.symbolScale.slice(),rotation:n.rotation}}var o=e.__pictorialBundle,u=n.pathPosition,d=t.valueDim,h=n.repeatTimes||0,g=0,m=n.symbolSize[t.valueDim.index]+n.valueLineWidth+2*n.symbolMargin;for(_u(e,function(j){j.__pictorialAnimationIndex=g,j.__pictorialRepeatTimes=h,g<h?wl(j,null,r(g),n,i):wl(j,null,{scale:[0,0]},n,i,function(){o.remove(j)}),tp(j,n),g++});g<h;g++){var y=Ly(n);y.__pictorialAnimationIndex=g,y.__pictorialRepeatTimes=h,o.add(y);var I=r(g);wl(y,{position:I.position,scale:[0,0]},{scale:I.scale,rotation:I.rotation},n,i),y.on("mouseover",function(){_u(e,function(j){j.trigger("emphasis")})}).on("mouseout",function(){_u(e,function(j){j.trigger("normal")})}),tp(y,n)}}function Ry(e,t,n,i){var r=e.__pictorialBundle,o=e.__pictorialMainPath;o?wl(o,null,{position:n.pathPosition.slice(),scale:n.symbolScale.slice(),rotation:n.rotation},n,i):(o=e.__pictorialMainPath=Ly(n),r.add(o),wl(o,{position:n.pathPosition.slice(),scale:[0,0],rotation:n.rotation},{scale:n.symbolScale.slice()},n,i),o.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")})),tp(o,n)}function By(e,t,n){var i=On({},t.barRectShape),r=e.__pictorialBarRect;r?wl(r,null,{shape:i},t,n):(r=e.__pictorialBarRect=new Gi({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),e.add(r))}function Oy(e,t,n,i){if(n.symbolClip){var r=e.__pictorialClipPath,o=On({},n.clipShape),a=t.valueDim,s=n.animationModel,u=n.dataIndex;if(r)pn(r,{shape:o},s,u);else{o[a.wh]=0,r=new Gi({shape:o}),e.__pictorialBundle.setClipPath(r),e.__pictorialClipPath=r;var d={};d[a.wh]=n.clipShape[a.wh],Lo[i?"updateProps":"initProps"](r,{shape:d},s,u)}}}function zy(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=M2,n.isAnimationEnabled=T2,n}function M2(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function T2(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function tp(e,t){e.off("emphasis").off("normal");var n=t.symbolScale.slice();t.hoverAnimation&&e.on("emphasis",function(){this.animateTo({scale:[1.1*n[0],1.1*n[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:n.slice()},400,"elasticOut")})}function Fy(e,t,n,i){var r=new Un,o=new Un;return r.add(o),r.__pictorialBundle=o,o.attr("position",n.bundlePosition.slice()),n.symbolRepeat?Ey(r,t,n):Ry(r,0,n),By(r,n,i),Oy(r,t,n,i),r.__pictorialShapeStr=Hy(e,n),r.__pictorialSymbolMeta=n,r}function Vy(e,t,n,i){var r=i.__pictorialBarRect;r&&(r.style.text=null);var o=[];_u(i,function(a){o.push(a)}),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),de(o,function(a){pn(a,{scale:[0,0]},n,t,function(){i.parent&&i.parent.remove(i)})}),e.setItemGraphicEl(t,null)}function Hy(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function _u(e,t,n){de(e.__pictorialBundle.children(),function(i){i!==e.__pictorialBarRect&&t.call(n,i)})}function wl(e,t,n,i,r,o){t&&e.attr(t),i.symbolClip&&!r?n&&e.attr(n):n&&Lo[r?"updateProps":"initProps"](e,n,i.animationModel,i.dataIndex,o)}function Wy(e,t,n){var i=n.color,r=n.dataIndex,o=n.itemModel,a=o.getModel("itemStyle").getItemStyle(["color"]),s=o.getModel("emphasis.itemStyle").getItemStyle(),u=o.getShallow("cursor");_u(e,function(m){m.setColor(i),m.setStyle(At({fill:i,opacity:n.opacity},a)),De(m,s),u&&(m.cursor=u),m.z2=n.z2});var d={},g=e.__pictorialBarRect;h0(g.style,d,o,i,t.seriesModel,r),De(g,d)}function Gy(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}function zc(e,t,n){this.dimension="single",this.dimensions=["single"],this._axis=null,this._init(e,t,n),this.model=e}function np(e,t){t=t||{};var i=e.axis,r={},o=i.position,a=i.orient,s=e.coordinateSystem.getRect(),u=[s.x,s.x+s.width,s.y,s.y+s.height],d={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};r.position=["vertical"===a?d.vertical[o]:u[0],"horizontal"===a?d.horizontal[o]:u[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],e.get("axisTick.inside")&&(r.tickDirection=-r.tickDirection),Ft(t.labelInside,e.get("axisLabel.inside"))&&(r.labelDirection=-r.labelDirection);var m=t.rotate;return null==m&&(m=e.get("axisLabel.rotate")),r.labelRotation="top"===o?-m:m,r.labelInterval=i.getLabelInterval(),r.z2=1,r}function Uy(e,t,n,i,r){var o=e.axis;if(!o.scale.isBlank()&&o.containData(t))if(e.involveSeries){var a=function(e,t){var n=t.axis,i=n.dim,r=e,o=[],a=Number.MAX_VALUE,s=-1;return ha(t.seriesModels,function(u,d){var h,g,m=u.getData().mapDimension(i,!0);if(u.getAxisTooltipData){var y=u.getAxisTooltipData(m,e,n);g=y.dataIndices,h=y.nestestValue}else{if(!(g=u.getData().indicesOfNearest(m[0],e,!1,"category"===n.type?.5:null)).length)return;h=u.getData().get(m[0],g[0])}if(null!=h&&isFinite(h)){var I=e-h,j=Math.abs(I);j<=a&&((j<a||I>=0&&s<0)&&(a=j,s=I,r=h,o.length=0),ha(g,function(q){o.push({seriesIndex:u.seriesIndex,dataIndexInside:q,dataIndex:u.getData().getRawIndex(q)})}))}}),{payloadBatch:o,snapToValue:r}}(t,e),s=a.payloadBatch,u=a.snapToValue;s[0]&&null==r.seriesIndex&&On(r,s[0]),!i&&e.snap&&o.containData(u)&&null!=u&&(t=u),n.showPointer(e,t,s,r),n.showTooltip(e,a,u)}else n.showPointer(e,t)}function I2(e,t,n,i){e[t.key]={value:n,payloadBatch:i}}function D2(e,t,n,i){var r=n.payloadBatch,o=t.axis,a=o.model,s=t.axisPointerModel;if(t.triggerTooltip&&r.length){var u=t.coordSys.model,d=fu(u),h=e.map[d];h||(h=e.map[d]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},e.list.push(h)),h.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:s.get("label.precision"),formatter:s.get("label.formatter")},seriesDataIndices:r.slice()})}}function jy(e){var t=e.axis.model,n={},i=n.axisDim=e.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=t.componentIndex,n.axisName=n[i+"AxisName"]=t.name,n.axisId=n[i+"AxisId"]=t.id,n}function Fc(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}function qy(e,t,n){if(!Ci.node){var i=t.getZr();Ea(i).records||(Ea(i).records={}),function(e,t){function n(i,r){e.on(i,function(o){var a=function(e){var t={showTip:[],hideTip:[]},n=function(i){var r=t[i.type];r?r.push(i):(i.dispatchAction=n,e.dispatchAction(i))};return{dispatchAction:n,pendings:t}}(t);HD(Ea(e).records,function(s){s&&r(s,o,a.dispatchAction)}),function(e,t){var n,i=e.showTip.length,r=e.hideTip.length;i?n=e.showTip[i-1]:r&&(n=e.hideTip[r-1]),n&&(n.dispatchAction=null,t.dispatchAction(n))}(a.pendings,t)})}Ea(e).initialized||(Ea(e).initialized=!0,n("click",Ne(Zy,"click")),n("mousemove",Ne(Zy,"mousemove")),n("globalout",O2))}(i,t),(Ea(i).records[e]||(Ea(i).records[e]={})).handler=n}}function O2(e,t,n){e.handler("leave",null,n)}function Zy(e,t,n,i){t.handler(e,n,i)}function ip(e,t){if(!Ci.node){var n=t.getZr();(Ea(n).records||{})[e]&&(Ea(n).records[e]=null)}}function Cl(){}function Yy(e,t,n,i){$y(el(n).lastProp,i)||(el(n).lastProp=i,t?pn(n,i,e):(n.stopAnimation(),n.attr(i)))}function $y(e,t){if(Oe(e)&&Oe(t)){var n=!0;return de(t,function(i,r){n=n&&$y(e[r],i)}),!!n}return e===t}function Xy(e,t){e[t.get("label.show")?"show":"hide"]()}function rp(e){return{position:e.position.slice(),rotation:e.rotation||0}}function Ky(e,t,n){var i=t.get("z"),r=t.get("zlevel");e&&e.traverse(function(o){"group"!==o.type&&(null!=i&&(o.z=i),null!=r&&(o.zlevel=r),o.silent=n)})}function op(e){var t,n=e.get("type"),i=e.getModel(n+"Style");return"line"===n?(t=i.getLineStyle()).fill=null:"shadow"===n&&((t=i.getAreaStyle()).stroke=null),t}function Jy(e,t,n,i,r){var o=Qy(n.get("value"),t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),a=n.getModel("label"),s=Vs(a.get("padding")||0),u=a.getFont(),d=qr(o,u),h=r.position,g=d.width+s[1]+s[3],m=d.height+s[0]+s[2],y=r.align;"right"===y&&(h[0]-=g),"center"===y&&(h[0]-=g/2);var I=r.verticalAlign;"bottom"===I&&(h[1]-=m),"middle"===I&&(h[1]-=m/2),function(e,t,n,i){var r=i.getWidth(),o=i.getHeight();e[0]=Math.min(e[0]+t,r)-t,e[1]=Math.min(e[1]+n,o)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}(h,g,m,i);var j=a.get("backgroundColor");j&&"auto"!==j||(j=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:g,height:m,r:a.get("borderRadius")},position:h.slice(),style:{text:o,textFont:u,textFill:a.getTextColor(),textPosition:"inside",fill:j,stroke:a.get("borderColor")||"transparent",lineWidth:a.get("borderWidth")||0,shadowBlur:a.get("shadowBlur"),shadowColor:a.get("shadowColor"),shadowOffsetX:a.get("shadowOffsetX"),shadowOffsetY:a.get("shadowOffsetY")},z2:10}}function Qy(e,t,n,i,r){var o=t.scale.getLabel(e,{precision:r.precision}),a=r.formatter;if(a){var s={value:rf(t,e),seriesData:[]};de(i,function(u){var d=n.getSeriesByIndex(u.seriesIndex),g=d&&d.getDataParams(u.dataIndexInside);g&&s.seriesData.push(g)}),ze(a)?o=a.replace("{value}",o):at(a)&&(o=a(s))}return o}function ap(e,t,n){var i=ri();return Tn(i,i,n.rotation),an(i,i,n.position),pi([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function e1(e,t,n,i,r,o){var a=Or.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get("label.margin"),Jy(t,i,r,o,{position:ap(i.axis,e,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function sp(e,t,n){return{x1:e[n=n||0],y1:e[1-n],x2:t[n],y2:t[1-n]}}function t1(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}function n1(e,t,n,i,r,o){return{cx:e,cy:t,r0:n,r:i,startAngle:r,endAngle:o,clockwise:!0}}function i1(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}function r1(e){return"x"===e.dim?0:1}function Vc(e){return e.isHorizontal()?0:1}function lp(e,t){var n=e.getRect();return[n[F_[t]],n[F_[t]]+n[UD[t]]]}function o1(e,t,n){if(e.count())for(var i,r=t.coordinateSystem,o=t.getLayerSeries(),a=e.mapDimension("single"),s=e.mapDimension("value"),u=Me(o,function(q){return Me(q.indices,function(K){var te=r.dataToPoint(e.get(a,K));return te[1]=e.get(s,K),te})}),d=function(e){for(var t=e.length,n=e[0].length,i=[],r=[],o=0,a={},s=0;s<n;++s){for(var u=0,d=0;u<t;++u)d+=e[u][s][1];d>o&&(o=d),i.push(d)}for(var h=0;h<n;++h)r[h]=(o-i[h])/2;o=0;for(var g=0;g<n;++g){var m=i[g]+r[g];m>o&&(o=m)}return a.y0=r,a.max=o,a}(u),h=d.y0,g=n/d.max,m=o.length,y=o[0].indices.length,I=0;I<y;++I){e.setItemLayout(o[0].indices[I],{layerIndex:0,x:u[0][I][0],y0:i=h[I]*g,y:u[0][I][1]*g});for(var j=1;j<m;++j)e.setItemLayout(o[j].indices[I],{layerIndex:j,x:u[j][I][0],y0:i+=u[j-1][I][1]*g,y:u[j][I][1]*g})}}function a1(e){var t=0;de(e.children,function(i){a1(i);var r=i.value;me(r)&&(r=r[0]),t+=r});var n=e.value;me(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),me(e.value)?e.value[0]=n:e.value=n}function Hc(e,t,n){function i(){a.ignore=a.hoverIgnore}function r(){a.ignore=a.normalIgnore}Un.call(this);var o=new Na({z2:YD}),a=new Si({z2:$D,silent:e.getModel("label").get("silent")});this.add(o),this.add(a),this.updateData(!0,e,"normal",t,n),this.on("emphasis",i).on("normal",r).on("mouseover",i).on("mouseout",r)}function s1(e,t){var n=e.children||[];e.children=function(e,t){if("function"==typeof t)return e.sort(t);var n="asc"===t;return e.sort(function(i,r){var o=(i.getValue()-r.getValue())*(n?1:-1);return 0===o?(i.dataIndex-r.dataIndex)*(n?-1:1):o})}(n,t),n.length&&de(e.children,function(i){s1(i,t)})}function q2(e,t){return t=t||[0,0],Me(["x","y"],function(n,i){var r=this.getAxis(n),o=t[i],a=e[i]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))},this)}function Z2(e,t){return t=t||[0,0],Me([0,1],function(n){var i=t[n],r=e[n]/2,o=[],a=[];return o[n]=i-r,a[n]=i+r,o[1-n]=a[1-n]=t[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(a)[n])},this)}function Y2(e,t){var n=this.getAxis(),i=t instanceof Array?t[0]:t,r=(e instanceof Array?e[0]:e)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-r)-n.dataToCoord(i+r))}function $2(e,t){return Me(["Radius","Angle"],function(n,i){var r=this["get"+n+"Axis"](),o=t[i],a=e[i]/2,s="dataTo"+n,u="category"===r.type?r.getBandWidth():Math.abs(r[s](o-a)-r[s](o+a));return"Angle"===n&&(u=u*Math.PI/180),u},this)}function l1(e,t,n,i,r){null==n[e]||r||(t[e]=n[e],n[e]=i[e])}function u1(e,t,n,i){function r(q){null==q&&(q=u),j&&(d=t.getItemModel(q),h=d.getModel(JD),g=d.getModel(QD),m=t.getItemVisual(q,"color"),j=!1)}var o=e.get("renderItem"),a=e.coordinateSystem,s={};a&&(s=a.prepareCustoms?a.prepareCustoms():tN[a.type](a));var u,d,h,g,m,y=At({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(q,K){return null==K&&(K=u),t.get(t.getDimension(q||0),K)},style:function(q,K){null==K&&(K=u),r(K);var te=d.getModel(XD).getItemStyle();null!=m&&(te.fill=m);var ue=t.getItemVisual(K,"opacity");return null!=ue&&(te.opacity=ue),Ze(te,h,null,{autoColor:m,isRectText:!0}),te.text=h.getShallow("show")?en(e.getFormattedLabel(K,"normal"),wc(t,K)):null,q&&On(te,q),te},styleEmphasis:function(q,K){null==K&&(K=u),r(K);var te=d.getModel(KD).getItemStyle();return Ze(te,g,null,{isRectText:!0},!0),te.text=g.getShallow("show")?Kt(e.getFormattedLabel(K,"emphasis"),e.getFormattedLabel(K,"normal"),wc(t,K)):null,q&&On(te,q),te},visual:function(q,K){return null==K&&(K=u),t.getItemVisual(K,q)},barLayout:function(q){if(a.getBaseAxis)return function(e,t){var n=[],i=e.axis;if("category"===i.type){for(var r=i.getBandWidth(),o=0;o<e.count;o++)n.push(At({bandWidth:r,axisKey:"axis0",stackId:Ng+o},e));var a=Vv(n),s=[];for(o=0;o<e.count;o++){var u=a.axis0[Ng+o];u.offsetCenter=u.offset+u.width/2,s.push(u)}return s}}(At({axis:a.getBaseAxis()},q))},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(q){return ei(q,n)}},s.api||{}),I={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:s.coordSys,dataInsideLength:t.count(),encode:J2(e.getData())},j=!0;return function(q){return u=q,j=!0,o&&o(At({dataIndexInside:q,dataIndex:t.getRawIndex(q)},I),y)||{}}}function J2(e){var t={};return de(e.dimensions,function(n,i){var r=e.getDimensionInfo(n);if(!r.isExtraCoord){var o=r.coordDim;(t[o]=t[o]||[])[r.coordDimIndex]=i}}),t}function up(e,t,n,i,r,o){return(e=cp(e,t,n,i,r,o))&&o.setItemGraphicEl(t,e),e}function cp(e,t,n,i,r,o){var a=n.type;if(!e||a===e.__customGraphicType||"path"===a&&n.pathData===e.__customPathData||"image"===a&&n.style.image===e.__customImagePath||"text"===a&&n.style.text===e.__customText||(r.remove(e),e=null),null!=a){var s=!e;if(!e&&(e=function(e){var t,n=e.type;if("path"===n){var i=e.shape;(t=Ee(i.pathData,null,{x:i.x||0,y:i.y||0,width:i.width||0,height:i.height||0},"center")).__customPathData=e.pathData}else"image"===n?(t=new ur({})).__customImagePath=e.style.image:"text"===n?(t=new Si({})).__customText=e.style.text:t=new(Lo[n.charAt(0).toUpperCase()+n.slice(1)]);return t.__customGraphicType=n,t.name=e.name,t}(n)),function(e,t,n,i,r,o){var a={},s=n.style||{};if(n.shape&&(a.shape=hn(n.shape)),n.position&&(a.position=n.position.slice()),n.scale&&(a.scale=n.scale.slice()),n.origin&&(a.origin=n.origin.slice()),n.rotation&&(a.rotation=n.rotation),"image"===e.type&&n.style&&(u=a.style={},de(["x","y","width","height"],function(h){l1(h,u,s,e.style,o)})),"text"===e.type&&n.style){var u=a.style={};de(["x","y"],function(h){l1(h,u,s,e.style,o)}),!s.hasOwnProperty("textFill")&&s.fill&&(s.textFill=s.fill),!s.hasOwnProperty("textStroke")&&s.stroke&&(s.textStroke=s.stroke)}if("group"!==e.type&&(e.useStyle(s),o)){e.style.opacity=0;var d=s.opacity;null==d&&(d=1),ui(e,{style:{opacity:d}},i,t)}o?e.attr(a):pn(e,a,i,t),e.attr({z2:n.z2||0,silent:n.silent}),!1!==n.styleEmphasis&&De(e,n.styleEmphasis)}(e,t,n,i,0,s),"group"===a){var u=e.children()||[],d=n.children||[];if(n.diffChildrenByName)!function(e){new Ta(e.oldChildren,e.newChildren,c1,c1,e).add(d1).update(d1).remove(eT).execute()}({oldChildren:u,newChildren:d,dataIndex:t,animatableModel:i,group:e,data:o});else{for(var h=0;h<d.length;h++)cp(e.childAt(h),t,d[h],i,e,o);for(;h<u.length;h++)u[h]&&e.remove(u[h])}}return r.add(e),e}}function c1(e,t){var n=e&&e.name;return null!=n?n:eN+t}function d1(e,t){var n=this.context;cp(null!=t?n.oldChildren[t]:null,n.dataIndex,null!=e?n.newChildren[e]:null,n.animatableModel,n.group,n.data)}function eT(e){var t=this.context,n=t.oldChildren[e];n&&t.group.remove(n)}function h1(e,t,n,i){var r=n.type,o=new(Lo[r.charAt(0).toUpperCase()+r.slice(1)])(n);t.add(o),i.set(e,o),o.__ecGraphicId=e}function Wc(e,t){var n=e&&e.parent;n&&("group"===e.type&&e.traverse(function(i){Wc(i,t)}),t.removeKey(e.__ecGraphicId),n.remove(e))}function f1(e,t){var n;return de(t,function(i){null!=e[i]&&"auto"!==e[i]&&(n=!0)}),n}function dp(e,t,n){var i,r={},o="toggleSelected"===e;return n.eachComponent("legend",function(a){o&&null!=i?a[i?"select":"unSelect"](t.name):(a[e](t.name),i=a.isSelected(t.name)),de(a.getData(),function(s){var u=s.get("name");if("\n"!==u&&""!==u){var d=a.isSelected(u);r[u]=r.hasOwnProperty(u)?r[u]&&d:d}})}),{name:t.name,selected:r}}function p1(e,t){var n=Vs(t.get("padding")),i=t.getItemStyle(["color","opacity"]);return i.fill=t.get("backgroundColor"),new Gi({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1})}function g1(e,t){t.dispatchAction({type:"legendToggleSelect",name:e})}function m1(e,t,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||e.get("legendHoverLink")&&n.dispatchAction({type:"highlight",seriesName:e.name,name:t})}function v1(e,t,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||e.get("legendHoverLink")&&n.dispatchAction({type:"downplay",seriesName:e.name,name:t})}function y1(e,t,n){var i=[1,1];i[e.getOrient().index]=0,Ua(t,n,{type:"box",ignoreSize:i})}function hp(e,t){if(Ci.wxa)return null;var n=document.createElement("div"),i=this._zr=t.getZr();this.el=n,this._x=t.getWidth()/2,this._y=t.getHeight()/2,e.appendChild(n),this._container=e,this._show=!1;var r=this;n.onmouseenter=function(){r._enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},n.onmousemove=function(o){if(o=o||window.event,!r._enterable){var a=i.handler;Y(e,o,!0),a.dispatch("mousemove",o)}},n.onmouseleave=function(){r._enterable&&r._show&&r.hideLater(r._hideDelay),r._inContent=!1}}function fp(e){for(var t=e.pop();e.length;){var n=e.pop();n&&(Kn.isInstance(n)&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),t=new Kn(n,t,t.ecModel))}return t}function x1(e,t){return e.dispatchAction||ot(t.dispatchAction,t)}function b1(e){var t=e.clientWidth,n=e.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(e);i&&(t+=parseInt(i.paddingLeft,10)+parseInt(i.paddingRight,10)+parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10),n+=parseInt(i.paddingTop,10)+parseInt(i.paddingBottom,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10))}return{width:t,height:n}}function _1(e){return"center"===e||"middle"===e}function w1(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function pp(e){return e.dim}function Gc(e,t){mr.call(this,"radius",e,t),this.type="category"}function Uc(e,t){mr.call(this,"angle",e,t=t||[0,360]),this.type="category"}function C1(e,t){return t.type||(t.data?"category":"value")}function pT(e,t){var n=this,i=n.getAngleAxis(),r=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),e.eachSeries(function(s){if(s.coordinateSystem===n){var u=s.getData();de(u.mapDimension("radius",!0),function(d){r.scale.unionExtentFromData(u,d)}),de(u.mapDimension("angle",!0),function(d){i.scale.unionExtentFromData(u,d)})}}),Ms(i.scale,i.model),Ms(r.scale,r.model),"category"===i.type&&!i.onBand){var o=i.getExtent(),a=360/i.scale.count();i.inverse?o[1]+=a:o[1]-=a,i.setExtent(o[0],o[1])}}function S1(e,t){if(e.type=t.get("type"),e.scale=pl(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),"angleAxis"===t.mainType){e.inverse^=t.get("clockwise");var n=t.get("startAngle");e.setExtent(n,n+(e.inverse?-360:360))}t.axis=e,e.model=t}function M1(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var i=e.coordToPoint([t[0],n]),r=e.coordToPoint([t[1],n]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function gp(e){return e.getRadiusAxis().inverse?0:1}function mp(e,t){t.update="updateView",Ni(t,function(n,i){var r={};return i.eachComponent({mainType:"geo",query:n},function(o){o[e](n.name),de(o.coordinateSystem.regions,function(a){r[a.name]=o.isSelected(a.name)||!1})}),{selected:r,name:n.name}})}function T1(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function vp(e,t,n){var r={};return K_(t,function(o){var a=r[o]=function(){var o=function(){};return o.prototype.__hidden=o.prototype,new o}();K_(e[o],function(s,u){if(Oi.isValidType(u)){var d={type:u,visual:s};n&&n(d,o),a[u]=new Oi(d),"opacity"===u&&((d=hn(d)).type="colorAlpha",a.__hidden.__alphaForOpacity=new Oi(d))}})}),r}function k1(e,t,n){var i;de(n,function(r){t.hasOwnProperty(r)&&T1(t[r])&&(i=!0)}),i&&de(n,function(r){t.hasOwnProperty(r)&&T1(t[r])?e[r]=hn(t[r]):delete e[r]})}function A1(e){var t=["x","y"],n=["width","height"];return{point:function(i,r,o){if(i)return wu(i[e],o.range)},rect:function(i,r,o){if(i){var a=o.range,s=[i[t[e]],i[t[e]]+i[n[e]]];return s[1]<s[0]&&s.reverse(),wu(s[0],a)||wu(s[1],a)||wu(a[0],s)||wu(a[1],s)}}}}function wu(e,t){return t[0]<=e&&e<=t[1]}function jc(e,t,n,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(bT(e,t,n,i,s[0],s[1],a[0],a[1]))return!0;a=s}}function bT(e,t,n,i,r,o,a,s){var u=yp(n-e,r-a,i-t,o-s);if(function(e){return e<=1e-6&&e>=-1e-6}(u))return!1;var d=yp(r-e,r-a,o-t,o-s)/u;if(d<0||d>1)return!1;var h=yp(n-e,r-e,i-t,o-t)/u;return!(h<0||h>1)}function yp(e,t,n,i){return e*i-t*n}function qc(e,t,n){var i=this._targetInfoList=[],r={},o=I1(t,e);ps(mN,function(a,s){(!n||!n.include||vh(n.include,s)>=0)&&a(o,i,r)})}function xp(e){return e[0]>e[1]&&e.reverse(),e}function I1(e,t){return J(e,t,{includeMainTypes:gN})}function D1(e,t,n,i){var r=n.getAxis(["x","y"][e]),o=xp(Me([0,1],function(s){return t?r.coordToData(r.toLocalCoord(i[s])):r.toGlobalCoord(r.dataToCoord(i[s]))})),a=[];return a[e]=o,a[1-e]=[NaN,NaN],{values:o,xyMinMax:a}}function N1(e,t,n,i){return[t[0]-i[e]*n[0],t[1]-i[e]*n[1]]}function P1(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}function ST(e,t){if(!e.isDisposed()){var n=e.getZr();n[fm]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[fm]=!1}}function L1(e,t,n,i){for(var r=0,o=t.length;r<o;r++){var a=t[r];if(e[a.brushType](i,n,a.selectors,a))return!0}}function E1(e){var t=e.brushSelector;if(ze(t)){var n=[];return de(um,function(r,o){n[o]=function(a,s,u,d){var h=s.getItemLayout(a);return r[t](h,u,d)}}),n}if(at(t)){var i={};return de(um,function(r,o){i[o]=t}),i}return t}function R1(e){return new li(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}function B1(e,t){return Ye({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new Kn(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}function O1(e,t,n,i){(!i||i.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(n)).enableBrush(e.brushOption).updateCovers(e.areas.slice())}function Sl(e,t){iw[e]=t}function z1(e){return iw[e]}function bp(e,t,n){this.model=e,this.ecModel=t,this.api=n}function Ia(e,t,n){this._model=e}function F1(e,t,n,i){var r=n.calendarModel,o=n.seriesModel,a=r?r.coordinateSystem:o?o.coordinateSystem:null;return a===this?a[e](i):null}function V1(e,t){var n=e.cellSize;me(n)?1===n.length&&(n[1]=n[0]):n=e.cellSize=[n,n];var i=Me([0,1],function(r){return function(e,t){return null!=e[Hs[t][0]]||null!=e[Hs[t][1]]&&null!=e[Hs[t][2]]}(t,r)&&(n[r]="auto"),null!=n[r]&&"auto"!==n[r]});Ua(e,t,{type:"box",ignoreSize:i})}function H1(e,t){var n=e.getAxisModel(),i=e._percentWindow,r=e._valueWindow;if(i){var o=Nh(r,[0,500]);o=Math.min(o,20);var a=t||0===i[0]&&100===i[1];n.setRange(a?null:+r[0].toFixed(o),a?null:+r[1].toFixed(o))}}function W1(e){var t={};return Ql(["start","end","startValue","endValue","throttle"],function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function G1(e,t){var n=e._rangePropMode,i=e.get("rangeMode");Ql([["start","startValue"],["end","endValue"]],function(r,o){var a=null!=t[r[0]],s=null!=t[r[1]];a&&!s?n[o]="percent":!a&&s?n[o]="value":i?n[o]=i[o]:a&&(n[o]="percent")})}function U1(e){return"vertical"===e?"ns-resize":"ew-resize"}function LT(e,t){var n=q1(e),i=t.dataZoomId,r=t.coordId;de(n,function(s,u){var d=s.dataZoomInfos;d[i]&&Qe(t.allCoordIds,r)<0&&(delete d[i],s.count--)}),Z1(n);var o=n[r];o||((o=n[r]={coordId:r,dataZoomInfos:{},count:0}).controller=function(e,t){var n=new pu(e.getZr());return n.on("pan",sw(OT,t)),n.on("zoom",sw(zT,t)),n}(e,o),o.dispatchAction=Ne(FT,e)),!o.dataZoomInfos[i]&&o.count++,o.dataZoomInfos[i]=t;var a=function(e){var t,n={},i={type_true:2,type_move:1,type_false:0,type_undefined:-1};return de(e,function(r){var o=!r.disabled&&(!r.zoomLock||"move");i["type_"+o]>i["type_"+t]&&(t=o),On(n,r.roamControllerOpt)}),{controlType:t,opt:n}}(o.dataZoomInfos);o.controller.enable(a.controlType,a.opt),o.controller.setPointerChecker(t.containsPoint),ru(o,"dispatchAction",t.throttleRate,"fixRate")}function ET(e,t){var n=q1(e);de(n,function(i){i.controller.dispose();var r=i.dataZoomInfos;r[t]&&(delete r[t],i.count--)}),Z1(n)}function RT(e,t){if(e&&"dataZoom"===e.type&&e.batch)for(var n=0,i=e.batch.length;n<i;n++)if(e.batch[n].dataZoomId===t)return!1;return!0}function j1(e){return e.type+"\0_"+e.id}function q1(e){var t=e.getZr();return t[lw]||(t[lw]={})}function Z1(e){de(e,function(t,n){t.count||(t.controller.dispose(),delete e[n])})}function OT(e,t,n,i,r,o,a){Y1(e,function(s){return s.panGetRange(e.controller,t,n,i,r,o,a)})}function zT(e,t,n,i){Y1(e,function(r){return r.zoomGetRange(e.controller,t,n,i)})}function Y1(e,t){var n=[];de(e.dataZoomInfos,function(i){var r=t(i);!i.disabled&&r&&n.push({dataZoomId:i.dataZoomId,start:r[0],end:r[1]})}),e.dispatchAction(n)}function FT(e,t){e.dispatchAction({type:"dataZoom",batch:t})}function Ml(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}function HT(e,t,n,i){for(var r=t.targetVisuals[i],o=Oi.prepareVisualTypes(r),a={color:e.getData().getVisual("color")},s=0,u=o.length;s<u;s++){var d=o[s],h=r["opacity"===d?"__alphaForOpacity":d];h&&h.applyVisual(n,function(g){return a[g]},function(g,m){a[g]=m})}return a.color}function $1(e,t,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,r=n[0],o=[],a=0;a<=200&&r<n[1];a++)o.push(r),r+=i;return o.push(n[1]),o}function X1(e,t,n){var i=e.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var o={width:t.getWidth(),height:t.getHeight()},a="horizontal"===i.orient?1:0,s=[["left","right","width"],["top","bottom","height"]],u=s[a],d=[0,null,10],h={},g=0;g<3;g++)h[s[1-a][g]]=d[g],h[u[g]]=2===g?n[0]:i[u[g]];var m=[["x","width",3],["y","height",0]][a],y=xr(h,o,i.padding);return u[(y.margin[m[2]]||0)+y[m[0]]+.5*y[m[1]]<.5*o[m[1]]?0:1]}function Zc(e){return de(e||[],function(t){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null)}),e}function Yc(e,t,n,i){return new wo({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(r){Xa(r.event)},ondragend:i})}function K1(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function J1(e){return"vertical"===e?"ns-resize":"ew-resize"}function Q1(e,t){var n=e.inverse;("vertical"===e.orient?!n:n)&&t.reverse()}function $c(e){$(e,"label",["show"])}function _p(e,t,n,i,r,o){var a=[],s=wp(t,i,e),u=t.indicesOfNearest(i,s,!0)[0];a[r]=t.get(n,u,!0),a[o]=t.get(i,u,!0);var d=function(e,t,n){var i=-1;do{i=Math.max(Um(e.get(t,n)),i),e=e.stackedOn}while(e);return i}(t,i,u);return(d=Math.min(d,20))>=0&&(a[o]=+a[o].toFixed(d)),a}function Cu(e,t){var n=e.getData(),i=e.coordinateSystem;if(t&&!function(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}(t)&&!me(t.coord)&&i){var r=i.dimensions,o=ex(t,n,i,e);if((t=hn(t)).type&&Mm[t.type]&&o.baseAxis&&o.valueAxis){var a=_w(r,o.baseAxis.dim),s=_w(r,o.valueAxis.dim);t.coord=Mm[t.type](n,o.baseDataDim,o.valueDataDim,a,s),t.value=t.coord[s]}else{for(var u=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],d=0;d<2;d++)Mm[u[d]]&&(u[d]=wp(n,n.mapDimension(r[d]),u[d]));t.coord=u}}return t}function ex(e,t,n,i){var r={};return null!=e.valueIndex||null!=e.valueDim?(r.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,r.valueAxis=n.getAxis(function(e,t){var n=e.getData(),i=n.dimensions;t=n.getDimension(t);for(var r=0;r<i.length;r++){var o=n.getDimensionInfo(i[r]);if(o.name===t)return o.coordDim}}(i,r.valueDataDim)),r.baseAxis=n.getOtherAxis(r.valueAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=n.getOtherAxis(r.baseAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim),r.valueDataDim=t.mapDimension(r.valueAxis.dim)),r}function Su(e,t){return!(e&&e.containData&&t.coord&&!function(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}(t))||e.containData(t.coord)}function tx(e,t,n,i){return i<2?e.coord&&e.coord[i]:e.value}function wp(e,t,n){if("average"===n){var i=0,r=0;return e.each(t,function(o,a){isNaN(o)||(i+=o,r++)},!0),i/r}return e.getDataExtent(t,!0)["max"===n?1:0]}function nx(e,t,n){var i=t.coordinateSystem;e.each(function(r){var o,a=e.getItemModel(r),s=vn(a.get("x"),n.getWidth()),u=vn(a.get("y"),n.getHeight());if(isNaN(s)||isNaN(u)){if(t.getMarkerPosition)o=t.getMarkerPosition(e.getValues(e.dimensions,r));else if(i){var d=e.get(i.dimensions[0],r),h=e.get(i.dimensions[1],r);o=i.dataToPoint([d,h])}}else o=[s,u];isNaN(s)||(o[0]=s),isNaN(u)||(o[1]=u),e.setItemLayout(r,o)})}function Xc(e){return!isNaN(e)&&!isFinite(e)}function ix(e,t,n,i){var r=1-e,o=i.dimensions[e];return Xc(t[r])&&Xc(n[r])&&t[e]===n[e]&&i.getAxis(o).containData(t[e])}function XT(e,t){if("cartesian2d"===e.type){var n=t[0].coord,i=t[1].coord;if(n&&i&&(ix(1,n,i,e)||ix(0,n,i,e)))return!0}return Su(e,t[0])&&Su(e,t[1])}function Cp(e,t,n,i,r){var o,a=i.coordinateSystem,s=e.getItemModel(t),u=vn(s.get("x"),r.getWidth()),d=vn(s.get("y"),r.getHeight());if(isNaN(u)||isNaN(d)){if(i.getMarkerPosition)o=i.getMarkerPosition(e.getValues(e.dimensions,t));else{var g=e.get((h=a.dimensions)[0],t),m=e.get(h[1],t);o=a.dataToPoint([g,m])}if("cartesian2d"===a.type){var h,y=a.getAxis("x"),I=a.getAxis("y");Xc(e.get((h=a.dimensions)[0],t))?o[0]=y.toGlobalCoord(y.getExtent()[n?0:1]):Xc(e.get(h[1],t))&&(o[1]=I.toGlobalCoord(I.getExtent()[n?0:1]))}isNaN(u)||(o[0]=u),isNaN(d)||(o[1]=d)}else o=[u,d];e.setItemLayout(t,o)}function Kc(e){return!isNaN(e)&&!isFinite(e)}function rx(e,t,n,i){var r=1-e;return Kc(t[r])&&Kc(n[r])}function JT(e,t){var n=t.coord[0],i=t.coord[1];return!("cartesian2d"!==e.type||!n||!i||!rx(1,n,i)&&!rx(0,n,i))||Su(e,{coord:n,x:t.x0,y:t.y0})||Su(e,{coord:i,x:t.x1,y:t.y1})}function ox(e,t,n,i,r){var o,a=i.coordinateSystem,s=e.getItemModel(t),u=vn(s.get(n[0]),r.getWidth()),d=vn(s.get(n[1]),r.getHeight());if(isNaN(u)||isNaN(d)){if(i.getMarkerPosition)o=i.getMarkerPosition(e.getValues(n,t));else{var h=[y=e.get(n[0],t),I=e.get(n[1],t)];a.clampData&&a.clampData(h,h),o=a.dataToPoint(h,!0)}if("cartesian2d"===a.type){var g=a.getAxis("x"),m=a.getAxis("y"),y=e.get(n[0],t),I=e.get(n[1],t);Kc(y)?o[0]=g.toGlobalCoord(g.getExtent()["x0"===n[0]?0:1]):Kc(I)&&(o[1]=m.toGlobalCoord(m.getExtent()["y0"===n[1]?0:1]))}isNaN(u)||(o[0]=u),isNaN(d)||(o[1]=d)}else o=[u,d];return o}function ax(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),i=e.label||e.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};de(i,function(a,s){o[s]||Ns(r,s)||(r[s]=a)}),n.label&&!Ns(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function Ns(e,t){return e.hasOwnProperty(t)}function sx(e,t,n,i,r,o){var a=t.get("color");r?(r.setColor(a),n.add(r),o&&o.onUpdate(r)):((r=ao(e.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),n.add(r),o&&o.onCreate(r));var s=t.getItemStyle(["color","symbol","symbolSize"]);r.setStyle(s),i=Ye({rectHover:!0,z2:100},i,!0);var u=e.get("symbolSize");(u=u instanceof Array?u.slice():[+u,+u])[0]/=2,u[1]/=2,i.scale=u;var d=e.get("symbolOffset");if(d){var h=i.position=i.position||[0,0];h[0]+=vn(d[0],u[0]),h[1]+=vn(d[1],u[1])}var g=e.get("symbolRotate");return i.rotation=(g||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function lx(e,t,n,i,r){if(!e.dragging){var o=i.getModel("checkpointStyle"),a=n.dataToCoord(i.getData().get(["value"],t));r||!o.get("animation",!0)?e.attr({position:[a,0]}):(e.stopAnimation(!0),e.animateTo({position:[a,0]},o.get("animationDuration",!0),o.get("animationEasing",!0)))}}function Jc(e){this.model=e}function Sp(e){this.model=e}function ok(e){var t=[];return de(e,function(n,i){var r=n.categoryAxis,o=n.valueAxis.dim,a=[" "].concat(Me(n.series,function(m){return m.name})),s=[r.model.getCategories()];de(n.series,function(m){s.push(m.getRawData().mapArray(o,function(y){return y}))});for(var u=[a.join(rl)],d=0;d<s[0].length;d++){for(var h=[],g=0;g<s.length;g++)h.push(s[g][d]);u.push(h.join(rl))}t.push(u.join("\n"))}),t.join("\n\n"+Mh+"\n\n")}function ak(e){return Me(e,function(t){var n=t.getRawData(),i=[t.name],r=[];return n.each(n.dimensions,function(){for(var o=arguments.length,a=arguments[o-1],s=n.getName(a),u=0;u<o-1;u++)r[u]=arguments[u];i.push((s?s+rl:"")+r.join(rl))}),i.join("\n")}).join("\n\n"+Mh+"\n\n")}function Qc(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Mu(e){this._dom=null,this.model=e}function hk(e,t){return Me(e,function(n,i){var r=t&&t[i];return Oe(r)&&!me(r)?(Oe(n)&&!me(n)&&(n=n.value),At({value:n},r)):n})}function Mp(e){var t=e[Dm];return t||(t=e[Dm]=[{}]),t}function Tp(e,t,n){(this._brushController=new bl(n.getZr())).on("brush",ot(this._onBrush,this)).mount()}function ux(e){var t={};return de(["xAxisIndex","yAxisIndex"],function(n){t[n]=e[n],null==t[n]&&(t[n]="all"),(!1===t[n]||"none"===t[n])&&(t[n]=[])}),t}function kp(e){this.model=e}function Ap(e){return Nm(e)}function Tl(e){return parseInt(e,10)}function ed(e,t){(function(){if(!Pw&&ho){Pw=!0;var e=ho.styleSheets;e.length<31?ho.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):e[0].addRule(".zrvml","behavior:url(#default#VML)")}})(),this.root=e,this.storage=t;var n=document.createElement("div"),i=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",i.style.cssText="position:absolute;left:0;top:0;",e.appendChild(n),this._vmlRoot=i,this._vmlViewport=n,this.resize();var r=t.delFromStorage,o=t.addToStorage;t.delFromStorage=function(a){r.call(t,a),a&&a.onRemove&&a.onRemove(i)},t.addToStorage=function(a){a.onAdd&&a.onAdd(i),o.call(t,a)},this._firstPaint=!0}function Ps(e){return document.createElementNS(eP,e)}function Po(e){return Vm(1e4*e)/1e4}function Ip(e){return e<Hw&&e>-Hw}function Dp(e,t){t&&qi(e,"transform","matrix("+tP.call(t,",")+")")}function qi(e,t,n){(!n||"linear"!==n.type&&"radial"!==n.type)&&e.setAttribute(t,n)}function cx(e,t,n){if(function(e,t){var n=t?e.textFill:e.fill;return null!=n&&n!==ll}(t,n)){var i=n?t.textFill:t.fill;i="transparent"===i?ll:i,"none"!==e.getAttribute("clip-path")&&i===ll&&(i="rgba(0, 0, 0, 0.002)"),qi(e,"fill",i),qi(e,"fill-opacity",t.opacity)}else qi(e,"fill",ll);if(function(e,t){var n=t?e.textStroke:e.stroke;return null!=n&&n!==ll}(t,n)){var r=n?t.textStroke:t.stroke;qi(e,"stroke",r="transparent"===r?ll:r),qi(e,"stroke-width",(n?t.textStrokeWidth:t.lineWidth)/(!n&&t.strokeNoScale?t.host.getLineScale():1)),qi(e,"paint-order",n?"stroke":"fill"),qi(e,"stroke-opacity",t.opacity),t.lineDash?(qi(e,"stroke-dasharray",t.lineDash.join(",")),qi(e,"stroke-dashoffset",Vm(t.lineDashOffset||0))):qi(e,"stroke-dasharray",""),t.lineCap&&qi(e,"stroke-linecap",t.lineCap),t.lineJoin&&qi(e,"stroke-linejoin",t.lineJoin),t.miterLimit&&qi(e,"stroke-miterlimit",t.miterLimit)}else qi(e,"stroke",ll)}function dx(e){return"middle"===e?"middle":"bottom"===e?"baseline":"hanging"}function hx(){}function Mk(e,t,n,i){for(var r=0,o=t.length,a=0,s=0;r<o;r++){var u=t[r];if(u.removed){for(var d=[],h=s;h<s+u.count;h++)d.push(h);u.indices=d,s+=u.count}else{for(d=[],h=a;h<a+u.count;h++)d.push(h);u.indices=d,a+=u.count,u.added||(s+=u.count)}}return t}function Tk(e){return{newPos:e.newPos,components:e.components.slice(0)}}function tr(e,t,n,i,r){this._zrId=e,this._svgRoot=t,this._tagNames="string"==typeof n?[n]:n,this._markLabel=i,this._domName=r||"_dom",this.nextId=0}function Ls(e,t){tr.call(this,e,t,["linearGradient","radialGradient"],"__gradient_in_use__")}function Tu(e,t){tr.call(this,e,t,"clipPath","__clippath_in_use__")}function Za(e,t){tr.call(this,e,t,["filter"],"__filter_in_use__","_shadowDom")}function fx(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY||e.textShadowBlur||e.textShadowOffsetX||e.textShadowOffsetY)}function td(e){return parseInt(e,10)}function kk(e){return e instanceof sn?sc:e instanceof ur?Wm:e instanceof Si?Ah:sc}function px(e,t){return t&&e&&t.parentNode!==e}function nd(e,t,n){if(px(e,t)&&n){var i=n.nextSibling;i?e.insertBefore(t,i):e.appendChild(t)}}function gx(e,t){if(px(e,t)){var n=e.firstChild;n?e.insertBefore(t,n):e.appendChild(t)}}function mx(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)}function id(e){return e.__textSvgEl}function rd(e){return e.__svgEl}var e,n,i,r,o,a,Ik=2311,vx=function(){return Ik++},Ci="undefined"!=typeof wx?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0}:(n={},i=(e=navigator.userAgent).match(/Firefox\/([\d.]+)/),r=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge\/([\d.]+)/),a=/micromessenger/i.test(e),i&&(n.firefox=!0,n.version=i[1]),r&&(n.ie=!0,n.version=r[1]),o&&(n.edge=!0,n.version=o[1]),a&&(n.weChat=!0),{browser:n,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=11)}),yx={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},xx={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},ku=Object.prototype.toString,Au=Array.prototype,Nk=Au.forEach,Pk=Au.filter,Iu=Au.slice,Lk=Au.map,Ek=Au.reduce,Np={},kl=function(){return Np.createCanvas()};Np.createCanvas=function(){return document.createElement("canvas")};var od,bx="__ec_primitive__";Pn.prototype={constructor:Pn,get:function(e){return this.hasOwnProperty(e)?this[e]:null},set:function(e,t){return this[e]=t},each:function(e,t){for(var n in void 0!==t&&(e=ot(e,t)),this)this.hasOwnProperty(n)&&e(this[n],n)},removeKey:function(e){delete this[e]}};var Rk=(Object.freeze||Object)({$override:Ln,clone:hn,merge:Ye,mergeAll:sr,extend:On,defaults:At,createCanvas:kl,getContext:Ot,indexOf:Qe,inherits:we,mixin:Ke,isArrayLike:Mt,each:de,map:Me,reduce:zt,filter:ft,find:function(e,t,n){if(e&&t)for(var i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return e[i]},bind:ot,curry:Ne,isArray:me,isFunction:at,isString:ze,isObject:Oe,isBuiltInObject:$e,isTypedArray:xt,isDom:Xe,eqNaN:vt,retrieve:Ft,retrieve2:en,retrieve3:Kt,slice:It,normalizeCssArray:bt,assert:dt,trim:Gt,setAsPrimitive:Sn,isPrimitive:ln,createHashMap:st,concatArray:Tt,noop:Zt}),_x="undefined"==typeof Float32Array?Array:Float32Array,Es=zi,Ya=yi,zk=(Object.freeze||Object)({create:_n,copy:lt,clone:Ht,set:le,add:Et,scaleAndAdd:wn,sub:Nn,len:En,length:En,lenSquare:vi,lengthSquare:vi,mul:function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},div:function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]},scale:si,normalize:qn,distance:zi,dist:Es,distanceSquare:yi,distSquare:Ya,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e},lerp:Zi,applyTransform:Pt,min:_t,max:on});dn.prototype={constructor:dn,_dragStart:function(e){var t=e.target;t&&t.draggable&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(Lt(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,r=n-this._x,o=i-this._y;this._x=n,this._y=i,t.drift(r,o,e),this.dispatchToElement(Lt(t,e),"drag",e.event);var a=this.findHover(n,i,t).target,s=this._dropTarget;this._dropTarget=a,t!==a&&(s&&a!==s&&this.dispatchToElement(Lt(s,e),"dragleave",e.event),a&&a!==s&&this.dispatchToElement(Lt(a,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(Lt(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(Lt(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};var Cx=Array.prototype.slice,_r=function(){this._$handlers={}};_r.prototype={constructor:_r,one:function(e,t,n){var i=this._$handlers;if(!t||!e)return this;i[e]||(i[e]=[]);for(var r=0;r<i[e].length;r++)if(i[e][r].h===t)return this;return i[e].push({h:t,one:!0,ctx:n||this}),this},on:function(e,t,n){var i=this._$handlers;if(!t||!e)return this;i[e]||(i[e]=[]);for(var r=0;r<i[e].length;r++)if(i[e][r].h===t)return this;return i[e].push({h:t,one:!1,ctx:n||this}),this},isSilent:function(e){var t=this._$handlers;return t[e]&&t[e].length},off:function(e,t){var n=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],r=0,o=n[e].length;r<o;r++)n[e][r].h!=t&&i.push(n[e][r]);n[e]=i}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},trigger:function(e){if(this._$handlers[e]){var t=arguments,n=t.length;n>3&&(t=Cx.call(t,1));for(var i=this._$handlers[e],r=i.length,o=0;o<r;){switch(n){case 1:i[o].h.call(i[o].ctx);break;case 2:i[o].h.call(i[o].ctx,t[1]);break;case 3:i[o].h.call(i[o].ctx,t[1],t[2]);break;default:i[o].h.apply(i[o].ctx,t)}i[o].one?(i.splice(o,1),r--):o++}}return this},triggerWithContext:function(e){if(this._$handlers[e]){var t=arguments,n=t.length;n>4&&(t=Cx.call(t,1,t.length-1));for(var i=t[t.length-1],r=this._$handlers[e],o=r.length,a=0;a<o;){switch(n){case 1:r[a].h.call(i);break;case 2:r[a].h.call(i,t[1]);break;case 3:r[a].h.call(i,t[1],t[2]);break;default:r[a].h.apply(i,t)}r[a].one?(r.splice(a,1),o--):a++}}return this}};var Sx="silent";Fn.prototype.dispose=function(){};var Fk=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Al=function(e,t,n,i){_r.call(this),this.storage=e,this.painter=t,this.painterRoot=i,n=n||new Fn,this.proxy=null,this._hovered={},dn.call(this),this.setHandlerProxy(n)};Al.prototype={constructor:Al,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(de(Fk,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,n=e.zrY,i=this._hovered,r=i.target;r&&!r.__zr&&(r=(i=this.findHover(i.x,i.y)).target);var o=this._hovered=this.findHover(t,n),a=o.target,s=this.proxy;s.setCursor&&s.setCursor(a?a.cursor:"default"),r&&a!==r&&this.dispatchToElement(i,"mouseout",e),this.dispatchToElement(o,"mousemove",e),a&&a!==r&&this.dispatchToElement(o,"mouseover",e)},mouseout:function(e){this.dispatchToElement(this._hovered,"mouseout",e);var t,n=e.toElement||e.relatedTarget;do{n=n&&n.parentNode}while(n&&9!=n.nodeType&&!(t=n===this.painterRoot));!t&&this.trigger("globalout",{event:e})},resize:function(e){this._hovered={}},dispatch:function(e,t){var n=this[e];n&&n.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,n){var i=(e=e||{}).target;if(!i||!i.silent){for(var r="on"+t,o=function(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which}}(t,e,n);i&&(i[r]&&(o.cancelBubble=i[r].call(i,o)),i.trigger(t,o),i=i.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(t,o),this.painter&&this.painter.eachOtherLayer(function(a){"function"==typeof a[r]&&a[r].call(a,o),a.trigger&&a.trigger(t,o)}))}},findHover:function(e,t,n){for(var i=this.storage.getDisplayList(),r={x:e,y:t},o=i.length-1;o>=0;o--){var a;if(i[o]!==n&&!i[o].ignore&&(a=ii(i[o],e,t))&&(!r.topTarget&&(r.topTarget=i[o]),a!==Sx)){r.target=i[o];break}}return r}},de(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Al.prototype[e]=function(t){var n=this.findHover(t.zrX,t.zrY),i=n.target;if("mousedown"===e)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===e)this._upEl=i;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||Es(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,e,t)}}),Ke(Al,_r),Ke(Al,dn);var Vk="undefined"==typeof Float32Array?Array:Float32Array,Hk=(Object.freeze||Object)({create:ri,identity:jn,copy:Nt,mul:Yt,translate:an,rotate:Tn,scale:fn,invert:nn,clone:An}),Pp=jn,Mx=5e-5,Jo=function(e){(e=e||{}).position||(this.position=[0,0]),null==e.rotation&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},Qo=Jo.prototype;Qo.transform=null,Qo.needLocalTransform=function(){return Bn(this.rotation)||Bn(this.position[0])||Bn(this.position[1])||Bn(this.scale[0]-1)||Bn(this.scale[1]-1)},Qo.updateTransform=function(){var e=this.parent,t=e&&e.transform,n=this.needLocalTransform(),i=this.transform;n||t?(i=i||ri(),n?this.getLocalTransform(i):Pp(i),t&&(n?Yt(i,e.transform,i):Nt(i,e.transform)),this.transform=i,this.invTransform=this.invTransform||ri(),nn(this.invTransform,i)):i&&Pp(i)},Qo.getLocalTransform=function(e){return Jo.getLocalTransform(this,e)},Qo.setTransform=function(e){var t=this.transform,n=e.dpr||1;t?e.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):e.setTransform(n,0,0,n,0,0)},Qo.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var Tx=[];Qo.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(Yt(Tx,e.invTransform,t),t=Tx);var n=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],r=this.position,o=this.scale;Bn(n-1)&&(n=Math.sqrt(n)),Bn(i-1)&&(i=Math.sqrt(i)),t[0]<0&&(n=-n),t[3]<0&&(i=-i),r[0]=t[4],r[1]=t[5],o[0]=n,o[1]=i,this.rotation=Math.atan2(-t[1]/i,t[0]/n)}},Qo.getGlobalScale=function(){var e=this.transform;if(!e)return[1,1];var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]),n=Math.sqrt(e[2]*e[2]+e[3]*e[3]);return e[0]<0&&(t=-t),e[3]<0&&(n=-n),[t,n]},Qo.transformCoordToLocal=function(e,t){var n=[e,t],i=this.invTransform;return i&&Pt(n,n,i),n},Qo.transformCoordToGlobal=function(e,t){var n=[e,t],i=this.transform;return i&&Pt(n,n,i),n},Jo.getLocalTransform=function(e,t){Pp(t=t||[]);var n=e.origin,i=e.scale||[1,1],r=e.rotation||0,o=e.position||[0,0];return n&&(t[4]-=n[0],t[5]-=n[1]),fn(t,t,i),r&&Tn(t,t,r),n&&(t[4]+=n[0],t[5]+=n[1]),t[4]+=o[0],t[5]+=o[1],t};var ad={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},elasticOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-ad.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*ad.bounceIn(2*e):.5*ad.bounceOut(2*e-1)+.5}};Zn.prototype={constructor:Zn,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused)this._pausedTime+=t;else{var n=(e-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var i=this.easing,r="string"==typeof i?ad[i]:i,o="function"==typeof r?r(n):n;return this.fire("frame",o),1==n?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(e){this._startTime=e-(e-this._startTime-this._pausedTime)%this._life+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){this[e="on"+e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var kx=function(){this.head=null,this.tail=null,this._len=0},Du=kx.prototype;Du.insert=function(e){var t=new Ax(e);return this.insertEntry(t),t},Du.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},Du.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},Du.len=function(){return this._len},Du.clear=function(){this.head=this.tail=null,this._len=0};var Ax=function(e){this.value=e},Lp=function(e){this._list=new kx,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},Ep=Lp.prototype;Ep.put=function(e,t){var n=this._list,i=this._map,r=null;if(null==i[e]){var o=n.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=n.head;n.remove(s),delete i[s.key],r=s.value,this._lastRemovedEntry=s}a?a.value=t:a=new Ax(t),a.key=e,n.insertEntry(a),i[e]=a}return r},Ep.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},Ep.clear=function(){this._list.clear(),this._map={}};var Ix={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},Dx=new Lp(20),sd=null,Uk=(Object.freeze||Object)({parse:Vi,lift:to,toHex:kt,fastLerp:Wt,fastMapToColor:Wt,lerp:yn,mapToColor:yn,modifyHSL:rn,modifyAlpha:Dn,stringify:Hn}),Rp=Array.prototype.slice,Bp=function(e,t,n,i){this._tracks={},this._target=e,this._loop=t||!1,this._getter=n||oi,this._setter=i||ai,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Bp.prototype={when:function(e,t){var n=this._tracks;for(var i in t)if(t.hasOwnProperty(i)){if(!n[i]){n[i]=[];var r=this._getter(this._target,i);if(null==r)continue;0!==e&&n[i].push({time:0,value:kr(r)})}n[i].push({time:e,value:t[i]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,n=0;n<t;n++)e[n].call(this)},start:function(e,t){var n,i=this,r=0;for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var a=fr(this,e,function(){--r||i._doneCallback()},this._tracks[o],o,t);a&&(this._clipList.push(a),r++,this.animation&&this.animation.addClip(a),n=a)}if(n){var s=n.onframe;n.onframe=function(u,d){s(u,d);for(var h=0;h<i._onframeList.length;h++)i._onframeList[h](u,d)}}return r||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,n=this.animation,i=0;i<t.length;i++){var r=t[i];e&&r.onframe(this._target,1),n&&n.removeClip(r)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var Nx=1;"undefined"!=typeof window&&(Nx=Math.max(window.devicePixelRatio||1,1));var ld=Nx,ud=function(){this.animators=[]};ud.prototype={constructor:ud,animate:function(e,t){var n,i=!1,r=this,o=this.__zr;if(e){var a=e.split("."),s=r;i="shape"===a[0];for(var u=0,d=a.length;u<d;u++)s&&(s=s[a[u]]);s&&(n=s)}else n=r;if(n){var h=r.animators,g=new Bp(n,t);return g.during(function(m){r.dirty(i)}).done(function(){h.splice(Qe(h,g),1)}),h.push(g),o&&o.animation.addAnimator(g),g}},stopAnimation:function(e){for(var t=this.animators,n=t.length,i=0;i<n;i++)t[i].stop(e);return t.length=0,this},animateTo:function(e,t,n,i,r,o){ze(n)?(r=i,i=n,n=0):at(i)?(r=i,i="linear",n=0):at(n)?(r=n,n=0):at(t)?(r=t,t=500):t||(t=500),this.stopAnimation(),this._animateToShallow("",this,e,t,n);var a=this.animators.slice(),s=a.length;s||r&&r();for(var u=0;u<a.length;u++)a[u].done(function(){--s||r&&r()}).start(i,o)},_animateToShallow:function(e,t,n,i,r){var o={},a=0;for(var s in n)if(n.hasOwnProperty(s))if(null!=t[s])Oe(n[s])&&!Mt(n[s])?this._animateToShallow(e?e+"."+s:s,t[s],n[s],i,r):(o[s]=n[s],a++);else if(null!=n[s])if(e){var u={};u[e]={},u[e][s]=n[s],this.attr(u)}else this.attr(s,n[s]);return a>0&&this.animate(e,!1).when(null==i?500:i,o).delay(r||0),this}};var Da=function(e){Jo.call(this,e),_r.call(this,e),ud.call(this,e),this.id=e.id||vx()};Da.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=e,n[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if("position"===e||"scale"===e||"origin"===e){if(t){var n=this[e];n||(n=this[e]=[]),n[0]=t[0],n[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(Oe(e))for(var n in e)e.hasOwnProperty(n)&&this.attrKV(n,e[n]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}},Ke(Da,ud),Ke(Da,Jo),Ke(Da,_r);var cd=Pt,dd=Math.min,hd=Math.max;li.prototype={constructor:li,union:function(e){var t=dd(e.x,this.x),n=dd(e.y,this.y);this.width=hd(e.x+e.width,this.x+this.width)-t,this.height=hd(e.y+e.height,this.y+this.height)-n,this.x=t,this.y=n},applyTransform:function(){var e=[],t=[],n=[],i=[];return function(r){if(r){e[0]=n[0]=this.x,e[1]=i[1]=this.y,t[0]=i[0]=this.x+this.width,t[1]=n[1]=this.y+this.height,cd(e,e,r),cd(t,t,r),cd(n,n,r),cd(i,i,r),this.x=dd(e[0],t[0],n[0],i[0]),this.y=dd(e[1],t[1],n[1],i[1]);var o=hd(e[0],t[0],n[0],i[0]),a=hd(e[1],t[1],n[1],i[1]);this.width=o-this.x,this.height=a-this.y}}}(),calculateTransform:function(e){var t=this,n=e.width/t.width,i=e.height/t.height,r=ri();return an(r,r,[-t.x,-t.y]),fn(r,r,[n,i]),an(r,r,[e.x,e.y]),r},intersect:function(e){if(!e)return!1;e instanceof li||(e=li.create(e));var t=this;return!(t.x+t.width<e.x||e.x+e.width<t.x||t.y+t.height<e.y||e.y+e.height<t.y)},contain:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},clone:function(){return new li(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},li.create=function(e){return new li(e.x,e.y,e.width,e.height)};var Un=function(e){for(var t in Da.call(this,e=e||{}),e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};Un.prototype={constructor:Un,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,i=n.indexOf(t);i>=0&&(n.splice(i,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,n=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof Un&&e.addChildrenToStorage(t)),n&&n.refresh()},remove:function(e){var t=this.__zr,n=this.__storage,i=this._children,r=Qe(i,e);return r<0||(i.splice(r,1),e.parent=null,n&&(n.delFromStorage(e),e instanceof Un&&e.delChildrenFromStorage(n)),t&&t.refresh()),this},removeAll:function(){var e,t,n=this._children,i=this.__storage;for(t=0;t<n.length;t++)e=n[t],i&&(i.delFromStorage(e),e instanceof Un&&e.delChildrenFromStorage(i)),e.parent=null;return n.length=0,this},eachChild:function(e,t){for(var n=this._children,i=0;i<n.length;i++)e.call(t,n[i],i);return this},traverse:function(e,t){for(var n=0;n<this._children.length;n++){var i=this._children[n];e.call(t,i),"group"===i.type&&i.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToStorage(n),n instanceof Un&&n.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromStorage(n),n instanceof Un&&n.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,n=new li(0,0,0,0),i=e||this._children,r=[],o=0;o<i.length;o++){var a=i[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),u=a.getLocalTransform(r);u?(n.copy(s),n.applyTransform(u),(t=t||n.clone()).union(n)):(t=t||s.clone()).union(s)}}return t||n}},we(Un,Da);var Px=32,Nu=7,Op=function(){this._roots=[],this._displayList=[],this._displayListLen=0};Op.prototype={constructor:Op,traverse:function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,i=0,r=t.length;i<r;i++)this._updateAndAddDisplayable(t[i],null,e);n.length=this._displayListLen,Ci.canvasSupported&&jr(n,Vo)},_updateAndAddDisplayable:function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var i=e.clipPath;if(i){t=t?t.slice():[];for(var r=i,o=e;r;)r.parent=o,r.updateTransform(),t.push(r),o=r,r=r.clipPath}if(e.isGroup){for(var a=e._children,s=0;s<a.length;s++){var u=a[s];e.__dirty&&(u.__dirty=!0),this._updateAndAddDisplayable(u,t,n)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof Un&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(null==e){for(n=0;n<this._roots.length;n++){var t=this._roots[n];t instanceof Un&&t.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(e instanceof Array)for(var n=0,i=e.length;n<i;n++)this.delRoot(e[n]);else{var r=Qe(this._roots,e);r>=0&&(this.delFromStorage(e),this._roots.splice(r,1),e instanceof Un&&e.delChildrenFromStorage(this))}},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Vo};var qk={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},Lx=function(e,t,n){return qk.hasOwnProperty(t)?n*=e.dpr:n},fd=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Rs=function(e,t){this.extendFrom(e,!1),this.host=t};Rs.prototype={constructor:Rs,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,n){for(var i=this,r=n&&n.style,o=!r,a=0;a<fd.length;a++){var s=fd[a],u=s[0];(o||i[u]!==r[u])&&(e[u]=Lx(e,u,i[u]||s[1]))}(o||i.fill!==r.fill)&&(e.fillStyle=i.fill),(o||i.stroke!==r.stroke)&&(e.strokeStyle=i.stroke),(o||i.opacity!==r.opacity)&&(e.globalAlpha=null==i.opacity?1:i.opacity),(o||i.blend!==r.blend)&&(e.globalCompositeOperation=i.blend||"source-over"),this.hasStroke()&&(e.lineWidth=i.lineWidth/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1))},hasFill:function(){var e=this.fill;return null!=e&&"none"!==e},hasStroke:function(){var e=this.stroke;return null!=e&&"none"!==e&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var n in e)!e.hasOwnProperty(n)||!0!==t&&(!1===t?this.hasOwnProperty(n):null==e[n])||(this[n]=e[n])},set:function(e,t){"string"==typeof e?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,n){for(var i=("radial"===t.type?Ho:So)(e,t,n),r=t.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}};for(var zp=Rs.prototype,Fp=0;Fp<fd.length;Fp++){var Vp=fd[Fp];Vp[0]in zp||(zp[Vp[0]]=Vp[1])}Rs.getGradient=zp.getGradient;var Hp=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};Hp.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};var Pu=function(e,t,n){var i;n=n||ld,"string"==typeof e?i=cl(e,t,n):Oe(e)&&(e=(i=e).id),this.id=e,this.dom=i;var r=i.style;r&&(i.onselectstart=ma,r["-webkit-user-select"]="none",r["user-select"]="none",r["-webkit-touch-callout"]="none",r["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",r.padding=0,r.margin=0,r["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};Pu.prototype={constructor:Pu,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=cl("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!=e&&this.ctxBack.scale(e,e)},resize:function(e,t){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r.width=e+"px",r.height=t+"px",i.width=e*n,i.height=t*n,o&&(o.width=e*n,o.height=t*n,1!=n&&this.ctxBack.scale(n,n))},clear:function(e){var d,t=this.dom,n=this.ctx,i=t.width,r=t.height,o=this.clearColor,a=this.motionBlur&&!e,s=this.lastFrameAlpha,u=this.dpr;if(a&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(t,0,0,i/u,r/u)),n.clearRect(0,0,i,r),o&&(o.colorStops?(d=o.__canvasGradient||Rs.getGradient(n,o,{x:0,y:0,width:i,height:r}),o.__canvasGradient=d):o.image&&(d=Hp.prototype.getCanvasPattern.call(o,n)),n.save(),n.fillStyle=d||o,n.fillRect(0,0,i,r),n.restore()),a){var h=this.domBack;n.save(),n.globalAlpha=s,n.drawImage(h,0,0,i,r),n.restore()}}};var Wp="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},Gp=new Lp(50),pd={},Up=0,Zk=5e3,jp=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,Lu="12px sans-serif",qp={measureText:function(e,t){var n=Ot();return n.font=t||Lu,n.measureText(e)}},Yk={left:1,right:1,center:1},$k={top:1,bottom:1,middle:1},Zp=new li,gd=function(){};gd.prototype={constructor:gd,drawRectText:function(e,t){var n=this.style;t=n.textRect||t,this.__dirty&&Fr(n);var i=n.text;if(null!=i&&(i+=""),_s(i,n)){e.save();var r=this.transform;n.transformText?this.setTransform(e):r&&(Zp.copy(t),Zp.applyTransform(r),t=Zp),Ao(this,e,i,n,t),e.restore()}}},yr.prototype={constructor:yr,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,inplace:!1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var n=this.transformCoordToLocal(e,t);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){"style"!==e?Da.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new Rs(e,this),this.dirty(!1),this}},we(yr,Da),Ke(yr,gd),ur.prototype={constructor:ur,type:"image",brush:function(e,t){var n=this.style,i=n.image;n.bind(e,this,t);var r=this._image=Mo(i,this._image,this,this.onload);if(r&&To(r)){var o=n.x||0,a=n.y||0,s=n.width,u=n.height,d=r.width/r.height;if(null==s&&null!=u?s=u*d:null==u&&null!=s?u=s/d:null==s&&null==u&&(s=r.width,u=r.height),this.setTransform(e),n.sWidth&&n.sHeight){var h=n.sx||0,g=n.sy||0;e.drawImage(r,h,g,n.sWidth,n.sHeight,o,a,s,u)}else if(n.sx&&n.sy){var m=s-(h=n.sx),y=u-(g=n.sy);e.drawImage(r,h,g,m,y,o,a,s,u)}else e.drawImage(r,o,a,s,u);null!=n.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new li(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}},we(ur,yr);var Yp=new li(0,0,0,0),$p=new li(0,0,0,0),Xp=function(e,t,n){this.type="canvas";var i=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=n=On({},n||{}),this.dpr=n.devicePixelRatio||ld,this._singleCanvas=i,this.root=e;var r=e.style;r&&(r["-webkit-tap-highlight-color"]="transparent",r["-webkit-user-select"]=r["user-select"]=r["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var o=this._zlevelList=[],a=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,i){null!=n.width&&(e.width=n.width),null!=n.height&&(e.height=n.height);var u=e.height;this._width=e.width,this._height=u;var d=new Pu(e,this,1);d.__builtin__=!0,d.initContext(),a[314159]=d,o.push(314159),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var h=this._domRoot=function(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","overflow:hidden","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);e.appendChild(h)}this._hoverlayer=null,this._hoverElements=[]};Xp.prototype={constructor:Xp,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var i=0;i<n.length;i++){var o=this._layers[n[i]];!o.__builtin__&&o.refresh&&o.refresh()}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var n=new e.constructor({style:e.style,shape:e.shape});n.__from=e,e.__hoverMir=n,n.setStyle(t),this._hoverElements.push(n)}},removeHover:function(e){var n=this._hoverElements,i=Qe(n,e.__hoverMir);i>=0&&n.splice(i,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,n=0;n<t.length;n++){var i=t[n].__from;i&&(i.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){jr(e,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var i={};n.ctx.save();for(var r=0;r<t;){var o=e[r],a=o.__from;a&&a.__zr?(r++,a.invisible||(o.transform=a.transform,o.invTransform=a.invTransform,o.__clipPaths=a.__clipPaths,this._doPaintEl(o,n,!0,i))):(e.splice(r,1),a.__hoverMir=null,t--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(e,t,n){if(this._redrawId===n){t=t||!1,this._updateLayerStatus(e);var i=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!i){var r=this;Wp(function(){r._paintList(e,t,n)})}}},_compositeManually:function(){var e=this.getLayer(314159).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,n)})},_doPaintList:function(e,t){for(var n=[],i=0;i<this._zlevelList.length;i++)(s=this._layers[this._zlevelList[i]]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||t)&&n.push(s);for(var o=!0,a=0;a<n.length;a++){var s=n[a],u=s.ctx,d={};u.save();var h=t?s.__startIndex:s.__drawIndex,g=!t&&s.incremental&&Date.now,m=g&&Date.now();if(s.__startIndex===s.__endIndex)s.clear();else if(h===s.__startIndex){var y=e[h];y.incremental&&y.notClear&&!t||s.clear()}-1===h&&(console.error("For some unknown reason. drawIndex is -1"),h=s.__startIndex);for(var I=h;I<s.__endIndex;I++){var j=e[I];if(this._doPaintEl(j,s,t,d),j.__dirty=!1,g&&Date.now()-m>15)break}s.__drawIndex=I,s.__drawIndex<s.__endIndex&&(o=!1),d.prevElClipPaths&&u.restore(),u.restore()}return Ci.wxa&&de(this._layers,function(q){q&&q.ctx&&q.ctx.draw&&q.ctx.draw()}),o},_doPaintEl:function(e,t,n,i){var r=t.ctx,o=e.transform;if((t.__dirty||n)&&!e.invisible&&0!==e.style.opacity&&(!o||o[0]||o[3])&&(!e.culling||!function(e,t,n){return Yp.copy(e.getBoundingRect()),e.transform&&Yp.applyTransform(e.transform),$p.width=t,$p.height=n,!Yp.intersect($p)}(e,this._width,this._height))){var a=e.__clipPaths;i.prevElClipPaths&&!function(e,t){if(e==t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0}(a,i.prevElClipPaths)||(i.prevElClipPaths&&(t.ctx.restore(),i.prevElClipPaths=null,i.prevEl=null),a&&(r.save(),function(e,t){for(var n=0;n<e.length;n++){var i=e[n];i.setTransform(t),t.beginPath(),i.buildPath(t,i.shape),t.clip(),i.restoreTransform(t)}}(a,r),i.prevElClipPaths=a)),e.beforeBrush&&e.beforeBrush(r),e.brush(r,i.prevEl||null),i.prevEl=e,e.afterBrush&&e.afterBrush(r)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=314159);var n=this._layers[e];return n||((n=new Pu("zr_"+e,this,this.dpr)).zlevel=e,n.__builtin__=!0,this._layerConfig[e]&&Ye(n,this._layerConfig[e],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},insertLayer:function(e,t){var n=this._layers,i=this._zlevelList,r=i.length,o=null,a=-1,s=this._domRoot;if(n[e]);else if(function(e){return!!e&&(!!e.__builtin__||"function"==typeof e.resize&&"function"==typeof e.refresh)}(t)){if(r>0&&e>i[0]){for(a=0;a<r-1&&!(i[a]<e&&i[a+1]>e);a++);o=n[i[a]]}if(i.splice(a+1,0,e),n[e]=t,!t.virtual)if(o){var u=o.dom;u.nextSibling?s.insertBefore(t.dom,u.nextSibling):s.appendChild(t.dom)}else s.firstChild?s.insertBefore(t.dom,s.firstChild):s.appendChild(t.dom)}},eachLayer:function(e,t){var n,i,r=this._zlevelList;for(i=0;i<r.length;i++)e.call(t,this._layers[n=r[i]],n)},eachBuiltinLayer:function(e,t){var n,i,r,o=this._zlevelList;for(r=0;r<o.length;r++)(n=this._layers[i=o[r]]).__builtin__&&e.call(t,n,i)},eachOtherLayer:function(e,t){var n,i,r,o=this._zlevelList;for(r=0;r<o.length;r++)(n=this._layers[i=o[r]]).__builtin__||e.call(t,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){function t(u){n&&(n.__endIndex!==u&&(n.__dirty=!0),n.__endIndex=u)}if(this.eachBuiltinLayer(function(u,d){u.__dirty=u.__used=!1}),this._singleCanvas)for(r=1;r<e.length;r++)if((a=e[r]).zlevel!==e[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}for(var n=null,i=0,r=0;r<e.length;r++){var o,a=e[r],s=a.zlevel;a.incremental?((o=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,i=1):o=this.getLayer(s+(i>0?.01:0),this._needsManuallyCompositing),o!==n&&(o.__used=!0,o.__startIndex!==r&&(o.__dirty=!0),o.__startIndex=r,o.__drawIndex=o.incremental?-1:r,t(r),n=o),a.__dirty&&(o.__dirty=!0,o.incremental&&o.__drawIndex<0&&(o.__drawIndex=r))}t(r),this.eachBuiltinLayer(function(u,d){!u.__used&&u.getElementCount()>0&&(u.__dirty=!0,u.__startIndex=u.__endIndex=u.__drawIndex=0),u.__dirty&&u.__drawIndex<0&&(u.__drawIndex=u.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},configLayer:function(e,t){if(t){var n=this._layerConfig;n[e]?Ye(n[e],t,!0):n[e]=t;for(var i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i];r!==e&&r!==e+.01||Ye(this._layers[r],n[e],!0)}}},delLayer:function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n.splice(Qe(n,e),1))},resize:function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!=e||t!=this._height){for(var r in n.style.width=e+"px",n.style.height=t+"px",this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(e,t);de(this._progressiveLayers,function(o){o.resize(e,t)}),this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(314159).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var t=new Pu("image",this,(e=e||{}).pixelRatio||this.dpr);if(t.initContext(),t.clearColor=e.backgroundColor,t.clear(),e.pixelRatio<=this.dpr){this.refresh();var n=t.dom.width,i=t.dom.height,r=t.ctx;this.eachLayer(function(d){d.__builtin__?r.drawImage(d.dom,0,0,n,i):d.renderToCanvas&&(t.ctx.save(),d.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var o={},a=this.storage.getDisplayList(!0),s=0;s<a.length;s++)this._doPaintEl(a[s],t,!0,o);return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],i=["clientWidth","clientHeight"][e],r=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[i]||Yo(s[n])||Yo(a.style[n]))-(Yo(s[r])||0)-(Yo(s[o])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var n=document.createElement("canvas"),i=n.getContext("2d"),r=e.getBoundingRect(),o=e.style,a=o.shadowBlur*t,s=o.shadowOffsetX*t,u=o.shadowOffsetY*t,d=o.hasStroke()?o.lineWidth:0,h=Math.max(d/2,-s+a),g=Math.max(d/2,s+a),m=Math.max(d/2,-u+a),y=Math.max(d/2,u+a),I=r.width+h+g,j=r.height+m+y;n.width=I*t,n.height=j*t,i.scale(t,t),i.clearRect(0,0,I,j),i.dpr=t;var q={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[h-r.x,m-r.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(i);var K=new ur({style:{x:0,y:0,image:n}});return null!=q.position&&(K.position=e.position=q.position),null!=q.rotation&&(K.rotation=e.rotation=q.rotation),null!=q.scale&&(K.scale=e.scale=q.scale),K}};var Kp="undefined"!=typeof window&&!!window.addEventListener,Xk=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Xa=Kp?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0},md=function(e){this.stage=(e=e||{}).stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._paused=!1,_r.call(this)};md.prototype={constructor:md,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),n=0;n<t.length;n++)this.addClip(t[n])},removeClip:function(e){var t=Qe(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),n=0;n<t.length;n++)this.removeClip(t[n]);e.animation=null},_update:function(){for(var e=(new Date).getTime()-this._pausedTime,t=e-this._time,n=this._clips,i=n.length,r=[],o=[],a=0;a<i;a++){var s=n[a],u=s.step(e,t);u&&(r.push(u),o.push(s))}for(a=0;a<i;)n[a]._needsRemove?(n[a]=n[i-1],n.pop(),i--):a++;for(i=r.length,a=0;a<i;a++)o[a].fire(r[a]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;this._running=!0,Wp(function e(){t._running&&(Wp(e),!t._paused&&t._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(e,t){var n=new Bp(e,(t=t||{}).loop,t.getter,t.setter);return this.addAnimator(n),n}},Ke(md,_r);var Jp=function(){this._track=[]};Jp.prototype={constructor:Jp,recognize:function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,n){var i=e.touches;if(i){for(var r={points:[],touches:[],target:t,event:e},o=0,a=i.length;o<a;o++){var s=i[o],u=oo(n,s,{});r.points.push([u.zrX,u.zrY]),r.touches.push(s)}this._track.push(r)}},_recognize:function(e){for(var t in Qp)if(Qp.hasOwnProperty(t)){var n=Qp[t](this._track,e);if(n)return n}}};var Qp={pinch:function(e,t){var n=e.length;if(n){var i=(e[n-1]||{}).points,r=(e[n-2]||{}).points||i;if(r&&r.length>1&&i&&i.length>1){var o=T(i)/T(r);!isFinite(o)&&(o=1),t.pinchScale=o;var a=function(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}(i);return t.pinchX=a[0],t.pinchY=a[1],{type:"pinch",target:e[0].target,event:t}}}}},vd=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],eg=["touchstart","touchend","touchmove"],Kk={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},Ex=Me(vd,function(e){var t=e.replace("mouse","pointer");return Kk[t]?t:e}),so={mousemove:function(e){e=Y(this.dom,e),this.trigger("mousemove",e)},mouseout:function(e){var t=(e=Y(this.dom,e)).toElement||e.relatedTarget;if(t!=this.dom)for(;t&&9!=t.nodeType;){if(t===this.dom)return;t=t.parentNode}this.trigger("mouseout",e)},touchstart:function(e){(e=Y(this.dom,e)).zrByTouch=!0,this._lastTouchMoment=new Date,S(this,e,"start"),so.mousemove.call(this,e),so.mousedown.call(this,e),F(this)},touchmove:function(e){(e=Y(this.dom,e)).zrByTouch=!0,S(this,e,"change"),so.mousemove.call(this,e),F(this)},touchend:function(e){(e=Y(this.dom,e)).zrByTouch=!0,S(this,e,"end"),so.mouseup.call(this,e),+new Date-this._lastTouchMoment<300&&so.click.call(this,e),F(this)},pointerdown:function(e){so.mousedown.call(this,e)},pointermove:function(e){D(e)||so.mousemove.call(this,e)},pointerup:function(e){so.mouseup.call(this,e)},pointerout:function(e){D(e)||so.mouseout.call(this,e)}};de(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){so[e]=function(t){t=Y(this.dom,t),this.trigger(e,t)}});var Rx=E.prototype;Rx.dispose=function(){for(var e=vd.concat(eg),t=0;t<e.length;t++){var n=e[t];B(this.dom,w(n),this._handlers[n])}},Rx.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},Ke(E,_r);var Jk=!Ci.canvasSupported,yd={canvas:Xp},Bs={},tg=function(e,t,n){n=n||{},this.dom=t,this.id=e;var i=this,r=new Op,o=n.renderer;if(Jk){if(!yd.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");o="vml"}else o&&yd[o]||(o="canvas");var a=new yd[o](t,r,n,e);this.storage=r,this.painter=a;var s=Ci.node||Ci.worker?null:new E(a.getViewportRoot());this.handler=new Al(r,a,s,a.root),this.animation=new md({stage:{update:ot(this.flush,this)}}),this.animation.start();var u=r.delFromStorage,d=r.addToStorage;r.delFromStorage=function(h){u.call(r,h),h&&h.removeSelfFromZr(i)},r.addToStorage=function(h){d.call(r,h),h.addSelfToZr(i)}};tg.prototype={constructor:tg,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer(e,t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately(),this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(e,t){this.painter.addHover&&(this.painter.addHover(e,t),this.refreshHover())},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){this.painter.resize((e=e||{}).width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,n){this.handler.on(e,t,n)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function(e){delete Bs[e]}(this.id)}};var Qk=(Object.freeze||Object)({version:"4.0.1",init:V,dispose:function(e){if(e)e.dispose();else{for(var t in Bs)Bs.hasOwnProperty(t)&&Bs[t].dispose();Bs={}}return this},getInstance:function(e){return Bs[e]},registerPainter:R}),Il=de,Dl=Oe,eA=me,xd="\0-",Bx=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],tA=0,nA=".",Os="___EC__COMPONENT__CONTAINER___",iA=0,Nl=function(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(n,i,r){for(var o={},a=0;a<e.length;a++){var s=e[a][1];if(!(i&&Qe(i,s)>=0||r&&Qe(r,s)<0)){var u=n.getShallow(s);null!=u&&(o[e[a][0]]=u)}}return o}},rA=Nl([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),oA={getLineStyle:function(e){var t=rA(this,e),n=this.getLineDash(t.lineWidth);return n&&(t.lineDash=n),t},getLineDash:function(e){null==e&&(e=1);var t=this.get("type"),n=Math.max(e,2),i=4*e;return"solid"===t||null==t?null:"dashed"===t?[i,i]:[n,n]}},aA=Nl([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),sA={getAreaStyle:function(e,t){return aA(this,e,t)}},bd=Math.pow,Ka=Math.sqrt,_d=1e-8,Ox=1e-4,zx=Ka(3),wd=1/3,ea=_n(),bo=_n(),Pl=_n(),Kr=Math.min,Jr=Math.max,ng=Math.sin,ig=Math.cos,zs=2*Math.PI,Cd=_n(),Sd=_n(),Md=_n(),Fx=[],Vx=[],dr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ta=[],Ja=[],na=[],ia=[],Hx=Math.min,Wx=Math.max,Eu=Math.cos,Ru=Math.sin,Td=Math.sqrt,Ll=Math.abs,rg="undefined"!=typeof Float32Array,lo=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};lo.prototype={constructor:lo,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t){this._ux=Ll(1/ld/e)||0,this._uy=Ll(1/ld/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(dr.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var n=Ll(e-this._xi)>this._ux||Ll(t-this._yi)>this._uy||this._len<5;return this.addData(dr.L,e,t),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),n&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,n,i,r,o){return this.addData(dr.C,e,t,n,i,r,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,n,i,r,o):this._ctx.bezierCurveTo(e,t,n,i,r,o)),this._xi=r,this._yi=o,this},quadraticCurveTo:function(e,t,n,i){return this.addData(dr.Q,e,t,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,n,i):this._ctx.quadraticCurveTo(e,t,n,i)),this._xi=n,this._yi=i,this},arc:function(e,t,n,i,r,o){return this.addData(dr.A,e,t,n,n,i,r-i,0,o?0:1),this._ctx&&this._ctx.arc(e,t,n,i,r,o),this._xi=Eu(r)*n+e,this._yi=Ru(r)*n+e,this},arcTo:function(e,t,n,i,r){return this._ctx&&this._ctx.arcTo(e,t,n,i,r),this},rect:function(e,t,n,i){return this._ctx&&this._ctx.rect(e,t,n,i),this.addData(dr.R,e,t,n,i),this},closePath:function(){this.addData(dr.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,n),e.closePath()),this._xi=t,this._yi=n,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,n=0;n<e.length;n++)t+=e[n];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;this.data&&this.data.length==t||!rg||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,i=this._len,r=0;r<t;r++)n+=e[r].len();for(rg&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n)),r=0;r<t;r++)for(var o=e[r].data,a=0;a<o.length;a++)this.data[i++]=o[a];this._len=i},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var n=0;n<arguments.length;n++)t[this._len++]=arguments[n];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var n,i,r=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,u=this._xi,d=this._yi,h=e-u,g=t-d,m=Td(h*h+g*g),y=u,I=d,j=a.length;for(o<0&&(o=r+o),y-=(o%=r)*(h/=m),I-=o*(g/=m);h>0&&y<=e||h<0&&y>=e||0==h&&(g>0&&I<=t||g<0&&I>=t);)y+=h*(n=a[i=this._dashIdx]),I+=g*n,this._dashIdx=(i+1)%j,h>0&&y<u||h<0&&y>u||g>0&&I<d||g<0&&I>d||s[i%2?"moveTo":"lineTo"](h>=0?Hx(y,e):Wx(y,e),g>=0?Hx(I,t):Wx(I,t));this._dashOffset=-Td((h=y-e)*h+(g=I-t)*g)},_dashedBezierTo:function(e,t,n,i,r,o){var a,s,u,d,h,g=this._dashSum,m=this._dashOffset,y=this._lineDash,I=this._ctx,j=this._xi,q=this._yi,K=Le,te=0,ue=this._dashIdx,be=y.length,ke=0;for(m<0&&(m=g+m),m%=g,a=0;a<1;a+=.1)s=K(j,e,n,r,a+.1)-K(j,e,n,r,a),u=K(q,t,i,o,a+.1)-K(q,t,i,o,a),te+=Td(s*s+u*u);for(;ue<be&&!((ke+=y[ue])>m);ue++);for(a=(ke-m)/te;a<=1;)d=K(j,e,n,r,a),h=K(q,t,i,o,a),ue%2?I.moveTo(d,h):I.lineTo(d,h),a+=y[ue]/te,ue=(ue+1)%be;ue%2!=0&&I.lineTo(r,o),this._dashOffset=-Td((s=r-d)*s+(u=o-h)*u)},_dashedQuadraticTo:function(e,t,n,i){var r=n,o=i;n=(n+2*e)/3,i=(i+2*t)/3,this._dashedBezierTo(e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,n,i,r,o)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,rg&&(this.data=new Float32Array(e)))},getBoundingRect:function(){ta[0]=ta[1]=na[0]=na[1]=Number.MAX_VALUE,Ja[0]=Ja[1]=ia[0]=ia[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,n=0,i=0,r=0,o=0;o<e.length;){var a=e[o++];switch(1==o&&(i=t=e[o],r=n=e[o+1]),a){case dr.M:t=i=e[o++],n=r=e[o++],na[0]=i,na[1]=r,ia[0]=i,ia[1]=r;break;case dr.L:je(t,n,e[o],e[o+1],na,ia),t=e[o++],n=e[o++];break;case dr.C:St(t,n,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],na,ia),t=e[o++],n=e[o++];break;case dr.Q:ct(t,n,e[o++],e[o++],e[o],e[o+1],na,ia),t=e[o++],n=e[o++];break;case dr.A:var s=e[o++],u=e[o++],d=e[o++],h=e[o++],g=e[o++],m=e[o++]+g,y=(o++,1-e[o++]);1==o&&(i=Eu(g)*d+s,r=Ru(g)*h+u),wt(s,u,d,h,g,m,y,na,ia),t=Eu(m)*d+s,n=Ru(m)*h+u;break;case dr.R:je(i=t=e[o++],r=n=e[o++],i+e[o++],r+e[o++],na,ia);break;case dr.Z:t=i,n=r}_t(ta,ta,na),on(Ja,Ja,ia)}return 0===o&&(ta[0]=ta[1]=Ja[0]=Ja[1]=0),new li(ta[0],ta[1],Ja[0]-ta[0],Ja[1]-ta[1])},rebuildPath:function(e){for(var t,n,i,r,o,a,s=this.data,u=this._ux,d=this._uy,h=this._len,g=0;g<h;){var m=s[g++];switch(1==g&&(t=i=s[g],n=r=s[g+1]),m){case dr.M:t=i=s[g++],n=r=s[g++],e.moveTo(i,r);break;case dr.L:o=s[g++],a=s[g++],(Ll(o-i)>u||Ll(a-r)>d||g===h-1)&&(e.lineTo(o,a),i=o,r=a);break;case dr.C:e.bezierCurveTo(s[g++],s[g++],s[g++],s[g++],s[g++],s[g++]),i=s[g-2],r=s[g-1];break;case dr.Q:e.quadraticCurveTo(s[g++],s[g++],s[g++],s[g++]),i=s[g-2],r=s[g-1];break;case dr.A:var y=s[g++],I=s[g++],j=s[g++],q=s[g++],K=s[g++],te=s[g++],ue=s[g++],be=s[g++],ke=j>q?j:q,Be=j>q?1:j/q,We=j>q?q/j:1,qe=K+te;Math.abs(j-q)>.001?(e.translate(y,I),e.rotate(ue),e.scale(Be,We),e.arc(0,0,ke,K,qe,1-be),e.scale(1/Be,1/We),e.rotate(-ue),e.translate(-y,-I)):e.arc(y,I,ke,K,qe,1-be),1==g&&(t=Eu(K)*j+y,n=Ru(K)*q+I),i=Eu(qe)*j+y,r=Ru(qe)*q+I;break;case dr.R:t=i=s[g],n=r=s[g+1],e.rect(s[g++],s[g++],s[g++],s[g++]);break;case dr.Z:e.closePath(),i=t,r=n}}}},lo.CMD=dr;var Gx=2*Math.PI,Bu=2*Math.PI,Qa=lo.CMD,El=2*Math.PI,lA=1e-4,Hr=[-1,-1,-1],_o=[-1,-1],Ux=Hp.prototype.getCanvasPattern,og=Math.abs,uA=new lo(!0);sn.prototype={constructor:sn,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(e,t){var m,n=this.style,i=this.path||uA,r=n.hasStroke(),o=n.hasFill(),a=n.fill,s=n.stroke,u=o&&!!a.colorStops,d=r&&!!s.colorStops,h=o&&!!a.image,g=r&&!!s.image;n.bind(e,this,t),this.setTransform(e),this.__dirty&&(u&&(m=m||this.getBoundingRect(),this._fillGradient=n.getGradient(e,a,m)),d&&(m=m||this.getBoundingRect(),this._strokeGradient=n.getGradient(e,s,m))),u?e.fillStyle=this._fillGradient:h&&(e.fillStyle=Ux.call(a,e)),d?e.strokeStyle=this._strokeGradient:g&&(e.strokeStyle=Ux.call(s,e));var y=n.lineDash,I=n.lineDashOffset,j=!!e.setLineDash,q=this.getGlobalScale();i.setScale(q[0],q[1]),this.__dirtyPath||y&&!j&&r?(i.beginPath(e),y&&!j&&(i.setLineDash(y),i.setLineDashOffset(I)),this.buildPath(i,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),o&&i.fill(e),y&&j&&(e.setLineDash(y),e.lineDashOffset=I),r&&i.stroke(e),y&&j&&e.setLineDash([]),null!=n.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,n){},createPathProxy:function(){this.path=new lo},getBoundingRect:function(){var e=this._rect,t=this.style,n=!e;if(n){var i=this.path;i||(i=this.path=new lo),this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),e=i.getBoundingRect()}if(this._rect=e,t.hasStroke()){var r=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||n){r.copy(e);var o=t.lineWidth,a=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),a>1e-10&&(r.width+=o/a,r.height+=o/a,r.x-=o/a/2,r.y-=o/a/2)}return r}return e},contain:function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect(),r=this.style;if(i.contain(e=n[0],t=n[1])){var o=this.path.data;if(r.hasStroke()){var a=r.lineWidth,s=r.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(r.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),function(e,t,n,i){return Xt(e,t,!0,n,i)}(o,a/s,e,t)))return!0}if(r.hasFill())return function(e,t,n){return Xt(e,0,!1,t,n)}(o,e,t)}return!1},dirty:function(e){null==e&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){"shape"===e?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):yr.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var n=this.shape;if(n){if(Oe(e))for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);else n[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&og(e[0]-1)>1e-10&&og(e[3]-1)>1e-10?Math.sqrt(og(e[0]*e[3]-e[2]*e[1])):1}},sn.extend=function(e){var t=function(i){sn.call(this,i),e.style&&this.style.extendFrom(e.style,!1);var r=e.shape;if(r){this.shape=this.shape||{};var o=this.shape;for(var a in r)!o.hasOwnProperty(a)&&r.hasOwnProperty(a)&&(o[a]=r[a])}e.init&&e.init.call(this,i)};for(var n in we(t,sn),e)"style"!==n&&"shape"!==n&&(t.prototype[n]=e[n]);return t},we(sn,yr);var Rl=lo.CMD,cA=[[],[],[]],jx=Math.sqrt,dA=Math.atan2,hA=function(e,t){var n,i,r,o,a,s,u=e.data,d=Rl.M,h=Rl.C,g=Rl.L,m=Rl.R,y=Rl.A,I=Rl.Q;for(r=0,o=0;r<u.length;){switch(n=u[r++],o=r,i=0,n){case d:case g:i=1;break;case h:i=3;break;case I:i=2;break;case y:var j=t[4],q=t[5],K=jx(t[0]*t[0]+t[1]*t[1]),te=jx(t[2]*t[2]+t[3]*t[3]),ue=dA(-t[1]/te,t[0]/K);u[r]*=K,u[r++]+=j,u[r]*=te,u[r++]+=q,u[r++]*=K,u[r++]*=te,u[r++]+=ue,u[r++]+=ue,o=r+=2;break;case m:s[0]=u[r++],s[1]=u[r++],Pt(s,s,t),u[o++]=s[0],u[o++]=s[1],s[0]+=u[r++],s[1]+=u[r++],Pt(s,s,t),u[o++]=s[0],u[o++]=s[1]}for(a=0;a<i;a++)(s=cA[a])[0]=u[r++],s[1]=u[r++],Pt(s,s,t),u[o++]=s[0],u[o++]=s[1]}},ag=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],sg=Math.sqrt,kd=Math.sin,Ad=Math.cos,Id=Math.PI,qx=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},lg=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(qx(e)*qx(t))},Zx=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(lg(e,t))},Si=function(e){yr.call(this,e)};Si.prototype={constructor:Si,type:"text",brush:function(e,t){var n=this.style;this.__dirty&&Fr(n),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var i=n.text;null!=i&&(i+=""),n.bind(e,this,t),_s(i,n)&&(this.setTransform(e),Ao(this,e,i,n),this.restoreTransform(e))},getBoundingRect:function(){var e=this.style;if(this.__dirty&&Fr(e),!this._rect){var t=e.text;null!=t?t+="":t="";var n=qr(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.rich);if(n.x+=e.x||0,n.y+=e.y||0,go(e.textStroke,e.textStrokeWidth)){var i=e.textStrokeWidth;n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i}this._rect=n}return this._rect}},we(Si,yr);var Fs=sn.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,n){n&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}}),es=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],ug=function(e){return Ci.browser.ie&&Ci.browser.version>=11?function(){var t,n=this.__clipPaths,i=this.style;if(n)for(var r=0;r<n.length;r++){var o=n[r],a=o&&o.shape,s=o&&o.type;if(a&&("sector"===s&&a.startAngle===a.endAngle||"rect"===s&&(!a.width||!a.height))){for(u=0;u<es.length;u++)es[u][2]=i[es[u][0]],i[es[u][0]]=es[u][1];t=!0;break}}if(e.apply(this,arguments),t)for(var u=0;u<es.length;u++)i[es[u][0]]=es[u][2]}:e},Na=sn.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:ug(sn.prototype.brush),buildPath:function(e,t){var n=t.cx,i=t.cy,r=Math.max(t.r0||0,0),o=Math.max(t.r,0),a=t.startAngle,s=t.endAngle,u=t.clockwise,d=Math.cos(a),h=Math.sin(a);e.moveTo(d*r+n,h*r+i),e.lineTo(d*o+n,h*o+i),e.arc(n,i,o,a,s,!u),e.lineTo(Math.cos(s)*r+n,Math.sin(s)*r+i),0!==r&&e.arc(n,i,r,s,a,u),e.closePath()}}),Yx=sn.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=2*Math.PI;e.moveTo(n+t.r,i),e.arc(n,i,t.r,0,r,!1),e.moveTo(n+t.r0,i),e.arc(n,i,t.r0,0,r,!0)}}),fA=function(e,t){for(var n=e.length,i=[],r=0,o=1;o<n;o++)r+=zi(e[o-1],e[o]);var a=r/2;for(a=a<n?n:a,o=0;o<a;o++){var s,u,d,h=o/(a-1)*(t?n:n-1),g=Math.floor(h),m=h-g,y=e[g%n];t?(s=e[(g-1+n)%n],u=e[(g+1)%n],d=e[(g+2)%n]):(s=e[0===g?g:g-1],u=e[g>n-2?n-1:g+1],d=e[g>n-3?n-1:g+2]);var I=m*m,j=m*I;i.push([Se(s[0],y[0],u[0],d[0],m,I,j),Se(s[1],y[1],u[1],d[1],m,I,j)])}return i},pA=function(e,t,n,i){var r,o,a,s,u=[],d=[],h=[],g=[];if(i){a=[1/0,1/0],s=[-1/0,-1/0];for(var m=0,y=e.length;m<y;m++)_t(a,a,e[m]),on(s,s,e[m]);_t(a,a,i[0]),on(s,s,i[1])}for(m=0,y=e.length;m<y;m++){var I=e[m];if(n)r=e[m?m-1:y-1],o=e[(m+1)%y];else{if(0===m||m===y-1){u.push(Ht(e[m]));continue}r=e[m-1],o=e[m+1]}Nn(d,o,r),si(d,d,t);var j=zi(I,r),q=zi(I,o),K=j+q;0!==K&&(j/=K,q/=K),si(h,d,-j),si(g,d,q);var te=Et([],I,h),ue=Et([],I,g);i&&(on(te,te,a),_t(te,te,s),on(ue,ue,a),_t(ue,ue,s)),u.push(te),u.push(ue)}return n&&u.push(u.shift()),u},wo=sn.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){Ve(e,t,!0)}}),ra=sn.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){Ve(e,t,!1)}}),Gi=sn.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,r=t.width,o=t.height;t.r?ys(e,t):e.rect(n,i,r,o),e.closePath()}}),Co=sn.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,i=t.y1,r=t.x2,o=t.y2,a=t.percent;0!==a&&(e.moveTo(n,i),a<1&&(r=n*(1-a)+r*a,o=i*(1-a)+o*a),e.lineTo(r,o))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}}),Qr=[],cg=sn.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,i=t.y1,r=t.x2,o=t.y2,a=t.cpx1,s=t.cpy1,u=t.cpx2,d=t.cpy2,h=t.percent;0!==h&&(e.moveTo(n,i),null==u||null==d?(h<1&&(He(n,a,r,h,Qr),a=Qr[1],r=Qr[2],He(i,s,o,h,Qr),s=Qr[1],o=Qr[2]),e.quadraticCurveTo(a,s,r,o)):(h<1&&(Qt(n,a,u,r,h,Qr),a=Qr[1],u=Qr[2],r=Qr[3],Qt(i,s,d,o,h,Qr),s=Qr[1],d=Qr[2],o=Qr[3]),e.bezierCurveTo(a,s,u,d,r,o)))},pointAt:function(e){return it(this.shape,e,!1)},tangentAt:function(e){var t=it(this.shape,e,!0);return qn(t,t)}}),$x=sn.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.cx,i=t.cy,r=Math.max(t.r,0),o=t.startAngle,a=t.endAngle,s=t.clockwise,u=Math.cos(o),d=Math.sin(o);e.moveTo(u*r+n,d*r+i),e.arc(n,i,r,o,a,!s)}}),Xx=sn.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,n=0;n<t.length;n++)e=e||t[n].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1])},buildPath:function(e,t){for(var n=t.paths||[],i=0;i<n.length;i++)n[i].buildPath(e,n[i].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),sn.prototype.getBoundingRect.call(this)}}),oa=function(e){this.colorStops=e||[]};oa.prototype={constructor:oa,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}};var Bl=function(e,t,n,i,r,o){this.x=null==e?0:e,this.y=null==t?0:t,this.x2=null==n?1:n,this.y2=null==i?0:i,this.type="linear",this.global=o||!1,oa.call(this,r)};Bl.prototype={constructor:Bl},we(Bl,oa);var Dd=function(e,t,n,i,r){this.x=null==e?.5:e,this.y=null==t?.5:t,this.r=null==n?.5:n,this.type="radial",this.global=r||!1,oa.call(this,i)};Dd.prototype={constructor:Dd},we(Dd,oa),mt.prototype.incremental=!0,mt.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},mt.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()},mt.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},mt.prototype.eachPendingDisplayable=function(e){for(t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(var t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},mt.prototype.update=function(){for(this.updateTransform(),e=this._cursor;e<this._displayables.length;e++)(t=this._displayables[e]).parent=this,t.update(),t.parent=null;for(var e=0;e<this._temporaryDisplayables.length;e++){var t=this._temporaryDisplayables[e];t.parent=this,t.update(),t.parent=null}},mt.prototype.brush=function(e,t){for(n=this._cursor;n<this._displayables.length;n++)(i=this._temporaryDisplayables[n]).beforeBrush&&i.beforeBrush(e),i.brush(e,n===this._cursor?null:this._displayables[n-1]),i.afterBrush&&i.afterBrush(e);this._cursor=n;for(var n=0;n<this._temporaryDisplayables.length;n++){var i=this._temporaryDisplayables[n];i.beforeBrush&&i.beforeBrush(e),i.brush(e,0===n?null:this._temporaryDisplayables[n-1]),i.afterBrush&&i.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var gA=[];mt.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new li(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(gA)),e.union(i)}this._rect=e}return this._rect},mt.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++)if(this._displayables[i].contain(e,t))return!0;return!1},we(mt,yr);var Ol=Math.round,Nd=Math.max,Pd=Math.min,Ld={},Pa=function(e,t){for(var n=[],i=e.length,r=0;r<i;r++){var o=e[r];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),n.push(o.path)}var a=new sn(t);return a.createPathProxy(),a.buildPath=function(s){s.appendPath(n);var u=s.getContext();u&&s.rebuildPath(u)},a},Lo=(Object.freeze||Object)({extendShape:et,extendPath:function(e,t){return function(e,t){return sn.extend(Fe(e,t))}(e,t)},makePath:Ee,makeImage:ht,mergePath:Pa,resizePath:$t,subPixelOptimizeLine:Ge,subPixelOptimizeRect:l,subPixelOptimize:c,setHoverStyle:De,setLabelStyle:Ue,setTextStyle:Ze,setText:function(e,t,n){var i,r={isRectText:!0};!1===n?i=!0:r.autoColor=n,qt(e,t,r,i),e.host&&e.host.dirty&&e.host.dirty(!1)},getFont:ei,updateProps:pn,initProps:ui,getTransform:mi,applyTransform:pi,transformDirection:ji,groupTransition:wi,clipPointsByRect:Fi,clipRectByRect:function(e,t){var n=Nd(e.x,t.x),i=Pd(e.x+e.width,t.x+t.width),r=Nd(e.y,t.y),o=Pd(e.y+e.height,t.y+t.height);if(i>=n&&o>=r)return{x:n,y:r,width:i-n,height:o-r}},createIcon:Wi,Group:Un,Image:ur,Text:Si,Circle:Fs,Sector:Na,Ring:Yx,Polygon:wo,Polyline:ra,Rect:Gi,Line:Co,BezierCurve:cg,Arc:$x,IncrementalDisplayable:mt,CompoundPath:Xx,LinearGradient:Bl,RadialGradient:Dd,BoundingRect:li}),mA=["textStyle","color"],vA={getTextColor:function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(mA):null)},getFont:function(){return ei({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return qr(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},yA=Nl([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),xA={getItemStyle:function(e,t){var n=yA(this,e,t),i=this.getBorderLineDash();return i&&(n.lineDash=i),n},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}},Ed=Ke,Kx=U();Kn.prototype={constructor:Kn,init:null,mergeOption:function(e){Ye(this.option,e,!0)},get:function(e,t){return null==e?this.option:cr(this.option,this.parsePath(e),!t&&Sr(this,e))},getShallow:function(e,t){var n=this.option,i=null==n?n:n[e],r=!t&&Sr(this,e);return null==i&&r&&(i=r.getShallow(e)),i},getModel:function(e,t){var n;return new Kn(null==e?this.option:cr(this.option,e=this.parsePath(e)),t=t||(n=Sr(this,e))&&n.getModel(e),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(hn(this.option))},setReadOnly:function(e){},parsePath:function(e){return"string"==typeof e&&(e=e.split(".")),e},customizeGetParent:function(e){Kx(this).getParent=e},isAnimationEnabled:function(){if(!Ci.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},ge(Kn),Te(Kn),Ed(Kn,oA),Ed(Kn,sA),Ed(Kn,vA),Ed(Kn,xA);var bA=0,Jx=1e-4,dg=9007199254740991,_A=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,wA=(Object.freeze||Object)({linearMap:Ai,parsePercent:vn,round:$r,asc:ws,getPrecision:Um,getPrecisionSafe:lc,getPixelPrecision:Nh,getPercentWithPrecision:jm,MAX_SAFE_INTEGER:dg,remRadian:Ph,isRadianAroundZero:tu,parseDate:nu,quantity:qm,nice:Lh,reformIntervals:Eh,isNumeric:Ym}),Vs=bt,Qx=["a","b","c","d","e","f","g"],hg=function(e,t){return"{"+e+(null==t?"":t)+"}"},Ou=function(e){return e<10?"0"+e:e},eb=va,SA=(Object.freeze||Object)({addCommas:Cs,toCamelCase:$m,normalizeCssArray:Vs,encodeHTML:ir,formatTpl:Rh,formatTplSimple:Xm,getTooltipMarker:uc,formatTime:Bh,capitalFirst:cc,truncateText:eb,getTextRect:qr}),Rd=de,tb=["left","right","top","bottom","width","height"],Hs=[["width","left","right"],["height","top","bottom"]],zu=Oh,MA=(Ne(Oh,"vertical"),Ne(Oh,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),TA=U(),Ii=Kn.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,n,i){Kn.call(this,e,t,n,i),this.uid=Yr("ec_cpt_model")},init:function(e,t,n,i){this.mergeDefaultAndTheme(e,n)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,i=n?dl(e):{};Ye(e,t.getTheme().get(this.mainType)),Ye(e,this.getDefaultOption()),n&&Ua(e,i,n)},mergeOption:function(e,t){Ye(this.option,e,!0);var n=this.layoutMode;n&&Ua(this.option,e,n)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=TA(this);if(!e.defaultOption){for(var t=[],n=this.constructor;n;){var i=n.prototype.defaultOption;i&&t.push(i),n=n.superClass}for(var r={},o=t.length-1;o>=0;o--)r=Ye(r,t[o],!0);e.defaultOption=r}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});ce(Ii,{registerWhenExtend:!0}),function(e){var t={};e.registerSubTypeDefaulter=function(n,i){n=fe(n),t[n.main]=i},e.determineSubType=function(n,i){var r=i.type;if(!r){var o=fe(n).main;e.hasSubTypes(n)&&t[o]&&(r=t[o](i))}return r}}(Ii),function(e,t){function i(o,a){return o[a]||(o[a]={predecessor:[],successor:[]}),o[a]}e.topologicalTravel=function(o,a,s,u){function d(K){g[K].entryCount--,0===g[K].entryCount&&m.push(K)}if(o.length){var h=function(o){var a={},s=[];return de(o,function(u){var d=i(a,u),h=function(o,a){var s=[];return de(o,function(u){Qe(a,u)>=0&&s.push(u)}),s}(d.originalDeps=function(e){var t=[];return de(Ii.getClassesByMainType(e),function(n){t=t.concat(n.prototype.dependencies||[])}),t=Me(t,function(n){return fe(n).main}),"dataset"!==e&&Qe(t,"dataset")<=0&&t.unshift("dataset"),t}(u),o);d.entryCount=h.length,0===d.entryCount&&s.push(u),de(h,function(g){Qe(d.predecessor,g)<0&&d.predecessor.push(g);var m=i(a,g);Qe(m.successor,g)<0&&m.successor.push(u)})}),{graph:a,noEntryList:s}}(a),g=h.graph,m=h.noEntryList,y={};for(de(o,function(K){y[K]=!0});m.length;){var I=m.pop(),j=g[I],q=!!y[I];q&&(s.call(u,I,j.originalDeps.slice()),delete y[I]),de(j.successor,q?function(K){y[K]=!0,d(K)}:d)}de(y,function(){throw new Error("Circle dependency may exists")})}}}(Ii),Ke(Ii,MA);var nb="";"undefined"!=typeof navigator&&(nb=navigator.platform||"");var kA={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:nb.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},fg=U(),pg={clearColorPalette:function(){fg(this).colorIdx=0,fg(this).colorNameMap={}},getColorFromPalette:function(e,t,n){var i=fg(t=t||this),r=i.colorIdx||0,o=i.colorNameMap=i.colorNameMap||{};if(o.hasOwnProperty(e))return o[e];var a=O(this.get("color",!0)),s=this.get("colorLayer",!0),u=null!=n&&s?function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i].length>t)return e[i];return e[n-1]}(s,n):a;if((u=u||a)&&u.length){var d=u[r];return e&&(o[e]=d),i.colorIdx=(r+1)%u.length,d}}},AA={cartesian2d:function(e,t,n,i){var r=e.getReferringComponents("xAxis")[0],o=e.getReferringComponents("yAxis")[0];t.coordSysDims=["x","y"],n.set("x",r),n.set("y",o),hl(r)&&(i.set("x",r),t.firstCategoryDimIndex=0),hl(o)&&(i.set("y",o),t.firstCategoryDimIndex=1)},singleAxis:function(e,t,n,i){var r=e.getReferringComponents("singleAxis")[0];t.coordSysDims=["single"],n.set("single",r),hl(r)&&(i.set("single",r),t.firstCategoryDimIndex=0)},polar:function(e,t,n,i){var r=e.getReferringComponents("polar")[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",a),hl(o)&&(i.set("radius",o),t.firstCategoryDimIndex=0),hl(a)&&(i.set("angle",a),t.firstCategoryDimIndex=1)},geo:function(e,t,n,i){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,i){var r=e.ecModel,o=r.getComponent("parallel",e.get("parallelIndex")),a=t.coordSysDims=o.dimensions.slice();de(o.parallelAxisIndex,function(s,u){var d=r.getComponent("parallelAxis",s),h=a[u];n.set(h,d),hl(d)&&null==t.firstCategoryDimIndex&&(i.set(h,d),t.firstCategoryDimIndex=u)})}},Ws="original",Bd="arrayRows",Od="objectRows",zd="keyedColumns",ib="unknown",Fd="typedArray",rb="column",gg="row";Do.seriesDataToSource=function(e){return new Do({data:e,sourceFormat:xt(e)?Fd:Ws,fromDataset:!1})},Te(Do);var zl=U(),mg="\0_ec_inner",Vd=Kn.extend({constructor:Vd,init:function(e,t,n,i){n=n||{},this.option=null,this._theme=new Kn(n),this._optionManager=i},setOption:function(e,t){dt(!(mg in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,n=this._optionManager;if(!e||"recreate"===e){var i=n.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this.mergeOption(i)):nC.call(this,i),t=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var r=n.getTimelineOption(this);r&&(this.mergeOption(r),t=!0)}if(!e||"recreate"===e||"media"===e){var o=n.getMediaOption(this,this._api);o.length&&de(o,function(a){this.mergeOption(a,t=!0)},this)}return t},mergeOption:function(e){var t=this.option,n=this._componentsMap,i=[];(function(e){zl(e).datasetMap=st()})(this),de(e,function(r,o){null!=r&&(Ii.hasClass(o)?o&&i.push(o):t[o]=null==t[o]?hn(r):Ye(t[o],r,!0))}),Ii.topologicalTravel(i,Ii.getAllClassMainTypes(),function(r,o){var a=O(e[r]),s=M(n.get(r),a);x(s),de(s,function(d,h){var g=d.option;Oe(g)&&(d.keyInfo.mainType=r,d.keyInfo.subType=function(e,t,n){return t.type?t.type:n?n.subType:Ii.determineSubType(e,t)}(r,g,d.exist))});var u=function(e,t){me(t)||(t=t?[t]:[]);var n={};return de(t,function(i){n[i]=(e.get(i)||[]).slice()}),n}(n,o);t[r]=[],n.set(r,[]),de(s,function(d,h){var g=d.exist,m=d.option;if(dt(Oe(m)||g,"Empty component definition"),m){var y=Ii.getClass(r,d.keyInfo.subType,!0);if(g&&g instanceof y)g.name=d.keyInfo.name,g.mergeOption(m,this),g.optionUpdated(m,!1);else{var I=On({dependentModels:u,componentIndex:h},d.keyInfo);On(g=new y(m,this,this,I),I),g.init(m,this,this,I),g.optionUpdated(null,!0)}}else g.mergeOption({},this),g.optionUpdated({},!1);n.get(r)[h]=g,t[r][h]=g.option},this),"series"===r&&zh(this,n.get("series"))},this),this._seriesIndicesMap=st(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=hn(this.option);return de(e,function(t,n){if(Ii.hasClass(n)){for(var i=(t=O(t)).length-1;i>=0;i--)_(t[i])&&t.splice(i,1);e[n]=t}}),delete e[mg],e},getTheme:function(){return this._theme},getComponent:function(e,t){var n=this._componentsMap.get(e);if(n)return n[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var a,n=e.index,i=e.id,r=e.name,o=this._componentsMap.get(t);if(!o||!o.length)return[];if(null!=n)me(n)||(n=[n]),a=ft(Me(n,function(d){return o[d]}),function(d){return!!d});else if(null!=i){var s=me(i);a=ft(o,function(d){return s&&Qe(i,d.id)>=0||!s&&d.id===i})}else if(null!=r){var u=me(r);a=ft(o,function(d){return u&&Qe(r,d.name)>=0||!u&&d.name===r})}else a=o.slice();return iv(a,e)},findComponents:function(e){var n=e.mainType,i=function(r){var o=n+"Index",a=n+"Id",s=n+"Name";return!r||null==r[o]&&null==r[a]&&null==r[s]?null:{mainType:n,index:r[o],id:r[a],name:r[s]}}(e.query);return function(r){return e.filter?ft(r,e.filter):r}(iv(i?this.queryComponents(i):this._componentsMap.get(n),e))},eachComponent:function(e,t,n){var i=this._componentsMap;"function"==typeof e?(n=t,t=e,i.each(function(r,o){de(r,function(a,s){t.call(n,o,a,s)})})):ze(e)?de(i.get(e),t,n):Oe(e)&&de(this.findComponents(e),t,n)},getSeriesByName:function(e){return ft(this._componentsMap.get("series"),function(t){return t.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){return ft(this._componentsMap.get("series"),function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){de(this._seriesIndices,function(n){var i=this._componentsMap.get("series")[n];e.call(t,i,n)},this)},eachRawSeries:function(e,t){de(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,n){de(this._seriesIndices,function(i){var r=this._componentsMap.get("series")[i];r.subType===e&&t.call(n,r,i)},this)},eachRawSeriesByType:function(e,t,n){return de(this.getSeriesByType(e),t,n)},isSeriesFiltered:function(e){return null==this._seriesIndicesMap.get(e.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){zh(this,ft(this._componentsMap.get("series"),e,t))},restoreData:function(e){var t=this._componentsMap;zh(this,t.get("series"));var n=[];t.each(function(i,r){n.push(r)}),Ii.topologicalTravel(n,Ii.getAllClassMainTypes(),function(i,r){de(t.get(i),function(o){("series"!==i||!function(e,t){if(t){var n=t.seiresIndex,i=t.seriesId,r=t.seriesName;return null!=n&&e.componentIndex!==n||null!=i&&e.id!==i||null!=r&&e.name!==r}}(o,e))&&o.restoreData()})})}});Ke(Vd,pg);var IA=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],vg={};Rr.prototype={constructor:Rr,create:function(e,t){var n=[];de(vg,function(i,r){var o=i.create(e,t);n=n.concat(o||[])}),this._coordinateSystems=n},update:function(e,t){de(this._coordinateSystems,function(n){n.update&&n.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Rr.register=function(e,t){vg[e]=t},Rr.get=function(e){return vg[e]};var Hd=de,Gs=hn,Wd=Me,ob=Ye,DA=/^(min|max)?(.+)$/;Fh.prototype={constructor:Fh,setOption:function(e,t){e&&de(O(e.series),function(r){r&&r.data&&xt(r.data)&&Sn(r.data)}),e=Gs(e,!0);var n=this._optionBackup,i=oC.call(this,e,t,!n);this._newBaseOption=i.baseOption,n?(function(e,t){Hd(t=t||{},function(n,i){if(null!=n){var r=e[i];if(Ii.hasClass(i)){n=O(n);var o=M(r=O(r),n);e[i]=Wd(o,function(a){return a.option&&a.exist?ob(a.exist,a.option,!0):a.exist||a.option})}else e[i]=ob(r,n,!0)}})}(n.baseOption,i.baseOption),i.timelineOptions.length&&(n.timelineOptions=i.timelineOptions),i.mediaList.length&&(n.mediaList=i.mediaList),i.mediaDefault&&(n.mediaDefault=i.mediaDefault)):this._optionBackup=i},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=Wd(t.timelineOptions,Gs),this._mediaList=Wd(t.mediaList,Gs),this._mediaDefault=Gs(t.mediaDefault),this._currentMediaIndices=[],Gs(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(t=Gs(n[i.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,r=this._mediaDefault,o=[],a=[];if(!i.length&&!r)return a;for(var s=0,u=i.length;s<u;s++)aC(i[s].query,t,n)&&o.push(s);return!o.length&&r&&(o=[-1]),o.length&&!function(e,t){return e.join(",")===t.join(",")}(o,this._currentMediaIndices)&&(a=Wd(o,function(d){return Gs(-1===d?r.option:i[d].option)})),this._currentMediaIndices=o,a}};var Eo=de,Gd=Oe,ab=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],PA=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],LA=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],sb=function(e,t){(function(e,t){Eo(Ma(e.series),function(i){Gd(i)&&function(e){if(Gd(e)){Vh(e),hc(e),pr(e.label),pr(e.upperLabel),pr(e.edgeLabel),e.emphasis&&(pr(e.emphasis.label),pr(e.emphasis.upperLabel),pr(e.emphasis.edgeLabel));var t=e.markPoint;t&&(Vh(t),vo(t));var n=e.markLine;n&&(Vh(n),vo(n));var i=e.markArea;i&&vo(i);var r=e.data;if("graph"===e.type){r=r||e.nodes;var o=e.links||e.edges;if(o&&!xt(o))for(s=0;s<o.length;s++)vo(o[s]);de(e.categories,function(d){hc(d)})}if(r&&!xt(r))for(s=0;s<r.length;s++)vo(r[s]);if((t=e.markPoint)&&t.data)for(var a=t.data,s=0;s<a.length;s++)vo(a[s]);if((n=e.markLine)&&n.data){var u=n.data;for(s=0;s<u.length;s++)me(u[s])?(vo(u[s][0]),vo(u[s][1])):vo(u[s])}"gauge"===e.type?(pr(e),pr(e),pr(e)):"treemap"===e.type&&(Ar(e.breadcrumb,"itemStyle"),de(e.levels,function(d){hc(d)}))}}(i)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Eo(n,function(i){Eo(Ma(e[i]),function(r){r&&(pr(r),pr(r.axisPointer))})}),Eo(Ma(e.parallel),function(i){var r=i&&i.parallelAxisDefault;pr(r),pr(r&&r.axisPointer)}),Eo(Ma(e.calendar),function(i){Ar(i,"itemStyle"),pr(i),pr(i),pr(i)}),Eo(Ma(e.radar),function(i){pr(i)}),Eo(Ma(e.geo),function(i){Gd(i)&&(vo(i),Eo(Ma(i.regions),function(r){vo(r)}))}),Eo(Ma(e.timeline),function(i){vo(i),Ar(i,"label"),Ar(i,"itemStyle"),Ar(i,"controlStyle",!0),Ar(i,"checkpointStyle");var r=i.data;me(r)&&de(r,function(o){Oe(o)&&(Ar(o,"label"),Ar(o,"itemStyle"))})}),Eo(Ma(e.toolbox),function(i){Ar(i,"iconStyle"),Eo(i.feature,function(r){Ar(r,"iconStyle")})}),pr(ov(e.axisPointer)),pr(ov(e.tooltip).axisPointer)})(e,t),e.series=O(e.series),de(e.series,function(n){if(Oe(n)){var i=n.type;if("pie"!==i&&"gauge"!==i||null!=n.clockWise&&(n.clockwise=n.clockWise),"gauge"===i){var r=function(e,t){t=t.split(",");for(var n=e,i=0;i<t.length&&null!=(n=n&&n[t[i]]);i++);return n}(n,"pointer.color");null!=r&&function(e,t,n,i){t=t.split(",");for(var r,o=e,a=0;a<t.length-1;a++)null==o[r=t[a]]&&(o[r]={}),o=o[r];null==o[t[a]]&&(o[t[a]]=n)}(n,"itemStyle.normal.color",r)}av(n)}}),e.dataRange&&(e.visualMap=e.dataRange),de(LA,function(n){var i=e[n];i&&(me(i)||(i=[i]),de(i,function(r){av(r)}))})},yg=sv.prototype;yg.pure=!1,yg.persistent=!0,yg.getSource=function(){return this._source};var EA={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:Hh},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],n=this._data,i=0;i<n.length;i++){var r=n[i];t.push(r?r[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:lv,getItem:uv,appendData:Hh},keyedColumns:{pure:!0,count:function(){var t=this._data[this._source.dimensionsDefine[0].name];return t?t.length:0},getItem:function(e){for(var t=[],n=this._source.dimensionsDefine,i=0;i<n.length;i++){var r=this._data[n[i].name];t.push(r?r[e]:null)}return t},appendData:function(e){var t=this._data;de(e,function(n,i){for(var r=t[i]||(t[i]=[]),o=0;o<(n||[]).length;o++)r.push(n[o])})}},original:{count:lv,getItem:uv,appendData:Hh},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e){for(var t=[],n=this._dimSize*(e-=this._offset),i=0;i<this._dimSize;i++)t[i]=this._data[n+i];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}},RA={arrayRows:Wh,objectRows:function(e,t,n,i){return null!=n?e[i]:e},keyedColumns:Wh,original:function(e,t,n,i){var r=A(e);return null!=n&&r instanceof Array?r[n]:r},typedArray:Wh},BA={arrayRows:cv,objectRows:function(e,t,n,i){return Gh(e[t],this._dimensionInfos[t])},keyedColumns:cv,original:function(e,t,n,i){var r=e&&(null==e.value?e:e.value);return!this._rawData.pure&&function(e){return Dl(e)&&!(e instanceof Array)}(e)&&(this.hasItemOption=!0),Gh(r instanceof Array?r[i]:r,this._dimensionInfos[t])},typedArray:function(e,t,n,i){return e[i]}},OA=/\{@(.+?)\}/g,xg={getDataParams:function(e,t){var n=this.getData(t),i=this.getRawValue(e,t),r=n.getRawIndex(e),o=n.getName(e,!0),a=n.getRawDataItem(e),s=n.getItemVisual(e,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:o,dataIndex:r,data:a,dataType:t,value:i,color:s,marker:uc(s),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,n,i,r){t=t||"normal";var o=this.getData(n),a=o.getItemModel(e),s=this.getDataParams(e,n);null!=i&&s.value instanceof Array&&(s.value=s.value[i]);var u=a.get("normal"===t?[r||"label","formatter"]:[t,r||"label","formatter"]);return"function"==typeof u?(s.status=t,u(s)):"string"==typeof u?Rh(u,s).replace(OA,function(d,h){var g=h.length;return"["===h.charAt(0)&&"]"===h.charAt(g-1)&&(h=+h.slice(1,g-1)),Ss(o,e,h)}):void 0},getRawValue:function(e,t){return Ss(this.getData(t),e)},formatTooltip:function(){}},ts=dv.prototype;ts.perform=function(e){var r,t=this._upstream,n=e&&e.skip;if(this._dirty&&t){var i=this.context;i.data=i.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!n&&(r=this._plan(this.context)),(this._dirty||"reset"===r)&&(this._dirty=!1,function(e,t){e._dueIndex=e._outputDueEnd=e._dueEnd=0,e._settedOutputEnd=null,e._progress=!t&&e._reset&&e._reset(e.context);var n=e._downstream;n&&n.dirty()}(this,n));var o=e&&e.step;if(this._dueEnd=t?t._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var a=this._dueIndex,s=Math.min(null!=o?this._dueIndex+o:1/0,this._dueEnd);!n&&a<s&&this._progress({start:a,end:s},this.context),this._dueIndex=s,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:s}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},ts.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},ts.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},ts.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},ts.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},ts.getUpstream=function(){return this._upstream},ts.getDownstream=function(){return this._downstream},ts.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};var Fu=U(),hr=Ii.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(e,t,n,i){this.seriesIndex=this.componentIndex,this.dataTask=iu({count:mC,reset:vC}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n),Qm(this);var r=this.getInitialData(e,n);fv(r,this),this.dataTask.context.data=r,Fu(this).dataBeforeProcessed=r,hv(this)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,i=n?dl(e):{},r=this.subType;Ii.hasClass(r)&&(r+="Series"),Ye(e,t.getTheme().get(this.subType)),Ye(e,this.getDefaultOption()),$(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&Ua(e,i,n)},mergeOption:function(e,t){e=Ye(this.option,e,!0),this.fillDataTextStyle(e.data);var n=this.layoutMode;n&&Ua(this.option,e,n),Qm(this);var i=this.getInitialData(e,t);fv(i,this),this.dataTask.dirty(),this.dataTask.context.data=i,Fu(this).dataBeforeProcessed=i,hv(this)},fillDataTextStyle:function(e){if(e)for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&$(e[n],"label",t)},getInitialData:function(){},appendData:function(e){this.getRawData().appendData(e.data)},getData:function(e){var t=Uh(this);if(t){var n=t.context.data;return null==e?n:n.getLinkedData(e)}return Fu(this).data},setData:function(e){var t=Uh(this);if(t){var n=t.context;n.data!==e&&t.isOverallFilter&&t.setOutputEnd(e.count()),n.outputData=e,t!==this.dataTask&&(n.data=e)}Fu(this).data=e},getSource:function(){return function(e){return zl(e).source}(this)},getRawData:function(){return Fu(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,n){var r=this.getData(),o=r.mapDimension("defaultedTooltip",!0),a=o.length,s=this.getRawValue(e),u=me(s),d=r.getItemVisual(e,"color");Oe(d)&&d.colorStops&&(d=(d.colorStops[0]||{}).color),d=d||"transparent";var h=a>1||u&&!a?function(I){function j(te,ue){var be=r.getDimensionInfo(ue);if(be&&!1!==be.otherDims.tooltip){var ke=be.type,Be=uc({color:d,type:"subItem"}),We=(q?Be+ir(be.displayName||"-")+": ":"")+ir("ordinal"===ke?te+"":"time"===ke?t?"":Bh("yyyy/MM/dd hh:mm:ss",te):Cs(te));We&&K.push(We)}}var q=zt(I,function(te,ue,be){var ke=r.getDimensionInfo(be);return te|(ke&&!1!==ke.tooltip&&null!=ke.displayName)},0),K=[];return o.length?de(o,function(te){j(Ss(r,e,te),te)}):de(I,j),(q?"<br/>":"")+K.join(q?"<br/>":", ")}(s):ir(Cs(a?Ss(r,e,o[0]):u?s[0]:s)),g=uc(d),m=r.getName(e),y=this.name;return y===xd&&(y=""),y=y?ir(y)+(t?": ":"<br/>"):"",t?g+y+h:y+g+(m?ir(m)+": "+h:h)},isAnimationEnabled:function(){if(Ci.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,n){var i=this.ecModel,r=pg.getColorFromPalette.call(this,e,t,n);return r||(r=i.getColorFromPalette(e,t,n)),r},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});Ke(hr,xg),Ke(hr,pg);var La=function(){this.group=new Un,this.uid=Yr("viewComponent")};La.prototype={constructor:La,init:function(e,t){},render:function(e,t,n,i){},dispose:function(){}};var bg=La.prototype;bg.updateView=bg.updateLayout=bg.updateVisual=function(e,t,n,i){},ge(La),ce(La,{registerWhenExtend:!0});var _g=function(){var e=U();return function(t){var n=e(t),i=t.pipelineContext,r=n.large,o=n.incrementalRender,a=n.large=i.large,s=n.incrementalRender=i.incrementalRender;return(r^a||o^s)&&"reset"}},lb=U(),zA=_g(),wg=Mr.prototype={type:"chart",init:function(e,t){},render:function(e,t,n,i){},highlight:function(e,t,n,i){pv(e.getData(),i,"emphasis")},downplay:function(e,t,n,i){pv(e.getData(),i,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null};wg.updateView=wg.updateLayout=wg.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},ge(Mr),ce(Mr,{registerWhenExtend:!0}),Mr.markUpdateMethod=function(e,t){lb(e).updateMethod=t};var Ud="\0__throttleOriginMethod",ub="\0__throttleRate",cb="\0__throttleType",FA={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),i=(e.visualColorAccessPath||"itemStyle.color").split("."),r=e.get(i)||e.getColorFromPalette(e.get("name"),null,t.getSeriesCount());if(n.setVisual("color",r),!t.isSeriesFiltered(e))return"function"!=typeof r||r instanceof oa||n.each(function(o){n.setItemVisual(o,"color",r(e.getDataParams(o)))}),{dataEach:n.hasItemOption?function(o,a){var s=o.getItemModel(a).get(i,!0);null!=s&&o.setItemVisual(a,"color",s)}:null}}},ns={toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}},VA=function(e,t){function n(y,I){if("string"!=typeof y)return y;var j=y;return de(I,function(q,K){j=j.replace(new RegExp("\\{\\s*"+K+"\\s*\\}","g"),q)}),j}function i(y){var I=o.get(y);if(null==I){for(var j=y.split("."),q=ns.aria,K=0;K<j.length;++K)q=q[j[K]];return q}return I}function r(y){return ns.series.typeNames[y]||"\u81ea\u5b9a\u4e49\u56fe"}var y,o=t.getModel("aria");if(o.get("show"))if(o.get("description"))e.setAttribute("aria-label",o.get("description"));else{var a=0;t.eachSeries(function(y,I){++a},this);var s,u=o.get("data.maxCount")||10,d=o.get("series.maxCount")||10,h=Math.min(a,d);if(!(a<1)){var g=((y=t.getModel("title").option)&&y.length&&(y=y[0]),y&&y.text);s=g?n(i("general.withTitle"),{title:g}):i("general.withoutTitle");var m=[];s+=n(i(a>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:a}),t.eachSeries(function(y,I){if(I<h){var j,q=y.get("name"),K="series."+(a>1?"multiple":"single")+".";j=n(j=i(q?K+"withName":K+"withoutName"),{seriesId:y.seriesIndex,seriesName:y.get("name"),seriesType:r(y.subType)});var te=y.getData();window.data=te,te.count()>u?j+=n(i("data.partialData"),{displayCnt:u}):j+=i("data.allData");for(var ue=[],be=0;be<te.count();be++)if(be<u){var ke=te.getName(be),Be=Ss(te,be);ue.push(n(i(ke?"data.withName":"data.withoutName"),{name:ke,value:Be}))}j+=ue.join(i("data.separator.middle"))+i("data.separator.end"),m.push(j)}}),s+=m.join(i("series.multiple.separator.middle"))+i("series.multiple.separator.end"),e.setAttribute("aria-label",s)}}},jd=Math.PI,Ro=fc.prototype;Ro.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context;return{step:!t&&n.progressiveEnabled&&(!i||i.incrementalRender)&&e.__idxInPipeline>n.bockIndex?n.step:null}}},Ro.getPipeline=function(e){return this._pipelineMap.get(e)},Ro.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),i=e.getData().count(),r=n.progressiveEnabled&&t.incrementalPrepareRender&&i>=n.threshold,o=e.get("large")&&i>=e.get("largeThreshold");e.pipelineContext=n.context={incrementalRender:r,large:o}},Ro.restorePipelines=function(e){var t=this,n=t._pipelineMap=st();e.eachSeries(function(i){var r=i.getProgressive(),o=i.uid;n.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:r&&!(i.preventIncremental&&i.preventIncremental()),bockIndex:-1,step:r||700,count:0}),pc(t,i,i.dataTask)})},Ro.prepareStageTasks=function(e,t){var n=this._stageTaskMap,i=this.ecInstance.getModel(),r=this.api;de(e,function(o){var a=n.get(o.uid)||n.set(o.uid,[]);o.reset&&function(e,t,n,i,r){function o(h){var g=h.uid,m=a.get(g)||a.set(g,iu({plan:IC,reset:DC,count:PC}));m.context={model:h,ecModel:i,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},pc(e,h,m)}var a=n.seriesTaskMap||(n.seriesTaskMap=st()),s=t.seriesType,u=t.getTargetSeries;t.createOnAllSeries?i.eachRawSeries(o):s?i.eachRawSeriesByType(s,o):u&&u(i,r).each(o);var d=e._pipelineMap;a.each(function(h,g){d.get(g)||(h.dispose(),a.removeKey(g))})}(this,o,a,i,r),o.overallReset&&function(e,t,n,i,r){function o(y){var I=y.uid,j=s.get(I)||s.set(I,iu({reset:TC,onDirty:AC}));j.context={model:y,overallProgress:h,isOverallFilter:g},j.agent=a,j.__block=h,pc(e,y,j)}var a=n.overallTask=n.overallTask||iu({reset:MC});a.context={ecModel:i,api:r,overallReset:t.overallReset,scheduler:e};var s=a.agentStubMap=a.agentStubMap||st(),u=t.seriesType,d=t.getTargetSeries,h=!0,g=t.isOverallFilter;u?i.eachRawSeriesByType(u,o):d?d(i,r).each(o):(h=!1,de(i.getSeries(),o));var m=e._pipelineMap;s.each(function(y,I){m.get(I)||(y.dispose(),s.removeKey(I))})}(this,o,a,i,r)},this)},Ro.prepareView=function(e,t,n,i){var r=e.renderTask,o=r.context;o.model=t,o.ecModel=n,o.api=i,r.__block=!e.incrementalPrepareRender,pc(this,t,r)},Ro.performDataProcessorTasks=function(e,t,n){mv(this,e,t,n,{block:!0})},Ro.performVisualTasks=function(e,t,n,i){mv(this,e,t,n,i)},Ro.performSeriesTasks=function(e){var t;e.eachSeries(function(n){t|=n.dataTask.perform()}),this.unfinished|=t},Ro.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.bockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};var db=Ro.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)};fc.wrapStageHandler=function(e,t){return at(e)&&(e={overallReset:e,seriesType:LC(e)}),e.uid=Yr("stageHandler"),t&&(e.visualType=t),e};var qd,Vu={},hb={};vv(Vu,Vd),vv(hb,rv),Vu.eachSeriesByType=Vu.eachRawSeriesByType=function(e){qd=e},Vu.eachComponent=function(e){"series"===e.mainType&&e.subType&&(qd=e.subType)};var fb=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],HA={color:fb,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],fb]},Cg=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],pb={color:Cg,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:Cg[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},logAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},valueAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},categoryAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},line:{symbol:"circle"},graph:{color:Cg},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};pb.categoryAxis.splitLine.show=!1;var WA=dt,Tr=de,GA=at,Hu=Oe,gb=Ii.parseClassType,mb=1e3,vb=1e3,yb=3e3,Fl={PROCESSOR:{FILTER:mb,STATISTIC:5e3},VISUAL:{LAYOUT:vb,GLOBAL:2e3,CHART:yb,COMPONENT:4e3,BRUSH:5e3}},aa="__flagInMainProcess",Us="__optionUpdated",xb=/^[a-zA-Z0-9_]+$/;ou.prototype.on=fl("on"),ou.prototype.off=fl("off"),ou.prototype.one=fl("one"),Ke(ou,_r);var Ei=au.prototype;Ei._onframe=function(){if(!this._disposed){var e=this._scheduler;if(this[Us]){var t=this[Us].silent;this[aa]=!0,su(this),is.update.call(this),this[aa]=!1,this[Us]=!1,gc.call(this,t),mc.call(this,t)}else if(e.unfinished){var n=1,i=this._model;e.unfinished=!1;do{var r=+new Date;e.performSeriesTasks(i),e.performDataProcessorTasks(Wu,i),bv(this,i),e.performVisualTasks(rs,i),Yh(this,this._model,0,"remain"),n-=+new Date-r}while(n>0&&e.unfinished);e.unfinished||(this._zr&&this._zr.flush(),this.trigger("finished"))}}},Ei.getDom=function(){return this._dom},Ei.getZr=function(){return this._zr},Ei.setOption=function(e,t,n){var i;if(Hu(t)&&(n=t.lazyUpdate,i=t.silent,t=t.notMerge),this[aa]=!0,!this._model||t){var r=new Fh(this._api),o=this._theme,a=this._model=new Vd(null,null,o,r);a.scheduler=this._scheduler,a.init(null,null,o,r)}this._model.setOption(e,bb),n?(this[Us]={silent:i},this[aa]=!1):(su(this),is.update.call(this),this._zr.flush(),this[Us]=!1,this[aa]=!1,gc.call(this,i),mc.call(this,i))},Ei.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},Ei.getModel=function(){return this._model},Ei.getOption=function(){return this._model&&this._model.getOption()},Ei.getWidth=function(){return this._zr.getWidth()},Ei.getHeight=function(){return this._zr.getHeight()},Ei.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},Ei.getRenderedCanvas=function(e){if(Ci.canvasSupported){(e=e||{}).pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var t=this._zr;return de(t.storage.getDisplayList(),function(n){n.stopAnimation(!0)}),t.painter.getRenderedCanvas(e)}},Ei.getSvgDataUrl=function(){if(Ci.svgSupported){var e=this._zr;return de(e.storage.getDisplayList(),function(t){t.stopAnimation(!0)}),e.painter.pathToSvg()}},Ei.getDataURL=function(e){var t=(e=e||{}).excludeComponents,n=this._model,i=[],r=this;Tr(t,function(a){n.eachComponent({mainType:a},function(s){var u=r._componentsMap[s.__viewId];u.group.ignore||(i.push(u),u.group.ignore=!0)})});var o="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return Tr(i,function(a){a.group.ignore=!1}),o},Ei.getConnectedDataURL=function(e){if(Ci.canvasSupported){var t=this.group,n=Math.min,i=Math.max;if($d[t]){var r=1/0,o=1/0,a=-1/0,s=-1/0,u=[],d=e&&e.pixelRatio||1;de(js,function(I,j){if(I.group===t){var q=I.getRenderedCanvas(hn(e)),K=I.getDom().getBoundingClientRect();r=n(K.left,r),o=n(K.top,o),a=i(K.right,a),s=i(K.bottom,s),u.push({dom:q,left:K.left,top:K.top})}});var h=(a*=d)-(r*=d),g=(s*=d)-(o*=d),m=kl();m.width=h,m.height=g;var y=V(m);return Tr(u,function(I){var j=new ur({style:{x:I.left*d-r,y:I.top*d-o,image:I.dom}});y.add(j)}),y.refreshImmediately(),m.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},Ei.convertToPixel=Ne(yv,"convertToPixel"),Ei.convertFromPixel=Ne(yv,"convertFromPixel"),Ei.containPixel=function(e,t){var n;return de(e=J(this._model,e),function(i,r){r.indexOf("Models")>=0&&de(i,function(o){var a=o.coordinateSystem;if(a&&a.containPoint)n|=!!a.containPoint(t);else if("seriesModels"===r){var s=this._chartsMap[o.__viewId];s&&s.containPoint&&(n|=s.containPoint(t,o))}},this)},this),!!n},Ei.getVisual=function(e,t){var n=(e=J(this._model,e,{defaultMainType:"series"})).seriesModel.getData(),i=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?n.indexOfRawIndex(e.dataIndex):null;return null!=i?n.getItemVisual(i,t):n.getVisual(t)},Ei.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},Ei.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var is={prepareAndUpdate:function(e){su(this),is.update.call(this,e)},update:function(e){var t=this._model,n=this._api,i=this._zr,r=this._coordSysMgr,o=this._scheduler;if(t){t.restoreData(e),o.performSeriesTasks(t),r.create(t,n),o.performDataProcessorTasks(Wu,t,e),bv(this,t),function(e){var t={};e.eachSeries(function(n){var i=n.get("stack"),r=n.getData();if(i&&"list"===r.type){var o=t[i];t.hasOwnProperty(i)&&o&&(r.stackedOn=o),t[i]=r}})}(t),r.update(t,n),Zh(t),o.performVisualTasks(rs,t,e),Cv(this,t,n,e);var a=t.get("backgroundColor")||"transparent",s=i.painter;if(s.isSingleCanvas&&s.isSingleCanvas())i.configLayer(0,{clearColor:a});else{if(!Ci.canvasSupported){var u=Vi(a);a=Hn(u,"rgb"),0===u[3]&&(a="transparent")}a.colorStops||a.image?(i.configLayer(0,{clearColor:a}),this.__hasGradientOrPatternBg=!0,this._dom.style.background="transparent"):(this.__hasGradientOrPatternBg&&i.configLayer(0,{clearColor:null}),this.__hasGradientOrPatternBg=!1,this._dom.style.background=a)}$h(t,n)}},updateTransform:function(e){var t=this._model,n=this,i=this._api;if(t){var r=[];t.eachComponent(function(a,s){var u=n.getViewOfComponentModel(s);if(u&&u.__alive)if(u.updateTransform){var d=u.updateTransform(s,t,i,e);d&&d.update&&r.push(u)}else r.push(u)});var o=st();t.eachSeries(function(a){var s=n._chartsMap[a.__viewId];if(s.updateTransform){var u=s.updateTransform(a,t,i,e);u&&u.update&&o.set(a.uid,1)}else o.set(a.uid,1)}),Zh(t),this._scheduler.performVisualTasks(rs,t,e,{setDirty:!0,dirtyMap:o}),Yh(n,t,0,e,o),$h(t,this._api)}},updateView:function(e){var t=this._model;t&&(Mr.markUpdateMethod(e,"updateView"),Zh(t),this._scheduler.performVisualTasks(rs,t,e,{setDirty:!0}),Cv(this,this._model,this._api,e),$h(t,this._api))},updateVisual:function(e){is.update.call(this,e)},updateLayout:function(e){is.update.call(this,e)}};Ei.resize=function(e){this._zr.resize(e);var t=this._model;this._loadingFX&&this._loadingFX.resize(),t&&function(e,t,n){e[aa]=!0,t&&su(e),is.update.call(e),e[aa]=!1,gc.call(e,n),mc.call(e,n)}(this,t.resetOption("media"),e&&e.silent)},Ei.showLoading=function(e,t){if(Hu(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),Sg[e]){var n=Sg[e](this._api,t),i=this._zr;this._loadingFX=n,i.add(n)}},Ei.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},Ei.makeActionFromEvent=function(e){var t=On({},e);return t.type=Yd[e.type],t},Ei.dispatchAction=function(e,t){Hu(t)||(t={silent:!!t}),Zd[e.type]&&this._model&&(this[aa]?this._pendingActions.push(e):(_v.call(this,e,t.silent),t.flush?this._zr.flush(!0):!1!==t.flush&&Ci.browser.weChat&&this._throttledZrFlush(),gc.call(this,t.silent),mc.call(this,t.silent)))},Ei.appendData=function(e){var t=e.seriesIndex;this.getModel().getSeriesByIndex(t).appendData(e),this._scheduler.unfinished=!0},Ei.on=fl("on"),Ei.off=fl("off"),Ei.one=fl("one");var jA=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];Ei._initEvents=function(){Tr(jA,function(e){this._zr.on(e,function(t){var n,i=this.getModel(),r=t.target;if("globalout"===e)n={};else if(r&&null!=r.dataIndex){var o=r.dataModel||i.getSeriesByIndex(r.seriesIndex);n=o&&o.getDataParams(r.dataIndex,r.dataType)||{}}else r&&r.eventData&&(n=On({},r.eventData));n&&(n.event=t,n.type=e,this.trigger(e,n))},this)},this),Tr(Yd,function(e,t){this._messageCenter.on(t,function(n){this.trigger(t,n)},this)},this)},Ei.isDisposed=function(){return this._disposed},Ei.clear=function(){this.setOption({series:[]},!0)},Ei.dispose=function(){if(!this._disposed){this._disposed=!0,ye(this.getDom(),Mg,"");var e=this._api,t=this._model;Tr(this._componentsViews,function(n){n.dispose(t,e)}),Tr(this._chartsViews,function(n){n.dispose(t,e)}),this._zr.dispose(),delete js[this.id]}},Ke(au,_r);var Zd={},Yd={},Wu=[],bb=[],_b=[],rs=[],wb={},Sg={},js={},$d={},qA=new Date-0,ZA=new Date-0,Mg="_echarts_instance_",Cb={},YA=Mv;Xi(2e3,FA),Ir(sb),Tv("default",function(e,t){At(t=t||{},{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var n=new Gi({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),i=new $x({shape:{startAngle:-jd/2,endAngle:-jd/2+.1,r:10},style:{stroke:t.color,lineCap:"round",lineWidth:5},zlevel:t.zlevel,z:10001}),r=new Gi({style:{fill:"none",text:t.text,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});i.animateShape(!0).when(1e3,{endAngle:3*jd/2}).start("circularInOut"),i.animateShape(!0).when(1e3,{startAngle:3*jd/2}).delay(300).start("circularInOut");var o=new Un;return o.add(i),o.add(r),o.add(n),o.resize=function(){var a=e.getWidth()/2,s=e.getHeight()/2;i.setShape({cx:a,cy:s});var u=i.shape.r;r.setShape({x:a-u,y:s-u,width:2*u,height:2*u}),n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},o.resize(),o}),Ni({type:"highlight",event:"highlight",update:"highlight"},Zt),Ni({type:"downplay",event:"downplay",update:"downplay"},Zt),Kh("light",HA),Kh("dark",pb),Ta.prototype={constructor:Ta,add:function(e){return this._add=e,this},update:function(e){return this._update=e,this},remove:function(e){return this._remove=e,this},execute:function(){var e=this._old,t=this._new,n={},i=[],r=[];for(Av(e,{},i,"_oldKeyGetter",this),Av(t,n,r,"_newKeyGetter",this),o=0;o<e.length;o++)null!=(s=n[a=i[o]])?((d=s.length)?(1===d&&(n[a]=null),s=s.unshift()):n[a]=null,this._update&&this._update(s,o)):this._remove&&this._remove(o);for(var o=0;o<r.length;o++){var a=r[o];if(n.hasOwnProperty(a)){var s=n[a];if(null==s)continue;if(s.length)for(var u=0,d=s.length;u<d;u++)this._add&&this._add(s[u]);else this._add&&this._add(s)}}}};var Sb=st(["tooltip","label","itemName","itemId","seriesName"]),Tg=Oe,Gu="undefined",os=typeof window===Gu?global:window,XA="e\0\0",KA={float:typeof os.Float64Array===Gu?Array:os.Float64Array,int:typeof os.Int32Array===Gu?Array:os.Int32Array,ordinal:Array,number:Array,time:Array},JA=["stackedOn","hasItemOption","_nameList","_idList","_rawData","_rawExtent","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],wr=function(e,t){e=e||["x","y"];for(var n={},i=[],r=0;r<e.length;r++){var o,a={};"string"==typeof e[r]?a={name:o=e[r],coordDim:o,coordDimIndex:0,stackable:!1,type:"float"}:(o=(a=e[r]).name,a.type=a.type||"float",a.coordDim||(a.coordDim=o,a.coordDimIndex=0)),a.otherDims=a.otherDims||{},i.push(o),n[o]=a,a.index=r}this.dimensions=i,this._dimensionInfos=n,this.hostModel=t,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=function(e){var t={},n=t.encode={},i=t.coordDimMap=st(),r=[];de(e.dimensions,function(d){var h=e.getDimensionInfo(d),g=h.coordDim;if(g){var m=n[g];n.hasOwnProperty(g)||(m=n[g]=[]),m[h.coordDimIndex]=d,h.isSysCoord&&function(e){return!("ordinal"===e||"time"===e)}(h.type)&&(r[0]=d),i.set(g,1)}Sb.each(function(y,I){var j=n[I];n.hasOwnProperty(I)||(j=n[I]=[]);var q=h.otherDims[I];null!=q&&!1!==q&&(j[q]=h.name)})});var o=[];i.each(function(d,h){o=o.concat(n[h])}),t.dataDimsOnCoord=o;var a=n.label;a&&a.length&&(r=a.slice());var s=r.slice(),u=n.tooltip;return u&&u.length&&(s=u.slice()),n.defaultedLabel=r,n.defaultedTooltip=s,t}(this)},ti=wr.prototype;ti.type="list",ti.hasItemOption=!0,ti.getDimension=function(e){return isNaN(e)||(e=this.dimensions[e]||e),e},ti.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]},ti.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},ti.mapDimension=function(e,t){var n=this._dimensionsSummary.encode[e];return!0===t?n&&n.slice()||[]:n?n[t||0]:null},ti.initData=function(e,t,n){(Do.isInstance(e)||Mt(e))&&(e=new sv(e,this.dimensions.length)),this._rawData=e,this._storage={},this._indices=null,this._nameList=t||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=BA[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._rawExtent={},this._initDataFromProvider(0,e.count()),e.pure&&(this.hasItemOption=!1)},ti.getProvider=function(){return this._rawData},ti.appendData=function(e){var t=this._rawData,n=this.count();t.appendData(e);var i=t.count();t.persistent||(i+=n),this._initDataFromProvider(n,i)},ti._initDataFromProvider=function(e,t){if(!(e>=t)){for(var n,i=this._chunkSize,r=this._rawData,o=this._storage,a=this.dimensions,s=this._dimensionInfos,u=this._nameList,d=this._idList,h=this._rawExtent,g=this._nameRepeatCount={},m=this._chunkCount,y=m-1,I=0;I<a.length;I++){h[gt=a[I]]||(h[gt]=[1/0,-1/0]);var j=s[gt];0===j.otherDims.itemName&&(n=this._nameDimIdx=I),0===j.otherDims.itemId&&(this._idDimIdx=I);var q=KA[j.type];o[gt]||(o[gt]=[]);var K=o[gt][y];if(K&&K.length<i){for(var te=new q(Math.min(t-y*i,i)),ue=0;ue<K.length;ue++)te[ue]=K[ue];o[gt][y]=te}for(qe=m*i;qe<t;qe+=i)o[gt].push(new q(Math.min(t-qe,i)));this._chunkCount=o[gt].length}for(var be=e;be<t;be++){for(var ke=r.getItem(be),Be=Math.floor(be/i),We=be%i,qe=0;qe<a.length;qe++){var gt=a[qe],tn=o[gt][Be],Jt=this._dimValueGetter(ke,gt,be,qe);tn[We]=Jt,Jt<h[gt][0]&&(h[gt][0]=Jt),Jt>h[gt][1]&&(h[gt][1]=Jt)}if(!r.pure){var un=u[be];ke&&!un&&(null!=n?un=this._getNameFromStore(be):null!=ke.name&&(u[be]=un=ke.name));var Mn=null==ke?null:ke.id;null==Mn&&null!=un&&(g[un]=g[un]||0,Mn=un,g[un]>0&&(Mn+="__ec__"+g[un]),g[un]++),null!=Mn&&(d[be]=Mn)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent={}}},ti._getNameFromStore=function(e){var t=this._nameDimIdx;if(null!=t){var n=this._chunkSize,i=Math.floor(e/n),o=this.dimensions[t],a=this._dimensionInfos[o].ordinalMeta;if(a)return a.categories[e];var s=this._storage[o][i];return s&&s[e%n]}},ti._getIdFromStore=function(e){var t=this._idDimIdx;if(null!=t){var n=this._chunkSize,i=Math.floor(e/n),o=this.dimensions[t],a=this._dimensionInfos[o].ordinalMeta;if(a)return a.categories[e];var s=this._storage[o][i];return s&&s[e%n]}},ti.count=function(){return this._count},ti.getIndices=function(){if(this._indices)return new(e=this._indices.constructor)(this._indices.buffer,0,this._count);for(var e=xc(this),t=new e(this.count()),n=0;n<t.length;n++)t[n]=n;return t},ti.get=function(e,t,n){if(!(t>=0&&t<this._count))return NaN;var i=this._storage;if(!i[e])return NaN;t=this.getRawIndex(t);var r=Math.floor(t/this._chunkSize),a=i[e][r][t%this._chunkSize];if(n){var s=this._dimensionInfos[e];if(s&&s.stackable)for(var u=this.stackedOn;u;){var d=u.get(e,t);(a>=0&&d>0||a<=0&&d<0)&&(a+=d),u=u.stackedOn}}return a},ti._getFast=function(e,t){var n=Math.floor(t/this._chunkSize);return this._storage[e][n][t%this._chunkSize]},ti.getValues=function(e,t,n){var i=[];me(e)||(n=t,t=e,e=this.dimensions);for(var r=0,o=e.length;r<o;r++)i.push(this.get(e[r],t,n));return i},ti.hasValue=function(e){for(var t=this._dimensionsSummary.dataDimsOnCoord,n=this._dimensionInfos,i=0,r=t.length;i<r;i++)if("ordinal"!==n[t[i]].type&&isNaN(this.get(t[i],e)))return!1;return!0},ti.getDataExtent=function(e,t){e=this.getDimension(e);var n=this._storage[e],i=[1/0,-1/0];if(t=!!t&&this.isStacked(e),!n)return i;var r,o=this.count(),a=[e,!!t].join("_");if(!this._indices&&!t)return this._rawExtent[e].slice();if(r=this._extent[a])return r.slice();for(var s=(r=i)[0],u=r[1],d=0;d<o;d++){var h=t?this.get(e,d,!0):this._getFast(e,this.getRawIndex(d));h<s&&(s=h),h>u&&(u=h)}return this._extent[a]=r=[s,u],r},ti.getApproximateExtent=function(e,t){return e=this.getDimension(e),this._approximateExtent[e]||this.getDataExtent(e,t)},ti.setApproximateExtent=function(e,t,n){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},ti.isStacked=function(e){var t=this._dimensionInfos[e];return t&&t.stackable&&this.stackedOn},ti.getSum=function(e,t){var n=0;if(this._storage[e])for(var i=0,r=this.count();i<r;i++){var o=this.get(e,i,t);isNaN(o)||(n+=o)}return n},ti.indexOf=function(e,t){var n=this._storage[e],i=this._chunkSize;if(n)for(var r=0,o=this.count();r<o;r++){var a=r%i;if(n[Math.floor(r/i)][a]===t)return r}return-1},ti.indexOfName=function(e){for(var t=0,n=this.count();t<n;t++)if(this.getName(t)===e)return t;return-1},ti.indexOfRawIndex=function(e){if(!this._indices)return e;if(e>=this._rawCount||e<0)return-1;var t=this._indices,n=t[e];if(null!=n&&n<this._count&&n===e)return e;for(var i=0,r=this._count-1;i<=r;){var o=(i+r)/2|0;if(t[o]<e)i=o+1;else{if(!(t[o]>e))return o;r=o-1}}return-1},ti.indicesOfNearest=function(e,t,n,i){var r=[];if(!this._storage[e])return r;null==i&&(i=1/0);for(var o=Number.MAX_VALUE,a=-1,s=0,u=this.count();s<u;s++){var d=t-this.get(e,s,n),h=Math.abs(d);d<=i&&h<=o&&((h<o||d>=0&&a<0)&&(o=h,a=d,r.length=0),r.push(s))}return r},ti.getRawIndex=uu,ti.getRawDataItem=function(e){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(e));for(var t=[],n=0;n<this.dimensions.length;n++)t.push(this.get(this.dimensions[n],e));return t},ti.getName=function(e){var t=this.getRawIndex(e);return this._nameList[t]||this._getNameFromStore(t)||""},ti.getId=function(e){return ef(this,this.getRawIndex(e))},ti.each=function(e,t,n,i){if(this._count){"function"==typeof e&&(i=n,n=t,t=e,e=[]);var r=(e=Me(tf(e),this.getDimension,this)).length;i=i||this;for(var o=0;o<this.count();o++)switch(r){case 0:t.call(i,o);break;case 1:t.call(i,this.get(e[0],o,n),o);break;case 2:t.call(i,this.get(e[0],o,n),this.get(e[1],o,n),o);break;default:for(var a=0,s=[];a<r;a++)s[a]=this.get(e[a],o,n);s[a]=o,t.apply(i,s)}}},ti.filterSelf=function(e,t,n,i){if(this._count){"function"==typeof e&&(i=n,n=t,t=e,e=[]),n=n||!1,i=i||this,e=Me(tf(e),this.getDimension,this);for(var r=this.count(),o=new(xc(this))(r),a=[],s=e.length,u=0,d=e[0],h=0;h<r;h++){var g,m=this.getRawIndex(h);if(0===s)g=t.call(i,h);else if(1===s){var y=n?this.get(d,h,!0):this._getFast(d,m);g=t.call(i,y,h)}else{for(var I=0;I<s;I++)a[I]=n?this.get(e[I],h,!0):this._getFast(d,m);a[I]=h,g=t.apply(i,a)}g&&(o[u++]=m)}return u<r&&(this._indices=o),this._count=u,this._extent={},this.getRawIndex=this._indices?cu:uu,this}},ti.selectRange=function(e,t){if(this._count){t=t||!1;var n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(i);var r=n.length;if(r){var o=this.count(),a=new(xc(this))(o),s=0,u=n[0],d=e[u][0],h=e[u][1],g=!1;if(!this._indices&&!t){var m=0;if(1===r){for(var y=this._storage[n[0]],I=0;I<this._chunkCount;I++)for(var j=y[I],q=Math.min(this._count-I*this._chunkSize,this._chunkSize),K=0;K<q;K++)(Be=j[K])>=d&&Be<=h&&(a[s++]=m),m++;g=!0}else if(2===r){y=this._storage[u];var te=this._storage[n[1]],ue=e[n[1]][0],be=e[n[1]][1];for(I=0;I<this._chunkCount;I++){j=y[I];var ke=te[I];for(q=Math.min(this._count-I*this._chunkSize,this._chunkSize),K=0;K<q;K++){var Be=j[K],We=ke[K];Be>=d&&Be<=h&&We>=ue&&We<=be&&(a[s++]=m),m++}}g=!0}}if(!g)if(1===r)for(t=t||this.isStacked(u),K=0;K<o;K++)gt=this.getRawIndex(K),(Be=t?this.get(u,K,!0):this._getFast(u,gt))>=d&&Be<=h&&(a[s++]=gt);else for(K=0;K<o;K++){var qe=!0,gt=this.getRawIndex(K);for(I=0;I<r;I++){var tn=n[I];((Be=t?this.get(tn,K,!0):this._getFast(i,gt))<e[tn][0]||Be>e[tn][1])&&(qe=!1)}qe&&(a[s++]=this.getRawIndex(K))}return s<o&&(this._indices=a),this._count=s,this._extent={},this.getRawIndex=this._indices?cu:uu,this}}},ti.mapArray=function(e,t,n,i){"function"==typeof e&&(i=n,n=t,t=e,e=[]);var r=[];return this.each(e,function(){r.push(t&&t.apply(this,arguments))},n,i),r},ti.map=function(e,t,n,i){var r=Dv(this,e=Me(tf(e),this.getDimension,this));r._indices=this._indices,r.getRawIndex=r._indices?cu:uu;for(var o=r._storage,a=[],s=this._chunkSize,u=e.length,d=this.count(),h=[],g=0;g<d;g++){for(var m=0;m<u;m++)h[m]=this.get(e[m],g,n);h[u]=g;var y=t&&t.apply(i,h);if(null!=y){"object"!=typeof y&&(a[0]=y,y=a);for(var I=this.getRawIndex(g),j=Math.floor(I/s),q=I%s,K=0;K<y.length;K++){var te=o[e[K]];te&&(te[j][q]=y[K])}}}return r},ti.downSample=function(e,t,n,i){for(var r=Dv(this,[e]),o=r._storage,a=[],s=Math.floor(1/t),u=o[e],d=this.count(),h=this._chunkSize,g=new(xc(this))(d),m=0,y=0;y<d;y+=s){s>d-y&&(a.length=s=d-y);for(var I=0;I<s;I++){var j=this.getRawIndex(y+I),q=Math.floor(j/h);a[I]=u[q][j%h]}var te=n(a),ue=this.getRawIndex(Math.min(y+i(a,te)||0,d-1)),be=ue%h;u[Math.floor(ue/h)][be]=te,g[m++]=ue}return r._count=m,r._indices=g,r.getRawIndex=cu,r},ti.getItemModel=function(e){var t=this.hostModel;return new Kn(this.getRawDataItem(e),t,t&&t.ecModel)},ti.diff=function(e){var t=this;return new Ta(e?e.getIndices():[],this.getIndices(),function(n){return ef(e,n)},function(n){return ef(t,n)})},ti.getVisual=function(e){var t=this._visual;return t&&t[e]},ti.setVisual=function(e,t){if(Tg(e))for(var n in e)e.hasOwnProperty(n)&&this.setVisual(n,e[n]);else this._visual=this._visual||{},this._visual[e]=t},ti.setLayout=function(e,t){if(Tg(e))for(var n in e)e.hasOwnProperty(n)&&this.setLayout(n,e[n]);else this._layout[e]=t},ti.getLayout=function(e){return this._layout[e]},ti.getItemLayout=function(e){return this._itemLayouts[e]},ti.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?On(this._itemLayouts[e]||{},t):t},ti.clearItemLayouts=function(){this._itemLayouts.length=0},ti.getItemVisual=function(e,t,n){var i=this._itemVisuals[e],r=i&&i[t];return null!=r||n?r:this.getVisual(t)},ti.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{},r=this.hasItemVisual;if(this._itemVisuals[e]=i,Tg(t))for(var o in t)t.hasOwnProperty(o)&&(i[o]=t[o],r[o]=!0);else i[t]=n,r[t]=!0},ti.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var QA=function(e){e.seriesIndex=this.seriesIndex,e.dataIndex=this.dataIndex,e.dataType=this.dataType};ti.setItemGraphicEl=function(e,t){var n=this.hostModel;t&&(t.dataIndex=e,t.dataType=this.dataType,t.seriesIndex=n&&n.seriesIndex,"group"===t.type&&t.traverse(QA,t)),this._graphicEls[e]=t},ti.getItemGraphicEl=function(e){return this._graphicEls[e]},ti.eachItemGraphicEl=function(e,t){de(this._graphicEls,function(n,i){n&&e&&e.call(t,n,i)})},ti.cloneShallow=function(e){if(!e){var t=Me(this.dimensions,this.getDimensionInfo,this);e=new wr(t,this.hostModel)}return e._storage=this._storage,Iv(e,this),e._indices=this._indices?new(0,this._indices.constructor)(this._indices):null,e.getRawIndex=e._indices?cu:uu,e._extent=hn(this._extent),e._approximateExtent=hn(this._approximateExtent),e},ti.wrapMethod=function(e,t){var n=this[e];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=n.apply(this,arguments);return t.apply(this,[i].concat(It(arguments)))})},ti.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],ti.CHANGABLE_METHODS=["filterSelf","selectRange"];var Vl=function(e,t){return Nv((t=t||{}).coordDimensions||[],e,{dimsDef:t.dimensionsDefine||e.dimensionsDefine,encodeDef:t.encodeDefine||e.encodeDefine,dimCount:t.dimensionsCount,extraPrefix:t.extraPrefix,extraFromZero:t.extraFromZero})};gr.prototype.parse=function(e){return e},gr.prototype.getSetting=function(e){return this._setting[e]},gr.prototype.contain=function(e){var t=this._extent;return e>=t[0]&&e<=t[1]},gr.prototype.normalize=function(e){var t=this._extent;return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])},gr.prototype.scale=function(e){var t=this._extent;return e*(t[1]-t[0])+t[0]},gr.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},gr.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t,!0))},gr.prototype.getExtent=function(){return this._extent.slice()},gr.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},gr.prototype.getTicksLabels=function(){for(var e=[],t=this.getTicks(),n=0;n<t.length;n++)e.push(this.getLabel(t[n]));return e},gr.prototype.isBlank=function(){return this._isBlank},gr.prototype.setBlank=function(e){this._isBlank=e},ge(gr),ce(gr,{registerWhenExtend:!0}),du.createByAxisModel=function(e){var t=e.option,n=t.data,i=n&&Me(n,$C);return new du({categories:i,needCollect:!i,deduplication:!1!==t.dedplication})};var Mb=du.prototype;Mb.getOrdinal=function(e){return Lv(this).get(e)},Mb.parseAndCollect=function(e){var t,n=this._needCollect;if("string"!=typeof e&&!n)return e;if(n&&!this._deduplication)return this.categories[t=this.categories.length]=e,t;var i=Lv(this);return null==(t=i.get(e))&&(n?(this.categories[t=this.categories.length]=e,i.set(e,t)):t=NaN),t};var kg=gr.prototype,Ag=gr.extend({type:"ordinal",init:function(e,t){e&&!me(e)||(e=new du({categories:e})),this._ordinalMeta=e,this._extent=t||[0,e.categories.length-1]},parse:function(e){return"string"==typeof e?this._ordinalMeta.getOrdinal(e):Math.round(e)},contain:function(e){return e=this.parse(e),kg.contain.call(this,e)&&null!=this._ordinalMeta.categories[e]},normalize:function(e){return kg.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(kg.scale.call(this,e))},getTicks:function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push(n),n++;return e},getLabel:function(e){return this._ordinalMeta.categories[e]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t,!1))},niceTicks:Zt,niceExtent:Zt});Ag.create=function(){return new Ag};var Ig=$r,Dg=$r,sa=gr.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},unionExtent:function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),sa.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=Ev(e)},getTicks:function(){return function(e,t,n,i){var r=[];if(!e)return r;t[0]<n[0]&&r.push(t[0]);for(var o=n[0];o<=n[1]&&(r.push(o),(o=Ig(o+e,i))!==r[r.length-1]);)if(r.length>1e4)return[];return t[1]>(r.length?r[r.length-1]:n[1])&&r.push(t[1]),r}(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){for(var e=[],t=this.getTicks(),n=0;n<t.length;n++)e.push(this.getLabel(t[n]));return e},getLabel:function(e,t){if(null==e)return"";var n=t&&t.precision;return null==n?n=lc(e)||0:"auto"===n&&(n=this._intervalPrecision),Cs(e=Dg(e,n,!0))},niceTicks:function(e,t,n){e=e||5;var i=this._extent,r=i[1]-i[0];if(isFinite(r)){r<0&&(r=-r,i.reverse());var o=function(e,t,n,i){var r={},a=r.interval=Lh((e[1]-e[0])/t,!0);null!=n&&a<n&&(a=r.interval=n),null!=i&&a>i&&(a=r.interval=i);var s=r.intervalPrecision=Ev(a);return Bv(r.niceTickExtent=[Ig(Math.ceil(e[0]/a)*a,s),Ig(Math.floor(e[1]/a)*a,s)],e),r}(i,e,t,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},niceExtent:function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var n=t[0];e.fixMax||(t[1]+=n/2),t[0]-=n/2}else t[1]=1;isFinite(t[1]-t[0])||(t[0]=0,t[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var r=this._interval;e.fixMin||(t[0]=Dg(Math.floor(t[0]/r)*r)),e.fixMax||(t[1]=Dg(Math.ceil(t[1]/r)*r))}});sa.create=function(){return new sa};var Ng="__ec_stack_",eI=sa.prototype,Tb=Math.ceil,kb=Math.floor,Pg=sa.extend({type:"time",getLabel:function(e){var t=this._stepLvl,n=new Date(e);return Bh(t[0],n,this.getSetting("useUTC"))},niceExtent:function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=864e5,t[1]+=864e5),t[1]===-1/0&&t[0]===1/0){var n=new Date;t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-864e5}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;e.fixMin||(t[0]=$r(kb(t[0]/i)*i)),e.fixMax||(t[1]=$r(Tb(t[1]/i)*i))},niceTicks:function(e,t,n){var i=this._extent,r=i[1]-i[0],o=r/(e=e||10);null!=t&&o<t&&(o=t),null!=n&&o>n&&(o=n);var a=Lg.length,s=function(e,t,n,i){for(;n<i;){var r=n+i>>>1;e[r][1]<t?n=r+1:i=r}return n}(Lg,o,0,a),u=Lg[Math.min(s,a-1)],d=u[1];"year"===u[0]&&(d*=Lh(r/d/e,!0));var h=this.getSetting("useUTC")?0:60*new Date(+i[0]||+i[1]).getTimezoneOffset()*1e3,g=[Math.round(Tb((i[0]-h)/d)*d+h),Math.round(kb((i[1]-h)/d)*d+h)];Bv(g,i),this._stepLvl=u,this._interval=d,this._niceExtent=g},parse:function(e){return+nu(e)}});de(["contain","normalize"],function(e){Pg.prototype[e]=function(t){return eI[e].call(this,this.parse(t))}});var Lg=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",864e5],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",36288e5],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];Pg.create=function(e){return new Pg({useUTC:e.ecModel.get("useUTC")})};var Xd=gr.prototype,Kd=sa.prototype,nI=lc,iI=$r,rI=Math.floor,oI=Math.ceil,Jd=Math.pow,la=Math.log,Eg=gr.extend({type:"log",base:10,$constructor:function(){gr.apply(this,arguments),this._originalScale=new sa},getTicks:function(){var e=this._originalScale,t=this._extent,n=e.getExtent();return Me(Kd.getTicks.call(this),function(i){var r=$r(Jd(this.base,i));return r=i===t[0]&&e.__fixMin?bc(r,n[0]):r,i===t[1]&&e.__fixMax?bc(r,n[1]):r},this)},getLabel:Kd.getLabel,scale:function(e){return e=Xd.scale.call(this,e),Jd(this.base,e)},setExtent:function(e,t){var n=this.base;e=la(e)/la(n),t=la(t)/la(n),Kd.setExtent.call(this,e,t)},getExtent:function(){var e=this.base,t=Xd.getExtent.call(this);t[0]=Jd(e,t[0]),t[1]=Jd(e,t[1]);var n=this._originalScale,i=n.getExtent();return n.__fixMin&&(t[0]=bc(t[0],i[0])),n.__fixMax&&(t[1]=bc(t[1],i[1])),t},unionExtent:function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=la(e[0])/la(t),e[1]=la(e[1])/la(t),Xd.unionExtent.call(this,e)},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t,!0,function(n){return n>0}))},niceTicks:function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n===1/0||n<=0)){var i=qm(n);for(e/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var r=[$r(oI(t[0]/i)*i),$r(rI(t[1]/i)*i)];this._interval=i,this._niceExtent=r}},niceExtent:function(e){Kd.niceExtent.call(this,e);var t=this._originalScale;t.__fixMin=e.fixMin,t.__fixMax=e.fixMax}});de(["contain","normalize"],function(e){Eg.prototype[e]=function(t){return t=la(t)/la(this.base),Xd[e].call(this,t)}}),Eg.create=function(){return new Eg};var qs={getFormattedLabels:function(){return nf(this.axis,this.get("axisLabel.formatter"))},getMin:function(e){var t=this.option,n=e||null==t.rangeStart?t.min:t.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&"function"!=typeof n&&!vt(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(e){var t=this.option,n=e||null==t.rangeEnd?t.max:t.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&"function"!=typeof n&&!vt(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var e=this.option;return null==e.rangeStart&&null==e.rangeEnd&&!e.scale},getCoordSysModel:Zt,setRange:function(e,t){this.option.rangeStart=e,this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},aI=et({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=t.width/2,o=t.height/2;e.moveTo(n,i-o),e.lineTo(n+r,i+o),e.lineTo(n-r,i+o),e.closePath()}}),sI=et({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=t.width/2,o=t.height/2;e.moveTo(n,i-o),e.lineTo(n+r,i),e.lineTo(n,i+o),e.lineTo(n-r,i),e.closePath()}}),lI=et({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,r=t.width/5*3,o=Math.max(r,t.height),a=r/2,s=a*a/(o-a),u=i-o+a+s,d=Math.asin(s/a),h=Math.cos(d)*a,g=Math.sin(d),m=Math.cos(d),y=.6*a,I=.7*a;e.moveTo(n-h,u+s),e.arc(n,u,a,Math.PI-d,2*Math.PI+d),e.bezierCurveTo(n+h-g*y,u+s+m*y,n,i-I,n,i),e.bezierCurveTo(n,i-I,n-h+g*y,u+s+m*y,n-h,u+s),e.closePath()}}),uI=et({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,r=t.x,o=t.y,a=t.width/3*2;e.moveTo(r,o),e.lineTo(r+a,o+n),e.lineTo(r,o+n/4*3),e.lineTo(r-a,o+n),e.lineTo(r,o),e.closePath()}}),cI={line:function(e,t,n,i,r){r.x1=e,r.y1=t+i/2,r.x2=e+n,r.y2=t+i/2},rect:function(e,t,n,i,r){r.x=e,r.y=t,r.width=n,r.height=i},roundRect:function(e,t,n,i,r){r.x=e,r.y=t,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(e,t,n,i,r){var o=Math.min(n,i);r.x=e,r.y=t,r.width=o,r.height=o},circle:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.r=Math.min(n,i)/2},diamond:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.width=n,r.height=i},pin:function(e,t,n,i,r){r.x=e+n/2,r.y=t+i/2,r.width=n,r.height=i},arrow:function(e,t,n,i,r){r.x=e+n/2,r.y=t+i/2,r.width=n,r.height=i},triangle:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.width=n,r.height=i}},Rg={};de({line:Co,rect:Gi,roundRect:Gi,square:Gi,circle:Fs,diamond:sI,pin:lI,arrow:uI,triangle:aI},function(e,t){Rg[t]=new e});var dI=et({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var e=this.style;"pin"===this.shape.symbolType&&"inside"===e.textPosition&&(e.textPosition=["50%","40%"],e.textAlign="center",e.textVerticalAlign="middle")},buildPath:function(e,t,n){var i=t.symbolType,r=Rg[i];"none"!==t.symbolType&&(r||(r=Rg[i="rect"]),cI[i](t.x,t.y,t.width,t.height,r.shape),r.buildPath(e,r.shape,n))}}),hI=(Object.freeze||Object)({createList:function(e){return ka(e.getSource(),e)},getLayoutRect:xr,createScale:function(e,t){var n=t;Kn.isInstance(t)||Ke(n=new Kn(t),qs);var i=pl(n);return i.setExtent(e[0],e[1]),Ms(i,n),i},mixinAxisModelCommonMethods:function(e){Ke(e,qs)},completeDimensions:Nv,createDimensions:Vl,createSymbol:ao}),fI=1e-8;_c.prototype={constructor:_c,properties:null,getBoundingRect:function(){var e=this._rect;if(e)return e;for(var t=Number.MAX_VALUE,n=[t,t],i=[-t,-t],r=[],o=[],a=this.geometries,s=0;s<a.length;s++)"polygon"===a[s].type&&(rt(a[s].exterior,r,o),_t(n,n,r),on(i,i,o));return 0===s&&(n[0]=n[1]=i[0]=i[1]=0),this._rect=new li(n[0],n[1],i[0]-n[0],i[1]-n[1])},contain:function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var i=0,r=n.length;i<r;i++)if("polygon"===n[i].type){var a=n[i].interiors;if(Ts(n[i].exterior,e[0],e[1])){for(var s=0;s<(a?a.length:0);s++)if(Ts(a[s]))continue e;return!0}}return!1},transformTo:function(e,t,n,i){var r=this.getBoundingRect(),o=r.width/r.height;n?i||(i=n/o):n=o*i;for(var a=new li(e,t,n,i),s=r.calculateTransform(a),u=this.geometries,d=0;d<u.length;d++)if("polygon"===u[d].type){for(var h=u[d].exterior,g=u[d].interiors,m=0;m<h.length;m++)Pt(h[m],h[m],s);for(var y=0;y<(g?g.length:0);y++)for(m=0;m<g[y].length;m++)Pt(g[y][m],g[y][m],s)}(r=this._rect).copy(a),this.center=[r.x+r.width/2,r.y+r.height/2]}};var Bg=function(e){return function(e){if(!e.UTF8Encoding)return e;var t=e.UTF8Scale;null==t&&(t=1024);for(var n=e.features,i=0;i<n.length;i++)for(var r=n[i].geometry,o=r.coordinates,a=r.encodeOffsets,s=0;s<o.length;s++){var u=o[s];if("Polygon"===r.type)o[s]=jv(u,a[s],t);else if("MultiPolygon"===r.type)for(var d=0;d<u.length;d++)u[d]=jv(u[d],a[s][d],t)}e.UTF8Encoding=!1}(e),Me(ft(e.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var n=t.properties,i=t.geometry,r=i.coordinates,o=[];"Polygon"===i.type&&o.push({type:"polygon",exterior:r[0],interiors:r.slice(1)}),"MultiPolygon"===i.type&&de(r,function(s){s[0]&&o.push({type:"polygon",exterior:s[0],interiors:s.slice(1)})});var a=new _c(n.name,o,n.cp);return a.properties=n,a})},Ab=Ai,Ib=[0,1],mr=function(e,t,n){this.dim=e,this.scale=t,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};mr.prototype={constructor:mr,contain:function(e){var t=this._extent,n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=n&&e<=i},containData:function(e){return this.contain(this.dataToCoord(e))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return Nh(e||this.scale.getExtent(),this._extent)},setExtent:function(e,t){var n=this._extent;n[0]=e,n[1]=t},dataToCoord:function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&"ordinal"===i.type&&qv(n=n.slice(),i.count()),Ab(e,Ib,n,t)},coordToData:function(e,t){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&qv(n=n.slice(),i.count());var r=Ab(e,n,Ib,t);return this.scale.scale(r)},pointToData:function(e,t){},getTicksCoords:function(e){if(this.onBand&&!e){for(var t=this.getBands(),n=[],i=0;i<t.length;i++)n.push(t[i][0]);return t[i-1]&&n.push(t[i-1][1]),n}return Me(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return Me(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var e=this.getExtent(),t=[],n=this.scale.count(),i=e[0],r=e[1]-i,o=0;o<n;o++)t.push([r*o/n+i,r*(o+1)/n+i]);return t},getBandWidth:function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},isHorizontal:null,getRotate:null,getLabelInterval:function(){var e=this._labelInterval;if(!e){var t=this.model,n=t.getModel("axisLabel");e=n.get("interval"),"category"!==this.type||null!=e&&"auto"!==e||(e=Gv(Me(this.scale.getTicks(),this.dataToCoord,this),t.getFormattedLabels(),n.getFont(),this.getRotate?this.getRotate():this.isHorizontal&&!this.isHorizontal()?90:0,n.get("rotate"))),this._labelInterval=e}return e}};var pI=Bg,Db={};de(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(e){Db[e]=Rk[e]}),Xr({type:"dataset",defaultOption:{seriesLayoutBy:rb,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){!function(e){var t=e.option.source,n=ib;if(xt(t))n=Fd;else if(me(t))for(var i=0,r=t.length;i<r;i++){var o=t[i];if(null!=o){if(me(o)){n=Bd;break}if(Oe(o)){n=Od;break}}}else if(Oe(t)){for(var a in t)if(t.hasOwnProperty(a)&&Mt(t[a])){n=zd;break}}else if(null!=t)throw new Error("Invalid data");zl(e).sourceFormat=n}(this)}}),br({type:"dataset"}),hr.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,t){return ka(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var Bo=gl.prototype;Bo._createSymbol=function(e,t,n,i){this.removeAll();var r=ao(e,-1,-1,2,2,t.getItemVisual(n,"color"));r.attr({z2:100,culling:!0,scale:of(i)}),r.drift=iS,this._symbolType=e,this.add(r)},Bo.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},Bo.getSymbolPath=function(){return this.childAt(0)},Bo.getScale=function(){return this.childAt(0).scale},Bo.highlight=function(){this.childAt(0).trigger("emphasis")},Bo.downplay=function(){this.childAt(0).trigger("normal")},Bo.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},Bo.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":"pointer"},Bo.updateData=function(e,t,n){this.silent=!1;var i=e.getItemVisual(t,"symbol")||"circle",r=e.hostModel,o=function(e,t){var n=e.getItemVisual(t,"symbolSize");return n instanceof Array?n.slice():[+n,+n]}(e,t),a=i!==this._symbolType;if(a?this._createSymbol(i,e,t,o):((s=this.childAt(0)).silent=!1,pn(s,{scale:of(o)},r,t)),this._updateCommon(e,t,o,n),a){var s=this.childAt(0),u=n&&n.fadeIn,d={scale:s.scale.slice()};u&&(d.style={opacity:s.style.opacity}),s.scale=[0,0],u&&(s.style.opacity=0),ui(s,d,r,t)}this._seriesModel=r};var gI=["itemStyle"],mI=["emphasis","itemStyle"],vI=["label"],yI=["emphasis","label"];Bo._updateCommon=function(e,t,n,i){var r=this.childAt(0),o=e.hostModel,a=e.getItemVisual(t,"color");"image"!==r.type&&r.useStyle({strokeNoScale:!0});var s=i&&i.itemStyle,u=i&&i.hoverItemStyle,d=i&&i.symbolRotate,h=i&&i.symbolOffset,g=i&&i.labelModel,m=i&&i.hoverLabelModel,y=i&&i.hoverAnimation,I=i&&i.cursorStyle;if(!i||e.hasItemOption){var j=i&&i.itemModel?i.itemModel:e.getItemModel(t);s=j.getModel(gI).getItemStyle(["color"]),u=j.getModel(mI).getItemStyle(),d=j.getShallow("symbolRotate"),h=j.getShallow("symbolOffset"),g=j.getModel(vI),m=j.getModel(yI),y=j.getShallow("hoverAnimation"),I=j.getShallow("cursor")}else u=On({},u);var q=r.style;r.attr("rotation",(d||0)*Math.PI/180||0),h&&r.attr("position",[vn(h[0],n[0]),vn(h[1],n[1])]),I&&r.attr("cursor",I),r.setColor(a,i&&i.symbolInnerColor),r.setStyle(s);var K=e.getItemVisual(t,"opacity");null!=K&&(q.opacity=K);var te=i&&i.useNameLabel;Ue(q,u,g,m,{labelFetcher:o,labelDataIndex:t,defaultText:function(Be,We){return te?e.getName(Be):wc(e,Be)},isRectText:!0,autoColor:a}),r.off("mouseover").off("mouseout").off("emphasis").off("normal"),r.hoverStyle=u,De(r);var ue=of(n);if(y&&o.isAnimationEnabled()){var be=function(){var Be=ue[1]/ue[0];this.animateTo({scale:[Math.max(1.1*ue[0],ue[0]+3),Math.max(1.1*ue[1],ue[1]+3*Be)]},400,"elasticOut")},ke=function(){this.animateTo({scale:ue},400,"elasticOut")};r.on("mouseover",be).on("mouseout",ke).on("emphasis",be).on("normal",ke)}},Bo.fadeOut=function(e,t){var n=this.childAt(0);this.silent=n.silent=!0,!(t&&t.keepLabel)&&(n.style.text=null),pn(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},we(gl,Un);var Hl=ml.prototype;Hl.updateData=function(e,t){var n=this.group,i=e.hostModel,r=this._data,o=this._symbolCtor,a=Zv(e);r||n.removeAll(),e.diff(r).add(function(s){var u=e.getItemLayout(s);if(af(e,u,s,t)){var d=new o(e,s,a);d.attr("position",u),e.setItemGraphicEl(s,d),n.add(d)}}).update(function(s,u){var d=r.getItemGraphicEl(u),h=e.getItemLayout(s);af(e,h,s,t)?(d?(d.updateData(e,s,a),pn(d,{position:h},i)):(d=new o(e,s)).attr("position",h),n.add(d),e.setItemGraphicEl(s,d)):n.remove(d)}).remove(function(s){var u=r.getItemGraphicEl(s);u&&u.fadeOut(function(){n.remove(u)})}).execute(),this._data=e},Hl.isPersistent=function(){return!0},Hl.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl(function(t,n){var i=e.getItemLayout(n);t.attr("position",i)})},Hl.incrementalPrepareUpdate=function(e){this._seriesScope=Zv(e),this._data=null,this.group.removeAll()},Hl.incrementalUpdate=function(e,t,n){for(var i=e.start;i<e.end;i++){var r=t.getItemLayout(i);if(af(t,r,i,n)){var o=new this._symbolCtor(t,i,this._seriesScope);o.traverse(function(a){a.isGroup||(a.incremental=a.useHoverLayer=!0)}),o.attr("position",r),this.group.add(o),t.setItemGraphicEl(i,o)}}},Hl.remove=function(e){var t=this.group,n=this._data;n&&(e?n.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)})}):t.removeAll())};var Nb=_t,Pb=on,Lb=wn,Eb=lt,Og=[],as=[],ss=[],bI=sn.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:ug(sn.prototype.brush),buildPath:function(e,t){var n=t.points,i=0,r=n.length,o=lf(n,t.smoothConstraint);if(t.connectNulls){for(;r>0&&ja(n[r-1]);r--);for(;i<r&&ja(n[i]);i++);}for(;i<r;)i+=sf(e,n,i,r,r,1,o.min,o.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),Rb=sn.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:ug(sn.prototype.brush),buildPath:function(e,t){var n=t.points,i=t.stackedOnPoints,r=0,o=n.length,a=t.smoothMonotone,s=lf(n,t.smoothConstraint),u=lf(i,t.smoothConstraint);if(t.connectNulls){for(;o>0&&ja(n[o-1]);o--);for(;r<o&&ja(n[r]);r++);}for(;r<o;){var d=sf(e,n,r,o,o,1,s.min,s.max,t.smooth,a,t.connectNulls);sf(e,i,r+d-1,d,o,-1,u.min,u.max,t.stackedOnSmooth,a,t.connectNulls),r+=d+1,e.closePath()}}});Mr.extend({type:"line",init:function(){var e=new Un,t=new ml;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,t,n){var i=e.coordinateSystem,r=this.group,o=e.getData(),a=e.getModel("lineStyle"),s=e.getModel("areaStyle"),u=o.mapArray(o.getItemLayout,!0),d="polar"===i.type,h=this._coordSys,g=this._symbolDraw,m=this._polyline,y=this._polygon,I=this._lineGroup,j=e.get("animation"),q=!s.isEmpty(),K=function(e,t,n,i){var r=t.getBaseAxis(),o=t.getOtherAxis(r),a=0,s=o.scale.getExtent();"start"===i?a=s[0]:"end"===i?a=s[1]:(s=o.scale.getExtent())[0]>0?a=s[0]:s[1]<0&&(a=s[1]);var u=o.dim,d="x"===u||"radius"===u?1:0,h=n.mapDimension(u);return n.mapArray(h?[h]:[],function(g,m){for(var y,I=n.stackedOn;I&&Qv(I.get(h,m))===Qv(g);){y=I;break}var j=[];return j[d]=n.get(r.dim,m),j[1-d]=y?y.get(h,m,!0):a,t.dataToPoint(j)},!0)}(0,i,o,s.get("origin")),te=e.get("showSymbol"),ue=te&&!d&&!e.get("showAllSymbol")&&this._getSymbolIgnoreFunc(o,i),be=this._data;be&&be.eachItemGraphicEl(function(tn,Jt){tn.__temp&&(r.remove(tn),be.setItemGraphicEl(Jt,null))}),te||g.remove(),r.add(I);var ke=!d&&e.get("step");m&&h.type===i.type&&ke===this._step?(q&&!y?y=this._newPolygon(u,K,i,j):y&&!q&&(I.remove(y),y=this._polygon=null),I.setClipPath(e0(i,!1,e)),te&&g.updateData(o,ue),o.eachItemGraphicEl(function(tn){tn.stopAnimation(!0)}),Xv(this._stackedOnPoints,K)&&Xv(this._points,u)||(j?this._updateAnimation(o,K,i,n,ke):(ke&&(u=qa(u,i,ke),K=qa(K,i,ke)),m.setShape({points:u}),y&&y.setShape({points:u,stackedOnPoints:K})))):(te&&g.updateData(o,ue),ke&&(u=qa(u,i,ke),K=qa(K,i,ke)),m=this._newPolyline(u,i,j),q&&(y=this._newPolygon(u,K,i,j)),I.setClipPath(e0(i,!0,e)));var Be=function(e,t){var n=e.getVisual("visualMeta");if(n&&n.length&&e.count()){for(var i,r=n.length-1;r>=0;r--)if(n[r].dimension<2){i=n[r];break}if(i&&"cartesian2d"===t.type){var a=e.dimensions[i.dimension],s=t.getAxis(a),u=Me(i.stops,function(j){return{coord:s.toGlobalCoord(s.dataToCoord(j.value)),color:j.color}}),d=u.length,h=i.outerColors.slice();d&&u[0].coord>u[d-1].coord&&(u.reverse(),h.reverse());var g=u[0].coord-10,m=u[d-1].coord+10,y=m-g;if(y<.001)return"transparent";de(u,function(j){j.offset=(j.coord-g)/y}),u.push({offset:d?u[d-1].offset:.5,color:h[1]||"transparent"}),u.unshift({offset:d?u[0].offset:.5,color:h[0]||"transparent"});var I=new Bl(0,0,0,0,u,!0);return I[a]=g,I[a+"2"]=m,I}}}(o,i)||o.getVisual("color");m.useStyle(At(a.getLineStyle(),{fill:"none",stroke:Be,lineJoin:"bevel"}));var We=e.get("smooth");if(We=Kv(e.get("smooth")),m.setShape({smooth:We,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),y){var qe=o.stackedOn,gt=0;y.useStyle(At(s.getAreaStyle(),{fill:Be,opacity:.7,lineJoin:"bevel"})),qe&&(gt=Kv(qe.hostModel.get("smooth"))),y.setShape({smooth:We,stackedOnSmooth:gt,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=o,this._coordSys=i,this._stackedOnPoints=K,this._points=u,this._step=ke},dispose:function(){},highlight:function(e,t,n,i){var r=e.getData(),o=X(r,i);if(!(o instanceof Array)&&null!=o&&o>=0){var a=r.getItemGraphicEl(o);if(!a){var s=r.getItemLayout(o);if(!s)return;(a=new gl(r,o)).position=s,a.setZ(e.get("zlevel"),e.get("z")),a.ignore=isNaN(s[0])||isNaN(s[1]),a.__temp=!0,r.setItemGraphicEl(o,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else Mr.prototype.highlight.call(this,e,t,n,i)},downplay:function(e,t,n,i){var r=e.getData(),o=X(r,i);if(null!=o&&o>=0){var a=r.getItemGraphicEl(o);a&&(a.__temp?(r.setItemGraphicEl(o,null),this.group.remove(a)):a.downplay())}else Mr.prototype.downplay.call(this,e,t,n,i)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new bI({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new Rb({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_getSymbolIgnoreFunc:function(e,t){var n=t.getAxesByScale("ordinal")[0];if(n&&n.isLabelIgnored)return ot(n.isLabelIgnored,n)},_updateAnimation:function(e,t,n,i,r){var o=this._polyline,a=this._polygon,s=e.hostModel,u=function(e,t,n,i,r,o){for(var a=function(e,t){var n=[];return t.diff(e).add(function(i){n.push({cmd:"+",idx:i})}).update(function(i,r){n.push({cmd:"=",idx:r,idx1:i})}).remove(function(i){n.push({cmd:"-",idx:i})}).execute(),n}(e,t),s=[],u=[],d=[],h=[],g=[],m=[],y=[],I=o.dimensions,j=0;j<a.length;j++){var q=a[j],K=!0;switch(q.cmd){case"=":var te=e.getItemLayout(q.idx),ue=t.getItemLayout(q.idx1);(isNaN(te[0])||isNaN(te[1]))&&(te=ue.slice()),s.push(te),u.push(ue),d.push(n[q.idx]),h.push(i[q.idx1]),y.push(t.getRawIndex(q.idx1));break;case"+":s.push(r.dataToPoint([t.get(I[0],be=q.idx,!0),t.get(I[1],be,!0)])),u.push(t.getItemLayout(be).slice()),d.push($v(r,t,be)),h.push(i[be]),y.push(t.getRawIndex(be));break;case"-":var be=q.idx,ke=e.getRawIndex(be);ke!==be?(s.push(e.getItemLayout(be)),u.push(o.dataToPoint([e.get(I[0],be,!0),e.get(I[1],be,!0)])),d.push(n[be]),h.push($v(o,e,be)),y.push(ke)):K=!1}K&&(g.push(q),m.push(m.length))}m.sort(function(Jt,un){return y[Jt]-y[un]});var Be=[],We=[],qe=[],gt=[],tn=[];for(j=0;j<m.length;j++)Be[j]=s[be=m[j]],We[j]=u[be],qe[j]=d[be],gt[j]=h[be],tn[j]=g[be];return{current:Be,next:We,stackedOnCurrent:qe,stackedOnNext:gt,status:tn}}(this._data,e,this._stackedOnPoints,t,this._coordSys,n),d=u.current,h=u.stackedOnCurrent,g=u.next,m=u.stackedOnNext;r&&(d=qa(u.current,n,r),h=qa(u.stackedOnCurrent,n,r),g=qa(u.next,n,r),m=qa(u.stackedOnNext,n,r)),o.shape.__points=u.current,o.shape.points=d,pn(o,{shape:{points:g}},s),a&&(a.setShape({points:d,stackedOnPoints:h}),pn(a,{shape:{points:g,stackedOnPoints:m}},s));for(var y=[],I=u.status,j=0;j<I.length;j++)if("="===I[j].cmd){var q=e.getItemGraphicEl(I[j].idx1);q&&y.push({el:q,ptIdx:j})}o.animators&&o.animators.length&&o.animators[0].during(function(){for(var K=0;K<y.length;K++)y[K].el.attr("position",o.shape.__points[y[K].ptIdx])})},remove:function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(i,r){i.__temp&&(t.remove(i),n.setItemGraphicEl(r,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var Zs=function(e,t,n){return{seriesType:e,performRawSeries:!0,reset:function(i,r,o){var a=i.getData(),s=i.get("symbol")||t,u=i.get("symbolSize");if(a.setVisual({legendSymbol:n||s,symbol:s,symbolSize:u}),!r.isSeriesFiltered(i))return{dataEach:a.hasItemOption||"function"==typeof u?function(h,g){if("function"==typeof u){var m=i.getRawValue(g),y=i.getDataParams(g);h.setItemVisual(g,"symbolSize",u(m,y))}if(h.hasItemOption){var I=h.getItemModel(g),j=I.getShallow("symbol",!0),q=I.getShallow("symbolSize",!0);null!=j&&h.setItemVisual(g,"symbol",j),null!=q&&h.setItemVisual(g,"symbolSize",q)}}:null}}}},Uu=function(e){return{seriesType:e,plan:_g(),reset:function(t){var n=t.getData(),i=t.coordinateSystem,r=t.pipelineContext.large;if(i){var o=Me(i.dimensions,function(s){return n.getDimension(n.mapDimension(s))}).slice(0,2),a=o.length;return a&&{progress:function(s,u){for(var h=r&&new Float32Array((s.end-s.start)*a),g=s.start,m=0,y=[],I=[];g<s.end;g++){var j;if(1===a)q=u.get(o[0],g,!0),j=!isNaN(q)&&i.dataToPoint(q,null,I);else{var q=y[0]=u.get(o[0],g,!0),K=y[1]=u.get(o[1],g,!0);j=!isNaN(q)&&!isNaN(K)&&i.dataToPoint(y,null,I)}r?(h[m++]=j?j[0]:NaN,h[m++]=j?j[1]:NaN):u.setItemLayout(g,j&&j.slice()||[NaN,NaN])}r&&u.setLayout("symbolPoints",h)}}}}}},_I={average:function(e){for(var t=0,n=0,i=0;i<e.length;i++)isNaN(e[i])||(t+=e[i],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return t},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return t},nearest:function(e){return e[0]}},wI=function(e,t){return Math.round(e.length/2)},Qd=function(e){this._axes={},this._dimList=[],this.name=e||""};Qd.prototype={constructor:Qd,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return Me(this._dimList,uS,this)},getAxesByScale:function(e){return e=e.toLowerCase(),ft(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){for(var n=this._dimList,i=e instanceof Array?[]:{},r=0;r<n.length;r++){var o=n[r];i[o]=this._axes[o][t](e[o])}return i}},hu.prototype={constructor:hu,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoint:function(e,t,n){var i=this.getAxis("x"),r=this.getAxis("y");return(n=n||[])[0]=i.toGlobalCoord(i.dataToCoord(e[0])),n[1]=r.toGlobalCoord(r.dataToCoord(e[1])),n},clampData:function(e,t){var n=this.getAxis("x").scale.getExtent(),i=this.getAxis("y").scale.getExtent();return(t=t||[])[0]=Math.min(Math.max(Math.min(n[0],n[1]),e[0]),Math.max(n[0],n[1])),t[1]=Math.min(Math.max(Math.min(i[0],i[1]),e[1]),Math.max(i[0],i[1])),t},pointToData:function(e,t){var n=this.getAxis("x"),i=this.getAxis("y");return(t=t||[])[0]=n.coordToData(n.toLocalCoord(e[0])),t[1]=i.coordToData(i.toLocalCoord(e[1])),t},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")}},we(hu,Qd);var eh=function(e,t,n,i,r){mr.call(this,e,t,n),this.type=i||"value",this.position=r||"bottom"};eh.prototype={constructor:eh,index:0,onZero:!1,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getGlobalExtent:function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(e){if("category"===this.type){var t=this.getLabelInterval();return"function"==typeof t&&!t(e,this.scale.getLabel(e))||e%(t+1)}},pointToData:function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null},we(eh,mr);var Bb={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},ls={};ls.categoryAxis=Ye({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Bb),ls.valueAxis=Ye({boundaryGap:[0,0],splitNumber:5},Bb),ls.timeAxis=At({scale:!0,min:"dataMin",max:"dataMax"},ls.valueAxis),ls.logAxis=At({scale:!0,logBase:10},ls.valueAxis);var CI=["value","category","time","log"],Wl=function(e,t,n,i){de(CI,function(r){t.extend({type:e+"Axis."+r,mergeDefaultAndTheme:function(o,a){var s=this.layoutMode,u=s?dl(o):{};Ye(o,a.getTheme().get(r+"Axis")),Ye(o,this.getDefaultOption()),o.type=n(e,o),s&&Ua(o,u,s)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=du.createByAxisModel(this))},getCategories:function(){if("category"===this.option.type)return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:sr([{},ls[r+"Axis"],i],!0)})}),Ii.registerSubTypeDefaulter(e+"Axis",Ne(n,e))},Gl=Ii.extend({type:"cartesian2dAxis",axis:null,init:function(){Gl.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){Gl.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){Gl.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});Ye(Gl.prototype,qs);var Ob={offset:0};Wl("x",Gl,t0,Ob),Wl("y",Gl,t0,Ob),Ii.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var ua=de,SI=function(e){var t=e.scale.getExtent(),n=t[0],i=t[1];return!(n>0&&i>0||n<0&&i<0)},zb=Ms,Br=vl.prototype;Br.type="grid",Br.axisPointerEnabled=!0,Br.getRect=function(){return this._rect},Br.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model),ua(n.x,function(i){zb(i.scale,i.model)}),ua(n.y,function(i){zb(i.scale,i.model)}),ua(n.x,function(i){n0(n,"y",i)}),ua(n.y,function(i){n0(n,"x",i)}),this.resize(this.model,t)},Br.resize=function(e,t,n){function i(){ua(o,function(a){var s=a.isHorizontal(),u=s?[0,r.width]:[0,r.height],d=a.inverse?1:0;a.setExtent(u[d],u[1-d]),function(e,t){var n=e.getExtent(),i=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(r){return r+t}:function(r){return i-r+t},e.toLocalCoord="x"===e.dim?function(r){return r-t}:function(r){return i-r+t}}(a,s?r.x:r.y)})}var r=xr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=r;var o=this._axesList;i(),!n&&e.get("containLabel")&&(ua(o,function(a){if(!a.model.get("axisLabel.inside")){var s=function(e){var t,n=e.model,i=n.get("axisLabel.show")?n.getFormattedLabels():[],r=n.getModel("axisLabel"),o=1,a=i.length;a>40&&(o=Math.ceil(a/40));for(var s=0;s<a;s+=o)if(!e.isLabelIgnored(s)){var u=cS(r.getTextRect(i[s]),r.get("rotate")||0);t?t.union(u):t=u}return t}(a);if(s){var u=a.isHorizontal()?"height":"width",d=a.model.get("axisLabel.margin");r[u]-=s[u]+d,"top"===a.position?r.y+=s.height+d:"left"===a.position&&(r.x+=s.width+d)}}}),i())},Br.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n){if(null==t)for(var i in n)if(n.hasOwnProperty(i))return n[i];return n[t]}},Br.getAxes=function(){return this._axesList.slice()},Br.getCartesian=function(e,t){if(null!=e&&null!=t)return this._coordsMap["x"+e+"y"+t];Oe(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===e||r[i].getAxis("y").index===t)return r[i]},Br.getCartesians=function(){return this._coordsList.slice()},Br.convertToPixel=function(e,t,n){var i=this._findConvertTarget(e,t);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},Br.convertFromPixel=function(e,t,n){var i=this._findConvertTarget(e,t);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},Br._findConvertTarget=function(e,t){var n,i,r=t.seriesModel,o=t.xAxisModel||r&&r.getReferringComponents("xAxis")[0],a=t.yAxisModel||r&&r.getReferringComponents("yAxis")[0],s=t.gridModel;return r?Qe(this._coordsList,n=r.coordinateSystem)<0&&(n=null):o&&a?n=this.getCartesian(o.componentIndex,a.componentIndex):o?i=this.getAxis("x",o.componentIndex):a?i=this.getAxis("y",a.componentIndex):s&&s.coordinateSystem===this&&(n=this._coordsList[0]),{cartesian:n,axis:i}},Br.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},Br._initCartesian=function(e,t,n){function i(s){return function(u,d){if(uf(u,e)){var h=u.get("position");"x"===s?"top"!==h&&"bottom"!==h&&r[h="bottom"]&&(h="top"===h?"bottom":"top"):"left"!==h&&"right"!==h&&r[h="left"]&&(h="left"===h?"right":"left"),r[h]=!0;var g=new eh(s,pl(u),[0,0],u.get("type"),h);g.onBand="category"===g.type&&u.get("boundaryGap"),g.inverse=u.get("inverse"),g.onZero=u.get("axisLine.onZero"),g.onZeroAxisIndex=u.get("axisLine.onZeroAxisIndex"),u.axis=g,g.model=u,g.grid=this,g.index=d,this._axesList.push(g),o[s][d]=g,a[s]++}}}var r={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},a={x:0,y:0};if(t.eachComponent("xAxis",i("x"),this),t.eachComponent("yAxis",i("y"),this),!a.x||!a.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=o,ua(o.x,function(s,u){ua(o.y,function(d,h){var g="x"+u+"y"+h,m=new hu(g);m.grid=this,m.model=e,this._coordsMap[g]=m,this._coordsList.push(m),m.addAxis(s),m.addAxis(d)},this)},this)},Br._updateScale=function(e,t){function n(i,r,o){ua(i.mapDimension(r.dim,!0),function(a){r.scale.unionExtentFromData(i,a)})}de(this._axesList,function(i){i.scale.setExtent(1/0,-1/0)}),e.eachSeries(function(i){if(o0(i)){var r=r0(i),o=r[0],a=r[1];if(!uf(o,t)||!uf(a,t))return;var s=this.getCartesian(o.componentIndex,a.componentIndex),u=i.getData(),d=s.getAxis("x"),h=s.getAxis("y");"list"===u.type&&(n(u,d),n(u,h))}},this)},Br.getTooltipAxes=function(e){var t=[],n=[];return ua(this.getCartesians(),function(i){var r=null!=e&&"auto"!==e?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(r);Qe(t,r)<0&&t.push(r),Qe(n,o)<0&&n.push(o)}),{baseAxes:t,otherAxes:n}};var MI=["xAxis","yAxis"];vl.create=function(e,t){var n=[];return e.eachComponent("grid",function(i,r){var o=new vl(i,e,t);o.name="grid_"+r,o.resize(i,t,!0),i.coordinateSystem=o,n.push(o)}),e.eachSeries(function(i){if(o0(i)){var r=r0(i),o=r[0],a=r[1],s=o.getCoordSysModel().coordinateSystem;i.coordinateSystem=s.getCartesian(o.componentIndex,a.componentIndex)}}),n},vl.dimensions=vl.prototype.dimensions=hu.prototype.dimensions,Rr.register("cartesian2d",vl);var us=Math.PI,Or=function(e,t){this.opt=t,this.axisModel=e,At(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new Un;var n=new Un({position:t.position.slice(),rotation:t.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};Or.prototype={constructor:Or,hasBuilder:function(e){return!!Fb[e]},add:function(e){Fb[e].call(this)},getGroup:function(){return this.group}};var Fb={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),i=this._transform,r=[n[0],0],o=[n[1],0];i&&(Pt(r,r,i),Pt(o,o,i));var a=On({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new Co(Ge({anid:"line",shape:{x1:r[0],y1:r[1],x2:o[0],y2:o[1]},style:a,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1})));var s=t.get("axisLine.symbol"),u=t.get("axisLine.symbolSize");if(null!=s){"string"==typeof s&&(s=[s,s]),"string"!=typeof u&&"number"!=typeof u||(u=[u,u]);var d=u[0],h=u[1];de([[e.rotation+Math.PI/2,r],[e.rotation-Math.PI/2,o]],function(g,m){if("none"!==s[m]&&null!=s[m]){var y=ao(s[m],-d/2,-h/2,d,h,a.stroke,!0);y.attr({rotation:g[0],position:g[1],silent:!0}),this.group.add(y)}},this)}}},axisTickLabel:function(){var e=this.axisModel,t=this.opt,n=function(e,t,n){var i=t.axis;if(t.get("axisTick.show")&&!i.scale.isBlank()){for(var r=t.getModel("axisTick"),o=r.getModel("lineStyle"),a=r.get("length"),s=TI(r,n.labelInterval),u=i.getTicksCoords(r.get("alignWithLabel")),d=i.scale.getTicks(),h=t.get("axisLabel.showMinLabel"),g=t.get("axisLabel.showMaxLabel"),m=[],y=[],I=e._transform,j=[],q=u.length,K=0;K<q;K++)if(!Hb(i,K,s,q,h,g)){var te=u[K];m[0]=te,m[1]=0,y[0]=te,y[1]=n.tickDirection*a,I&&(Pt(m,m,I),Pt(y,y,I));var ue=new Co(Ge({anid:"tick_"+d[K],shape:{x1:m[0],y1:m[1],x2:y[0],y2:y[1]},style:At(o.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));e.group.add(ue),j.push(ue)}return j}}(this,e,t);!function(e,t,n){var i=e.get("axisLabel.showMinLabel"),r=e.get("axisLabel.showMaxLabel"),o=(t=t||[])[0],a=t[1],s=t[t.length-1],u=t[t.length-2],d=(n=n||[])[0],h=n[1],g=n[n.length-1],m=n[n.length-2];!1===i?(xo(o),xo(d)):l0(o,a)&&(i?(xo(a),xo(h)):(xo(o),xo(d))),!1===r?(xo(s),xo(g)):l0(u,s)&&(r?(xo(u),xo(m)):(xo(s),xo(g)))}(e,function(e,t,n){var i=t.axis;if(Ft(n.axisLabelShow,t.get("axisLabel.show"))&&!i.scale.isBlank()){var r=t.getModel("axisLabel"),o=r.get("margin"),a=i.scale.getTicks(),s=t.getFormattedLabels(),u=(Ft(n.labelRotate,r.get("rotate"))||0)*us/180,d=Vb(n.rotation,u,n.labelDirection),h=t.getCategories(),g=[],m=s0(t),y=t.get("triggerEvent"),I=t.get("axisLabel.showMinLabel"),j=t.get("axisLabel.showMaxLabel");return de(a,function(q,K){if(!Hb(i,K,n.labelInterval,a.length,I,j)){var te=r;h&&h[q]&&h[q].textStyle&&(te=new Kn(h[q].textStyle,r,t.ecModel));var ue=te.getTextColor()||t.get("axisLine.lineStyle.color"),be=[i.dataToCoord(q),n.labelOffset+n.labelDirection*o],ke=i.scale.getLabel(q),Be=new Si({anid:"label_"+q,position:be,rotation:d.rotation,silent:m,z2:10});Ze(Be.style,te,{text:s[K],textAlign:te.getShallow("align",!0)||d.textAlign,textVerticalAlign:te.getShallow("verticalAlign",!0)||te.getShallow("baseline",!0)||d.textVerticalAlign,textFill:"function"==typeof ue?ue("category"===i.type?ke:"value"===i.type?q+"":q,K):ue}),y&&(Be.eventData=a0(t),Be.eventData.targetType="axisLabel",Be.eventData.value=ke),e._dumbGroup.add(Be),Be.updateTransform(),g.push(Be),e.group.add(Be),Be.decomposeTransform()}}),g}}(this,e,t),n)},axisName:function(){var e=this.opt,t=this.axisModel,n=Ft(e.axisName,t.get("name"));if(n){var i,m,r=t.get("nameLocation"),o=e.nameDirection,a=t.getModel("nameTextStyle"),s=t.get("nameGap")||0,u=this.axisModel.axis.getExtent(),d=u[0]>u[1]?-1:1,h=["start"===r?u[0]-d*s:"end"===r?u[1]+d*s:(u[0]+u[1])/2,u0(r)?e.labelOffset+o*s:0],g=t.get("nameRotate");null!=g&&(g=g*us/180),u0(r)?i=Vb(e.rotation,null!=g?g:e.rotation,o):(i=function(e,t,n,i){var r,o,a=Ph(n-e.rotation),s=i[0]>i[1],u="start"===t&&!s||"start"!==t&&s;return tu(a-us/2)?(o=u?"bottom":"top",r="center"):tu(a-1.5*us)?(o=u?"top":"bottom",r="center"):(o="middle",r=a<1.5*us&&a>us/2?u?"left":"right":u?"right":"left"),{rotation:a,textAlign:r,textVerticalAlign:o}}(e,r,g||0,u),null!=(m=e.axisNameAvailableWidth)&&(m=Math.abs(m/Math.sin(i.rotation)),!isFinite(m)&&(m=null)));var y=a.getFont(),I=t.get("nameTruncate",!0)||{},j=I.ellipsis,q=Ft(e.nameTruncateMaxWidth,I.maxWidth,m),K=null!=j&&null!=q?eb(n,q,y,j,{minChar:2,placeholder:I.placeholder}):n,te=t.get("tooltip",!0),ue=t.mainType,be={componentType:ue,name:n,$vars:["name"]};be[ue+"Index"]=t.componentIndex;var ke=new Si({anid:"name",__fullText:n,__truncatedText:K,position:h,rotation:i.rotation,silent:s0(t),z2:1,tooltip:te&&te.show?On({content:n,formatter:function(){return n},formatterParams:be},te):null});Ze(ke.style,a,{text:K,textFont:y,textFill:a.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:i.textAlign,textVerticalAlign:i.textVerticalAlign}),t.get("triggerEvent")&&(ke.eventData=a0(t),ke.eventData.targetType="axisName",ke.eventData.name=n),this._dumbGroup.add(ke),ke.updateTransform(),this.group.add(ke),ke.decomposeTransform()}}},Vb=Or.innerTextLayout=function(e,t,n){var i,r,o=Ph(t-e);return tu(o)?(r=n>0?"top":"bottom",i="center"):tu(o-us)?(r=n>0?"bottom":"top",i="center"):(r="middle",i=o>0&&o<us?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:i,textVerticalAlign:r}},Hb=Or.ifIgnoreOnTick=function(e,t,n,i,r,o){if(0===t&&r||t===i-1&&o)return!1;var a,s=e.scale;return"ordinal"===s.type&&("function"==typeof n?!n(a=s.getTicks()[t],s.getLabel(a)):t%(n+1))},TI=Or.getInterval=function(e,t){var n=e.get("interval");return null!=n&&"auto"!=n||(n=t),n},Ul=de,zg=Ne,uo=br({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,t,n,i){this.axisPointerClass&&wS(e),uo.superApply(this,"render",arguments),c0(this,e,0,n,0,!0)},updateAxisPointer:function(e,t,n,i,r){c0(this,e,0,n,0,!1)},remove:function(e,t){var n=this._axisPointer;n&&n.remove(t),uo.superApply(this,"remove",arguments)},dispose:function(e,t){d0(this,t),uo.superApply(this,"dispose",arguments)}}),Wb=[];uo.registerAxisPointerClass=function(e,t){Wb[e]=t},uo.getAxisPointerClass=function(e){return e&&Wb[e]};var Gb=Or.ifIgnoreOnTick,Ub=Or.getInterval,kI=["axisLine","axisTickLabel","axisName"],AI=["splitArea","splitLine"],Fg=uo.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,n,i){this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new Un,this.group.add(this._axisGroup),e.get("show")){var o=e.getCoordSysModel(),a=ff(o,e),s=new Or(e,a);de(kI,s.add,s),this._axisGroup.add(s.getGroup()),de(AI,function(u){e.get(u+".show")&&this["_"+u](e,o,a.labelInterval)},this),wi(r,this._axisGroup,e),Fg.superCall(this,"render",e,t,n,i)}},_splitLine:function(e,t,n){var i=e.axis;if(!i.scale.isBlank()){var r=e.getModel("splitLine"),o=r.getModel("lineStyle"),a=o.get("color"),s=Ub(r,n);a=me(a)?a:[a];for(var u=t.coordinateSystem.getRect(),d=i.isHorizontal(),h=0,g=i.getTicksCoords(),m=i.scale.getTicks(),y=e.get("axisLabel.showMinLabel"),I=e.get("axisLabel.showMaxLabel"),j=[],q=[],K=o.getLineStyle(),te=0;te<g.length;te++)if(!Gb(i,te,s,g.length,y,I)){var ue=i.toGlobalCoord(g[te]);d?(j[0]=ue,j[1]=u.y,q[0]=ue,q[1]=u.y+u.height):(j[0]=u.x,j[1]=ue,q[0]=u.x+u.width,q[1]=ue);var be=h++%a.length;this._axisGroup.add(new Co(Ge({anid:"line_"+m[te],shape:{x1:j[0],y1:j[1],x2:q[0],y2:q[1]},style:At({stroke:a[be]},K),silent:!0})))}}},_splitArea:function(e,t,n){var i=e.axis;if(!i.scale.isBlank()){var r=e.getModel("splitArea"),o=r.getModel("areaStyle"),a=o.get("color"),s=t.coordinateSystem.getRect(),u=i.getTicksCoords(),d=i.scale.getTicks(),h=i.toGlobalCoord(u[0]),g=i.toGlobalCoord(u[0]),m=0,y=Ub(r,n),I=o.getAreaStyle();a=me(a)?a:[a];for(var j=e.get("axisLabel.showMinLabel"),q=e.get("axisLabel.showMaxLabel"),K=1;K<u.length;K++)if(!Gb(i,K,y,u.length,j,q)){var te,ue,be,ke,Be=i.toGlobalCoord(u[K]);i.isHorizontal()?(ue=s.y,be=Be-(te=h),ke=s.height):(te=s.x,be=s.width,ke=Be-(ue=g));var We=m++%a.length;this._axisGroup.add(new Gi({anid:"area_"+d[K],shape:{x:te,y:ue,width:be,height:ke},style:At({fill:a[We]},I),silent:!0})),h=te+be,g=ue+ke}}}});Fg.extend({type:"xAxis"}),Fg.extend({type:"yAxis"}),br({type:"grid",render:function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new Gi({shape:e.coordinateSystem.getRect(),style:At({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),Ir(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}),Xi(Zs("line","circle","line")),rr(Uu("line")),yo(Fl.PROCESSOR.STATISTIC,{seriesType:"line",reset:function(t,n,i){var r=t.getData(),o=t.get("sampling"),a=t.coordinateSystem;if("cartesian2d"===a.type&&o){var m,s=a.getBaseAxis(),u=a.getOtherAxis(s),d=s.getExtent(),h=d[1]-d[0],g=Math.round(r.count()/h);g>1&&("string"==typeof o?m=_I[o]:"function"==typeof o&&(m=o),m&&t.setData(r.downSample(u.dim,1/g,m,wI)))}}});var jb=hr.extend({type:"series.__base_bar__",getInitialData:function(e,t){return ka(this.getSource(),this)},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(t.clampData(e)),i=this.getData(),r=i.getLayout("offset"),o=i.getLayout("size");return n[t.getBaseAxis().isHorizontal()?0:1]+=r+o/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{},emphasis:{}}});jb.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});var II=Nl([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),DI={getBarItemStyle:function(e){var t=II(this,e);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(t.lineDash=n)}return t}},NI=["itemStyle","barBorderWidth"];On(Kn.prototype,DI),Vr({type:"bar",render:function(e,t,n){var i=e.get("coordinateSystem");return"cartesian2d"!==i&&"polar"!==i||this._render(e,t,n),this.group},dispose:Zt,_render:function(e,t,n){var i,r=this.group,o=e.getData(),a=this._data,s=e.coordinateSystem,u=s.getBaseAxis();"cartesian2d"===s.type?i=u.isHorizontal():"polar"===s.type&&(i="angle"===u.dim);var d=e.isAnimationEnabled()?e:null;o.diff(a).add(function(h){if(o.hasValue(h)){var g=o.getItemModel(h),m=Zb[s.type](o,h,g),y=qb[s.type](o,h,g,m,i,d);o.setItemGraphicEl(h,y),r.add(y),m0(y,o,h,g,0,e,0,"polar"===s.type)}}).update(function(h,g){var m=a.getItemGraphicEl(g);if(o.hasValue(h)){var y=o.getItemModel(h),I=Zb[s.type](o,h,y);m?pn(m,{shape:I},d,h):m=qb[s.type](o,h,y,I,i,d,!0),o.setItemGraphicEl(h,m),r.add(m),m0(m,o,h,y,0,e,0,"polar"===s.type)}else r.remove(m)}).remove(function(h){var g=a.getItemGraphicEl(h);"cartesian2d"===s.type?g&&p0(h,d,g):g&&g0(h,d,g)}).execute(),this._data=o},remove:function(e,t){var n=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl(function(r){"sector"===r.type?g0(r.dataIndex,e,r):p0(r.dataIndex,e,r)}):n.removeAll()}});var qb={cartesian2d:function(e,t,n,i,r,o,a){var s=new Gi({shape:On({},i)});if(o){var d=r?"height":"width",h={};s.shape[d]=0,h[d]=i[d],Lo[a?"updateProps":"initProps"](s,{shape:h},o,t)}return s},polar:function(e,t,n,i,r,o,a){var s=new Na({shape:On({},i)});if(o){var d=r?"r":"endAngle",h={};s.shape[d]=r?0:i.startAngle,h[d]=i[d],Lo[a?"updateProps":"initProps"](s,{shape:h},o,t)}return s}},Zb={cartesian2d:function(e,t,n){var i=e.getItemLayout(t),r=function(e,t){var n=e.get(NI)||0;return Math.min(n,Math.abs(t.width),Math.abs(t.height))}(n,i),o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(e,t,n){var i=e.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}};rr(Ne(Hv,"bar")),Xi(function(e){e.eachSeriesByType("bar",function(t){t.getData().setVisual("legendSymbol","roundRect")})});var jl=function(e,t,n){t=me(t)&&{coordDimensions:t}||On({},t);var i=e.getSource(),r=Vl(i,t),o=new wr(r,e);return o.initData(i,n),o},Vg={updateSelectedMap:function(e){if(me(e))this._targetList=e.slice();else for(var t=e,n=t.mapDimension("value"),i=(e=this._targetList=[],0),r=t.count();i<r;i++)e.push({name:t.getName(i),value:t.get(n,i),selected:fC(t,i,"selected")});this._selectTargetMap=zt(e||[],function(o,a){return o.set(a.name,a),o},st())},select:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(i){i.selected=!1}),n&&(n.selected=!0)},unSelect:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);n&&(n.selected=!1)},toggleSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=n)return this[n.selected?"unSelect":"select"](e,t),n.selected},isSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return n&&n.selected}},th=lu({type:"series.pie",init:function(e){th.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this.getRawData()),this._defaultLabelLine(e)},mergeOption:function(e){th.superCall(this,"mergeOption",e),this.updateSelectedMap(this.getRawData())},getInitialData:function(e,t){return jl(this,["value"])},getDataParams:function(e){var t=this.getData(),n=th.superCall(this,"getDataParams",e),i=[];return t.each(t.mapDimension("value"),function(r){i.push(r)}),n.percent=jm(i,e,t.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},_defaultLabelLine:function(e){$(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});Ke(th,Vg);var Yb=pf.prototype;Yb.updateData=function(e,t,n){function i(){o.stopAnimation(!0),o.animateTo({shape:{r:u.r+a.get("hoverOffset")}},300,"elasticOut")}function r(){o.stopAnimation(!0),o.animateTo({shape:{r:u.r}},300,"elasticOut")}var o=this.childAt(0),a=e.hostModel,s=e.getItemModel(t),u=e.getItemLayout(t),d=On({},u);d.label=null,n?(o.setShape(d),"scale"===a.getShallow("animationType")?(o.shape.r=u.r0,ui(o,{shape:{r:u.r}},a,t)):(o.shape.endAngle=u.startAngle,pn(o,{shape:{endAngle:u.endAngle}},a,t))):pn(o,{shape:d},a,t);var h=e.getItemVisual(t,"color");o.useStyle(At({lineJoin:"bevel",fill:h},s.getModel("itemStyle").getItemStyle())),o.hoverStyle=s.getModel("emphasis.itemStyle").getItemStyle();var g=s.getShallow("cursor");g&&o.attr("cursor",g),v0(this,e.getItemLayout(t),a.isSelected(null,t),a.get("selectedOffset"),a.get("animation")),o.off("mouseover").off("mouseout").off("emphasis").off("normal"),s.get("hoverAnimation")&&a.isAnimationEnabled()&&o.on("mouseover",i).on("mouseout",r).on("emphasis",i).on("normal",r),this._updateLabel(e,t),De(this)},Yb._updateLabel=function(e,t){var n=this.childAt(1),i=this.childAt(2),r=e.hostModel,o=e.getItemModel(t),a=e.getItemLayout(t).label,s=e.getItemVisual(t,"color");pn(n,{shape:{points:a.linePoints||[[a.x,a.y],[a.x,a.y],[a.x,a.y]]}},r,t),pn(i,{style:{x:a.x,y:a.y}},r,t),i.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var u=o.getModel("label"),d=o.getModel("emphasis.label"),h=o.getModel("labelLine"),g=o.getModel("emphasis.labelLine");s=e.getItemVisual(t,"color"),Ue(i.style,i.hoverStyle={},u,d,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:s,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!d.get("show"),n.ignore=n.normalIgnore=!h.get("show"),n.hoverIgnore=!g.get("show"),n.setStyle({stroke:s,opacity:e.getItemVisual(t,"opacity")}),n.setStyle(h.getModel("lineStyle").getLineStyle()),n.hoverStyle=g.getModel("lineStyle").getLineStyle();var m=h.get("smooth");m&&!0===m&&(m=.4),n.setShape({smooth:m})},we(pf,Un),Mr.extend({type:"pie",init:function(){var e=new Un;this._sectorGroup=e},render:function(e,t,n,i){if(!i||i.from!==this.uid){var r=e.getData(),o=this._data,a=this.group,s=t.get("animation"),u=!o,d=e.get("animationType"),h=Ne(MS,this.uid,e,s,n),g=e.get("selectedMode");if(r.diff(o).add(function(j){var q=new pf(r,j);u&&"scale"!==d&&q.eachChild(function(K){K.stopAnimation(!0)}),g&&q.on("click",h),r.setItemGraphicEl(j,q),a.add(q)}).update(function(j,q){var K=o.getItemGraphicEl(q);K.updateData(r,j),K.off("click"),g&&K.on("click",h),a.add(K),r.setItemGraphicEl(j,K)}).remove(function(j){var q=o.getItemGraphicEl(j);a.remove(q)}).execute(),s&&u&&r.count()>0&&"scale"!==d){var m=r.getItemLayout(0),y=Math.max(n.getWidth(),n.getHeight())/2,I=ot(a.removeClipPath,a);a.setClipPath(this._createClipPath(m.cx,m.cy,y,m.startAngle,m.clockwise,I,e))}this._data=r}},dispose:function(){},_createClipPath:function(e,t,n,i,r,o,a){var s=new Na({shape:{cx:e,cy:t,r0:0,r:n,startAngle:i,endAngle:i,clockwise:r}});return ui(s,{shape:{endAngle:i+(r?1:-1)*Math.PI*2}},a,o),s},containPoint:function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,r=e[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}}});var $b=function(e,t){de(t,function(n){n.update="updateView",Ni(n,function(i,r){var o={};return r.eachComponent({mainType:"series",subType:e,query:i},function(a){a[n.method]&&a[n.method](i.name,i.dataIndex);var s=a.getData();s.each(function(u){var d=s.getName(u);o[d]=a.isSelected(d)||!1})}),{name:i.name,selected:o}})})},nh=function(e){return{getTargetSeries:function(t){var n={},i=st();return t.eachSeriesByType(e,function(r){r.__paletteScope=n,i.set(r.uid,r)}),i},reset:function(t,n){var i=t.getRawData(),r={},o=t.getData();o.each(function(a){var s=o.getRawIndex(a);r[s]=a}),i.each(function(a){var s=r[a],u=null!=s&&o.getItemVisual(s,"color",!0);if(u)i.setItemVisual(a,"color",u);else{var d=i.getItemModel(a).get("itemStyle.color")||t.getColorFromPalette(i.getName(a),t.__paletteScope,i.count());i.setItemVisual(a,"color",d),null!=s&&o.setItemVisual(s,"color",d)}})}}},ih=2*Math.PI,Xb=Math.PI/180,ju=function(e){return{seriesType:e,reset:function(t,n){var i=n.findComponents({mainType:"legend"});if(i&&i.length){var r=t.getData();r.filterSelf(function(o){for(var a=r.getName(o),s=0;s<i.length;s++)if(!i[s].isSelected(a))return!1;return!0},this)}}}};$b("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),Xi(nh("pie")),rr(Ne(function(e,t,n,i){t.eachSeriesByType(e,function(r){var o=r.getData(),a=o.mapDimension("value"),s=r.get("center"),u=r.get("radius");me(u)||(u=[0,u]),me(s)||(s=[s,s]);var d=n.getWidth(),h=n.getHeight(),g=Math.min(d,h),m=vn(s[0],d),y=vn(s[1],h),I=vn(u[0],g/2),j=vn(u[1],g/2),q=-r.get("startAngle")*Xb,K=r.get("minAngle")*Xb,te=0;o.each(a,function(xn){!isNaN(xn)&&te++});var ue=o.getSum(a),be=Math.PI/(ue||te)*2,ke=r.get("clockwise"),Be=r.get("roseType"),We=r.get("stillShowZeroSum"),qe=o.getDataExtent(a);qe[0]=0;var gt=ih,tn=0,Jt=q,un=ke?1:-1;if(o.each(a,function(xn,kn){var Wn;if(isNaN(xn))o.setItemLayout(kn,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:ke,cx:m,cy:y,r0:I,r:Be?NaN:j});else{(Wn="area"!==Be?0===ue&&We?be:xn*be:ih/te)<K?(Wn=K,gt-=K):tn+=xn;var Vn=Jt+un*Wn;o.setItemLayout(kn,{angle:Wn,startAngle:Jt,endAngle:Vn,clockwise:ke,cx:m,cy:y,r0:I,r:Be?Ai(xn,qe,[I,j]):j}),Jt=Vn}},!0),gt<ih&&te)if(gt<=.001){var Mn=ih/te;o.each(a,function(xn,kn){if(!isNaN(xn)){var Wn=o.getItemLayout(kn);Wn.angle=Mn,Wn.startAngle=q+un*kn*Mn,Wn.endAngle=q+un*(kn+1)*Mn}})}else be=gt/tn,Jt=q,o.each(a,function(xn,kn){if(!isNaN(xn)){var Wn=o.getItemLayout(kn),Vn=Wn.angle===K?K:xn*be;Wn.startAngle=Jt,Wn.endAngle=Jt+un*Vn,Jt+=un*Vn}});!function(e,t,n,i){var r,o,a=e.getData(),s=[],u=!1;a.each(function(d){var h,g,m,y,I=a.getItemLayout(d),j=a.getItemModel(d),q=j.getModel("label"),K=q.get("position")||j.get("emphasis.label.position"),te=j.getModel("labelLine"),ue=te.get("length"),be=te.get("length2"),ke=(I.startAngle+I.endAngle)/2,Be=Math.cos(ke),We=Math.sin(ke);r=I.cx,o=I.cy;var qe="inside"===K||"inner"===K;if("center"===K)h=I.cx,g=I.cy,y="center";else{var gt=(qe?(I.r+I.r0)/2*Be:I.r*Be)+r,tn=(qe?(I.r+I.r0)/2*We:I.r*We)+o;if(h=gt+3*Be,g=tn+3*We,!qe){var Jt=gt+Be*(ue+t-I.r),un=tn+We*(ue+t-I.r),Mn=Jt+(Be<0?-1:1)*be;h=Mn+(Be<0?-5:5),g=un,m=[[gt,tn],[Jt,un],[Mn,un]]}y=qe?"center":Be>0?"left":"right"}var kn=q.getFont(),Wn=q.get("rotate")?Be<0?-ke+Math.PI:-ke:0,Vn=qr(e.getFormattedLabel(d,"normal")||a.getName(d),kn,y,"top");u=!!Wn,I.label={x:h,y:g,position:K,height:Vn.height,len:ue,len2:be,linePoints:m,textAlign:y,verticalAlign:"middle",rotation:Wn,inside:qe},qe||s.push(I.label)}),!u&&e.get("avoidLabelOverlap")&&function(e,t,n,i,r,o){for(var a=[],s=[],u=0;u<e.length;u++)e[u].x<t?a.push(e[u]):s.push(e[u]);for(y0(s,t,n,i,1,0,o),y0(a,t,n,i,-1,0,o),u=0;u<e.length;u++){var d=e[u].linePoints;if(d){var h=d[1][0]-d[2][0];d[2][0]=e[u].x<t?e[u].x+3:e[u].x-3,d[1][1]=d[2][1]=e[u].y,d[1][0]=d[2][0]+h}}}(s,r,o,t,0,i)}(r,j,0,h)})},"pie")),yo(ju("pie")),hr.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(e,t){return ka(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},progressive:null}});var Hg=et({shape:{points:null},symbolProxy:null,buildPath:function(e,t){var n=t.points,i=t.size,r=this.symbolProxy,o=r.shape;if(!((e.getContext?e.getContext():e)&&i[0]<4))for(var a=0;a<n.length;){var s=n[a++],u=n[a++];isNaN(s)||isNaN(u)||(o.x=s-i[0]/2,o.y=u-i[1]/2,o.width=i[0],o.height=i[1],r.buildPath(e,o,!0))}},afterBrush:function(e){var t=this.shape,n=t.points,i=t.size;if(i[0]<4){this.setTransform(e);for(var r=0;r<n.length;){var o=n[r++],a=n[r++];isNaN(o)||isNaN(a)||e.fillRect(o-i[0]/2,a-i[1]/2,i[0],i[1])}this.restoreTransform(e)}},findDataIndex:function(e,t){for(var n=this.shape,i=n.points,r=n.size,o=Math.max(r[0],4),a=Math.max(r[1],4),s=i.length/2-1;s>=0;s--){var u=2*s,d=i[u]-o/2,h=i[u+1]-a/2;if(e>=d&&t>=h&&e<=d+o&&t<=h+a)return s}return-1}}),cs=x0.prototype;cs.isPersistent=function(){return!this._incremental},cs.updateData=function(e){this.group.removeAll();var t=new Hg({rectHover:!0,cursor:"default"});t.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(t,e),this.group.add(t),this._incremental=null},cs.updateLayout=function(e){if(!this._incremental){var t=e.getLayout("symbolPoints");this.group.eachChild(function(n){null!=n.startIndex&&(t=new Float32Array(t.buffer,4*n.startIndex*2,2*(n.endIndex-n.startIndex))),n.setShape("points",t)})}},cs.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>2e6?(this._incremental||(this._incremental=new mt({silent:!0})),this.group.add(this._incremental)):this._incremental=null},cs.incrementalUpdate=function(e,t){var n;this._incremental?(n=new Hg,this._incremental.addDisplayable(n,!0)):((n=new Hg({rectHover:!0,cursor:"default",startIndex:e.start,endIndex:e.end})).incremental=!0,this.group.add(n)),n.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(n,t,!!this._incremental)},cs._setCommon=function(e,t,n){var i=t.hostModel,r=t.getVisual("symbolSize");e.setShape("size",r instanceof Array?r:[r,r]),e.symbolProxy=ao(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var o=e.shape.size[0]<4;e.useStyle(i.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var a=t.getVisual("color");a&&e.setColor(a),n||(e.seriesIndex=i.seriesIndex,e.on("mousemove",function(s){e.dataIndex=null;var u=e.findDataIndex(s.offsetX,s.offsetY);u>=0&&(e.dataIndex=u+(e.startIndex||0))}))},cs.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},cs._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()},Vr({type:"scatter",render:function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).updateData(i),this._finished=!0},incrementalPrepareRender:function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).incrementalPrepareUpdate(i),this._finished=!1},incrementalRender:function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,n){var i=e.getData();if(this.group.dirty(),!this._finished||i.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var r=Uu().reset(e);r.progress&&r.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_updateSymbolDraw:function(e,t){var n=this._symbolDraw,i=t.pipelineContext.large;return n&&i===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=i?new x0:new ml,this._isLargeDraw=i,this.group.removeAll()),this.group.add(n.group),n},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),Xi(Zs("scatter","circle")),rr(Uu("scatter")),we(b0,mr),Ko.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Ko.prototype.dataToPoint=function(e,t){return this.coordToPoint(this._indicatorAxes[t].dataToCoord(e),t)},Ko.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(n),this.cy-e*Math.sin(n)]},Ko.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=Math.sqrt(t*t+n*n);t/=i,n/=i;for(var r,o=Math.atan2(-n,t),a=1/0,s=-1,u=0;u<this._indicatorAxes.length;u++){var d=this._indicatorAxes[u],h=Math.abs(o-d.angle);h<a&&(r=d,s=u,a=h)}return[s,+(r&&r.coodToData(i))]},Ko.prototype.resize=function(e,t){var n=e.get("center"),i=t.getWidth(),r=t.getHeight(),o=Math.min(i,r)/2;this.cx=vn(n[0],i),this.cy=vn(n[1],r),this.startAngle=e.get("startAngle")*Math.PI/180,this.r=vn(e.get("radius"),o),de(this._indicatorAxes,function(a,s){a.setExtent(0,this.r);var u=this.startAngle+s*Math.PI*2/this._indicatorAxes.length;u=Math.atan2(Math.sin(u),Math.cos(u)),a.angle=u},this)},Ko.prototype.update=function(e,t){function n(a){var s=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),u=a/s;return 2===u?u=5:u*=2,u*s}var i=this._indicatorAxes,r=this._model;de(i,function(a){a.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(a,s){if("radar"===a.get("coordinateSystem")&&e.getComponent("radar",a.get("radarIndex"))===r){var u=a.getData();de(i,function(d){d.scale.unionExtentFromData(u,u.mapDimension(d.dim))})}},this);var o=r.get("splitNumber");de(i,function(a,s){var u=Wv(a.scale,a.model);Ms(a.scale,a.model);var d=a.model,h=a.scale,g=d.getMin(),m=d.getMax(),y=h.getInterval();if(null!=g&&null!=m)h.setExtent(+g,+m),h.setInterval((m-g)/o);else if(null!=g){var I;do{h.setExtent(+g,I=g+y*o),h.setInterval(y),y=n(y)}while(I<u[1]&&isFinite(I)&&isFinite(u[1]))}else if(null!=m){var j;do{h.setExtent(j=m-y*o,+m),h.setInterval(y),y=n(y)}while(j>u[0]&&isFinite(j)&&isFinite(u[0]))}else{h.getTicks().length-1>o&&(y=n(y));var q=Math.round((u[0]+u[1])/2/y)*y,K=Math.round(o/2);h.setExtent($r(q-K*y),$r(q+(o-K)*y)),h.setInterval(y)}})},Ko.dimensions=[],Ko.create=function(e,t){var n=[];return e.eachComponent("radar",function(i){var r=new Ko(i,e,t);n.push(r),i.coordinateSystem=r}),e.eachSeriesByType("radar",function(i){"radar"===i.get("coordinateSystem")&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},Rr.register("radar",Ko);var qu=ls.valueAxis,LI=(Xr({type:"radar",optionUpdated:function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),r=this.get("axisTick"),o=this.get("axisLabel"),a=this.get("name"),s=this.get("name.show"),u=this.get("name.formatter"),d=this.get("nameGap"),h=this.get("triggerEvent"),g=Me(this.get("indicator")||[],function(m){null!=m.max&&m.max>0&&!m.min?m.min=0:null!=m.min&&m.min<0&&!m.max&&(m.max=0);var y=a;if(null!=m.color&&(y=At({color:m.color},a)),m=Ye(hn(m),{boundaryGap:e,splitNumber:t,scale:n,axisLine:i,axisTick:r,axisLabel:o,name:m.text,nameLocation:"end",nameGap:d,nameTextStyle:y,triggerEvent:h},!1),s||(m.name=""),"string"==typeof u){var I=m.name;m.name=u.replace("{value}",null!=I?I:"")}else"function"==typeof u&&(m.name=u(m.name,m));var j=On(new Kn(m,null,this.ecModel),qs);return j.mainType="radar",j.componentIndex=this.componentIndex,j},this);this.getIndicatorModels=function(){return g}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:Ye({lineStyle:{color:"#bbb"}},qu.axisLine),axisLabel:Cc(qu.axisLabel,!1),axisTick:Cc(qu.axisTick,!1),splitLine:Cc(qu.splitLine,!0),splitArea:Cc(qu.splitArea,!0),indicator:[]}}),["axisLine","axisTickLabel","axisName"]);br({type:"radar",render:function(e,t,n){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},_buildAxes:function(e){var t=e.coordinateSystem;de(Me(t.getIndicatorAxes(),function(n){return new Or(n.model,{position:[t.cx,t.cy],rotation:n.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(n){de(LI,n.add,n),this.group.add(n.getGroup())},this)},_buildSplitLineAndArea:function(e){function t(Jt,un,Mn){var xn=Mn%un.length;return Jt[xn]=Jt[xn]||[],xn}var n=e.coordinateSystem,i=n.getIndicatorAxes();if(i.length){var r=e.get("shape"),o=e.getModel("splitLine"),a=e.getModel("splitArea"),s=o.getModel("lineStyle"),u=a.getModel("areaStyle"),d=o.get("show"),h=a.get("show"),g=s.get("color"),m=u.get("color");g=me(g)?g:[g],m=me(m)?m:[m];var y=[],I=[];if("circle"===r)for(var j=i[0].getTicksCoords(),q=n.cx,K=n.cy,te=0;te<j.length;te++)d&&y[qe=t(y,g,te)].push(new Fs({shape:{cx:q,cy:K,r:j[te]}})),h&&te<j.length-1&&I[qe=t(I,m,te)].push(new Yx({shape:{cx:q,cy:K,r0:j[te],r:j[te+1]}}));else{var ue,be=Me(i,function(un,Mn){var xn=un.getTicksCoords();return ue=null==ue?xn.length-1:Math.min(xn.length-1,ue),Me(xn,function(kn){return n.coordToPoint(kn,Mn)})}),ke=[];for(te=0;te<=ue;te++){for(var Be=[],We=0;We<i.length;We++)Be.push(be[We][te]);if(Be[0]&&Be.push(Be[0].slice()),d&&y[qe=t(y,g,te)].push(new ra({shape:{points:Be}})),h&&ke){var qe=t(I,m,te-1);I[qe].push(new wo({shape:{points:Be.concat(ke)}}))}ke=Be.slice().reverse()}}var gt=s.getLineStyle(),tn=u.getAreaStyle();de(I,function(Jt,un){this.group.add(Pa(Jt,{style:At({stroke:"none",fill:m[un%m.length]},tn),silent:!0}))},this),de(y,function(Jt,un){this.group.add(Pa(Jt,{style:At({fill:"none",stroke:g[un%g.length]},gt),silent:!0}))},this)}}});var EI=hr.extend({type:"series.radar",dependencies:["radar"],init:function(e){EI.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(e,t){return jl(this,{extraPrefix:"indicator_",extraFromZero:!0})},formatTooltip:function(e){var t=this.getData(),n=this.coordinateSystem.getIndicatorAxes(),i=this.getData().getName(e);return ir(""===i?this.name:i)+"<br/>"+Me(n,function(r,o){var a=t.get(t.mapDimension(r.dim),e);return ir(r.name+" : "+a)}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});Vr({type:"radar",render:function(e,t,n){function i(h,g){var m=h.getItemVisual(g,"symbol")||"circle",y=h.getItemVisual(g,"color");if("none"!==m){var I=function(e){return me(e)||(e=[+e,+e]),e}(h.getItemVisual(g,"symbolSize")),j=ao(m,-1,-1,2,2,y);return j.attr({style:{strokeNoScale:!0},z2:100,scale:[I[0]/2,I[1]/2]}),j}}function r(h,g,m,y,I,j){m.removeAll();for(var q=0;q<g.length-1;q++){var K=i(y,I);K&&(K.__dimIdx=q,h[q]?(K.attr("position",h[q]),Lo[j?"initProps":"updateProps"](K,{position:g[q]},e,I)):K.attr("position",g[q]),m.add(K))}}function o(h){return Me(h,function(g){return[a.cx,a.cy]})}var a=e.coordinateSystem,s=this.group,u=e.getData(),d=this._data;u.diff(d).add(function(h){var g=u.getItemLayout(h);if(g){var m=new wo,y=new ra,I={shape:{points:g}};m.shape.points=o(g),y.shape.points=o(g),ui(m,I,e,h),ui(y,I,e,h);var j=new Un,q=new Un;j.add(y),j.add(m),j.add(q),r(y.shape.points,g,q,u,h,!0),u.setItemGraphicEl(h,j)}}).update(function(h,g){var m=d.getItemGraphicEl(g),y=m.childAt(0),I=m.childAt(1),j=m.childAt(2),q={shape:{points:u.getItemLayout(h)}};q.shape.points&&(r(y.shape.points,q.shape.points,j,u,h,!1),pn(y,q,e),pn(I,q,e),u.setItemGraphicEl(h,m))}).remove(function(h){s.remove(d.getItemGraphicEl(h))}).execute(),u.eachItemGraphicEl(function(h,g){function m(){q.attr("ignore",Be)}function y(){q.attr("ignore",ke)}var I=u.getItemModel(g),j=h.childAt(0),q=h.childAt(1),K=h.childAt(2),te=u.getItemVisual(g,"color");s.add(h),j.useStyle(At(I.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:te})),j.hoverStyle=I.getModel("emphasis.lineStyle").getLineStyle();var ue=I.getModel("areaStyle"),be=I.getModel("emphasis.areaStyle"),ke=ue.isEmpty()&&ue.parentModel.isEmpty(),Be=be.isEmpty()&&be.parentModel.isEmpty();Be=Be&&ke,q.ignore=ke,q.useStyle(At(ue.getAreaStyle(),{fill:te,opacity:.7})),q.hoverStyle=be.getAreaStyle();var We=I.getModel("itemStyle").getItemStyle(["color"]),qe=I.getModel("emphasis.itemStyle").getItemStyle(),gt=I.getModel("label"),tn=I.getModel("emphasis.label");K.eachChild(function(Jt){Jt.setStyle(We),Jt.hoverStyle=hn(qe),Ue(Jt.style,Jt.hoverStyle,gt,tn,{labelFetcher:u.hostModel,labelDataIndex:g,labelDimIndex:Jt.__dimIdx,defaultText:u.get(u.dimensions[Jt.__dimIdx],g),autoColor:te,isRectText:!0})}),h.off("mouseover").off("mouseout").off("normal").off("emphasis"),h.on("emphasis",m).on("mouseover",m).on("normal",y).on("mouseout",y),De(h)}),this._data=u},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),Xi(nh("radar")),Xi(Zs("radar","circle")),rr(function(e){e.eachSeriesByType("radar",function(t){var n=t.getData(),i=[],r=t.coordinateSystem;if(r){for(var o=r.getIndicatorAxes(),a=0;a<r.getIndicatorAxes().length;a++)n.each(n.mapDimension(o[a].dim),function(s,u){i[u]=i[u]||[],i[u][a]=r.dataToPoint(s,a)});n.each(function(s){i[s][0]&&i[s].push(i[s][0].slice()),n.setItemLayout(s,i[s])})}})}),yo(ju("radar")),Ir(function(e){var t=e.polar;if(t){me(t)||(t=[t]);var n=[];de(t,function(i,r){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),e.radar=e.radar||[],me(e.radar)||(e.radar=[e.radar]),e.radar.push(i)):n.push(i)}),e.polar=n}de(e.series,function(i){i&&"radar"===i.type&&i.polarIndex&&(i.radarIndex=i.polarIndex)})});var Wg=hr.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(e){this._fillOption(e,this.getMapType()),Wg.superApply(this,"init",arguments),this.updateSelectedMap(this.getRawData())},getInitialData:function(e){return jl(this,["value"])},mergeOption:function(e){this._fillOption(e,this.getMapType()),Wg.superApply(this,"mergeOption",arguments),this.updateSelectedMap(this.getRawData())},getHostGeoModel:function(){var e=this.option.geoIndex;return null!=e?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(e,t){},getRawValue:function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},getRegionModel:function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},formatTooltip:function(e){for(var t=this.getData(),n=Cs(this.getRawValue(e)),i=t.getName(e),r=this.seriesGroup,o=[],a=0;a<r.length;a++){var s=r[a].originalData.indexOfName(i),u=t.mapDimension("value");isNaN(r[a].originalData.get(u,s))||o.push(ir(r[a].name))}return o.join(", ")+"<br />"+ir(i+" : "+n)},getTooltipPosition:function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,i=n.getRegion(t);return i&&n.dataToPoint(i.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});Ke(Wg,Vg);var Kb="\0_ec_interaction_mutex";Ni({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),Ke(pu,_r);var RI={axisPointer:1,tooltip:1,brush:1};Sc.prototype={constructor:Sc,draw:function(e,t,n,i,r){var o="geo"===e.mainType,a=e.getData&&e.getData();o&&t.eachComponent({mainType:"series",subType:"map"},function(q){a||q.getHostGeoModel()!==e||(a=q.getData())});var s=e.coordinateSystem,u=this.group,d=s.scale,h={position:s.position,scale:d};!u.childAt(0)||r?u.attr(h):pn(u,h,e),u.removeAll();var g=["itemStyle"],m=["emphasis","itemStyle"],y=["label"],I=["emphasis","label"],j=st();de(s.regions,function(q){var K=j.get(q.name)||j.set(q.name,new Un),te=new Xx({shape:{paths:[]}});K.add(te);var ue,be=(Jn=e.getRegionModel(q.name)||e).getModel(g),ke=Jn.getModel(m),Be=T0(be),We=T0(ke),qe=Jn.getModel(y),gt=Jn.getModel(I);if(a){ue=a.indexOfName(q.name);var tn=a.getItemVisual(ue,"color",!0);tn&&(Be.fill=tn)}de(q.geometries,function(zn){if("polygon"===zn.type){te.shape.paths.push(new wo({shape:{points:zn.exterior}}));for(var Di=0;Di<(zn.interiors?zn.interiors.length:0);Di++)te.shape.paths.push(new wo({shape:{points:zn.interiors[Di]}}))}}),te.setStyle(Be),te.style.strokeNoScale=!0,te.culling=!0;var Jt=qe.get("show"),un=gt.get("show"),Mn=a&&isNaN(a.get(a.mapDimension("value"),ue)),xn=a&&a.getItemLayout(ue);if(o||Mn&&(Jt||un)||xn&&xn.showLabel){var kn,Wn=o?q.name:ue;(!a||ue>=0)&&(kn=e);var Vn=new Si({position:q.center.slice(),scale:[1/d[0],1/d[1]],z2:10,silent:!0});Ue(Vn.style,Vn.hoverStyle={},qe,gt,{labelFetcher:kn,labelDataIndex:Wn,defaultText:q.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),K.add(Vn)}if(a)a.setItemGraphicEl(ue,K);else{var Jn=e.getRegionModel(q.name);te.eventData={componentType:"geo",geoIndex:e.componentIndex,name:q.name,region:Jn&&Jn.option||{}}}(K.__regions||(K.__regions=[])).push(q),De(K,We,{hoverSilentOnTouch:!!e.get("selectedMode")}),u.add(K)}),this._updateController(e,t,n),function(e,t,n,i,r){n.off("click"),n.off("mousedown"),t.get("selectedMode")&&(n.on("mousedown",function(){e._mouseDownFlag=!0}),n.on("click",function(o){if(e._mouseDownFlag){e._mouseDownFlag=!1;for(var a=o.target;!a.__regions;)a=a.parent;if(a){var s={type:("geo"===t.mainType?"geo":"map")+"ToggleSelect",batch:Me(a.__regions,function(u){return{name:u.name,from:r.uid}})};s[t.mainType+"Id"]=t.id,i.dispatchAction(s),k0(t,n)}}}))}(this,e,u,n,i),k0(e,u)},remove:function(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={}},_updateController:function(e,t,n){function i(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=e.id,u}var r=e.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=e.get("scaleLimit"),a.zoom=r.getZoom(),o.enable(e.get("roam")||!1);var s=e.mainType;o.off("pan").on("pan",function(u,d){this._mouseDownFlag=!1,S0(a,u,d),n.dispatchAction(On(i(),{dx:u,dy:d}))},this),o.off("zoom").on("zoom",function(u,d,h){if(this._mouseDownFlag=!1,M0(a,u,d,h),n.dispatchAction(On(i(),{zoom:u,originX:d,originY:h})),this._updateGroup){var g=this.group,m=g.scale;g.traverse(function(y){"text"===y.type&&y.attr("scale",[1/m[0],1/m[1]])})}},this),o.setPointerChecker(function(u,d,h){return r.getViewRectAfterRoam().contain(d,h)&&!mf(u,n,e)})}},Vr({type:"map",render:function(e,t,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var r=this.group;if(r.removeAll(),!e.getHostGeoModel()){if(i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===e.id)(o=this._mapDraw)&&r.add(o.group);else if(e.needsDrawMap){var o=this._mapDraw||new Sc(n,!0);r.add(o.group),o.draw(e,t,n,this,i),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(e,t,n){var i=e.originalData,r=this.group;i.each(i.mapDimension("value"),function(o,a){if(!isNaN(o)){var s=i.getItemLayout(a);if(s&&s.point){var u=s.point,d=s.offset,h=new Fs({style:{fill:e.getData().getVisual("color")},shape:{cx:u[0]+9*d,cy:u[1],r:3},silent:!0,z2:d?8:10});if(!d){var g=e.mainSeries.getData(),m=i.getName(a),y=g.indexOfName(m),I=i.getItemModel(a),j=I.getModel("label"),q=I.getModel("emphasis.label"),K=g.getItemGraphicEl(y),te=en(e.getFormattedLabel(a,"normal"),m),ue=en(e.getFormattedLabel(a,"emphasis"),te),be=function(){var Be=Ze({},q,{text:q.get("show")?ue:null},{isRectText:!0,useInsideStyle:!1},!0);h.style.extendFrom(Be),h.__mapOriginalZ2=h.z2,h.z2+=1},ke=function(){Ze(h.style,j,{text:j.get("show")?te:null,textPosition:j.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),null!=h.__mapOriginalZ2&&(h.z2=h.__mapOriginalZ2,h.__mapOriginalZ2=null)};K.on("mouseover",be).on("mouseout",ke).on("emphasis",be).on("normal",ke),ke()}r.add(h)}}})}}),Ni({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(i){var r=i.coordinateSystem;if("geo"===r.type){var o=A0(r,e,i.get("scaleLimit"));i.setCenter&&i.setCenter(o.center),i.setZoom&&i.setZoom(o.zoom),"series"===n&&de(i.seriesGroup,function(a){a.setCenter(o.center),a.setZoom(o.zoom)})}})});var Jb=Pt;Ke(vf,Jo),ks.prototype={constructor:ks,type:"view",dimensions:["x","y"],setBoundingRect:function(e,t,n,i){return this._rect=new li(e,t,n,i),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,t,n,i){this.transformTo(e,t,n,i),this._viewRect=new li(e,t,n,i)},transformTo:function(e,t,n,i){var r=this.getBoundingRect(),o=this._rawTransformable;o.transform=r.calculateTransform(new li(e,t,n,i)),o.decomposeTransform(),this._updateTransform()},setCenter:function(e){e&&(this._center=e,this._updateCenterAndZoom())},setZoom:function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},getDefaultCenter:function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),r=this.getZoom();i=Pt([],i,e),n=Pt([],n,e),t.origin=i,t.position=[n[0]-i[0],n[1]-i[1]],t.scale=[r,r],this._updateTransform()},_updateTransform:function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),Nt(this.transform||(this.transform=[]),t.transform||ri()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],nn(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},dataToPoint:function(e,t,n){var i=t?this._rawTransform:this.transform;return n=n||[],i?Jb(n,e,i):lt(n,e)},pointToData:function(e){var t=this.invTransform;return t?Jb([],e,t):[e[0],e[1]]},convertToPixel:Ne(I0,"dataToPoint"),convertFromPixel:Ne(I0,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}},Ke(ks,Jo);for(var Gg=[126,25],Ys=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],$s=0;$s<Ys.length;$s++)for(var ql=0;ql<Ys[$s].length;ql++)Ys[$s][ql][0]/=10.5,Ys[$s][ql][1]/=-14,Ys[$s][ql][0]+=Gg[0],Ys[$s][ql][1]+=Gg[1];var BI={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},OI={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},zI=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],FI=[function(e){"china"===e.map&&e.regions.push(new _c("\u5357\u6d77\u8bf8\u5c9b",Me(Ys,function(t){return{type:"polygon",exterior:t}}),Gg))},function(e){de(e.regions,function(t){var n=BI[t.name];if(n){var i=t.center;i[0]+=n[0]/10.5,i[1]+=-n[1]/14}})},function(e){de(e.regions,function(t){var n=OI[t.name];if(n){var i=t.center;i[0]=n[0],i[1]=n[1]}})},function(e){if("china"===e.map)for(var t=0,n=e.regions.length;t<n;++t)"\u53f0\u6e7e"===e.regions[t].name&&e.regions[t].geometries.push({type:"polygon",exterior:zI[0]})}];yl.prototype={constructor:yl,type:"geo",dimensions:["lng","lat"],containCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return!0;return!1},loadGeoJson:function(e,t,n){try{this.regions=e?Bg(e):[]}catch(u){throw"Invalid geoJson format\n"+u.message}t=t||{},n=n||{};for(var i=this.regions,r=st(),o=0;o<i.length;o++){var a=i[o].name;a=n.hasOwnProperty(a)?n[a]:a,i[o].name=a,r.set(a,i[o]),this.addGeoCoord(a,i[o].center);var s=t[a];s&&i[o].transformTo(s.left,s.top,s.width,s.height)}this._regionsMap=r,this._rect=null,de(FI,function(u){u(this)},this)},transformTo:function(e,t,n,i){var r=this.getBoundingRect();(r=r.clone()).y=-r.y-r.height;var o=this._rawTransformable;o.transform=r.calculateTransform(new li(e,t,n,i)),o.decomposeTransform();var a=o.scale;a[1]=-a[1],o.updateTransform(),this._updateTransform()},getRegion:function(e){return this._regionsMap.get(e)},getRegionByCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return t[n]},addGeoCoord:function(e,t){this._nameCoordMap.set(e,t)},getGeoCoord:function(e){return this._nameCoordMap.get(e)},getBoundingRect:function(){if(this._rect)return this._rect;for(var e,t=this.regions,n=0;n<t.length;n++){var i=t[n].getBoundingRect();(e=e||i.clone()).union(i)}return this._rect=e||new li(0,0,0,0)},dataToPoint:function(e,t,n){if("string"==typeof e&&(e=this.getGeoCoord(e)),e)return ks.prototype.dataToPoint.call(this,e,t,n)},convertToPixel:Ne(D0,"dataToPoint"),convertFromPixel:Ne(D0,"pointToData")},Ke(yl,ks);var Qb={dimensions:yl.prototype.dimensions,create:function(e,t){var n=[];e.eachComponent("geo",function(r,o){var a=r.get("map"),s=vc(a),u=new yl(a+o,a,s&&s.geoJson,s&&s.specialAreas,r.get("nameMap"));u.zoomLimit=r.get("scaleLimit"),n.push(u),P0(u,r),r.coordinateSystem=u,u.model=r,u.resize=N0,u.resize(r,t)}),e.eachSeries(function(r){if("geo"===r.get("coordinateSystem")){var o=r.get("geoIndex")||0;r.coordinateSystem=n[o]}});var i={};return e.eachSeriesByType("map",function(r){if(!r.getHostGeoModel()){var o=r.getMapType();i[o]=i[o]||[],i[o].push(r)}}),de(i,function(r,o){var a=vc(o),s=Me(r,function(d){return d.get("nameMap")}),u=new yl(o,o,a&&a.geoJson,a&&a.specialAreas,sr(s));u.zoomLimit=Ft.apply(null,Me(r,function(d){return d.get("scaleLimit")})),n.push(u),u.resize=N0,u.resize(r[0],t),de(r,function(d){d.coordinateSystem=u,P0(u,d)})}),n},getFilledRegions:function(e,t,n){var i=(e||[]).slice();n=n||{};var r=vc(t),o=r&&r.geoJson;if(!o)return e;for(var a=st(),s=o.features,u=0;u<i.length;u++)a.set(i[u].name,i[u]);for(u=0;u<s.length;u++){var d=s[u].properties.name;a.get(d)||(n.hasOwnProperty(d)&&(d=n[d]),i.push({name:d}))}return i}};Jh("geo",Qb),rr(function(e){var t={};e.eachSeriesByType("map",function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!t[i]){var r={};de(n.seriesGroup,function(a){var s=a.coordinateSystem,u=a.originalData;a.get("showLegendSymbol")&&e.getComponent("legend")&&u.each(u.mapDimension("value"),function(d,h){var g=u.getName(h),m=s.getRegion(g);if(m&&!isNaN(d)){var y=r[g]||0,I=s.dataToPoint(m.center);r[g]=y+1,u.setItemLayout(h,{point:I,offset:y})}})});var o=n.getData();o.each(function(a){var s=o.getName(a),u=o.getItemLayout(a)||{};u.showLabel=!r[s],o.setItemLayout(a,u)}),t[i]=!0}})}),Xi(function(e){e.eachSeriesByType("map",function(t){var n=t.get("color"),i=t.getModel("itemStyle"),r=i.get("areaColor"),o=i.get("color")||n[t.seriesIndex%n.length];t.getData().setVisual({areaColor:r,color:o})})}),yo(Fl.PROCESSOR.STATISTIC,function(e){var t={};e.eachSeriesByType("map",function(n){var i=n.getHostGeoModel(),r=i?"o"+i.id:"i"+n.getMapType();(t[r]=t[r]||[]).push(n)}),de(t,function(n,i){for(var r=function(e,t){var n={};return de(e,function(i){i.each(i.mapDimension("value"),function(r,o){var a="ec-"+i.getName(o);n[a]=n[a]||[],isNaN(r)||n[a].push(r)})}),e[0].map(e[0].mapDimension("value"),function(i,r){for(var o="ec-"+e[0].getName(r),a=0,s=1/0,u=-1/0,d=n[o].length,h=0;h<d;h++)s=Math.min(s,n[o][h]),u=Math.max(u,n[o][h]),a+=n[o][h];return 0===d?NaN:"min"===t?s:"max"===t?u:"average"===t?a/d:a})}(Me(n,function(a){return a.getData()}),n[0].get("mapValueCalculation")),o=0;o<n.length;o++)n[o].originalData=n[o].getData();for(o=0;o<n.length;o++)n[o].seriesGroup=n,n[o].needsDrawMap=0===o&&!n[o].getHostGeoModel(),n[o].setData(r.cloneShallow()),n[o].mainSeries=n[0]})}),Ir(function(e){var t=[];de(e.series,function(n){n&&"map"===n.type&&(t.push(n),n.map=n.map||n.mapType,At(n,n.mapLocation))})}),$b("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var Zu=de,Yu="\0__link_datas",rh="\0__link_mainData",Ug=function(e,t){this.name=e||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=t};Ug.prototype={constructor:Ug,isRemoved:function(){return this.dataIndex<0},eachNode:function(e,t,n){"function"==typeof e&&(n=t,t=e,e=null),ze(e=e||{})&&(e={order:e});var i,r=e.order||"preorder",o=this[e.attr||"children"];"preorder"===r&&(i=t.call(n,this));for(var a=0;!i&&a<o.length;a++)o[a].eachNode(e,t,n);"postorder"===r&&t.call(n,this)},updateDepthAndHeight:function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},getNodeById:function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,i=n.length;t<i;t++){var r=n[t].getNodeById(e);if(r)return r}},contains:function(e){if(e===this)return!0;for(var t=0,n=this.children,i=n.length;t<i;t++){var r=n[t].contains(e);if(r)return r}},getAncestors:function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},getValue:function(e){var t=this.hostTree.data;return t.get(t.getDimension(e||"value"),this.dataIndex)},setLayout:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(e){if(!(this.dataIndex<0)){var t,n=this.hostTree,i=n.data.getItemModel(this.dataIndex),r=this.getLevelModel();return r||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(t=this.getLeavesModel()),i.getModel(e,(r||t||n.hostModel).getModel(e))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},getVisual:function(e,t){return this.hostTree.data.getItemVisual(this.dataIndex,e,t)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},isDescendantOf:function(e){return e!==this&&e.isAncestorOf(this)}},As.prototype={constructor:As,type:"tree",eachNode:function(e,t,n){this.root.eachNode(e,t,n)},getNodeByDataIndex:function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},getNodeByName:function(e){return this.root.getNodeByName(e)},update:function(){for(var e=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(n=0,i=e.count();n<i;n++)t[e.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},As.createTree=function(e,t,n){var r=new As(t,n.levels,n.leaves),o=[],a=1;(function i(d,h){var g=d.value;a=Math.max(a,me(g)?g.length:1),o.push(d);var m=new Ug(d.name,r);h?function(e,t){e.parentNode!==t&&(t.children.push(e),e.parentNode=t)}(m,h):r.root=m,r._nodes.push(m);var y=d.children;if(y)for(var I=0;I<y.length;I++)i(y[I],m)})(e),r.root.updateDepthAndHeight(0);var s=Vl(o,{coordDimensions:["value"],dimensionsCount:a}),u=new wr(s,t);return u.initData(o),L0({mainData:u,struct:r,structAttr:"tree"}),r.update(),r},hr.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(e){var t={name:e.name,children:e.data},i={};i.leaves=e.leaves||{};var r=As.createTree(t,this,i),o=0;r.eachNode("preorder",function(s){s.depth>o&&(o=s.depth)});var a=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:o;return r.root.eachNode("preorder",function(s){var u=s.hostTree.data.getRawDataItem(s.dataIndex);s.isExpand=u&&null!=u.collapsed?!u.collapsed:s.depth<=a}),r.data},formatTooltip:function(e){for(var t=this.getData().tree,n=t.root.children[0],i=t.getNodeByDataIndex(e),r=i.getValue(),o=i.name;i&&i!==n;)o=i.parentNode.name+"."+o,i=i.parentNode;return ir(o+(isNaN(r)||null==r?"":" : "+r))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"horizontal",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}}),Vr({type:"tree",init:function(e,t){this._mainGroup=new Un,this.group.add(this._mainGroup)},render:function(e,t,n,i){var r=e.getData(),o=e.layoutInfo,a=this._mainGroup,s=e.get("layout");a.attr("position","radial"===s?[o.x+o.width/2,o.y+o.height/2]:[o.x,o.y]);var u=this._data,d={expandAndCollapse:e.get("expandAndCollapse"),layout:s,orient:e.get("orient"),curvature:e.get("lineStyle.curveness"),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};r.diff(u).add(function(h){B0(r,h)&&z0(r,h,null,a,e,d)}).update(function(h,g){var m=u.getItemGraphicEl(g);B0(r,h)?z0(r,h,m,a,e,d):m&&F0(r,h,m,a,e,d)}).remove(function(h){var g=u.getItemGraphicEl(h);F0(r,h,g,a,e,d)}).execute(),!0===d.expandAndCollapse&&r.eachItemGraphicEl(function(h,g){h.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:g})})}),this._data=r},dispose:function(){},remove:function(){this._mainGroup.removeAll(),this._data=null}}),Ni({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(n){var i=e.dataIndex,r=n.getData().tree.getNodeByDataIndex(i);r.isExpand=!r.isExpand})});var e_=function(e,t){var n=function(e,t){return xr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=n;var i=e.get("layout"),r=0,o=0,a=null;"radial"===i?(r=2*Math.PI,o=Math.min(n.height,n.width)/2,a=R0(function(te,ue){return(te.parentNode===ue.parentNode?1:2)/te.depth})):(r=n.width,o=n.height,a=R0());var s=e.getData().tree.root,u=s.children[0];(function(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t,n,i=[e];t=i.pop();)if(n=t.children,t.isExpand&&n.length)for(var r=n.length-1;r>=0;r--){var o=n[r];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:r,thread:null},i.push(o)}})(s),function(e,t,n){for(var i,r=[e],o=[];i=r.pop();)if(o.push(i),i.isExpand){var a=i.children;if(a.length)for(var s=0;s<a.length;s++)r.push(a[s])}for(;i=o.pop();)t(i,n)}(u,US,a),s.hierNode.modifier=-u.hierNode.prelim,mu(u,jS);var d=u,h=u,g=u;mu(u,function(te){var ue=te.getLayout().x;ue<d.getLayout().x&&(d=te),ue>h.getLayout().x&&(h=te),te.depth>g.depth&&(g=te)});var m=d===h?1:a(d,h)/2,y=m-d.getLayout().x,I=0,j=0,q=0,K=0;"radial"===i?(I=r/(h.getLayout().x+m+y),j=o/(g.depth-1||1),mu(u,function(te){var ue=gu(q=(te.getLayout().x+y)*I,K=(te.depth-1)*j);te.setLayout({x:ue.x,y:ue.y,rawX:q,rawY:K},!0)})):"horizontal"===e.get("orient")?(j=o/(h.getLayout().x+m+y),I=r/(g.depth-1||1),mu(u,function(te){K=(te.getLayout().x+y)*j,te.setLayout({x:q=(te.depth-1)*I,y:K},!0)})):(I=r/(h.getLayout().x+m+y),j=o/(g.depth-1||1),mu(u,function(te){q=(te.getLayout().x+y)*I,te.setLayout({x:q,y:K=(te.depth-1)*j},!0)}))};Xi(Zs("tree","circle")),rr(function(e,t){e.eachSeriesByType("tree",function(n){e_(n,t)})}),rr(function(e,t){e.eachSeriesByType("tree",function(n){e_(n,t)})}),hr.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,t){var n={name:e.name,children:e.data};H0(n);var i=e.levels||[];i=e.levels=function(e,t){var i,n=t.get("color");if(n)return de(e=e||[],function(r){var o=new Kn(r),a=o.get("color");(o.get("itemStyle.color")||a&&"none"!==a)&&(i=!0)}),i||((e[0]||(e[0]={})).color=n.slice()),e}(i,t);var r={};return r.levels=i,As.createTree(n,this,r).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var t=this.getData(),n=this.getRawValue(e),i=Cs(me(n)?n[0]:n);return ir(t.getName(e)+": "+i)},getDataParams:function(e){var t=hr.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=Cf(n,this),t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},On(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=st(),this._idIndexMapCount=0);var n=t.get(e);return null==n&&t.set(e,n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});var jg=5;Sf.prototype={constructor:Sf,render:function(e,t,n,i){var r=e.getModel("breadcrumb"),o=this.group;if(o.removeAll(),r.get("show")&&n){var a=r.getModel("itemStyle"),s=a.getModel("textStyle"),u={pos:{left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,u,s),this._renderContent(e,u,a,s,i),dc(o,u.pos,u.box)}},_prepare:function(e,t,n){for(var i=e;i;i=i.parentNode){var r=i.getModel().get("name"),o=n.getTextRect(r),a=Math.max(o.width+16,t.emptyItemWidth);t.totalWidth+=a+8,t.renderList.push({node:i,text:r,width:a})}},_renderContent:function(e,t,n,i,r){for(var o=0,a=t.emptyItemWidth,s=e.get("breadcrumb.height"),u=function(e,t,n){var i=t.width,r=t.height,o=vn(e.x,i),a=vn(e.y,r),s=vn(e.x2,i),u=vn(e.y2,r);return(isNaN(o)||isNaN(parseFloat(e.x)))&&(o=0),(isNaN(s)||isNaN(parseFloat(e.x2)))&&(s=i),(isNaN(a)||isNaN(parseFloat(e.y)))&&(a=0),(isNaN(u)||isNaN(parseFloat(e.y2)))&&(u=r),n=Vs(n||0),{width:Math.max(s-o-n[1]-n[3],0),height:Math.max(u-a-n[0]-n[2],0)}}(t.pos,t.box),d=t.totalWidth,h=t.renderList,g=h.length-1;g>=0;g--){var m=h[g],y=m.node,I=m.width,j=m.text;d>u.width&&(d-=I-a,I=a,j=null);var q=new wo({shape:{points:eM(o,0,I,s,g===h.length-1,0===g)},style:At(n.getItemStyle(),{lineJoin:"bevel",text:j,textFill:i.getTextColor(),textFont:i.getFont()}),z:10,onclick:Ne(r,y)});this.group.add(q),tM(q,e,y),o+=I+8}},remove:function(){this.group.removeAll()}};var oh=ot,t_=Un,n_=Gi,ca=de,VI=["label"],HI=["emphasis","label"],WI=["upperLabel"],GI=["emphasis","upperLabel"],UI=10,jI=1,qI=2,qg=Nl([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),i_=function(e){var t=qg(e);return t.stroke=t.fill=t.lineWidth=null,t};Vr({type:"treemap",init:function(e,t){this._storage={nodeGroup:[],background:[],content:[]},this._state="ready"},render:function(e,t,n,i){if(!(Qe(t.findComponents({mainType:"series",subType:"treemap",query:i}),e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var r=vu(i,["treemapZoomToNode","treemapRootToNode"],e),o=i&&i.type,a=e.layoutInfo,s=!this._oldTree,u=this._storage,d="treemapRootToNode"===o&&r&&u?{rootNodeGroup:u.nodeGroup[r.node.getRawIndex()],direction:i.direction}:null,h=this._giveContainerGroup(a),g=this._doRender(h,e,d);s||o&&"treemapZoomToNode"!==o&&"treemapRootToNode"!==o?g.renderFinally():this._doAnimation(h,g,e,d),this._resetController(n),this._renderBreadcrumb(e,n,r)}},_giveContainerGroup:function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new t_,this._initEvents(t),this.group.add(t)),t.attr("position",[e.x,e.y]),t},_doRender:function(e,t,n){var r=t.getData().tree,o=this._oldTree,a={nodeGroup:[],background:[],content:[]},s={nodeGroup:[],background:[],content:[]},u=this._storage,d=[],h=Ne(iM,t,s,u,n,a,d);!function i(m,y,I,j,q){function K(ue){return ue.getId()}function te(ue,be){var ke=null!=ue?m[ue]:null,Be=null!=be?y[be]:null,We=h(ke,Be,I,q);We&&i(ke&&ke.viewChildren||[],Be&&Be.viewChildren||[],We,j,q+1)}j?(y=m,ca(m,function(ue,be){!ue.isRemoved()&&te(be,be)})):new Ta(y,m,K,K).add(te).update(te).remove(Ne(te,null)).execute()}(r.root?[r.root]:[],o&&o.root?[o.root]:[],e,r===o||!o,0);var m,y,g=(y={nodeGroup:[],background:[],content:[]},(m=u)&&ca(m,function(I,j){var q=y[j];ca(I,function(K){K&&(q.push(K),K.__tmWillDelete=1)})}),y);return this._oldTree=r,this._storage=s,{lastsForAnimation:a,willDeleteEls:g,renderFinally:function(){ca(g,function(m){ca(m,function(y){y.parent&&y.parent.remove(y)})}),ca(d,function(m){m.invisible=!0,m.dirty()})}}},_doAnimation:function(e,t,n,i){if(n.get("animation")){var r=n.get("animationDurationUpdate"),o=n.get("animationEasing"),a=function(){var e,t=[],n={};return{add:function(i,r,o,a,s){return ze(a)&&(s=a,a=0),!n[i.id]&&(n[i.id]=1,t.push({el:i,target:r,time:o,delay:a,easing:s}),!0)},done:function(i){return e=i,this},start:function(){for(var i=t.length,r=0,o=t.length;r<o;r++){var a=t[r];a.el.animateTo(a.target,a.time,a.delay,a.easing,function(){--i||(t.length=0,n={},e&&e())})}return this}}}();ca(t.willDeleteEls,function(s,u){ca(s,function(d,h){if(!d.invisible){var g,m=d.parent;if(i&&"drillDown"===i.direction)g=m===i.rootNodeGroup?{shape:{x:0,y:0,width:m.__tmNodeWidth,height:m.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var y=0,I=0;m.__tmWillDelete||(y=m.__tmNodeWidth/2,I=m.__tmNodeHeight/2),g="nodeGroup"===u?{position:[y,I],style:{opacity:0}}:{shape:{x:y,y:I,width:0,height:0},style:{opacity:0}}}g&&a.add(d,g,r,o)}})}),ca(this._storage,function(s,u){ca(s,function(d,h){var g=t.lastsForAnimation[u][h],m={};g&&("nodeGroup"===u?g.old&&(m.position=d.position.slice(),d.attr("position",g.old)):(g.old&&(m.shape=On({},d.shape),d.setShape(g.old)),g.fadein?(d.setStyle("opacity",0),m.style={opacity:1}):1!==d.style.opacity&&(m.style={opacity:1})),a.add(d,m,r,o))})},this),this._state="animating",a.done(oh(function(){this._state="ready",t.renderFinally()},this)).start()}},_resetController:function(e){var t=this._controller;t||((t=this._controller=new pu(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",oh(this._onPan,this)),t.on("zoom",oh(this._onZoom,this)));var n=new li(0,0,e.getWidth(),e.getHeight());t.setPointerChecker(function(i,r,o){return n.contain(r,o)})},_clearController:function(){var e=this._controller;e&&(e.dispose(),e=null)},_onPan:function(e,t){if("animating"!==this._state&&(Math.abs(e)>3||Math.abs(t)>3)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e,y:i.y+t,width:i.width,height:i.height}})}},_onZoom:function(e,t,n){if("animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;var o=new li(r.x,r.y,r.width,r.height),a=this.seriesModel.layoutInfo;t-=a.x,n-=a.y;var s=ri();an(s,s,[-t,-n]),fn(s,s,[e,e]),an(s,s,[t,n]),o.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},_initEvents:function(e){e.on("click",function(t){if("ready"===this._state){var n=this.seriesModel.get("nodeClick",!0);if(n){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var r=i.node;if(r.getLayout().isLeafRoot)this._rootToNode(i);else if("zoomToNode"===n)this._zoomToNode(i);else if("link"===n){var o=r.hostTree.data.getItemModel(r.dataIndex),a=o.get("link",!0),s=o.get("target",!0)||"blank";a&&window.open(a,s)}}}}},this)},_renderBreadcrumb:function(e,t,n){n||(n=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(n={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new Sf(this.group))).render(e,t,n.node,oh(function(i){"animating"!==this._state&&(wf(e.getViewRoot(),i)?this._rootToNode({node:i}):this._zoomToNode({node:i}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(i){var r=this._storage.background[i.getRawIndex()];if(r){var o=r.transformCoordToLocal(e,t),a=r.shape;if(!(a.x<=o[0]&&o[0]<=a.x+a.width&&a.y<=o[1]&&o[1]<=a.y+a.height))return!1;n={node:i,offsetX:o[0],offsetY:o[1]}}},this),n}});for(var r_=["treemapZoomToNode","treemapRender","treemapMove"],Zg=0;Zg<r_.length;Zg++)Ni({type:r_[Zg],update:"updateView"},function(){});Ni({type:"treemapRootToNode",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},function(n,i){var r=vu(e,["treemapZoomToNode","treemapRootToNode"],n);if(r){var o=n.getViewRoot();o&&(e.direction=wf(o,r.node)?"rollUp":"drillDown"),n.resetViewRoot(r.node)}})});var $u=de,o_=Oe,ah=-1,Oi=function(e){var t=e.mappingMethod,n=e.type,i=this.option=hn(e);this.type=n,this.mappingMethod=t,this._normalizeData=ZI[t];var r=Xu[n];this.applyVisual=r.applyVisual,this.getColorMapper=r.getColorMapper,this._doMap=r._doMap[t],"piecewise"===t?(Mf(i),function(e){var t=e.pieceList;e.hasSpecialVisual=!1,de(t,function(n,i){n.originIndex=i,null!=n.visual&&(e.hasSpecialVisual=!0)})}(i)):"category"===t?i.categories?function(e){var t=e.categories,n=e.visual,i=e.categoryMap={};if($u(t,function(a,s){i[a]=s}),!me(n)){var r=[];Oe(n)?$u(n,function(a,s){var u=i[s];r[null!=u?u:ah]=a}):r[ah]=n,n=G0(e,r)}for(var o=t.length-1;o>=0;o--)null==n[o]&&(delete i[t[o]],t.pop())}(i):Mf(i,!0):(dt("linear"!==t||i.dataExtent),Mf(i))};Oi.prototype={constructor:Oi,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return ot(this._normalizeData,this)}};var Xu=Oi.visualHandlers={color:{applyVisual:Tf("color"),getColorMapper:function(){var e=this.option;return ot("category"===e.mappingMethod?function(t,n){return!n&&(t=this._normalizeData(t)),Tc.call(this,t)}:function(t,n,i){var r=!!i;return!n&&(t=this._normalizeData(t)),i=Wt(t,e.parsedVisual,i),r?i:Hn(i,"rgba")},this)},_doMap:{linear:function(e){return Hn(Wt(e,this.option.parsedVisual),"rgba")},category:Tc,piecewise:function(e,t){var n=If.call(this,t);return null==n&&(n=Hn(Wt(e,this.option.parsedVisual),"rgba")),n},fixed:kf}},colorHue:Mc(function(e,t){return rn(e,t)}),colorSaturation:Mc(function(e,t){return rn(e,null,t)}),colorLightness:Mc(function(e,t){return rn(e,null,null,t)}),colorAlpha:Mc(function(e,t){return Dn(e,t)}),opacity:{applyVisual:Tf("opacity"),_doMap:Af([0,1])},symbol:{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);if(ze(i))n("symbol",i);else if(o_(i))for(var r in i)i.hasOwnProperty(r)&&n(r,i[r])},_doMap:{linear:W0,category:Tc,piecewise:function(e,t){var n=If.call(this,t);return null==n&&(n=W0.call(this,e)),n},fixed:kf}},symbolSize:{applyVisual:Tf("symbolSize"),_doMap:Af([0,1])}},ZI={linear:function(e){return Ai(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=Oi.findPieceIndex(e,t,!0);if(null!=n)return Ai(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?ah:t},fixed:Zt};Oi.listVisualTypes=function(){var e=[];return de(Xu,function(t,n){e.push(n)}),e},Oi.addVisualHandler=function(e,t){Xu[e]=t},Oi.isValidType=function(e){return Xu.hasOwnProperty(e)},Oi.eachVisual=function(e,t,n){Oe(e)?de(e,t,n):t.call(n,e)},Oi.mapVisual=function(e,t,n){var i,r=me(e)?[]:Oe(e)?{}:(i=!0,null);return Oi.eachVisual(e,function(o,a){var s=t.call(n,o,a);i?r=s:r[a]=s}),r},Oi.retrieveVisuals=function(e){var t,n={};return e&&$u(Xu,function(i,r){e.hasOwnProperty(r)&&(n[r]=e[r],t=!0)}),t?n:null},Oi.prepareVisualTypes=function(e){if(o_(e)){var t=[];$u(e,function(n,i){t.push(i)}),e=t}else{if(!me(e))return[];e=e.slice()}return e.sort(function(n,i){return"color"===i&&"color"!==n&&0===n.indexOf("color")?1:-1}),e},Oi.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},Oi.findPieceIndex=function(e,t,n){function i(m,y){var I=Math.abs(m-e);I<o&&(o=I,r=y)}for(var r,o=1/0,a=0,s=t.length;a<s;a++){var u=t[a].value;if(null!=u){if(u===e||"string"==typeof u&&u===e+"")return a;n&&i(u,a)}}for(a=0,s=t.length;a<s;a++){var d=t[a],h=d.interval,g=d.close;if(h){if(h[0]===-1/0){if(kc(g[1],e,h[1]))return a}else if(h[1]===1/0){if(kc(g[0],h[0],e))return a}else if(kc(g[0],h[0],e)&&kc(g[1],e,h[1]))return a;n&&i(h[0],a),n&&i(h[1],a)}}if(n)return e===1/0?t.length-1:e===-1/0?0:r};var YI=me,Yg="itemStyle",$I={seriesType:"treemap",reset:function(e,t,n,i){var r=e.getData().tree,o=r.root,a=e.getModel(Yg);o.isRemoved()||U0(o,{},Me(r.levelModels,function(s){return s?s.get(Yg):null}),a,e.getViewRoot().getAncestors(),e)}},Ku=Math.max,sh=Math.min,a_=Ft,$g=de,s_=["itemStyle","borderWidth"],XI=["itemStyle","gapWidth"],KI=["upperLabel","show"],JI=["upperLabel","height"],QI={seriesType:"treemap",reset:function(e,t,n,i){var r=n.getWidth(),o=n.getHeight(),a=e.option,s=xr(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),u=a.size||[],d=vn(a_(s.width,u[0]),r),h=vn(a_(s.height,u[1]),o),g=i&&i.type,m=vu(i,["treemapZoomToNode","treemapRootToNode"],e),y="treemapRender"===g||"treemapMove"===g?i.rootRect:null,I=e.getViewRoot(),j=V0(I);if("treemapMove"!==g){var q="treemapZoomToNode"===g?function(e,t,n,i,r){var o=(t||{}).node,a=[i,r];if(!o||o===n)return a;for(var s,u=i*r,d=u*e.option.zoomToNodeRatio;s=o.parentNode;){for(var h=0,g=s.children,m=0,y=g.length;m<y;m++)h+=g[m].getValue();var I=o.getValue();if(0===I)return a;d*=h/I;var j=s.getModel(),q=j.get(s_);(d+=4*q*q+(3*q+Math.max(q,$0(j)))*Math.pow(d,.5))>dg&&(d=dg),o=s}d<u&&(d=u);var K=Math.pow(d/u,.5);return[i*K,r*K]}(e,m,I,d,h):y?[y.width,y.height]:[d,h],K=a.sort;K&&"asc"!==K&&"desc"!==K&&(K="desc");var te={squareRatio:a.squareRatio,sort:K,leafDepth:a.leafDepth};I.hostTree.clearLayouts(),I.setLayout({x:0,y:0,width:q[0],height:q[1],area:q[0]*q[1]}),q0(I,te,!1,0);var ue=I.getLayout();$g(j,function(ke,Be){var We=(j[Be+1]||I).getValue();ke.setLayout(On({dataExtent:[We,We],borderWidth:0,upperHeight:0},ue))})}var be=e.getData().tree.root;be.setLayout(function(e,t,n){if(t)return{x:t.x,y:t.y};var i={x:0,y:0};if(!n)return i;var r=n.node,o=r.getLayout();if(!o)return i;for(var a=[o.width/2,o.height/2],s=r;s;){var u=s.getLayout();a[0]+=u.x,a[1]+=u.y,s=s.parentNode}return{x:e.width/2-a[0],y:e.height/2-a[1]}}(s,y,m),!0),e.setLayoutInfo(s),Y0(be,new li(-s.x,-s.y,r,o),j,I,0)}};Xi($I),rr(QI);var Ju=function(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={}},co=Ju.prototype;co.type="graph",co.isDirected=function(){return this._directed},co.addNode=function(e,t){var n=this._nodesMap;if(!n[xl(e=e||""+t)]){var i=new No(e,t);return i.hostGraph=this,this.nodes.push(i),n[xl(e)]=i,i}},co.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},co.getNodeById=function(e){return this._nodesMap[xl(e)]},co.addEdge=function(e,t,n){var i=this._nodesMap,r=this._edgesMap;if("number"==typeof e&&(e=this.nodes[e]),"number"==typeof t&&(t=this.nodes[t]),No.isInstance(e)||(e=i[xl(e)]),No.isInstance(t)||(t=i[xl(t)]),e&&t){var o=e.id+"-"+t.id;if(!r[o]){var a=new yu(e,t,n);return a.hostGraph=this,this._directed&&(e.outEdges.push(a),t.inEdges.push(a)),e.edges.push(a),e!==t&&t.edges.push(a),this.edges.push(a),r[o]=a,a}}},co.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},co.getEdge=function(e,t){No.isInstance(e)&&(e=e.id),No.isInstance(t)&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},co.eachNode=function(e,t){for(var n=this.nodes,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&e.call(t,n[r],r)},co.eachEdge=function(e,t){for(var n=this.edges,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&n[r].node1.dataIndex>=0&&n[r].node2.dataIndex>=0&&e.call(t,n[r],r)},co.breadthFirstTraverse=function(e,t,n,i){if(No.isInstance(t)||(t=this._nodesMap[xl(t)]),t){for(var r="out"===n?"outEdges":"in"===n?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!e.call(i,t,null))for(var a=[t];a.length;){var s=a.shift(),u=s[r];for(o=0;o<u.length;o++){var d=u[o],h=d.node1===s?d.node2:d.node1;if(!h.__visited){if(e.call(i,h,s))return;a.push(h),h.__visited=!0}}}}},co.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,i=this.edges,r=0,o=n.length;r<o;r++)n[r].dataIndex=-1;for(r=0,o=e.count();r<o;r++)n[e.getRawIndex(r)].dataIndex=r;for(t.filterSelf(function(a){var s=i[t.getRawIndex(a)];return s.node1.dataIndex>=0&&s.node2.dataIndex>=0}),r=0,o=i.length;r<o;r++)i[r].dataIndex=-1;for(r=0,o=t.count();r<o;r++)i[t.getRawIndex(r)].dataIndex=r},co.clone=function(){for(var e=new Ju(this._directed),t=this.nodes,n=this.edges,i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(i=0;i<n.length;i++){var r=n[i];e.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return e},No.prototype={constructor:No,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)}},yu.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)};var l_=function(e,t){return{getValue:function(n){var i=this[e][t];return i.get(i.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,i)},getVisual:function(n,i){return this[e][t].getItemVisual(this.dataIndex,n,i)},setLayout:function(n,i){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}};Ke(No,l_("hostGraph","data")),Ke(yu,l_("hostGraph","edgeData")),Ju.Node=No,Ju.Edge=yu,Te(No),Te(yu);var u_=function(e,t,n,i,r){for(var o=new Ju(i),a=0;a<e.length;a++)o.addNode(Ft(e[a].id,e[a].name,a),a);var s=[],u=[],d=0;for(a=0;a<t.length;a++){var h=t[a],g=h.source,m=h.target;o.addEdge(g,m,d)&&(u.push(h),s.push(Ft(h.id,g+" > "+m)),d++)}var y,I=n.get("coordinateSystem");if("cartesian2d"===I||"polar"===I)y=ka(e,n);else{var j=Rr.get(I),q=Vl(e,{coordDimensions:(j&&"view"!==j.type&&j.dimensions||[]).concat(["value"])});(y=new wr(q,n)).initData(e)}var K=new wr(["value"],n);return K.initData(u,s),r&&r(y,K),L0({mainData:y,struct:o,structAttr:"graph",datas:{node:y,edge:K},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o},Qu=lu({type:"series.graph",init:function(e){Qu.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeOption:function(e){Qu.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(e){Qu.superApply(this,"mergeDefaultAndTheme",arguments),$(e,["edgeLabel"],["show"])},getInitialData:function(e,t){var n=e.edges||e.links||[],i=e.data||e.nodes||[],r=this;if(i&&n)return u_(i,n,this,!0,function(o,a){function s(h){return(h=this.parsePath(h))&&"label"===h[0]?d:this.parentModel}o.wrapMethod("getItemModel",function(h){var g=r._categoriesModels[h.getShallow("category")];return g&&(g.parentModel=h.parentModel,h.parentModel=g),h});var u=r.getModel("edgeLabel"),d=new Kn({label:u.option},u.parentModel,t);a.wrapMethod("getItemModel",function(h){return h.customizeGetParent(s),h})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,n){if("edge"===n){var i=this.getData(),r=this.getDataParams(e,n),o=i.graph.getEdgeByIndex(e),a=i.getName(o.node1.dataIndex),s=i.getName(o.node2.dataIndex),u=[];return null!=a&&u.push(a),null!=s&&u.push(s),u=ir(u.join(" > ")),r.value&&(u+=" : "+ir(r.value)),u}return Qu.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=Me(this.option.categories||[],function(n){return null!=n.value?n:On({value:0},n)}),t=new wr(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(n){return t.getItemModel(n,!0)})},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return Qu.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),c_=Co.prototype,Xg=cg.prototype,eD=et({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,t){(Pf(t)?c_:Xg).buildPath(e,t)},pointAt:function(e){return Pf(this.shape)?c_.pointAt.call(this,e):Xg.pointAt.call(this,e)},tangentAt:function(e){var t=this.shape,n=Pf(t)?[t.x2-t.x1,t.y2-t.y1]:Xg.tangentAt.call(this,e);return qn(n,n)}}),Kg=["fromSymbol","toSymbol"],ds=xu.prototype;ds.beforeUpdate=function(){var e=this,t=e.childOfName("fromSymbol"),n=e.childOfName("toSymbol"),i=e.childOfName("label");if(t||n||!i.ignore){for(var r=1,o=this.parent;o;)o.scale&&(r/=o.scale[0]),o=o.parent;var a=e.childOfName("line");if(this.__dirty||a.__dirty){var s=a.shape.percent,u=a.pointAt(0),d=a.pointAt(s),h=Nn([],d,u);if(qn(h,h),t&&(t.attr("position",u),g=a.tangentAt(0),t.attr("rotation",Math.PI/2-Math.atan2(g[1],g[0])),t.attr("scale",[r*s,r*s])),n){n.attr("position",d);var g=a.tangentAt(1);n.attr("rotation",-Math.PI/2-Math.atan2(g[1],g[0])),n.attr("scale",[r*s,r*s])}if(!i.ignore){i.attr("position",d);var m,y,I,j=5*r;if("end"===i.__position)m=[h[0]*j+d[0],h[1]*j+d[1]],y=h[0]>.8?"left":h[0]<-.8?"right":"center",I=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";else if("middle"===i.__position){var q=s/2,K=[(g=a.tangentAt(q))[1],-g[0]],te=a.pointAt(q);K[1]>0&&(K[0]=-K[0],K[1]=-K[1]),m=[te[0]+K[0]*j,te[1]+K[1]*j],y="center",I="bottom";var ue=-Math.atan2(g[1],g[0]);d[0]<u[0]&&(ue=Math.PI+ue),i.attr("rotation",ue)}else m=[-h[0]*j+u[0],-h[1]*j+u[1]],y=h[0]>.8?"right":h[0]<-.8?"left":"center",I=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";i.attr({style:{textVerticalAlign:i.__verticalAlign||I,textAlign:i.__textAlign||y},position:m,scale:[r,r]})}}}},ds._createLine=function(e,t,n){var i=e.hostModel,r=function(e){var t=new eD({name:"line"});return Lf(t.shape,e),t}(e.getItemLayout(t));r.shape.percent=0,ui(r,{shape:{percent:1}},i,t),this.add(r);var o=new Si({name:"label"});this.add(o),de(Kg,function(a){var s=K0(a,e,t);this.add(s),this[X0(a)]=e.getItemVisual(t,a)},this),this._updateCommonStl(e,t,n)},ds.updateData=function(e,t,n){var i=e.hostModel,r=this.childOfName("line"),o=e.getItemLayout(t),a={shape:{}};Lf(a.shape,o),pn(r,a,i,t),de(Kg,function(s){var u=e.getItemVisual(t,s),d=X0(s);if(this[d]!==u){this.remove(this.childOfName(s));var h=K0(s,e,t);this.add(h)}this[d]=u},this),this._updateCommonStl(e,t,n)},ds._updateCommonStl=function(e,t,n){var i=e.hostModel,r=this.childOfName("line"),o=n&&n.lineStyle,a=n&&n.hoverLineStyle,s=n&&n.labelModel,u=n&&n.hoverLabelModel;if(!n||e.hasItemOption){var d=e.getItemModel(t);o=d.getModel("lineStyle").getLineStyle(),a=d.getModel("emphasis.lineStyle").getLineStyle(),s=d.getModel("label"),u=d.getModel("emphasis.label")}var h=e.getItemVisual(t,"color"),g=Kt(e.getItemVisual(t,"opacity"),o.opacity,1);r.useStyle(At({strokeNoScale:!0,fill:"none",stroke:h,opacity:g},o)),r.hoverStyle=a,de(Kg,function(be){var ke=this.childOfName(be);ke&&(ke.setColor(h),ke.setStyle({opacity:g}))},this);var m,y,I,j=s.getShallow("show"),q=u.getShallow("show"),K=this.childOfName("label");if(j||q){if(m=h||"#000",null==(y=i.getFormattedLabel(t,"normal",e.dataType))){var te=i.getRawValue(t);y=null==te?e.getName(t):isFinite(te)?$r(te):te}I=en(i.getFormattedLabel(t,"emphasis",e.dataType),y)}if(j){var ue=Ze(K.style,s,{text:y},{autoColor:m});K.__textAlign=ue.textAlign,K.__verticalAlign=ue.textVerticalAlign,K.__position=s.get("position")||"middle"}else K.setStyle("text",null);K.hoverStyle=q?{text:I,textFill:u.getTextColor(!0),fontStyle:u.getShallow("fontStyle"),fontWeight:u.getShallow("fontWeight"),fontSize:u.getShallow("fontSize"),fontFamily:u.getShallow("fontFamily")}:{text:null},K.ignore=!j&&!q,De(this)},ds.highlight=function(){this.trigger("emphasis")},ds.downplay=function(){this.trigger("normal")},ds.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},ds.setLinePoints=function(e){var t=this.childOfName("line");Lf(t.shape,e),t.dirty()},we(xu,Un);var Xs=Ac.prototype;Xs.isPersistent=function(){return!0},Xs.updateData=function(e){var t=this,n=t.group,i=t._lineData;t._lineData=e,i||n.removeAll();var r=J0(e);e.diff(i).add(function(o){!function(e,t,n,i){if(Ef(t.getItemLayout(n))){var r=new e._ctor(t,n,i);t.setItemGraphicEl(n,r),e.group.add(r)}}(t,e,o,r)}).update(function(o,a){!function(e,t,n,i,r,o){var a=t.getItemGraphicEl(i);Ef(n.getItemLayout(r))?(a?a.updateData(n,r,o):a=new e._ctor(n,r,o),n.setItemGraphicEl(r,a),e.group.add(a)):e.group.remove(a)}(t,i,e,a,o,r)}).remove(function(o){n.remove(i.getItemGraphicEl(o))}).execute()},Xs.updateLayout=function(){var e=this._lineData;e.eachItemGraphicEl(function(t,n){t.updateLayout(e,n)},this)},Xs.incrementalPrepareUpdate=function(e){this._seriesScope=J0(e),this._lineData=null,this.group.removeAll()},Xs.incrementalUpdate=function(e,t){for(var n=e.start;n<e.end;n++)if(Ef(t.getItemLayout(n))){var i=new this._ctor(t,n,this._seriesScope);i.traverse(function(r){r.isGroup||(r.incremental=r.useHoverLayer=!0)}),this.group.add(i)}},Xs.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Xs._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var Jg=[],Qg=[],em=[],Zl=Pe,tm=Ya,d_=Math.abs,nm=function(e,t){function n(u){var d=u.getVisual("symbolSize");return d instanceof Array&&(d=(d[0]+d[1])/2),d}var i=[],r=He,o=[[],[],[]],a=[[],[]],s=[];t/=2,e.eachEdge(function(u,d){var h=u.getLayout(),g=u.getVisual("fromSymbol"),m=u.getVisual("toSymbol");h.__original||(h.__original=[Ht(h[0]),Ht(h[1])],h[2]&&h.__original.push(Ht(h[2])));var y=h.__original;if(null!=h[2]){if(lt(o[0],y[0]),lt(o[1],y[2]),lt(o[2],y[1]),g&&"none"!=g){var I=n(u.node1),j=ey(o,y[0],I*t);r(o[0][0],o[1][0],o[2][0],j,i),o[0][0]=i[3],o[1][0]=i[4],r(o[0][1],o[1][1],o[2][1],j,i),o[0][1]=i[3],o[1][1]=i[4]}m&&"none"!=m&&(I=n(u.node2),j=ey(o,y[1],I*t),r(o[0][0],o[1][0],o[2][0],j,i),o[1][0]=i[1],o[2][0]=i[2],r(o[0][1],o[1][1],o[2][1],j,i),o[1][1]=i[1],o[2][1]=i[2]),lt(h[0],o[0]),lt(h[1],o[2]),lt(h[2],o[1])}else lt(a[0],y[0]),lt(a[1],y[1]),Nn(s,a[1],a[0]),qn(s,s),g&&"none"!=g&&(I=n(u.node1),wn(a[0],a[0],s,I*t)),m&&"none"!=m&&(I=n(u.node2),wn(a[1],a[1],s,-I*t)),lt(h[0],a[0]),lt(h[1],a[1])})},Ks=["itemStyle","opacity"],lh=["lineStyle","opacity"];Vr({type:"graph",init:function(e,t){var n=new ml,i=new Ac,r=this.group;this._controller=new pu(t.getZr()),this._controllerHost={target:r},r.add(n.group),r.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},render:function(e,t,n){var i=e.coordinateSystem;this._model=e,this._nodeScaleRatio=e.get("nodeScaleRatio");var r=this._symbolDraw,o=this._lineDraw,a=this.group;if("view"===i.type){var s={position:i.position,scale:i.scale};this._firstRender?a.attr(s):pn(a,s,e)}nm(e.getGraph(),this._getNodeGlobalScale(e));var u=e.getData();r.updateData(u);var d=e.getEdgeData();o.updateData(d),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var h=e.forceLayout,g=e.get("force.layoutAnimation");h&&this._startForceLayoutIteration(h,g),u.eachItemGraphicEl(function(j,q){var K=u.getItemModel(q);j.off("drag").off("dragend");var te=u.getItemModel(q).get("draggable");te&&j.on("drag",function(){h&&(h.warmUp(),!this._layouting&&this._startForceLayoutIteration(h,g),h.setFixed(q),u.setItemLayout(q,j.position))},this).on("dragend",function(){h&&h.setUnfixed(q)},this),j.setDraggable(te&&h),j.off("mouseover",j.__focusNodeAdjacency),j.off("mouseout",j.__unfocusNodeAdjacency),K.get("focusNodeAdjacency")&&(j.on("mouseover",j.__focusNodeAdjacency=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:j.dataIndex})}),j.on("mouseout",j.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))},this),u.graph.eachEdge(function(j){var q=j.getGraphicEl();q.off("mouseover",q.__focusNodeAdjacency),q.off("mouseout",q.__unfocusNodeAdjacency),j.getModel().get("focusNodeAdjacency")&&(q.on("mouseover",q.__focusNodeAdjacency=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:j.dataIndex})}),q.on("mouseout",q.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))});var m="circular"===e.get("layout")&&e.get("circular.rotateLabel"),y=u.getLayout("cx"),I=u.getLayout("cy");u.eachItemGraphicEl(function(j,q){var K=j.getSymbolPath();if(m){var te=u.getItemLayout(q),ue=Math.atan2(te[1]-I,te[0]-y);ue<0&&(ue=2*Math.PI+ue);var be=te[0]<y;be&&(ue-=Math.PI);var ke=be?"left":"right";K.setStyle({textRotation:-ue,textPosition:ke,textOrigin:"center"}),K.hoverStyle&&(K.hoverStyle.textPosition=ke)}else K.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(e,t,n,i){var r=this._model.getData().graph,a=i.edgeDataIndex,s=r.getNodeByIndex(i.dataIndex),u=r.getEdgeByIndex(a);(s||u)&&(r.eachNode(function(d){Ic(d,Ks,.1)}),r.eachEdge(function(d){Ic(d,lh,.1)}),s&&(Is(s,Ks),de(s.edges,function(d){d.dataIndex<0||(Is(d,lh),Is(d.node1,Ks),Is(d.node2,Ks))})),u&&(Is(u,lh),Is(u.node1,Ks),Is(u.node2,Ks)))},unfocusNodeAdjacency:function(e,t,n,i){var r=this._model.getData().graph;r.eachNode(function(o){Ic(o,Ks)}),r.eachEdge(function(o){Ic(o,lh)})},_startForceLayoutIteration:function(e,t){var n=this;!function i(){e.step(function(r){n.updateLayout(n._model),(n._layouting=!r)&&(t?n._layoutTimeout=setTimeout(i,16):i())})}()},_updateController:function(e,t,n){var i=this._controller,r=this._controllerHost,o=this.group;i.setPointerChecker(function(a,s,u){var d=o.getBoundingRect();return d.applyTransform(o.transform),d.contain(s,u)&&!mf(a,n,e)}),"view"===e.coordinateSystem.type?(i.enable(e.get("roam")),r.zoomLimit=e.get("scaleLimit"),r.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",function(a,s){S0(r,a,s),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:a,dy:s})}).on("zoom",function(a,s,u){M0(r,a,s,u),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:a,originX:s,originY:u}),this._updateNodeAndLinkScale(),nm(e.getGraph(),this._getNodeGlobalScale(e)),this._lineDraw.updateLayout()},this)):i.disable()},_updateNodeAndLinkScale:function(){var e=this._model,t=e.getData(),n=this._getNodeGlobalScale(e),i=[n,n];t.eachItemGraphicEl(function(r,o){r.attr("scale",i)})},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio,i=t.scale,r=i&&i[0]||1;return((t.getZoom()-1)*n+1)/r},updateLayout:function(e){nm(e.getGraph(),this._getNodeGlobalScale(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}}),Ni({type:"graphRoam",event:"graphRoam",update:"none"},function(e,t){t.eachComponent({mainType:"series",query:e},function(n){var i=A0(n.coordinateSystem,e);n.setCenter&&n.setCenter(i.center),n.setZoom&&n.setZoom(i.zoom)})}),Ni({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){}),Ni({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){});var Yl=wn;yo(function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),r=n.getGraph().data,o=i.mapArray(i.getName);r.filterSelf(function(a){var s=r.getItemModel(a).getShallow("category");if(null!=s){"number"==typeof s&&(s=o[s]);for(var u=0;u<t.length;u++)if(!t[u].isSelected(s))return!1}return!0})},this)}),Xi(Zs("graph","circle",null)),Xi(function(e){var t={};e.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),r=n.getData(),o={};i.each(function(a){var s=i.getName(a);o["ec-"+s]=a;var u=i.getItemModel(a).get("itemStyle.color")||n.getColorFromPalette(s,t);i.setItemVisual(a,"color",u)}),i.count()&&r.each(function(a){var s=r.getItemModel(a).getShallow("category");null!=s&&("string"==typeof s&&(s=o["ec-"+s]),r.getItemVisual(a,"color",!0)||r.setItemVisual(a,"color",i.getItemVisual(s,"color")))})})}),Xi(function(e){e.eachSeriesByType("graph",function(t){var n=t.getGraph(),i=t.getEdgeData(),r=Dc(t.get("edgeSymbol")),o=Dc(t.get("edgeSymbolSize")),a="lineStyle.color".split("."),s="lineStyle.opacity".split(".");i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",o&&o[0]),i.setVisual("toSymbolSize",o&&o[1]),i.setVisual("color",t.get(a)),i.setVisual("opacity",t.get(s)),i.each(function(u){var d=i.getItemModel(u),h=n.getEdgeByIndex(u),g=Dc(d.getShallow("symbol",!0)),m=Dc(d.getShallow("symbolSize",!0)),y=d.get(a),I=d.get(s);switch(y){case"source":y=h.node1.getVisual("color");break;case"target":y=h.node2.getVisual("color")}g[0]&&h.setVisual("fromSymbol",g[0]),g[1]&&h.setVisual("toSymbol",g[1]),m[0]&&h.setVisual("fromSymbolSize",m[0]),m[1]&&h.setVisual("toSymbolSize",m[1]),h.setVisual("color",y),h.setVisual("opacity",I)})})}),rr(function(e,t){e.eachSeriesByType("graph",function(n){var i=n.get("layout"),r=n.coordinateSystem;if(r&&"view"!==r.type){var o=n.getData(),a=[];de(r.dimensions,function(m){a=a.concat(o.mapDimension(m,!0))});for(var s=0;s<o.count();s++){for(var u=[],d=!1,h=0;h<a.length;h++){var g=o.get(a[h],s);isNaN(g)||(d=!0),u.push(g)}o.setItemLayout(s,d?r.dataToPoint(u):[NaN,NaN])}iy(o.graph)}else i&&"none"!==i||ny(n)})}),rr(function(e){e.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&ry(t)})}),rr(function(e){e.eachSeriesByType("graph",function(t){var n=t.coordinateSystem;if(!n||"view"===n.type)if("force"===t.get("layout")){var i=t.preservedPoints||{},r=t.getGraph(),o=r.data,a=r.edgeData,s=t.getModel("force"),u=s.get("initLayout");t.preservedPoints?o.each(function(te){var ue=o.getId(te);o.setItemLayout(te,i[ue]||[NaN,NaN])}):u&&"none"!==u?"circular"===u&&ry(t):ny(t);var d=o.getDataExtent("value"),h=a.getDataExtent("value"),g=s.get("repulsion"),m=s.get("edgeLength");me(g)||(g=[g,g]),me(m)||(m=[m,m]),m=[m[1],m[0]];var y=o.mapArray("value",function(te,ue){var be=o.getItemLayout(ue),ke=Ai(te,d,g);return isNaN(ke)&&(ke=(g[0]+g[1])/2),{w:ke,rep:ke,fixed:o.getItemModel(ue).get("fixed"),p:!be||isNaN(be[0])||isNaN(be[1])?null:be}}),I=a.mapArray("value",function(te,ue){var be=r.getEdgeByIndex(ue),ke=Ai(te,h,m);return isNaN(ke)&&(ke=(m[0]+m[1])/2),{n1:y[be.node1.dataIndex],n2:y[be.node2.dataIndex],d:ke,curveness:be.getModel().get("lineStyle.curveness")||0}}),j=(n=t.coordinateSystem).getBoundingRect(),q=function(e,t,n){for(var i=n.rect,r=i.width,o=i.height,a=[i.x+r/2,i.y+o/2],s=null==n.gravity?.1:n.gravity,u=0;u<e.length;u++){var d=e[u];d.p||(d.p=_n(r*(Math.random()-.5)+a[0],o*(Math.random()-.5)+a[1])),d.pp=Ht(d.p),d.edges=null}var h=.6;return{warmUp:function(){h=.5},setFixed:function(g){e[g].fixed=!0},setUnfixed:function(g){e[g].fixed=!1},step:function(g){for(var m=[],y=e.length,I=0;I<t.length;I++){var j=t[I];Nn(m,(be=j.n2).p,(q=j.n1).p);var K=En(m)-j.d,te=be.w/(q.w+be.w);isNaN(te)&&(te=0),qn(m,m),!q.fixed&&Yl(q.p,q.p,m,te*K*h),!be.fixed&&Yl(be.p,be.p,m,-(1-te)*K*h)}for(I=0;I<y;I++)(We=e[I]).fixed||(Nn(m,a,We.p),Yl(We.p,We.p,m,s*h));for(I=0;I<y;I++)for(var q=e[I],ue=I+1;ue<y;ue++){var be=e[ue];Nn(m,be.p,q.p),0===(K=En(m))&&(le(m,Math.random()-.5,Math.random()-.5),K=1);var ke=(q.rep+be.rep)/K/K;!q.fixed&&Yl(q.pp,q.pp,m,ke),!be.fixed&&Yl(be.pp,be.pp,m,-ke)}var Be=[];for(I=0;I<y;I++){var We=e[I];We.fixed||(Nn(Be,We.p,We.pp),Yl(We.p,We.p,Be,h),lt(We.pp,We.p))}h*=.992,g&&g(e,t,h<.01)}}}(y,I,{rect:j,gravity:s.get("gravity")}),K=q.step;q.step=function(te){for(var ue=0,be=y.length;ue<be;ue++)y[ue].fixed&&lt(y[ue].p,r.getNodeByIndex(ue).getLayout());K(function(ke,Be,We){for(var qe=0,gt=ke.length;qe<gt;qe++)ke[qe].fixed||r.getNodeByIndex(qe).setLayout(ke[qe].p),i[o.getId(qe)]=ke[qe].p;for(qe=0,gt=Be.length;qe<gt;qe++){var tn=Be[qe],Jt=r.getEdgeByIndex(qe),un=tn.n1.p,Mn=tn.n2.p,xn=Jt.getLayout();(xn=xn?xn.slice():[])[0]=xn[0]||[],xn[1]=xn[1]||[],lt(xn[0],un),lt(xn[1],Mn),+tn.curveness&&(xn[2]=[(un[0]+Mn[0])/2-(un[1]-Mn[1])*tn.curveness,(un[1]+Mn[1])/2-(Mn[0]-un[0])*tn.curveness]),Jt.setLayout(xn)}te&&te(We)})},t.forceLayout=q,t.preservedPoints=i,q.step()}else t.forceLayout=null})}),Jh("graphView",{create:function(e,t){var n=[];return e.eachSeriesByType("graph",function(i){var r=i.get("coordinateSystem");if(!r||"view"===r){var o=i.getData(),a=[],s=[];rt(o.mapArray(function(j){var q=o.getItemModel(j);return[+q.get("x"),+q.get("y")]}),a,s),s[0]-a[0]==0&&(s[0]+=1,a[0]-=1),s[1]-a[1]==0&&(s[1]+=1,a[1]-=1);var u=(s[0]-a[0])/(s[1]-a[1]),d=function(e,t,n){var i=e.getBoxLayoutParams();return i.aspect=n,xr(i,{width:t.getWidth(),height:t.getHeight()})}(i,t,u);isNaN(u)&&(a=[d.x,d.y],s=[d.x+d.width,d.y+d.height]);var h=s[0]-a[0],g=s[1]-a[1],m=d.width,y=d.height,I=i.coordinateSystem=new ks;I.zoomLimit=i.get("scaleLimit"),I.setBoundingRect(a[0],a[1],h,g),I.setViewRect(d.x,d.y,m,y),I.setCenter(i.get("center")),I.setZoom(i.get("zoom")),n.push(I)}}),n}}),hr.extend({type:"series.gauge",getInitialData:function(e,t){var n=e.data||[];return me(n)||(n=[n]),e.data=n,jl(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var tD=sn.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,t){var n=Math.cos,i=Math.sin,r=t.r,o=t.width,a=t.angle,s=t.x-n(a)*o*(o>=r/3?1:2),u=t.y-i(a)*o*(o>=r/3?1:2);a=t.angle-Math.PI/2,e.moveTo(s,u),e.lineTo(t.x+n(a)*o,t.y+i(a)*o),e.lineTo(t.x+n(t.angle)*r,t.y+i(t.angle)*r),e.lineTo(t.x-n(a)*o,t.y-i(a)*o),e.lineTo(s,u)}}),nD=2*Math.PI,h_=(Mr.extend({type:"gauge",render:function(e,t,n){this.group.removeAll();var i=e.get("axisLine.lineStyle.color"),r=function(e,t){var n=e.get("center"),i=t.getWidth(),r=t.getHeight(),o=Math.min(i,r);return{cx:vn(n[0],t.getWidth()),cy:vn(n[1],t.getHeight()),r:vn(e.get("radius"),o/2)}}(e,n);this._renderMain(e,t,n,i,r)},dispose:function(){},_renderMain:function(e,t,n,i,r){for(var o=this.group,a=e.getModel("axisLine").getModel("lineStyle"),s=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,d=-e.get("endAngle")/180*Math.PI,h=(d-u)%nD,g=u,m=a.get("width"),y=0;y<i.length;y++){var I=Math.min(Math.max(i[y][0],0),1),j=new Na({shape:{startAngle:g,endAngle:d=u+h*I,cx:r.cx,cy:r.cy,clockwise:s,r0:r.r-m,r:r.r},silent:!0});j.setStyle({fill:i[y][1]}),j.setStyle(a.getLineStyle(["color","borderWidth","borderColor"])),o.add(j),g=d}var q=function(te){if(te<=0)return i[0][1];for(var ue=0;ue<i.length;ue++)if(i[ue][0]>=te&&(0===ue?0:i[ue-1][0])<te)return i[ue][1];return i[ue-1][1]};if(!s){var K=u;u=d,d=K}this._renderTicks(e,t,n,q,r,u,d,s),this._renderPointer(e,t,n,q,r,u,d,s),this._renderTitle(e,t,n,q,r),this._renderDetail(e,t,n,q,r)},_renderTicks:function(e,t,n,i,r,o,a,s){for(var u=this.group,d=r.cx,h=r.cy,g=r.r,m=+e.get("min"),y=+e.get("max"),I=e.getModel("splitLine"),j=e.getModel("axisTick"),q=e.getModel("axisLabel"),K=e.get("splitNumber"),te=j.get("splitNumber"),ue=vn(I.get("length"),g),be=vn(j.get("length"),g),ke=o,Be=(a-o)/K,We=Be/te,qe=I.getModel("lineStyle").getLineStyle(),gt=j.getModel("lineStyle").getLineStyle(),tn=0;tn<=K;tn++){var Jt=Math.cos(ke),un=Math.sin(ke);if(I.get("show")){var Mn=new Co({shape:{x1:Jt*g+d,y1:un*g+h,x2:Jt*(g-ue)+d,y2:un*(g-ue)+h},style:qe,silent:!0});"auto"===qe.stroke&&Mn.setStyle({stroke:i(tn/K)}),u.add(Mn)}if(q.get("show")){var xn=oy($r(tn/K*(y-m)+m),q.get("formatter")),kn=q.get("distance"),Wn=i(tn/K);u.add(new Si({style:Ze({},q,{text:xn,x:Jt*(g-ue-kn)+d,y:un*(g-ue-kn)+h,textVerticalAlign:un<-.4?"top":un>.4?"bottom":"middle",textAlign:Jt<-.4?"left":Jt>.4?"right":"center"},{autoColor:Wn}),silent:!0}))}if(j.get("show")&&tn!==K){for(var Vn=0;Vn<=te;Vn++){Jt=Math.cos(ke),un=Math.sin(ke);var Jn=new Co({shape:{x1:Jt*g+d,y1:un*g+h,x2:Jt*(g-be)+d,y2:un*(g-be)+h},silent:!0,style:gt});"auto"===gt.stroke&&Jn.setStyle({stroke:i((tn+Vn/te)/K)}),u.add(Jn),ke+=We}ke-=We}else ke+=Be}},_renderPointer:function(e,t,n,i,r,o,a,s){var u=this.group,d=this._data;if(e.get("pointer.show")){var h=[+e.get("min"),+e.get("max")],g=[o,a],m=e.getData(),y=m.mapDimension("value");m.diff(d).add(function(I){var j=new tD({shape:{angle:o}});ui(j,{shape:{angle:Ai(m.get(y,I),h,g,!0)}},e),u.add(j),m.setItemGraphicEl(I,j)}).update(function(I,j){var q=d.getItemGraphicEl(j);pn(q,{shape:{angle:Ai(m.get(y,I),h,g,!0)}},e),u.add(q),m.setItemGraphicEl(I,q)}).remove(function(I){var j=d.getItemGraphicEl(I);u.remove(j)}).execute(),m.eachItemGraphicEl(function(I,j){var q=m.getItemModel(j),K=q.getModel("pointer");I.setShape({x:r.cx,y:r.cy,width:vn(K.get("width"),r.r),r:vn(K.get("length"),r.r)}),I.useStyle(q.getModel("itemStyle").getItemStyle()),"auto"===I.style.fill&&I.setStyle("fill",i(Ai(m.get(y,j),h,[0,1],!0))),De(I,q.getModel("emphasis.itemStyle").getItemStyle())}),this._data=m}else d&&d.eachItemGraphicEl(function(I){u.remove(I)})},_renderTitle:function(e,t,n,i,r){var o=e.getData(),a=o.mapDimension("value"),s=e.getModel("title");if(s.get("show")){var u=s.get("offsetCenter"),d=r.cx+vn(u[0],r.r),h=r.cy+vn(u[1],r.r),g=+e.get("min"),m=+e.get("max"),y=i(Ai(e.getData().get(a,0),[g,m],[0,1],!0));this.group.add(new Si({silent:!0,style:Ze({},s,{x:d,y:h,text:o.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:y,forceRich:!0})}))}},_renderDetail:function(e,t,n,i,r){var o=e.getModel("detail"),a=+e.get("min"),s=+e.get("max");if(o.get("show")){var u=o.get("offsetCenter"),d=r.cx+vn(u[0],r.r),h=r.cy+vn(u[1],r.r),g=vn(o.get("width"),r.r),m=vn(o.get("height"),r.r),y=e.getData(),I=y.get(y.mapDimension("value"),0),j=i(Ai(I,[a,s],[0,1],!0));this.group.add(new Si({silent:!0,style:Ze({},o,{x:d,y:h,text:oy(I,o.get("formatter")),textWidth:isNaN(g)?null:g,textHeight:isNaN(m)?null:m,textAlign:"center",textVerticalAlign:"middle"},{autoColor:j,forceRich:!0})}))}}}),lu({type:"series.funnel",init:function(e){h_.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(e)},getInitialData:function(e,t){return jl(this,["value"])},_defaultLabelLine:function(e){$(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},getDataParams:function(e){var t=this.getData(),n=h_.superCall(this,"getDataParams",e),i=t.mapDimension("value"),r=t.getSum(i);return n.percent=r?+(t.get(i,e)/r*100).toFixed(2):0,n.$vars.push("percent"),n},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}})),f_=Rf.prototype,iD=["itemStyle","opacity"];f_.updateData=function(e,t,n){var i=this.childAt(0),r=e.hostModel,o=e.getItemModel(t),a=e.getItemLayout(t),s=e.getItemModel(t).get(iD);s=null==s?1:s,i.useStyle({}),n?(i.setShape({points:a.points}),i.setStyle({opacity:0}),ui(i,{style:{opacity:s}},r,t)):pn(i,{style:{opacity:s},shape:{points:a.points}},r,t);var u=o.getModel("itemStyle"),d=e.getItemVisual(t,"color");i.setStyle(At({lineJoin:"round",fill:d},u.getItemStyle(["opacity"]))),i.hoverStyle=u.getModel("emphasis").getItemStyle(),this._updateLabel(e,t),De(this)},f_._updateLabel=function(e,t){var n=this.childAt(1),i=this.childAt(2),r=e.hostModel,o=e.getItemModel(t),a=e.getItemLayout(t).label,s=e.getItemVisual(t,"color");pn(n,{shape:{points:a.linePoints||a.linePoints}},r,t),pn(i,{style:{x:a.x,y:a.y}},r,t),i.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var u=o.getModel("label"),d=o.getModel("emphasis.label"),h=o.getModel("labelLine"),g=o.getModel("emphasis.labelLine");s=e.getItemVisual(t,"color"),Ue(i.style,i.hoverStyle={},u,d,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:s,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign}),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!d.get("show"),n.ignore=n.normalIgnore=!h.get("show"),n.hoverIgnore=!g.get("show"),n.setStyle({stroke:s}),n.setStyle(h.getModel("lineStyle").getLineStyle()),n.hoverStyle=g.getModel("lineStyle").getLineStyle()},we(Rf,Un),Mr.extend({type:"funnel",render:function(e,t,n){var i=e.getData(),r=this._data,o=this.group;i.diff(r).add(function(a){var s=new Rf(i,a);i.setItemGraphicEl(a,s),o.add(s)}).update(function(a,s){var u=r.getItemGraphicEl(s);u.updateData(i,a),o.add(u),i.setItemGraphicEl(a,u)}).remove(function(a){var s=r.getItemGraphicEl(a);o.remove(s)}).execute(),this._data=i},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),Xi(nh("funnel")),rr(function(e,t,n){e.eachSeriesByType("funnel",function(i){var r=i.getData(),o=r.mapDimension("value"),a=i.get("sort"),s=function(e,t){return xr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(i,t),u=function(e,t){for(var n=e.mapDimension("value"),i=e.mapArray(n,function(u){return u}),r=[],o="ascending"===t,a=0,s=e.count();a<s;a++)r[a]=a;return"function"==typeof t?r.sort(t):"none"!==t&&r.sort(function(u,d){return o?i[u]-i[d]:i[d]-i[u]}),r}(r,a),d=[vn(i.get("minSize"),s.width),vn(i.get("maxSize"),s.width)],h=r.getDataExtent(o),g=i.get("min"),m=i.get("max");null==g&&(g=Math.min(h[0],0)),null==m&&(m=h[1]);var y=i.get("funnelAlign"),I=i.get("gap"),j=(s.height-I*(r.count()-1))/r.count(),q=s.y,K=function(qe,gt){var tn,Jt=Ai(r.get(o,qe)||0,[g,m],d,!0);switch(y){case"left":tn=s.x;break;case"center":tn=s.x+(s.width-Jt)/2;break;case"right":tn=s.x+s.width-Jt}return[[tn,gt],[tn+Jt,gt]]};"ascending"===a&&(j=-j,I=-I,q+=s.height,u=u.reverse());for(var te=0;te<u.length;te++){var ue=u[te],be=u[te+1],ke=r.getItemModel(ue).get("itemStyle.height");null==ke?ke=j:(ke=vn(ke,s.height),"ascending"===a&&(ke=-ke));var Be=K(ue,q),We=K(be,q+ke);q+=ke+I,r.setItemLayout(ue,{points:Be.concat(We.slice().reverse())})}!function(e){e.each(function(t){var n,i,r,o,a=e.getItemModel(t),s=a.getModel("label").get("position"),u=a.getModel("labelLine"),d=e.getItemLayout(t),h=d.points,g="inner"===s||"inside"===s||"center"===s;if(g)n="center",o=[[i=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,r=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4],[i,r]];else{var m,y,I,j=u.get("length");"left"===s?(y=(h[3][1]+h[0][1])/2,i=(I=(m=(h[3][0]+h[0][0])/2)-j)-5,n="right"):(y=(h[1][1]+h[2][1])/2,i=(I=(m=(h[1][0]+h[2][0])/2)+j)+5,n="left"),o=[[m,y],[I,y]],r=y}d.label={linePoints:o,x:i,y:r,verticalAlign:"middle",textAlign:n,inside:g}})}(r)})}),yo(ju("funnel"));var uh=function(e,t,n,i,r){mr.call(this,e,t,n),this.type=i||"value",this.axisIndex=r};uh.prototype={constructor:uh,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},we(uh,mr);var $l=function(e,t,n,i,r,o){t[0]=Nc(t[0],n),t[1]=Nc(t[1],n),e=e||0,null!=r&&(r=Nc(r,[0,n[1]-n[0]])),null!=o&&(o=Math.max(o,null!=r?r:0)),"all"===i&&(r=o=Math.abs(t[1]-t[0]),i=0);var s=Bf(t,i);t[i]+=e;var u=r||0,d=n.slice();s.sign<0?d[0]+=u:d[1]-=u,t[i]=Nc(t[i],d),h=Bf(t,i),null!=r&&(h.sign!==s.sign||h.span<r)&&(t[1-i]=t[i]+s.sign*r);var h=Bf(t,i);return null!=o&&h.span>o&&(t[1-i]=t[i]+h.sign*o),t},im=de,p_=Math.min,g_=Math.max,m_=Math.floor,rD=Math.ceil,v_=$r,oD=Math.PI;Of.prototype={type:"parallel",constructor:Of,_init:function(e,t,n){var r=e.parallelAxisIndex;im(e.dimensions,function(o,a){var s=r[a],u=t.getComponent("parallelAxis",s),d=this._axesMap.set(o,new uh(o,pl(u),[0,0],u.get("type"),s));d.onBand="category"===d.type&&u.get("boundaryGap"),d.inverse=u.get("inverse"),u.axis=d,d.model=u,d.coordinateSystem=u.coordinateSystem=this},this)},update:function(e,t){this._updateAxesFromSeries(this._model,e)},containPoint:function(e){var t=this._makeLayoutInfo(),n=t.axisBase,i=t.layoutBase,r=t.pixelDimIndex,o=e[1-r],a=e[r];return o>=n&&o<=n+t.axisLength&&a>=i&&a<=i+t.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(e,t){t.eachSeries(function(n){if(e.contains(n,t)){var i=n.getData();im(this.dimensions,function(r){var o=this._axesMap.get(r);o.scale.unionExtentFromData(i,i.mapDimension(r)),Ms(o.scale,o.model)},this)}},this)},resize:function(e,t){this._rect=xr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var e,t=this._model,n=this._rect,i=["x","y"],r=["width","height"],o=t.get("layout"),a="horizontal"===o?0:1,s=n[r[a]],u=[0,s],d=this.dimensions.length,h=Pc(t.get("axisExpandWidth"),u),g=Pc(t.get("axisExpandCount")||0,[0,d]),m=t.get("axisExpandable")&&d>3&&d>g&&g>1&&h>0&&s>0,y=t.get("axisExpandWindow");y?(e=Pc(y[1]-y[0],u),y[1]=y[0]+e):(e=Pc(h*(g-1),u),(y=[h*(t.get("axisExpandCenter")||m_(d/2))-e/2])[1]=y[0]+e);var I=(s-e)/(d-g);I<3&&(I=0);var j=[m_(v_(y[0]/h,1))+1,rD(v_(y[1]/h,1))-1];return{layout:o,pixelDimIndex:a,layoutBase:n[i[a]],layoutLength:s,axisBase:n[i[1-a]],axisLength:n[r[1-a]],axisExpandable:m,axisExpandWidth:h,axisCollapseWidth:I,axisExpandWindow:y,axisCount:d,winInnerIndices:j,axisExpandWindow0Pos:I/h*y[0]}},_layoutAxes:function(){var e=this._rect,t=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),r=i.layout;t.each(function(o){var a=[0,i.axisLength],s=o.inverse?1:0;o.setExtent(a[s],a[1-s])}),im(n,function(o,a){var s=(i.axisExpandable?DM:IM)(a,i),u={horizontal:{x:s.position,y:i.axisLength},vertical:{x:0,y:s.position}},h=[u[r].x+e.x,u[r].y+e.y],g={horizontal:oD/2,vertical:0}[r],m=ri();Tn(m,m,g),an(m,m,h),this._axesLayout[o]={position:h,rotation:g,transform:m,axisNameAvailableWidth:s.axisNameAvailableWidth,axisLabelShow:s.axisLabelShow,nameTruncateMaxWidth:s.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:t.get(o).getLabelInterval()}},this)},getAxis:function(e){return this._axesMap.get(e)},dataToPoint:function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},eachActiveState:function(e,t,n){for(var i=this.dimensions,r=Me(i,function(I){return e.mapDimension(I)}),o=this._axesMap,a=this.hasAxisBrushed(),s=0,u=e.count();s<u;s++){var d,h=e.getValues(r,s);if(a){d="active";for(var g=0,m=i.length;g<m;g++)if("inactive"===o.get(i[g]).model.getActiveState(h[g],g)){d="inactive";break}}else d="normal";t.call(n,d,s)}},hasAxisBrushed:function(){for(var e=this.dimensions,t=this._axesMap,n=!1,i=0,r=e.length;i<r;i++)"normal"!==t.get(e[i]).model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(e,t){return pi([e,0],this._axesLayout[t].transform)},getAxisLayout:function(e){return hn(this._axesLayout[e])},getSlidedAxisExpandWindow:function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,i=t.axisExpandWindow.slice(),r=i[1]-i[0],o=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var a,s=e[n]-t.layoutBase-t.axisExpandWindow0Pos,u="slide",d=t.axisCollapseWidth,h=this._model.get("axisExpandSlideTriggerArea"),g=null!=h[0];return d?(g&&d&&s<r*h[0]?(u="jump",a=s-r*h[2]):g&&d&&s>r*(1-h[0])?(u="jump",a=s-r*(1-h[2])):(a=s-r*h[1])>=0&&(a=s-r*(1-h[1]))<=0&&(a=0),(a*=t.axisExpandWidth/d)?$l(a,i,o,"all"):u="none"):((i=[g_(0,o[1]*s/(r=i[1]-i[0])-r/2)])[1]=p_(o[1],i[0]+r),i[0]=i[1]-r),{axisExpandWindow:i,behavior:u}}},Rr.register("parallel",{create:function(e,t){var n=[];return e.eachComponent("parallel",function(i,r){var o=new Of(i,e,t);o.name="parallel_"+r,o.resize(i,t),i.coordinateSystem=o,o.model=i,n.push(o)}),e.eachSeries(function(i){if("parallel"===i.get("coordinateSystem")){var r=e.queryComponents({mainType:"parallel",index:i.get("parallelIndex"),id:i.get("parallelId")})[0];i.coordinateSystem=r.coordinateSystem}}),n}});var y_=Ii.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return Nl([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(e){var t=this.activeIntervals=hn(e);if(t)for(var n=t.length-1;n>=0;n--)ws(t[n])},getActiveState:function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e)return"inactive";for(var n=0,i=t.length;n<i;n++)if(t[n][0]<=e&&e<=t[n][1])return"active";return"inactive"}});Ye(y_.prototype,qs),Wl("parallel",y_,function(e,t){return t.type||(t.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10}),Ii.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){Ii.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(e){e&&Ye(this.option,e,!0),this._initDimensions()},contains:function(e,t){var n=e.get("parallelIndex");return null!=n&&t.getComponent("parallel",n)===this},setAxisExpand:function(e){de(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])},this)},_initDimensions:function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[];de(ft(this.dependentModels.parallelAxis,function(n){return(n.get("parallelIndex")||0)===this.componentIndex},this),function(n){e.push("dim"+n.get("dim")),t.push(n.componentIndex)})}}),Ni({type:"axisAreaSelect",event:"axisAreaSelected"},function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(n){n.axis.model.setActiveIntervals(e.intervals)})}),Ni("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(n){n.setAxisExpand(e)})});var hs=Ne,da=de,sD=Me,ec=Math.min,Xl=Math.max,lD=Math.pow,uD=1e4,cD=6,dD=6,x_="globalPan",hD={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},fD={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},b_={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},pD=0;bl.prototype={constructor:bl,enableBrush:function(e){return this._brushType&&function(e){var t=e._zr;(function(e,t,n){var i=gf(e);i[t]===n&&(i[t]=null)})(t,x_,e._uid),da(e._handlers,function(n,i){t.off(i,n)}),e._brushType=e._brushOption=null}(this),e.brushType&&function(e,t){var n=e._zr;e._enableGlobalPan||function(e,t,n){gf(e)[t]=n}(n,x_,e._uid),da(e._handlers,function(i,r){n.on(r,i)}),e._brushType=t.brushType,e._brushOption=Ye(hn(b_),t,!0)}(this,e),this},setPanels:function(e){if(e&&e.length){var t=this._panels={};de(e,function(n){t[n.panelId]=hn(n)})}else this._panels=null;return this},mount:function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({position:e.position||[0,0],rotation:e.rotation||0,scale:e.scale||[1,1]}),this._transform=t.getLocalTransform(),this},eachCover:function(e,t){da(this._covers,e,t)},updateCovers:function(e){function t(u,d){return(null!=u.id?u.id:i+d)+"-"+u.brushType}function n(u,d){var h=e[u];if(null!=d&&r[d]===s)o[u]=r[d];else{var g=o[u]=null!=d?(r[d].__brushOption=h,r[d]):sy(a,ay(a,h));zf(a,g)}}e=Me(e,function(u){return Ye(hn(b_),u,!0)});var i="\0-brush-index-",r=this._covers,o=this._covers=[],a=this,s=this._creatingCover;return new Ta(r,e,function(u,d){return t(u.__brushOption,d)},t).add(n).update(n).remove(function(u){r[u]!==s&&a.group.remove(r[u])}).execute(),this},unmount:function(){return this.enableBrush(!1),Hf(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},Ke(bl,_r);var gD={mousedown:function(e){if(this._dragging)xy.call(this,e);else if(!e.target||!e.target.draggable){qf(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=Vf(this,e,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);if(function(e,t,n){if(e._brushType){var i=e._zr,r=e._covers,o=Vf(e,t,n);if(!e._dragging)for(var a=0;a<r.length;a++){var s=r[a].__brushOption;if(o&&(!0===o||s.panelId===o.panelId)&&ch[s.brushType].contain(r[a],n[0],n[1]))return}o&&i.setCursorStyle("crosshair")}}(this,e,t),this._dragging){qf(e);var n=vy(this,e,t,!1);n&&Ds(this,n)}},mouseup:xy},ch={lineX:by(0),lineY:by(1),rect:{createCover:function(e,t){return hy(hs(gy,function(n){return n},function(n){return n}),e,t,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(e){var t=dy(e);return py(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,i){fy(e,t,n,i)},updateCommon:Wf,contain:Zf},polygon:{createCover:function(e,t){var n=new Un;return n.add(new ra({name:"main",style:Gf(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new wo({name:"main",draggable:!0,drift:hs(RM,e,t),ondragend:hs(Ds,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,i){t.childAt(0).setShape({points:jf(e,t,n)})},updateCommon:Wf,contain:Zf}},mD=["axisLine","axisTickLabel","axisName"],vD=br({type:"parallelAxis",init:function(e,t){vD.superApply(this,"init",arguments),(this._brushController=new bl(t.getZr())).on("brush",ot(this._onBrush,this))},render:function(e,t,n,i){if(!function(e,t,n){return n&&"axisAreaSelect"===n.type&&t.findComponents({mainType:"parallelAxis",query:n})[0]===e}(e,t,i)){this.axisModel=e,this.api=n,this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new Un,this.group.add(this._axisGroup),e.get("show")){var o=function(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}(e,t),a=o.coordinateSystem,s=e.getAreaSelectStyle(),u=s.width,h=On({strokeContainThreshold:u},a.getAxisLayout(e.axis.dim)),g=new Or(e,h);de(mD,g.add,g),this._axisGroup.add(g.getGroup()),this._refreshBrushController(h,s,e,o,u,n),wi(r,this._axisGroup,i&&!1===i.animation?null:e)}}},_refreshBrushController:function(e,t,n,i,r,o){var a=n.axis.getExtent(),s=a[1]-a[0],u=Math.min(30,.1*Math.abs(s)),d=li.create({x:a[0],y:-r/2,width:s,height:r});d.x-=u,d.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,position:e.position}).setPanels([{panelId:"pl",clipPath:_y(d),isTargetByCursor:Cy(d,o,i),getLinearBrushOtherExtent:wy(d,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(function(e){var t=e.axis;return Me(e.activeIntervals,function(n){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(n[0],!0),t.dataToCoord(n[1],!0)]}})}(n))},_onBrush:function(e,t){var n=this.axisModel,i=n.axis,r=Me(e,function(o){return[i.coordToData(o.range[0],!0),i.coordToData(o.range[1],!0)]});(!n.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:r})},dispose:function(){this._brushController.dispose()}});br({type:"parallel",render:function(e,t,n){this._model=e,this._api=n,this._handlers||(this._handlers={},de(yD,function(i,r){n.getZr().on(r,this._handlers[r]=ot(i,this))},this)),ru(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},dispose:function(e,t){de(this._handlers,function(n,i){t.getZr().off(i,n)}),this._handlers=null},_throttledDispatchExpand:function(e){this._dispatchExpand(e)},_dispatchExpand:function(e){e&&this._api.dispatchAction(On({type:"parallelAxisExpand"},e))}});var yD={mousedown:function(e){$f(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if($f(this,"click")&&t){var n=[e.offsetX,e.offsetY];if(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&$f(this,"mousemove")){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),i=n.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===i&&null})}}};Ir(function(e){(function(e){if(!e.parallel){var t=!1;de(e.series,function(n){n&&"parallel"===n.type&&(t=!0)}),t&&(e.parallel=[{}])}})(e),function(e){de(O(e.parallelAxis),function(t){if(Oe(t)){var n=t.parallelIndex||0,i=O(e.parallel)[n];i&&i.parallelAxisDefault&&Ye(t,i.parallelAxisDefault,!1)}})}(e)}),hr.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(e,t){this.option.progressive&&(this.option.animation=!1);var n=this.getSource();return function(e,t){if(!e.encodeDefine){var n=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(n){var i=e.encodeDefine=st();de(n.dimensions,function(r){var o=function(e){return+e.replace("dim","")}(r);i.set(r,o)})}}}(n,this),ka(n,this)},getRawIndicesByActiveState:function(e){var t=this.coordinateSystem,n=this.getData(),i=[];return t.eachActiveState(n,function(r,o){e===r&&i.push(n.getRawIndex(o))}),i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:!1,smooth:!1,animationEasing:"linear"}}),Mr.extend({type:"parallel",init:function(){this._dataGroup=new Un,this.group.add(this._dataGroup)},render:function(e,t,n,i){this._renderForNormal(e,i)},dispose:function(){},_renderForNormal:function(e,t){var n=this._dataGroup,i=e.getData(),r=this._data,o=e.coordinateSystem,a=o.dimensions,s=e.option.smooth?.3:null;if(i.diff(r).add(function(d){!function(e,t,n,i,r){var o=Sy(e,n,i,r),a=new ra({shape:{points:o},silent:!0,z2:10});t.add(a),e.setItemGraphicEl(n,a)}(i,n,d,a,o)}).update(function(d,h){var g=r.getItemGraphicEl(h),m=Sy(i,d,a,o);i.setItemGraphicEl(d,g),pn(g,{shape:{points:m}},t&&!1===t.animation?null:e,d)}).remove(function(d){var h=r.getItemGraphicEl(d);n.remove(h)}).execute(),function(e,t){var n=e.hostModel.getModel("lineStyle"),i=n.getLineStyle();e.eachItemGraphicEl(function(r,o){if(e.hasItemOption){var a=e.getItemModel(o).getModel("lineStyle",n);i=a.getLineStyle(["color","stroke"])}r.useStyle(On(i,{fill:null,stroke:e.getItemVisual(o,"color"),opacity:e.getItemVisual(o,"opacity")})),r.shape.smooth=t})}(i,s),!this._data){var u=function(e,t,n){var i=e.model,r=e.getRect(),o=new Gi({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),a="horizontal"===i.get("layout")?"width":"height";return o.setShape(a,0),ui(o,{shape:{width:r.width,height:r.height}},t,n),o}(o,e,function(){setTimeout(function(){n.removeClipPath()})});n.setClipPath(u)}this._data=i},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});var xD=["lineStyle","normal","opacity"];Xi(function(e){e.eachSeriesByType("parallel",function(t){var n=t.getModel("itemStyle"),i=t.getModel("lineStyle"),r=e.get("color"),o=i.get("color")||n.get("color")||r[t.seriesIndex%r.length],a=t.get("inactiveOpacity"),s=t.get("activeOpacity"),u=t.getModel("lineStyle").getLineStyle(),d=t.coordinateSystem,h=t.getData(),g={normal:u.opacity,active:s,inactive:a};d.eachActiveState(h,function(m,y){var I=h.getItemModel(y),j=g[m];if("normal"===m){var q=I.get(xD,!0);null!=q&&(j=q)}h.setItemVisual(y,"opacity",j)}),h.setVisual("color",o)})});var bD=hr.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(e){var t=e.edges||e.links,n=e.data||e.nodes;if(n&&t)return u_(n,t,this,!0).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,t,n){if("edge"===n){var i=this.getDataParams(e,n),r=i.data,o=r.source+" -- "+r.target;return i.value&&(o+=" : "+i.value),ir(o)}return bD.superCall(this,"formatTooltip",e,t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}}),_D=et({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(e,t){var n=t.extent/2;e.moveTo(t.x1,t.y1-n),e.bezierCurveTo(t.cpx1,t.cpy1-n,t.cpx2,t.cpy2-n,t.x2,t.y2-n),e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n),e.closePath()}});Vr({type:"sankey",_model:null,render:function(e,t,n){var i=e.getGraph(),r=this.group,o=e.layoutInfo,a=e.getData(),s=e.getData("edge");this._model=e,r.removeAll(),r.attr("position",[o.x,o.y]),i.eachEdge(function(u){var d=new _D;d.dataIndex=u.dataIndex,d.seriesIndex=e.seriesIndex,d.dataType="edge";var h=u.getModel("lineStyle"),g=h.get("curveness"),m=u.node1.getLayout(),y=u.node2.getLayout(),I=u.getLayout();d.shape.extent=Math.max(1,I.dy);var j=m.x+m.dx,q=m.y+I.sy+I.dy/2,K=y.x,te=y.y+I.ty+I.dy/2;switch(d.setShape({x1:j,y1:q,x2:K,y2:te,cpx1:j*(1-g)+K*g,cpy1:q,cpx2:j*g+K*(1-g),cpy2:te}),d.setStyle(h.getItemStyle()),d.style.fill){case"source":d.style.fill=u.node1.getVisual("color");break;case"target":d.style.fill=u.node2.getVisual("color")}De(d,u.getModel("emphasis.lineStyle").getItemStyle()),r.add(d),s.setItemGraphicEl(u.dataIndex,d)}),i.eachNode(function(u){var d=u.getLayout(),h=u.getModel(),g=h.getModel("label"),m=h.getModel("emphasis.label"),y=new Gi({shape:{x:d.x,y:d.y,width:u.getLayout().dx,height:u.getLayout().dy},style:h.getModel("itemStyle").getItemStyle()}),I=u.getModel("emphasis.itemStyle").getItemStyle();Ue(y.style,I,g,m,{labelFetcher:e,labelDataIndex:u.dataIndex,defaultText:u.id,isRectText:!0}),y.setStyle("fill",u.getVisual("color")),De(y,I),r.add(y),a.setItemGraphicEl(u.dataIndex,y),y.dataType="node"}),!this._data&&e.get("animation")&&r.setClipPath(function(e,t,n){var i=new Gi({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return ui(i,{shape:{width:e.width+20,height:e.height+20}},t,function(){r.removeClipPath()}),i}(r.getBoundingRect(),e)),this._data=e.getData()},dispose:function(){}}),rr(function(e,t,n){e.eachSeriesByType("sankey",function(i){var r=i.get("nodeWidth"),o=i.get("nodeGap"),a=function(e,t){return xr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(i,t);i.layoutInfo=a;var s=a.width,u=a.height,d=i.getGraph(),h=d.nodes,g=d.edges;(function(e){de(e,function(t){var n=_l(t.outEdges,Ec),i=_l(t.inEdges,Ec),r=Math.max(n,i);t.setLayout({value:r},!0)})})(h),function(e,t,n,i,r,o,a){(function(e,t,n){for(var i=e,r=null,o=0;i.length;){r=[];for(var a=0,s=i.length;a<s;a++){var u=i[a];u.setLayout({x:o},!0),u.setLayout({dx:t},!0);for(var d=0,h=u.outEdges.length;d<h;d++)r.push(u.outEdges[d].node2)}i=r,++o}(function(e,t){de(e,function(n){n.outEdges.length||n.setLayout({x:t-1},!0)})})(e,o),function(e,t){de(e,function(n){var i=n.getLayout().x*t;n.setLayout({x:i},!0)})}(e,(n-t)/(o-1))})(e,n,r),function(e,t,n,i,r){var o=Xf().key(function(s){return s.getLayout().x}).sortKeys(c2).entries(e).map(function(s){return s.values});(function(e,t,n,i,r){var o=[];de(t,function(s){var u=s.length,d=0;de(s,function(g){d+=g.getLayout().value}),o.push((i-(u-1)*r)/d)}),o.sort(function(s,u){return s-u});var a=o[0];de(t,function(s){de(s,function(u,d){u.setLayout({y:d},!0);var h=u.getLayout().value*a;u.setLayout({dy:h},!0)})}),de(n,function(s){var u=+s.getValue()*a;s.setLayout({dy:u},!0)})})(0,o,t,n,i),Kf(o,i,n);for(var a=1;r>0;r--)n2(o,a*=.99),Kf(o,i,n),r2(o,a),Kf(o,i,n)}(e,t,o,i,a),function(e){de(e,function(t){t.outEdges.sort(s2),t.inEdges.sort(l2)}),de(e,function(t){var n=0,i=0;de(t.outEdges,function(r){r.setLayout({sy:n},!0),n+=r.getLayout().dy}),de(t.inEdges,function(r){r.setLayout({ty:i},!0),i+=r.getLayout().dy})})}(e)}(h,g,r,o,s,u,0!==ft(h,function(m){return 0===m.getLayout().value}).length?0:i.get("layoutIterations"))})}),Xi(function(e,t){e.eachSeriesByType("sankey",function(n){var i=n.getGraph().nodes;i.sort(function(a,s){return a.getLayout().value-s.getLayout().value});var r=i[0].getLayout().value,o=i[i.length-1].getLayout().value;de(i,function(a){var s=new Oi({type:"color",mappingMethod:"linear",dataExtent:[r,o],visual:n.get("color")}).mapValueToVisual(a.getLayout().value);a.setVisual("color",s);var u=a.getModel().get("itemStyle.color");null!=u&&a.setVisual("color",u)})})});var wD=sn.extend({type:"whiskerInBox",shape:{},buildPath:function(e,t){for(var n in t)if(t.hasOwnProperty(n)&&0===n.indexOf("ends")){var i=t[n];e.moveTo(i[0][0],i[0][1]),e.lineTo(i[1][0],i[1][1])}}}),__=Rc.prototype;__._createContent=function(e,t,n){var i=e.getItemLayout(t),r="horizontal"===i.chartLayout?1:0,o=0;this.add(new wo({shape:{points:n?My(i.bodyEnds,r,i):i.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=o++;var a=Me(i.whiskerEnds,function(s){return n?My(s,r,i):s});this.add(new wD({shape:Ty(a),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=o++},__.updateData=function(e,t,n){var i=this._seriesModel=e.hostModel,r=e.getItemLayout(t),o=Lo[n?"initProps":"updateProps"];o(this.childAt(this.bodyIndex),{shape:{points:r.bodyEnds}},i,t),o(this.childAt(this.whiskerIndex),{shape:Ty(r.whiskerEnds)},i,t),this.styleUpdater.call(null,this,e,t)},we(Rc,Un);var w_=ky.prototype;w_.updateData=function(e){var t=this.group,n=this._data,i=this.styleUpdater;e.diff(n).add(function(r){if(e.hasValue(r)){var o=new Rc(e,r,i,!0);e.setItemGraphicEl(r,o),t.add(o)}}).update(function(r,o){var a=n.getItemGraphicEl(o);e.hasValue(r)?(a?a.updateData(e,r):a=new Rc(e,r,i),t.add(a),e.setItemGraphicEl(r,a)):t.remove(a)}).remove(function(r){var o=n.getItemGraphicEl(r);o&&t.remove(o)}).execute(),this._data=e},w_.remove=function(){var e=this.group,t=this._data;this._data=null,t&&t.eachItemGraphicEl(function(n){n&&e.remove(n)})};var C_={_baseAxisDim:null,getInitialData:function(e,t){var n,i,r=t.getComponent("xAxis",this.get("xAxisIndex")),o=t.getComponent("yAxis",this.get("yAxisIndex")),a=r.get("type"),s=o.get("type");"category"===a?(e.layout="horizontal",n=r.getOrdinalMeta(),i=!0):"category"===s?(e.layout="vertical",n=o.getOrdinalMeta(),i=!0):e.layout=e.layout||"horizontal";var u=["x","y"],d="horizontal"===e.layout?0:1,h=this._baseAxisDim=u[d],g=u[1-d],m=[r,o],y=m[d].get("type"),I=m[1-d].get("type"),j=e.data;if(j&&i){var q=[];de(j,function(te,ue){var be;te.value&&me(te.value)?(be=te.value.slice(),te.value.unshift(ue)):me(te)?(be=te.slice(),te.unshift(ue)):be=te,q.push(be)}),e.data=q}var K=this.defaultValueDimensions;return jl(this,{coordDimensions:[{name:h,type:yc(y),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:g,type:yc(I),dimsDef:K.slice()}],dimensionsCount:K.length+1})},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}},S_={init:function(){var e=this._whiskerBoxDraw=new ky(this.getStyleUpdater());this.group.add(e.group)},render:function(e,t,n){this._whiskerBoxDraw.updateData(e.getData())},remove:function(e){this._whiskerBoxDraw.remove()}};Ke(hr.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}}),C_,!0),Ke(Mr.extend({type:"boxplot",getStyleUpdater:function(){return d2},dispose:Zt}),S_,!0);var CD=["itemStyle"],SD=["emphasis","itemStyle"],M_=["itemStyle","borderColor"],tc=de;Xi(function(e,t){var n=e.get("color");e.eachRawSeriesByType("boxplot",function(i){var r=n[i.seriesIndex%n.length],o=i.getData();o.setVisual({legendSymbol:"roundRect",color:i.get(M_)||r}),e.isSeriesFiltered(i)||o.each(function(a){var s=o.getItemModel(a);o.setItemVisual(a,{color:s.get(M_,!0)})})})}),rr(function(e){var t=function(e){var t=[],n=[];return e.eachSeriesByType("boxplot",function(i){var r=i.getBaseAxis(),o=Qe(n,r);o<0&&(n[o=n.length]=r,t[o]={axis:r,seriesModels:[]}),t[o].seriesModels.push(i)}),t}(e);tc(t,function(n){var i=n.seriesModels;i.length&&(function(e){var t,n,i=e.axis,r=e.seriesModels,o=r.length,a=e.boxWidthList=[],s=e.boxOffsetList=[],u=[];if("category"===i.type)n=i.getBandWidth();else{var d=0;tc(r,function(I){d=Math.max(d,I.getData().count())}),t=i.getExtent(),Math.abs(t[1]-t[0])}tc(r,function(I){var j=I.get("boxWidth");me(j)||(j=[j,j]),u.push([vn(j[0],n)||0,vn(j[1],n)||0])});var h=.8*n-2,g=h/o*.3,m=(h-g*(o-1))/o,y=m/2-h/2;tc(r,function(I,j){s.push(y),y+=g+m,a.push(Math.min(Math.max(m,u[j][0]),u[j][1]))})}(n),tc(i,function(r,o){!function(e,t,n){var i,r=e.coordinateSystem,o=e.getData(),a=n/2,s=e.get("layout"),u="horizontal"===s?0:1,d=1-u,h=["x","y"],g=[];de(o.dimensions,function(m){var y=o.getDimensionInfo(m).coordDim;y===h[d]?g.push(m):y===h[u]&&(i=m)}),null==i||g.length<5||o.each([i].concat(g),function(){function m(We){var gt,qe=[];return qe[u]=q,qe[d]=We,isNaN(q)||isNaN(We)?gt=[NaN,NaN]:(gt=r.dataToPoint(qe))[u]+=t,gt}function y(We,qe){var gt=We.slice(),tn=We.slice();gt[u]+=a,tn[u]-=a,qe?Be.push(gt,tn):Be.push(tn,gt)}function I(We){var qe=[We.slice(),We.slice()];qe[0][u]-=a,qe[1][u]+=a,ke.push(qe)}var j=arguments,q=j[0],K=j[g.length+1],te=m(j[3]),ue=m(j[1]),be=m(j[5]),ke=[[ue,m(j[2])],[be,m(j[4])]];I(ue),I(be),I(te);var Be=[];y(ke[0][1],0),y(ke[1][1],1),o.setItemLayout(K,{chartLayout:s,initBaseline:te[d],median:te,bodyEnds:Be,whiskerEnds:ke})})}(r,n.boxOffsetList[o],n.boxWidthList[o])}))})}),Ke(hr.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(e,t,n){var i=t.getItemLayout(e);return n.rect(i.brushRect)}}),C_,!0),Ke(Mr.extend({type:"candlestick",getStyleUpdater:function(){return g2},dispose:Zt}),S_,!0);var MD=["itemStyle"],TD=["emphasis","itemStyle"],kD=["itemStyle","borderColor"],AD=["itemStyle","borderColor0"],ID=["itemStyle","color"],DD=["itemStyle","color0"],T_=en;Ir(function(e){e&&me(e.series)&&de(e.series,function(t){Oe(t)&&"k"===t.type&&(t.type="candlestick")})}),Xi(function(e,t){e.eachRawSeriesByType("candlestick",function(n){var i=n.getData();i.setVisual({legendSymbol:"roundRect"}),e.isSeriesFiltered(n)||i.each(function(r){var o=i.getItemModel(r),a=i.getItemLayout(r).sign;i.setItemVisual(r,{color:o.get(a>0?ID:DD),borderColor:o.get(a>0?kD:AD)})})})}),rr(function(e){e.eachSeriesByType("candlestick",function(t){var n,i=t.coordinateSystem,r=t.getData(),o=function(e,t){var n,i=e.getBaseAxis(),r="category"===i.type?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/t.count()),o=vn(T_(e.get("barMaxWidth"),r),r),a=vn(T_(e.get("barMinWidth"),1),r),s=e.get("barWidth");return null!=s?vn(s,r):Math.max(Math.min(r/2,o),a)}(t,r),a=t.get("layout"),s="horizontal"===a?0:1,u=1-s,d=["x","y"],h=[];if(de(r.dimensions,function(m){var y=r.getDimensionInfo(m).coordDim;y===d[u]?h.push(m):y===d[s]&&(n=m)}),!(null==n||h.length<4)){var g=0;r.each([n].concat(h),function(){function m(xn){var kn=[];return kn[s]=q,kn[u]=xn,isNaN(q)||isNaN(xn)?[NaN,NaN]:i.dataToPoint(kn)}function y(xn,kn){var Wn=xn.slice(),Vn=xn.slice();Wn[s]=c(Wn[s]+o/2,1,!1),Vn[s]=c(Vn[s]-o/2,1,!0),kn?un.push(Wn,Vn):un.push(Vn,Wn)}function I(xn){return xn[s]=c(xn[s],1),xn}var Mn,xn,kn,j=arguments,q=j[0],K=j[h.length+1],te=j[1],ue=j[2],be=j[3],ke=j[4],Be=Math.min(te,ue),We=Math.max(te,ue),qe=m(Be),gt=m(We),tn=m(be),Jt=[[I(m(ke)),I(gt)],[I(tn),I(qe)]],un=[];y(gt,0),y(qe,1),Mn=te>ue?-1:te<ue?1:g>0?r.getItemModel(g-1).get()[2]<=ue?1:-1:1,r.setItemLayout(K,{chartLayout:a,sign:Mn,initBaseline:te>ue?gt[u]:qe[u],bodyEnds:un,whiskerEnds:Jt,brushRect:(xn=m(Math.min(te,ue,be,ke)),kn=m(Math.max(te,ue,be,ke)),xn[s]-=o/2,kn[s]-=o/2,{x:xn[0],y:xn[1],width:u?o:kn[0]-xn[0],height:u?kn[1]-xn[1]:o})}),++g},!0)}})}),hr.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(e,t){return ka(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var Js=Jf.prototype;Js.stopEffectAnimation=function(){this.childAt(1).removeAll()},Js.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,i=this.childAt(1),r=0;r<3;r++){var o=ao(t,-1,-1,2,2,n);o.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var a=-r/3*e.period+e.effectOffset;o.animate("",!0).when(e.period,{scale:[e.rippleScale/2,e.rippleScale/2]}).delay(a).start(),o.animateStyle(!0).when(e.period,{opacity:0}).delay(a).start(),i.add(o)}Ay(i,e)},Js.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale"],r=0;r<i.length;r++){var o=i[r];if(t[o]!==e[o])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}Ay(n,e)},Js.highlight=function(){this.trigger("emphasis")},Js.downplay=function(){this.trigger("normal")},Js.updateData=function(e,t){var n=e.hostModel;this.childAt(0).updateData(e,t);var i=this.childAt(1),r=e.getItemModel(t),o=e.getItemVisual(t,"symbol"),a=function(e){return me(e)||(e=[+e,+e]),e}(e.getItemVisual(t,"symbolSize")),s=e.getItemVisual(t,"color");i.attr("scale",a),i.traverse(function(I){I.attr({fill:s})});var u=r.getShallow("symbolOffset");if(u){var d=i.position;d[0]=vn(u[0],a[0]),d[1]=vn(u[1],a[1])}i.rotation=(r.getShallow("symbolRotate")||0)*Math.PI/180||0;var h={};if(h.showEffectOn=n.get("showEffectOn"),h.rippleScale=r.get("rippleEffect.scale"),h.brushType=r.get("rippleEffect.brushType"),h.period=1e3*r.get("rippleEffect.period"),h.effectOffset=t/e.count(),h.z=r.getShallow("z")||0,h.zlevel=r.getShallow("zlevel")||0,h.symbolType=o,h.color=s,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===h.showEffectOn)this._effectCfg?this.updateEffectAnimation(h):this.startEffectAnimation(h),this._effectCfg=h;else{this._effectCfg=null,this.stopEffectAnimation();var g=this.childAt(0),m=function(){g.highlight(),"render"!==h.showEffectOn&&this.startEffectAnimation(h)},y=function(){g.downplay(),"render"!==h.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",m,this).on("mouseout",y,this).on("emphasis",m,this).on("normal",y,this)}this._effectCfg=h},Js.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),e&&e()},we(Jf,Un),Vr({type:"effectScatter",init:function(){this._symbolDraw=new ml(Jf)},render:function(e,t,n){var i=e.getData(),r=this._symbolDraw;r.updateData(i),this.group.add(r.group)},updateTransform:function(e,t,n){var i=e.getData();this.group.dirty();var r=Uu().reset(e);r.progress&&r.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_updateGroupTransform:function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=An(t.getRoamTransform()),this.group.decomposeTransform())},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}}),Xi(Zs("effectScatter","circle")),rr(Uu("effectScatter"));var k_="undefined"==typeof window?global:window,ND=k_.Uint32Array||Array,PD=k_.Float64Array||Array,A_=hr.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(e){Iy(e);var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),A_.superApply(this,"init",arguments)},mergeOption:function(e){if(Iy(e),e.data){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count))}A_.superApply(this,"mergeOption",arguments)},appendData:function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=Tt(this._flatCoords,t.flatCoords),this._flatCoordsOffset=Tt(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],i=this._flatCoordsOffset[2*e+1],r=0;r<i;r++)t[r]=t[r]||[],t[r][0]=this._flatCoords[n+2*r],t[r][1]=this._flatCoords[n+2*r+1];return i}var o=this._getCoordsFromItemModel(e);for(r=0;r<o.length;r++)t[r]=t[r]||[],t[r][0]=o[r][0],t[r][1]=o[r][1];return o.length},_processFlatCoordsArray:function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),"number"==typeof e[0]){for(var n=e.length,i=new ND(n),r=new PD(n),o=0,a=0,s=0,u=0;u<n;){s++;var d=e[u++];i[a++]=o+t,i[a++]=d;for(var h=0;h<d;h++){var g=e[u++],m=e[u++];r[o++]=g,r[o++]=m}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,a),flatCoords:r,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},getInitialData:function(e,t){var n=new wr(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],function(i,r,o,a){if(i instanceof Array)return NaN;n.hasItemOption=!0;var s=i.value;return null!=s?s instanceof Array?s[a]:s:void 0}),n},formatTooltip:function(e){var t=this.getData().getItemModel(e),n=t.get("name");if(n)return n;var i=t.get("fromName"),r=t.get("toName"),o=[];return null!=i&&o.push(i),null!=r&&o.push(r),ir(o.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,incremental:!1,incrementalThreshold:3e3,polyline:!1,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),fs=bu.prototype;fs.createLine=function(e,t,n){return new xu(e,t,n)},fs._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel("effect"),i=n.get("symbolSize"),r=n.get("symbol");me(i)||(i=[i,i]);var o=n.get("color")||e.getItemVisual(t,"color"),a=this.childAt(1);this._symbolType!==r&&(this.remove(a),(a=ao(r,-.5,-.5,1,1,o)).z2=100,a.culling=!0,this.add(a)),a&&(a.setStyle("shadowColor",o),a.setStyle(n.getItemStyle(["color"])),a.attr("scale",i),a.setColor(o),a.attr("scale",i),this._symbolType=r,this._updateEffectAnimation(e,n,t))},fs._updateEffectAnimation=function(e,t,n){var i=this.childAt(1);if(i){var r=this,o=e.getItemLayout(n),a=1e3*t.get("period"),s=t.get("loop"),u=t.get("constantSpeed"),d=Ft(t.get("delay"),function(y){return y/e.count()*a/3}),h="function"==typeof d;if(i.ignore=!0,this.updateAnimationPoints(i,o),u>0&&(a=this.getLineLength(i)/u*1e3),a!==this._period||s!==this._loop){i.stopAnimation();var g=d;h&&(g=d(n)),i.__t>0&&(g=-a*i.__t),i.__t=0;var m=i.animate("",s).when(a,{__t:1}).delay(g).during(function(){r.updateSymbolPosition(i)});s||m.done(function(){r.remove(i)}),m.start()}this._period=a,this._loop=s}},fs.getLineLength=function(e){return Es(e.__p1,e.__cp1)+Es(e.__cp1,e.__p2)},fs.updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},fs.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},fs.updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,i=e.__cp1,r=e.__t,o=e.position,a=Pe,s=oe;o[0]=a(t[0],i[0],n[0],r),o[1]=a(t[1],i[1],n[1],r);var u=s(t[0],i[0],n[0],r),d=s(t[1],i[1],n[1],r);e.rotation=-Math.atan2(d,u)-Math.PI/2,e.ignore=!1},fs.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},we(bu,Un);var dh=Bc.prototype;dh._createPolyline=function(e,t,n){var i=e.getItemLayout(t),r=new ra({shape:{points:i}});this.add(r),this._updateCommonStl(e,t,n)},dh.updateData=function(e,t,n){var i=e.hostModel;pn(this.childAt(0),{shape:{points:e.getItemLayout(t)}},i,t),this._updateCommonStl(e,t,n)},dh._updateCommonStl=function(e,t,n){var i=this.childAt(0),r=e.getItemModel(t),o=e.getItemVisual(t,"color"),a=n&&n.lineStyle,s=n&&n.hoverLineStyle;n&&!e.hasItemOption||(a=r.getModel("lineStyle").getLineStyle(),s=r.getModel("emphasis.lineStyle").getLineStyle()),i.useStyle(At({strokeNoScale:!0,fill:"none",stroke:o},a)),i.hoverStyle=s,De(this)},dh.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},we(Bc,Un);var hh=Qf.prototype;hh.createLine=function(e,t,n){return new Bc(e,t,n)},hh.updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],i=0,r=1;r<t.length;r++)i+=Es(t[r-1],t[r]),n.push(i);if(0!==i){for(r=0;r<n.length;r++)n[r]/=i;this._offsets=n,this._length=i}},hh.getLineLength=function(e){return this._length},hh.updateSymbolPosition=function(e){var t=e.__t,n=this._points,i=this._offsets,r=n.length;if(i){var o=this._lastFrame;if(t<this._lastFramePercent){for(a=Math.min(o+1,r-1);a>=0&&!(i[a]<=t);a--);a=Math.min(a,r-2)}else{for(var a=o;a<r&&!(i[a]>t);a++);a=Math.min(a-1,r-2)}Zi(e.position,n[a],n[a+1],(t-i[a])/(i[a+1]-i[a])),e.rotation=-Math.atan2(n[a+1][1]-n[a][1],n[a+1][0]-n[a][0])-Math.PI/2,this._lastFrame=a,this._lastFramePercent=t,e.ignore=!1}},we(Qf,bu);var I_=et({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(e,t){var n=t.segs,i=t.curveness;if(t.polyline)for(a=0;a<n.length;){var r=n[a++];if(r>0){e.moveTo(n[a++],n[a++]);for(var o=1;o<r;o++)e.lineTo(n[a++],n[a++])}}else for(var a=0;a<n.length;){var s=n[a++],u=n[a++],d=n[a++],h=n[a++];e.moveTo(s,u),i>0?e.quadraticCurveTo((s+d)/2-(u-h)*i,(u+h)/2-(d-s)*i,d,h):e.lineTo(d,h)}},findDataIndex:function(e,t){var n=this.shape,i=n.segs,r=n.curveness;if(n.polyline)for(var o=0,a=0;a<i.length;){var s=i[a++];if(s>0)for(var u=i[a++],d=i[a++],h=1;h<s;h++)if(yt(u,d,g=i[a++],m=i[a++]))return o;o++}else for(o=0,a=0;a<i.length;){u=i[a++],d=i[a++];var g=i[a++],m=i[a++];if(r>0){if(Yn(u,d,(u+g)/2-(d-m)*r,(d+m)/2-(g-u)*r,g,m))return o}else if(yt(u,d,g,m))return o;o++}return-1}}),Qs=Dy.prototype;Qs.isPersistent=function(){return!this._incremental},Qs.updateData=function(e){this.group.removeAll();var t=new I_({rectHover:!0,cursor:"default"});t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e),this.group.add(t),this._incremental=null},Qs.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>5e5?(this._incremental||(this._incremental=new mt({silent:!0})),this.group.add(this._incremental)):this._incremental=null},Qs.incrementalUpdate=function(e,t){var n=new I_;n.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(n,t,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=e.start,this.group.add(n))},Qs.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Qs._setCommon=function(e,t,n){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get("lineStyle.curveness")}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var r=t.getVisual("color");r&&e.setStyle("stroke",r),e.setStyle("fill"),n||(e.seriesIndex=i.seriesIndex,e.on("mousemove",function(o){e.dataIndex=null;var a=e.findDataIndex(o.offsetX,o.offsetY);a>0&&(e.dataIndex=a+e.__startIndex)}))},Qs._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var D_={seriesType:"lines",plan:_g(),reset:function(e){var t=e.coordinateSystem,n=e.get("polyline"),i=e.pipelineContext.large;return{progress:function(r,o){var a=[];if(i){var s,u=r.end-r.start;if(n){for(var d=0,h=r.start;h<r.end;h++)d+=e.getLineCoordsCount(h);s=new Float32Array(u+2*d)}else s=new Float32Array(2*u);var g=0,m=[];for(h=r.start;h<r.end;h++){j=e.getLineCoords(h,a),n&&(s[g++]=j);for(var y=0;y<j;y++)m=t.dataToPoint(a[y],!1,m),s[g++]=m[0],s[g++]=m[1]}o.setLayout("linesPoints",s)}else for(h=r.start;h<r.end;h++){var I=o.getItemModel(h),j=e.getLineCoords(h,a),q=[];if(n)for(var K=0;K<j;K++)q.push(t.dataToPoint(a[K]));else{q[0]=t.dataToPoint(a[0]),q[1]=t.dataToPoint(a[1]);var te=I.get("lineStyle.curveness");+te&&(q[2]=[(q[0][0]+q[1][0])/2-(q[0][1]-q[1][1])*te,(q[0][1]+q[1][1])/2-(q[1][0]-q[0][0])*te])}o.setItemLayout(h,q)}}}}};Vr({type:"lines",init:function(){},render:function(e,t,n){var i=e.getData(),r=this._updateLineDraw(i,e),o=e.get("zlevel"),a=e.get("effect.trailLength"),s=n.getZr(),u="svg"===s.painter.getType();u||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||u||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&a&&(u||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),r.updateData(i),this._lastZlevel=o,this._finished=!0},incrementalPrepareRender:function(e,t,n){var i=e.getData();this._updateLineDraw(i,e).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},incrementalRender:function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,n){var i=e.getData();if(!this._finished||e.pipelineContext.large)return{update:!0};var r=D_.reset(e);r.progress&&r.progress({start:0,end:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},_updateLineDraw:function(e,t){var n=this._lineDraw,i=this._showEffect(t),r=!!t.get("polyline"),o=t.pipelineContext.large;return n&&i===this._hasEffet&&r===this._isPolyline&&o===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=o?new Dy:new Ac(r?i?Qf:Bc:i?bu:xu),this._hasEffet=i,this._isPolyline=r,this._isLargeDraw=o,this.group.removeAll()),this.group.add(n.group),n},_showEffect:function(e){return!!e.get("effect.show")},_clearLayer:function(e){var t=e.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},dispose:function(){}});var N_="lineStyle.opacity".split("."),LD={seriesType:"lines",reset:function(e,t,n){var i=Oc(e.get("symbol")),r=Oc(e.get("symbolSize")),o=e.getData();return o.setVisual("fromSymbol",i&&i[0]),o.setVisual("toSymbol",i&&i[1]),o.setVisual("fromSymbolSize",r&&r[0]),o.setVisual("toSymbolSize",r&&r[1]),o.setVisual("opacity",e.get(N_)),{dataEach:o.hasItemOption?function(a,s){var u=a.getItemModel(s),d=Oc(u.getShallow("symbol",!0)),h=Oc(u.getShallow("symbolSize",!0)),g=u.get(N_);d[0]&&a.setItemVisual(s,"fromSymbol",d[0]),d[1]&&a.setItemVisual(s,"toSymbol",d[1]),h[0]&&a.setItemVisual(s,"fromSymbolSize",h[0]),h[1]&&a.setItemVisual(s,"toSymbolSize",h[1]),a.setItemVisual(s,"opacity",g)}:null}}};rr(D_),Xi(LD),hr.extend({type:"series.heatmap",getInitialData:function(e,t){return ka(this.getSource(),this)},preventIncremental:function(){var e=Rr.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}}),Ny.prototype={update:function(e,t,n,i,r,o){var a=this._getBrush(),s=this._getGradient(e,r,"inRange"),u=this._getGradient(e,r,"outOfRange"),d=this.pointSize+this.blurSize,h=this.canvas,g=h.getContext("2d"),m=e.length;h.width=t,h.height=n;for(var y=0;y<m;++y){var I=e[y],j=I[0],q=I[1],K=i(I[2]);g.globalAlpha=K,g.drawImage(a,j-d,q-d)}if(!h.width||!h.height)return h;for(var te=g.getImageData(0,0,h.width,h.height),ue=te.data,be=0,ke=ue.length,Be=this.minOpacity,We=this.maxOpacity-Be;be<ke;){K=ue[be+3]/256;var qe=4*Math.floor(255*K);if(K>0){var gt=o(K)?s:u;K>0&&(K=K*We+Be),ue[be++]=gt[qe],ue[be++]=gt[qe+1],ue[be++]=gt[qe+2],ue[be++]=gt[qe+3]*K*256}else be+=4}return g.putImageData(te,0,0),h},_getBrush:function(){var e=this._brushCanvas||(this._brushCanvas=kl()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var i=e.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),e},_getGradient:function(e,t,n){for(var i=this._gradientPixels,r=i[n]||(i[n]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,s=0;s<256;s++)t[n](s/255,!0,o),r[a++]=o[0],r[a++]=o[1],r[a++]=o[2],r[a++]=o[3];return r}},Vr({type:"heatmap",render:function(e,t,n){var i;t.eachComponent("visualMap",function(o){o.eachTargetSeries(function(a){a===e&&(i=o)})}),this.group.removeAll(),this._incrementalDisplayable=null;var r=e.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):function(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}(r)&&this._renderOnGeo(r,e,i,n)},incrementalPrepareRender:function(e,t,n){this.group.removeAll()},incrementalRender:function(e,t,n,i){t.coordinateSystem&&this._renderOnCartesianAndCalendar(t,i,e.start,e.end,!0)},_renderOnCartesianAndCalendar:function(e,t,n,i,r){var o,a,s=e.coordinateSystem;if("cartesian2d"===s.type){var u=s.getAxis("x"),d=s.getAxis("y");o=u.getBandWidth(),a=d.getBandWidth()}for(var h=this.group,g=e.getData(),m=e.getModel("itemStyle").getItemStyle(["color"]),y=e.getModel("emphasis.itemStyle").getItemStyle(),I=e.getModel("label"),j=e.getModel("emphasis.label"),q=s.type,K="cartesian2d"===q?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],te=n;te<i;te++){var ue;if("cartesian2d"===q){if(isNaN(g.get(K[2],te)))continue;var be=s.dataToPoint([g.get(K[0],te),g.get(K[1],te)]);ue=new Gi({shape:{x:be[0]-o/2,y:be[1]-a/2,width:o,height:a},style:{fill:g.getItemVisual(te,"color"),opacity:g.getItemVisual(te,"opacity")}})}else{if(isNaN(g.get(K[1],te)))continue;ue=new Gi({z2:1,shape:s.dataToRect([g.get(K[0],te)]).contentShape,style:{fill:g.getItemVisual(te,"color"),opacity:g.getItemVisual(te,"opacity")}})}var ke=g.getItemModel(te);g.hasItemOption&&(m=ke.getModel("itemStyle").getItemStyle(["color"]),y=ke.getModel("emphasis.itemStyle").getItemStyle(),I=ke.getModel("label"),j=ke.getModel("emphasis.label"));var Be=e.getRawValue(te),We="-";Be&&null!=Be[2]&&(We=Be[2]),Ue(m,y,I,j,{labelFetcher:e,labelDataIndex:te,defaultText:We,isRectText:!0}),ue.setStyle(m),De(ue,g.hasItemOption?y:On({},y)),ue.incremental=r,r&&(ue.useHoverLayer=!0),h.add(ue),g.setItemGraphicEl(te,ue)}},_renderOnGeo:function(e,t,n,i){var r=n.targetVisuals.inRange,o=n.targetVisuals.outOfRange,a=t.getData(),s=this._hmLayer||this._hmLayer||new Ny;s.blurSize=t.get("blurSize"),s.pointSize=t.get("pointSize"),s.minOpacity=t.get("minOpacity"),s.maxOpacity=t.get("maxOpacity");var u=e.getViewRect().clone(),d=e.getRoamTransform();u.applyTransform(d);var h=Math.max(u.x,0),g=Math.max(u.y,0),m=Math.min(u.width+u.x,i.getWidth()),y=Math.min(u.height+u.y,i.getHeight()),I=m-h,j=y-g,q=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],K=a.mapArray(q,function(ke,Be,We){var qe=e.dataToPoint([ke,Be]);return qe[0]-=h,qe[1]-=g,qe.push(We),qe}),te=n.getExtent(),ue="visualMap.continuous"===n.type?function(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(i){return i>=t[0]&&i<=t[1]}}(te,n.option.range):function(e,t,n){var i=e[1]-e[0],r=(t=Me(t,function(a){return{interval:[(a.interval[0]-e[0])/i,(a.interval[1]-e[0])/i]}})).length,o=0;return function(a){for(s=o;s<r;s++)if((u=t[s].interval)[0]<=a&&a<=u[1]){o=s;break}if(s===r)for(var s=o-1;s>=0;s--){var u=t[s].interval;if(u[0]<=a&&a<=u[1]){o=s;break}}return s>=0&&s<r&&n[s]}}(te,n.getPieceList(),n.option.selected);s.update(K,I,j,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:o.color.getColorMapper()},ue);var be=new ur({style:{width:I,height:j,x:h,y:g,image:s.canvas},silent:!0});this.group.add(be)},dispose:function(){}});var ED=jb.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(e){return e.stack=null,ED.superApply(this,"getInitialData",arguments)}}),RD=["itemStyle","borderWidth"],P_=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],rm=new Fs;Vr({type:"pictorialBar",render:function(e,t,n){var i=this.group,r=e.getData(),o=this._data,a=e.coordinateSystem,s=!!a.getBaseAxis().isHorizontal(),u=a.grid.getRect(),d={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:a,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:s,valueDim:P_[+s],categoryDim:P_[1-s]};return r.diff(o).add(function(h){if(r.hasValue(h)){var g=zy(r,h),m=Py(r,h,g,d),y=Fy(r,d,m);r.setItemGraphicEl(h,y),i.add(y),Wy(y,d,m)}}).update(function(h,g){var m=o.getItemGraphicEl(g);if(r.hasValue(h)){var y=zy(r,h),I=Py(r,h,y,d),j=Hy(r,I);m&&j!==m.__pictorialShapeStr&&(i.remove(m),r.setItemGraphicEl(h,null),m=null),m?function(e,t,n){var i=n.animationModel,r=n.dataIndex;pn(e.__pictorialBundle,{position:n.bundlePosition.slice()},i,r),n.symbolRepeat?Ey(e,t,n,!0):Ry(e,0,n,!0),By(e,n,!0),Oy(e,t,n,!0)}(m,d,I):m=Fy(r,d,I,!0),r.setItemGraphicEl(h,m),m.__pictorialSymbolMeta=I,i.add(m),Wy(m,d,I)}else i.remove(m)}).remove(function(h){var g=o.getItemGraphicEl(h);g&&Vy(o,h,g.__pictorialSymbolMeta.animationModel,g)}).execute(),this._data=r,this.group},dispose:Zt,remove:function(e,t){var n=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl(function(r){Vy(i,r.dataIndex,e,r)}):n.removeAll()}}),rr(Ne(Hv,"pictorialBar")),Xi(Zs("pictorialBar","roundRect"));var fh=function(e,t,n,i,r){mr.call(this,e,t,n),this.type=i||"value",this.position=r||"bottom",this.orient=null,this._labelInterval=null};fh.prototype={constructor:fh,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},pointToData:function(e,t){return this.coordinateSystem.pointToData(e,t)[0]},toGlobalCoord:null,toLocalCoord:null},we(fh,mr),Rr.register("single",{create:function(e,t){var n=[];return e.eachComponent("singleAxis",function(i,r){var o=new zc(i,e,t);o.name="single_"+r,o.resize(i,t),i.coordinateSystem=o,n.push(o)}),e.eachSeries(function(i){if("singleAxis"===i.get("coordinateSystem")){var r=e.queryComponents({mainType:"singleAxis",index:i.get("singleAxisIndex"),id:i.get("singleAxisId")})[0];i.coordinateSystem=r&&r.coordinateSystem}}),n},dimensions:(zc.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:zc,_init:function(e,t,n){var r=new fh(this.dimension,pl(e),[0,0],e.get("type"),e.get("position"));r.onBand="category"===r.type&&e.get("boundaryGap"),r.inverse=e.get("inverse"),r.orient=e.get("orient"),e.axis=r,r.model=e,r.coordinateSystem=this,this._axis=r},update:function(e,t){e.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();de(i.mapDimension(this.dimension,!0),function(r){this._axis.scale.unionExtentFromData(i,r)},this),Ms(this._axis.scale,this._axis.model)}},this)},resize:function(e,t){this._rect=xr({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),i=n?[0,e.width]:[0,e.height],r=t.reverse?1:0;t.setExtent(i[r],i[1-r]),this._updateAxisTransform(t,n?e.x:e.y)},_updateAxisTransform:function(e,t){var n=e.getExtent(),i=n[0]+n[1],r=e.isHorizontal();e.toGlobalCoord=r?function(o){return o+t}:function(o){return i-o+t},e.toLocalCoord=r?function(o){return o-t}:function(o){return i-o+t}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(e){var t=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},pointToData:function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},dataToPoint:function(e){var t=this.getAxis(),n=this.getRect(),i=[],r="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),i[r]=t.toGlobalCoord(t.dataToCoord(+e)),i[1-r]=0===r?n.y+n.height/2:n.x+n.width/2,i}}).dimensions});var BD=Or.getInterval,OD=Or.ifIgnoreOnTick,zD=["axisLine","axisTickLabel","axisName"],FD=uo.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(e,t,n,i){var r=this.group;r.removeAll();var o=np(e),a=new Or(e,o);de(zD,a.add,a),r.add(a.getGroup()),e.get("splitLine.show")&&this._splitLine(e,o.labelInterval),FD.superCall(this,"render",e,t,n,i)},_splitLine:function(e,t){var n=e.axis;if(!n.scale.isBlank()){var i=e.getModel("splitLine"),r=i.getModel("lineStyle"),o=r.get("width"),a=r.get("color"),s=BD(i,t);a=a instanceof Array?a:[a];for(var u=e.coordinateSystem.getRect(),d=n.isHorizontal(),h=[],g=0,m=n.getTicksCoords(),y=[],I=[],j=e.get("axisLabel.showMinLabel"),q=e.get("axisLabel.showMaxLabel"),K=0;K<m.length;++K)if(!OD(n,K,s,m.length,j,q)){var te=n.toGlobalCoord(m[K]);d?(y[0]=te,y[1]=u.y,I[0]=te,I[1]=u.y+u.height):(y[0]=u.x,y[1]=te,I[0]=u.x+u.width,I[1]=te);var ue=g++%a.length;h[ue]=h[ue]||[],h[ue].push(new Co(Ge({shape:{x1:y[0],y1:y[1],x2:I[0],y2:I[1]},style:{lineWidth:o},silent:!0})))}for(K=0;K<h.length;++K)this.group.add(Pa(h[K],{style:{stroke:a[K%a.length],lineDash:r.getLineDash(o),lineWidth:o},silent:!0}))}}}),L_=Ii.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});Ye(L_.prototype,qs),Wl("single",L_,function(e,t){return t.type||(t.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var E_=function(e,t){var n,i=[],r=e.seriesIndex;if(null==r||!(n=t.getSeriesByIndex(r)))return{point:[]};var o=n.getData(),a=X(o,e);if(null==a||a<0||me(a))return{point:[]};var s=o.getItemGraphicEl(a),u=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(a)||[];else if(u&&u.dataToPoint)i=u.dataToPoint(o.getValues(Me(u.dimensions,function(h){return o.mapDimension(h)}),a,!0))||[];else if(s){var d=s.getBoundingRect().clone();d.applyTransform(s.transform),i=[d.x+d.width/2,d.y+d.height/2]}return{point:i,el:s}},ha=de,R_=Ne,B_=U(),Ea=(Xr({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),U()),HD=de,O_=br({type:"axisPointer",render:function(e,t,n){var i=t.getComponent("tooltip"),r=e.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";qy("axisPointer",n,function(o,a,s){"none"!==r&&("leave"===o||r.indexOf(o)>=0)&&s({type:"updateAxisPointer",currTrigger:o,x:a&&a.offsetX,y:a&&a.offsetY})})},remove:function(e,t){ip(t.getZr(),"axisPointer"),O_.superApply(this._model,"remove",arguments)},dispose:function(e,t){ip("axisPointer",t),O_.superApply(this._model,"dispose",arguments)}}),el=U(),z_=hn,om=ot;(Cl.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,n,i){var r=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,i||this._lastValue!==r||this._lastStatus!==o){this._lastValue=r,this._lastStatus=o;var a=this._group,s=this._handle;if(!o||"hide"===o)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var u={};this.makeElOption(u,r,e,t,n);var d=u.graphicKey;d!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=d;var h=this._moveAnimation=this.determineAnimation(e,t);if(a){var g=Ne(Yy,t,h);this.updatePointerEl(a,u,g,t),this.updateLabelEl(a,u,g,t)}else a=this._group=new Un,this.createPointerEl(a,u,e,t),this.createLabelEl(a,u,e,t),n.getZr().add(a);Ky(a,t,!0),this._renderHandle(r)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var n=t.get("animation"),i=e.axis,r="category"===i.type,o=t.get("snap");if(!o&&!r)return!1;if("auto"===n||null==n){var a=this.animationThreshold;if(r&&i.getBandWidth()>a)return!0;if(o){var s=df(e).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/s>a}return!1}return!0===n},makeElOption:function(e,t,n,i,r){},createPointerEl:function(e,t,n,i){var r=t.pointer;if(r){var o=el(e).pointerEl=new Lo[r.type](z_(t.pointer));e.add(o)}},createLabelEl:function(e,t,n,i){if(t.label){var r=el(e).labelEl=new Gi(z_(t.label));e.add(r),Xy(r,i)}},updatePointerEl:function(e,t,n){var i=el(e).pointerEl;i&&(i.setStyle(t.pointer.style),n(i,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,n,i){var r=el(e).labelEl;r&&(r.setStyle(t.label.style),n(r,{shape:t.label.shape,position:t.label.position}),Xy(r,i))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var a,t=this._axisPointerModel,n=this._api.getZr(),i=this._handle,r=t.getModel("handle"),o=t.get("status");if(!r.get("show")||!o||"hide"===o)return i&&n.remove(i),void(this._handle=null);this._handle||(a=!0,i=this._handle=Wi(r.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(d){Xa(d.event)},onmousedown:om(this._onHandleDragMove,this,0,0),drift:om(this._onHandleDragMove,this),ondragend:om(this._onHandleDragEnd,this)}),n.add(i)),Ky(i,t,!1),i.setStyle(r.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=r.get("size");me(u)||(u=[u,u]),i.attr("scale",[u[0]/2,u[1]/2]),ru(this,"_doDispatchAxisPointer",r.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,a)}},_moveHandleToValue:function(e,t){Yy(this._axisPointerModel,!t&&this._moveAnimation,this._handle,rp(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(rp(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(rp(i)),el(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},_onHandleDragEnd:function(e){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,i=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}}).constructor=Cl,ge(Cl);var WD=Cl.extend({makeElOption:function(e,t,n,i,r){var o=n.axis,a=o.grid,s=i.get("type"),u=i1(a,o).getOtherAxis(o).getGlobalExtent(),d=o.toGlobalCoord(o.dataToCoord(t,!0));if(s&&"none"!==s){var h=op(i),g=GD[s](o,d,u,h);g.style=h,e.graphicKey=g.type,e.pointer=g}e1(t,e,ff(a.model,n),n,i,r)},getHandleTransform:function(e,t,n){var i=ff(t.axis.grid.model,t,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:ap(t.axis,e,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,i){var r=n.axis,o=r.grid,a=r.getGlobalExtent(!0),s=i1(o,r).getOtherAxis(r).getGlobalExtent(),u="x"===r.dim?0:1,d=e.position;d[u]+=t[u],d[u]=Math.min(a[1],d[u]),d[u]=Math.max(a[0],d[u]);var h=(s[1]+s[0])/2,g=[h,h];return g[u]=d[u],{position:d,rotation:e.rotation,cursorPoint:g,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][u]}}}),GD={line:function(e,t,n,i){var r=sp([t,n[0]],[t,n[1]],r1(e));return Ge({shape:r,style:i}),{type:"Line",shape:r}},shadow:function(e,t,n,i){var r=e.getBandWidth();return{type:"Rect",shape:t1([t-r/2,n[0]],[r,n[1]-n[0]],r1(e))}}};uo.registerAxisPointerClass("CartesianAxisPointer",WD),Ir(function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!me(t)&&(e.axisPointer.link=[t])}}),yo(Fl.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=function(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(e,t,n){var i=t.getComponent("tooltip"),r=t.getComponent("axisPointer"),o=r.get("link",!0)||[],a=[];Ul(n.getCoordinateSystems(),function(s){function u(j,q,K){var te=K.model.getModel("axisPointer",r),ue=te.get("show");if(ue&&("auto"!==ue||j||hf(te))){null==q&&(q=te.get("triggerTooltip"));var be=(te=j?function(e,t,n,i,r,o){var a=t.getModel("axisPointer"),s={};Ul(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(h){s[h]=hn(a.get(h))}),s.snap="category"!==e.type&&!!o,"cross"===a.get("type")&&(s.type="line");var u=s.label||(s.label={});if(null==u.show&&(u.show=!1),"cross"===r&&(u.show=!0,!o)){var d=s.lineStyle=a.get("crossStyle");d&&At(u,d.textStyle)}return e.model.getModel("axisPointer",new Kn(s,n,i))}(K,g,r,t,j,q):te).get("snap"),ke=fu(K.model),Be=q||be||"category"===K.type,We=e.axesInfo[ke]={key:ke,axis:K,coordSys:s,axisPointerModel:te,triggerTooltip:q,involveSeries:Be,snap:be,useHandle:hf(te),seriesModels:[]};h[ke]=We,e.seriesInvolved|=Be;var qe=function(e,t){for(var n=t.model,i=t.dim,r=0;r<e.length;r++){var o=e[r]||{};if(cf(o[i+"AxisId"],n.id)||cf(o[i+"AxisIndex"],n.componentIndex)||cf(o[i+"AxisName"],n.name))return r}}(o,K);if(null!=qe){var gt=a[qe]||(a[qe]={axesInfo:{}});gt.axesInfo[ke]=We,gt.mapper=o[qe].mapper,We.linkGroup=gt}}}if(s.axisPointerEnabled){var d=fu(s.model),h=e.coordSysAxesInfo[d]={};e.coordSysMap[d]=s;var g=s.model.getModel("tooltip",i);if(Ul(s.getAxes(),zg(u,!1,null)),s.getTooltipAxes&&i&&g.get("show")){var m="axis"===g.get("trigger"),y="cross"===g.get("axisPointer.type"),I=s.getTooltipAxes(g.get("axisPointer.axis"));(m||y)&&Ul(I.baseAxes,zg(u,!y||"cross",m)),y&&Ul(I.otherAxes,zg(u,"cross",!1))}}})}(n,e,t),n.seriesInvolved&&function(e,t){t.eachSeries(function(n){var i=n.coordinateSystem,r=n.get("tooltip.trigger",!0),o=n.get("tooltip.show",!0);i&&"none"!==r&&!1!==r&&"item"!==r&&!1!==o&&!1!==n.get("axisPointer.show",!0)&&Ul(e.coordSysAxesInfo[fu(i.model)],function(a){var s=a.axis;i.getAxis(s.dim)===s&&(a.seriesModels.push(n),null==a.seriesDataCount&&(a.seriesDataCount=0),a.seriesDataCount+=n.getData().count())})},this)}(n,e),n}(e,t)}),Ni({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(e,t,n){var i=e.currTrigger,r=[e.x,e.y],o=e,a=e.dispatchAction||ot(n.dispatchAction,n),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){Fc(r)&&(r=E_({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var u=Fc(r),d=o.axesInfo,h=s.axesInfo,g="leave"===i||Fc(r),m={},y={},I={list:[],map:{}},j={showPointer:R_(I2,y),showTooltip:R_(D2,I)};ha(s.coordSysMap,function(K,te){var ue=u||K.containPoint(r);ha(s.coordSysAxesInfo[te],function(be,ke){var Be=be.axis,We=function(e,t){for(var n=0;n<(e||[]).length;n++){var i=e[n];if(t.axis.dim===i.axisDim&&t.axis.model.componentIndex===i.axisIndex)return i}}(d,be);if(!g&&ue&&(!d||We)){var qe=We&&We.value;null!=qe||u||(qe=Be.pointToData(r)),null!=qe&&Uy(be,qe,j,!1,m)}})});var q={};return ha(h,function(K,te){var ue=K.linkGroup;ue&&!y[te]&&ha(ue.axesInfo,function(be,ke){var Be=y[ke];if(be!==K&&Be){var We=Be.value;ue.mapper&&(We=K.axis.scale.parse(ue.mapper(We,jy(be),jy(K)))),q[K.key]=We}})}),ha(q,function(K,te){Uy(h[te],K,j,!0,m)}),function(e,t,n){var i=n.axesInfo=[];ha(t,function(r,o){var a=r.axisPointerModel.option,s=e[o];s?(!r.useHandle&&(a.status="show"),a.value=s.value,a.seriesDataIndices=(s.payloadBatch||[]).slice()):!r.useHandle&&(a.status="hide"),"show"===a.status&&i.push({axisDim:r.axis.dim,axisIndex:r.axis.model.componentIndex,value:a.value})})}(y,h,m),function(e,t,n,i){if(!Fc(t)&&e.list.length){var r=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:e.list})}else i({type:"hideTip"})}(I,r,e,a),function(e,t,n){var i=n.getZr(),r=B_(i).axisPointerLastHighlights||{},o=B_(i).axisPointerLastHighlights={};ha(e,function(u,d){var h=u.axisPointerModel.option;"show"===h.status&&ha(h.seriesDataIndices,function(g){o[g.seriesIndex+" | "+g.dataIndex]=g})});var a=[],s=[];de(r,function(u,d){!o[d]&&s.push(u)}),de(o,function(u,d){!r[d]&&a.push(u)}),s.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:s}),a.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:a})}(h,0,n),m}});var F_=["x","y"],UD=["width","height"],jD=Cl.extend({makeElOption:function(e,t,n,i,r){var o=n.axis,a=o.coordinateSystem,s=lp(a,1-Vc(o)),u=a.dataToPoint(t)[0],d=i.get("type");if(d&&"none"!==d){var h=op(i),g=qD[d](o,u,s,h);g.style=h,e.graphicKey=g.type,e.pointer=g}e1(t,e,np(n),n,i,r)},getHandleTransform:function(e,t,n){var i=np(t,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:ap(t.axis,e,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,i){var r=n.axis,o=r.coordinateSystem,a=Vc(r),s=lp(o,a),u=e.position;u[a]+=t[a],u[a]=Math.min(s[1],u[a]),u[a]=Math.max(s[0],u[a]);var d=lp(o,1-a),h=(d[1]+d[0])/2,g=[h,h];return g[a]=u[a],{position:u,rotation:e.rotation,cursorPoint:g,tooltipOption:{verticalAlign:"middle"}}}}),qD={line:function(e,t,n,i){var r=sp([t,n[0]],[t,n[1]],Vc(e));return Ge({shape:r,style:i}),{type:"Line",shape:r}},shadow:function(e,t,n,i){var r=e.getBandWidth();return{type:"Rect",shape:t1([t-r/2,n[0]],[r,n[1]-n[0]],Vc(e))}}};uo.registerAxisPointerClass("SingleAxisPointer",jD),br({type:"single"});var ZD=hr.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){ZD.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(e){for(var t=e.length,n=Me(Xf().key(function(j){return j[2]}).entries(e),function(j){return{name:j.key,dataList:j.values}}),i=n.length,r=-1,o=-1,a=0;a<i;++a){var s=n[a].dataList.length;s>r&&(r=s,o=a)}for(var u=0;u<i;++u)if(u!==o)for(var d=n[u].name,h=0;h<r;++h){for(var g=n[o].dataList[h][0],m=n[u].dataList.length,y=-1,I=0;I<m;++I)if(n[u].dataList[I][0]===g){y=I;break}-1===y&&(e[t]=[],e[t][0]=g,e[t][1]=0,e[t][2]=d,t++)}return e},getInitialData:function(e,t){for(var n=t.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),i=ft(e.data,function(g){return void 0!==g[2]}),r=this.fixData(i||[]),o=[],a=this.nameMap=st(),s=0,u=0;u<r.length;++u)o.push(r[u][2]),a.get(r[u][2])||(a.set(r[u][2],s),s++);var d=Vl(r,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:yc(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),h=new wr(d,this);return h.initData(r),h},getLayerSeries:function(){for(var e=this.getData(),t=e.count(),n=[],i=0;i<t;++i)n[i]=i;for(var r=Me(Xf().key(function(s){return e.get("name",s)}).entries(n),function(s){return{name:s.key,indices:s.values}}),o=e.mapDimension("single"),a=0;a<r.length;++a)r[a].indices.sort(function(s,u){return e.get(o,s)-e.get(o,u)});return r},getAxisTooltipData:function(e,t,n){me(e)||(e=e?[e]:[]);for(var i,r=this.getData(),o=this.getLayerSeries(),a=[],s=o.length,u=0;u<s;++u){for(var d=Number.MAX_VALUE,h=-1,g=o[u].indices.length,m=0;m<g;++m){var y=r.get(e[0],o[u].indices[m]),I=Math.abs(y-t);I<=d&&(i=y,d=I,h=o[u].indices[m])}a.push(h)}return{dataIndices:a,nestestValue:i}},formatTooltip:function(e){var t=this.getData(),n=t.getName(e),i=t.get(t.mapDimension("value"),e);return(isNaN(i)||null==i)&&(i="-"),ir(n+" : "+i)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,textAlign:"right",show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}});Vr({type:"themeRiver",init:function(){this._layers=[]},render:function(e,t,n){function i(m){return m.name}function r(m,y,I){var j=this._layers;if("remove"!==m){for(var q,K=[],te=[],ue=s[y].indices,be=0;be<ue.length;be++){var ke=o.getItemLayout(ue[be]),Be=ke.x,We=ke.y0,qe=ke.y;K.push([Be,We]),te.push([Be,We+qe]),q=o.getItemVisual(ue[be],"color")}var gt,tn,Jt=o.getItemLayout(ue[0]),un=o.getItemModel(ue[be-1]),Mn=un.getModel("label"),xn=Mn.get("margin");if("add"===m)kn=g[y]=new Un,gt=new Rb({shape:{points:K,stackedOnPoints:te,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),tn=new Si({style:{x:Jt.x-xn,y:Jt.y0+Jt.y/2}}),kn.add(gt),kn.add(tn),a.add(kn),gt.setClipPath(function(e,t,n){var i=new Gi({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return ui(i,{shape:{width:e.width+20,height:e.height+20}},t,function(){gt.removeClipPath()}),i}(gt.getBoundingRect(),e));else{var kn=j[I];gt=kn.childAt(0),tn=kn.childAt(1),a.add(kn),g[y]=kn,pn(gt,{shape:{points:K,stackedOnPoints:te}},e),pn(tn,{style:{x:Jt.x-xn,y:Jt.y0+Jt.y/2}},e)}var Wn=un.getModel("emphasis.itemStyle"),Vn=un.getModel("itemStyle");Ze(tn.style,Mn,{text:Mn.get("show")?e.getFormattedLabel(ue[be-1],"normal")||o.getName(ue[be-1]):null,textVerticalAlign:"middle"}),gt.setStyle(On({fill:q},Vn.getItemStyle(["color"]))),De(gt,Wn.getItemStyle())}else a.remove(j[y])}var o=e.getData(),a=this.group,s=e.getLayerSeries(),u=o.getLayout("layoutInfo");a.attr("position",[0,u.rect.y+u.boundaryGap[0]]);var g={};new Ta(this._layersSeries||[],s,i,i).add(ot(r,this,"add")).update(ot(r,this,"update")).remove(ot(r,this,"remove")).execute(),this._layersSeries=s,this._layers=g},dispose:function(){}}),rr(function(e,t){e.eachSeriesByType("themeRiver",function(n){var i=n.getData(),r=n.coordinateSystem,o={},a=r.getRect();o.rect=a;var s=n.get("boundaryGap"),u=r.getAxis();o.boundaryGap=s,"horizontal"===u.orient?(s[0]=vn(s[0],a.height),s[1]=vn(s[1],a.height),o1(i,n,a.height-s[0]-s[1])):(s[0]=vn(s[0],a.width),s[1]=vn(s[1],a.width),o1(i,n,a.width-s[0]-s[1])),i.setLayout("layoutInfo",o)})}),Xi(function(e){e.eachSeriesByType("themeRiver",function(t){var n=t.getData(),i=t.getRawData(),r=t.get("color"),o=st();n.each(function(a){o.set(n.getRawIndex(a),a)}),i.each(function(a){var s=i.getName(a),u=r[(t.nameMap.get(s)-1)%r.length];i.setItemVisual(a,"color",u);var d=o.get(a);null!=d&&n.setItemVisual(d,"color",u)})})}),yo(ju("themeRiver")),hr.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(e,t){var n={name:e.name,children:e.data};a1(n);var r={};return r.levels=e.levels||[],As.createTree(n,this,r).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(e){var t=hr.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=Cf(n,this),t},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});var ph_NONE="none",ph_ANCESTOR="ancestor",ph_SELF="self",YD=2,$D=4,tl=Hc.prototype;tl.updateData=function(e,t,n,i,r){this.node=t,t.piece=this,i=i||this._seriesModel,r=r||this._ecModel;var o=this.childAt(0);o.dataIndex=t.dataIndex;var a=t.getModel(),s=t.getLayout(),u=On({},s);u.label=null;var d,h=function(e,t,n){var i=e.getVisual("color");0===e.getVisual("visualMeta").length&&(i=null);var r=e.getModel("itemStyle").get("color");if(r)return r;if(i)return i;if(0===e.depth)return n.option.color[0];var o=n.option.color.length;return n.option.color[function(e){for(var t=e;t.depth>1;)t=t.parentNode;return Qe(e.getAncestors()[0].children,t)}(e)%o]}(t,0,r),g=a.getModel("itemStyle").getItemStyle();d=At({lineJoin:"bevel",fill:(d="normal"===n?g:Ye(a.getModel(n+".itemStyle").getItemStyle(),g)).fill||h},d),e?(o.setShape(u),o.shape.r=s.r0,pn(o,{shape:{r:s.r}},i,t.dataIndex),o.useStyle(d)):pn(o,{shape:u,style:d},i),"normal"===n&&(o.hoverStyle=a.getModel("emphasis.itemStyle").getItemStyle(),De(this)),this._updateLabel(i,r,h);var m=a.getShallow("cursor");if(m&&o.attr("cursor",m),e){var y=i.getShallow("highlightPolicy");this._initEvents(o,t,i,y)}this._seriesModel=i||this._seriesModel,this._ecModel=r||this._ecModel},tl.onEmphasis=function(e){var t=this;this.node.hostTree.root.eachNode(function(n){n.piece&&(t.node===n?n.piece.updateData(!1,n,"emphasis"):function(e,t,n){return n!==ph_NONE&&(n===ph_SELF?e===t:n===ph_ANCESTOR?e===t||e.isAncestorOf(t):e===t||e.isDescendantOf(t))}(n,t.node,e)?n.piece.childAt(0).trigger("highlight"):e!==ph_NONE&&n.piece.childAt(0).trigger("downplay"))})},tl.onNormal=function(){this.node.hostTree.root.eachNode(function(e){e.piece&&e.piece.updateData(!1,e,"normal")})},tl.onHighlight=function(){this.updateData(!1,this.node,"highlight")},tl.onDownplay=function(){this.updateData(!1,this.node,"downplay")},tl._updateLabel=function(e,t,n){var i=this.node.getModel(),r=i.getModel("label"),o=i.getModel("label.emphasis"),a=Ft(e.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name);r.get("show")||(a="");var s=this.childAt(1);Ue(s.style,s.hoverStyle={},r,o,{defaultText:r.getShallow("show")?a:null,autoColor:n,useInsideStyle:!0});var u,d=this.node.getLayout(),h=(d.startAngle+d.endAngle)/2,g=Math.cos(h),m=Math.sin(h),y=r.get("position"),I=r.get("distance")||0,j=r.get("align");"outside"===y?(u=d.r+I,j=h>Math.PI/2?"right":"left"):j&&"center"!==j?"left"===j?(u=d.r0+I,h>Math.PI/2&&(j="right")):"right"===j&&(u=d.r-I,h>Math.PI/2&&(j="left")):(u=(d.r+d.r0)/2,j="center"),s.attr("style",{text:a,textAlign:j,textVerticalAlign:r.get("verticalAlign")||"middle",opacity:r.get("opacity")}),s.attr("position",[u*g+d.cx,u*m+d.cy]);var te=r.getShallow("rotate"),ue=0;"radial"===te?(ue=-h)<-Math.PI/2&&(ue+=Math.PI):"tangential"===te?(ue=Math.PI/2-h)>Math.PI/2?ue-=Math.PI:ue<-Math.PI/2&&(ue+=Math.PI):"number"==typeof te&&(ue=te*Math.PI/180),s.attr("rotation",ue)},tl._initEvents=function(e,t,n,i){e.off("mouseover").off("mouseout").off("emphasis").off("normal");var r=this,o=function(){r.onEmphasis(i)},a=function(){r.onNormal()};n.isAnimationEnabled()&&e.on("mouseover",o).on("mouseout",a).on("emphasis",o).on("normal",a).on("downplay",function(){r.onDownplay()}).on("highlight",function(){r.onHighlight()})},we(Hc,Un),Mr.extend({type:"sunburst",init:function(){},render:function(e,t,n,i){var a=this;this.seriesModel=e,this.api=n,this.ecModel=t;var s=e.getData().tree.root,u=e.getViewRoot(),d=this.group,h=e.get("renderLabelForZeroData"),g=[];if(u.eachNode(function(j){g.push(j)}),function(j,q){function K(ue){return ue.getId()}function te(ue,be){!function(j,q){if(h||!j||j.getValue()||(j=null),j!==s&&q!==s)if(q&&q.piece)j?q.piece.updateData(!1,j,"normal",e,t):function(j){j&&j.piece&&(d.remove(j.piece),j.piece=null)}(q);else if(j){var K=new Hc(j,e,t);d.add(K)}}(null==ue?null:j[ue],null==be?null:q[be])}0===j.length&&0===q.length||new Ta(q,j,K,K).add(te).update(te).remove(Ne(te,null)).execute()}(g,this._oldChildren||[]),function(j,q){if(q.depth>0){j.piece?j.piece.updateData(!1,j,"normal",e,t):(j.piece=new Hc(j,e,t),d.add(j.piece)),q.piece._onclickEvent&&q.piece.off("click",q.piece._onclickEvent);var K=function(te){a._rootToNode(q.parentNode)};q.piece._onclickEvent=K,j.piece.on("click",K)}else j.piece&&(d.remove(j.piece),j.piece=null)}(s,u),i&&i.highlight&&i.highlight.piece){var y=e.getShallow("highlightPolicy");i.highlight.piece.onEmphasis(y)}else if(i&&i.unhighlight){var I=s.piece;!I&&s.children.length&&(I=s.children[0].piece),I&&I.onNormal()}this._initEvents(),this._oldChildren=g},dispose:function(){},_initEvents:function(){var e=this,t=function(n){var i=e.seriesModel.get("nodeClick",!0);if(i){var r=!1;e.seriesModel.getViewRoot().eachNode(function(o){if(!r&&o.piece&&o.piece.childAt(0)===n.target){if("rootToNode"===i)e._rootToNode(o);else if("link"===i){var a=o.getModel(),s=a.get("link",!0);if(s){var u=a.get("target",!0)||"_blank";s&&window.open(s,u)}}r=!0}})}};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",t),this.group._onclickEvent=t},_rootToNode:function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},containPoint:function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,r=e[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}}});var V_="sunburstRootToNode";Ni({type:V_,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(n,i){var r=vu(e,[V_],n);if(r){var o=n.getViewRoot();o&&(e.direction=wf(o,r.node)?"rollUp":"drillDown"),n.resetViewRoot(r.node)}})});var H_="sunburstHighlight";Ni({type:H_,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(n,i){var r=vu(e,[H_],n);r&&(e.highlight=r.node)})}),Ni({type:"sunburstUnhighlight",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(n,i){e.unhighlight=!0})});var W_=Math.PI/180;Xi(Ne(nh,"sunburst")),rr(Ne(function(e,t,n,i){t.eachSeriesByType(e,function(r){var o=r.get("center"),a=r.get("radius");me(a)||(a=[0,a]),me(o)||(o=[o,o]);var s=n.getWidth(),u=n.getHeight(),d=Math.min(s,u),h=vn(o[0],s),g=vn(o[1],u),m=vn(a[0],d/2),y=vn(a[1],d/2),I=-r.get("startAngle")*W_,j=r.get("minAngle")*W_,q=r.getData().tree.root,K=r.getViewRoot(),te=K.depth,ue=r.get("sort");null!=ue&&s1(K,ue);var be=0;de(K.children,function(Vn){!isNaN(Vn.getValue())&&be++});var ke=K.getValue(),Be=Math.PI/(ke||be)*2,We=K.depth>0,gt=(y-m)/(K.height-(We?-1:1)||1),tn=r.get("clockwise"),Jt=r.get("stillShowZeroSum"),un=tn?1:-1,Mn=function(Vn,Jn){if(Vn){var zn=Jn;if(Vn!==q){var Di=Vn.getValue(),ci=0===ke&&Jt?Be:Di*Be;ci<j&&(ci=j),zn=Jn+un*ci;var Qi=Vn.depth-te-(We?-1:1),Dr=m+gt*Qi,za=m+gt*(Qi+1),ul=Vn.getModel();null!=ul.get("r0")&&(Dr=vn(ul.get("r0"),d/2)),null!=ul.get("r")&&(za=vn(ul.get("r"),d/2)),Vn.setLayout({angle:ci,startAngle:Jn,endAngle:zn,clockwise:tn,cx:h,cy:g,r0:Dr,r:za})}if(Vn.children&&Vn.children.length){var Ww=0;de(Vn.children,function(oP){Ww+=Mn(oP,Jn+Ww)})}return zn-Jn}};if(We){var Wn=2*Math.PI;q.setLayout({angle:Wn,startAngle:I,endAngle:I+Wn,clockwise:tn,cx:h,cy:g,r0:m,r:m+gt})}Mn(K,I)})},"sunburst")),yo(Ne(ju,"sunburst"));var XD=["itemStyle"],KD=["emphasis","itemStyle"],JD=["label"],QD=["emphasis","label"],eN="e\0\0",tN={cartesian2d:function(e){var t=e.grid.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:ot(q2,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n,i){return e.dataToPoint(n,i)},size:ot(Z2,e)}}},singleAxis:function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:ot(Y2,e)}}},polar:function(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),i=t.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:i[1],r0:i[0]},api:{coord:ot(function(r){var o=t.dataToRadius(r[0]),a=n.dataToAngle(r[1]),s=e.coordToPoint([o,a]);return s.push(o,a*Math.PI/180),s}),size:ot($2,e)}}},calendar:function(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(i,r){return e.dataToPoint(i,r)}}}}};lu({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(e,t){return ka(this.getSource(),this)}}),Vr({type:"custom",_data:null,render:function(e,t,n){var i=this._data,r=e.getData(),o=this.group,a=u1(e,r,t,n);this.group.removeAll(),r.diff(i).add(function(s){r.hasValue(s)&&up(null,s,a(s),e,o,r)}).update(function(s,u){var d=i.getItemGraphicEl(u);r.hasValue(s)?up(d,s,a(s),e,o,r):d&&o.remove(d)}).remove(function(s){var u=i.getItemGraphicEl(s);u&&o.remove(u)}).execute(),this._data=r},incrementalPrepareRender:function(e,t,n){this.group.removeAll(),this._data=null},incrementalRender:function(e,t,n,i){for(var r=t.getData(),o=u1(t,r,n,i),a=e.start;a<e.end;a++)up(null,a,o(a),t,this.group,r).traverse(function(s){s.isGroup||(s.incremental=!0,s.useHoverLayer=!0)})},dispose:Zt}),Ir(function(e){var t=e.graphic;me(t)?e.graphic=t[0]&&t[0].elements?[e.graphic[0]]:[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])});var nN=Xr({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(e){var t=this.option.elements;this.option.elements=null,nN.superApply(this,"mergeOption",arguments),this.option.elements=t},optionUpdated:function(e,t){var n=this.option,i=(t?n:e).elements,r=n.elements=t?[]:n.elements,o=[];this._flatten(i,o);var a=M(r,o);x(a);var s=this._elOptionsToUpdate=[];de(a,function(d,h){var g=d.option;g&&(s.push(g),function(e,t){var n=e.exist;if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),null==t.parentId){var i=t.parentOption;i?t.parentId=i.id:n&&(t.parentId=n.parentId)}t.parentOption=null}(d,g),function(e,t,n){var i=On({},n),r=e[t],o=n.$action||"merge";"merge"===o?r?(Ye(r,i,!0),Ua(r,i,{ignoreSize:!0}),Km(n,r)):e[t]=i:"replace"===o?e[t]=i:"remove"===o&&r&&(e[t]=null)}(r,h,g),function(e,t){e&&(e.hv=t.hv=[f1(t,["left","right"]),f1(t,["top","bottom"])],"group"===e.type&&(null==e.width&&(e.width=t.width=0),null==e.height&&(e.height=t.height=0)))}(r[h],g))},this);for(var u=r.length-1;u>=0;u--)null==r[u]?r.splice(u,1):delete r[u].$action},_flatten:function(e,t,n){de(e,function(i){if(i){n&&(i.parentOption=n),t.push(i);var r=i.children;"group"===i.type&&r&&this._flatten(r,t,i),delete i.children}},this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e}});br({type:"graphic",init:function(e,t){this._elMap=st()},render:function(e,t,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e,n),this._relocate(e,n)},_updateElements:function(e,t){var n=e.useElOptionsToUpdate();if(n){var i=this._elMap,r=this.group;de(n,function(o){var a=o.$action,s=o.id,u=i.get(s),d=o.parentId,h=null!=d?i.get(d):r;if("text"===o.type){var g=o.style;o.hv&&o.hv[1]&&(g.textVerticalAlign=g.textBaseline=null),!g.hasOwnProperty("textFill")&&g.fill&&(g.textFill=g.fill),!g.hasOwnProperty("textStroke")&&g.stroke&&(g.textStroke=g.stroke)}var m=function(e){return e=On({},e),de(["id","parentId","$action","hv","bounding"].concat(tb),function(t){delete e[t]}),e}(o);a&&"merge"!==a?"replace"===a?(Wc(u,i),h1(s,h,m,i)):"remove"===a&&Wc(u,i):u?u.attr(m):h1(s,h,m,i);var y=i.get(s);y&&(y.__ecGraphicWidth=o.width,y.__ecGraphicHeight=o.height)})}},_relocate:function(e,t){for(var n=e.option.elements,i=this.group,r=this._elMap,o=n.length-1;o>=0;o--){var a=n[o],s=r.get(a.id);if(s){var u=s.parent;dc(s,a,u===i?{width:t.getWidth(),height:t.getHeight()}:{width:u.__ecGraphicWidth||0,height:u.__ecGraphicHeight||0},null,{hv:a.hv,boundingMode:a.bounding})}}},_clear:function(){var e=this._elMap;e.each(function(t){Wc(t,e)}),this._elMap=st()},dispose:function(){this._clear()}});var G_=Xr({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{}},mergeOption:function(e){G_.superCall(this,"mergeOption",e)},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,n=0;n<e.length;n++){var i=e[n].get("name");if(this.isSelected(i)){this.select(i),t=!0;break}}!t&&this.select(e[0].get("name"))}},_updateData:function(e){var t=[],n=[];e.eachRawSeries(function(r){var a,o=r.name;if(n.push(o),r.legendDataProvider){var s=r.legendDataProvider(),u=s.mapArray(s.getName);e.isSeriesFiltered(r)||(n=n.concat(u)),u.length?t=t.concat(u):a=o}else a=o;a&&a!==xd&&t.push(a)}),this._availableNames=n;var i=Me(this.get("data")||t,function(r){return"string"!=typeof r&&"number"!=typeof r||(r={name:r}),new Kn(r,this,this.ecModel)},this);this._data=i},getData:function(){return this._data},select:function(e){var t=this.option.selected;"single"===this.get("selectedMode")&&de(this._data,function(n){t[n.get("name")]=!1}),t[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},isSelected:function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&Qe(this._availableNames,e)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});Ni("legendToggleSelect","legendselectchanged",Ne(dp,"toggleSelected")),Ni("legendSelect","legendselected",Ne(dp,"select")),Ni("legendUnSelect","legendunselected",Ne(dp,"unSelect"));var Kl=Ne,iN=de,am=Un,rN=br({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new am)},getContentGroup:function(){return this._contentGroup},render:function(e,t,n){if(this.resetInner(),e.get("show",!0)){var i=e.get("align");i&&"auto"!==i||(i="right"===e.get("left")&&"vertical"===e.get("orient")?"right":"left"),this.renderInner(i,e,t,n);var r=e.getBoxLayoutParams(),o={width:n.getWidth(),height:n.getHeight()},a=e.get("padding"),s=xr(r,o,a),u=this.layoutInner(e,i,s),d=xr(At({width:u.width,height:u.height},r),o,a);this.group.attr("position",[d.x-u.x,d.y-u.y]),this.group.add(this._backgroundEl=p1(u,e))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(e,t,n,i){var r=this.getContentGroup(),o=st(),a=t.get("selectedMode");iN(t.getData(),function(s,u){var d=s.get("name");if(this.newlineDisabled||""!==d&&"\n"!==d){var h=n.getSeriesByName(d)[0];if(!o.get(d))if(h){var g=h.getData(),m=g.getVisual("color");"function"==typeof m&&(m=m(h.getDataParams(0)));var y=g.getVisual("legendSymbol")||"roundRect",I=g.getVisual("symbol");this._createItem(d,u,s,t,y,I,e,m,a).on("click",Kl(g1,d,i)).on("mouseover",Kl(m1,h,null,i)).on("mouseout",Kl(v1,h,null,i)),o.set(d,!0)}else n.eachRawSeries(function(j){if(!o.get(d)&&j.legendDataProvider){var q=j.legendDataProvider(),K=q.indexOfName(d);if(K<0)return;var te=q.getItemVisual(K,"color");this._createItem(d,u,s,t,"roundRect",null,e,te,a).on("click",Kl(g1,d,i)).on("mouseover",Kl(m1,j,d,i)).on("mouseout",Kl(v1,j,d,i)),o.set(d,!0)}},this)}else r.add(new am({newline:!0}))},this)},_createItem:function(e,t,n,i,r,o,a,s,u){var d=i.get("itemWidth"),h=i.get("itemHeight"),g=i.get("inactiveColor"),m=i.isSelected(e),y=new am,I=n.getModel("textStyle"),j=n.get("icon"),q=n.getModel("tooltip"),K=q.parentModel;if(y.add(ao(r=j||r,0,0,d,h,m?s:g,!0)),!j&&o&&(o!==r||"none"==o)){var te=.8*h;"none"===o&&(o="circle"),y.add(ao(o,(d-te)/2,(h-te)/2,te,te,m?s:g))}var ue="left"===a?d+5:-5,be=a,ke=i.get("formatter"),Be=e;"string"==typeof ke&&ke?Be=ke.replace("{name}",null!=e?e:""):"function"==typeof ke&&(Be=ke(e)),y.add(new Si({style:Ze({},I,{text:Be,x:ue,y:h/2,textFill:m?I.getTextColor():g,textAlign:be,textVerticalAlign:"middle"})}));var We=new Gi({shape:y.getBoundingRect(),invisible:!0,tooltip:q.get("show")?On({content:e,formatter:K.get("formatter",!0)||function(){return e},formatterParams:{componentType:"legend",legendIndex:i.componentIndex,name:e,$vars:["name"]}},q.option):null});return y.add(We),y.eachChild(function(qe){qe.silent=!0}),We.silent=!u,this.getContentGroup().add(y),De(y),y.__legendDataIndex=t,y},layoutInner:function(e,t,n){var i=this.getContentGroup();zu(e.get("orient"),i,e.get("itemGap"),n.width,n.height);var r=i.getBoundingRect();return i.attr("position",[-r.x,-r.y]),this.group.getBoundingRect()}});yo(function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(n){for(var i=0;i<t.length;i++)if(!t[i].isSelected(n.name))return!1;return!0})}),Ii.registerSubTypeDefaulter("legend",function(){return"plain"});var U_=G_.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(e,t,n,i){var r=dl(e);U_.superCall(this,"init",e,t,n,i),y1(this,e,r)},mergeOption:function(e,t){U_.superCall(this,"mergeOption",e,t),y1(this,this.option,e)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),j_=Un,gh=["width","height"],q_=["x","y"],sm=rN.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){sm.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new j_),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new j_)},resetInner:function(){sm.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(e,t,n,i){function r(d,h){var g=d+"DataIndex",m=Wi(t.get("pageIcons",!0)[t.getOrient().name][h],{onclick:ot(o._pageGo,o,g,t,i)},{x:-s[0]/2,y:-s[1]/2,width:s[0],height:s[1]});m.name=d,a.add(m)}var o=this;sm.superCall(this,"renderInner",e,t,n,i);var a=this._controllerGroup,s=t.get("pageIconSize",!0);me(s)||(s=[s,s]),r("pagePrev",0);var u=t.getModel("pageTextStyle");a.add(new Si({name:"pageText",style:{textFill:u.getTextColor(),font:u.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),r("pageNext",1)},layoutInner:function(e,t,n){var i=this.getContentGroup(),r=this._containerGroup,o=this._controllerGroup,a=e.getOrient().index,s=gh[a],u=gh[1-a],d=q_[1-a];zu(e.get("orient"),i,e.get("itemGap"),a?n.width:null,a?null:n.height),zu("horizontal",o,e.get("pageButtonItemGap",!0));var h=i.getBoundingRect(),g=o.getBoundingRect(),m=this._showController=h[s]>n[s],y=[-h.x,-h.y];y[a]=i.position[a];var I=[0,0],j=[-g.x,-g.y],q=en(e.get("pageButtonGap",!0),e.get("itemGap",!0));m&&("end"===e.get("pageButtonPosition",!0)?j[a]+=n[s]-g[s]:I[a]+=g[s]+q),j[1-a]+=h[u]/2-g[u]/2,i.attr("position",y),r.attr("position",I),o.attr("position",j);var K=this.group.getBoundingRect();if((K={x:0,y:0})[s]=m?n[s]:h[s],K[u]=Math.max(h[u],g[u]),K[d]=Math.min(0,g[d]+j[1-a]),r.__rectSize=n[s],m){var te={x:0,y:0};te[s]=Math.max(n[s]-g[s]-q,0),te[u]=K[u],r.setClipPath(new Gi({shape:te})),r.__rectSize=te[s]}else o.eachChild(function(be){be.attr({invisible:!0,silent:!0})});var ue=this._getPageInfo(e);return null!=ue.pageIndex&&pn(i,{position:ue.contentPosition},!!m&&e),this._updatePageInfoView(e,ue),K},_pageGo:function(e,t,n){var i=this._getPageInfo(t)[e];null!=i&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:t.id})},_updatePageInfoView:function(e,t){var n=this._controllerGroup;de(["pagePrev","pageNext"],function(u){var d=null!=t[u+"DataIndex"],h=n.childOfName(u);h&&(h.setStyle("fill",e.get(d?"pageIconColor":"pageIconInactiveColor",!0)),h.cursor=d?"pointer":"default")});var i=n.childOfName("pageText"),r=e.get("pageFormatter"),o=t.pageIndex,a=null!=o?o+1:0,s=t.pageCount;i&&r&&i.setStyle("text",ze(r)?r.replace("{current}",a).replace("{total}",s):r({current:a,total:s}))},_getPageInfo:function(e){function t(Be){var We=Be.getBoundingRect().clone();return We[y]+=Be.position[h],We}var n,i,r,o,a=e.get("scrollDataIndex",!0),s=this.getContentGroup(),u=s.getBoundingRect(),d=this._containerGroup.__rectSize,h=e.getOrient().index,g=gh[h],m=gh[1-h],y=q_[h],I=s.position.slice();this._showController?s.eachChild(function(Be){Be.__legendDataIndex===a&&(o=Be)}):o=s.childAt(0);var j=d?Math.ceil(u[g]/d):0;if(o){var q=o.getBoundingRect(),K=o.position[h]+q[y];I[h]=-K-u[y],n=Math.floor(j*(K+q[y]+d/2)/u[g]),n=u[g]&&j?Math.max(0,Math.min(j-1,n)):-1;var te={x:0,y:0};te[g]=d,te[m]=u[m],te[y]=-I[h]-u[y];var ue,be=s.children();if(s.eachChild(function(Be,We){var qe=t(Be);qe.intersect(te)&&(null==ue&&(ue=We),r=Be.__legendDataIndex),We===be.length-1&&qe[y]+qe[g]<=te[y]+te[g]&&(r=null)}),null!=ue){var ke=t(be[ue]);if(te[y]=ke[y]+ke[g]-te[g],ue<=0&&ke[y]>=te[y])i=null;else{for(;ue>0&&t(be[ue-1]).intersect(te);)ue--;i=be[ue].__legendDataIndex}}}return{contentPosition:I,pageIndex:n,pageCount:j,pagePrevDataIndex:i,pageNextDataIndex:r}}});Ni("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(n)})}),Xr({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var Z_=de,oN=$m,aN=["","-webkit-","-moz-","-o-"];hp.prototype={constructor:hp,_enterable:!0,update:function(){var e=this._container,t=e.currentStyle||document.defaultView.getComputedStyle(e),n=e.style;"absolute"!==n.position&&"absolute"!==t.position&&(n.position="relative")},show:function(e){clearTimeout(this._hideTimeout);var t=this.el;t.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+function(e){var t=[],n=e.get("transitionDuration"),i=e.get("backgroundColor"),r=e.getModel("textStyle"),o=e.get("padding");return n&&t.push(function(e){var t="left "+e+"s cubic-bezier(0.23, 1, 0.32, 1),top "+e+"s cubic-bezier(0.23, 1, 0.32, 1)";return Me(aN,function(n){return n+"transition:"+t}).join(";")}(n)),i&&(Ci.canvasSupported?t.push("background-Color:"+i):(t.push("background-Color:#"+kt(i)),t.push("filter:alpha(opacity=70)"))),Z_(["width","color","radius"],function(a){var s="border-"+a,u=oN(s),d=e.get(u);null!=d&&t.push(s+":"+d+("color"===a?"":"px"))}),t.push(function(e){var t=[],n=e.get("fontSize"),i=e.getTextColor();return i&&t.push("color:"+i),t.push("font:"+e.getFont()),n&&t.push("line-height:"+Math.round(3*n/2)+"px"),Z_(["decoration","align"],function(r){var o=e.get(r);o&&t.push("text-"+r+":"+o)}),t.join(";")}(r)),null!=o&&t.push("padding:"+Vs(o).join("px ")+"px"),t.join(";")+";"}(e)+";left:"+this._x+"px;top:"+this._y+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",this._show=!0},setContent:function(e){this.el.innerHTML=null==e?"":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var n,i=this._zr;i&&i.painter&&(n=i.painter.getViewportRootOffset())&&(e+=n.offsetLeft,t+=n.offsetTop);var r=this.el.style;r.left=e+"px",r.top=t+"px",this._x=e,this._y=t},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ot(this.hide,this),e)):this.hide())},isShow:function(){return this._show}};var Y_=ot,nc=de,$_=vn,sN=new Gi({shape:{x:-1,y:-1,width:2,height:2}});br({type:"tooltip",init:function(e,t){if(!Ci.node){var n=new hp(t.getDom(),t);this._tooltipContent=n}},render:function(e,t,n){if(!Ci.node&&!Ci.wxa){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=e.get("alwaysShowContent");var i=this._tooltipContent;i.update(),i.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel.get("triggerOn");qy("itemTooltip",this._api,Y_(function(t,n,i){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(n,i):"leave"===t&&this._hide(i))},this))},_keepShow:function(){var e=this._tooltipModel,t=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){i.manuallyShowTip(e,t,n,{x:i._lastX,y:i._lastY})})}},manuallyShowTip:function(e,t,n,i){if(i.from!==this.uid&&!Ci.node){var r=x1(i,n);this._ticket="";var o=i.dataByCoordSys;if(i.tooltip&&null!=i.x&&null!=i.y){var a=sN;a.position=[i.x,i.y],a.update(),a.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:a},r)}else if(o)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,event:{},dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},r);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(e,t,n,i))return;var s=E_(i,t),u=s.point[0],d=s.point[1];null!=u&&null!=d&&this._tryShow({offsetX:u,offsetY:d,position:i.position,target:s.el,event:{}},r)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target,event:{}},r))}},manuallyHideTip:function(e,t,n,i){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,i.from!==this.uid&&this._hide(x1(i,n))},_manuallyAxisShowTip:function(e,t,n,i){var r=i.seriesIndex,o=i.dataIndex,a=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=o&&null!=a){var s=t.getSeriesByIndex(r);if(s&&"axis"===(e=fp([s.getData().getItemModel(o),s,(s.coordinateSystem||{}).model,e])).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:o,position:i.position}),!0}},_tryShow:function(e,t){var n=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var i=e.dataByCoordSys;i&&i.length?this._showAxisTooltip(i,e):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,n,t)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,n,t)):(this._lastDataByCoordSys=null,this._hide(t))}},_showOrMove:function(e,t){var n=e.get("showDelay");t=ot(t,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(t,n):t()},_showAxisTooltip:function(e,t){var n=this._ecModel,r=[t.offsetX,t.offsetY],o=[],a=[],s=fp([t.tooltipOption,this._tooltipModel]);nc(e,function(d){nc(d.dataByAxis,function(h){var g=n.getComponent(h.axisDim+"Axis",h.axisIndex),m=h.value,y=[];if(g&&null!=m){var I=Qy(m,g.axis,n,h.seriesDataIndices,h.valueLabelOpt);de(h.seriesDataIndices,function(q){var K=n.getSeriesByIndex(q.seriesIndex),te=q.dataIndexInside,ue=K&&K.getDataParams(te);ue.axisDim=h.axisDim,ue.axisIndex=h.axisIndex,ue.axisType=h.axisType,ue.axisId=h.axisId,ue.axisValue=rf(g.axis,m),ue.axisValueLabel=I,ue&&(a.push(ue),y.push(K.formatTooltip(te,!0)))}),o.push((I?ir(I)+"<br />":"")+y.join("<br />"))}})},this),o.reverse(),o=o.join("<br /><br />");var u=t.position;this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(s,u,r[0],r[1],this._tooltipContent,a):this._showTooltipContent(s,o,a,Math.random(),r[0],r[1],u)})},_showSeriesItemTooltip:function(e,t,n){var r=t.seriesIndex,o=this._ecModel.getSeriesByIndex(r),a=t.dataModel||o,s=t.dataIndex,u=t.dataType,d=a.getData(),h=fp([d.getItemModel(s),a,o&&(o.coordinateSystem||{}).model,this._tooltipModel]),g=h.get("trigger");if(null==g||"item"===g){var m=a.getDataParams(s,u),y=a.formatTooltip(s,!1,u),I="item_"+a.name+"_"+s;this._showOrMove(h,function(){this._showTooltipContent(h,y,m,I,e.offsetX,e.offsetY,e.position,e.target)}),n({type:"showTip",dataIndexInside:s,dataIndex:d.getRawIndex(s),seriesIndex:r,from:this.uid})}},_showComponentItemTooltip:function(e,t,n){var i=t.tooltip;"string"==typeof i&&(i={content:i,formatter:i});var o=new Kn(i,this._tooltipModel,this._ecModel),a=o.get("content"),s=Math.random();this._showOrMove(o,function(){this._showTooltipContent(o,a,o.get("formatterParams")||{},s,e.offsetX,e.offsetY,e.position,t)}),n({type:"showTip",from:this.uid})},_showTooltipContent:function(e,t,n,i,r,o,a,s){if(this._ticket="",e.get("showContent")&&e.get("show")){var u=this._tooltipContent,d=e.get("formatter");a=a||e.get("position");var h=t;if(d&&"string"==typeof d)h=Rh(d,n,!0);else if("function"==typeof d){var g=Y_(function(m,y){m===this._ticket&&(u.setContent(y),this._updatePosition(e,a,r,o,u,n,s))},this);this._ticket=i,h=d(n,i,g)}u.setContent(h),u.show(e),this._updatePosition(e,a,r,o,u,n,s)}},_updatePosition:function(e,t,n,i,r,o,a){var s=this._api.getWidth(),u=this._api.getHeight();t=t||e.get("position");var d=r.getSize(),h=e.get("align"),g=e.get("verticalAlign"),m=a&&a.getBoundingRect().clone();if(a&&m.applyTransform(a.transform),"function"==typeof t&&(t=t([n,i],o,r.el,m,{viewSize:[s,u],contentSize:d.slice()})),me(t))n=$_(t[0],s),i=$_(t[1],u);else if(Oe(t)){t.width=d[0],t.height=d[1];var y=xr(t,{width:s,height:u});n=y.x,i=y.y,h=null,g=null}else"string"==typeof t&&a?(n=(I=function(e,t,n){var i=n[0],r=n[1],o=0,a=0,s=t.width,u=t.height;switch(e){case"inside":o=t.x+s/2-i/2,a=t.y+u/2-r/2;break;case"top":o=t.x+s/2-i/2,a=t.y-r-5;break;case"bottom":o=t.x+s/2-i/2,a=t.y+u+5;break;case"left":o=t.x-i-5,a=t.y+u/2-r/2;break;case"right":o=t.x+s+5,a=t.y+u/2-r/2}return[o,a]}(t,m,d))[0],i=I[1]):(n=(I=function(e,t,n,i,r,o,a){var s=b1(n),u=s.width,d=s.height;return null!=o&&(e+u+o>i?e-=u+o:e+=o),null!=a&&(t+d+a>r?t-=d+a:t+=a),[e,t]}(n,i,r.el,s,u,h?null:20,g?null:20))[0],i=I[1]);if(h&&(n-=_1(h)?d[0]/2:"right"===h?d[0]:0),g&&(i-=_1(g)?d[1]/2:"bottom"===g?d[1]:0),e.get("confine")){var I=function(e,t,n,i,r){var o=b1(n),a=o.width,s=o.height;return e=Math.min(e+a,i)-a,t=Math.min(t+s,r)-s,[e=Math.max(e,0),t=Math.max(t,0)]}(n,i,r.el,s,u);n=I[0],i=I[1]}r.moveTo(n,i)},_updateContentNotChangedOnAxis:function(e){var t=this._lastDataByCoordSys,n=!!t&&t.length===e.length;return n&&nc(t,function(i,r){var o=i.dataByAxis||{},a=(e[r]||{}).dataByAxis||[];(n&=o.length===a.length)&&nc(o,function(s,u){var d=a[u]||{},h=s.seriesDataIndices||[],g=d.seriesDataIndices||[];(n&=s.value===d.value&&s.axisType===d.axisType&&s.axisId===d.axisId&&h.length===g.length)&&nc(h,function(m,y){var I=g[y];n&=m.seriesIndex===I.seriesIndex&&m.dataIndex===I.dataIndex})})}),this._lastDataByCoordSys=e,!!n},_hide:function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},dispose:function(e,t){Ci.node||(this._tooltipContent.hide(),ip("itemTooltip",t))}}),Ni({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),Ni({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),Gc.prototype={constructor:Gc,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToRadius:mr.prototype.dataToCoord,radiusToData:mr.prototype.coordToData},we(Gc,mr),Uc.prototype={constructor:Uc,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToAngle:mr.prototype.dataToCoord,angleToData:mr.prototype.coordToData},we(Uc,mr);var mh=function(e){this.name=e||"",this.cx=0,this.cy=0,this._radiusAxis=new Gc,this._angleAxis=new Uc,this._radiusAxis.polar=this._angleAxis.polar=this};mh.prototype={type:"polar",axisPointerEnabled:!0,constructor:mh,dimensions:["radius","angle"],model:null,containPoint:function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},getAxis:function(e){return this["_"+e+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var t=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&t.push(n),i.scale.type===e&&t.push(i),t},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},dataToPoint:function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},pointToData:function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},pointToCoord:function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=this.getAngleAxis(),r=i.getExtent(),o=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);i.inverse?o=a-360:a=o+360;var s=Math.sqrt(t*t+n*n);t/=s,n/=s;for(var u=Math.atan2(-n,t)/Math.PI*180,d=u<o?1:-1;u<o||u>a;)u+=360*d;return[s,u]},coordToPoint:function(e){var t=e[0],n=e[1]/180*Math.PI;return[Math.cos(n)*t+this.cx,-Math.sin(n)*t+this.cy]}};var lm=Ii.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});Ye(lm.prototype,qs);Wl("angle",lm,C1,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),Wl("radius",lm,C1,{splitNumber:5}),Xr({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(e){var t;return this.ecModel.eachComponent(e,function(n){n.getCoordSysModel()===this&&(t=n)},this),t},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});var lN={dimensions:mh.prototype.dimensions,create:function(e,t){var n=[];return e.eachComponent("polar",function(i,r){var o=new mh(r);o.update=pT;var a=o.getRadiusAxis(),s=o.getAngleAxis(),u=i.findAxisModel("radiusAxis"),d=i.findAxisModel("angleAxis");S1(a,u),S1(s,d),function(e,t,n){var i=t.get("center"),r=n.getWidth(),o=n.getHeight();e.cx=vn(i[0],r),e.cy=vn(i[1],o);var a=e.getRadiusAxis(),s=Math.min(r,o)/2,u=vn(t.get("radius"),s);a.inverse?a.setExtent(u,0):a.setExtent(0,u)}(o,i,t),n.push(o),i.coordinateSystem=o,o.model=i}),e.eachSeries(function(i){if("polar"===i.get("coordinateSystem")){var r=e.queryComponents({mainType:"polar",index:i.get("polarIndex"),id:i.get("polarId")})[0];i.coordinateSystem=r.coordinateSystem}}),n}};Rr.register("polar",lN);var uN=["axisLine","axisLabel","axisTick","splitLine","splitArea"];uo.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,r=i.getRadiusAxis().getExtent(),o=n.getTicksCoords();"category"!==n.type&&o.pop(),de(uN,function(a){!e.get(a+".show")||n.scale.isBlank()&&"axisLine"!==a||this["_"+a](e,i,o,r)},this)}},_axisLine:function(e,t,n,i){var r=e.getModel("axisLine.lineStyle"),o=new Fs({shape:{cx:t.cx,cy:t.cy,r:i[gp(t)]},style:r.getLineStyle(),z2:1,silent:!0});o.style.fill=null,this.group.add(o)},_axisTick:function(e,t,n,i){var r=e.getModel("axisTick"),o=(r.get("inside")?-1:1)*r.get("length"),a=i[gp(t)],s=Me(n,function(u){return new Co({shape:M1(t,[a,a+o],u)})});this.group.add(Pa(s,{style:At(r.getModel("lineStyle").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})}))},_axisLabel:function(e,t,n,i){for(var r=e.axis,o=e.getCategories(),a=e.getModel("axisLabel"),s=e.getFormattedLabels(),u=a.get("margin"),d=r.getLabelsCoords(),h=0;h<n.length;h++){var g=i[gp(t)],m=t.coordToPoint([g+u,d[h]]),y=t.cx,I=t.cy,j=Math.abs(m[0]-y)/g<.3?"center":m[0]>y?"left":"right",q=Math.abs(m[1]-I)/g<.3?"middle":m[1]>I?"top":"bottom";o&&o[h]&&o[h].textStyle&&(a=new Kn(o[h].textStyle,a,a.ecModel));var K=new Si({silent:!0});this.group.add(K),Ze(K.style,a,{x:m[0],y:m[1],textFill:a.getTextColor()||e.get("axisLine.lineStyle.color"),text:s[h],textAlign:j,textVerticalAlign:q})}},_splitLine:function(e,t,n,i){var r=e.getModel("splitLine").getModel("lineStyle"),o=r.get("color"),a=0;o=o instanceof Array?o:[o];for(var s=[],u=0;u<n.length;u++){var d=a++%o.length;s[d]=s[d]||[],s[d].push(new Co({shape:M1(t,i,n[u])}))}for(u=0;u<s.length;u++)this.group.add(Pa(s[u],{style:At({stroke:o[u%o.length]},r.getLineStyle()),silent:!0,z:e.get("z")}))},_splitArea:function(e,t,n,i){var r=e.getModel("splitArea").getModel("areaStyle"),o=r.get("color"),a=0;o=o instanceof Array?o:[o];for(var s=[],u=Math.PI/180,d=-n[0]*u,h=Math.min(i[0],i[1]),g=Math.max(i[0],i[1]),m=e.get("clockwise"),y=1;y<n.length;y++){var I=a++%o.length;s[I]=s[I]||[],s[I].push(new Na({shape:{cx:t.cx,cy:t.cy,r0:h,r:g,startAngle:d,endAngle:-n[y]*u,clockwise:m},silent:!0})),d=-n[y]*u}for(y=0;y<s.length;y++)this.group.add(Pa(s[y],{style:At({fill:o[y%o.length]},r.getAreaStyle()),silent:!0}))}});var cN=["axisLine","axisTickLabel","axisName"],dN=["splitLine","splitArea"];uo.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,r=i.getAngleAxis(),o=n.getTicksCoords(),a=r.getExtent()[0],s=n.getExtent(),u=function(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}(i,e,a),d=new Or(e,u);de(cN,d.add,d),this.group.add(d.getGroup()),de(dN,function(h){e.get(h+".show")&&!n.scale.isBlank()&&this["_"+h](e,i,a,s,o)},this)}},_splitLine:function(e,t,n,i,r){var o=e.getModel("splitLine").getModel("lineStyle"),a=o.get("color"),s=0;a=a instanceof Array?a:[a];for(var u=[],d=0;d<r.length;d++){var h=s++%a.length;u[h]=u[h]||[],u[h].push(new Fs({shape:{cx:t.cx,cy:t.cy,r:r[d]},silent:!0}))}for(d=0;d<u.length;d++)this.group.add(Pa(u[d],{style:At({stroke:a[d%a.length],fill:null},o.getLineStyle()),silent:!0}))},_splitArea:function(e,t,n,i,r){var o=e.getModel("splitArea").getModel("areaStyle"),a=o.get("color"),s=0;a=a instanceof Array?a:[a];for(var u=[],d=r[0],h=1;h<r.length;h++){var g=s++%a.length;u[g]=u[g]||[],u[g].push(new Na({shape:{cx:t.cx,cy:t.cy,r0:d,r:r[h],startAngle:0,endAngle:2*Math.PI},silent:!0})),d=r[h]}for(h=0;h<u.length;h++)this.group.add(Pa(u[h],{style:At({fill:a[h%a.length]},o.getAreaStyle()),silent:!0}))}});var hN=Cl.extend({makeElOption:function(e,t,n,i,r){var o=n.axis;"angle"===o.dim&&(this.animationThreshold=Math.PI/18);var a,s=o.polar,u=s.getOtherAxis(o).getExtent();a=o["dataTo"+cc(o.dim)](t);var d=i.get("type");if(d&&"none"!==d){var h=op(i),g=fN[d](o,s,a,u,h);g.style=h,e.graphicKey=g.type,e.pointer=g}Jy(e,n,i,r,function(e,t,n,i,r){var o=t.axis,a=o.dataToCoord(e),s=i.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var u,d,h,g=i.getRadiusAxis().getExtent();if("radius"===o.dim){var m=ri();Tn(m,m,s),an(m,m,[i.cx,i.cy]),u=pi([a,-r],m);var y=t.getModel("axisLabel").get("rotate")||0,I=Or.innerTextLayout(s,y*Math.PI/180,-1);d=I.textAlign,h=I.textVerticalAlign}else{var j=g[1];u=i.coordToPoint([j+r,a]);var q=i.cx,K=i.cy;d=Math.abs(u[0]-q)/j<.3?"center":u[0]>q?"left":"right",h=Math.abs(u[1]-K)/j<.3?"middle":u[1]>K?"top":"bottom"}return{position:u,align:d,verticalAlign:h}}(t,n,0,s,i.get("label.margin")))}}),fN={line:function(e,t,n,i,r){return"angle"===e.dim?{type:"Line",shape:sp(t.coordToPoint([i[0],n]),t.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,i,r){var o=e.getBandWidth(),a=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:n1(t.cx,t.cy,i[0],i[1],(-n-o/2)*a,(o/2-n)*a)}:{type:"Sector",shape:n1(t.cx,t.cy,n-o/2,n+o/2,0,2*Math.PI)}}};uo.registerAxisPointerClass("PolarAxisPointer",hN),rr(Ne(function(e,t,n){var i=n.getWidth(),r=n.getHeight(),o={},a={},s=function(e,t){var n={};de(e,function(r,o){var a=r.getData(),s=r.coordinateSystem.getBaseAxis(),u=s.getExtent(),d="category"===s.type?s.getBandWidth():Math.abs(u[1]-u[0])/a.count(),h=n[pp(s)]||{bandWidth:d,remainedWidth:d,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},g=h.stacks;n[pp(s)]=h;var m=w1(r);g[m]||h.autoWidthCount++,g[m]=g[m]||{width:0,maxWidth:0};var y=vn(r.get("barWidth"),d),I=vn(r.get("barMaxWidth"),d),j=r.get("barGap"),q=r.get("barCategoryGap");y&&!g[m].width&&(y=Math.min(h.remainedWidth,y),g[m].width=y,h.remainedWidth-=y),I&&(g[m].maxWidth=I),null!=j&&(h.gap=j),null!=q&&(h.categoryGap=q)});var i={};return de(n,function(r,o){i[o]={};var a=r.stacks,u=vn(r.categoryGap,r.bandWidth),d=vn(r.gap,1),h=r.remainedWidth,g=r.autoWidthCount,m=(h-u)/(g+(g-1)*d);m=Math.max(m,0),de(a,function(q,K){var te=q.maxWidth;te&&te<m&&(te=Math.min(te,h),q.width&&(te=Math.min(te,q.width)),h-=te,q.width=te,g--)}),m=(h-u)/(g+(g-1)*d),m=Math.max(m,0);var y,I=0;de(a,function(q,K){q.width||(q.width=m),y=q,I+=q.width*(1+d)}),y&&(I-=y.width*d);var j=-I/2;de(a,function(q,K){i[o][K]=i[o][K]||{offset:j,width:q.width},j+=q.width*(1+d)})}),i}(ft(t.getSeriesByType(e),function(u){return!t.isSeriesFiltered(u)&&u.coordinateSystem&&"polar"===u.coordinateSystem.type}));t.eachSeriesByType(e,function(u){if("polar"===u.coordinateSystem.type){var d=u.getData(),h=u.coordinateSystem,g=h.getAngleAxis(),m=h.getBaseAxis(),y=w1(u),I=s[pp(m)][y],j=I.offset,q=I.width,K=h.getOtherAxis(m),te=u.get("center")||["50%","50%"],ue=vn(te[0],i),be=vn(te[1],r),ke=u.get("barMinHeight")||0,Be=u.get("barMinAngle")||0,We=K.getExtent()[0],qe=K.model.get("max"),gt=K.model.get("min"),tn=[d.mapDimension("radius"),d.mapDimension("angle")],Jt=d.mapArray(tn,function(un,Mn){return h.dataToPoint([un,Mn])},!0);o[y]=o[y]||[],a[y]=a[y]||[],d.each(d.mapDimension(K.dim),function(un,Mn){if(!isNaN(un)){o[y][Mn]||(o[y][Mn]={p:We,n:We},a[y][Mn]={p:We,n:We});var xn,kn,Wn,Vn,Jn=un>=0?"p":"n",zn=h.pointToCoord(Jt[Mn]),Di=a[y][Mn][Jn];if("radius"===K.dim)xn=Di,kn=zn[0],Vn=(Wn=(-zn[1]+j)*Math.PI/180)+q*Math.PI/180,Math.abs(kn)<ke&&(kn=xn+(kn<0?-1:1)*ke),a[y][Mn][Jn]=kn;else{kn=(xn=zn[0]+j)+q,null!=qe&&(un=Math.min(un,qe)),null!=gt&&(un=Math.max(un,gt));var ci=g.dataToAngle(un);Math.abs(ci-Di)<Be&&(ci=Di-(un<0?-1:1)*Be),Wn=-Di*Math.PI/180,Vn=-ci*Math.PI/180;var Qi=g.getExtent(),Dr=ci;Dr===Qi[0]&&un>0?Dr=Qi[1]:Dr===Qi[1]&&un<0&&(Dr=Qi[0]),a[y][Mn][Jn]=Dr}d.setItemLayout(Mn,{cx:ue,cy:be,r0:xn,r:kn,startAngle:Wn,endAngle:Vn})}},!0)}},this)},"bar")),br({type:"polar"}),Ke(Ii.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(e){Ii.prototype.init.apply(this,arguments),$(e,"label",["show"])},optionUpdated:function(){var e=this.option,t=this;e.regions=Qb.getFilledRegions(e.regions,e.map,e.nameMap),this._optionModelMap=zt(e.regions||[],function(n,i){return i.name&&n.set(i.name,new Kn(i,t)),n},st()),this.updateSelectedMap(e.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap.get(e)||new Kn(null,this,this.ecModel)},getFormattedLabel:function(e,t){var n=this.getRegionModel(e).get("label."+t+".formatter"),i={name:e};return"function"==typeof n?(i.status=t,n(i)):"string"==typeof n?n.replace("{a}",null!=e?e:""):void 0},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}}),Vg),br({type:"geo",init:function(e,t){var n=new Sc(t,!0);this._mapDraw=n,this.group.add(n.group)},render:function(e,t,n,i){if(!i||"geoToggleSelect"!==i.type||i.from!==this.uid){var r=this._mapDraw;e.get("show")?r.draw(e,t,n,this,i):this._mapDraw.group.removeAll(),this.group.silent=e.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),mp("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),mp("select",{type:"geoSelect",event:"geoselected"}),mp("unSelect",{type:"geoUnSelect",event:"geounselected"});var pN=["rect","polygon","keep","clear"],K_=de,um={lineX:A1(0),lineY:A1(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&Ts(n.range,e[0],e[1])},rect:function(e,t,n){var i=n.range;if(!e||i.length<=1)return!1;var r=e.x,o=e.y,a=e.width,s=e.height,u=i[0];return!!(Ts(i,r,o)||Ts(i,r+a,o)||Ts(i,r,o+s)||Ts(i,r+a,o+s)||li.create(e).contain(u[0],u[1])||jc(r,o,r+a,o,i)||jc(r,o,r,o+s,i)||jc(r+a,o,r+a,o+s,i)||jc(r,o+s,r+a,o+s,i))||void 0}}},ps=de,vh=Qe,yh=Ne,cm=["dataToPoint","pointToData"],gN=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Jl=qc.prototype;Jl.setOutputRanges=function(e,t){this.matchOutputRanges(e,t,function(n,i,r){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var o=dm[n.brushType](0,r,i);n.__rangeOffset={offset:ew[n.brushType](o.values,n.range,[1,1]),xyMinMax:o.xyMinMax}}})},Jl.matchOutputRanges=function(e,t,n){ps(e,function(i){var r=this.findTargetInfo(i,t);r&&!0!==r&&de(r.coordSyses,function(o){var a=dm[i.brushType](1,o,i.range);n(i,a.values,o,t)})},this)},Jl.setInputRanges=function(e,t){ps(e,function(n){var i=this.findTargetInfo(n,t);if(n.range=n.range||[],i&&!0!==i){n.panelId=i.panelId;var r=dm[n.brushType](0,i.coordSys,n.coordRange),o=n.__rangeOffset;n.range=o?ew[n.brushType](r.values,o.offset,function(e,t){var n=P1(e),i=P1(t),r=[n[0]/i[0],n[1]/i[1]];return isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r}(r.xyMinMax,o.xyMinMax)):r.values}},this)},Jl.makePanelOpts=function(e,t){return Me(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t&&t(n),clipPath:_y(i),isTargetByCursor:Cy(i,e,n.coordSysModel),getLinearBrushOtherExtent:wy(i)}})},Jl.controlSeries=function(e,t,n){var i=this.findTargetInfo(e,n);return!0===i||i&&vh(i.coordSyses,t.coordinateSystem)>=0},Jl.findTargetInfo=function(e,t){for(var n=this._targetInfoList,i=I1(t,e),r=0;r<n.length;r++){var o=n[r],a=e.panelId;if(a){if(o.panelId===a)return o}else for(r=0;r<J_.length;r++)if(J_[r](i,o))return o}return!0};var mN={grid:function(e,t){var n=e.xAxisModels,i=e.yAxisModels,r=e.gridModels,o=st(),a={},s={};(n||i||r)&&(ps(n,function(u){var d=u.axis.grid.model;o.set(d.id,d),a[d.id]=!0}),ps(i,function(u){var d=u.axis.grid.model;o.set(d.id,d),s[d.id]=!0}),ps(r,function(u){o.set(u.id,u),a[u.id]=!0,s[u.id]=!0}),o.each(function(u){var h=[];ps(u.coordinateSystem.getCartesians(),function(g,m){(vh(n,g.getAxis("x").model)>=0||vh(i,g.getAxis("y").model)>=0)&&h.push(g)}),t.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:h[0],coordSyses:h,getPanelRect:Q_.grid,xAxisDeclared:a[u.id],yAxisDeclared:s[u.id]})}))},geo:function(e,t){ps(e.geoModels,function(n){var i=n.coordinateSystem;t.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:i,coordSyses:[i],getPanelRect:Q_.geo})})}},J_=[function(e,t){var n=e.xAxisModel,i=e.yAxisModel,r=e.gridModel;return!r&&n&&(r=n.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],Q_={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(mi(e)),t}},dm={lineX:yh(D1,0),lineY:yh(D1,1),rect:function(e,t,n){var i=t[cm[e]]([n[0][0],n[1][0]]),r=t[cm[e]]([n[0][1],n[1][1]]),o=[xp([i[0],r[0]]),xp([i[1],r[1]])];return{values:o,xyMinMax:o}},polygon:function(e,t,n){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:Me(n,function(r){var o=t[cm[e]](r);return i[0][0]=Math.min(i[0][0],o[0]),i[1][0]=Math.min(i[1][0],o[1]),i[0][1]=Math.max(i[0][1],o[0]),i[1][1]=Math.max(i[1][1],o[1]),o}),xyMinMax:i}}},ew={lineX:yh(N1,0),lineY:yh(N1,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return Me(e,function(i,r){return[i[0]-n[0]*t[r][0],i[1]-n[1]*t[r][1]]})}},tw=["inBrush","outOfBrush"],hm="__ecBrushSelect",fm="__ecInBrushSelectEvent",nw=Fl.VISUAL.BRUSH;rr(nw,function(e,t,n){e.eachComponent({mainType:"brush"},function(i){n&&"takeGlobalCursor"===n.type&&i.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1}),(i.brushTargetManager=new qc(i.option,e)).setInputRanges(i.areas,e)})}),Xi(nw,function(e,t,n){var i,r,o=[];e.eachComponent({mainType:"brush"},function(a,s){function u(ke){return"all"===I||j[ke]}function d(ke){return!!ke.length}var m={brushId:a.id,brushIndex:s,brushName:a.name,areas:hn(a.areas),selected:[]};o.push(m);var y=a.option,I=y.brushLink,j=[],q=[],K=[],te=0;s||(i=y.throttleType,r=y.throttleDelay);var ue=Me(a.areas,function(ke){return function(e){var t=e.selectors={};return de(um[e.brushType],function(n,i){t[i]=function(r){return n(r,t,e)}}),e}(At({boundingRect:vN[ke.brushType](ke)},ke))}),be=vp(a.option,tw,function(ke){ke.mappingMethod="fixed"});me(I)&&de(I,function(ke){j[ke]=1}),e.eachSeries(function(ke,Be){var We=K[Be]=[];"parallel"===ke.subType?function(ke,Be){var We=ke.coordinateSystem;te|=We.hasAxisBrushed(),u(Be)&&We.eachActiveState(ke.getData(),function(qe,gt){"active"===qe&&(q[gt]=1)})}(ke,Be):function(ke,Be,We){var qe=E1(ke);if(qe&&!function(e,t){var n=e.option.seriesIndex;return null!=n&&"all"!==n&&(me(n)?Qe(n,t)<0:t!==n)}(a,Be)&&(de(ue,function(tn){qe[tn.brushType]&&a.brushTargetManager.controlSeries(tn,ke,e)&&We.push(tn),te|=d(We)}),u(Be)&&d(We))){var gt=ke.getData();gt.each(function(tn){L1(qe,We,gt,tn)&&(q[tn]=1)})}}(ke,Be,We)}),e.eachSeries(function(ke,Be){var We={seriesId:ke.id,seriesIndex:Be,seriesName:ke.name,dataIndex:[]};m.selected.push(We);var qe=E1(ke),gt=K[Be],tn=ke.getData(),Jt=u(Be)?function(un){return q[un]?(We.dataIndex.push(tn.getRawIndex(un)),"inBrush"):"outOfBrush"}:function(un){return L1(qe,gt,tn,un)?(We.dataIndex.push(tn.getRawIndex(un)),"inBrush"):"outOfBrush"};(u(Be)?te:d(gt))&&function(e,t,n,i,r,o){function a(g){return n.getItemVisual(h,g)}function s(g,m){n.setItemVisual(h,g,m)}function u(g,m){var y=n.getRawDataItem(h=g);if(!y||!1!==y.visualMap)for(var I=i.call(undefined,g),j=t[I],q=d[I],K=0,te=q.length;K<te;K++){var ue=q[K];j[ue]&&j[ue].applyVisual(g,a,s)}}var h,d={};de(e,function(g){var m=Oi.prepareVisualTypes(t[g]);d[g]=m}),n.each(u,!0)}(tw,be,tn,Jt)})}),function(e,t,n,i,r){if(r){var o=e.getZr();o[fm]||(o[hm]||(o[hm]=ST),ru(o,hm,n,t)(e,i))}}(t,i,r,o,n)});var vN={lineX:Zt,lineY:Zt,rect:function(e){return R1(e.range)},polygon:function(e){for(var t,n=e.range,i=0,r=n.length;i<r;i++){var o=n[i];o[0]<(t=t||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(t[0][0]=o[0]),o[0]>t[0][1]&&(t[0][1]=o[0]),o[1]<t[1][0]&&(t[1][0]=o[1]),o[1]>t[1][1]&&(t[1][1]=o[1])}return t&&R1(t)}},yN=["#ddd"];Xr({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(e,t){var n=this.option;!t&&k1(n,e,["inBrush","outOfBrush"]),n.inBrush=n.inBrush||{},n.outOfBrush=n.outOfBrush||{color:yN}},setAreas:function(e){e&&(this.areas=Me(e,function(t){return B1(this.option,t)},this))},setBrushOption:function(e){this.brushOption=B1(this.option,e),this.brushType=this.brushOption.brushType}}),br({type:"brush",init:function(e,t){this.ecModel=e,this.api=t,(this._brushController=new bl(t.getZr())).on("brush",ot(this._onBrush,this)).mount()},render:function(e){return this.model=e,O1.apply(this,arguments)},updateView:O1,dispose:function(){this._brushController.dispose()},_onBrush:function(e,t){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(e,this.ecModel),(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:hn(e),$from:n})}}),Ni({type:"brush",event:"brush"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(n){n.setAreas(e.areas)})}),Ni({type:"brushSelect",event:"brushSelected",update:"none"},function(){});var iw={};bp.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:hn(ns.toolbox.brush.title)};var xh=bp.prototype;xh.render=xh.updateView=function(e,t,n){var i,r,o;t.eachComponent({mainType:"brush"},function(a){i=a.brushType,r=a.brushOption.brushMode||"single",o|=a.areas.length}),this._brushType=i,this._brushMode=r,de(e.get("type",!0),function(a){e.setIconStatus(a,("keep"===a?"multiple"===r:"clear"===a?o:a===i)?"emphasis":"normal")})},xh.getIcons=function(){var e=this.model,t=e.get("icon",!0),n={};return de(e.get("type",!0),function(i){t[i]&&(n[i]=t[i])}),n},xh.onclick=function(e,t,n){var i=this._brushType,r=this._brushMode;"clear"===n?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===r?"single":"multiple":r}})},Sl("brush",bp),Ir(function(e,t){var n=e&&e.brush;if(me(n)||(n=n?[n]:[]),n.length){var i=[];de(n,function(u){var d=u.hasOwnProperty("toolbox")?u.toolbox:[];d instanceof Array&&(i=i.concat(d))});var r=e&&e.toolbox;me(r)&&(r=r[0]),r||(e.toolbox=[r={feature:{}}]);var o=r.feature||(r.feature={}),a=o.brush||(o.brush={}),s=a.type||(a.type=[]);s.push.apply(s,i),function(e){var t={};de(e,function(n){t[n]=1}),e.length=0,de(t,function(n,i){e.push(i)})}(s),t&&!s.length&&s.push.apply(s,pN)}}),Ia.prototype={constructor:Ia,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"}]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(e){var t=(e=nu(e)).getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var i=e.getDate();i=i<10?"0"+i:i;var r=e.getDay();return{y:t,m:n,d:i,day:r=Math.abs((r+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+n+"-"+i,date:e}},getNextNDay:function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},update:function(e,t){function n(h,g){return null!=h[g]&&"auto"!==h[g]}this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],o=this._model.get("cellSize").slice(),a=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[i,7]:[7,i];de([0,1],function(h){n(o,h)&&(a[r[h]]=o[h]*s[h])});var u={width:t.getWidth(),height:t.getHeight()},d=this._rect=xr(a,u);de([0,1],function(h){n(o,h)||(o[h]=d[r[h]]/s[h])}),this._sw=o[0],this._sh=o[1]},dataToPoint:function(e,t){me(e)&&(e=e[0]),null==t&&(t=!0);var n=this.getDateInfo(e),i=this._rangeInfo;if(t&&!(n.time>=i.start.time&&n.time<=i.end.time))return[NaN,NaN];var o=n.day,a=this._getRangeInfo([i.start.time,n.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},pointToData:function(e){var t=this.pointToDate(e);return t&&t.time},dataToRect:function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},pointToDate:function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,t-1,i):this._getDateByWeeksAndDay(t,n-1,i)},convertToPixel:Ne(F1,"dataToPoint"),convertFromPixel:Ne(F1,"pointToData"),_initRangeOption:function(){var e=this._model.get("range"),t=e;if(me(t)&&1===t.length&&(t=t[0]),/^\d{4}$/.test(t)&&(e=[t+"-01-01",t+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(t)){var n=this.getDateInfo(t),i=n.date;i.setMonth(i.getMonth()+1);var r=this.getNextNDay(i,-1);e=[n.formatedDate,r.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(t)&&(e=[t,t]);var o=this._getRangeInfo(e);return o.start.time>o.end.time&&e.reverse(),e},_getRangeInfo:function(e){var t;(e=[this.getDateInfo(e[0]),this.getDateInfo(e[1])])[0].time>e[1].time&&(t=!0,e.reverse());var n=Math.floor(e[1].time/864e5)-Math.floor(e[0].time/864e5)+1,i=new Date(e[0].time),r=i.getDate(),o=e[1].date.getDate();if(i.setDate(r+n-1),i.getDate()!==o)for(var a=i.getTime()-e[1].time>0?1:-1;i.getDate()!==o&&(i.getTime()-e[1].time)*a>0;)i.setDate(r+(n-=a)-1);var s=Math.floor((n+e[0].day+6)/7),u=t?1-s:s-1;return t&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:n,weeks:s,nthWeek:u,fweek:e[0].day,lweek:e[1].day}},_getDateByWeeksAndDay:function(e,t,n){var i=this._getRangeInfo(n);if(e>i.weeks||0===e&&t<i.fweek||e===i.weeks&&t>i.lweek)return!1;var r=7*(e-1)-i.fweek+t,o=new Date(i.start.time);return o.setDate(i.start.d+r),this.getDateInfo(o)}},Ia.dimensions=Ia.prototype.dimensions,Ia.getDimensionsInfo=Ia.prototype.getDimensionsInfo,Ia.create=function(e,t){var n=[];return e.eachComponent("calendar",function(i){var r=new Ia(i,e,t);n.push(r),i.coordinateSystem=r}),e.eachSeries(function(i){"calendar"===i.get("coordinateSystem")&&(i.coordinateSystem=n[i.get("calendarIndex")||0])}),n},Rr.register("calendar",Ia);var rw=Ii.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(e,t,n,i){var r=dl(e);rw.superApply(this,"init",arguments),V1(e,r)},mergeOption:function(e,t){rw.superApply(this,"mergeOption",arguments),V1(this.option,e)}}),bN={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]},_N={EN:["S","M","T","W","T","F","S"],CN:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]};br({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(e,t,n){var i=this.group;i.removeAll();var r=e.coordinateSystem,o=r.getRangeInfo(),a=r.getOrient();this._renderDayRect(e,o,i),this._renderLines(e,o,a,i),this._renderYearText(e,o,a,i),this._renderMonthText(e,a,i),this._renderWeekText(e,o,a,i)},_renderDayRect:function(e,t,n){for(var i=e.coordinateSystem,r=e.getModel("itemStyle").getItemStyle(),o=i.getCellWidth(),a=i.getCellHeight(),s=t.start.time;s<=t.end.time;s=i.getNextNDay(s,1).time){var u=i.dataToRect([s],!1).tl,d=new Gi({shape:{x:u[0],y:u[1],width:o,height:a},cursor:"default",style:r});n.add(d)}},_renderLines:function(e,t,n,i){function r(y){o._firstDayOfMonth.push(a.getDateInfo(y)),o._firstDayPoints.push(a.dataToRect([y],!1).tl);var I=o._getLinePointsOfOneWeek(e,y,n);o._tlpoints.push(I[0]),o._blpoints.push(I[I.length-1]),u&&o._drawSplitline(I,s,i)}var o=this,a=e.coordinateSystem,s=e.getModel("splitLine.lineStyle").getLineStyle(),u=e.get("splitLine.show"),d=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var h=t.start,g=0;h.time<=t.end.time;g++){r(h.formatedDate),0===g&&(h=a.getDateInfo(t.start.y+"-"+t.start.m));var m=h.date;m.setMonth(m.getMonth()+1),h=a.getDateInfo(m)}r(a.getNextNDay(t.end.time,1).formatedDate),u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,d,n),s,i),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,d,n),s,i)},_getEdgesPoints:function(e,t,n){var i=[e[0].slice(),e[e.length-1].slice()],r="horizontal"===n?0:1;return i[0][r]=i[0][r]-t/2,i[1][r]=i[1][r]+t/2,i},_drawSplitline:function(e,t,n){var i=new ra({z2:20,shape:{points:e},style:t});n.add(i)},_getLinePointsOfOneWeek:function(e,t,n){var i=e.coordinateSystem;t=i.getDateInfo(t);for(var r=[],o=0;o<7;o++){var a=i.getNextNDay(t.time,o),s=i.dataToRect([a.time],!1);r[2*a.day]=s.tl,r[2*a.day+1]=s["horizontal"===n?"bl":"tr"]}return r},_formatterLabel:function(e,t){return"string"==typeof e&&e?Xm(e,t):"function"==typeof e?e(t):t.nameMap},_yearTextPositionControl:function(e,t,n,i,r){t=t.slice();var o=["center","bottom"];"bottom"===i?(t[1]+=r,o=["center","top"]):"left"===i?t[0]-=r:"right"===i?(t[0]+=r,o=["center","top"]):t[1]-=r;var a=0;return"left"!==i&&"right"!==i||(a=Math.PI/2),{rotation:a,position:t,style:{textAlign:o[0],textVerticalAlign:o[1]}}},_renderYearText:function(e,t,n,i){var r=e.getModel("yearLabel");if(r.get("show")){var o=r.get("margin"),a=r.get("position");a||(a="horizontal"!==n?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],u=(s[0][0]+s[1][0])/2,d=(s[0][1]+s[1][1])/2,h="horizontal"===n?0:1,g={top:[u,s[h][1]],bottom:[u,s[1-h][1]],left:[s[1-h][0],d],right:[s[h][0],d]},m=t.start.y;+t.end.y>+t.start.y&&(m=m+"-"+t.end.y);var y=r.get("formatter"),j=this._formatterLabel(y,{start:t.start.y,end:t.end.y,nameMap:m}),q=new Si({z2:30});Ze(q.style,r,{text:j}),q.attr(this._yearTextPositionControl(q,g[a],n,a,o)),i.add(q)}},_monthTextPositionControl:function(e,t,n,i,r){var o="left",a="top",s=e[0],u=e[1];return"horizontal"===n?(u+=r,t&&(o="center"),"start"===i&&(a="bottom")):(s+=r,t&&(a="middle"),"start"===i&&(o="right")),{x:s,y:u,textAlign:o,textVerticalAlign:a}},_renderMonthText:function(e,t,n){var i=e.getModel("monthLabel");if(i.get("show")){var r=i.get("nameMap"),o=i.get("margin"),a=i.get("position"),s=i.get("align"),u=[this._tlpoints,this._blpoints];ze(r)&&(r=bN[r.toUpperCase()]||[]);var d="start"===a?0:1,h="horizontal"===t?0:1;o="start"===a?-o:o;for(var g="center"===s,m=0;m<u[d].length-1;m++){var y=u[d][m].slice(),I=this._firstDayOfMonth[m];g&&(y[h]=(this._firstDayPoints[m][h]+u[0][m+1][h])/2);var q=i.get("formatter"),K=r[+I.m-1],te={yyyy:I.y,yy:(I.y+"").slice(2),MM:I.m,M:+I.m,nameMap:K},ue=this._formatterLabel(q,te),be=new Si({z2:30});On(Ze(be.style,i,{text:ue}),this._monthTextPositionControl(y,g,t,a,o)),n.add(be)}}},_weekTextPositionControl:function(e,t,n,i,r){var o="center",a="middle",s=e[0],u=e[1],d="start"===n;return"horizontal"===t?(s=s+i+(d?1:-1)*r[0]/2,o=d?"right":"left"):(u=u+i+(d?1:-1)*r[1]/2,a=d?"bottom":"top"),{x:s,y:u,textAlign:o,textVerticalAlign:a}},_renderWeekText:function(e,t,n,i){var r=e.getModel("dayLabel");if(r.get("show")){var o=e.coordinateSystem,a=r.get("position"),s=r.get("nameMap"),u=r.get("margin"),d=o.getFirstDayOfWeek();ze(s)&&(s=_N[s.toUpperCase()]||[]);var h=o.getNextNDay(t.end.time,7-t.lweek).time,g=[o.getCellWidth(),o.getCellHeight()];u=vn(u,g["horizontal"===n?0:1]),"start"===a&&(h=o.getNextNDay(t.start.time,-(7+t.fweek)).time,u=-u);for(var m=0;m<7;m++){var j,y=o.getNextNDay(h,m),I=o.dataToRect([y.time],!1).center;j=Math.abs((m+d)%7);var q=new Si({z2:30});On(Ze(q.style,r,{text:s[j]}),this._weekTextPositionControl(I,n,a,u,g)),i.add(q)}}}}),Xr({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),br({type:"title",render:function(e,t,n){if(this.group.removeAll(),e.get("show")){var i=this.group,r=e.getModel("textStyle"),o=e.getModel("subtextStyle"),a=e.get("textAlign"),s=e.get("textBaseline"),u=new Si({style:Ze({},r,{text:e.get("text"),textFill:r.getTextColor()},{disableBox:!0}),z2:10}),d=u.getBoundingRect(),h=e.get("subtext"),g=new Si({style:Ze({},o,{text:h,textFill:o.getTextColor(),y:d.height+e.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),m=e.get("link"),y=e.get("sublink");u.silent=!m,g.silent=!y,m&&u.on("click",function(){window.open(m,"_"+e.get("target"))}),y&&g.on("click",function(){window.open(y,"_"+e.get("subtarget"))}),i.add(u),h&&i.add(g);var I=i.getBoundingRect(),j=e.getBoxLayoutParams();j.width=I.width,j.height=I.height;var q=xr(j,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));a||("middle"===(a=e.get("left")||e.get("right"))&&(a="center"),"right"===a?q.x+=q.width:"center"===a&&(q.x+=q.width/2)),s||("center"===(s=e.get("top")||e.get("bottom"))&&(s="middle"),"bottom"===s?q.y+=q.height:"middle"===s&&(q.y+=q.height/2),s=s||"top"),i.attr("position",[q.x,q.y]);var K={textAlign:a,textVerticalAlign:s};u.setStyle(K),g.setStyle(K),I=i.getBoundingRect();var te=q.margin,ue=e.getItemStyle(["color","opacity"]);ue.fill=e.get("backgroundColor");var be=new Gi({shape:{x:I.x-te[3],y:I.y-te[0],width:I.width+te[1]+te[3],height:I.height+te[0]+te[2],r:e.get("borderRadius")},style:ue,silent:!0});l(be),i.add(be)}}}),Ii.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var wN=["cartesian2d","polar","singleAxis"],ow=function(e,t){var n=Me(e=e.slice(),cc),i=Me(t=(t||[]).slice(),cc);return function(r,o){de(e,function(a,s){for(var u={name:a,capital:n[s]},d=0;d<t.length;d++)u[t[d]]=a+i[d];r.call(o,u)})}}(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]),Ra=de,aw=ws,pm=function(e,t,n,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=n};pm.prototype={constructor:pm,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var e=[],t=this.ecModel;return t.eachSeries(function(n){if(function(e){return Qe(wN,e)>=0}(n.get("coordinateSystem"))){var i=this._dimName,r=t.queryComponents({mainType:i+"Axis",index:n.get(i+"AxisIndex"),id:n.get(i+"AxisId")})[0];this._axisIndex===(r&&r.componentIndex)&&e.push(n)}},this),e},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e,t,o,n=this._dimName,i=this.ecModel,r=this.getAxisModel();return"x"===n||"y"===n?(t="gridIndex",e="x"===n?"y":"x"):(t="polarIndex",e="angle"===n?"radius":"angle"),i.eachComponent(e+"Axis",function(a){(a.get(t)||0)===(r.get(t)||0)&&(o=a)}),o},getMinMaxSpan:function(){return hn(this._minMaxSpan)},calculateDataWindow:function(e){var t=this._dataExtent,n=this.getAxisModel().axis.scale,i=this._dataZoomModel.getRangePropMode(),r=[0,100],o=[e.start,e.end],a=[];return Ra(["startValue","endValue"],function(s){a.push(null!=e[s]?n.parse(e[s]):null)}),Ra([0,1],function(s){var u=a[s],d=o[s];"percent"===i[s]?(null==d&&(d=r[s]),u=n.parse(Ai(d,r,t,!0))):d=Ai(u,t,r,!0),a[s]=u,o[s]=d}),{valueWindow:aw(a),percentWindow:aw(o)}},reset:function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function(e,t,n){var i=[1/0,-1/0];return Ra(n,function(r){var o=r.getData();o&&Ra(o.mapDimension(t,!0),function(a){var s=o.getApproximateExtent(a);s[0]<i[0]&&(i[0]=s[0]),s[1]>i[1]&&(i[1]=s[1])})}),i[1]<i[0]&&(i=[NaN,NaN]),function(e,t){var n=e.getAxisModel(),i=n.getMin(!0),r="category"===n.get("type"),o=r&&n.getCategories().length;null!=i&&"dataMin"!==i&&"function"!=typeof i?t[0]=i:r&&(t[0]=o>0?0:NaN);var a=n.getMax(!0);null!=a&&"dataMax"!==a&&"function"!=typeof a?t[1]=a:r&&(t[1]=o>0?o-1:NaN),n.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0))}(e,i),i}(this,this._dimName,t),this.hasSeriesStacked=!1,Ra(t,function(i){var r=i.getData(),o=r.mapDimension(this._dimName);r.isStacked(o)&&(this.hasSeriesStacked=!0)},this);var n=this.calculateDataWindow(e.option);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,function(e){var t=e._minMaxSpan={},n=e._dataZoomModel;Ra(["min","max"],function(i){t[i+"Span"]=n.get(i+"Span");var r=n.get(i+"ValueSpan");if(null!=r&&(t[i+"ValueSpan"]=r,null!=(r=e.getAxisModel().axis.scale.parse(r)))){var o=e._dataExtent;t[i+"Span"]=Ai(o[0]+r,o,[0,100],!0)}})}(this),H1(this)}},restore:function(e){e===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,H1(this,!0))},filterData:function(e,t){if(e===this._dataZoomModel){var i=this._dimName,r=this.getTargetSeriesModels(),o=e.get("filterMode"),a=this._valueWindow;if("none"!==o){var s=this.getOtherAxisModel();e.get("$fromToolbox")&&s&&s.hasSeriesStacked&&(o="empty"),Ra(r,function(u){var d=u.getData(),h=d.mapDimension(i,!0);"weakFilter"===o?d.filterSelf(function(g){for(var m,y,I,j=0;j<h.length;j++){var q=d.get(h[j],g),K=!isNaN(q),te=q<a[0],ue=q>a[1];if(K&&!te&&!ue)return!0;K&&(I=!0),te&&(m=!0),ue&&(y=!0)}return I&&m&&y}):Ra(h,function(g){if("empty"===o)u.setData(d.map(g,function(y){return function(u){return u>=a[0]&&u<=a[1]}(y)?y:NaN}));else{var m={};m[g]=a,d.selectRange(m)}}),Ra(h,function(g){d.setApproximateExtent(a,g)})})}}}};var Ql=de,nl=ow,gm=Xr({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(e,t,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var i=W1(e);this.mergeDefaultAndTheme(e,n),this.doInit(i)},mergeOption:function(e){var t=W1(e);Ye(this.option,e,!0),this.doInit(t)},doInit:function(e){var t=this.option;Ci.canvasSupported||(t.realtime=!1),this._setDefaultThrottle(e),G1(this,e),Ql([["start","startValue"],["end","endValue"]],function(n,i){"value"===this._rangePropMode[i]&&(t[n[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(t,n,i,r){var o=this.dependentModels[t.axis][n],a=o.__dzAxisProxy||(o.__dzAxisProxy=new pm(t.name,n,this,r));e[t.name+"_"+n]=a},this)},_resetTarget:function(){var e=this.option,t=this._judgeAutoMode();nl(function(n){var i=n.axisIndex;e[i]=O(e[i])},this),"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,t=!1;nl(function(i){null!=e[i.axisIndex]&&(t=!0)},this);var n=e.orient;return null==n&&t?"orient":t?void 0:(null==n&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var e=!0,t=this.get("orient",!0),n=this.option,i=this.dependentModels;if(e){var r="vertical"===t?"y":"x";i[r+"Axis"].length?(n[r+"AxisIndex"]=[0],e=!1):Ql(i.singleAxis,function(o){e&&o.get("orient",!0)===t&&(n.singleAxisIndex=[o.componentIndex],e=!1)})}e&&nl(function(o){if(e){var a=[],s=this.dependentModels[o.axis];if(s.length&&!a.length)for(var u=0,d=s.length;u<d;u++)"category"===s[u].get("type")&&a.push(u);n[o.axisIndex]=a,a.length&&(e=!1)}},this),e&&this.ecModel.eachSeries(function(o){this._isSeriesHasAllAxesTypeOf(o,"value")&&nl(function(a){var s=n[a.axisIndex],u=o.get(a.axisIndex),d=o.get(a.axisId);Qe(s,u=o.ecModel.queryComponents({mainType:a.axis,index:u,id:d})[0].componentIndex)<0&&s.push(u)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){!e&&(e=t.name)},this),this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(e,t){var n=!0;return nl(function(i){var r=e.get(i.axisIndex),o=this.dependentModels[i.axis][r];o&&o.get("type")===t||(n=!1)},this),n},_setDefaultThrottle:function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var e;return nl(function(t){if(null==e){var n=this.get(t.axisIndex);n.length&&(e=this.dependentModels[t.axis][n[0]])}},this),e},eachTargetAxis:function(e,t){var n=this.ecModel;nl(function(i){Ql(this.get(i.axisIndex),function(r){e.call(t,i,r,this,n)},this)},this)},getAxisProxy:function(e,t){return this._axisProxies[e+"_"+t]},getAxisModel:function(e,t){var n=this.getAxisProxy(e,t);return n&&n.getAxisModel()},setRawRange:function(e,t){var n=this.option;Ql([["start","startValue"],["end","endValue"]],function(i){null==e[i[0]]&&null==e[i[1]]||(n[i[0]]=e[i[0]],n[i[1]]=e[i[1]])},this),!t&&G1(this,e)},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},getValueRange:function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(e){if(e)return e.__dzAxisProxy;var t=this._axisProxies;for(var n in t)if(t.hasOwnProperty(n)&&t[n].hostedBy(this))return t[n];for(var n in t)if(t.hasOwnProperty(n)&&!t[n].hostedBy(this))return t[n]},getRangePropMode:function(){return this._rangePropMode.slice()}}),mm=La.extend({type:"dataZoom",render:function(e,t,n,i){this.dataZoomModel=e,this.ecModel=t,this.api=n},getTargetCoordInfo:function(){var n=this.ecModel,i={};return this.dataZoomModel.eachTargetAxis(function(r,o){var a=n.getComponent(r.axis,o);if(a){var s=a.getCoordSysModel();s&&function(r,o,a,s){for(var u,d=0;d<a.length;d++)if(a[d].model===r){u=a[d];break}u||a.push(u={model:r,axisModels:[],coordIndex:s}),u.axisModels.push(o)}(s,a,i[s.mainType]||(i[s.mainType]=[]),s.componentIndex)}},this),i}}),bh=(gm.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),Gi),il=Ai,vm=ws,Ba=ot,ym=de,ic="horizontal",SN=["line","bar","candlestick","scatter"],xm=mm.extend({type:"dataZoom.slider",init:function(e,t){this._displayables={},this.api=t},render:function(e,t,n,i){xm.superApply(this,"render",arguments),ru(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=e.get("orient"),!1!==this.dataZoomModel.get("show")?(i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){xm.superApply(this,"remove",arguments),gv(this,"_dispatchZoomAction")},dispose:function(){xm.superApply(this,"dispose",arguments),gv(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll(),this._resetLocation(),this._resetInterval();var t=this._displayables.barGroup=new Un;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},_resetLocation:function(){var e=this.dataZoomModel,t=this.api,n=this._findCoordRect(),i={width:t.getWidth(),height:t.getHeight()},r=this._orient===ic?{right:i.width-n.x-n.width,top:i.height-30-7,width:n.width,height:30}:{right:7,top:n.y,width:30,height:n.height},o=dl(e.option);de(["right","top","width","height"],function(s){"ph"===o[s]&&(o[s]=r[s])});var a=xr(o,i,e.padding);this._location={x:a.x,y:a.y},this._size=[a.width,a.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var e=this.group,t=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),r=i&&i.get("inverse"),o=this._displayables.barGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n!==ic||r?n===ic&&r?{scale:a?[-1,1]:[-1,-1]}:"vertical"!==n||r?{scale:a?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:a?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:a?[1,1]:[1,-1]});var s=e.getBoundingRect([o]);e.attr("position",[t.x-s.x,t.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this._size,n=this._displayables.barGroup;n.add(new bh({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40})),n.add(new bh({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:ot(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(e){var t=this._size,n=e.series,i=n.getRawData(),r=n.getShadowDim?n.getShadowDim():e.otherDim;if(null!=r){var o=i.getDataExtent(r),a=.3*(o[1]-o[0]);o=[o[0]-a,o[1]+a];var s,u=[0,t[1]],h=[[t[0],0],[0,0]],g=[],m=t[0]/(i.count()-1),y=0,I=Math.round(i.count()/t[0]);i.each([r],function(q,K){if(I>0&&K%I)y+=m;else{var te=null==q||isNaN(q)||""===q,ue=te?0:il(q,o,u,!0);te&&!s&&K?(h.push([h[h.length-1][0],0]),g.push([g[g.length-1][0],0])):!te&&s&&(h.push([y,0]),g.push([y,0])),h.push([y,ue]),g.push([y,ue]),y+=m,s=te}});var j=this.dataZoomModel;this._displayables.barGroup.add(new wo({shape:{points:h},style:At({fill:j.get("dataBackgroundColor")},j.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new ra({shape:{points:g},style:j.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var n,i=this.ecModel;return e.eachTargetAxis(function(r,o){de(e.getAxisProxy(r.name,o).getTargetSeriesModels(),function(a){if(!(n||!0!==t&&Qe(SN,a.get("type"))<0)){var s,u=i.getComponent(r.axis,o).axis,d=function(e){return{x:"y",y:"x",radius:"angle",angle:"radius"}[e]}(r.name),h=a.coordinateSystem;null!=d&&h.getOtherAxis&&(s=h.getOtherAxis(u).inverse),d=a.getData().mapDimension(d),n={thisAxis:u,series:a,thisDim:r.name,otherDim:d,otherAxisInverse:s}}},this)},this),n}},_renderHandle:function(){var e=this._displayables,t=e.handles=[],n=e.handleLabels=[],i=this._displayables.barGroup,r=this._size,o=this.dataZoomModel;i.add(e.filler=new bh({draggable:!0,cursor:U1(this._orient),drift:Ba(this._onDragMove,this,"all"),onmousemove:function(a){Xa(a.event)},ondragstart:Ba(this._showDataInfo,this,!0),ondragend:Ba(this._onDragEnd,this),onmouseover:Ba(this._showDataInfo,this,!0),onmouseout:Ba(this._showDataInfo,this,!1),style:{fill:o.get("fillerColor"),textPosition:"inside"}})),i.add(new bh(l({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{stroke:o.get("dataBackgroundColor")||o.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}))),ym([0,1],function(a){var s=Wi(o.get("handleIcon"),{cursor:U1(this._orient),draggable:!0,drift:Ba(this._onDragMove,this,a),onmousemove:function(g){Xa(g.event)},ondragend:Ba(this._onDragEnd,this),onmouseover:Ba(this._showDataInfo,this,!0),onmouseout:Ba(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),u=s.getBoundingRect();this._handleHeight=vn(o.get("handleSize"),this._size[1]),this._handleWidth=u.width/u.height*this._handleHeight,s.setStyle(o.getModel("handleStyle").getItemStyle());var d=o.get("handleColor");null!=d&&(s.style.fill=d),i.add(t[a]=s);var h=o.textStyleModel;this.group.add(n[a]=new Si({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:h.getTextColor(),textFont:h.getFont()},z2:10}))},this)},_resetInterval:function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[il(e[0],[0,100],t,!0),il(e[1],[0,100],t,!0)]},_updateInterval:function(e,t){var n=this.dataZoomModel,i=this._handleEnds,r=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];$l(t,i,r,n.get("zoomLock")?"all":e,null!=o.minSpan?il(o.minSpan,a,r,!0):null,null!=o.maxSpan?il(o.maxSpan,a,r,!0):null),this._range=vm([il(i[0],r,a,!0),il(i[1],r,a,!0)])},_updateView:function(e){var t=this._displayables,n=this._handleEnds,i=vm(n.slice()),r=this._size;ym([0,1],function(o){var s=this._handleHeight;t.handles[o].attr({scale:[s/2,s/2],position:[n[o],r[1]/2-s/2]})},this),t.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:r[1]}),this._updateDataInfo(e)},_updateDataInfo:function(e){function t(m){var y=mi(i.handles[m].parent,this.group),I=ji(0===m?"right":"left",y),j=this._handleWidth/2+5,q=pi([g[m]+(0===m?-j:j),this._size[1]/2],y);r[m].setStyle({x:q[0],y:q[1],textVerticalAlign:o===ic?"middle":I,textAlign:o===ic?I:"center",text:a[m]})}var n=this.dataZoomModel,i=this._displayables,r=i.handleLabels,o=this._orient,a=["",""];if(n.get("showDetail")){var s=n.findRepresentativeAxisProxy();if(s){var u=s.getAxisModel().axis,d=this._range,h=e?s.calculateDataWindow({start:d[0],end:d[1]}).valueWindow:s.getDataValueWindow();a=[this._formatLabel(h[0],u),this._formatLabel(h[1],u)]}}var g=vm(this._handleEnds.slice());t.call(this,0),t.call(this,1)},_formatLabel:function(e,t){var n=this.dataZoomModel,i=n.get("labelFormatter"),r=n.get("labelPrecision");null!=r&&"auto"!==r||(r=t.getPixelPrecision());var o=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel(Math.round(e)):e.toFixed(Math.min(r,20));return at(i)?i(e,o):ze(i)?i.replace("{value}",o):o},_showDataInfo:function(e){var t=this._displayables.handleLabels;t[0].attr("invisible",!(e=this._dragging||e)),t[1].attr("invisible",!e)},_onDragMove:function(e,t,n){this._dragging=!0;var i=pi([t,n],this._displayables.barGroup.getLocalTransform(),!0);this._updateInterval(e,i[0]);var r=this.dataZoomModel.get("realtime");this._updateView(!r),r&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(e){var t=this._size,n=this._displayables.barGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>t[0]||n[1]<0||n[1]>t[1])){var i=this._handleEnds;this._updateInterval("all",n[0]-(i[0]+i[1])/2),this._updateView(),this._dispatchZoomAction()}},_dispatchZoomAction:function(){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:e[0],end:e[1]})},_findCoordRect:function(){var e;if(ym(this.getTargetCoordInfo(),function(i){if(!e&&i.length){var r=i[0].model.coordinateSystem;e=r.getRect&&r.getRect()}}),!e){var t=this.api.getWidth(),n=this.api.getHeight();e={x:.2*t,y:.2*n,width:.6*t,height:.6*n}}return e}});gm.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});var sw=Ne,lw="\0_ec_dataZoom_roams",uw=ot,cw=mm.extend({type:"dataZoom.inside",init:function(e,t){},render:function(e,t,n,i){cw.superApply(this,"render",arguments),RT(i,e.id)&&(this._range=e.getPercentRange()),de(this.getTargetCoordInfo(),function(r,o){var a=Me(r,function(s){return j1(s.model)});de(r,function(s){var u=s.model,d=e.option;LT(n,{coordId:j1(u),allCoordIds:a,containsPoint:function(h,g,m){return u.coordinateSystem.containPoint([g,m])},dataZoomId:e.id,throttleRate:e.get("throttle",!0),panGetRange:uw(this._onPan,this,s,o),zoomGetRange:uw(this._onZoom,this,s,o),zoomLock:d.zoomLock,disabled:d.disabled,roamControllerOpt:{zoomOnMouseWheel:d.zoomOnMouseWheel,moveOnMouseMove:d.moveOnMouseMove,preventDefaultMouseMove:d.preventDefaultMouseMove}})},this)},this)},dispose:function(){ET(this.api,this.dataZoomModel.id),cw.superApply(this,"dispose",arguments),this._range=null},_onPan:function(e,t,n,i,r,o,a,s,u){var d=this._range.slice(),h=e.axisModels[0];if(h){var g=dw[t]([o,a],[s,u],h,n,e);return $l(g.signal*(d[1]-d[0])*g.pixel/g.pixelLength,d,[0,100],"all"),this._range=d}},_onZoom:function(e,t,n,i,r,o){var a=this._range.slice(),s=e.axisModels[0];if(s){var u=dw[t](null,[r,o],s,n,e),d=(u.signal>0?u.pixelStart+u.pixelLength-u.pixel:u.pixel-u.pixelStart)/u.pixelLength*(a[1]-a[0])+a[0];i=Math.max(1/i,0),a[0]=(a[0]-d)*i+d,a[1]=(a[1]-d)*i+d;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return $l(0,a,[0,100],0,h.minSpan,h.maxSpan),this._range=a}}}),dw={grid:function(e,t,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem.getRect();return e=e||[0,0],"x"===o.dim?(a.pixel=t[0]-e[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(e,t,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem,u=s.getRadiusAxis().getExtent(),d=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],t=s.pointToCoord(t),"radiusAxis"===n.mainType?(a.pixel=t[0]-e[0],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=d[1]-d[0],a.pixelStart=d[0],a.signal=o.inverse?-1:1),a},singleAxis:function(e,t,n,i,r){var o=n.axis,a=r.model.coordinateSystem.getRect(),s={};return e=e||[0,0],"horizontal"===o.orient?(s.pixel=t[0]-e[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}};yo({getTargetSeries:function(e){var t=st();return e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(i,r,o){de(o.getAxisProxy(i.name,r).getTargetSeriesModels(),function(a){t.set(a.uid,a)})})}),t},isOverallFilter:!0,overallReset:function(e,t){e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(i,r,o){o.getAxisProxy(i.name,r).reset(o,t)}),n.eachTargetAxis(function(i,r,o){o.getAxisProxy(i.name,r).filterData(o,t)})}),e.eachComponent("dataZoom",function(n){var i=n.findRepresentativeAxisProxy(),r=i.getDataPercentWindow(),o=i.getDataValueWindow();n.setRawRange({start:r[0],end:r[1],startValue:o[0],endValue:o[1]},!0)})}}),Ni("dataZoom",function(e,t){var n=function(e,t,n){function i(a,s){return Qe(s.nodes,a)>=0}function r(a,s){var u=!1;return t(function(d){de(n(a,d)||[],function(h){s.records[d.name][h]&&(u=!0)})}),u}function o(a,s){s.nodes.push(a),t(function(u){de(n(a,u)||[],function(d){s.records[u.name][d]=!0})})}return function(a){var u,s={nodes:[],records:{}};if(t(function(d){s.records[d.name]={}}),!a)return s;o(a,s);do{u=!1,e(function(d){!i(d,s)&&r(d,s)&&(o(d,s),u=!0)})}while(u);return s}}(ot(t.eachComponent,t,"dataZoom"),ow,function(r,o){return r.get(o.axisIndex)}),i=[];t.eachComponent({mainType:"dataZoom",query:e},function(r,o){i.push.apply(i,n(r).nodes)}),de(i,function(r,o){r.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})});var hw=de,fw=function(e){var t=e&&e.visualMap;me(t)||(t=t?[t]:[]),hw(t,function(n){if(n){Ml(n,"splitList")&&!Ml(n,"pieces")&&(n.pieces=n.splitList,delete n.splitList);var i=n.pieces;i&&me(i)&&hw(i,function(r){Oe(r)&&(Ml(r,"start")&&!Ml(r,"min")&&(r.min=r.start),Ml(r,"end")&&!Ml(r,"max")&&(r.max=r.end))})}})};Ii.registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"});var pw=Fl.VISUAL.COMPONENT;Xi(pw,{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",function(i){i.isTargetSeries(e)&&n.push(function(e,t,n,i){var r={};return de(e,function(o){var a=Oi.prepareVisualTypes(t[o]);r[o]=a}),{progress:function(o,a){null!=i&&(i=a.getDimension(i));for(var s=o.start;s<o.end;s++){var u=a.getRawDataItem(s);if(u&&!1===u.visualMap)return;for(var d=null!=i?a.get(i,s,!0):s,h=n(d),g=t[h],m=r[h],y=0,I=m.length;y<I;y++){var j=m[y];g[j]&&g[j].applyVisual(d,function(q){return a.getItemVisual(s,q)},function(q,K){a.setItemVisual(s,q,K)})}}}}}(i.stateList,i.targetVisuals,ot(i.getValueState,i),i.getDataDimension(e.getData())))}),n}}),Xi(pw,{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),i=[];t.eachComponent("visualMap",function(r){if(r.isTargetSeries(e)){var o=r.getVisualMeta(ot(HT,null,e,r))||{stops:[],outerColors:[]},a=r.getDataDimension(n),s=n.getDimensionInfo(a);null!=s&&(o.dimension=s.index,i.push(o))}}),e.getData().setVisual("visualMeta",i)}});var bm_get=function(e,t,n){var i=hn((MN[e]||{})[t]);return n&&me(i)?i[i.length-1]:i},MN={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},gw=Oi.mapVisual,TN=Oi.eachVisual,kN=me,_m=de,AN=ws,IN=Ai,_h=Xr({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,n){this.targetVisuals={},this.controllerVisuals={},this.mergeDefaultAndTheme(e,n)},optionUpdated:function(e,t){var n=this.option;Ci.canvasSupported||(n.realtime=!1),!t&&k1(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=ot(e,this),this.controllerVisuals=vp(this.option.controller,t,e),this.targetVisuals=vp(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries(function(n,i){t.push(i)}):t=O(e),t},eachTargetSeries:function(e,t){de(this.getTargetSeriesIndices(),function(n){e.call(t,this.ecModel.getSeriesByIndex(n))},this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries(function(n){n===e&&(t=!0)}),t},formatValueText:function(e,t,n){function i(h){return h===u[0]?"min":h===u[1]?"max":(+h).toFixed(Math.min(s,20))}var r,o,a=this.option,s=a.precision,u=this.dataBound,d=a.formatter;return n=n||["<",">"],me(e)&&(e=e.slice(),r=!0),o=t?e:r?[i(e[0]),i(e[1])]:i(e),ze(d)?d.replace("{value}",r?o[0]:o).replace("{value2}",r?o[1]:o):at(d)?r?d(e[0],e[1]):d(e):r?e[0]===u[0]?n[0]+" "+o[1]:e[1]===u[1]?n[1]+" "+o[0]:o[0]+" - "+o[1]:o},resetExtent:function(){var e=this.option,t=AN([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension,n=e.dimensions;if(null!=t||n.length)return e.getDimension(null!=t?t:n.length-1)},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function e(s){kN(n.color)&&!s.inRange&&(s.inRange={color:n.color.slice().reverse()}),s.inRange=s.inRange||{color:t.get("gradientColor")},_m(this.stateList,function(u){var d=s[u];if(ze(d)){var h=bm_get(d,"active",a);h?(s[u]={},s[u][d]=h):delete s[u]}},this)}var t=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},r=n.target||(n.target={}),o=n.controller||(n.controller={});Ye(r,i),Ye(o,i);var a=this.isCategory();e.call(this,r),e.call(this,o),function(s,u,d){var h=s[u],g=s[d];h&&!g&&(g=s[d]={},_m(h,function(m,y){if(Oi.isValidType(y)){var I=bm_get(y,"inactive",a);null!=I&&(g[y]=I,"color"!==y||g.hasOwnProperty("opacity")||g.hasOwnProperty("colorAlpha")||(g.opacity=[0,0]))}}))}.call(this,r,"inRange","outOfRange"),function(s){var u=(s.inRange||{}).symbol||(s.outOfRange||{}).symbol,d=(s.inRange||{}).symbolSize||(s.outOfRange||{}).symbolSize,h=this.get("inactiveColor");_m(this.stateList,function(g){var m=this.itemSize,y=s[g];y||(y=s[g]={color:a?h:[h]}),null==y.symbol&&(y.symbol=u&&hn(u)||(a?"roundRect":["roundRect"])),null==y.symbolSize&&(y.symbolSize=d&&hn(d)||(a?m[0]:[m[0],m[0]])),y.symbol=gw(y.symbol,function(q){return"none"===q||"square"===q?"roundRect":q});var I=y.symbolSize;if(null!=I){var j=-1/0;TN(I,function(q){q>j&&(j=q)}),y.symbolSize=gw(I,function(q){return IN(q,[0,j],[0,m[0]],!0)})}},this)}.call(this,o)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:Zt,getValueState:Zt,getVisualMeta:Zt}),mw=[20,140],vw=_h.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,t){vw.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(n){n.mappingMethod="linear",n.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){vw.superApply(this,"resetItemSize",arguments);var e=this.itemSize;"horizontal"===this._orient&&e.reverse(),(null==e[0]||isNaN(e[0]))&&(e[0]=mw[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=mw[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):me(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){_h.prototype.completeVisualOption.apply(this,arguments),de(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=ws((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var i=[],r=n.getData();r.each(this.getDataDimension(r),function(o,a){e[0]<=o&&o<=e[1]&&i.push(a)},!0,this),t.push({seriesId:n.id,dataIndex:i})},this),t},getVisualMeta:function(e){function t(g,m){r.push({value:g,color:e(g,m)})}for(var n=$1(0,0,this.getExtent()),i=$1(0,0,this.option.range.slice()),r=[],o=0,a=0,s=i.length,u=n.length;a<u&&(!i.length||n[a]<=i[0]);a++)n[a]<i[o]&&t(n[a],"outOfRange");for(d=1;o<s;o++,d=0)d&&r.length&&t(i[o],"outOfRange"),t(i[o],"inRange");for(var d=1;a<u;a++)(!i.length||i[i.length-1]<n[a])&&(d&&(r.length&&t(r[r.length-1].value,"outOfRange"),d=0),t(n[a],"outOfRange"));var h=r.length;return{stops:r,outerColors:[h?r[0].color:"transparent",h?r[h-1].color:"transparent"]}}}),yw=br({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t},render:function(e,t,n,i){this.visualMapModel=e,!1!==e.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(e){var t=this.visualMapModel,n=Vs(t.get("padding")||0),i=e.getBoundingRect();e.add(new Gi({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,n){function i(h){return s[h]}function r(h,g){s[h]=g}var o=(n=n||{}).forceState,a=this.visualMapModel,s={};if("symbol"===t&&(s.symbol=a.get("itemSymbol")),"color"===t){var u=a.get("contentColor");s.color=u}var d=a.controllerVisuals[o||a.getValueState(e)];return de(Oi.prepareVisualTypes(d),function(h){var g=d[h];n.convertOpacityToAlpha&&"opacity"===h&&(h="colorAlpha",g=d.__alphaForOpacity),Oi.dependsOn(h,t)&&g&&g.applyVisual(e,i,r)}),s[t]},positionGroup:function(e){var n=this.api;dc(e,this.visualMapModel.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:Zt}),Oa=Ai,DN=de,wh=Math.min,rc=Math.max,PN=yw.extend({type:"visualMap.continuous",init:function(){PN.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._hoverLinkDataIndices=[]},doRender:function(e,t,n,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,n){if(t){var i=t[1-n];i=null!=i?i+"":"";var r=this.visualMapModel,o=r.get("textGap"),a=r.itemSize,s=this._shapes.barGroup,u=this._applyTransform([a[0]/2,0===n?-o:a[1]+o],s),d=this._applyTransform(0===n?"bottom":"top",s),h=this._orient,g=this.visualMapModel.textStyleModel;this.group.add(new Si({style:{x:u[0],y:u[1],textVerticalAlign:"horizontal"===h?"middle":d,textAlign:"horizontal"===h?d:"center",text:i,textFont:g.getFont(),textFill:g.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,n=this._shapes,i=t.itemSize,r=this._orient,o=this._useHandle,a=X1(t,this.api,i),s=n.barGroup=this._createBarGroup(a);s.add(n.outOfRange=Yc()),s.add(n.inRange=Yc(null,o?J1(this._orient):null,ot(this._dragHandle,this,"all",!1),ot(this._dragHandle,this,"all",!0)));var u=t.textStyleModel.getTextRect("\u56fd"),d=rc(u.width,u.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(s,0,i,d,r,a),this._createHandle(s,1,i,d,r,a)),this._createIndicator(s,i,d,r),e.add(s)},_createHandle:function(e,t,n,i,r){var o=ot(this._dragHandle,this,t,!1),a=ot(this._dragHandle,this,t,!0),s=Yc(function(e,t){return 0===e?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}(t,i),J1(this._orient),o,a);s.position[0]=n[0],e.add(s);var u=this.visualMapModel.textStyleModel,d=new Si({draggable:!0,drift:o,onmousemove:function(m){Xa(m.event)},ondragend:a,style:{x:0,y:0,text:"",textFont:u.getFont(),textFill:u.getTextColor()}});this.group.add(d);var h=["horizontal"===r?i/2:1.5*i,"horizontal"===r?0===t?-1.5*i:1.5*i:0===t?-i/2:i/2],g=this._shapes;g.handleThumbs[t]=s,g.handleLabelPoints[t]=h,g.handleLabels[t]=d},_createIndicator:function(e,t,n,i){var r=Yc([[0,0]],"move");r.position[0]=t[0],r.attr({invisible:!0,silent:!0}),e.add(r);var o=this.visualMapModel.textStyleModel,a=new Si({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:o.getFont(),textFill:o.getTextColor()}});this.group.add(a);var s=["horizontal"===i?n/2:9,0],u=this._shapes;u.indicator=r,u.indicatorLabel=a,u.indicatorLabelPoint=s},_dragHandle:function(e,t,n,i){if(this._useHandle){if(this._dragging=!t,!t){var r=this._applyTransform([n,i],this._shapes.barGroup,!0);this._updateInterval(e,r[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():K1(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),i=[0,e.itemSize[1]];this._handleEnds=[Oa(t[0],n,i,!0),Oa(t[1],n,i,!0)]},_updateInterval:function(e,t){var n=this.visualMapModel,i=this._handleEnds,r=[0,n.itemSize[1]];$l(t=t||0,i,r,e,0);var o=n.getExtent();this._dataInterval=[Oa(i[0],r,o,!0),Oa(i[1],r,o,!0)]},_updateView:function(e){var t=this.visualMapModel,n=t.getExtent(),i=this._shapes,r=[0,t.itemSize[1]],o=e?r:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,o,"inRange"),s=this._createBarVisual(n,n,r,"outOfRange");i.inRange.setStyle({fill:a.barColor,opacity:a.opacity}).setShape("points",a.barPoints),i.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(o,a)},_createBarVisual:function(e,t,n,i){var r={forceState:i,convertOpacityToAlpha:!0},o=this._makeColorGradient(e,r),a=[this.getControllerVisual(e[0],"symbolSize",r),this.getControllerVisual(e[1],"symbolSize",r)],s=this._createBarPoints(n,a);return{barColor:new Bl(0,0,0,1,o),barPoints:s,handlesColor:[o[0].color,o[o.length-1].color]}},_makeColorGradient:function(e,t){var n=[],i=(e[1]-e[0])/100;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var r=1;r<100;r++){var o=e[0]+i*r;if(o>e[1])break;n.push({color:this.getControllerVisual(o,"color",t),offset:r/100})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},_createBarPoints:function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new Un("horizontal"!==t||n?"horizontal"===t&&n?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||n?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,r=n.handleThumbs,o=n.handleLabels;DN([0,1],function(a){var s=r[a];s.setStyle("fill",t.handlesColor[a]),s.position[1]=e[a];var u=pi(n.handleLabelPoints[a],mi(s,this.group));o[a].setStyle({x:u[0],y:u[1],text:i.formatValueText(this._dataInterval[a]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===a?"bottom":"top":"left",n.barGroup)})},this)}},_showIndicator:function(e,t,n,i){var r=this.visualMapModel,o=r.getExtent(),a=r.itemSize,u=Oa(e,o,[0,a[1]],!0),d=this._shapes,h=d.indicator;if(h){h.position[1]=u,h.attr("invisible",!1),h.setShape("points",function(e,t,n,i){return e?[[0,-wh(t,rc(n,0))],[6,0],[0,wh(t,rc(i-n,0))]]:[[0,0],[5,-5],[5,5]]}(!!n,i,u,a[1]));var m=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0});h.setStyle("fill",m);var y=pi(d.indicatorLabelPoint,mi(h,this.group)),I=d.indicatorLabel;I.attr("invisible",!1);var j=this._applyTransform("left",d.barGroup),q=this._orient;I.setStyle({text:(n||"")+r.formatValueText(t),textVerticalAlign:"horizontal"===q?j:"middle",textAlign:"horizontal"===q?"center":j,x:y[0],y:y[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,i=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);i[1]=wh(rc(0,i[1]),n[1]),e._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var n=this.visualMapModel;if(n.option.hoverLink){var r=[0,n.itemSize[1]],o=n.getExtent();e=wh(rc(r[0],e),r[1]);var a=function(e,t,n){var i=6,r=e.get("hoverLinkDataSize");return r&&(i=Oa(r,t,n,!0)/2),i}(n,o,r),s=[e-a,e+a],u=Oa(e,r,o,!0),d=[Oa(s[0],r,o,!0),Oa(s[1],r,o,!0)];s[0]<r[0]&&(d[0]=-1/0),s[1]>r[1]&&(d[1]=1/0),t&&(d[0]===-1/0?this._showIndicator(u,d[1],"< ",a):d[1]===1/0?this._showIndicator(u,d[0],"> ",a):this._showIndicator(u,u,"\u2248 ",a));var h=this._hoverLinkDataIndices,g=[];(t||K1(n))&&(g=this._hoverLinkDataIndices=n.findTargetDataIndices(d));var m=function(e,t){function n(a,s,u){for(var d=0,h=a.length;d<h;d++)for(var g=a[d].seriesId,m=O(a[d].dataIndex),y=u&&u[g],I=0,j=m.length;I<j;I++){var q=m[I];y&&y[q]?y[q]=null:(s[g]||(s[g]={}))[q]=1}}function i(a,s){var u=[];for(var d in a)if(a.hasOwnProperty(d)&&null!=a[d])if(s)u.push(+d);else{var h=i(a[d],!0);h.length&&u.push({seriesId:d,dataIndex:h})}return u}var r={},o={};return n(e||[],r),n(t||[],o,r),[i(r),i(o)]}(h,g);this._dispatchHighDown("downplay",Zc(m[0])),this._dispatchHighDown("highlight",Zc(m[1]))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,n=this.visualMapModel;if(t&&null!=t.dataIndex){var i=this.ecModel.getSeriesByIndex(t.seriesIndex);if(n.isTargetSeries(i)){var r=i.getData(t.dataType),o=r.get(n.getDataDimension(r),t.dataIndex,!0);isNaN(o)||this._showIndicator(o,o)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Zc(e)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,n,i){var r=mi(t,i?null:this.group);return Lo[me(e)?"applyTransform":"transformDirection"](e,r,n)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});Ni({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(n){n.setSelected(e.selected)})}),Ir(fw);var LN=_h.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){LN.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();EN[this._mode].call(this),this._resetSelected(e,t);var i=this.option.categories;this.resetVisual(function(r,o){"categories"===n?(r.mappingMethod="category",r.categories=hn(i)):(r.dataExtent=this.getExtent(),r.mappingMethod="piecewise",r.pieceList=Me(this._pieceList,function(a){return a=hn(a),"inRange"!==o&&(a.visual=null),a}))})},completeVisualOption:function(){function e(o,a,s){return o&&o[a]&&(Oe(o[a])?o[a].hasOwnProperty(s):o[a]===s)}var t=this.option,n={},i=Oi.listVisualTypes(),r=this.isCategory();de(t.pieces,function(o){de(i,function(a){o.hasOwnProperty(a)&&(n[a]=1)})}),de(n,function(o,a){var s=0;de(this.stateList,function(u){s|=e(t,u,a)||e(t.target,u,a)},this),!s&&de(this.stateList,function(u){(t[u]||(t[u]={}))[a]=bm_get(a,"inRange"===u?"active":"inactive",r)})},this),_h.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var n=this.option,i=this._pieceList,r=(t?n:e).selected||{};if(n.selected=r,de(i,function(a,s){var u=this.getSelectedMapKey(a);r.hasOwnProperty(u)||(r[u]=!0)},this),"single"===n.selectedMode){var o=!1;de(i,function(a,s){var u=this.getSelectedMapKey(a);r[u]&&(o?r[u]=!1:o=!0)},this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=hn(e)},getValueState:function(e){var t=Oi.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var i=[],r=n.getData();r.each(this.getDataDimension(r),function(o,a){Oi.findPieceIndex(o,this._pieceList)===e&&i.push(a)},!0,this),t.push({seriesId:n.id,dataIndex:i})},this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},getVisualMeta:function(e){function t(u,d){var h=r.getRepresentValue({interval:u});d||(d=r.getValueState(h));var g=e(h,d);u[0]===-1/0?i[0]=g:u[1]===1/0?i[1]=g:n.push({value:u[0],color:g},{value:u[1],color:g})}if(!this.isCategory()){var n=[],i=[],r=this,o=this._pieceList.slice();if(o.length){var a=o[0].interval[0];a!==-1/0&&o.unshift({interval:[-1/0,a]}),(a=o[o.length-1].interval[1])!==1/0&&o.push({interval:[a,1/0]})}else o.push({interval:[-1/0,1/0]});var s=-1/0;return de(o,function(u){var d=u.interval;d&&(d[0]>s&&t([s,d[0]],"outOfRange"),t(d.slice()),s=d[1])},this),{stops:n,outerColors:i}}}}),EN={splitNumber:function(){var e=this.option,t=this._pieceList,n=Math.min(e.precision,20),i=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(n)!==o&&n<5;)n++;e.precision=n,o=+o.toFixed(n);var a=0;e.minOpen&&t.push({index:a++,interval:[-1/0,i[0]],close:[0,0]});for(var s=i[0],u=a+r;a<u;s+=o){var d=a===r-1?i[1]:s+o;t.push({index:a++,interval:[s,d],close:[1,1]})}e.maxOpen&&t.push({index:a++,interval:[i[1],1/0],close:[0,0]}),Eh(t),de(t,function(h){h.text=this.formatValueText(h.interval)},this)},categories:function(){var e=this.option;de(e.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),Q1(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;de(e.pieces,function(n,i){Oe(n)||(n={value:n});var r={text:"",index:i};if(null!=n.label&&(r.text=n.label),n.hasOwnProperty("value")){var o=r.value=n.value;r.interval=[o,o],r.close=[1,1]}else{for(var a=r.interval=[],s=r.close=[0,0],u=[1,0,1],d=[-1/0,1/0],h=[],g=0;g<2;g++){for(var m=[["gte","gt","min"],["lte","lt","max"]][g],y=0;y<3&&null==a[g];y++)a[g]=n[m[y]],s[g]=u[y],h[g]=2===y;null==a[g]&&(a[g]=d[g])}h[0]&&a[1]===1/0&&(s[0]=0),h[1]&&a[0]===-1/0&&(s[1]=0),a[0]===a[1]&&s[0]&&s[1]&&(r.value=a[0])}r.visual=Oi.retrieveVisuals(n),t.push(r)},this),Q1(e,t),Eh(t),de(t,function(n){var i=n.close;n.text=n.text||this.formatValueText(null!=n.value?n.value:n.interval,!1,[["<","\u2264"][i[1]],[">","\u2265"][i[0]]])},this)}};yw.extend({type:"visualMap.piecewise",doRender:function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get("textGap"),i=t.textStyleModel,r=i.getFont(),o=i.getTextColor(),a=this._getItemAlign(),s=t.itemSize,u=this._getViewData(),d=u.endsText,h=Ft(t.get("showLabel",!0),!d);d&&this._renderEndsText(e,d[0],s,h,a),de(u.viewPieceList,function(g){var m=g.piece,y=new Un;y.onclick=ot(this._onItemClick,this,m),this._enableHoverLink(y,g.indexInModelPieceList);var I=t.getRepresentValue(m);if(this._createItemSymbol(y,I,[0,0,s[0],s[1]]),h){var j=this.visualMapModel.getValueState(I);y.add(new Si({style:{x:"right"===a?-n:s[0]+n,y:s[1]/2,text:m.text,textVerticalAlign:"middle",textAlign:a,textFont:r,textFill:o,opacity:"outOfRange"===j?.5:1}}))}e.add(y)},this),d&&this._renderEndsText(e,d[1],s,h,a),zu(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(e,t){function n(i){var r=this.visualMapModel;r.option.hoverLink&&this.api.dispatchAction({type:i,batch:Zc(r.findTargetDataIndices(t))})}e.on("mouseover",ot(n,this,"highlight")).on("mouseout",ot(n,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return X1(e,this.api,e.itemSize);var n=t.align;return n&&"auto"!==n||(n="left"),n},_renderEndsText:function(e,t,n,i,r){if(t){var o=new Un,a=this.visualMapModel.textStyleModel;o.add(new Si({style:{x:i?"right"===r?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:i?r:"center",text:t,textFont:a.getFont(),textFill:a.getTextColor()}})),e.add(o)}},_getViewData:function(){var e=this.visualMapModel,t=Me(e.getPieceList(),function(o,a){return{piece:o,indexInModelPieceList:a}}),n=e.get("text"),i=e.get("orient"),r=e.get("inverse");return("horizontal"===i?r:!r)?t.reverse():n&&(n=n.slice().reverse()),{viewPieceList:t,endsText:n}},_createItemSymbol:function(e,t,n){e.add(ao(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel,n=t.option,i=hn(n.selected),r=t.getSelectedMapKey(e);"single"===n.selectedMode?(i[r]=!0,de(i,function(o,a){i[a]=a===r})):i[r]=!i[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}}),Ir(fw);var bw=Cs,Cm=ir,Ch=Xr({type:"marker",dependencies:["series","grid","polar","geo"],init:function(e,t,n,i){this.mergeDefaultAndTheme(e,n),this.mergeOption(e,n,i.createdBySelf,!0)},isAnimationEnabled:function(){if(Ci.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},mergeOption:function(e,t,n,i){var r=this.constructor,o=this.mainType+"Model";n||t.eachSeries(function(a){var s=a.get(this.mainType),u=a[o];s&&s.data?(u?u.mergeOption(s,t,!0):(i&&$c(s),de(s.data,function(d){d instanceof Array?($c(d[0]),$c(d[1])):$c(d)}),On(u=new r(s,this,t),{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),u.__hostSeries=a),a[o]=u):a[o]=null},this)},formatTooltip:function(e){var t=this.getData(),n=this.getRawValue(e),i=me(n)?Me(n,bw).join(", "):bw(n),r=t.getName(e),o=Cm(this.name);return(null!=n||r)&&(o+="<br />"),r&&(o+=Cm(r),null!=n&&(o+=" : ")),null!=n&&(o+=Cm(i)),o},getData:function(){return this._data},setData:function(e){this._data=e}});Ke(Ch,xg),Ch.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var _w=Qe,Sm=Ne,Mm={min:Sm(_p,"min"),max:Sm(_p,"max"),average:Sm(_p,"average")},Tm=br({type:"marker",init:function(){this.markerGroupMap=st()},render:function(e,t,n){var i=this.markerGroupMap;i.each(function(o){o.__keep=!1});var r=this.type+"Model";t.eachSeries(function(o){var a=o[r];a&&this.renderSeries(o,a,t,n)},this),i.each(function(o){!o.__keep&&this.group.remove(o.group)},this)},renderSeries:function(){}});Tm.extend({type:"markPoint",updateTransform:function(e,t,n){t.eachSeries(function(i){var r=i.markPointModel;r&&(nx(r.getData(),i,n),this.markerGroupMap.get(i.id).updateLayout(r))},this)},renderSeries:function(e,t,n,i){var r=e.coordinateSystem,o=e.id,a=e.getData(),s=this.markerGroupMap,u=s.get(o)||s.set(o,new ml),d=function(e,t,n){var i;i=e?Me(e&&e.dimensions,function(a){return At({name:a,isSysCoord:!0},t.getData().getDimensionInfo(t.getData().mapDimension(a))||{})}):[{name:"value",type:"float",isSysCoord:!0}];var r=new wr(i,n),o=Me(n.get("data"),Ne(Cu,t));return e&&(o=ft(o,Ne(Su,e))),r.initData(o,null,e?tx:function(a){return a.value}),r}(r,e,t);t.setData(d),nx(t.getData(),e,i),d.each(function(h){var g=d.getItemModel(h),m=g.getShallow("symbolSize");"function"==typeof m&&(m=m(t.getRawValue(h),t.getDataParams(h))),d.setItemVisual(h,{symbolSize:m,color:g.get("itemStyle.color")||a.getVisual("color"),symbol:g.getShallow("symbol")})}),u.updateData(d),this.group.add(u.group),d.eachItemGraphicEl(function(h){h.traverse(function(g){g.dataModel=t})}),u.__keep=!0,u.group.silent=t.get("silent")||e.get("silent")}}),Ir(function(e){e.markPoint=e.markPoint||{}}),Ch.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});var RN=function(e,t,n,i){var r=e.getData(),o=i.type;if(!me(i)&&("min"===o||"max"===o||"average"===o||null!=i.xAxis||null!=i.yAxis)){var a,s;if(null!=i.yAxis||null!=i.xAxis)t.getAxis(a=null!=i.yAxis?"y":"x"),s=Ft(i.yAxis,i.xAxis);else s=wp(r,a=ex(i,r,t,e).valueDataDim,o);var d="x"===a?0:1,h=1-d,g=hn(i),m={};g.type=null,g.coord=[],m.coord=[],g.coord[h]=-1/0,m.coord[h]=1/0;var y=n.get("precision");y>=0&&"number"==typeof s&&(s=+s.toFixed(Math.min(y,20))),g.coord[d]=m.coord[d]=s,i=[g,m,{type:o,valueIndex:i.valueIndex,value:s}]}return(i=[Cu(e,i[0]),Cu(e,i[1]),On({},i[2])])[2].type=i[2].type||"",Ye(i[2],i[0]),Ye(i[2],i[1]),i};Tm.extend({type:"markLine",updateTransform:function(e,t,n){t.eachSeries(function(i){var r=i.markLineModel;if(r){var o=r.getData(),a=r.__from,s=r.__to;a.each(function(u){Cp(a,u,!0,i,n),Cp(s,u,!1,i,n)}),o.each(function(u){o.setItemLayout(u,[a.getItemLayout(u),s.getItemLayout(u)])}),this.markerGroupMap.get(i.id).updateLayout()}},this)},renderSeries:function(e,t,n,i){function r(q,K,te){var ue=q.getItemModel(K);Cp(q,K,te,e,i),q.setItemVisual(K,{symbolSize:ue.get("symbolSize")||j[te?0:1],symbol:ue.get("symbol",!0)||I[te?0:1],color:ue.get("itemStyle.color")||s.getVisual("color")})}var o=e.coordinateSystem,a=e.id,s=e.getData(),u=this.markerGroupMap,d=u.get(a)||u.set(a,new Ac);this.group.add(d.group);var h=function(e,t,n){var i;i=e?Me(e&&e.dimensions,function(d){return At({name:d},t.getData().getDimensionInfo(t.getData().mapDimension(d))||{})}):[{name:"value",type:"float"}];var r=new wr(i,n),o=new wr(i,n),a=new wr([],n),s=Me(n.get("data"),Ne(RN,t,e,n));e&&(s=ft(s,Ne(XT,e)));var u=e?tx:function(d){return d.value};return r.initData(Me(s,function(d){return d[0]}),null,u),o.initData(Me(s,function(d){return d[1]}),null,u),a.initData(Me(s,function(d){return d[2]})),a.hasItemOption=!0,{from:r,to:o,line:a}}(o,e,t),g=h.from,m=h.to,y=h.line;t.__from=g,t.__to=m,t.setData(y);var I=t.get("symbol"),j=t.get("symbolSize");me(I)||(I=[I,I]),"number"==typeof j&&(j=[j,j]),h.from.each(function(q){r(g,q,!0),r(m,q,!1)}),y.each(function(q){var K=y.getItemModel(q).get("lineStyle.color");y.setItemVisual(q,{color:K||g.getItemVisual(q,"color")}),y.setItemLayout(q,[g.getItemLayout(q),m.getItemLayout(q)]),y.setItemVisual(q,{fromSymbolSize:g.getItemVisual(q,"symbolSize"),fromSymbol:g.getItemVisual(q,"symbol"),toSymbolSize:m.getItemVisual(q,"symbolSize"),toSymbol:m.getItemVisual(q,"symbol")})}),d.updateData(y),h.line.eachItemGraphicEl(function(q,K){q.traverse(function(te){te.dataModel=t})}),d.__keep=!0,d.group.silent=t.get("silent")||e.get("silent")}}),Ir(function(e){e.markLine=e.markLine||{}}),Ch.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});var BN=function(e,t,n,i){var r=Cu(e,i[0]),o=Cu(e,i[1]),a=Ft,s=r.coord,u=o.coord;s[0]=a(s[0],-1/0),s[1]=a(s[1],-1/0),u[0]=a(u[0],1/0),u[1]=a(u[1],1/0);var d=sr([{},r,o]);return d.coord=[r.coord,o.coord],d.x0=r.x,d.y0=r.y,d.x1=o.x,d.y1=o.y,d},ww=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];Tm.extend({type:"markArea",updateTransform:function(e,t,n){t.eachSeries(function(i){var r=i.markAreaModel;if(r){var o=r.getData();o.each(function(a){var s=Me(ww,function(u){return ox(o,a,u,i,n)});o.setItemLayout(a,s),o.getItemGraphicEl(a).setShape("points",s)})}},this)},renderSeries:function(e,t,n,i){var r=e.coordinateSystem,o=e.name,a=e.getData(),s=this.markerGroupMap,u=s.get(o)||s.set(o,{group:new Un});this.group.add(u.group),u.__keep=!0;var d=function(e,t,n){var i,r;e?(i=Me(e&&e.dimensions,function(u){var d=t.getData();return At({name:u},d.getDimensionInfo(d.mapDimension(u))||{})}),r=new wr(Me(["x0","y0","x1","y1"],function(u,d){return{name:u,type:i[d%2].type}}),n)):r=new wr(i=[{name:"value",type:"float"}],n);var a=Me(n.get("data"),Ne(BN,t,e,n));return e&&(a=ft(a,Ne(JT,e))),r.initData(a,null,e?function(u,d,h,g){return u.coord[Math.floor(g/2)][g%2]}:function(u){return u.value}),r.hasItemOption=!0,r}(r,e,t);t.setData(d),d.each(function(h){d.setItemLayout(h,Me(ww,function(g){return ox(d,h,g,e,i)})),d.setItemVisual(h,{color:a.getVisual("color")})}),d.diff(u.__data).add(function(h){var g=new wo({shape:{points:d.getItemLayout(h)}});d.setItemGraphicEl(h,g),u.group.add(g)}).update(function(h,g){var m=u.__data.getItemGraphicEl(g);pn(m,{shape:{points:d.getItemLayout(h)}},t,h),u.group.add(m),d.setItemGraphicEl(h,m)}).remove(function(h){var g=u.__data.getItemGraphicEl(h);u.group.remove(g)}).execute(),d.eachItemGraphicEl(function(h,g){var m=d.getItemModel(g),y=m.getModel("label"),I=m.getModel("emphasis.label"),j=d.getItemVisual(g,"color");h.useStyle(At(m.getModel("itemStyle").getItemStyle(),{fill:Dn(j,.4),stroke:j})),h.hoverStyle=m.getModel("emphasis.itemStyle").getItemStyle(),Ue(h.style,h.hoverStyle,y,I,{labelFetcher:t,labelDataIndex:g,defaultText:d.getName(g)||"",isRectText:!0,autoColor:j}),De(h,{}),h.dataModel=t}),u.__data=d,u.group.silent=t.get("silent")||e.get("silent")}}),Ir(function(e){e.markArea=e.markArea||{}}),Ii.registerSubTypeDefaulter("timeline",function(){return"slider"}),Ni({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t){var n=t.getComponent("timeline");return n&&null!=e.currentIndex&&(n.setCurrentIndex(e.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),t.resetOption("timeline"),At({currentIndex:n.option.currentIndex},e)}),Ni({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var n=t.getComponent("timeline");n&&null!=e.playState&&n.setPlayState(e.playState)});var Cw=Ii.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),this._initData()},mergeOption:function(e){Cw.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e>=t&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(e){this.option.autoPlay=!!e},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var e=this.option,t=e.data||[],n=e.axisType,i=this._names=[];if("category"===n){var r=[];de(t,function(a,s){var u,d=A(a);Oe(a)?(u=hn(a)).value=s:u=s,r.push(u),ze(d)||null!=d&&!isNaN(d)||(d=""),i.push(d+"")}),t=r}(this._data=new wr([{name:"value",type:{category:"ordinal",time:"time"}[n]||"number"}],this)).initData(t,i)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});Ke(Cw.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}}),xg);var ON=La.extend({type:"timeline"}),Sh=function(e,t,n,i){mr.call(this,e,t,n),this.type=i||"value",this.model=null};Sh.prototype={constructor:Sh,getLabelInterval:function(){var e=this.model,t=e.getModel("label"),n=t.get("interval");return null!=n&&"auto"!=n||(n=this._autoLabelInterval)||(n=this._autoLabelInterval=Gv(Me(this.scale.getTicks(),this.dataToCoord,this),nf(this,t.get("formatter")),t.getFont(),"horizontal"===e.get("orient")?0:90,t.get("rotate"))),n},isLabelIgnored:function(e){if("category"===this.type){var t=this.getLabelInterval();return"function"==typeof t&&!t(e,this.scale.getLabel(e))||e%(t+1)}}},we(Sh,mr);var gs=ot,km=de,Am=Math.PI;ON.extend({type:"timeline.slider",init:function(e,t){this.api=t},render:function(e,t,n,i){if(this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var r=this._layout(e,n),o=this._createGroup("mainGroup"),a=this._createGroup("labelGroup"),s=this._axis=this._createAxis(r,e);e.formatTooltip=function(u){return ir(s.scale.getLabel(u))},km(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](r,o,s,e)},this),this._renderAxisLabel(r,a,s,e),this._position(r,e)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(e,t){var n=e.get("label.position"),i=e.get("orient"),r=function(e,t){return xr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}(e,t);null==n||"auto"===n?n="horizontal"===i?r.y+r.height/2<t.getHeight()/2?"-":"+":r.x+r.width/2<t.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][n]);var o={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"},a={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},s={horizontal:0,vertical:Am/2},u="vertical"===i?r.height:r.width,d=e.getModel("controlStyle"),h=d.get("show",!0),g=h?d.get("itemSize"):0,m=h?d.get("itemGap"):0,y=g+m,I=e.get("label.rotate")||0;I=I*Am/180;var j,q,K,te,ue=d.get("position",!0),be=h&&d.get("showPlayBtn",!0),ke=h&&d.get("showPrevBtn",!0),Be=h&&d.get("showNextBtn",!0),We=0,qe=u;return"left"===ue||"bottom"===ue?(be&&(j=[0,0],We+=y),ke&&(q=[We,0],We+=y),Be&&(K=[qe-g,0],qe-=y)):(be&&(j=[qe-g,0],qe-=y),ke&&(q=[0,0],We+=y),Be&&(K=[qe-g,0],qe-=y)),te=[We,qe],e.get("inverse")&&te.reverse(),{viewRect:r,mainLength:u,orient:i,rotation:s[i],labelRotation:I,labelPosOpt:n,labelAlign:e.get("label.align")||o[i],labelBaseline:e.get("label.verticalAlign")||e.get("label.baseline")||a[i],playPosition:j,prevBtnPosition:q,nextBtnPosition:K,axisExtent:te,controlSize:g,controlGap:m}},_position:function(e,t){function n(te){var ue=te.position;te.origin=[g[0][0]-ue[0],g[1][0]-ue[1]]}function i(te){return[[te.x,te.x+te.width],[te.y,te.y+te.height]]}function r(te,ue,be,ke,Be){te[ke]+=be[ke][Be]-ue[ke][Be]}var o=this._mainGroup,a=this._labelGroup,s=e.viewRect;if("vertical"===e.orient){var u=ri(),d=s.x,h=s.y+s.height;an(u,u,[-d,-h]),Tn(u,u,-Am/2),an(u,u,[d,h]),(s=s.clone()).applyTransform(u)}var g=i(s),m=i(o.getBoundingRect()),y=i(a.getBoundingRect()),I=o.position,j=a.position;j[0]=I[0]=g[0][0];var q=e.labelPosOpt;if(isNaN(q))r(I,m,g,1,K="+"===q?0:1),r(j,y,g,1,1-K);else{var K=q>=0?0:1;r(I,m,g,1,K),j[1]=I[1]+q}o.attr("position",I),a.attr("position",j),o.rotation=a.rotation=e.rotation,n(o),n(a)},_createAxis:function(e,t){var n=t.getData(),i=t.get("axisType"),r=pl(t,i),o=n.getDataExtent("value");r.setExtent(o[0],o[1]),this._customizeScale(r,n),r.niceTicks();var a=new Sh("value",r,e.axisExtent,i);return a.model=t,a},_customizeScale:function(e,t){e.getTicks=function(){return t.mapArray(["value"],function(n){return n})},e.getTicksLabels=function(){return Me(this.getTicks(),e.getLabel,e)}},_createGroup:function(e){var t=this["_"+e]=new Un;return this.group.add(t),t},_renderAxisLine:function(e,t,n,i){var r=n.getExtent();i.get("lineStyle.show")&&t.add(new Co({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:On({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(e,t,n,i){var r=i.getData(),o=n.scale.getTicks();km(o,function(a,s){var u=n.dataToCoord(a),d=r.getItemModel(s),h=d.getModel("itemStyle"),g=d.getModel("emphasis.itemStyle"),m={position:[u,0],onclick:gs(this._changeTimeline,this,s)},y=sx(d,h,t,m);De(y,g.getItemStyle()),d.get("tooltip")?(y.dataIndex=s,y.dataModel=i):y.dataIndex=y.dataModel=null},this)},_renderAxisLabel:function(e,t,n,i){var r=i.getModel("label");if(r.get("show")){var o=i.getData(),a=n.scale.getTicks(),s=nf(n,r.get("formatter")),u=n.getLabelInterval();km(a,function(d,h){if(!n.isLabelIgnored(h,u)){var g=o.getItemModel(h),m=g.getModel("label"),y=g.getModel("emphasis.label"),I=n.dataToCoord(d),j=new Si({position:[I,0],rotation:e.labelRotation-e.rotation,onclick:gs(this._changeTimeline,this,h),silent:!1});Ze(j.style,m,{text:s[h],textAlign:e.labelAlign,textVerticalAlign:e.labelBaseline}),t.add(j),De(j,Ze({},y))}},this)}},_renderControl:function(e,t,n,i){function r(m,y,I,j){if(m){var q=function(e,t,n,i){return Ee(e.get(t).replace(/^path:\/\//,""),hn(i||{}),new li(n[0],n[1],n[2],n[3]),"center")}(i,y,d,{position:m,origin:[o/2,0],rotation:j?-a:0,rectHover:!0,style:s,onclick:I});t.add(q),De(q,u)}}var o=e.controlSize,a=e.rotation,s=i.getModel("controlStyle").getItemStyle(),u=i.getModel("emphasis.controlStyle").getItemStyle(),d=[0,-o/2,o,o],h=i.getPlayState(),g=i.get("inverse",!0);r(e.nextBtnPosition,"controlStyle.nextIcon",gs(this._changeTimeline,this,g?"-":"+")),r(e.prevBtnPosition,"controlStyle.prevIcon",gs(this._changeTimeline,this,g?"+":"-")),r(e.playPosition,"controlStyle."+(h?"stopIcon":"playIcon"),gs(this._handlePlayClick,this,!h),!0)},_renderCurrentPointer:function(e,t,n,i){var r=i.getData(),o=i.getCurrentIndex(),a=r.getItemModel(o).getModel("checkpointStyle"),s=this;this._currentPointer=sx(a,a,this._mainGroup,{},this._currentPointer,{onCreate:function(d){d.draggable=!0,d.drift=gs(s._handlePointerDrag,s),d.ondragend=gs(s._handlePointerDragend,s),lx(d,o,n,i,!0)},onUpdate:function(d){lx(d,o,n,i)}})},_handlePlayClick:function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},_handlePointerDrag:function(e,t,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},_pointerChangeTimeline:function(e,t){var n=this._toAxisCoord(e)[0],i=ws(this._axis.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var r=this._findNearestTick(n),o=this.model;(t||r!==o.getCurrentIndex()&&o.get("realtime"))&&this._changeTimeline(r)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(gs(function(){var e=this.model;this._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(e){return pi(e,this._mainGroup.getLocalTransform(),!0)},_findNearestTick:function(e){var t,n=this.model.getData(),i=1/0,r=this._axis;return n.each(["value"],function(o,a){var s=r.dataToCoord(o),u=Math.abs(s-e);u<i&&(i=u,t=a)}),t},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})}}),Ir(function(e){var t=e&&e.timeline;me(t)||(t=t?[t]:[]),de(t,function(n){n&&function(e){var t=e.type,n={number:"value",time:"time"};if(n[t]&&(e.axisType=n[t],delete e.type),ax(e),Ns(e,"controlPosition")){var i=e.controlStyle||(e.controlStyle={});Ns(i,"position")||(i.position=e.controlPosition),"none"!==i.position||Ns(i,"show")||(i.show=!1,delete i.position),delete e.controlPosition}de(e.data||[],function(r){Oe(r)&&!me(r)&&(!Ns(r,"value")&&Ns(r,"name")&&(r.value=r.name),ax(r))})}(n)})});var zN=Xr({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(e){zN.superApply(this,"mergeDefaultAndTheme",arguments),de(this.option.feature,function(t,n){var i=z1(n);i&&Ye(t,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}});br({type:"toolbox",render:function(e,t,n,i){function r(g,m){var y,I=h[g],j=h[m],q=new Kn(u[I],e,e.ecModel);if(I&&!j){if(function(e){return 0===e.indexOf("my")}(I))y={model:q,onclick:q.option.onclick,featureName:I};else{var K=z1(I);if(!K)return;y=new K(q,t,n)}d[I]=y}else{if(!(y=d[j]))return;y.model=q,y.ecModel=t,y.api=n}I||!j?q.get("show")&&!y.unusable?(function(g,m,y){var I=g.getModel("iconStyle"),j=g.getModel("emphasis.iconStyle"),q=m.getIcons?m.getIcons():g.get("icon"),K=g.get("title")||{};if("string"==typeof q){var te=q,ue=K;K={},(q={})[y]=te,K[y]=ue}var be=g.iconPaths={};de(q,function(ke,Be){var We=Wi(ke,{},{x:-s/2,y:-s/2,width:s,height:s});We.setStyle(I.getItemStyle()),We.hoverStyle=j.getItemStyle(),De(We),e.get("showTitle")&&(We.__title=K[Be],We.on("mouseover",function(){var qe=j.getItemStyle();We.setStyle({text:K[Be],textPosition:qe.textPosition||"bottom",textFill:qe.fill||qe.stroke||"#000",textAlign:qe.textAlign||"center"})}).on("mouseout",function(){We.setStyle({textFill:null})})),We.trigger(g.get("iconStatus."+Be)||"normal"),a.add(We),We.on("click",ot(m.onclick,m,t,n,Be)),be[Be]=We})}(q,y,I),q.setIconStatus=function(te,ue){var be=this.option,ke=this.iconPaths;be.iconStatus=be.iconStatus||{},be.iconStatus[te]=ue,ke[te]&&ke[te].trigger(ue)},y.render&&y.render(q,t,n,i)):y.remove&&y.remove(t,n):y.dispose&&y.dispose(t,n)}var a=this.group;if(a.removeAll(),e.get("show")){var s=+e.get("itemSize"),u=e.get("feature")||{},d=this._features||(this._features={}),h=[];de(u,function(g,m){h.push(m)}),new Ta(this._featureNames||[],h).add(r).update(r).remove(Ne(r,null)).execute(),this._featureNames=h,function(e,t,n){var i=t.getBoxLayoutParams(),r=t.get("padding"),o={width:n.getWidth(),height:n.getHeight()},a=xr(i,o,r);zu(t.get("orient"),e,t.get("itemGap"),a.width,a.height),dc(e,i,o,r)}(a,e,n),a.add(p1(a.getBoundingRect(),e)),a.eachChild(function(g){var m=g.__title,y=g.hoverStyle;if(y&&m){var I=qr(m,ba(y)),j=g.position[0]+a.position[0],q=!1;g.position[1]+a.position[1]+s+I.height>n.getHeight()&&(y.textPosition="top",q=!0);var K=q?-5-I.height:s+8;j+I.width/2>n.getWidth()?(y.textPosition=["100%",K],y.textAlign="right"):j-I.width/2<0&&(y.textPosition=[0,K],y.textAlign="left")}})}},updateView:function(e,t,n,i){de(this._features,function(r){r.updateView&&r.updateView(r.model,t,n,i)})},remove:function(e,t){de(this._features,function(n){n.remove&&n.remove(e,t)}),this.group.removeAll()},dispose:function(e,t){de(this._features,function(n){n.dispose&&n.dispose(e,t)})}});var Sw=ns.toolbox.saveAsImage;Jc.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:Sw.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:Sw.lang.slice()},Jc.prototype.unusable=!Ci.canvasSupported,Jc.prototype.onclick=function(e,t){var n=this.model,i=n.get("name")||e.get("title.0.text")||"echarts",r=document.createElement("a"),o=n.get("type",!0)||"png";r.download=i+"."+o,r.target="_blank";var a=t.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if(r.href=a,"function"!=typeof MouseEvent||Ci.browser.ie||Ci.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(a.split(",")[1]),u=s.length,d=new Uint8Array(u);u--;)d[u]=s.charCodeAt(u);var h=new Blob([d]);window.navigator.msSaveOrOpenBlob(h,i+"."+o)}else{var g=n.get("lang"),m='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(g&&g[0]||"")+'" /></body>';window.open().document.write(m)}else{var y=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});r.dispatchEvent(y)}},Sl("saveAsImage",Jc),Sp.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:hn(ns.toolbox.magicType.title),option:{},seriesIndex:{}};var Mw=Sp.prototype;Mw.getIcons=function(){var e=this.model,t=e.get("icon"),n={};return de(e.get("type"),function(i){t[i]&&(n[i]=t[i])}),n};var Tw={line:function(e,t,n,i){if("bar"===e)return Ye({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.line")||{},!0)},bar:function(e,t,n,i){if("line"===e)return Ye({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.bar")||{},!0)},stack:function(e,t,n,i){if("line"===e||"bar"===e)return Ye({id:t,stack:"__ec_magicType_stack__"},i.get("option.stack")||{},!0)},tiled:function(e,t,n,i){if("line"===e||"bar"===e)return Ye({id:t,stack:""},i.get("option.tiled")||{},!0)}},VN=[["line","bar"],["stack","tiled"]];Mw.onclick=function(e,t,n){var i=this.model,r=i.get("seriesIndex."+n);if(Tw[n]){var o={series:[]};de(VN,function(a){Qe(a,n)>=0&&de(a,function(s){i.setIconStatus(s,"normal")})}),i.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:null==r?null:{seriesIndex:r}},function(a){var d=Tw[n](a.subType,a.id,a,i);d&&(At(d,a.option),o.series.push(d));var h=a.coordinateSystem;if(h&&"cartesian2d"===h.type&&("line"===n||"bar"===n)){var g=h.getAxesByScale("ordinal")[0];if(g){var m=g.dim+"Axis",y=e.queryComponents({mainType:m,index:a.get(name+"Index"),id:a.get(name+"Id")})[0].componentIndex;o[m]=o[m]||[];for(var I=0;I<=y;I++)o[m][y]=o[m][y]||{};o[m][y].boundaryGap="bar"===n}}}),t.dispatchAction({type:"changeMagicType",currentType:n,newOption:o})}},Ni({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)}),Sl("magicType",Sp);var kw=ns.toolbox.dataView,Mh=new Array(60).join("-"),rl="\t",Im=new RegExp("["+rl+"]+","g");Mu.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:hn(kw.title),lang:hn(kw.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},Mu.prototype.onclick=function(e,t){function n(){i.removeChild(o),ue._dom=null}var i=t.getDom(),r=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",o.style.backgroundColor=r.get("backgroundColor")||"#fff";var a=document.createElement("h4"),s=r.get("lang")||[];a.innerHTML=s[0]||r.get("title"),a.style.cssText="margin: 10px 20px;",a.style.color=r.get("textColor");var u=document.createElement("div"),d=document.createElement("textarea");u.style.cssText="display:block;width:100%;overflow:auto;";var h=r.get("optionToContent"),g=r.get("contentToOption"),m=function(e){var t=function(e){var t={},n=[],i=[];return e.eachRawSeries(function(r){var o=r.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)n.push(r);else{var a=o.getBaseAxis();if("category"===a.type){var s=a.dim+"_"+a.index;t[s]||(t[s]={categoryAxis:a,valueAxis:o.getOtherAxis(a),series:[]},i.push({axisDim:a.dim,axisIndex:a.index})),t[s].series.push(r)}else n.push(r)}}),{seriesGroupByCategoryAxis:t,other:n,meta:i}}(e);return{value:ft([ok(t.seriesGroupByCategoryAxis),ak(t.other)],function(n){return n.replace(/[\n\t\s]/g,"")}).join("\n\n"+Mh+"\n\n"),meta:t.meta}}(e);if("function"==typeof h){var y=h(t.getOption());"string"==typeof y?u.innerHTML=y:Xe(y)&&u.appendChild(y)}else u.appendChild(d),d.readOnly=r.get("readOnly"),d.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",d.style.color=r.get("textColor"),d.style.borderColor=r.get("textareaBorderColor"),d.style.backgroundColor=r.get("textareaColor"),d.value=m.value;var I=m.meta,j=document.createElement("div");j.style.cssText="position:absolute;bottom:0;left:0;right:0;";var q="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",K=document.createElement("div"),te=document.createElement("div");q+=";background-color:"+r.get("buttonColor"),q+=";color:"+r.get("buttonTextColor");var ue=this;z(K,"click",n),z(te,"click",function(){var be;try{be="function"==typeof g?g(u,t.getOption()):function(e,t){var n={series:[]};return de(e.split(new RegExp("\n*"+Mh+"\n*","g")),function(i,r){if(function(e){if(e.slice(0,e.indexOf("\n")).indexOf(rl)>=0)return!0}(i)){var o=function(e){for(var t=e.split(/\n+/g),n=[],i=Me(Qc(t.shift()).split(Im),function(s){return{name:s,data:[]}}),r=0;r<t.length;r++){var o=Qc(t[r]).split(Im);n.push(o.shift());for(var a=0;a<o.length;a++)i[a]&&(i[a].data[r]=o[a])}return{series:i,categories:n}}(i),a=t[r],s=a.axisDim+"Axis";a&&(n[s]=n[s]||[],n[s][a.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else o=function(e){for(var t=e.split(/\n+/g),n=Qc(t.shift()),i=[],r=0;r<t.length;r++){var o,a=Qc(t[r]).split(Im),s="",u=!1;isNaN(a[0])?(u=!0,s=a[0],a=a.slice(1),i[r]={name:s,value:[]},o=i[r].value):o=i[r]=[];for(var d=0;d<a.length;d++)o.push(+a[d]);1===o.length&&(u?i[r].value=o[0]:i[r]=o[0])}return{name:n,data:i}}(i),n.series.push(o)}),n}(d.value,I)}catch(ke){throw n(),new Error("Data view format error "+ke)}be&&t.dispatchAction({type:"changeDataView",newOption:be}),n()}),K.innerHTML=s[1],te.innerHTML=s[2],te.style.cssText=q,K.style.cssText=q,!r.get("readOnly")&&j.appendChild(te),j.appendChild(K),z(d,"keydown",function(be){if(9===(be.keyCode||be.which)){var ke=this.value,Be=this.selectionStart,We=this.selectionEnd;this.value=ke.substring(0,Be)+rl+ke.substring(We),this.selectionStart=this.selectionEnd=Be+1,Xa(be)}}),o.appendChild(a),o.appendChild(u),o.appendChild(j),u.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},Mu.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},Mu.prototype.dispose=function(e,t){this.remove(e,t)},Sl("dataView",Mu),Ni({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var n=[];de(e.newOption.series,function(i){var r=t.getSeriesByName(i.name)[0];if(r){var o=r.get("data");n.push({name:i.name,data:hk(i.data,o)})}else n.push(On({type:"scatter"},i))}),t.mergeOption(At({series:n},e.newOption))});var Aw=de,Dm="\0_ec_hist_store";gm.extend({type:"dataZoom.select"}),mm.extend({type:"dataZoom.select"});var Iw=de;Tp.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:hn(ns.toolbox.dataZoom.title)};var eu=Tp.prototype;eu.render=function(e,t,n,i){this.model=e,this.ecModel=t,this.api=n,function(e,t,n,i,r){var o=n._isZoomActive;i&&"takeGlobalCursor"===i.type&&(o="dataZoomSelect"===i.key&&i.dataZoomSelectActive),n._isZoomActive=o,e.setIconStatus("zoom",o?"emphasis":"normal");var a=new qc(ux(e.option),t,{include:["grid"]});n._brushController.setPanels(a.makePanelOpts(r,function(s){return s.xAxisDeclared&&!s.yAxisDeclared?"lineX":!s.xAxisDeclared&&s.yAxisDeclared?"lineY":"rect"})).enableBrush(!!o&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}(e,t,this,i,n),function(e,t){e.setIconStatus("back",function(e){return Mp(e).length}(t)>1?"emphasis":"normal")}(e,t)},eu.onclick=function(e,t,n){GN[n].call(this)},eu.remove=function(e,t){this._brushController.unmount()},eu.dispose=function(e,t){this._brushController.dispose()};var GN={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(e){var t=Mp(e),n=t[t.length-1];t.length>1&&t.pop();var i={};return Aw(n,function(r,o){for(var a=t.length-1;a>=0;a--)if(r=t[a][o]){i[o]=r;break}}),i}(this.ecModel))}};eu._onBrush=function(e,t){function n(a,s,u){var d=s.getAxis(a),h=d.model,g=function(a,s,u){var d;return u.eachComponent({mainType:"dataZoom",subType:"select"},function(h){h.getAxisModel(a,s.componentIndex)&&(d=h)}),d}(a,h,o),m=g.findRepresentativeAxisProxy(h).getMinMaxSpan();null==m.minValueSpan&&null==m.maxValueSpan||(u=$l(0,u.slice(),d.scale.getExtent(),0,m.minValueSpan,m.maxValueSpan)),g&&(r[g.id]={dataZoomId:g.id,startValue:u[0],endValue:u[1]})}if(t.isEnd&&e.length){var r={},o=this.ecModel;this._brushController.updateCovers([]),new qc(ux(this.model.option),o,{include:["grid"]}).matchOutputRanges(e,o,function(a,s,u){if("cartesian2d"===u.type){var d=a.brushType;"rect"===d?(n("x",u,s[0]),n("y",u,s[1])):n({lineX:"x",lineY:"y"}[d],u,s)}}),function(e,t){var n=Mp(e);Aw(t,function(i,r){for(var o=n.length-1;o>=0&&!n[o][r];o--);if(o<0){var a=e.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(a){var s=a.getPercentRange();n[0][r]={dataZoomId:r,start:s[0],end:s[1]}}}}),n.push(t)}(o,r),this._dispatchZoomAction(r)}},eu._dispatchZoomAction=function(e){var t=[];Iw(e,function(n,i){t.push(hn(n))}),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},Sl("dataZoom",Tp),Ir(function(e){function t(a,s){if(s){var u=a+"Index",d=s[u];null==d||"all"==d||me(d)||(d=!1===d||"none"===d?[]:[d]),function(a,s){var u=e[a];me(u)||(u=u?[u]:[]),Iw(u,s)}(a,function(h,g){if(null==d||"all"==d||-1!==Qe(d,g)){var m={type:"select",$fromToolbox:!0,id:"\0_ec_\0toolbox-dataZoom_"+a+g};m[u]=g,i.push(m)}})}}if(e){var i=e.dataZoom||(e.dataZoom=[]);me(i)||(e.dataZoom=i=[i]);var r=e.toolbox;if(r&&(me(r)&&(r=r[0]),r&&r.feature)){var o=r.feature.dataZoom;t("xAxis",o),t("yAxis",o)}}}),kp.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:ns.toolbox.restore.title},kp.prototype.onclick=function(e,t,n){(function(e){e[Dm]=null})(e),t.dispatchAction({type:"restore",from:this.uid})},Sl("restore",kp),Ni({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")});var Nm,Dw="urn:schemas-microsoft-com:vml",Nw="undefined"==typeof window?null:window,Pw=!1,ho=Nw&&Nw.document;if(ho&&!Ci.canvasSupported)try{!ho.namespaces.zrvml&&ho.namespaces.add("zrvml",Dw),Nm=function(e){return ho.createElement("<zrvml:"+e+' class="zrvml">')}}catch(e){Nm=function(t){return ho.createElement("<"+t+' xmlns="'+Dw+'" class="zrvml">')}}var ol=lo.CMD,Ri=Math.round,oc=Math.sqrt,jN=Math.abs,Lw=Math.cos,Ew=Math.sin,Pm=Math.max;if(!Ci.canvasSupported){var Cr=21600,eo=Cr/2,Lm=function(e){e.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",e.coordsize=Cr+","+Cr,e.coordorigin="0,0"},qN=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},Rw=function(e,t,n){return"rgb("+[e,t,n].join(",")+")"},fa=function(e,t){t&&e&&t.parentNode!==e&&e.appendChild(t)},ac=function(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)},Em=function(e,t,n){return 1e5*(parseFloat(e)||0)+1e3*(parseFloat(t)||0)+n},Bw=function(e,t){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e},Ow=function(e,t,n){var i=Vi(t);n=+n,isNaN(n)&&(n=1),i&&(e.color=Rw(i[0],i[1],i[2]),e.opacity=n*i[3])},ZN=function(e){var t=Vi(e);return[Rw(t[0],t[1],t[2]),t[3]]},Th=function(e,t,n,i){var r="fill"==t,o=e.getElementsByTagName(t)[0];null!=n[t]&&"none"!==n[t]&&(r||!r&&n.lineWidth)?(e[r?"filled":"stroked"]="true",n[t]instanceof oa&&ac(e,o),o||(o=Ap(t)),r?function(e,t,n){var i=t.fill;if(null!=i)if(i instanceof oa){var r,o=0,a=[0,0],s=0,u=1,d=n.getBoundingRect(),h=d.width,g=d.height;if("linear"===i.type){r="gradient";var y=[i.x*h,i.y*g],I=[i.x2*h,i.y2*g];(m=n.transform)&&(Pt(y,y,m),Pt(I,I,m)),(o=180*Math.atan2(I[0]-y[0],I[1]-y[1])/Math.PI)<0&&(o+=360),o<1e-6&&(o=0)}else{r="gradientradial";var m,K=n.scale,te=h,ue=g;a=[((y=[i.x*h,i.y*g])[0]-d.x)/te,(y[1]-d.y)/ue],(m=n.transform)&&Pt(y,y,m);var be=Pm(te/=K[0]*Cr,ue/=K[1]*Cr);u=2*i.r/be-(s=0/be)}var ke=i.colorStops.slice();ke.sort(function(Wn,Vn){return Wn.offset-Vn.offset});for(var Be=ke.length,We=[],qe=[],gt=0;gt<Be;gt++){var tn=ke[gt],Jt=ZN(tn.color);qe.push(tn.offset*u+s+" "+Jt[0]),0!==gt&&gt!==Be-1||We.push(Jt)}if(Be>=2){var un=We[0][0],Mn=We[1][0],xn=We[0][1]*t.opacity,kn=We[1][1]*t.opacity;e.type=r,e.method="none",e.focus="100%",e.angle=o,e.color=un,e.color2=Mn,e.colors=qe.join(","),e.opacity=kn,e.opacity2=xn}"radial"===r&&(e.focusposition=a.join(","))}else Ow(e,i,t.opacity)}(o,n,i):function(e,t){null!=t.lineDash&&(e.dashstyle=t.lineDash.join(" ")),null==t.stroke||t.stroke instanceof oa||Ow(e,t.stroke,t.opacity)}(o,n),fa(e,o)):(e[r?"filled":"stroked"]="false",ac(e,o))},fo=[[],[],[]];sn.prototype.brushVML=function(e){var t=this.style,n=this._vmlEl;n||(n=Ap("shape"),Lm(n),this._vmlEl=n),Th(n,"fill",t,this),Th(n,"stroke",t,this);var i=this.transform,r=null!=i,o=n.getElementsByTagName("stroke")[0];if(o){var a=t.lineWidth;r&&!t.strokeNoScale&&(a*=oc(jN(i[0]*i[3]-i[1]*i[2]))),o.weight=a+"px"}var u=this.path||(this.path=new lo);this.__dirtyPath&&(u.beginPath(),this.buildPath(u,this.shape),u.toStatic(),this.__dirtyPath=!1),n.path=function(e,t){var n,i,r,o,a,s,u=ol.M,d=ol.C,h=ol.L,g=ol.A,m=ol.Q,y=[],I=e.data,j=e.len();for(o=0;o<j;){switch(i="",n=0,r=I[o++]){case u:i=" m ",n=1,a=I[o++],s=I[o++],fo[0][0]=a,fo[0][1]=s;break;case h:i=" l ",n=1,a=I[o++],s=I[o++],fo[0][0]=a,fo[0][1]=s;break;case m:case d:i=" c ",n=3;var q,K,te=I[o++],ue=I[o++],be=I[o++],ke=I[o++];r===m?(q=be,K=ke,be=(be+2*te)/3,ke=(ke+2*ue)/3,te=(a+2*te)/3,ue=(s+2*ue)/3):(q=I[o++],K=I[o++]),fo[0][0]=te,fo[0][1]=ue,fo[1][0]=be,fo[1][1]=ke,fo[2][0]=q,fo[2][1]=K,a=q,s=K;break;case g:var Be=0,We=0,qe=1,gt=1,tn=0;t&&(Be=t[4],We=t[5],qe=oc(t[0]*t[0]+t[1]*t[1]),gt=oc(t[2]*t[2]+t[3]*t[3]),tn=Math.atan2(-t[1]/gt,t[0]/qe));var Jt=I[o++],un=I[o++],Mn=I[o++],xn=I[o++],kn=I[o++]+tn,Wn=I[o++]+kn+tn;o++;var Vn=I[o++],Jn=Jt+Lw(kn)*Mn,zn=un+Ew(kn)*xn,Di=(te=Jt+Lw(Wn)*Mn,ue=un+Ew(Wn)*xn,Vn?" wa ":" at ");Math.abs(Jn-te)<1e-4&&(Math.abs(Wn-kn)>.01?Vn&&(Jn+=.0125):Math.abs(zn-un)<1e-4?Vn&&Jn<Jt||!Vn&&Jn>Jt?ue-=.0125:ue+=.0125:Vn&&zn<un||!Vn&&zn>un?te+=.0125:te-=.0125),y.push(Di,Ri(((Jt-Mn)*qe+Be)*Cr-eo),",",Ri(((un-xn)*gt+We)*Cr-eo),",",Ri(((Jt+Mn)*qe+Be)*Cr-eo),",",Ri(((un+xn)*gt+We)*Cr-eo),",",Ri((Jn*qe+Be)*Cr-eo),",",Ri((zn*gt+We)*Cr-eo),",",Ri((te*qe+Be)*Cr-eo),",",Ri((ue*gt+We)*Cr-eo)),a=te,s=ue;break;case ol.R:var ci=fo[0],Qi=fo[1];ci[0]=I[o++],ci[1]=I[o++],Qi[0]=ci[0]+I[o++],Qi[1]=ci[1]+I[o++],t&&(Pt(ci,ci,t),Pt(Qi,Qi,t)),ci[0]=Ri(ci[0]*Cr-eo),Qi[0]=Ri(Qi[0]*Cr-eo),ci[1]=Ri(ci[1]*Cr-eo),Qi[1]=Ri(Qi[1]*Cr-eo),y.push(" m ",ci[0],",",ci[1]," l ",Qi[0],",",ci[1]," l ",Qi[0],",",Qi[1]," l ",ci[0],",",Qi[1]);break;case ol.Z:y.push(" x ")}if(n>0){y.push(i);for(var Dr=0;Dr<n;Dr++){var za=fo[Dr];t&&Pt(za,za,t),y.push(Ri(za[0]*Cr-eo),",",Ri(za[1]*Cr-eo),Dr<n-1?",":"")}}}return y.join("")}(u,this.transform),n.style.zIndex=Em(this.zlevel,this.z,this.z2),fa(e,n),null!=t.text?this.drawRectText(e,this.getBoundingRect()):this.removeRectText(e)},sn.prototype.onRemove=function(e){ac(e,this._vmlEl),this.removeRectText(e)},sn.prototype.onAdd=function(e){fa(e,this._vmlEl),this.appendRectText(e)},ur.prototype.brushVML=function(e){var t,n,i=this.style,r=i.image;if(function(e){return"object"==typeof e&&e.tagName&&"IMG"===e.tagName.toUpperCase()}(r)){var o=r.src;if(o===this._imageSrc)t=this._imageWidth,n=this._imageHeight;else{var a=r.runtimeStyle,s=a.width,u=a.height;a.width="auto",a.height="auto",t=r.width,n=r.height,a.width=s,a.height=u,this._imageSrc=o,this._imageWidth=t,this._imageHeight=n}r=o}else r===this._imageSrc&&(t=this._imageWidth,n=this._imageHeight);if(r){var d=i.x||0,h=i.y||0,g=i.width,m=i.height,y=i.sWidth,I=i.sHeight,j=i.sx||0,q=i.sy||0,K=y&&I,te=this._vmlEl;te||(te=ho.createElement("div"),Lm(te),this._vmlEl=te);var ue,be=te.style,ke=!1,Be=1,We=1;if(this.transform&&(Be=oc((ue=this.transform)[0]*ue[0]+ue[1]*ue[1]),We=oc(ue[2]*ue[2]+ue[3]*ue[3]),ke=ue[1]||ue[2]),ke){var qe=[d,h],gt=[d+g,h],tn=[d,h+m],Jt=[d+g,h+m];Pt(qe,qe,ue),Pt(gt,gt,ue),Pt(tn,tn,ue),Pt(Jt,Jt,ue);var un=Pm(qe[0],gt[0],tn[0],Jt[0]),Mn=Pm(qe[1],gt[1],tn[1],Jt[1]),xn=[];xn.push("M11=",ue[0]/Be,",","M12=",ue[2]/We,",","M21=",ue[1]/Be,",","M22=",ue[3]/We,",","Dx=",Ri(d*Be+ue[4]),",","Dy=",Ri(h*We+ue[5])),be.padding="0 "+Ri(un)+"px "+Ri(Mn)+"px 0",be.filter="progid:DXImageTransform.Microsoft.Matrix("+xn.join("")+", SizingMethod=clip)"}else ue&&(d=d*Be+ue[4],h=h*We+ue[5]),be.filter="",be.left=Ri(d)+"px",be.top=Ri(h)+"px";var kn=this._imageEl,Wn=this._cropEl;kn||(kn=ho.createElement("div"),this._imageEl=kn);var Vn=kn.style;if(K){if(t&&n)Vn.width=Ri(Be*t*g/y)+"px",Vn.height=Ri(We*n*m/I)+"px";else{var Jn=new Image,zn=this;Jn.onload=function(){Jn.onload=null,n=Jn.height,Vn.width=Ri(Be*(t=Jn.width)*g/y)+"px",Vn.height=Ri(We*n*m/I)+"px",zn._imageWidth=t,zn._imageHeight=n,zn._imageSrc=r},Jn.src=r}Wn||((Wn=ho.createElement("div")).style.overflow="hidden",this._cropEl=Wn);var Di=Wn.style;Di.width=Ri((g+j*g/y)*Be),Di.height=Ri((m+q*m/I)*We),Di.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-j*g/y*Be+",Dy="+-q*m/I*We+")",Wn.parentNode||te.appendChild(Wn),kn.parentNode!=Wn&&Wn.appendChild(kn)}else Vn.width=Ri(Be*g)+"px",Vn.height=Ri(We*m)+"px",te.appendChild(kn),Wn&&Wn.parentNode&&(te.removeChild(Wn),this._cropEl=null);var ci="",Qi=i.opacity;Qi<1&&(ci+=".Alpha(opacity="+Ri(100*Qi)+") "),Vn.filter=ci+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+r+", SizingMethod=scale)",te.style.zIndex=Em(this.zlevel,this.z,this.z2),fa(e,te),null!=i.text&&this.drawRectText(e,this.getBoundingRect())}},ur.prototype.onRemove=function(e){ac(e,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(e)},ur.prototype.onAdd=function(e){fa(e,this._vmlEl),this.appendRectText(e)};var al,Rm={},Bm=0,JN=document.createElement("div"),QN=function(e){var t=Rm[e];if(!t){Bm>100&&(Bm=0,Rm={});var n,i=JN.style;try{i.font=e,n=i.fontFamily.split(",")[0]}catch(r){}t={style:i.fontStyle||"normal",variant:i.fontVariant||"normal",weight:i.fontWeight||"normal",size:0|parseFloat(i.fontSize||12),family:n||"Microsoft YaHei"},Rm[e]=t,Bm++}return t};qp.measureText=function(e,t){var n=ho;al||((al=n.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",ho.body.appendChild(al));try{al.style.font=t}catch(i){}return al.innerHTML="",al.appendChild(n.createTextNode(e)),{width:al.offsetWidth}};for(var Om=new li,zw=[gd,yr,ur,sn,Si],zm=0;zm<zw.length;zm++){var Fm=zw[zm].prototype;Fm.drawRectText=function(e,t,n,i){var r=this.style;this.__dirty&&Fr(r);var o=r.text;if(null!=o&&(o+=""),o){if(r.rich){var a=Ha(o,r);o=[];for(var s=0;s<a.lines.length;s++){for(var u=a.lines[s].tokens,d=[],h=0;h<u.length;h++)d.push(u[h].text);o.push(d.join(""))}o=o.join("\n")}var g,m,y=r.textAlign,I=r.textVerticalAlign,j=QN(r.font),q=j.style+" "+j.variant+" "+j.weight+" "+j.size+'px "'+j.family+'"';n=n||qr(o,q,y,I);var K=this.transform;if(K&&!i&&(Om.copy(t),Om.applyTransform(K),t=Om),i)g=t.x,m=t.y;else{var te=r.textPosition,ue=r.textDistance;if(te instanceof Array)g=t.x+Bw(te[0],t.width),m=t.y+Bw(te[1],t.height),y=y||"left";else{var be=Go(te,t,ue);g=be.x,m=be.y,y=y||be.textAlign,I=I||be.textVerticalAlign}}g=io(g,n.width,y),m=Wo(m,n.height,I),m+=n.height/2;var ke,Be,We,qe=Ap,gt=this._textVmlEl;gt?Be=(ke=(We=gt.firstChild).nextSibling).nextSibling:(gt=qe("line"),ke=qe("path"),Be=qe("textpath"),We=qe("skew"),Be.style["v-text-align"]="left",Lm(gt),ke.textpathok=!0,Be.on=!0,gt.from="0 0",gt.to="1000 0.05",fa(gt,We),fa(gt,ke),fa(gt,Be),this._textVmlEl=gt);var tn=[g,m],Jt=gt.style;K&&i?(Pt(tn,tn,K),We.on=!0,We.matrix=K[0].toFixed(3)+","+K[2].toFixed(3)+","+K[1].toFixed(3)+","+K[3].toFixed(3)+",0,0",We.offset=(Ri(tn[0])||0)+","+(Ri(tn[1])||0),We.origin="0 0",Jt.left="0px",Jt.top="0px"):(We.on=!1,Jt.left=Ri(g)+"px",Jt.top=Ri(m)+"px"),Be.string=qN(o);try{Be.style.font=q}catch(un){}Th(gt,"fill",{fill:r.textFill,opacity:r.opacity},this),Th(gt,"stroke",{stroke:r.textStroke,opacity:r.opacity,lineDash:r.lineDash},this),gt.style.zIndex=Em(this.zlevel,this.z,this.z2),fa(e,gt)}},Fm.removeRectText=function(e){ac(e,this._textVmlEl),this._textVmlEl=null},Fm.appendRectText=function(e){fa(e,this._textVmlEl)}}Si.prototype.brushVML=function(e){var t=this.style;null!=t.text?this.drawRectText(e,{x:t.x||0,y:t.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(e)},Si.prototype.onRemove=function(e){this.removeRectText(e)},Si.prototype.onAdd=function(e){this.appendRectText(e)}}ed.prototype={constructor:ed,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0,!0);this._paintList(e)},_paintList:function(e){for(var t=this._vmlRoot,n=0;n<e.length;n++){var i=e[n];i.invisible||i.ignore?(i.__alreadyNotVisible||i.onRemove(t),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(t),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,t),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(t),this._firstPaint=!1)},resize:function(e,t){if(e=null==e?this._getWidth():e,t=null==t?this._getHeight():t,this._width!=e||this._height!=t){this._width=e,this._height=t;var n=this._vmlViewport.style;n.width=e+"px",n.height=t+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var e=this.root,t=e.currentStyle;return(e.clientWidth||Tl(t.width))-Tl(t.paddingLeft)-Tl(t.paddingRight)|0},_getHeight:function(){var e=this.root,t=e.currentStyle;return(e.clientHeight||Tl(t.height))-Tl(t.paddingTop)-Tl(t.paddingBottom)|0}},de(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){ed.prototype[e]=function(){}}),R("vml",ed);var eP="http://www.w3.org/2000/svg",sl=lo.CMD,tP=Array.prototype.join,ll="none",Vm=Math.round,Fw=Math.sin,Vw=Math.cos,Hm=Math.PI,kh=2*Math.PI,nP=180/Hm,Hw=1e-4,sc={brush:function(e){var t=e.style,n=e.__svgEl;n||(n=Ps("path"),e.__svgEl=n),e.path||e.createPathProxy();var i=e.path;if(e.__dirtyPath){i.beginPath(),e.buildPath(i,e.shape),e.__dirtyPath=!1;var r=function(e){for(var t=[],n=e.data,i=e.len(),r=0;r<i;){var o="",a=0;switch(n[r++]){case sl.M:o="M",a=2;break;case sl.L:o="L",a=2;break;case sl.Q:o="Q",a=4;break;case sl.C:o="C",a=6;break;case sl.A:var s=n[r++],u=n[r++],d=n[r++],h=n[r++],g=n[r++],m=n[r++],y=n[r++],I=n[r++],j=Math.abs(m),q=Ip(j-kh)&&!Ip(j),K=!1;K=j>=kh||!Ip(j)&&(m>-Hm&&m<0||m>Hm)==!!I;var te=Po(s+d*Vw(g)),ue=Po(u+h*Fw(g));q&&(m=I?kh-1e-4:1e-4-kh,K=!0,9===r&&t.push("M",te,ue));var be=Po(s+d*Vw(g+m)),ke=Po(u+h*Fw(g+m));t.push("A",Po(d),Po(h),Vm(y*nP),+K,+I,be,ke);break;case sl.Z:o="Z";break;case sl.R:be=Po(n[r++]),ke=Po(n[r++]);var Be=Po(n[r++]),We=Po(n[r++]);t.push("M",be,ke,"L",be+Be,ke,"L",be+Be,ke+We,"L",be,ke+We,"L",be,ke)}o&&t.push(o);for(var qe=0;qe<a;qe++)t.push(Po(n[r++]))}return t.join(" ")}(i);r.indexOf("NaN")<0&&qi(n,"d",r)}cx(n,t),Dp(n,e.transform),null!=t.text&&Ih(e,e.getBoundingRect())}},Wm={brush:function(e){var t=e.style,n=t.image;if(n instanceof HTMLImageElement&&(n=n.src),n){var i=t.x||0,r=t.y||0,o=t.width,a=t.height,s=e.__svgEl;s||(s=Ps("image"),e.__svgEl=s),n!==e.__imageSrc&&(function(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink","href",n)}(s,0,n),e.__imageSrc=n),qi(s,"width",o),qi(s,"height",a),qi(s,"x",i),qi(s,"y",r),Dp(s,e.transform),null!=t.text&&Ih(e,e.getBoundingRect())}}},Ah={},Gm=new li,Ih=function(e,t,n){var i=e.style;e.__dirty&&Fr(i);var r=i.text;if(null!=r){r+="";var o=e.__textSvgEl;if(o||(o=Ps("text"),e.__textSvgEl=o),cx(o,i,!0),e instanceof Si||e.style.transformText)Dp(o,e.transform);else if(e.transform)Gm.copy(t),Gm.applyTransform(e.transform),t=Gm;else{var a=e.transformCoordToGlobal(t.x,t.y);t.x=a[0],t.y=a[1]}var s,u,d=i.textPosition,h=i.textDistance,g=i.textAlign||"left";"number"==typeof i.fontSize&&(i.fontSize+="px");var m=i.font||[i.fontStyle||"",i.fontWeight||"",i.fontSize||"",i.fontFamily||""].join(" ")||Lu,y=dx(i.textVerticalAlign),I=(n=qr(r,m,g,y)).lineHeight;if(d instanceof Array)s=t.x+d[0],u=t.y+d[1];else{var j=Go(d,t,h);s=j.x,u=j.y,y=dx(j.textVerticalAlign),g=j.textAlign}qi(o,"alignment-baseline",y),m&&(o.style.font=m);var q=i.textPadding;qi(o,"x",s),qi(o,"y",u);var K=r.split("\n"),te=K.length,ue=g;"left"===ue?(ue="start",q&&(s+=q[3])):"right"===ue?(ue="end",q&&(s-=q[1])):"center"===ue&&(ue="middle",q&&(s+=(q[3]-q[1])/2));var be=0;if("baseline"===y?(be=-n.height+I,q&&(be-=q[2])):"middle"===y?(be=(-n.height+I)/2,q&&(u+=(q[0]-q[2])/2)):q&&(be+=q[0]),e.__text!==r||e.__textFont!==m){var ke=e.__tspanList||[];for(e.__tspanList=ke,We=0;We<te;We++)(qe=ke[We])?qe.innerHTML="":(qe=ke[We]=Ps("tspan"),o.appendChild(qe),qi(qe,"alignment-baseline",y),qi(qe,"text-anchor",ue)),qi(qe,"x",s),qi(qe,"y",u+We*I+be),qe.appendChild(document.createTextNode(K[We]));for(;We<ke.length;We++)o.removeChild(ke[We]);ke.length=te,e.__text=r,e.__textFont=m}else if(e.__tspanList.length)for(var Be=e.__tspanList.length,We=0;We<Be;++We){var qe=e.__tspanList[We];qe&&(qi(qe,"x",s),qi(qe,"y",u+We*I+be))}}};Ah.drawRectText=Ih,Ah.brush=function(e){var t=e.style;null!=t.text&&(t.textPosition=[0,0],Ih(e,{x:t.x||0,y:t.y||0,width:0,height:0},e.getBoundingRect()))},hx.prototype={diff:function(e,t,n){n||(n=function(y,I){return y===I}),this.equals=n;var i=this;e=e.slice();var r=(t=t.slice()).length,o=e.length,a=1,s=r+o,u=[{newPos:-1,components:[]}],d=this.extractCommon(u[0],t,e,0);if(u[0].newPos+1>=r&&d+1>=o){for(var h=[],g=0;g<t.length;g++)h.push(g);return[{indices:h,count:t.length}]}for(;a<=s;){var m=function(){for(var y=-1*a;y<=a;y+=2){var I,j=u[y-1],q=u[y+1],K=(q?q.newPos:0)-y;j&&(u[y-1]=void 0);var te=j&&j.newPos+1<r,ue=q&&0<=K&&K<o;if(te||ue){if(!te||ue&&j.newPos<q.newPos?(I=Tk(q),i.pushComponent(I.components,void 0,!0)):((I=j).newPos++,i.pushComponent(I.components,!0,void 0)),K=i.extractCommon(I,t,e,y),I.newPos+1>=r&&K+1>=o)return Mk(0,I.components);u[y]=I}else u[y]=void 0}a++}();if(m)return m}},pushComponent:function(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,i){for(var r=t.length,o=n.length,a=e.newPos,s=a-i,u=0;a+1<r&&s+1<o&&this.equals(t[a+1],n[s+1]);)a++,s++,u++;return u&&e.components.push({count:u}),e.newPos=a,s},tokenize:function(e){return e.slice()},join:function(e){return e.slice()}};var iP=new hx;tr.prototype.createElement=Ps,tr.prototype.getDefs=function(e){var t=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?e?((n=t.insertBefore(this.createElement("defs"),t.firstChild)).contains||(n.contains=function(i){var r=n.children;if(!r)return!1;for(var o=r.length-1;o>=0;--o)if(r[o]===i)return!0;return!1}),n):null:n[0]},tr.prototype.update=function(e,t){if(e){var n=this.getDefs(!1);if(e[this._domName]&&n.contains(e[this._domName]))"function"==typeof t&&t(e);else{var i=this.add(e);i&&(e[this._domName]=i)}}},tr.prototype.addDom=function(e){this.getDefs(!0).appendChild(e)},tr.prototype.removeDom=function(e){var t=this.getDefs(!1);t&&e[this._domName]&&(t.removeChild(e[this._domName]),e[this._domName]=null)},tr.prototype.getDoms=function(){var e=this.getDefs(!1);if(!e)return[];var t=[];return de(this._tagNames,function(n){var i=e.getElementsByTagName(n);t=t.concat([].slice.call(i))}),t},tr.prototype.markAllUnused=function(){var e=this;de(this.getDoms(),function(t){t[e._markLabel]="0"})},tr.prototype.markUsed=function(e){e&&(e[this._markLabel]="1")},tr.prototype.removeUnused=function(){var e=this.getDefs(!1);if(e){var t=this;de(this.getDoms(),function(n){"1"!==n[t._markLabel]&&e.removeChild(n)})}},tr.prototype.getSvgProxy=function(e){return e instanceof sn?sc:e instanceof ur?Wm:e instanceof Si?Ah:sc},tr.prototype.getTextSvgElement=function(e){return e.__textSvgEl},tr.prototype.getSvgElement=function(e){return e.__svgEl},we(Ls,tr),Ls.prototype.addWithoutUpdate=function(e,t){if(t&&t.style){var n=this;de(["fill","stroke"],function(i){if(t.style[i]&&("linear"===t.style[i].type||"radial"===t.style[i].type)){var r,o=t.style[i],a=n.getDefs(!0);o._dom?(r=o._dom,a.contains(o._dom)||n.addDom(r)):r=n.add(o),n.markUsed(t);var s=r.getAttribute("id");e.setAttribute(i,"url(#"+s+")")}})}},Ls.prototype.add=function(e){var t;if("linear"===e.type)t=this.createElement("linearGradient");else{if("radial"!==e.type)return null;t=this.createElement("radialGradient")}return e.id=e.id||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id),this.updateDom(e,t),this.addDom(t),t},Ls.prototype.update=function(e){var t=this;tr.prototype.update.call(this,e,function(){var n=e.type,i=e._dom.tagName;"linear"===n&&"linearGradient"===i||"radial"===n&&"radialGradient"===i?t.updateDom(e,e._dom):(t.removeDom(e),t.add(e))})},Ls.prototype.updateDom=function(e,t){if("linear"===e.type)t.setAttribute("x1",e.x),t.setAttribute("y1",e.y),t.setAttribute("x2",e.x2),t.setAttribute("y2",e.y2);else{if("radial"!==e.type)return;t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("r",e.r)}t.setAttribute("gradientUnits",e.global?"userSpaceOnUse":"objectBoundingBox"),t.innerHTML="";for(var n=e.colorStops,i=0,r=n.length;i<r;++i){var o=this.createElement("stop");o.setAttribute("offset",100*n[i].offset+"%"),o.setAttribute("stop-color",n[i].color),t.appendChild(o)}e._dom=t},Ls.prototype.markUsed=function(e){if(e.style){var t=e.style.fill;t&&t._dom&&tr.prototype.markUsed.call(this,t._dom),(t=e.style.stroke)&&t._dom&&tr.prototype.markUsed.call(this,t._dom)}},we(Tu,tr),Tu.prototype.update=function(e){var t=this.getSvgElement(e);t&&this.updateDom(t,e.__clipPaths,!1);var n=this.getTextSvgElement(e);n&&this.updateDom(n,e.__clipPaths,!0),this.markUsed(e)},Tu.prototype.updateDom=function(e,t,n){if(t&&t.length>0){var i,r,o=this.getDefs(!0),a=t[0],s=n?"_textDom":"_dom";a[s]?(r=a[s].getAttribute("id"),o.contains(i=a[s])||o.appendChild(i)):(r="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(i=this.createElement("clipPath")).setAttribute("id",r),o.appendChild(i),a[s]=i);var u=this.getSvgProxy(a);if(a.transform&&a.parent.invTransform&&!n){var d=Array.prototype.slice.call(a.transform);Yt(a.transform,a.parent.invTransform,a.transform),u.brush(a),a.transform=d}else u.brush(a);var h=this.getSvgElement(a);i.innerHTML="",i.appendChild(h.cloneNode()),e.setAttribute("clip-path","url(#"+r+")"),t.length>1&&this.updateDom(i,t.slice(1),n)}else e&&e.setAttribute("clip-path","none")},Tu.prototype.markUsed=function(e){var t=this;e.__clipPaths&&e.__clipPaths.length>0&&de(e.__clipPaths,function(n){n._dom&&tr.prototype.markUsed.call(t,n._dom),n._textDom&&tr.prototype.markUsed.call(t,n._textDom)})},we(Za,tr),Za.prototype.addWithoutUpdate=function(e,t){if(t&&fx(t.style)){var n,i=t.style;i._shadowDom?(n=i._shadowDom,this.getDefs(!0).contains(i._shadowDom)||this.addDom(n)):n=this.add(t),this.markUsed(t);var r=n.getAttribute("id");e.style.filter="url(#"+r+")"}},Za.prototype.add=function(e){var t=this.createElement("filter"),n=e.style;return n._shadowDomId=n._shadowDomId||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-shadow-"+n._shadowDomId),this.updateDom(e,t),this.addDom(t),t},Za.prototype.update=function(e,t){var n=t.style;if(fx(n)){var i=this;tr.prototype.update.call(this,t,function(r){i.updateDom(t,r._shadowDom)})}else this.remove(e,n)},Za.prototype.remove=function(e,t){null!=t._shadowDomId&&(this.removeDom(t),e.style.filter="")},Za.prototype.updateDom=function(e,t){var n=t.getElementsByTagName("feDropShadow");n=0===n.length?this.createElement("feDropShadow"):n[0];var i,r,o,a,s=e.style,u=e.scale&&e.scale[0]||1,d=e.scale&&e.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)i=s.shadowOffsetX||0,r=s.shadowOffsetY||0,o=s.shadowBlur,a=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(t,s);i=s.textShadowOffsetX||0,r=s.textShadowOffsetY||0,o=s.textShadowBlur,a=s.textShadowColor}n.setAttribute("dx",i/u),n.setAttribute("dy",r/d),n.setAttribute("flood-color",a),n.setAttribute("stdDeviation",o/2/u+" "+o/2/d),t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width",Math.ceil(o/2*200)+"%"),t.setAttribute("height",Math.ceil(o/2*200)+"%"),t.appendChild(n),s._shadowDom=t},Za.prototype.markUsed=function(e){var t=e.style;t&&t._shadowDom&&tr.prototype.markUsed.call(this,t._shadowDom)};var Dh=function(e,t,n,i){this.root=e,this.storage=t,this._opts=n=On({},n||{});var r=Ps("svg");r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("version","1.1"),r.setAttribute("baseProfile","full"),r.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new Ls(i,r),this.clipPathManager=new Tu(i,r),this.shadowManager=new Za(i,r);var o=document.createElement("div");o.style.cssText="overflow:hidden;position:relative",this._svgRoot=r,this._viewport=o,e.appendChild(o),o.appendChild(r),this.resize(n.width,n.height),this._visibleList=[]};Dh.prototype={constructor:Dh,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0);this._paintList(e)},_paintList:function(e){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var t,n=this._svgRoot,i=this._visibleList,r=e.length,o=[];for(t=0;t<r;t++){var a=kk(y=e[t]),s=rd(y)||id(y);y.invisible||(y.__dirty&&(a&&a.brush(y),this.clipPathManager.update(y),y.style&&(this.gradientManager.update(y.style.fill),this.gradientManager.update(y.style.stroke),this.shadowManager.update(s,y)),y.__dirty=!1),o.push(y))}var u,d=function(e,t,n){return iP.diff(e,t,void 0)}(i,o);for(t=0;t<d.length;t++)if((g=d[t]).removed)for(m=0;m<g.count;m++){s=rd(y=i[g.indices[m]]);var h=id(y);mx(n,s),mx(n,h)}for(t=0;t<d.length;t++){var g=d[t];if(g.added)for(m=0;m<g.count;m++)s=rd(y=o[g.indices[m]]),h=id(y),u?nd(n,s,u):gx(n,s),s?nd(n,h,s):u?nd(n,h,u):gx(n,h),nd(n,h,s),u=h||s||u,this.gradientManager.addWithoutUpdate(s,y),this.shadowManager.addWithoutUpdate(u,y),this.clipPathManager.markUsed(y);else if(!g.removed)for(var m=0;m<g.count;m++){var y=o[g.indices[m]];u=s=id(y)||rd(y)||u,this.gradientManager.markUsed(y),this.gradientManager.addWithoutUpdate(s,y),this.shadowManager.markUsed(y),this.shadowManager.addWithoutUpdate(s,y),this.clipPathManager.markUsed(y)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=o},_getDefs:function(e){var t=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?e?((n=t.insertBefore(Ps("defs"),t.firstChild)).contains||(n.contains=function(i){var r=n.children;if(!r)return!1;for(var o=r.length-1;o>=0;--o)if(r[o]===i)return!0;return!1}),n):null:n[0]},resize:function(e,t){var n=this._viewport;n.style.display="none";var i=this._opts;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||this._height!==t){this._width=e,this._height=t;var r=n.style;r.width=e+"px",r.height=t+"px";var o=this._svgRoot;o.setAttribute("width",e),o.setAttribute("height",t)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],i=["clientWidth","clientHeight"][e],r=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[i]||td(s[n])||td(a.style[n]))-(td(s[r])||0)-(td(s[o])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToSvg:function(){return this.refresh(),"data:img/svg+xml;utf-8,"+unescape(this._svgRoot.outerHTML)}},de(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){Dh.prototype[e]=function(){}}),R("svg",Dh),Bt.version="4.0.2",Bt.dependencies={zrender:"4.0.1"},Bt.PRIORITY=Fl,Bt.init=function(e,t,n){var i=Xh(e);if(i)return i;var r=new au(e,t,n);return r.id="ec_"+qA++,js[r.id]=r,ye(e,Mg,r.id),function(e){function t(i,r){for(var o=0;o<i.length;o++)i[o][n]=r}var n="__connectUpdateStatus";Tr(Yd,function(i,r){e._messageCenter.on(r,function(o){if($d[e.group]&&0!==e[n]){if(o&&o.escapeConnect)return;var a=e.makeActionFromEvent(o),s=[];Tr(js,function(u){u!==e&&u.group===e.group&&s.push(u)}),t(s,0),Tr(s,function(u){1!==u[n]&&u.dispatchAction(a)}),t(s,2)}})})}(r),r},Bt.connect=function(e){if(me(e)){var t=e;e=null,Tr(t,function(n){null!=n.group&&(e=n.group)}),e=e||"g_"+ZA++,Tr(t,function(n){n.group=e})}return $d[e]=!0,e},Bt.disConnect=Mv,Bt.disconnect=YA,Bt.dispose=function(e){"string"==typeof e?e=js[e]:e instanceof au||(e=Xh(e)),e instanceof au&&!e.isDisposed()&&e.dispose()},Bt.getInstanceByDom=Xh,Bt.getInstanceById=function(e){return js[e]},Bt.registerTheme=Kh,Bt.registerPreprocessor=Ir,Bt.registerProcessor=yo,Bt.registerPostUpdate=function(e){_b.push(e)},Bt.registerAction=Ni,Bt.registerCoordinateSystem=Jh,Bt.getCoordinateSystemDimensions=function(e){var t=Rr.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},Bt.registerLayout=rr,Bt.registerVisual=Xi,Bt.registerLoading=Tv,Bt.extendComponentModel=Xr,Bt.extendComponentView=br,Bt.extendSeriesModel=lu,Bt.extendChartView=Vr,Bt.setCanvasCreator=function(e){Ln("createCanvas",e)},Bt.registerMap=function(e,t,n){t.geoJson&&!t.features&&(n=t.specialAreas,t=t.geoJson),"string"==typeof t&&(t="undefined"!=typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")()),Cb[e]={geoJson:t,specialAreas:n}},Bt.getMap=vc,Bt.dataTool={},Bt.zrender=Qk,Bt.graphic=Lo,Bt.number=wA,Bt.format=SA,Bt.throttle=qh,Bt.helper=hI,Bt.matrix=Hk,Bt.vector=zk,Bt.color=Uk,Bt.parseGeoJSON=Bg,Bt.parseGeoJson=pI,Bt.util=Db,Bt.List=wr,Bt.Model=Kn,Bt.Axis=mr,Bt.env=Ci}),function(Bt,Ln){"object"==typeof exports&&"undefined"!=typeof module?Ln(exports,require("echarts")):"function"==typeof define&&define.amd?define(["exports","echarts"],Ln):Ln(Bt.bmap={},Bt.echarts)}(this,function(Bt,Ln){"use strict";function hn(Ot,Qe){this._bmap=Ot,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=Qe,this._projection=new BMap.MercatorProjection}function Ye(Ot,Qe){return Qe=Qe||[0,0],Ln.util.map([0,1],function(we){var Ke=Qe[we],Mt=Ot[we]/2,de=[],Me=[];return de[we]=Ke-Mt,Me[we]=Ke+Mt,de[1-we]=Me[1-we]=Qe[1-we],Math.abs(this.dataToPoint(de)[we]-this.dataToPoint(Me)[we])},this)}var At;hn.prototype.dimensions=["lng","lat"],hn.prototype.setZoom=function(Ot){this._zoom=Ot},hn.prototype.setCenter=function(Ot){this._center=this._projection.lngLatToPoint(new BMap.Point(Ot[0],Ot[1]))},hn.prototype.setMapOffset=function(Ot){this._mapOffset=Ot},hn.prototype.getBMap=function(){return this._bmap},hn.prototype.dataToPoint=function(Ot){var Qe=new BMap.Point(Ot[0],Ot[1]),we=this._bmap.pointToOverlayPixel(Qe),Ke=this._mapOffset;return[we.x-Ke[0],we.y-Ke[1]]},hn.prototype.pointToData=function(Ot){var Qe=this._mapOffset;return[(Ot=this._bmap.overlayPixelToPoint({x:Ot[0]+Qe[0],y:Ot[1]+Qe[1]})).lng,Ot.lat]},hn.prototype.getViewRect=function(){var Ot=this._api;return new Ln.graphic.BoundingRect(0,0,Ot.getWidth(),Ot.getHeight())},hn.prototype.getRoamTransform=function(){return Ln.matrix.create()},hn.prototype.prepareCustoms=function(Ot){var Qe=this.getViewRect();return{coordSys:{type:"bmap",x:Qe.x,y:Qe.y,width:Qe.width,height:Qe.height},api:{coord:Ln.util.bind(this.dataToPoint,this),size:Ln.util.bind(Ye,this)}}},hn.dimensions=hn.prototype.dimensions,hn.create=function(Ot,Qe){var we,Ke=Qe.getDom();Ot.eachComponent("bmap",function(Mt){var de=Qe.getZr().painter,Me=de.getViewportRoot();if("undefined"==typeof BMap)throw new Error("BMap api is not loaded");if(At=At||function(){function Ot(Qe){this._root=Qe}return(Ot.prototype=new BMap.Overlay).initialize=function(Qe){return Qe.getPanes().labelPane.appendChild(this._root),this._root},Ot.prototype.draw=function(){},Ot}(),we)throw new Error("Only one bmap component can exist");if(!Mt.__bmap){var zt=Ke.querySelector(".ec-extension-bmap");zt&&(Me.style.left="0px",Me.style.top="0px",Ke.removeChild(zt)),(zt=document.createElement("div")).style.cssText="width:100%;height:100%",zt.classList.add("ec-extension-bmap"),Ke.appendChild(zt);var ot=Mt.__bmap=new BMap.Map(zt),ft=new At(Me);ot.addOverlay(ft),de.getViewportRootOffset=function(){return{offsetLeft:0,offsetTop:0}}}ot=Mt.__bmap;var Ne=Mt.get("center"),me=Mt.get("zoom");if(Ne&&me){var at=new BMap.Point(Ne[0],Ne[1]);ot.centerAndZoom(at,me)}(we=new hn(ot,Qe)).setMapOffset(Mt.__mapOffset||[0,0]),we.setZoom(me),we.setCenter(Ne),Mt.coordinateSystem=we}),Ot.eachSeries(function(Mt){"bmap"===Mt.get("coordinateSystem")&&(Mt.coordinateSystem=we)})},Ln.extendComponentModel({type:"bmap",getBMap:function(){return this.__bmap},setCenterAndZoom:function(Ot,Qe){this.option.center=Ot,this.option.zoom=Qe},centerOrZoomChanged:function(Ot,Qe){var we=this.option;return!(function(Ot,Qe){return Ot&&Qe&&Ot[0]===Qe[0]&&Ot[1]===Qe[1]}(Ot,we.center)&&Qe===we.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},roam:!1}}),Ln.extendComponentView({type:"bmap",render:function(Ot,Qe,we){function Ke(){Mt||we.dispatchAction({type:"bmapRoam"})}var Mt=!0,de=Ot.getBMap(),Me=we.getZr().painter.getViewportRoot(),zt=Ot.coordinateSystem,ft=function(ze,Oe){if(!Mt){var $e=Me.parentNode.parentNode.parentNode,xt=[-parseInt($e.style.left,10)||0,-parseInt($e.style.top,10)||0];Me.style.left=xt[0]+"px",Me.style.top=xt[1]+"px",zt.setMapOffset(xt),Ot.__mapOffset=xt,we.dispatchAction({type:"bmapRoam"})}};de.removeEventListener("moving",this._oldMoveHandler),de.removeEventListener("zoomend",this._oldZoomEndHandler),de.addEventListener("moving",ft),de.addEventListener("zoomend",Ke),this._oldMoveHandler=ft,this._oldZoomEndHandler=Ke;var ot=Ot.get("roam");ot&&"scale"!==ot?de.enableDragging():de.disableDragging(),ot&&"move"!==ot?(de.enableScrollWheelZoom(),de.enableDoubleClickZoom(),de.enablePinchToZoom()):(de.disableScrollWheelZoom(),de.disableDoubleClickZoom(),de.disablePinchToZoom());var Ne=Ot.__mapStyle,me=Ot.get("mapStyle")||{},at=JSON.stringify(me);JSON.stringify(Ne)!==at&&(Object.keys(me).length&&de.setMapStyle(me),Ot.__mapStyle=JSON.parse(at)),Mt=!1}}),Ln.registerCoordinateSystem("bmap",hn),Ln.registerAction({type:"bmapRoam",event:"bmapRoam",update:"updateLayout"},function(Ot,Qe){Qe.eachComponent("bmap",function(we){var Ke=we.getBMap(),Mt=Ke.getCenter();we.setCenterAndZoom([Mt.lng,Mt.lat],Ke.getZoom())})}),Bt.version="1.0.0"}),function(Bt,Ln){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Ln(function(){try{return require("moment")}catch(hn){}}()):"function"==typeof define&&define.amd?define(["require"],function(hn){return Ln(function(){try{return hn("moment")}catch(Ye){}}())}):(Bt=Bt||self).Chart=Ln(Bt.moment)}(this,function(Bt){"use strict";Bt=Bt&&Bt.hasOwnProperty("default")?Bt.default:Bt;var c,Ln={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},hn=(function(l){var c={};for(var f in Ln)Ln.hasOwnProperty(f)&&(c[Ln[f]]=f);var p=l.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var v in p)if(p.hasOwnProperty(v)){if(!("channels"in p[v]))throw new Error("missing channels property: "+v);if(!("labels"in p[v]))throw new Error("missing channel labels property: "+v);if(p[v].labels.length!==p[v].channels)throw new Error("channel and label counts mismatch: "+v);var k=p[v].channels,L=p[v].labels;delete p[v].channels,delete p[v].labels,Object.defineProperty(p[v],"channels",{value:k}),Object.defineProperty(p[v],"labels",{value:L})}p.rgb.hsl=function(G){var Z,Q,se=G[0]/255,he=G[1]/255,_e=G[2]/255,Re=Math.min(se,he,_e),De=Math.max(se,he,_e),Ue=De-Re;return De===Re?Z=0:se===De?Z=(he-_e)/Ue:he===De?Z=2+(_e-se)/Ue:_e===De&&(Z=4+(se-he)/Ue),(Z=Math.min(60*Z,360))<0&&(Z+=360),Q=(Re+De)/2,[Z,100*(De===Re?0:Q<=.5?Ue/(De+Re):Ue/(2-De-Re)),100*Q]},p.rgb.hsv=function(G){var Z,Q,se,he,_e,Re=G[0]/255,De=G[1]/255,Ue=G[2]/255,Ze=Math.max(Re,De,Ue),qt=Ze-Math.min(Re,De,Ue),Ut=function(mn){return(Ze-mn)/6/qt+.5};return 0===qt?he=_e=0:(_e=qt/Ze,Z=Ut(Re),Q=Ut(De),se=Ut(Ue),Re===Ze?he=se-Q:De===Ze?he=1/3+Z-se:Ue===Ze&&(he=2/3+Q-Z),he<0?he+=1:he>1&&(he-=1)),[360*he,100*_e,100*Ze]},p.rgb.hwb=function(G){var Z=G[0],Q=G[1],se=G[2];return[p.rgb.hsl(G)[0],1/255*Math.min(Z,Math.min(Q,se))*100,100*(se=1-1/255*Math.max(Z,Math.max(Q,se)))]},p.rgb.cmyk=function(G){var Z,Q=G[0]/255,se=G[1]/255,he=G[2]/255;return[100*((1-Q-(Z=Math.min(1-Q,1-se,1-he)))/(1-Z)||0),100*((1-se-Z)/(1-Z)||0),100*((1-he-Z)/(1-Z)||0),100*Z]},p.rgb.keyword=function(G){var Z=c[G];if(Z)return Z;var Q,se,he,_e=1/0;for(var Re in Ln)if(Ln.hasOwnProperty(Re)){var Ue=(se=G,he=Ln[Re],Math.pow(se[0]-he[0],2)+Math.pow(se[1]-he[1],2)+Math.pow(se[2]-he[2],2));Ue<_e&&(_e=Ue,Q=Re)}return Q},p.keyword.rgb=function(G){return Ln[G]},p.rgb.xyz=function(G){var Z=G[0]/255,Q=G[1]/255,se=G[2]/255;return[100*(.4124*(Z=Z>.04045?Math.pow((Z+.055)/1.055,2.4):Z/12.92)+.3576*(Q=Q>.04045?Math.pow((Q+.055)/1.055,2.4):Q/12.92)+.1805*(se=se>.04045?Math.pow((se+.055)/1.055,2.4):se/12.92)),100*(.2126*Z+.7152*Q+.0722*se),100*(.0193*Z+.1192*Q+.9505*se)]},p.rgb.lab=function(G){var Z=p.rgb.xyz(G),Q=Z[0],se=Z[1],he=Z[2];return se/=100,he/=108.883,Q=(Q/=95.047)>.008856?Math.pow(Q,1/3):7.787*Q+16/116,[116*(se=se>.008856?Math.pow(se,1/3):7.787*se+16/116)-16,500*(Q-se),200*(se-(he=he>.008856?Math.pow(he,1/3):7.787*he+16/116))]},p.hsl.rgb=function(G){var Z,Q,se,he,_e,Re=G[0]/360,De=G[1]/100,Ue=G[2]/100;if(0===De)return[_e=255*Ue,_e,_e];Z=2*Ue-(Q=Ue<.5?Ue*(1+De):Ue+De-Ue*De),he=[0,0,0];for(var Ze=0;Ze<3;Ze++)(se=Re+1/3*-(Ze-1))<0&&se++,se>1&&se--,he[Ze]=255*(_e=6*se<1?Z+6*(Q-Z)*se:2*se<1?Q:3*se<2?Z+(Q-Z)*(2/3-se)*6:Z);return he},p.hsl.hsv=function(G){var Z=G[0],Q=G[1]/100,se=G[2]/100,he=Q,_e=Math.max(se,.01);return Q*=(se*=2)<=1?se:2-se,he*=_e<=1?_e:2-_e,[Z,100*(0===se?2*he/(_e+he):2*Q/(se+Q)),(se+Q)/2*100]},p.hsv.rgb=function(G){var Z=G[0]/60,Q=G[1]/100,se=G[2]/100,he=Math.floor(Z)%6,_e=Z-Math.floor(Z),Re=255*se*(1-Q),De=255*se*(1-Q*_e),Ue=255*se*(1-Q*(1-_e));switch(se*=255,he){case 0:return[se,Ue,Re];case 1:return[De,se,Re];case 2:return[Re,se,Ue];case 3:return[Re,De,se];case 4:return[Ue,Re,se];case 5:return[se,Re,De]}},p.hsv.hsl=function(G){var Z,Q,se,he=G[0],_e=G[1]/100,Re=G[2]/100,De=Math.max(Re,.01);return se=(2-_e)*Re,Q=_e*De,[he,100*(Q=(Q/=(Z=(2-_e)*De)<=1?Z:2-Z)||0),100*(se/=2)]},p.hwb.rgb=function(G){var Z,Q,se,he,_e,Re,De,Ue=G[0]/360,Ze=G[1]/100,qt=G[2]/100,Ut=Ze+qt;switch(Ut>1&&(Ze/=Ut,qt/=Ut),se=6*Ue-(Z=Math.floor(6*Ue)),0!=(1&Z)&&(se=1-se),he=Ze+se*((Q=1-qt)-Ze),Z){default:_e=Q,Re=he,De=Ze;break;case 1:_e=he,Re=Q,De=Ze;break;case 2:_e=Ze,Re=Q,De=he;break;case 3:_e=Ze,Re=he,De=Q;break;case 4:_e=he,Re=Ze,De=Q;break;case 5:_e=Q,Re=Ze,De=he}return[255*_e,255*Re,255*De]},p.cmyk.rgb=function(G){var Q=G[1]/100,se=G[2]/100,he=G[3]/100;return[255*(1-Math.min(1,G[0]/100*(1-he)+he)),255*(1-Math.min(1,Q*(1-he)+he)),255*(1-Math.min(1,se*(1-he)+he))]},p.xyz.rgb=function(G){var Z,Q,se,he=G[0]/100,_e=G[1]/100,Re=G[2]/100;return Q=-.9689*he+1.8758*_e+.0415*Re,se=.0557*he+-.204*_e+1.057*Re,Z=(Z=3.2406*he+-1.5372*_e+-.4986*Re)>.0031308?1.055*Math.pow(Z,1/2.4)-.055:12.92*Z,Q=Q>.0031308?1.055*Math.pow(Q,1/2.4)-.055:12.92*Q,se=se>.0031308?1.055*Math.pow(se,1/2.4)-.055:12.92*se,[255*(Z=Math.min(Math.max(0,Z),1)),255*(Q=Math.min(Math.max(0,Q),1)),255*(se=Math.min(Math.max(0,se),1))]},p.xyz.lab=function(G){var Z=G[0],Q=G[1],se=G[2];return Q/=100,se/=108.883,Z=(Z/=95.047)>.008856?Math.pow(Z,1/3):7.787*Z+16/116,[116*(Q=Q>.008856?Math.pow(Q,1/3):7.787*Q+16/116)-16,500*(Z-Q),200*(Q-(se=se>.008856?Math.pow(se,1/3):7.787*se+16/116))]},p.lab.xyz=function(G){var Z,Q,se;Z=G[1]/500+(Q=(G[0]+16)/116),se=Q-G[2]/200;var _e=Math.pow(Q,3),Re=Math.pow(Z,3),De=Math.pow(se,3);return Q=_e>.008856?_e:(Q-16/116)/7.787,Z=Re>.008856?Re:(Z-16/116)/7.787,se=De>.008856?De:(se-16/116)/7.787,[Z*=95.047,Q*=100,se*=108.883]},p.lab.lch=function(G){var Z,Q=G[0],se=G[1],he=G[2];return(Z=360*Math.atan2(he,se)/2/Math.PI)<0&&(Z+=360),[Q,Math.sqrt(se*se+he*he),Z]},p.lch.lab=function(G){var Z,se=G[1];return Z=G[2]/360*2*Math.PI,[G[0],se*Math.cos(Z),se*Math.sin(Z)]},p.rgb.ansi16=function(G){var Z=G[0],Q=G[1],se=G[2],he=1 in arguments?arguments[1]:p.rgb.hsv(G)[2];if(0===(he=Math.round(he/50)))return 30;var _e=30+(Math.round(se/255)<<2|Math.round(Q/255)<<1|Math.round(Z/255));return 2===he&&(_e+=60),_e},p.hsv.ansi16=function(G){return p.rgb.ansi16(p.hsv.rgb(G),G[2])},p.rgb.ansi256=function(G){var Z=G[0],Q=G[1],se=G[2];return Z===Q&&Q===se?Z<8?16:Z>248?231:Math.round((Z-8)/247*24)+232:16+36*Math.round(Z/255*5)+6*Math.round(Q/255*5)+Math.round(se/255*5)},p.ansi16.rgb=function(G){var Z=G%10;if(0===Z||7===Z)return G>50&&(Z+=3.5),[Z=Z/10.5*255,Z,Z];var Q=.5*(1+~~(G>50));return[(1&Z)*Q*255,(Z>>1&1)*Q*255,(Z>>2&1)*Q*255]},p.ansi256.rgb=function(G){if(G>=232){var Z=10*(G-232)+8;return[Z,Z,Z]}var Q;return G-=16,[Math.floor(G/36)/5*255,Math.floor((Q=G%36)/6)/5*255,Q%6/5*255]},p.rgb.hex=function(G){var Z=(((255&Math.round(G[0]))<<16)+((255&Math.round(G[1]))<<8)+(255&Math.round(G[2]))).toString(16).toUpperCase();return"000000".substring(Z.length)+Z},p.hex.rgb=function(G){var Z=G.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!Z)return[0,0,0];var Q=Z[0];3===Z[0].length&&(Q=Q.split("").map(function(he){return he+he}).join(""));var se=parseInt(Q,16);return[se>>16&255,se>>8&255,255&se]},p.rgb.hcg=function(G){var Z,Q=G[0]/255,se=G[1]/255,he=G[2]/255,_e=Math.max(Math.max(Q,se),he),Re=Math.min(Math.min(Q,se),he),De=_e-Re;return Z=De<=0?0:_e===Q?(se-he)/De%6:_e===se?2+(he-Q)/De:4+(Q-se)/De+4,Z/=6,[360*(Z%=1),100*De,100*(De<1?Re/(1-De):0)]},p.hsl.hcg=function(G){var se,Z=G[1]/100,Q=G[2]/100,he=0;return(se=Q<.5?2*Z*Q:2*Z*(1-Q))<1&&(he=(Q-.5*se)/(1-se)),[G[0],100*se,100*he]},p.hsv.hcg=function(G){var Q=G[2]/100,se=G[1]/100*Q,he=0;return se<1&&(he=(Q-se)/(1-se)),[G[0],100*se,100*he]},p.hcg.rgb=function(G){var Q=G[1]/100,se=G[2]/100;if(0===Q)return[255*se,255*se,255*se];var he,_e=[0,0,0],Re=G[0]/360%1*6,De=Re%1,Ue=1-De;switch(Math.floor(Re)){case 0:_e[0]=1,_e[1]=De,_e[2]=0;break;case 1:_e[0]=Ue,_e[1]=1,_e[2]=0;break;case 2:_e[0]=0,_e[1]=1,_e[2]=De;break;case 3:_e[0]=0,_e[1]=Ue,_e[2]=1;break;case 4:_e[0]=De,_e[1]=0,_e[2]=1;break;default:_e[0]=1,_e[1]=0,_e[2]=Ue}return[255*(Q*_e[0]+(he=(1-Q)*se)),255*(Q*_e[1]+he),255*(Q*_e[2]+he)]},p.hcg.hsv=function(G){var Z=G[1]/100,Q=Z+G[2]/100*(1-Z),se=0;return Q>0&&(se=Z/Q),[G[0],100*se,100*Q]},p.hcg.hsl=function(G){var Z=G[1]/100,Q=G[2]/100*(1-Z)+.5*Z,se=0;return Q>0&&Q<.5?se=Z/(2*Q):Q>=.5&&Q<1&&(se=Z/(2*(1-Q))),[G[0],100*se,100*Q]},p.hcg.hwb=function(G){var Z=G[1]/100,Q=Z+G[2]/100*(1-Z);return[G[0],100*(Q-Z),100*(1-Q)]},p.hwb.hcg=function(G){var Q=1-G[2]/100,se=Q-G[1]/100,he=0;return se<1&&(he=(Q-se)/(1-se)),[G[0],100*se,100*he]},p.apple.rgb=function(G){return[G[0]/65535*255,G[1]/65535*255,G[2]/65535*255]},p.rgb.apple=function(G){return[G[0]/255*65535,G[1]/255*65535,G[2]/255*65535]},p.gray.rgb=function(G){return[G[0]/100*255,G[0]/100*255,G[0]/100*255]},p.gray.hsl=p.gray.hsv=function(G){return[0,0,G[0]]},p.gray.hwb=function(G){return[0,100,G[0]]},p.gray.cmyk=function(G){return[0,0,0,G[0]]},p.gray.lab=function(G){return[G[0],0,0]},p.gray.hex=function(G){var Z=255&Math.round(G[0]/100*255),Q=((Z<<16)+(Z<<8)+Z).toString(16).toUpperCase();return"000000".substring(Q.length)+Q},p.rgb.gray=function(G){return[(G[0]+G[1]+G[2])/3/255*100]}}(c={exports:{}}),c.exports);function sr(l,c){return function(f){return c(l(f))}}function On(l,c){for(var f=[c[l].parent,l],p=hn[c[l].parent][l],v=c[l].parent;c[v].parent;)f.unshift(c[v].parent),p=sr(hn[c[v].parent][v],p),v=c[v].parent;return p.conversion=f,p}var At={};Object.keys(hn).forEach(function(l){At[l]={},Object.defineProperty(At[l],"channels",{value:hn[l].channels}),Object.defineProperty(At[l],"labels",{value:hn[l].labels});var c=function(f){for(var p=function(l){var c=function(){for(var Q={},se=Object.keys(hn),he=se.length,_e=0;_e<he;_e++)Q[se[_e]]={distance:-1,parent:null};return Q}(),f=[l];for(c[l].distance=0;f.length;)for(var p=f.pop(),v=Object.keys(hn[p]),k=v.length,L=0;L<k;L++){var G=v[L],Z=c[G];-1===Z.distance&&(Z.distance=c[p].distance+1,Z.parent=p,f.unshift(G))}return c}(f),v={},k=Object.keys(p),L=k.length,G=0;G<L;G++){var Z=k[G];null!==p[Z].parent&&(v[Z]=On(Z,p))}return v}(l);Object.keys(c).forEach(function(f){var v,k,p=c[f];At[l][f]=(k=function(L){if(null==L)return L;arguments.length>1&&(L=Array.prototype.slice.call(arguments));var G=v(L);if("object"==typeof G)for(var Z=G.length,Q=0;Q<Z;Q++)G[Q]=Math.round(G[Q]);return G},"conversion"in(v=p)&&(k.conversion=v.conversion),k),At[l][f].raw=function(v){var k=function(L){return null==L?L:(arguments.length>1&&(L=Array.prototype.slice.call(arguments)),v(L))};return"conversion"in v&&(k.conversion=v.conversion),k}(p)})});var Ot=At,Qe={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},we={getRgba:Ke,getHsla:Mt,getRgb:function(l){var c=Ke(l);return c&&c.slice(0,3)},getHsl:function(l){var c=Mt(l);return c&&c.slice(0,3)},getHwb:de,getAlpha:function(l){var c=Ke(l);if(c||(c=Mt(l))||(c=de(l)))return c[3]},hexString:function(l,c){return c=void 0!==c&&3===l.length?c:l[3],"#"+Ne(l[0])+Ne(l[1])+Ne(l[2])+(c>=0&&c<1?Ne(Math.round(255*c)):"")},rgbString:function(l,c){return c<1||l[3]&&l[3]<1?Me(l,c):"rgb("+l[0]+", "+l[1]+", "+l[2]+")"},rgbaString:Me,percentString:function(l,c){return c<1||l[3]&&l[3]<1?zt(l,c):"rgb("+Math.round(l[0]/255*100)+"%, "+Math.round(l[1]/255*100)+"%, "+Math.round(l[2]/255*100)+"%)"},percentaString:zt,hslString:function(l,c){return c<1||l[3]&&l[3]<1?ft(l,c):"hsl("+l[0]+", "+l[1]+"%, "+l[2]+"%)"},hslaString:ft,hwbString:function(l,c){return void 0===c&&(c=void 0!==l[3]?l[3]:1),"hwb("+l[0]+", "+l[1]+"%, "+l[2]+"%"+(void 0!==c&&1!==c?", "+c:"")+")"},keyword:function(l){return me[l.slice(0,3)]}};function Ke(l){if(l){var c=[0,0,0],f=1,p=l.match(/^#([a-fA-F0-9]{3,4})$/i),v="";if(p){v=(p=p[1])[3];for(var k=0;k<c.length;k++)c[k]=parseInt(p[k]+p[k],16);v&&(f=Math.round(parseInt(v+v,16)/255*100)/100)}else if(p=l.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(v=p[2],p=p[1],k=0;k<c.length;k++)c[k]=parseInt(p.slice(2*k,2*k+2),16);v&&(f=Math.round(parseInt(v,16)/255*100)/100)}else if(p=l.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(k=0;k<c.length;k++)c[k]=parseInt(p[k+1]);f=parseFloat(p[4])}else if(p=l.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(k=0;k<c.length;k++)c[k]=Math.round(2.55*parseFloat(p[k+1]));f=parseFloat(p[4])}else if(p=l.match(/(\w+)/)){if("transparent"==p[1])return[0,0,0,0];if(!(c=Qe[p[1]]))return}for(k=0;k<c.length;k++)c[k]=ot(c[k],0,255);return f=f||0==f?ot(f,0,1):1,c[3]=f,c}}function Mt(l){if(l){var c=l.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(c){var f=parseFloat(c[4]);return[ot(parseInt(c[1]),0,360),ot(parseFloat(c[2]),0,100),ot(parseFloat(c[3]),0,100),ot(isNaN(f)?1:f,0,1)]}}}function de(l){if(l){var c=l.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(c){var f=parseFloat(c[4]);return[ot(parseInt(c[1]),0,360),ot(parseFloat(c[2]),0,100),ot(parseFloat(c[3]),0,100),ot(isNaN(f)?1:f,0,1)]}}}function Me(l,c){return void 0===c&&(c=void 0!==l[3]?l[3]:1),"rgba("+l[0]+", "+l[1]+", "+l[2]+", "+c+")"}function zt(l,c){return"rgba("+Math.round(l[0]/255*100)+"%, "+Math.round(l[1]/255*100)+"%, "+Math.round(l[2]/255*100)+"%, "+(c||l[3]||1)+")"}function ft(l,c){return void 0===c&&(c=void 0!==l[3]?l[3]:1),"hsla("+l[0]+", "+l[1]+"%, "+l[2]+"%, "+c+")"}function ot(l,c,f){return Math.min(Math.max(c,l),f)}function Ne(l){var c=l.toString(16).toUpperCase();return c.length<2?"0"+c:c}var me={};for(var at in Qe)me[Qe[at]]=at;var ze=function(l){return l instanceof ze?l:this instanceof ze?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof l?(c=we.getRgba(l))?this.setValues("rgb",c):(c=we.getHsla(l))?this.setValues("hsl",c):(c=we.getHwb(l))&&this.setValues("hwb",c):"object"==typeof l&&(void 0!==(c=l).r||void 0!==c.red?this.setValues("rgb",c):void 0!==c.l||void 0!==c.lightness?this.setValues("hsl",c):void 0!==c.v||void 0!==c.value?this.setValues("hsv",c):void 0!==c.w||void 0!==c.whiteness?this.setValues("hwb",c):void 0===c.c&&void 0===c.cyan||this.setValues("cmyk",c)))):new ze(l);var c};ze.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var l=this.values;return 1!==l.alpha?l.hwb.concat([l.alpha]):l.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var l=this.values;return l.rgb.concat([l.alpha])},hslaArray:function(){var l=this.values;return l.hsl.concat([l.alpha])},alpha:function(l){return void 0===l?this.values.alpha:(this.setValues("alpha",l),this)},red:function(l){return this.setChannel("rgb",0,l)},green:function(l){return this.setChannel("rgb",1,l)},blue:function(l){return this.setChannel("rgb",2,l)},hue:function(l){return l&&(l=(l%=360)<0?360+l:l),this.setChannel("hsl",0,l)},saturation:function(l){return this.setChannel("hsl",1,l)},lightness:function(l){return this.setChannel("hsl",2,l)},saturationv:function(l){return this.setChannel("hsv",1,l)},whiteness:function(l){return this.setChannel("hwb",1,l)},blackness:function(l){return this.setChannel("hwb",2,l)},value:function(l){return this.setChannel("hsv",2,l)},cyan:function(l){return this.setChannel("cmyk",0,l)},magenta:function(l){return this.setChannel("cmyk",1,l)},yellow:function(l){return this.setChannel("cmyk",2,l)},black:function(l){return this.setChannel("cmyk",3,l)},hexString:function(){return we.hexString(this.values.rgb)},rgbString:function(){return we.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return we.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return we.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return we.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return we.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return we.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return we.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var l=this.values.rgb;return l[0]<<16|l[1]<<8|l[2]},luminosity:function(){for(var l=this.values.rgb,c=[],f=0;f<l.length;f++){var p=l[f]/255;c[f]=p<=.03928?p/12.92:Math.pow((p+.055)/1.055,2.4)}return.2126*c[0]+.7152*c[1]+.0722*c[2]},contrast:function(l){var c=this.luminosity(),f=l.luminosity();return c>f?(c+.05)/(f+.05):(f+.05)/(c+.05)},level:function(l){var c=this.contrast(l);return c>=7.1?"AAA":c>=4.5?"AA":""},dark:function(){var l=this.values.rgb;return(299*l[0]+587*l[1]+114*l[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var l=[],c=0;c<3;c++)l[c]=255-this.values.rgb[c];return this.setValues("rgb",l),this},lighten:function(l){var c=this.values.hsl;return c[2]+=c[2]*l,this.setValues("hsl",c),this},darken:function(l){var c=this.values.hsl;return c[2]-=c[2]*l,this.setValues("hsl",c),this},saturate:function(l){var c=this.values.hsl;return c[1]+=c[1]*l,this.setValues("hsl",c),this},desaturate:function(l){var c=this.values.hsl;return c[1]-=c[1]*l,this.setValues("hsl",c),this},whiten:function(l){var c=this.values.hwb;return c[1]+=c[1]*l,this.setValues("hwb",c),this},blacken:function(l){var c=this.values.hwb;return c[2]+=c[2]*l,this.setValues("hwb",c),this},greyscale:function(){var l=this.values.rgb,c=.3*l[0]+.59*l[1]+.11*l[2];return this.setValues("rgb",[c,c,c]),this},clearer:function(l){var c=this.values.alpha;return this.setValues("alpha",c-c*l),this},opaquer:function(l){var c=this.values.alpha;return this.setValues("alpha",c+c*l),this},rotate:function(l){var c=this.values.hsl,f=(c[0]+l)%360;return c[0]=f<0?360+f:f,this.setValues("hsl",c),this},mix:function(l,c){var f=l,p=void 0===c?.5:c,v=2*p-1,k=this.alpha()-f.alpha(),L=((v*k==-1?v:(v+k)/(1+v*k))+1)/2,G=1-L;return this.rgb(L*this.red()+G*f.red(),L*this.green()+G*f.green(),L*this.blue()+G*f.blue()).alpha(this.alpha()*p+f.alpha()*(1-p))},toJSON:function(){return this.rgb()},clone:function(){var l,c,f=new ze,p=this.values,v=f.values;for(var k in p)p.hasOwnProperty(k)&&("[object Array]"===(c={}.toString.call(l=p[k]))?v[k]=l.slice(0):"[object Number]"===c?v[k]=l:console.error("unexpected color value:",l));return f}},ze.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},ze.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},ze.prototype.getValues=function(l){for(var c=this.values,f={},p=0;p<l.length;p++)f[l.charAt(p)]=c[l][p];return 1!==c.alpha&&(f.a=c.alpha),f},ze.prototype.setValues=function(l,c){var f,p,v=this.values,k=this.spaces,L=this.maxes,G=1;if(this.valid=!0,"alpha"===l)G=c;else if(c.length)v[l]=c.slice(0,l.length),G=c[l.length];else if(void 0!==c[l.charAt(0)]){for(f=0;f<l.length;f++)v[l][f]=c[l.charAt(f)];G=c.a}else if(void 0!==c[k[l][0]]){var Z=k[l];for(f=0;f<l.length;f++)v[l][f]=c[Z[f]];G=c.alpha}if(v.alpha=Math.max(0,Math.min(1,void 0===G?v.alpha:G)),"alpha"===l)return!1;for(f=0;f<l.length;f++)p=Math.max(0,Math.min(L[l][f],v[l][f])),v[l][f]=Math.round(p);for(var Q in k)Q!==l&&(v[Q]=Ot[l][Q](v[l]));return!0},ze.prototype.setSpace=function(l,c){var f=c[0];return void 0===f?this.getValues(l):("number"==typeof f&&(f=Array.prototype.slice.call(c)),this.setValues(l,f),this)},ze.prototype.setChannel=function(l,c,f){var p=this.values[l];return void 0===f?p[c]:(f===p[c]||(p[c]=f,this.setValues(l,p)),this)},"undefined"!=typeof window&&(window.Color=ze);var Oe=ze;function $e(l){return-1===["__proto__","prototype","constructor"].indexOf(l)}var xt,Xe={noop:function(){},uid:(xt=0,function(){return xt++}),isNullOrUndef:function(l){return null==l},isArray:function(l){if(Array.isArray&&Array.isArray(l))return!0;var c=Object.prototype.toString.call(l);return"[object"===c.substr(0,7)&&"Array]"===c.substr(-6)},isObject:function(l){return null!==l&&"[object Object]"===Object.prototype.toString.call(l)},isFinite:function(l){return("number"==typeof l||l instanceof Number)&&isFinite(l)},valueOrDefault:function(l,c){return void 0===l?c:l},valueAtIndexOrDefault:function(l,c,f){return Xe.valueOrDefault(Xe.isArray(l)?l[c]:l,f)},callback:function(l,c,f){if(l&&"function"==typeof l.call)return l.apply(f,c)},each:function(l,c,f,p){var v,k,L;if(Xe.isArray(l))if(k=l.length,p)for(v=k-1;v>=0;v--)c.call(f,l[v],v);else for(v=0;v<k;v++)c.call(f,l[v],v);else if(Xe.isObject(l))for(k=(L=Object.keys(l)).length,v=0;v<k;v++)c.call(f,l[L[v]],L[v])},arrayEquals:function(l,c){var f,p,v,k;if(!l||!c||l.length!==c.length)return!1;for(f=0,p=l.length;f<p;++f)if(k=c[f],(v=l[f])instanceof Array&&k instanceof Array){if(!Xe.arrayEquals(v,k))return!1}else if(v!==k)return!1;return!0},clone:function(l){if(Xe.isArray(l))return l.map(Xe.clone);if(Xe.isObject(l)){for(var c=Object.create(l),f=Object.keys(l),p=f.length,v=0;v<p;++v)c[f[v]]=Xe.clone(l[f[v]]);return c}return l},_merger:function(l,c,f,p){if($e(l)){var v=c[l],k=f[l];Xe.isObject(v)&&Xe.isObject(k)?Xe.merge(v,k,p):c[l]=Xe.clone(k)}},_mergerIf:function(l,c,f){if($e(l)){var p=c[l],v=f[l];Xe.isObject(p)&&Xe.isObject(v)?Xe.mergeIf(p,v):c.hasOwnProperty(l)||(c[l]=Xe.clone(v))}},merge:function(l,c,f){var p,v,k,L,G,Z=Xe.isArray(c)?c:[c],Q=Z.length;if(!Xe.isObject(l))return l;for(p=(f=f||{}).merger||Xe._merger,v=0;v<Q;++v)if(Xe.isObject(c=Z[v]))for(G=0,L=(k=Object.keys(c)).length;G<L;++G)p(k[G],l,c,f);return l},mergeIf:function(l,c){return Xe.merge(l,c,{merger:Xe._mergerIf})},extend:Object.assign||function(l){return Xe.merge(l,[].slice.call(arguments,1),{merger:function(c,f,p){f[c]=p[c]}})},inherits:function(l){var c=this,f=l&&l.hasOwnProperty("constructor")?l.constructor:function(){return c.apply(this,arguments)},p=function(){this.constructor=f};return p.prototype=c.prototype,f.prototype=new p,f.extend=Xe.inherits,l&&Xe.extend(f.prototype,l),f.__super__=c.prototype,f},_deprecated:function(l,c,f,p){void 0!==c&&console.warn(l+': "'+f+'" is deprecated. Please use "'+p+'" instead')}},vt=Xe;Xe.callCallback=Xe.callback,Xe.indexOf=function(l,c,f){return Array.prototype.indexOf.call(l,c,f)},Xe.getValueOrDefault=Xe.valueOrDefault,Xe.getValueAtIndexOrDefault=Xe.valueAtIndexOrDefault;var Ft={linear:function(l){return l},easeInQuad:function(l){return l*l},easeOutQuad:function(l){return-l*(l-2)},easeInOutQuad:function(l){return(l/=.5)<1?.5*l*l:-.5*(--l*(l-2)-1)},easeInCubic:function(l){return l*l*l},easeOutCubic:function(l){return(l-=1)*l*l+1},easeInOutCubic:function(l){return(l/=.5)<1?.5*l*l*l:.5*((l-=2)*l*l+2)},easeInQuart:function(l){return l*l*l*l},easeOutQuart:function(l){return-((l-=1)*l*l*l-1)},easeInOutQuart:function(l){return(l/=.5)<1?.5*l*l*l*l:-.5*((l-=2)*l*l*l-2)},easeInQuint:function(l){return l*l*l*l*l},easeOutQuint:function(l){return(l-=1)*l*l*l*l+1},easeInOutQuint:function(l){return(l/=.5)<1?.5*l*l*l*l*l:.5*((l-=2)*l*l*l*l+2)},easeInSine:function(l){return 1-Math.cos(l*(Math.PI/2))},easeOutSine:function(l){return Math.sin(l*(Math.PI/2))},easeInOutSine:function(l){return-.5*(Math.cos(Math.PI*l)-1)},easeInExpo:function(l){return 0===l?0:Math.pow(2,10*(l-1))},easeOutExpo:function(l){return 1===l?1:1-Math.pow(2,-10*l)},easeInOutExpo:function(l){return 0===l?0:1===l?1:(l/=.5)<1?.5*Math.pow(2,10*(l-1)):.5*(2-Math.pow(2,-10*--l))},easeInCirc:function(l){return l>=1?l:-(Math.sqrt(1-l*l)-1)},easeOutCirc:function(l){return Math.sqrt(1-(l-=1)*l)},easeInOutCirc:function(l){return(l/=.5)<1?-.5*(Math.sqrt(1-l*l)-1):.5*(Math.sqrt(1-(l-=2)*l)+1)},easeInElastic:function(l){var c=1.70158,f=0,p=1;return 0===l?0:1===l?1:(f||(f=.3),p<1?(p=1,c=f/4):c=f/(2*Math.PI)*Math.asin(1/p),-p*Math.pow(2,10*(l-=1))*Math.sin((l-c)*(2*Math.PI)/f))},easeOutElastic:function(l){var c=1.70158,f=0,p=1;return 0===l?0:1===l?1:(f||(f=.3),p<1?(p=1,c=f/4):c=f/(2*Math.PI)*Math.asin(1/p),p*Math.pow(2,-10*l)*Math.sin((l-c)*(2*Math.PI)/f)+1)},easeInOutElastic:function(l){var c=1.70158,f=0,p=1;return 0===l?0:2==(l/=.5)?1:(f||(f=.45),p<1?(p=1,c=f/4):c=f/(2*Math.PI)*Math.asin(1/p),l<1?p*Math.pow(2,10*(l-=1))*Math.sin((l-c)*(2*Math.PI)/f)*-.5:p*Math.pow(2,-10*(l-=1))*Math.sin((l-c)*(2*Math.PI)/f)*.5+1)},easeInBack:function(l){var c=1.70158;return l*l*((c+1)*l-c)},easeOutBack:function(l){var c=1.70158;return(l-=1)*l*((c+1)*l+c)+1},easeInOutBack:function(l){var c=1.70158;return(l/=.5)<1?l*l*((1+(c*=1.525))*l-c)*.5:.5*((l-=2)*l*((1+(c*=1.525))*l+c)+2)},easeInBounce:function(l){return 1-Ft.easeOutBounce(1-l)},easeOutBounce:function(l){return l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375},easeInOutBounce:function(l){return l<.5?.5*Ft.easeInBounce(2*l):.5*Ft.easeOutBounce(2*l-1)+.5}},en={effects:Ft};vt.easingEffects=Ft;var Kt=Math.PI,It=Kt/180,bt=2*Kt,dt=Kt/2,Gt=Kt/4,Sn=2*Kt/3,ln={clear:function(l){l.ctx.clearRect(0,0,l.width,l.height)},roundedRect:function(l,c,f,p,v,k){if(k){var L=Math.min(k,v/2,p/2),G=c+L,Z=f+L,Q=c+p-L,se=f+v-L;l.moveTo(c,Z),G<Q&&Z<se?(l.arc(G,Z,L,-Kt,-dt),l.arc(Q,Z,L,-dt,0),l.arc(Q,se,L,0,dt),l.arc(G,se,L,dt,Kt)):G<Q?(l.moveTo(G,f),l.arc(Q,Z,L,-dt,dt),l.arc(G,Z,L,dt,Kt+dt)):Z<se?(l.arc(G,Z,L,-Kt,0),l.arc(G,se,L,0,Kt)):l.arc(G,Z,L,-Kt,Kt),l.closePath(),l.moveTo(c,f)}else l.rect(c,f,p,v)},drawPoint:function(l,c,f,p,v,k){var L,G,Z,Q,se,he=(k||0)*It;if(c&&"object"==typeof c&&("[object HTMLImageElement]"===(L=c.toString())||"[object HTMLCanvasElement]"===L))return l.save(),l.translate(p,v),l.rotate(he),l.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),void l.restore();if(!(isNaN(f)||f<=0)){switch(l.beginPath(),c){default:l.arc(p,v,f,0,bt),l.closePath();break;case"triangle":l.moveTo(p+Math.sin(he)*f,v-Math.cos(he)*f),he+=Sn,l.lineTo(p+Math.sin(he)*f,v-Math.cos(he)*f),he+=Sn,l.lineTo(p+Math.sin(he)*f,v-Math.cos(he)*f),l.closePath();break;case"rectRounded":Q=f-(se=.516*f),G=Math.cos(he+Gt)*Q,Z=Math.sin(he+Gt)*Q,l.arc(p-G,v-Z,se,he-Kt,he-dt),l.arc(p+Z,v-G,se,he-dt,he),l.arc(p+G,v+Z,se,he,he+dt),l.arc(p-Z,v+G,se,he+dt,he+Kt),l.closePath();break;case"rect":if(!k){Q=Math.SQRT1_2*f,l.rect(p-Q,v-Q,2*Q,2*Q);break}he+=Gt;case"rectRot":G=Math.cos(he)*f,Z=Math.sin(he)*f,l.moveTo(p-G,v-Z),l.lineTo(p+Z,v-G),l.lineTo(p+G,v+Z),l.lineTo(p-Z,v+G),l.closePath();break;case"crossRot":he+=Gt;case"cross":G=Math.cos(he)*f,Z=Math.sin(he)*f,l.moveTo(p-G,v-Z),l.lineTo(p+G,v+Z),l.moveTo(p+Z,v-G),l.lineTo(p-Z,v+G);break;case"star":G=Math.cos(he)*f,Z=Math.sin(he)*f,l.moveTo(p-G,v-Z),l.lineTo(p+G,v+Z),l.moveTo(p+Z,v-G),l.lineTo(p-Z,v+G),he+=Gt,G=Math.cos(he)*f,Z=Math.sin(he)*f,l.moveTo(p-G,v-Z),l.lineTo(p+G,v+Z),l.moveTo(p+Z,v-G),l.lineTo(p-Z,v+G);break;case"line":G=Math.cos(he)*f,Z=Math.sin(he)*f,l.moveTo(p-G,v-Z),l.lineTo(p+G,v+Z);break;case"dash":l.moveTo(p,v),l.lineTo(p+Math.cos(he)*f,v+Math.sin(he)*f)}l.fill(),l.stroke()}},_isPointInArea:function(l,c){return l.x>c.left-1e-6&&l.x<c.right+1e-6&&l.y>c.top-1e-6&&l.y<c.bottom+1e-6},clipArea:function(l,c){l.save(),l.beginPath(),l.rect(c.left,c.top,c.right-c.left,c.bottom-c.top),l.clip()},unclipArea:function(l){l.restore()},lineTo:function(l,c,f,p){var v=f.steppedLine;if(v){if("middle"===v){var k=(c.x+f.x)/2;l.lineTo(k,p?f.y:c.y),l.lineTo(k,p?c.y:f.y)}else"after"===v&&!p||"after"!==v&&p?l.lineTo(c.x,f.y):l.lineTo(f.x,c.y);l.lineTo(f.x,f.y)}else f.tension?l.bezierCurveTo(p?c.controlPointPreviousX:c.controlPointNextX,p?c.controlPointPreviousY:c.controlPointNextY,p?f.controlPointNextX:f.controlPointPreviousX,p?f.controlPointNextY:f.controlPointPreviousY,f.x,f.y):l.lineTo(f.x,f.y)}},Pn=ln;vt.clear=ln.clear,vt.drawRoundedRectangle=function(l){l.beginPath(),ln.roundedRect.apply(ln,arguments)};var st={_set:function(l,c){return vt.merge(this[l]||(this[l]={}),c)}};st._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var Tt=st,Zt=vt.valueOrDefault,_n={toLineHeight:function(l,c){var f=(""+l).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!f||"normal"===f[1])return 1.2*c;switch(l=+f[2],f[3]){case"px":return l;case"%":l/=100}return c*l},toPadding:function(l){var c,f,p,v;return vt.isObject(l)?(c=+l.top||0,f=+l.right||0,p=+l.bottom||0,v=+l.left||0):c=f=p=v=+l||0,{top:c,right:f,bottom:p,left:v,height:c+p,width:v+f}},_parseFont:function(l){var v,c=Tt.global,f=Zt(l.fontSize,c.defaultFontSize),p={family:Zt(l.fontFamily,c.defaultFontFamily),lineHeight:vt.options.toLineHeight(Zt(l.lineHeight,c.defaultLineHeight),f),size:f,style:Zt(l.fontStyle,c.defaultFontStyle),weight:null,string:""};return p.string=!(v=p)||vt.isNullOrUndef(v.size)||vt.isNullOrUndef(v.family)?null:(v.style?v.style+" ":"")+(v.weight?v.weight+" ":"")+v.size+"px "+v.family,p},resolve:function(l,c,f,p){var v,k,L,G=!0;for(v=0,k=l.length;v<k;++v)if(void 0!==(L=l[v])&&(void 0!==c&&"function"==typeof L&&(L=L(c),G=!1),void 0!==f&&vt.isArray(L)&&(L=L[f],G=!1),void 0!==L))return p&&!G&&(p.cacheable=!1),L}},lt={_factorize:function(l){var c,f=[],p=Math.sqrt(l);for(c=1;c<p;c++)l%c==0&&(f.push(c),f.push(l/c));return p===(0|p)&&f.push(p),f.sort(function(v,k){return v-k}).pop(),f},log10:Math.log10||function(l){var c=Math.log(l)*Math.LOG10E,f=Math.round(c);return l===Math.pow(10,f)?f:c}},Ht=lt;vt.log10=lt.log10;var le=vt,wn=Pn,Nn=_n,En=Ht;le.easing=en,le.canvas=wn,le.options=Nn,le.math=En,le.rtl={getRtlAdapter:function(l,c,f){return l?(p=c,v=f,{x:function(k){return p+p+v-k},setWidth:function(k){v=k},textAlign:function(k){return"center"===k?k:"right"===k?"left":"right"},xPlus:function(k,L){return k-L},leftForLtr:function(k,L){return k-L}}):{x:function(p){return p},setWidth:function(p){},textAlign:function(p){return p},xPlus:function(p,v){return p+v},leftForLtr:function(p,v){return p}};var p,v},overrideTextDirection:function(l,c){var f,p;"ltr"!==c&&"rtl"!==c||(p=[(f=l.canvas.style).getPropertyValue("direction"),f.getPropertyPriority("direction")],f.setProperty("direction",c,"important"),l.prevTextDirection=p)},restoreTextDirection:function(l){var c=l.prevTextDirection;void 0!==c&&(delete l.prevTextDirection,l.canvas.style.setProperty("direction",c[0],c[1]))}};var si=function(l){le.extend(this,l),this.initialize.apply(this,arguments)};le.extend(si.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var l=this;return l._view||(l._view=le.extend({},l._model)),l._start={},l},transition:function(l){var c=this,f=c._model,p=c._start,v=c._view;return f&&1!==l?(v||(v=c._view={}),p||(p=c._start={}),function(k,L,G,Z){var Q,se,he,_e,Re,De,Ue,Ze,qt,Ut=Object.keys(G);for(Q=0,se=Ut.length;Q<se;++Q)if(De=G[he=Ut[Q]],L.hasOwnProperty(he)||(L[he]=De),(_e=L[he])!==De&&"_"!==he[0]){if(k.hasOwnProperty(he)||(k[he]=_e),(Ue=typeof De)==typeof(Re=k[he]))if("string"===Ue){if((Ze=Oe(Re)).valid&&(qt=Oe(De)).valid){L[he]=qt.mix(Ze,Z).rgbString();continue}}else if(le.isFinite(Re)&&le.isFinite(De)){L[he]=Re+(De-Re)*Z;continue}L[he]=De}}(p,v,f,l),c):(c._view=le.extend({},f),c._start=null,c)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return le.isNumber(this._model.x)&&le.isNumber(this._model.y)}}),si.extend=le.inherits;var qn=si,zi=qn.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),yi=zi;Object.defineProperty(zi.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(zi.prototype,"chartInstance",{get:function(){return this.chart},set:function(l){this.chart=l}}),Tt._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:le.noop,onComplete:le.noop}});var Zi={animations:[],request:null,addAnimation:function(l,c,f,p){var v,k,L=this.animations;for(c.chart=l,c.startTime=Date.now(),c.duration=f,p||(l.animating=!0),v=0,k=L.length;v<k;++v)if(L[v].chart===l)return void(L[v]=c);L.push(c),1===L.length&&this.requestAnimationFrame()},cancelAnimation:function(l){var c=le.findIndex(this.animations,function(f){return f.chart===l});-1!==c&&(this.animations.splice(c,1),l.animating=!1)},requestAnimationFrame:function(){var l=this;null===l.request&&(l.request=le.requestAnimFrame.call(window,function(){l.request=null,l.startDigest()}))},startDigest:function(){this.advance(),this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var l,c,f,p,v=this.animations,k=0;k<v.length;)c=(l=v[k]).chart,f=l.numSteps,p=Math.floor((Date.now()-l.startTime)/l.duration*f)+1,l.currentStep=Math.min(p,f),le.callback(l.render,[c,l],c),le.callback(l.onAnimationProgress,[l],c),l.currentStep>=f?(le.callback(l.onAnimationComplete,[l],c),c.animating=!1,v.splice(k,1)):++k}},Pt=le.options.resolve,_t=["push","pop","shift","splice","unshift"];function on(l,c){var f=l._chartjs;if(f){var p=f.listeners,v=p.indexOf(c);-1!==v&&p.splice(v,1),p.length>0||(_t.forEach(function(k){delete l[k]}),delete l._chartjs)}}var dn=function(l,c){this.initialize(l,c)};le.extend(dn.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(l,c){var f=this;f.chart=l,f.index=c,f.linkScales(),f.addElements(),f._type=f.getMeta().type},updateIndex:function(l){this.index=l},linkScales:function(){var l=this.getMeta(),c=this.chart,f=c.scales,p=this.getDataset(),v=c.options.scales;null!==l.xAxisID&&l.xAxisID in f&&!p.xAxisID||(l.xAxisID=p.xAxisID||v.xAxes[0].id),null!==l.yAxisID&&l.yAxisID in f&&!p.yAxisID||(l.yAxisID=p.yAxisID||v.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(l){return this.chart.scales[l]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&on(this._data,this)},createMetaDataset:function(){var l=this.datasetElementType;return l&&new l({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(l){var c=this.dataElementType;return c&&new c({_chart:this.chart,_datasetIndex:this.index,_index:l})},addElements:function(){var l,c,f=this.getMeta(),p=this.getDataset().data||[],v=f.data;for(l=0,c=p.length;l<c;++l)v[l]=v[l]||this.createMetaData(l);f.dataset=f.dataset||this.createMetaDataset()},addElementAndReset:function(l){var c=this.createMetaData(l);this.getMeta().data.splice(l,0,c),this.updateElement(c,l,!0)},buildOrUpdateElements:function(){var l,c,f=this,p=f.getDataset(),v=p.data||(p.data=[]);f._data!==v&&(f._data&&on(f._data,f),v&&Object.isExtensible(v)&&(c=f,(l=v)._chartjs?l._chartjs.listeners.push(c):(Object.defineProperty(l,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[c]}}),_t.forEach(function(k){var L="onData"+k.charAt(0).toUpperCase()+k.slice(1),G=l[k];Object.defineProperty(l,k,{configurable:!0,enumerable:!1,value:function(){var Z=Array.prototype.slice.call(arguments),Q=G.apply(this,Z);return le.each(l._chartjs.listeners,function(se){"function"==typeof se[L]&&se[L].apply(se,Z)}),Q}})}))),f._data=v),f.resyncElements()},_configure:function(){this._config=le.merge(Object.create(null),[this.chart.options.datasets[this._type],this.getDataset()],{merger:function(l,c,f){"_meta"!==l&&"data"!==l&&le._merger(l,c,f)}})},_update:function(l){this._configure(),this._cachedDataOpts=null,this.update(l)},update:le.noop,transition:function(l){for(var c=this.getMeta(),f=c.data||[],p=f.length,v=0;v<p;++v)f[v].transition(l);c.dataset&&c.dataset.transition(l)},draw:function(){var l=this.getMeta(),c=l.data||[],f=c.length,p=0;for(l.dataset&&l.dataset.draw();p<f;++p)c[p].draw()},getStyle:function(l){var c,f=this.getMeta(),p=f.dataset;return this._configure(),!1!==(c=p&&void 0===l?this._resolveDatasetElementOptions(p||{}):this._resolveDataElementOptions(f.data[l=l||0]||{},l)).fill&&null!==c.fill||(c.backgroundColor=c.borderColor),c},_resolveDatasetElementOptions:function(l,c){var f,p,v,k,L=this,G=L.chart,Z=L._config,Q=l.custom||{},se=G.options.elements[L.datasetElementType.prototype._type]||{},he=L._datasetElementOptions,_e={},Re={chart:G,dataset:L.getDataset(),datasetIndex:L.index,hover:c};for(f=0,p=he.length;f<p;++f)v=he[f],k=c?"hover"+v.charAt(0).toUpperCase()+v.slice(1):v,_e[v]=Pt([Q[k],Z[k],se[k]],Re);return _e},_resolveDataElementOptions:function(l,c){var f=this,p=l&&l.custom,v=f._cachedDataOpts;if(v&&!p)return v;var k,L,G,Z,Q=f.chart,se=f._config,he=Q.options.elements[f.dataElementType.prototype._type]||{},_e=f._dataElementOptions,Re={},De={chart:Q,dataIndex:c,dataset:f.getDataset(),datasetIndex:f.index},Ue={cacheable:!p};if(p=p||{},le.isArray(_e))for(L=0,G=_e.length;L<G;++L)Re[Z=_e[L]]=Pt([p[Z],se[Z],he[Z]],De,c,Ue);else for(L=0,G=(k=Object.keys(_e)).length;L<G;++L)Re[Z=k[L]]=Pt([p[Z],se[_e[Z]],se[Z],he[Z]],De,c,Ue);return Ue.cacheable&&(f._cachedDataOpts=Object.freeze(Re)),Re},removeHoverStyle:function(l){le.merge(l._model,l.$previousStyle||{}),delete l.$previousStyle},setHoverStyle:function(l){var c=this.chart.data.datasets[l._datasetIndex],f=l._index,p=l.custom||{},v=l._model,k=le.getHoverColor;l.$previousStyle={backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth},v.backgroundColor=Pt([p.hoverBackgroundColor,c.hoverBackgroundColor,k(v.backgroundColor)],void 0,f),v.borderColor=Pt([p.hoverBorderColor,c.hoverBorderColor,k(v.borderColor)],void 0,f),v.borderWidth=Pt([p.hoverBorderWidth,c.hoverBorderWidth,v.borderWidth],void 0,f)},_removeDatasetHoverStyle:function(){var l=this.getMeta().dataset;l&&this.removeHoverStyle(l)},_setDatasetHoverStyle:function(){var l,c,f,p,v,k,L=this.getMeta().dataset,G={};if(L){for(k=L._model,v=this._resolveDatasetElementOptions(L,!0),l=0,c=(p=Object.keys(v)).length;l<c;++l)G[f=p[l]]=k[f],k[f]=v[f];L.$previousStyle=G}},resyncElements:function(){var l=this.getMeta(),c=this.getDataset().data,f=l.data.length,p=c.length;p<f?l.data.splice(p,f-p):p>f&&this.insertElements(f,p-f)},insertElements:function(l,c){for(var f=0;f<c;++f)this.addElementAndReset(l+f)},onDataPush:function(){var l=arguments.length;this.insertElements(this.getDataset().data.length-l,l)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(l,c){this.getMeta().data.splice(l,c),this.insertElements(l,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),dn.extend=le.inherits;var Lt=dn,gn=2*Math.PI;function Fn(l,c){var f=c.startAngle,p=c.endAngle,v=c.pixelMargin,k=v/c.outerRadius,L=c.x,G=c.y;l.beginPath(),l.arc(L,G,c.outerRadius,f-k,p+k),c.innerRadius>v?l.arc(L,G,c.innerRadius-v,p+(k=v/c.innerRadius),f-k,!0):l.arc(L,G,v,p+Math.PI/2,f-Math.PI/2),l.closePath(),l.clip()}Tt._set("global",{elements:{arc:{backgroundColor:Tt.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var ri=qn.extend({_type:"arc",inLabelRange:function(l){var c=this._view;return!!c&&Math.pow(l-c.x,2)<Math.pow(c.radius+c.hoverRadius,2)},inRange:function(l,c){var f=this._view;if(f){for(var p=le.getAngleFromPoint(f,{x:l,y:c}),v=p.angle,k=p.distance,L=f.startAngle,G=f.endAngle;G<L;)G+=gn;for(;v>G;)v-=gn;for(;v<L;)v+=gn;return v>=L&&v<=G&&k>=f.innerRadius&&k<=f.outerRadius}return!1},getCenterPoint:function(){var l=this._view,c=(l.startAngle+l.endAngle)/2,f=(l.innerRadius+l.outerRadius)/2;return{x:l.x+Math.cos(c)*f,y:l.y+Math.sin(c)*f}},getArea:function(){var l=this._view;return Math.PI*((l.endAngle-l.startAngle)/(2*Math.PI))*(Math.pow(l.outerRadius,2)-Math.pow(l.innerRadius,2))},tooltipPosition:function(){var l=this._view,c=l.startAngle+(l.endAngle-l.startAngle)/2,f=(l.outerRadius-l.innerRadius)/2+l.innerRadius;return{x:l.x+Math.cos(c)*f,y:l.y+Math.sin(c)*f}},draw:function(){var l,c=this._chart.ctx,f=this._view,p="inner"===f.borderAlign?.33:0,v={x:f.x,y:f.y,innerRadius:f.innerRadius,outerRadius:Math.max(f.outerRadius-p,0),pixelMargin:p,startAngle:f.startAngle,endAngle:f.endAngle,fullCircles:Math.floor(f.circumference/gn)};if(c.save(),c.fillStyle=f.backgroundColor,c.strokeStyle=f.borderColor,v.fullCircles){for(v.endAngle=v.startAngle+gn,c.beginPath(),c.arc(v.x,v.y,v.outerRadius,v.startAngle,v.endAngle),c.arc(v.x,v.y,v.innerRadius,v.endAngle,v.startAngle,!0),c.closePath(),l=0;l<v.fullCircles;++l)c.fill();v.endAngle=v.startAngle+f.circumference%gn}c.beginPath(),c.arc(v.x,v.y,v.outerRadius,v.startAngle,v.endAngle),c.arc(v.x,v.y,v.innerRadius,v.endAngle,v.startAngle,!0),c.closePath(),c.fill(),f.borderWidth&&function(l,c,f){var p="inner"===c.borderAlign;p?(l.lineWidth=2*c.borderWidth,l.lineJoin="round"):(l.lineWidth=c.borderWidth,l.lineJoin="bevel"),f.fullCircles&&function(v,k,L,G){var Z,Q=L.endAngle;for(G&&(L.endAngle=L.startAngle+gn,Fn(v,L),L.endAngle=Q,L.endAngle===L.startAngle&&L.fullCircles&&(L.endAngle+=gn,L.fullCircles--)),v.beginPath(),v.arc(L.x,L.y,L.innerRadius,L.startAngle+gn,L.startAngle,!0),Z=0;Z<L.fullCircles;++Z)v.stroke();for(v.beginPath(),v.arc(L.x,L.y,k.outerRadius,L.startAngle,L.startAngle+gn),Z=0;Z<L.fullCircles;++Z)v.stroke()}(l,c,f,p),p&&Fn(l,f),l.beginPath(),l.arc(f.x,f.y,c.outerRadius,f.startAngle,f.endAngle),l.arc(f.x,f.y,f.innerRadius,f.endAngle,f.startAngle,!0),l.closePath(),l.stroke()}(c,f,v),c.restore()}}),jn=le.valueOrDefault,Nt=Tt.global.defaultColor;Tt._set("global",{elements:{line:{tension:.4,backgroundColor:Nt,borderWidth:3,borderColor:Nt,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var Yt=qn.extend({_type:"line",draw:function(){var l,c,f,p=this,v=p._view,k=p._chart.ctx,L=v.spanGaps,G=p._children.slice(),Z=Tt.global,Q=Z.elements.line,se=-1,he=p._loop;if(G.length){if(p._loop){for(l=0;l<G.length;++l)if(c=le.previousItem(G,l),!G[l]._view.skip&&c._view.skip){G=G.slice(l).concat(G.slice(0,l)),he=L;break}he&&G.push(G[0])}for(k.save(),k.lineCap=v.borderCapStyle||Q.borderCapStyle,k.setLineDash&&k.setLineDash(v.borderDash||Q.borderDash),k.lineDashOffset=jn(v.borderDashOffset,Q.borderDashOffset),k.lineJoin=v.borderJoinStyle||Q.borderJoinStyle,k.lineWidth=jn(v.borderWidth,Q.borderWidth),k.strokeStyle=v.borderColor||Z.defaultColor,k.beginPath(),(f=G[0]._view).skip||(k.moveTo(f.x,f.y),se=0),l=1;l<G.length;++l)f=G[l]._view,c=-1===se?le.previousItem(G,l):G[se],f.skip||(se!==l-1&&!L||-1===se?k.moveTo(f.x,f.y):le.canvas.lineTo(k,c._view,f),se=l);he&&k.closePath(),k.stroke(),k.restore()}}}),an=le.valueOrDefault,Tn=Tt.global.defaultColor;function fn(l){var c=this._view;return!!c&&Math.abs(l-c.x)<c.radius+c.hitRadius}Tt._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Tn,borderColor:Tn,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var nn=qn.extend({_type:"point",inRange:function(l,c){var f=this._view;return!!f&&Math.pow(l-f.x,2)+Math.pow(c-f.y,2)<Math.pow(f.hitRadius+f.radius,2)},inLabelRange:fn,inXRange:fn,inYRange:function(l){var c=this._view;return!!c&&Math.abs(l-c.y)<c.radius+c.hitRadius},getCenterPoint:function(){var l=this._view;return{x:l.x,y:l.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var l=this._view;return{x:l.x,y:l.y,padding:l.radius+l.borderWidth}},draw:function(l){var c=this._view,f=this._chart.ctx,p=c.pointStyle,v=c.rotation,k=c.radius,L=c.x,G=c.y,Z=Tt.global,Q=Z.defaultColor;c.skip||(void 0===l||le.canvas._isPointInArea(c,l))&&(f.strokeStyle=c.borderColor||Q,f.lineWidth=an(c.borderWidth,Z.elements.point.borderWidth),f.fillStyle=c.backgroundColor||Q,le.canvas.drawPoint(f,p,k,L,G,v))}}),An=Tt.global.defaultColor;function Bn(l){return l&&void 0!==l.width}function Zn(l){var c,f,p,v,k;return Bn(l)?(c=l.x-(k=l.width/2),f=l.x+k,p=Math.min(l.y,l.base),v=Math.max(l.y,l.base)):(k=l.height/2,c=Math.min(l.x,l.base),f=Math.max(l.x,l.base),p=l.y-k,v=l.y+k),{left:c,top:p,right:f,bottom:v}}function $n(l,c,f){return l===c?f:l===f?c:l}function Yi(l,c,f){var p=null===c,v=null===f,k=!(!l||p&&v)&&Zn(l);return k&&(p||c>=k.left&&c<=k.right)&&(v||f>=k.top&&f<=k.bottom)}Tt._set("global",{elements:{rectangle:{backgroundColor:An,borderColor:An,borderSkipped:"bottom",borderWidth:0}}});var Ki=qn.extend({_type:"rectangle",draw:function(){var k,L,G,Z,Q,l=this._chart.ctx,c=this._view,f=(L=Zn(k=c),Q=function(l,c,f){var p,v,k,L,Q,se,he,G=l.borderWidth,Z=(he={},(se=(Q=l).borderSkipped)&&(Q.horizontal?Q.base>Q.x&&(se=$n(se,"left","right")):Q.base<Q.y&&(se=$n(se,"bottom","top")),he[se]=!0),he);return le.isObject(G)?(p=+G.top||0,v=+G.right||0,k=+G.bottom||0,L=+G.left||0):p=v=k=L=+G||0,{t:Z.top||p<0?0:p>f?f:p,r:Z.right||v<0?0:v>c?c:v,b:Z.bottom||k<0?0:k>f?f:k,l:Z.left||L<0?0:L>c?c:L}}(k,(G=L.right-L.left)/2,(Z=L.bottom-L.top)/2),{outer:{x:L.left,y:L.top,w:G,h:Z},inner:{x:L.left+Q.l,y:L.top+Q.t,w:G-Q.l-Q.r,h:Z-Q.t-Q.b}}),p=f.outer,v=f.inner;l.fillStyle=c.backgroundColor,l.fillRect(p.x,p.y,p.w,p.h),p.w===v.w&&p.h===v.h||(l.save(),l.beginPath(),l.rect(p.x,p.y,p.w,p.h),l.clip(),l.fillStyle=c.borderColor,l.rect(v.x,v.y,v.w,v.h),l.fill("evenodd"),l.restore())},height:function(){var l=this._view;return l.base-l.y},inRange:function(l,c){return Yi(this._view,l,c)},inLabelRange:function(l,c){var f=this._view;return Bn(f)?Yi(f,l,null):Yi(f,null,c)},inXRange:function(l){return Yi(this._view,l,null)},inYRange:function(l){return Yi(this._view,null,l)},getCenterPoint:function(){var l,c,f=this._view;return Bn(f)?(l=f.x,c=(f.y+f.base)/2):(l=(f.x+f.base)/2,c=f.y),{x:l,y:c}},getArea:function(){var l=this._view;return Bn(l)?l.width*Math.abs(l.y-l.base):l.height*Math.abs(l.x-l.base)},tooltipPosition:function(){var l=this._view;return{x:l.x,y:l.y}}}),_i={},nr=Yt,Ui=nn,vr=Ki;_i.Arc=ri,_i.Line=nr,_i.Point=Ui,_i.Rectangle=vr;var $i=le._deprecated,Vi=le.valueOrDefault;Tt._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),Tt._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var Nr=Lt.extend({dataElementType:_i.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var l,c,f=this;Lt.prototype.initialize.apply(f,arguments),(l=f.getMeta()).stack=f.getDataset().stack,l.bar=!0,c=f._getIndexScale().options,$i("bar chart",c.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),$i("bar chart",c.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),$i("bar chart",c.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),$i("bar chart",f._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),$i("bar chart",c.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(l){var c,f,p=this.getMeta().data;for(this._ruler=this.getRuler(),c=0,f=p.length;c<f;++c)this.updateElement(p[c],c,l)},updateElement:function(l,c,f){var p=this,v=p.getMeta(),k=p.getDataset(),L=p._resolveDataElementOptions(l,c);l._xScale=p.getScaleForId(v.xAxisID),l._yScale=p.getScaleForId(v.yAxisID),l._datasetIndex=p.index,l._index=c,l._model={backgroundColor:L.backgroundColor,borderColor:L.borderColor,borderSkipped:L.borderSkipped,borderWidth:L.borderWidth,datasetLabel:k.label,label:p.chart.data.labels[c]},le.isArray(k.data[c])&&(l._model.borderSkipped=null),p._updateElementGeometry(l,c,f,L),l.pivot()},_updateElementGeometry:function(l,c,f,p){var v=this,k=l._model,L=v._getValueScale(),G=L.getBasePixel(),Z=L.isHorizontal(),Q=v._ruler||v.getRuler(),se=v.calculateBarValuePixels(v.index,c,p),he=v.calculateBarIndexPixels(v.index,c,Q,p);k.horizontal=Z,k.base=f?G:se.base,k.x=Z?f?G:se.head:he.center,k.y=Z?he.center:f?G:se.head,k.height=Z?he.size:void 0,k.width=Z?void 0:he.size},_getStacks:function(l){var c,f,p=this._getIndexScale(),v=p._getMatchingVisibleMetas(this._type),k=p.options.stacked,L=v.length,G=[];for(c=0;c<L&&(f=v[c],(!1===k||-1===G.indexOf(f.stack)||void 0===k&&void 0===f.stack)&&G.push(f.stack),f.index!==l);++c);return G},getStackCount:function(){return this._getStacks().length},getStackIndex:function(l,c){var f=this._getStacks(l),p=void 0!==c?f.indexOf(c):-1;return-1===p?f.length-1:p},getRuler:function(){var l,c,f=this._getIndexScale(),p=[];for(l=0,c=this.getMeta().data.length;l<c;++l)p.push(f.getPixelForValue(null,l,this.index));return{pixels:p,start:f._startPixel,end:f._endPixel,stackCount:this.getStackCount(),scale:f}},calculateBarValuePixels:function(l,c,f){var p,v,k,L,G,Z,Q,se=this.chart,he=this._getValueScale(),_e=he.isHorizontal(),Re=se.data.datasets,De=he._getMatchingVisibleMetas(this._type),Ue=he._parseValue(Re[l].data[c]),Ze=f.minBarLength,qt=he.options.stacked,Ut=this.getMeta().stack,mn=void 0===Ue.start?0:Ue.max>=0&&Ue.min>=0?Ue.min:Ue.max,Cn=void 0===Ue.start?Ue.end:Ue.max>=0&&Ue.min>=0?Ue.max-Ue.min:Ue.min-Ue.max,In=De.length;if(qt||void 0===qt&&void 0!==Ut)for(p=0;p<In&&(v=De[p]).index!==l;++p)v.stack===Ut&&(k=void 0===(Q=he._parseValue(Re[v.index].data[c])).start?Q.end:Q.min>=0&&Q.max>=0?Q.max:Q.min,(Ue.min<0&&k<0||Ue.max>=0&&k>0)&&(mn+=k));return L=he.getPixelForValue(mn),Z=(G=he.getPixelForValue(mn+Cn))-L,void 0!==Ze&&Math.abs(Z)<Ze&&(Z=Ze,G=Cn>=0&&!_e||Cn<0&&_e?L-Ze:L+Ze),{size:Z,base:L,head:G,center:G+Z/2}},calculateBarIndexPixels:function(l,c,f,p){var Z,Q,se,he,_e,Re,De,Ue,Ze,v="flex"===p.barThickness?(Re=(_e=(Q=f).pixels)[Z=c],Ue=Z<_e.length-1?_e[Z+1]:null,Ze=(se=p).categoryPercentage,null===(De=Z>0?_e[Z-1]:null)&&(De=Re-(null===Ue?Q.end-Q.start:Ue-Re)),null===Ue&&(Ue=Re+Re-De),he=Re-(Re-Math.min(De,Ue))/2*Ze,{chunk:Math.abs(Ue-De)/2*Ze/Q.stackCount,ratio:se.barPercentage,start:he}):function(l,c,f){var p,v,k=f.barThickness,L=c.stackCount,G=c.pixels[l],Z=le.isNullOrUndef(k)?function(Q,se){var he,_e,Re,De,Ue=Q._length;for(Re=1,De=se.length;Re<De;++Re)Ue=Math.min(Ue,Math.abs(se[Re]-se[Re-1]));for(Re=0,De=Q.getTicks().length;Re<De;++Re)_e=Q.getPixelForTick(Re),Ue=Re>0?Math.min(Ue,Math.abs(_e-he)):Ue,he=_e;return Ue}(c.scale,c.pixels):-1;return le.isNullOrUndef(k)?(p=Z*f.categoryPercentage,v=f.barPercentage):(p=k*L,v=1),{chunk:p/L,ratio:v,start:G-p/2}}(c,f,p),k=this.getStackIndex(l,this.getMeta().stack),L=v.start+v.chunk*k+v.chunk/2,G=Math.min(Vi(p.maxBarThickness,1/0),v.chunk*v.ratio);return{base:L-G/2,head:L+G/2,center:L,size:G}},draw:function(){var l=this.chart,c=this._getValueScale(),f=this.getMeta().data,p=this.getDataset(),v=f.length,k=0;for(le.canvas.clipArea(l.ctx,l.chartArea);k<v;++k){var L=c._parseValue(p.data[k]);isNaN(L.min)||isNaN(L.max)||f[k].draw()}le.canvas.unclipArea(l.ctx)},_resolveDataElementOptions:function(){var l=this,c=le.extend({},Lt.prototype._resolveDataElementOptions.apply(l,arguments)),f=l._getIndexScale().options,p=l._getValueScale().options;return c.barPercentage=Vi(f.barPercentage,c.barPercentage),c.barThickness=Vi(f.barThickness,c.barThickness),c.categoryPercentage=Vi(f.categoryPercentage,c.categoryPercentage),c.maxBarThickness=Vi(f.maxBarThickness,c.maxBarThickness),c.minBarLength=Vi(p.minBarLength,c.minBarLength),c}}),to=le.valueOrDefault,kt=le.options.resolve;Tt._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(l,c){return(c.datasets[l.datasetIndex].label||"")+": ("+l.xLabel+", "+l.yLabel+", "+c.datasets[l.datasetIndex].data[l.index].r+")"}}}});var Wt=Lt.extend({dataElementType:_i.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(l){var c=this,f=c.getMeta().data;le.each(f,function(p,v){c.updateElement(p,v,l)})},updateElement:function(l,c,f){var p=this,v=p.getMeta(),k=l.custom||{},L=p.getScaleForId(v.xAxisID),G=p.getScaleForId(v.yAxisID),Z=p._resolveDataElementOptions(l,c),Q=p.getDataset().data[c],se=p.index,he=f?L.getPixelForDecimal(.5):L.getPixelForValue("object"==typeof Q?Q:NaN,c,se),_e=f?G.getBasePixel():G.getPixelForValue(Q,c,se);l._xScale=L,l._yScale=G,l._options=Z,l._datasetIndex=se,l._index=c,l._model={backgroundColor:Z.backgroundColor,borderColor:Z.borderColor,borderWidth:Z.borderWidth,hitRadius:Z.hitRadius,pointStyle:Z.pointStyle,rotation:Z.rotation,radius:f?0:Z.radius,skip:k.skip||isNaN(he)||isNaN(_e),x:he,y:_e},l.pivot()},setHoverStyle:function(l){var c=l._model,f=l._options,p=le.getHoverColor;l.$previousStyle={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,radius:c.radius},c.backgroundColor=to(f.hoverBackgroundColor,p(f.backgroundColor)),c.borderColor=to(f.hoverBorderColor,p(f.borderColor)),c.borderWidth=to(f.hoverBorderWidth,f.borderWidth),c.radius=f.radius+f.hoverRadius},_resolveDataElementOptions:function(l,c){var f=this,p=f.chart,v=f.getDataset(),k=l.custom||{},L=v.data[c]||{},G=Lt.prototype._resolveDataElementOptions.apply(f,arguments),Z={chart:p,dataIndex:c,dataset:v,datasetIndex:f.index};return f._cachedDataOpts===G&&(G=le.extend({},G)),G.radius=kt([k.radius,L.r,f._config.radius,p.options.elements.point.radius],Z,c),G}}),yn=le.valueOrDefault,rn=Math.PI,Dn=2*rn,Hn=rn/2;Tt._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(l){var c,f,p,v=document.createElement("ul"),k=l.data,L=k.datasets,G=k.labels;if(v.setAttribute("class",l.id+"-legend"),L.length)for(c=0,f=L[0].data.length;c<f;++c)(p=v.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=L[0].backgroundColor[c],G[c]&&p.appendChild(document.createTextNode(G[c]));return v.outerHTML},legend:{labels:{generateLabels:function(l){var c=l.data;return c.labels.length&&c.datasets.length?c.labels.map(function(f,p){var v=l.getDatasetMeta(0),k=v.controller.getStyle(p);return{text:f,fillStyle:k.backgroundColor,strokeStyle:k.borderColor,lineWidth:k.borderWidth,hidden:isNaN(c.datasets[0].data[p])||v.data[p].hidden,index:p}}):[]}},onClick:function(l,c){var f,p,v,k=c.index,L=this.chart;for(f=0,p=(L.data.datasets||[]).length;f<p;++f)(v=L.getDatasetMeta(f)).data[k]&&(v.data[k].hidden=!v.data[k].hidden);L.update()}},cutoutPercentage:50,rotation:-Hn,circumference:Dn,tooltips:{callbacks:{title:function(){return""},label:function(l,c){var f=c.labels[l.index],p=": "+c.datasets[l.datasetIndex].data[l.index];return le.isArray(f)?(f=f.slice())[0]+=p:f+=p,f}}}});var oi=Lt.extend({dataElementType:_i.Arc,linkScales:le.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(l){for(var c=0,f=0;f<l;++f)this.chart.isDatasetVisible(f)&&++c;return c},update:function(l){var p,v,k=this,L=k.chart,G=L.chartArea,Z=L.options,Q=1,se=1,he=0,_e=0,Re=k.getMeta(),De=Re.data,Ue=Z.cutoutPercentage/100||0,Ze=Z.circumference,qt=k._getRingWeight(k.index);if(Ze<Dn){var Ut=Z.rotation%Dn,mn=(Ut+=Ut>=rn?-Dn:Ut<-rn?Dn:0)+Ze,Cn=Math.cos(Ut),In=Math.sin(Ut),Gn=Math.cos(mn),ei=Math.sin(mn),ni=Ut<=0&&mn>=0||mn>=Dn,pn=Ut<=Hn&&mn>=Hn||mn>=Dn+Hn,ui=Ut<=-Hn&&mn>=-Hn||mn>=rn+Hn,mi=Ut===-rn||mn>=rn?-1:Math.min(Cn,Cn*Ue,Gn,Gn*Ue),pi=ui?-1:Math.min(In,In*Ue,ei,ei*Ue),ji=ni?1:Math.max(Cn,Cn*Ue,Gn,Gn*Ue),wi=pn?1:Math.max(In,In*Ue,ei,ei*Ue);Q=(ji-mi)/2,se=(wi-pi)/2,he=-(ji+mi)/2,_e=-(wi+pi)/2}for(p=0,v=De.length;p<v;++p)De[p]._options=k._resolveDataElementOptions(De[p],p);for(L.borderWidth=k.getMaxBorderWidth(),L.outerRadius=Math.max(Math.min((G.right-G.left-L.borderWidth)/Q,(G.bottom-G.top-L.borderWidth)/se)/2,0),L.innerRadius=Math.max(L.outerRadius*Ue,0),L.radiusLength=(L.outerRadius-L.innerRadius)/(k._getVisibleDatasetWeightTotal()||1),L.offsetX=he*L.outerRadius,L.offsetY=_e*L.outerRadius,Re.total=k.calculateTotal(),k.outerRadius=L.outerRadius-L.radiusLength*k._getRingWeightOffset(k.index),k.innerRadius=Math.max(k.outerRadius-L.radiusLength*qt,0),p=0,v=De.length;p<v;++p)k.updateElement(De[p],p,l)},updateElement:function(l,c,f){var p=this,v=p.chart,k=v.chartArea,L=v.options,G=L.animation,Z=(k.left+k.right)/2,Q=(k.top+k.bottom)/2,se=L.rotation,he=L.rotation,_e=p.getDataset(),Re=f&&G.animateRotate||l.hidden?0:p.calculateCircumference(_e.data[c])*(L.circumference/Dn),Ze=l._options||{};le.extend(l,{_datasetIndex:p.index,_index:c,_model:{backgroundColor:Ze.backgroundColor,borderColor:Ze.borderColor,borderWidth:Ze.borderWidth,borderAlign:Ze.borderAlign,x:Z+v.offsetX,y:Q+v.offsetY,startAngle:se,endAngle:he,circumference:Re,outerRadius:f&&G.animateScale?0:p.outerRadius,innerRadius:f&&G.animateScale?0:p.innerRadius,label:le.valueAtIndexOrDefault(_e.label,c,v.data.labels[c])}});var qt=l._model;f&&G.animateRotate||(qt.startAngle=0===c?L.rotation:p.getMeta().data[c-1]._model.endAngle,qt.endAngle=qt.startAngle+qt.circumference),l.pivot()},calculateTotal:function(){var l,c=this.getDataset(),f=this.getMeta(),p=0;return le.each(f.data,function(v,k){l=c.data[k],isNaN(l)||v.hidden||(p+=Math.abs(l))}),p},calculateCircumference:function(l){var c=this.getMeta().total;return c>0&&!isNaN(l)?Dn*(Math.abs(l)/c):0},getMaxBorderWidth:function(l){var c,f,p,v,k,L,G,Z,Q=0,se=this.chart;if(!l)for(c=0,f=se.data.datasets.length;c<f;++c)if(se.isDatasetVisible(c)){l=(p=se.getDatasetMeta(c)).data,c!==this.index&&(k=p.controller);break}if(!l)return 0;for(c=0,f=l.length;c<f;++c)v=l[c],k?(k._configure(),L=k._resolveDataElementOptions(v,c)):L=v._options,"inner"!==L.borderAlign&&(Q=(Z=L.hoverBorderWidth)>(Q=(G=L.borderWidth)>Q?G:Q)?Z:Q);return Q},setHoverStyle:function(l){var c=l._model,f=l._options,p=le.getHoverColor;l.$previousStyle={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth},c.backgroundColor=yn(f.hoverBackgroundColor,p(f.backgroundColor)),c.borderColor=yn(f.hoverBorderColor,p(f.borderColor)),c.borderWidth=yn(f.hoverBorderWidth,f.borderWidth)},_getRingWeightOffset:function(l){for(var c=0,f=0;f<l;++f)this.chart.isDatasetVisible(f)&&(c+=this._getRingWeight(f));return c},_getRingWeight:function(l){return Math.max(yn(this.chart.data.datasets[l].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});Tt._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),Tt._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var ai=Nr.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Xn=le.valueOrDefault,hi=le.options.resolve,bi=le.canvas._isPointInArea;function Mi(l,c){var f=l&&l.options.ticks||{},p=f.reverse,v=void 0===f.min?c:0,k=void 0===f.max?c:0;return{start:p?k:v,end:p?v:k}}function er(l,c,f){var p=f/2,v=Mi(l,p),k=Mi(c,p);return{top:k.end,right:v.end,bottom:k.start,left:v.start}}function or(l){var c,f,p,v;return le.isObject(l)?(c=l.top,f=l.right,p=l.bottom,v=l.left):c=f=p=v=l,{top:c,right:f,bottom:p,left:v}}Tt._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var ar=Lt.extend({datasetElementType:_i.Line,dataElementType:_i.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(l){var c,f,p=this,v=p.getMeta(),k=v.dataset,L=v.data||[],Z=p._config,Q=p._showLine=Xn(Z.showLine,p.chart.options.showLines);for(p._xScale=p.getScaleForId(v.xAxisID),p._yScale=p.getScaleForId(v.yAxisID),Q&&(void 0!==Z.tension&&void 0===Z.lineTension&&(Z.lineTension=Z.tension),k._scale=p._yScale,k._datasetIndex=p.index,k._children=L,k._model=p._resolveDatasetElementOptions(k),k.pivot()),c=0,f=L.length;c<f;++c)p.updateElement(L[c],c,l);for(Q&&0!==k._model.tension&&p.updateBezierControlPoints(),c=0,f=L.length;c<f;++c)L[c].pivot()},updateElement:function(l,c,f){var p,v,k=this,L=k.getMeta(),G=l.custom||{},Z=k.getDataset(),Q=k.index,se=Z.data[c],he=k._xScale,_e=k._yScale,Re=L.dataset._model,De=k._resolveDataElementOptions(l,c);p=he.getPixelForValue("object"==typeof se?se:NaN,c,Q),v=f?_e.getBasePixel():k.calculatePointY(se,c,Q),l._xScale=he,l._yScale=_e,l._options=De,l._datasetIndex=Q,l._index=c,l._model={x:p,y:v,skip:G.skip||isNaN(p)||isNaN(v),radius:De.radius,pointStyle:De.pointStyle,rotation:De.rotation,backgroundColor:De.backgroundColor,borderColor:De.borderColor,borderWidth:De.borderWidth,tension:Xn(G.tension,Re?Re.tension:0),steppedLine:!!Re&&Re.steppedLine,hitRadius:De.hitRadius}},_resolveDatasetElementOptions:function(l){var c=this,f=c._config,p=l.custom||{},v=c.chart.options,k=v.elements.line,L=Lt.prototype._resolveDatasetElementOptions.apply(c,arguments);return L.spanGaps=Xn(f.spanGaps,v.spanGaps),L.tension=Xn(f.lineTension,k.tension),L.steppedLine=hi([p.steppedLine,f.steppedLine,k.stepped]),L.clip=or(Xn(f.clip,er(c._xScale,c._yScale,L.borderWidth))),L},calculatePointY:function(l,c,f){var p,k,L,G,Z,Q,se=this.chart,he=this._yScale,_e=0,Re=0;if(he.options.stacked){for(G=+he.getRightValue(l),Q=(Z=se._getSortedVisibleDatasetMetas()).length,p=0;p<Q&&(k=Z[p]).index!==f;++p)"line"===k.type&&k.yAxisID===he.id&&((L=+he.getRightValue(se.data.datasets[k.index].data[c]))<0?Re+=L||0:_e+=L||0);return he.getPixelForValue(G<0?Re+G:_e+G)}return he.getPixelForValue(l)},updateBezierControlPoints:function(){var l,c,f,p,v=this.chart,k=this.getMeta(),L=k.dataset._model,G=v.chartArea,Z=k.data||[];function Q(se,he,_e){return Math.max(Math.min(se,_e),he)}if(L.spanGaps&&(Z=Z.filter(function(se){return!se._model.skip})),"monotone"===L.cubicInterpolationMode)le.splineCurveMonotone(Z);else for(l=0,c=Z.length;l<c;++l)f=Z[l]._model,p=le.splineCurve(le.previousItem(Z,l)._model,f,le.nextItem(Z,l)._model,L.tension),f.controlPointPreviousX=p.previous.x,f.controlPointPreviousY=p.previous.y,f.controlPointNextX=p.next.x,f.controlPointNextY=p.next.y;if(v.options.elements.line.capBezierPoints)for(l=0,c=Z.length;l<c;++l)bi(f=Z[l]._model,G)&&(l>0&&bi(Z[l-1]._model,G)&&(f.controlPointPreviousX=Q(f.controlPointPreviousX,G.left,G.right),f.controlPointPreviousY=Q(f.controlPointPreviousY,G.top,G.bottom)),l<Z.length-1&&bi(Z[l+1]._model,G)&&(f.controlPointNextX=Q(f.controlPointNextX,G.left,G.right),f.controlPointNextY=Q(f.controlPointNextY,G.top,G.bottom)))},draw:function(){var l,c=this.chart,f=this.getMeta(),p=f.data||[],v=c.chartArea,k=c.canvas,L=0,G=p.length;for(this._showLine&&(le.canvas.clipArea(c.ctx,{left:!1===(l=f.dataset._model.clip).left?0:v.left-l.left,right:!1===l.right?k.width:v.right+l.right,top:!1===l.top?0:v.top-l.top,bottom:!1===l.bottom?k.height:v.bottom+l.bottom}),f.dataset.draw(),le.canvas.unclipArea(c.ctx));L<G;++L)p[L].draw(v)},setHoverStyle:function(l){var c=l._model,f=l._options,p=le.getHoverColor;l.$previousStyle={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,radius:c.radius},c.backgroundColor=Xn(f.hoverBackgroundColor,p(f.backgroundColor)),c.borderColor=Xn(f.hoverBorderColor,p(f.borderColor)),c.borderWidth=Xn(f.hoverBorderWidth,f.borderWidth),c.radius=Xn(f.hoverRadius,f.radius)}}),kr=le.options.resolve;Tt._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(l){var c,f,p,v=document.createElement("ul"),k=l.data,L=k.datasets,G=k.labels;if(v.setAttribute("class",l.id+"-legend"),L.length)for(c=0,f=L[0].data.length;c<f;++c)(p=v.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=L[0].backgroundColor[c],G[c]&&p.appendChild(document.createTextNode(G[c]));return v.outerHTML},legend:{labels:{generateLabels:function(l){var c=l.data;return c.labels.length&&c.datasets.length?c.labels.map(function(f,p){var v=l.getDatasetMeta(0),k=v.controller.getStyle(p);return{text:f,fillStyle:k.backgroundColor,strokeStyle:k.borderColor,lineWidth:k.borderWidth,hidden:isNaN(c.datasets[0].data[p])||v.data[p].hidden,index:p}}):[]}},onClick:function(l,c){var f,p,v,k=c.index,L=this.chart;for(f=0,p=(L.data.datasets||[]).length;f<p;++f)(v=L.getDatasetMeta(f)).data[k].hidden=!v.data[k].hidden;L.update()}},tooltips:{callbacks:{title:function(){return""},label:function(l,c){return c.labels[l.index]+": "+l.yLabel}}}});var Pr=Lt.extend({dataElementType:_i.Arc,linkScales:le.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(l){var c,f,p,v=this,k=v.getDataset(),L=v.getMeta(),G=v.chart.options.startAngle||0,Z=v._starts=[],Q=v._angles=[],se=L.data;for(v._updateRadius(),L.count=v.countVisibleElements(),c=0,f=k.data.length;c<f;c++)Z[c]=G,p=v._computeAngle(c),Q[c]=p,G+=p;for(c=0,f=se.length;c<f;++c)se[c]._options=v._resolveDataElementOptions(se[c],c),v.updateElement(se[c],c,l)},_updateRadius:function(){var l=this,c=l.chart,f=c.chartArea,p=c.options,v=Math.min(f.right-f.left,f.bottom-f.top);c.outerRadius=Math.max(v/2,0),c.innerRadius=Math.max(p.cutoutPercentage?c.outerRadius/100*p.cutoutPercentage:1,0),c.radiusLength=(c.outerRadius-c.innerRadius)/c.getVisibleDatasetCount(),l.outerRadius=c.outerRadius-c.radiusLength*l.index,l.innerRadius=l.outerRadius-c.radiusLength},updateElement:function(l,c,f){var p=this,v=p.chart,k=p.getDataset(),L=v.options,G=L.animation,Z=v.scale,Q=v.data.labels,se=Z.xCenter,he=Z.yCenter,_e=L.startAngle,Re=l.hidden?0:Z.getDistanceFromCenterForValue(k.data[c]),De=p._starts[c],Ue=De+(l.hidden?0:p._angles[c]),Ze=G.animateScale?0:Z.getDistanceFromCenterForValue(k.data[c]),qt=l._options||{};le.extend(l,{_datasetIndex:p.index,_index:c,_scale:Z,_model:{backgroundColor:qt.backgroundColor,borderColor:qt.borderColor,borderWidth:qt.borderWidth,borderAlign:qt.borderAlign,x:se,y:he,innerRadius:0,outerRadius:f?Ze:Re,startAngle:f&&G.animateRotate?_e:De,endAngle:f&&G.animateRotate?_e:Ue,label:le.valueAtIndexOrDefault(Q,c,Q[c])}}),l.pivot()},countVisibleElements:function(){var l=this.getDataset(),c=this.getMeta(),f=0;return le.each(c.data,function(p,v){isNaN(l.data[v])||p.hidden||f++}),f},setHoverStyle:function(l){var c=l._model,f=l._options,p=le.getHoverColor,v=le.valueOrDefault;l.$previousStyle={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth},c.backgroundColor=v(f.hoverBackgroundColor,p(f.backgroundColor)),c.borderColor=v(f.hoverBorderColor,p(f.borderColor)),c.borderWidth=v(f.hoverBorderWidth,f.borderWidth)},_computeAngle:function(l){var c=this,f=this.getMeta().count,p=c.getDataset(),v=c.getMeta();return isNaN(p.data[l])||v.data[l].hidden?0:kr([c.chart.options.elements.arc.angle,2*Math.PI/f],{chart:c.chart,dataIndex:l,dataset:p,datasetIndex:c.index},l)}});Tt._set("pie",le.clone(Tt.doughnut)),Tt._set("pie",{cutoutPercentage:0});var zr=oi,fr=le.valueOrDefault;Tt._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var li=Lt.extend({datasetElementType:_i.Line,dataElementType:_i.Point,linkScales:le.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(l){var c,f,p=this,v=p.getMeta(),k=v.dataset,L=v.data||[],G=p.chart.scale,Z=p._config;for(void 0!==Z.tension&&void 0===Z.lineTension&&(Z.lineTension=Z.tension),k._scale=G,k._datasetIndex=p.index,k._children=L,k._loop=!0,k._model=p._resolveDatasetElementOptions(k),k.pivot(),c=0,f=L.length;c<f;++c)p.updateElement(L[c],c,l);for(p.updateBezierControlPoints(),c=0,f=L.length;c<f;++c)L[c].pivot()},updateElement:function(l,c,f){var p=this,v=l.custom||{},k=p.getDataset(),L=p.chart.scale,G=L.getPointPositionForValue(c,k.data[c]),Z=p._resolveDataElementOptions(l,c),Q=p.getMeta().dataset._model,se=f?L.xCenter:G.x,he=f?L.yCenter:G.y;l._scale=L,l._options=Z,l._datasetIndex=p.index,l._index=c,l._model={x:se,y:he,skip:v.skip||isNaN(se)||isNaN(he),radius:Z.radius,pointStyle:Z.pointStyle,rotation:Z.rotation,backgroundColor:Z.backgroundColor,borderColor:Z.borderColor,borderWidth:Z.borderWidth,tension:fr(v.tension,Q?Q.tension:0),hitRadius:Z.hitRadius}},_resolveDatasetElementOptions:function(){var l=this,c=l._config,f=l.chart.options,p=Lt.prototype._resolveDatasetElementOptions.apply(l,arguments);return p.spanGaps=fr(c.spanGaps,f.spanGaps),p.tension=fr(c.lineTension,f.elements.line.tension),p},updateBezierControlPoints:function(){var l,c,f,p,v=this.getMeta(),k=this.chart.chartArea,L=v.data||[];function G(Z,Q,se){return Math.max(Math.min(Z,se),Q)}for(v.dataset._model.spanGaps&&(L=L.filter(function(Z){return!Z._model.skip})),l=0,c=L.length;l<c;++l)f=L[l]._model,p=le.splineCurve(le.previousItem(L,l,!0)._model,f,le.nextItem(L,l,!0)._model,f.tension),f.controlPointPreviousX=G(p.previous.x,k.left,k.right),f.controlPointPreviousY=G(p.previous.y,k.top,k.bottom),f.controlPointNextX=G(p.next.x,k.left,k.right),f.controlPointNextY=G(p.next.y,k.top,k.bottom)},setHoverStyle:function(l){var c=l._model,f=l._options,p=le.getHoverColor;l.$previousStyle={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,radius:c.radius},c.backgroundColor=fr(f.hoverBackgroundColor,p(f.backgroundColor)),c.borderColor=fr(f.hoverBorderColor,p(f.borderColor)),c.borderWidth=fr(f.hoverBorderWidth,f.borderWidth),c.radius=fr(f.hoverRadius,f.radius)}});Tt._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(l){return"("+l.xLabel+", "+l.yLabel+")"}}}}),Tt._set("global",{datasets:{scatter:{showLine:!1}}});var Ur={bar:Nr,bubble:Wt,doughnut:oi,horizontalBar:ai,line:ar,polarArea:Pr,pie:zr,radar:li,scatter:ar};function no(l,c){return l.native?{x:l.x,y:l.y}:le.getRelativePosition(l,c)}function Oo(l,c){var f,p,v,k,L,G,Z=l._getSortedVisibleDatasetMetas();for(p=0,k=Z.length;p<k;++p)for(v=0,L=(f=Z[p].data).length;v<L;++v)(G=f[v])._view.skip||c(G)}function pa(l,c){var f=[];return Oo(l,function(p){p.inRange(c.x,c.y)&&f.push(p)}),f}function zo(l,c,f,p){var v=Number.POSITIVE_INFINITY,k=[];return Oo(l,function(L){if(!f||L.inRange(c.x,c.y)){var G=L.getCenterPoint(),Z=p(c,G);Z<v?(k=[L],v=Z):Z===v&&k.push(L)}}),k}function Fo(l){var c=-1!==l.indexOf("x"),f=-1!==l.indexOf("y");return function(p,v){var k=c?Math.abs(p.x-v.x):0,L=f?Math.abs(p.y-v.y):0;return Math.sqrt(Math.pow(k,2)+Math.pow(L,2))}}function ga(l,c,f){var p=no(c,l);f.axis=f.axis||"x";var v=Fo(f.axis),k=f.intersect?pa(l,p):zo(l,p,!1,v),L=[];return k.length?(l._getSortedVisibleDatasetMetas().forEach(function(G){var Z=G.data[k[0]._index];Z&&!Z._view.skip&&L.push(Z)}),L):[]}var jr={modes:{single:function(l,c){var f=no(c,l),p=[];return Oo(l,function(v){if(v.inRange(f.x,f.y))return p.push(v),p}),p.slice(0,1)},label:ga,index:ga,dataset:function(l,c,f){var p=no(c,l);f.axis=f.axis||"xy";var v=Fo(f.axis),k=f.intersect?pa(l,p):zo(l,p,!1,v);return k.length>0&&(k=l.getDatasetMeta(k[0]._datasetIndex).data),k},"x-axis":function(l,c){return ga(l,c,{intersect:!1})},point:function(l,c){return pa(l,no(c,l))},nearest:function(l,c,f){var p=no(c,l);f.axis=f.axis||"xy";var v=Fo(f.axis);return zo(l,p,f.intersect,v)},x:function(l,c,f){var p=no(c,l),v=[],k=!1;return Oo(l,function(L){L.inXRange(p.x)&&v.push(L),L.inRange(p.x,p.y)&&(k=!0)}),f.intersect&&!k&&(v=[]),v},y:function(l,c,f){var p=no(c,l),v=[],k=!1;return Oo(l,function(L){L.inYRange(p.y)&&v.push(L),L.inRange(p.x,p.y)&&(k=!0)}),f.intersect&&!k&&(v=[]),v}}},Vo=le.extend;function So(l,c){return le.where(l,function(f){return f.pos===c})}function Ho(l,c){return l.sort(function(f,p){var v=c?p:f,k=c?f:p;return v.weight===k.weight?v.index-k.index:v.weight-k.weight})}function ma(l,c,f,p){return Math.max(l[f],c[f])+Math.max(l[p],c[p])}function cl(l,c,f){var p,v,k=f.box,L=l.maxPadding;if(f.size&&(l[f.pos]-=f.size),f.size=f.horizontal?k.height:k.width,l[f.pos]+=f.size,k.getPadding){var G=k.getPadding();L.top=Math.max(L.top,G.top),L.left=Math.max(L.left,G.left),L.bottom=Math.max(L.bottom,G.bottom),L.right=Math.max(L.right,G.right)}if(p=c.outerWidth-ma(L,l,"left","right"),v=c.outerHeight-ma(L,l,"top","bottom"),p!==l.w||v!==l.h){l.w=p,l.h=v;var Z=f.horizontal?[p,l.w]:[v,l.h];return!(Z[0]===Z[1]||isNaN(Z[0])&&isNaN(Z[1]))}}function ms(l,c){var k,f=c.maxPadding;return k={left:0,top:0,right:0,bottom:0},(l?["left","right"]:["top","bottom"]).forEach(function(L){k[L]=Math.max(c[L],f[L])}),k}function Mo(l,c,f){var p,v,k,L,G,Z,Q=[];for(p=0,v=l.length;p<v;++p)(L=(k=l[p]).box).update(k.width||c.w,k.height||c.h,ms(k.horizontal,c)),cl(c,f,k)&&(Z=!0,Q.length&&(G=!0)),L.fullWidth||Q.push(k);return G&&Mo(Q,c,f)||Z}function vs(l,c,f){var p,v,k,L,G=f.padding,Z=c.x,Q=c.y;for(p=0,v=l.length;p<v;++p)L=(k=l[p]).box,k.horizontal?(L.left=L.fullWidth?G.left:c.left,L.right=L.fullWidth?f.outerWidth-G.right:c.left+c.w,L.top=Q,L.bottom=Q+L.height,L.width=L.right-L.left,Q=L.bottom):(L.left=Z,L.right=Z+L.width,L.top=c.top,L.bottom=c.top+c.h,L.height=L.bottom-L.top,Z=L.right);c.x=Z,c.y=Q}Tt._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var To,Ji={defaults:{},addBox:function(l,c){l.boxes||(l.boxes=[]),c.fullWidth=c.fullWidth||!1,c.position=c.position||"top",c.weight=c.weight||0,c._layers=c._layers||function(){return[{z:0,draw:function(){c.draw.apply(c,arguments)}}]},l.boxes.push(c)},removeBox:function(l,c){var f=l.boxes?l.boxes.indexOf(c):-1;-1!==f&&l.boxes.splice(f,1)},configure:function(l,c,f){for(var p,v=["fullWidth","position","weight"],k=v.length,L=0;L<k;++L)f.hasOwnProperty(p=v[L])&&(c[p]=f[p])},update:function(l,c,f){if(l){var v=le.options.toPadding((l.options.layout||{}).padding),k=c-v.width,L=f-v.height,G=(De=Ho(So(Re=function(Ut){var mn,Cn,In,Gn=[];for(mn=0,Cn=(Ut||[]).length;mn<Cn;++mn)Gn.push({index:mn,box:In=Ut[mn],pos:In.position,horizontal:In.isHorizontal(),weight:In.weight});return Gn}(l.boxes),"left"),!0),Ue=Ho(So(Re,"right")),Ze=Ho(So(Re,"top"),!0),qt=Ho(So(Re,"bottom")),{leftAndTop:De.concat(Ze),rightAndBottom:Ue.concat(qt),chartArea:So(Re,"chartArea"),vertical:De.concat(Ue),horizontal:Ze.concat(qt)}),Z=G.vertical,Q=G.horizontal,se=Object.freeze({outerWidth:c,outerHeight:f,padding:v,availableWidth:k,vBoxMaxWidth:k/2/Z.length,hBoxMaxHeight:L/2}),he=Vo({maxPadding:Vo({},v),w:k,h:L,x:v.left,y:v.top},v);(function(_e,Re){var De,Ue,Ze;for(De=0,Ue=_e.length;De<Ue;++De)(Ze=_e[De]).width=Ze.horizontal?Ze.box.fullWidth&&Re.availableWidth:Re.vBoxMaxWidth,Ze.height=Ze.horizontal&&Re.hBoxMaxHeight})(Z.concat(Q),se),Mo(Z,he,se),Mo(Q,he,se)&&Mo(Z,he,se),function(_e){var Re=_e.maxPadding;function De(Ue){var Ze=Math.max(Re[Ue]-_e[Ue],0);return _e[Ue]+=Ze,Ze}_e.y+=De("top"),_e.x+=De("left"),De("right"),De("bottom")}(he),vs(G.leftAndTop,he,se),he.x+=he.w,he.y+=he.h,vs(G.rightAndBottom,he,se),l.chartArea={left:he.left,top:he.top,right:he.left+he.w,bottom:he.top+he.h},le.each(G.chartArea,function(_e){var Re=_e.box;Vo(Re,l.chartArea),Re.update(he.w,he.h)})}var Re,De,Ue,Ze,qt}},qr=(To=Object.freeze({__proto__:null,default:"@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}"}))&&To.default||To,lr="$chartjs",ko="chartjs-size-monitor",io="chartjs-render-monitor",Go=["animationstart","webkitAnimationStart"],va={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function Fa(l,c){var f=le.getStyle(l,c),p=f&&f.match(/^(\d+)(\.\d+)?px$/);return p?Number(p[1]):void 0}var ya=!!function(){var l=!1;try{var c=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("e",null,c)}catch(f){}return l}()&&{passive:!0};function Uo(l,c,f){l.addEventListener(c,f,ya)}function jo(l,c,f){l.removeEventListener(c,f,ya)}function Va(l,c,f,p,v){return{type:l,chart:c,native:v||null,x:void 0!==f?f:null,y:void 0!==p?p:null}}function po(l){var c=document.createElement("div");return c.className=l||"",c}var ba={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(l){if(!this.disableCSSInjection){var c=l.getRootNode?l.getRootNode():document;!function(f,p){var v=f[lr]||(f[lr]={});if(!v.containsStyles){v.containsStyles=!0,p="/* Chart.js */\n"+p;var k=document.createElement("style");k.setAttribute("type","text/css"),k.appendChild(document.createTextNode(p)),f.appendChild(k)}}(c.host?c:document.head,qr)}},acquireContext:function(l,c){"string"==typeof l?l=document.getElementById(l):l.length&&(l=l[0]),l&&l.canvas&&(l=l.canvas);var f=l&&l.getContext&&l.getContext("2d");return f&&f.canvas===l?(this._ensureLoaded(l),function(p,v){var k=p.style,L=p.getAttribute("height"),G=p.getAttribute("width");if(p[lr]={initial:{height:L,width:G,style:{display:k.display,height:k.height,width:k.width}}},k.display=k.display||"block",null===G||""===G){var Z=Fa(p,"width");void 0!==Z&&(p.width=Z)}if(null===L||""===L)if(""===p.style.height)p.height=p.width/(v.options.aspectRatio||2);else{var Q=Fa(p,"height");void 0!==Z&&(p.height=Q)}}(l,c),f):null},releaseContext:function(l){var c=l.canvas;if(c[lr]){var f=c[lr].initial;["height","width"].forEach(function(p){var v=f[p];le.isNullOrUndef(v)?c.removeAttribute(p):c.setAttribute(p,v)}),le.each(f.style||{},function(p,v){c.style[v]=p}),c.width=c.width,delete c[lr]}},addEventListener:function(l,c,f){var p=l.canvas;if("resize"!==c){var v=f[lr]||(f[lr]={});Uo(p,c,(v.proxies||(v.proxies={}))[l.id+"_"+c]=function(k){var L,G,Z,Q;f((Z=va[(L=k).type]||L.type,Q=le.getRelativePosition(L,G=l),Va(Z,G,Q.x,Q.y,L)))})}else!function(l,c,f){var p,v,k,L,Q,he,_e,G=l[lr]||(l[lr]={}),Z=G.resizer=function(Q){var se=po(ko),he=po(ko+"-expand"),_e=po(ko+"-shrink");he.appendChild(po()),_e.appendChild(po()),se.appendChild(he),se.appendChild(_e),se._reset=function(){he.scrollLeft=1e6,he.scrollTop=1e6,_e.scrollLeft=1e6,_e.scrollTop=1e6};var Re=function(){se._reset(),Q()};return Uo(he,"scroll",Re.bind(he,"expand")),Uo(_e,"scroll",Re.bind(_e,"shrink")),se}((p=function(){if(G.resizer){var Q=f.options.maintainAspectRatio&&l.parentNode,se=Q?Q.clientWidth:0;c(Va("resize",f)),Q&&Q.clientWidth<se&&f.canvas&&c(Va("resize",f))}},k=!1,L=[],function(){L=Array.prototype.slice.call(arguments),v=v||this,k||(k=!0,le.requestAnimFrame.call(window,function(){k=!1,p.apply(v,L)}))}));he=(Q=l)[lr]||(Q[lr]={}),_e=he.renderProxy=function(Re){"chartjs-render-animation"===Re.animationName&&function(){if(G.resizer){var Q=l.parentNode;Q&&Q!==Z.parentNode&&Q.insertBefore(Z,Q.firstChild),Z._reset()}}()},le.each(Go,function(Re){Uo(Q,Re,_e)}),he.reflow=!!Q.offsetParent,Q.classList.add(io)}(p,f,l)},removeEventListener:function(l,c,f){var p=l.canvas;if("resize"!==c){var v=((f[lr]||{}).proxies||{})[l.id+"_"+c];v&&jo(p,c,v)}else!function(l){var p,v,k,c=l[lr]||{},f=c.resizer;delete c.resizer,(k=(v=(p=l)[lr]||{}).renderProxy)&&(le.each(Go,function(L){jo(p,L,k)}),delete v.renderProxy),p.classList.remove(io),f&&f.parentNode&&f.parentNode.removeChild(f)}(p)}};le.addEvent=Uo,le.removeEvent=jo;var Fr=le.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},ba._enabled?ba:{acquireContext:function(l){return l&&l.canvas&&(l=l.canvas),l&&l.getContext("2d")||null}});Tt._set("global",{plugins:{}});var Pi={_plugins:[],_cacheId:0,register:function(l){var c=this._plugins;[].concat(l).forEach(function(f){-1===c.indexOf(f)&&c.push(f)}),this._cacheId++},unregister:function(l){var c=this._plugins;[].concat(l).forEach(function(f){var p=c.indexOf(f);-1!==p&&c.splice(p,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(l,c,f){var p,v,k,L,G,Z=this.descriptors(l),Q=Z.length;for(p=0;p<Q;++p)if("function"==typeof(G=(k=(v=Z[p]).plugin)[c])&&((L=[l].concat(f||[])).push(v.options),!1===G.apply(k,L)))return!1;return!0},descriptors:function(l){var c=l.$plugins||(l.$plugins={});if(c.id===this._cacheId)return c.descriptors;var f=[],p=[],v=l&&l.config||{},k=v.options&&v.options.plugins||{};return this._plugins.concat(v.plugins||[]).forEach(function(L){if(-1===f.indexOf(L)){var G=L.id,Z=k[G];!1!==Z&&(!0===Z&&(Z=le.clone(Tt.global.plugins[G])),f.push(L),p.push({plugin:L,options:Z||{}}))}}),c.descriptors=p,c.id=this._cacheId,p},_invalidate:function(l){delete l.$plugins}},Ao={constructors:{},defaults:{},registerScaleType:function(l,c,f){this.constructors[l]=c,this.defaults[l]=le.clone(f)},getScaleConstructor:function(l){return this.constructors.hasOwnProperty(l)?this.constructors[l]:void 0},getScaleDefaults:function(l){return this.defaults.hasOwnProperty(l)?le.merge(Object.create(null),[Tt.scale,this.defaults[l]]):{}},updateScaleDefaults:function(l,c){this.defaults.hasOwnProperty(l)&&(this.defaults[l]=le.extend(this.defaults[l],c))},addScalesToLayout:function(l){le.each(l.scales,function(c){c.fullWidth=c.options.fullWidth,c.position=c.options.position,c.weight=c.options.weight,Ji.addBox(l,c)})}},Zr=le.valueOrDefault,_a=le.rtl.getRtlAdapter;Tt._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:le.noop,title:function(l,c){var f="",p=c.labels,v=p?p.length:0;if(l.length>0){var k=l[0];k.label?f=k.label:k.xLabel?f=k.xLabel:v>0&&k.index<v&&(f=p[k.index])}return f},afterTitle:le.noop,beforeBody:le.noop,beforeLabel:le.noop,label:function(l,c){var f=c.datasets[l.datasetIndex].label||"";return f&&(f+=": "),le.isNullOrUndef(l.value)?f+=l.yLabel:f+=l.value,f},labelColor:function(l,c){var f=c.getDatasetMeta(l.datasetIndex).data[l.index]._view;return{borderColor:f.borderColor,backgroundColor:f.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:le.noop,afterBody:le.noop,beforeFooter:le.noop,footer:le.noop,afterFooter:le.noop}}});var xs={average:function(l){if(!l.length)return!1;var c,f,p=0,v=0,k=0;for(c=0,f=l.length;c<f;++c){var L=l[c];if(L&&L.hasValue()){var G=L.tooltipPosition();p+=G.x,v+=G.y,++k}}return{x:p/k,y:v/k}},nearest:function(l,c){var f,p,v,k=c.x,L=c.y,G=Number.POSITIVE_INFINITY;for(f=0,p=l.length;f<p;++f){var Z=l[f];if(Z&&Z.hasValue()){var Q=Z.getCenterPoint(),se=le.distanceBetweenPoints(c,Q);se<G&&(G=se,v=Z)}}if(v){var he=v.tooltipPosition();k=he.x,L=he.y}return{x:k,y:L}}};function Lr(l,c){return c&&(le.isArray(c)?Array.prototype.push.apply(l,c):l.push(c)),l}function Er(l){return("string"==typeof l||l instanceof String)&&l.indexOf("\n")>-1?l.split("\n"):l}function wa(l){var c=Tt.global;return{xPadding:l.xPadding,yPadding:l.yPadding,xAlign:l.xAlign,yAlign:l.yAlign,rtl:l.rtl,textDirection:l.textDirection,bodyFontColor:l.bodyFontColor,_bodyFontFamily:Zr(l.bodyFontFamily,c.defaultFontFamily),_bodyFontStyle:Zr(l.bodyFontStyle,c.defaultFontStyle),_bodyAlign:l.bodyAlign,bodyFontSize:Zr(l.bodyFontSize,c.defaultFontSize),bodySpacing:l.bodySpacing,titleFontColor:l.titleFontColor,_titleFontFamily:Zr(l.titleFontFamily,c.defaultFontFamily),_titleFontStyle:Zr(l.titleFontStyle,c.defaultFontStyle),titleFontSize:Zr(l.titleFontSize,c.defaultFontSize),_titleAlign:l.titleAlign,titleSpacing:l.titleSpacing,titleMarginBottom:l.titleMarginBottom,footerFontColor:l.footerFontColor,_footerFontFamily:Zr(l.footerFontFamily,c.defaultFontFamily),_footerFontStyle:Zr(l.footerFontStyle,c.defaultFontStyle),footerFontSize:Zr(l.footerFontSize,c.defaultFontSize),_footerAlign:l.footerAlign,footerSpacing:l.footerSpacing,footerMarginTop:l.footerMarginTop,caretSize:l.caretSize,cornerRadius:l.cornerRadius,backgroundColor:l.backgroundColor,opacity:0,legendColorBackground:l.multiKeyBackground,displayColors:l.displayColors,borderColor:l.borderColor,borderWidth:l.borderWidth}}function Io(l,c){return"center"===c?l.x+l.width/2:"right"===c?l.x+l.width-l.xPadding:l.x+l.xPadding}function bs(l){return Lr([],Er(l))}var Wa=qn.extend({initialize:function(){this._model=wa(this._options),this._lastActive=[]},getTitle:function(){var l=this,c=l._options,f=c.callbacks,p=f.beforeTitle.apply(l,arguments),v=f.title.apply(l,arguments),k=f.afterTitle.apply(l,arguments),L=[];return L=Lr(L,Er(p)),L=Lr(L,Er(v)),Lr(L,Er(k))},getBeforeBody:function(){return bs(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(l,c){var f=this,p=f._options.callbacks,v=[];return le.each(l,function(k){var L={before:[],lines:[],after:[]};Lr(L.before,Er(p.beforeLabel.call(f,k,c))),Lr(L.lines,p.label.call(f,k,c)),Lr(L.after,Er(p.afterLabel.call(f,k,c))),v.push(L)}),v},getAfterBody:function(){return bs(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var l=this,c=l._options.callbacks,f=c.beforeFooter.apply(l,arguments),p=c.footer.apply(l,arguments),v=c.afterFooter.apply(l,arguments),k=[];return k=Lr(k,Er(f)),k=Lr(k,Er(p)),Lr(k,Er(v))},update:function(l){var c,f,p,v,k,L,G,Z,Q,se,ni,pn,ui,mi,pi,ji,Fi,Kn,cr,Sr,Yr,he=this,_e=he._options,Re=he._model,De=he._model=wa(_e),Ue=he._active,Ze=he._data,qt={xAlign:Re.xAlign,yAlign:Re.yAlign},Ut={x:Re.x,y:Re.y},mn={width:Re.width,height:Re.height},Cn={x:Re.caretX,y:Re.caretY};if(Ue.length){De.opacity=1;var In=[],Gn=[];Cn=xs[_e.position].call(he,Ue,he._eventPosition);var ei=[];for(c=0,f=Ue.length;c<f;++c)ei.push((v=void 0,k=void 0,Z=void 0,Q=void 0,se=void 0,v=(p=Ue[c])._xScale,k=p._yScale||p._scale,L=p._index,Q=(Z=p._chart.getDatasetMeta(G=p._datasetIndex).controller)._getIndexScale(),se=Z._getValueScale(),{xLabel:v?v.getLabelForIndex(L,G):"",yLabel:k?k.getLabelForIndex(L,G):"",label:Q?""+Q.getLabelForIndex(L,G):"",value:se?""+se.getLabelForIndex(L,G):"",index:L,datasetIndex:G,x:p._model.x,y:p._model.y}));_e.filter&&(ei=ei.filter(function(ni){return _e.filter(ni,Ze)})),_e.itemSort&&(ei=ei.sort(function(ni,pn){return _e.itemSort(ni,pn,Ze)})),le.each(ei,function(ni){In.push(_e.callbacks.labelColor.call(he,ni,he._chart)),Gn.push(_e.callbacks.labelTextColor.call(he,ni,he._chart))}),De.title=he.getTitle(ei,Ze),De.beforeBody=he.getBeforeBody(ei,Ze),De.body=he.getBody(ei,Ze),De.afterBody=he.getAfterBody(ei,Ze),De.footer=he.getFooter(ei,Ze),De.x=Cn.x,De.y=Cn.y,De.caretPadding=_e.caretPadding,De.labelColors=In,De.labelTextColors=Gn,De.dataPoints=ei,mn=function(ni,pn){var ui=ni._chart.ctx,mi=2*pn.yPadding,pi=0,ji=pn.body,wi=ji.reduce(function(Ai,vn){return Ai+vn.before.length+vn.lines.length+vn.after.length},0),Fi=pn.title.length,Wi=pn.footer.length,Kn=pn.titleFontSize,cr=pn.bodyFontSize,Sr=pn.footerFontSize;mi+=Fi*Kn,mi+=Fi?(Fi-1)*pn.titleSpacing:0,mi+=Fi?pn.titleMarginBottom:0,mi+=(wi+=pn.beforeBody.length+pn.afterBody.length)*cr,mi+=wi?(wi-1)*pn.bodySpacing:0,mi+=Wi?pn.footerMarginTop:0,mi+=Wi*Sr,mi+=Wi?(Wi-1)*pn.footerSpacing:0;var Yr=0,Xo=function(Ai){pi=Math.max(pi,ui.measureText(Ai).width+Yr)};return ui.font=le.fontString(Kn,pn._titleFontStyle,pn._titleFontFamily),le.each(pn.title,Xo),ui.font=le.fontString(cr,pn._bodyFontStyle,pn._bodyFontFamily),le.each(pn.beforeBody.concat(pn.afterBody),Xo),Yr=pn.displayColors?cr+2:0,le.each(ji,function(Ai){le.each(Ai.before,Xo),le.each(Ai.lines,Xo),le.each(Ai.after,Xo)}),Yr=0,ui.font=le.fontString(Sr,pn._footerFontStyle,pn._footerFontFamily),le.each(pn.footer,Xo),{width:pi+=2*pn.xPadding,height:mi}}(this,De),ni=De,pn=mn,ui=qt=function(ni,pn){var ui,mi,pi,ji,wi,Fi=ni._model,Wi=ni._chart,Kn=ni._chart.chartArea,cr="center",Sr="center";Fi.y<pn.height?Sr="top":Fi.y>Wi.height-pn.height&&(Sr="bottom");var Yr=(Kn.left+Kn.right)/2,Xo=(Kn.top+Kn.bottom)/2;"center"===Sr?(ui=function(vn){return vn<=Yr},mi=function(vn){return vn>Yr}):(ui=function(vn){return vn<=pn.width/2},mi=function(vn){return vn>=Wi.width-pn.width/2}),pi=function(vn){return vn+pn.width+Fi.caretSize+Fi.caretPadding>Wi.width},ji=function(vn){return vn-pn.width-Fi.caretSize-Fi.caretPadding<0},wi=function(vn){return vn<=Xo?"top":"bottom"},ui(Fi.x)?(cr="left",pi(Fi.x)&&(cr="center",Sr=wi(Fi.y))):mi(Fi.x)&&(cr="right",ji(Fi.x)&&(cr="center",Sr=wi(Fi.y)));var Ai=ni._options;return{xAlign:Ai.xAlign?Ai.xAlign:cr,yAlign:Ai.yAlign?Ai.yAlign:Sr}}(this,mn),mi=he._chart,pi=ni.x,ji=ni.y,Sr=ni.caretSize+(Fi=ni.caretPadding),Yr=ni.cornerRadius+Fi,"right"===(Kn=ui.xAlign)?pi-=pn.width:"center"===Kn&&((pi-=pn.width/2)+pn.width>mi.width&&(pi=mi.width-pn.width),pi<0&&(pi=0)),"top"===(cr=ui.yAlign)?ji+=Sr:ji-="bottom"===cr?pn.height+Sr:pn.height/2,"center"===cr?"left"===Kn?pi+=Sr:"right"===Kn&&(pi-=Sr):"left"===Kn?pi-=Yr:"right"===Kn&&(pi+=Yr),Ut={x:pi,y:ji}}else De.opacity=0;return De.xAlign=qt.xAlign,De.yAlign=qt.yAlign,De.x=Ut.x,De.y=Ut.y,De.width=mn.width,De.height=mn.height,De.caretX=Cn.x,De.caretY=Cn.y,he._model=De,l&&_e.custom&&_e.custom.call(he,De),he},drawCaret:function(l,c){var f=this._chart.ctx,v=this.getCaretPosition(l,c,this._view);f.lineTo(v.x1,v.y1),f.lineTo(v.x2,v.y2),f.lineTo(v.x3,v.y3)},getCaretPosition:function(l,c,f){var p,v,k,L,G,Z,Q=f.caretSize,se=f.cornerRadius,he=f.xAlign,_e=f.yAlign,Re=l.x,De=l.y,Ue=c.width,Ze=c.height;if("center"===_e)G=De+Ze/2,"left"===he?(v=(p=Re)-Q,k=p,L=G+Q,Z=G-Q):(v=(p=Re+Ue)+Q,k=p,L=G-Q,Z=G+Q);else if("left"===he?(p=(v=Re+se+Q)-Q,k=v+Q):"right"===he?(p=(v=Re+Ue-se-Q)-Q,k=v+Q):(p=(v=f.caretX)-Q,k=v+Q),"top"===_e)G=(L=De)-Q,Z=L;else{G=(L=De+Ze)+Q,Z=L;var qt=k;k=p,p=qt}return{x1:p,x2:v,x3:k,y1:L,y2:G,y3:Z}},drawTitle:function(l,c,f){var p,v,k,L=c.title,G=L.length;if(G){var Z=_a(c.rtl,c.x,c.width);for(l.x=Io(c,c._titleAlign),f.textAlign=Z.textAlign(c._titleAlign),f.textBaseline="middle",p=c.titleFontSize,v=c.titleSpacing,f.fillStyle=c.titleFontColor,f.font=le.fontString(p,c._titleFontStyle,c._titleFontFamily),k=0;k<G;++k)f.fillText(L[k],Z.x(l.x),l.y+p/2),l.y+=p+v,k+1===G&&(l.y+=c.titleMarginBottom-v)}},drawBody:function(l,c,f){var p,v,k,L,G,Z,Q,se,he=c.bodyFontSize,_e=c.bodySpacing,Re=c._bodyAlign,De=c.body,Ue=c.displayColors,Ze=0,qt=Ue?Io(c,"left"):0,Ut=_a(c.rtl,c.x,c.width),mn=function(Gn){f.fillText(Gn,Ut.x(l.x+Ze),l.y+he/2),l.y+=he+_e},Cn=Ut.textAlign(Re);for(f.textAlign=Re,f.textBaseline="middle",f.font=le.fontString(he,c._bodyFontStyle,c._bodyFontFamily),l.x=Io(c,Cn),f.fillStyle=c.bodyFontColor,le.each(c.beforeBody,mn),Ze=Ue&&"right"!==Cn?"center"===Re?he/2+1:he+2:0,G=0,Q=De.length;G<Q;++G){for(p=De[G],k=c.labelColors[G],f.fillStyle=v=c.labelTextColors[G],le.each(p.before,mn),Z=0,se=(L=p.lines).length;Z<se;++Z){if(Ue){var In=Ut.x(qt);f.fillStyle=c.legendColorBackground,f.fillRect(Ut.leftForLtr(In,he),l.y,he,he),f.lineWidth=1,f.strokeStyle=k.borderColor,f.strokeRect(Ut.leftForLtr(In,he),l.y,he,he),f.fillStyle=k.backgroundColor,f.fillRect(Ut.leftForLtr(Ut.xPlus(In,1),he-2),l.y+1,he-2,he-2),f.fillStyle=v}mn(L[Z])}le.each(p.after,mn)}Ze=0,le.each(c.afterBody,mn),l.y-=_e},drawFooter:function(l,c,f){var p,v,k=c.footer,L=k.length;if(L){var G=_a(c.rtl,c.x,c.width);for(l.x=Io(c,c._footerAlign),l.y+=c.footerMarginTop,f.textAlign=G.textAlign(c._footerAlign),f.textBaseline="middle",p=c.footerFontSize,f.fillStyle=c.footerFontColor,f.font=le.fontString(p,c._footerFontStyle,c._footerFontFamily),v=0;v<L;++v)f.fillText(k[v],G.x(l.x),l.y+p/2),l.y+=p+c.footerSpacing}},drawBackground:function(l,c,f,p){f.fillStyle=c.backgroundColor,f.strokeStyle=c.borderColor,f.lineWidth=c.borderWidth;var v=c.xAlign,k=c.yAlign,L=l.x,G=l.y,Z=p.width,Q=p.height,se=c.cornerRadius;f.beginPath(),f.moveTo(L+se,G),"top"===k&&this.drawCaret(l,p),f.lineTo(L+Z-se,G),f.quadraticCurveTo(L+Z,G,L+Z,G+se),"center"===k&&"right"===v&&this.drawCaret(l,p),f.lineTo(L+Z,G+Q-se),f.quadraticCurveTo(L+Z,G+Q,L+Z-se,G+Q),"bottom"===k&&this.drawCaret(l,p),f.lineTo(L+se,G+Q),f.quadraticCurveTo(L,G+Q,L,G+Q-se),"center"===k&&"left"===v&&this.drawCaret(l,p),f.lineTo(L,G+se),f.quadraticCurveTo(L,G,L+se,G),f.closePath(),f.fill(),c.borderWidth>0&&f.stroke()},draw:function(){var l=this._chart.ctx,c=this._view;if(0!==c.opacity){var f={width:c.width,height:c.height},p={x:c.x,y:c.y},v=Math.abs(c.opacity<.001)?0:c.opacity;this._options.enabled&&(c.title.length||c.beforeBody.length||c.body.length||c.afterBody.length||c.footer.length)&&(l.save(),l.globalAlpha=v,this.drawBackground(p,c,l,f),p.y+=c.yPadding,le.rtl.overrideTextDirection(l,c.textDirection),this.drawTitle(p,c,l),this.drawBody(p,c,l),this.drawFooter(p,c,l),le.rtl.restoreTextDirection(l,c.textDirection),l.restore())}},handleEvent:function(l){var c,f=this,p=f._options;return f._lastActive=f._lastActive||[],"mouseout"===l.type?f._active=[]:(f._active=f._chart.getElementsAtEventForMode(l,p.mode,p),p.reverse&&f._active.reverse()),(c=!le.arrayEquals(f._active,f._lastActive))&&(f._lastActive=f._active,(p.enabled||p.custom)&&(f._eventPosition={x:l.x,y:l.y},f.update(!0),f.pivot())),c}}),go=Wa;go.positioners=xs;var qo=le.valueOrDefault;function Ca(){return le.merge(Object.create(null),[].slice.call(arguments),{merger:function(l,c,f,p){if("xAxes"===l||"yAxes"===l){var v,k,L,G=f[l].length;for(c[l]||(c[l]=[]),v=0;v<G;++v)k=qo((L=f[l][v]).type,"xAxes"===l?"category":"linear"),v>=c[l].length&&c[l].push({}),le.merge(c[l][v],!c[l][v].type||L.type&&L.type!==c[l][v].type?[Ao.getScaleDefaults(k),L]:L)}else le._merger(l,c,f,p)}})}function Zo(){return le.merge(Object.create(null),[].slice.call(arguments),{merger:function(l,c,f,p){var v=c[l]||Object.create(null),k=f[l];"scales"===l?c[l]=Ca(v,k):"scale"===l?c[l]=le.merge(v,[Ao.getScaleDefaults(k.type),k]):le._merger(l,c,f,p)}})}function _s(l){var c=l.options;le.each(l.scales,function(f){Ji.removeBox(l,f)}),c=Zo(Tt.global,Tt[l.config.type],c),l.options=l.config.options=c,l.ensureScalesHaveIDs(),l.buildOrUpdateScales(),l.tooltip._options=c.tooltips,l.tooltip.initialize()}function yr(l,c,f){var p,v=function(k){return k.id===p};do{p=c+f++}while(le.findIndex(l,v)>=0);return p}function ur(l){return"top"===l||"bottom"===l}function Yo(l,c){return function(f,p){return f[l]===p[l]?f[c]-p[c]:f[l]-p[l]}}Tt._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var ro=function(l,c){return this.construct(l,c),this};le.extend(ro.prototype,{construct:function(l,c){var G,Z,f=this;(Z=(G=(G=c)||Object.create(null)).data=G.data||{}).datasets=Z.datasets||[],Z.labels=Z.labels||[],G.options=Zo(Tt.global,Tt[G.type],G.options||{});var p=Fr.acquireContext(l,c=G),v=p&&p.canvas,k=v&&v.height,L=v&&v.width;f.id=le.uid(),f.ctx=p,f.canvas=v,f.config=c,f.width=L,f.height=k,f.aspectRatio=k?L/k:null,f.options=c.options,f._bufferedRender=!1,f._layers=[],f.chart=f,f.controller=f,ro.instances[f.id]=f,Object.defineProperty(f,"data",{get:function(){return f.config.data},set:function(G){f.config.data=G}}),p&&v?(f.initialize(),f.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var l=this;return Pi.notify(l,"beforeInit"),le.retinaScale(l,l.options.devicePixelRatio),l.bindEvents(),l.options.responsive&&l.resize(!0),l.initToolTip(),Pi.notify(l,"afterInit"),l},clear:function(){return le.canvas.clear(this),this},stop:function(){return Zi.cancelAnimation(this),this},resize:function(l){var c=this,f=c.options,p=c.canvas,v=f.maintainAspectRatio&&c.aspectRatio||null,k=Math.max(0,Math.floor(le.getMaximumWidth(p))),L=Math.max(0,Math.floor(v?k/v:le.getMaximumHeight(p)));if((c.width!==k||c.height!==L)&&(p.width=c.width=k,p.height=c.height=L,p.style.width=k+"px",p.style.height=L+"px",le.retinaScale(c,f.devicePixelRatio),!l)){var G={width:k,height:L};Pi.notify(c,"resize",[G]),f.onResize&&f.onResize(c,G),c.stop(),c.update({duration:f.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var l=this.options,c=l.scales||{},f=l.scale;le.each(c.xAxes,function(p,v){p.id||(p.id=yr(c.xAxes,"x-axis-",v))}),le.each(c.yAxes,function(p,v){p.id||(p.id=yr(c.yAxes,"y-axis-",v))}),f&&(f.id=f.id||"scale")},buildOrUpdateScales:function(){var l=this,c=l.options,f=l.scales||{},p=[],v=Object.keys(f).reduce(function(k,L){return k[L]=!1,k},{});c.scales&&(p=p.concat((c.scales.xAxes||[]).map(function(k){return{options:k,dtype:"category",dposition:"bottom"}}),(c.scales.yAxes||[]).map(function(k){return{options:k,dtype:"linear",dposition:"left"}}))),c.scale&&p.push({options:c.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),le.each(p,function(k){var L=k.options,G=L.id,Z=qo(L.type,k.dtype);ur(L.position)!==ur(k.dposition)&&(L.position=k.dposition),v[G]=!0;var Q=null;if(G in f&&f[G].type===Z)(Q=f[G]).options=L,Q.ctx=l.ctx,Q.chart=l;else{var se=Ao.getScaleConstructor(Z);if(!se)return;Q=new se({id:G,type:Z,options:L,ctx:l.ctx,chart:l}),f[Q.id]=Q}Q.mergeTicksOptions(),k.isDefault&&(l.scale=Q)}),le.each(v,function(k,L){k||delete f[L]}),l.scales=f,Ao.addScalesToLayout(this)},buildOrUpdateControllers:function(){var l,c,f=this,p=[],v=f.data.datasets;for(l=0,c=v.length;l<c;l++){var k=v[l],L=f.getDatasetMeta(l),G=k.type||f.config.type;if(L.type&&L.type!==G&&(f.destroyDatasetMeta(l),L=f.getDatasetMeta(l)),L.type=G,L.order=k.order||0,L.index=l,L.controller)L.controller.updateIndex(l),L.controller.linkScales();else{var Z=Ur[L.type];if(void 0===Z)throw new Error('"'+L.type+'" is not a chart type.');L.controller=new Z(f,l),p.push(L.controller)}}return p},resetElements:function(){var l=this;le.each(l.data.datasets,function(c,f){l.getDatasetMeta(f).controller.reset()},l)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(l){var c,f,p=this;if(l&&"object"==typeof l||(l={duration:l,lazy:arguments[1]}),_s(p),Pi._invalidate(p),!1!==Pi.notify(p,"beforeUpdate")){p.tooltip._data=p.data;var v=p.buildOrUpdateControllers();for(c=0,f=p.data.datasets.length;c<f;c++)p.getDatasetMeta(c).controller.buildOrUpdateElements();p.updateLayout(),p.options.animation&&p.options.animation.duration&&le.each(v,function(k){k.reset()}),p.updateDatasets(),p.tooltip.initialize(),p.lastActive=[],Pi.notify(p,"afterUpdate"),p._layers.sort(Yo("z","_idx")),p._bufferedRender?p._bufferedRequest={duration:l.duration,easing:l.easing,lazy:l.lazy}:p.render(l)}},updateLayout:function(){var l=this;!1!==Pi.notify(l,"beforeLayout")&&(Ji.update(this,this.width,this.height),l._layers=[],le.each(l.boxes,function(c){c._configure&&c._configure(),l._layers.push.apply(l._layers,c._layers())},l),l._layers.forEach(function(c,f){c._idx=f}),Pi.notify(l,"afterScaleUpdate"),Pi.notify(l,"afterLayout"))},updateDatasets:function(){if(!1!==Pi.notify(this,"beforeDatasetsUpdate")){for(var l=0,c=this.data.datasets.length;l<c;++l)this.updateDataset(l);Pi.notify(this,"afterDatasetsUpdate")}},updateDataset:function(l){var c=this.getDatasetMeta(l),f={meta:c,index:l};!1!==Pi.notify(this,"beforeDatasetUpdate",[f])&&(c.controller._update(),Pi.notify(this,"afterDatasetUpdate",[f]))},render:function(l){var c=this;l&&"object"==typeof l||(l={duration:l,lazy:arguments[1]});var f=c.options.animation,p=qo(l.duration,f&&f.duration),v=l.lazy;if(!1!==Pi.notify(c,"beforeRender")){var k=function(G){Pi.notify(c,"afterRender"),le.callback(f&&f.onComplete,[G],c)};if(f&&p){var L=new yi({numSteps:p/16.66,easing:l.easing||f.easing,render:function(G,Z){var se=Z.currentStep,he=se/Z.numSteps;G.draw((0,le.easing.effects[Z.easing])(he),he,se)},onAnimationProgress:f.onProgress,onAnimationComplete:k});Zi.addAnimation(c,L,p,v)}else c.draw(),k(new yi({numSteps:0,chart:c}));return c}},draw:function(l){var c,f,p=this;if(p.clear(),le.isNullOrUndef(l)&&(l=1),p.transition(l),!(p.width<=0||p.height<=0)&&!1!==Pi.notify(p,"beforeDraw",[l])){for(f=p._layers,c=0;c<f.length&&f[c].z<=0;++c)f[c].draw(p.chartArea);for(p.drawDatasets(l);c<f.length;++c)f[c].draw(p.chartArea);p._drawTooltip(l),Pi.notify(p,"afterDraw",[l])}},transition:function(l){for(var c=0,f=(this.data.datasets||[]).length;c<f;++c)this.isDatasetVisible(c)&&this.getDatasetMeta(c).controller.transition(l);this.tooltip.transition(l)},_getSortedDatasetMetas:function(l){var c,f,p=[];for(c=0,f=(this.data.datasets||[]).length;c<f;++c)l&&!this.isDatasetVisible(c)||p.push(this.getDatasetMeta(c));return p.sort(Yo("order","index")),p},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(l){var c,f;if(!1!==Pi.notify(this,"beforeDatasetsDraw",[l])){for(f=(c=this._getSortedVisibleDatasetMetas()).length-1;f>=0;--f)this.drawDataset(c[f],l);Pi.notify(this,"afterDatasetsDraw",[l])}},drawDataset:function(l,c){var f={meta:l,index:l.index,easingValue:c};!1!==Pi.notify(this,"beforeDatasetDraw",[f])&&(l.controller.draw(c),Pi.notify(this,"afterDatasetDraw",[f]))},_drawTooltip:function(l){var c=this.tooltip,f={tooltip:c,easingValue:l};!1!==Pi.notify(this,"beforeTooltipDraw",[f])&&(c.draw(),Pi.notify(this,"afterTooltipDraw",[f]))},getElementAtEvent:function(l){return jr.modes.single(this,l)},getElementsAtEvent:function(l){return jr.modes.label(this,l,{intersect:!0})},getElementsAtXAxis:function(l){return jr.modes["x-axis"](this,l,{intersect:!0})},getElementsAtEventForMode:function(l,c,f){var p=jr.modes[c];return"function"==typeof p?p(this,l,f):[]},getDatasetAtEvent:function(l){return jr.modes.dataset(this,l,{intersect:!0})},getDatasetMeta:function(l){var c=this.data.datasets[l];c._meta||(c._meta={});var f=c._meta[this.id];return f||(f=c._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:c.order||0,index:l}),f},getVisibleDatasetCount:function(){for(var l=0,c=0,f=this.data.datasets.length;c<f;++c)this.isDatasetVisible(c)&&l++;return l},isDatasetVisible:function(l){var c=this.getDatasetMeta(l);return"boolean"==typeof c.hidden?!c.hidden:!this.data.datasets[l].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(l){var c=this.id,f=this.data.datasets[l],p=f._meta&&f._meta[c];p&&(p.controller.destroy(),delete f._meta[c])},destroy:function(){var l,c,f=this,p=f.canvas;for(f.stop(),l=0,c=f.data.datasets.length;l<c;++l)f.destroyDatasetMeta(l);p&&(f.unbindEvents(),le.canvas.clear(f),Fr.releaseContext(f.ctx),f.canvas=null,f.ctx=null),Pi.notify(f,"destroy"),delete ro.instances[f.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var l=this;l.tooltip=new go({_chart:l,_chartInstance:l,_data:l.data,_options:l.options.tooltips},l)},bindEvents:function(){var l=this,c=l._listeners={},f=function(){l.eventHandler.apply(l,arguments)};le.each(l.options.events,function(p){Fr.addEventListener(l,p,f),c[p]=f}),l.options.responsive&&(f=function(){l.resize()},Fr.addEventListener(l,"resize",f),c.resize=f)},unbindEvents:function(){var l=this,c=l._listeners;c&&(delete l._listeners,le.each(c,function(f,p){Fr.removeEventListener(l,p,f)}))},updateHoverStyle:function(l,c,f){var p,v,k,L=f?"set":"remove";for(v=0,k=l.length;v<k;++v)(p=l[v])&&this.getDatasetMeta(p._datasetIndex).controller[L+"HoverStyle"](p);"dataset"===c&&this.getDatasetMeta(l[0]._datasetIndex).controller["_"+L+"DatasetHoverStyle"]()},eventHandler:function(l){var c=this,f=c.tooltip;if(!1!==Pi.notify(c,"beforeEvent",[l])){c._bufferedRender=!0,c._bufferedRequest=null;var p=c.handleEvent(l);f&&(p=f._start?f.handleEvent(l):p|f.handleEvent(l)),Pi.notify(c,"afterEvent",[l]);var v=c._bufferedRequest;return v?c.render(v):p&&!c.animating&&(c.stop(),c.render({duration:c.options.hover.animationDuration,lazy:!0})),c._bufferedRender=!1,c._bufferedRequest=null,c}},handleEvent:function(l){var c,f=this,p=f.options||{},v=p.hover;return f.lastActive=f.lastActive||[],f.active="mouseout"===l.type?[]:f.getElementsAtEventForMode(l,v.mode,v),le.callback(p.onHover||p.hover.onHover,[l.native,f.active],f),"mouseup"!==l.type&&"click"!==l.type||p.onClick&&p.onClick.call(f,l.native,f.active),f.lastActive.length&&f.updateHoverStyle(f.lastActive,v.mode,!1),f.active.length&&v.mode&&f.updateHoverStyle(f.active,v.mode,!0),c=!le.arrayEquals(f.active,f.lastActive),f.lastActive=f.active,c}}),ro.instances={};var gi=ro;function mo(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function Sa(l){this.options=l||{}}ro.Controller=ro,ro.types={},le.configMerge=Zo,le.scaleMerge=Ca,le.extend(Sa.prototype,{formats:mo,parse:mo,format:mo,add:mo,diff:mo,startOf:mo,endOf:mo,_create:function(l){return l}}),Sa.override=function(l){le.extend(Sa.prototype,l)};var Ga={_date:Sa},$o={formatters:{values:function(l){return le.isArray(l)?l:""+l},linear:function(l,c,f){var p=f.length>3?f[2]-f[1]:f[1]-f[0];Math.abs(p)>1&&l!==Math.floor(l)&&(p=l-Math.floor(l));var v=le.log10(Math.abs(p)),k="";if(0!==l)if(Math.max(Math.abs(f[0]),Math.abs(f[f.length-1]))<1e-4){var L=le.log10(Math.abs(l)),G=Math.floor(L)-Math.floor(v);G=Math.max(Math.min(G,20),0),k=l.toExponential(G)}else{var Z=-1*Math.floor(v);Z=Math.max(Math.min(Z,20),0),k=l.toFixed(Z)}else k="0";return k},logarithmic:function(l,c,f){var p=l/Math.pow(10,Math.floor(le.log10(l)));return 0===l?"0":1===p||2===p||5===p||0===c||c===f.length-1?l.toExponential():""}}},oo=le.isArray,ee=le.isNullOrUndef,Y=le.valueOrDefault,z=le.valueAtIndexOrDefault;function B(l,c,f){var p,v=l.getTicks().length,k=Math.min(c,v-1),L=l.getPixelForTick(k),G=l._startPixel,Z=l._endPixel;if(!(f&&(p=1===v?Math.max(L-G,Z-L):0===c?(l.getPixelForTick(1)-L)/2:(L-l.getPixelForTick(k-1))/2,(L+=k<c?p:-p)<G-1e-6||L>Z+1e-6)))return L}function T(l){return l.drawTicks?l.tickMarkLength:0}function b(l){var c,f;return l.display?(c=le.options._parseFont(l),f=le.options.toPadding(l.padding),c.lineHeight+f.height):0}function w(l,c){return le.extend(le.options._parseFont({fontFamily:Y(c.fontFamily,l.fontFamily),fontSize:Y(c.fontSize,l.fontSize),fontStyle:Y(c.fontStyle,l.fontStyle),lineHeight:Y(c.lineHeight,l.lineHeight)}),{color:le.options.resolve([c.fontColor,l.fontColor,Tt.global.defaultFontColor])})}function S(l){var c=w(l,l.minor);return{minor:c,major:l.major.enabled?w(l,l.major):c}}function F(l){var c,f,p,v=[];for(f=0,p=l.length;f<p;++f)void 0!==(c=l[f])._index&&v.push(c);return v}function D(l,c,f,p){var v,k,L,G,Z=Y(f,0),Q=Math.min(Y(p,l.length),l.length),se=0;for(c=Math.ceil(c),p&&(c=(v=p-f)/Math.floor(v/c)),G=Z;G<0;)se++,G=Math.round(Z+se*c);for(k=Math.max(Z,0);k<Q;k++)L=l[k],k===G?(L._index=k,se++,G=Math.round(Z+se*c)):delete L.label}Tt._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:$o.formatters.values,minor:{},major:{}}});var N=qn.extend({zeroLineIndex:0,getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var l=this.chart.data;return this.options.labels||(this.isHorizontal()?l.xLabels:l.yLabels)||l.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){le.callback(this.options.beforeUpdate,[this])},update:function(l,c,f){var p,v,k,L,G,Z=this,Q=Z.options.ticks,se=Q.sampleSize;if(Z.beforeUpdate(),Z.maxWidth=l,Z.maxHeight=c,Z.margins=le.extend({left:0,right:0,top:0,bottom:0},f),Z._ticks=null,Z.ticks=null,Z._labelSizes=null,Z._maxLabelLines=0,Z.longestLabelWidth=0,Z.longestTextCache=Z.longestTextCache||{},Z._gridLineItems=null,Z._labelItems=null,Z.beforeSetDimensions(),Z.setDimensions(),Z.afterSetDimensions(),Z.beforeDataLimits(),Z.determineDataLimits(),Z.afterDataLimits(),Z.beforeBuildTicks(),L=Z.buildTicks()||[],(!(L=Z.afterBuildTicks(L)||L)||!L.length)&&Z.ticks)for(L=[],p=0,v=Z.ticks.length;p<v;++p)L.push({value:Z.ticks[p],major:!1});return Z._ticks=L,k=Z._convertTicksToLabels((G=se<L.length)?function(he,_e){for(var Re=[],De=he.length/_e,Ue=0,Ze=he.length;Ue<Ze;Ue+=De)Re.push(he[Math.floor(Ue)]);return Re}(L,se):L),Z._configure(),Z.beforeCalculateTickRotation(),Z.calculateTickRotation(),Z.afterCalculateTickRotation(),Z.beforeFit(),Z.fit(),Z.afterFit(),Z._ticksToDraw=Q.display&&(Q.autoSkip||"auto"===Q.source)?Z._autoSkip(L):L,G&&(k=Z._convertTicksToLabels(Z._ticksToDraw)),Z.ticks=k,Z.afterUpdate(),Z.minSize},_configure:function(){var l,c,f=this,p=f.options.ticks.reverse;f.isHorizontal()?(l=f.left,c=f.right):(l=f.top,c=f.bottom,p=!p),f._startPixel=l,f._endPixel=c,f._reversePixels=p,f._length=c-l},afterUpdate:function(){le.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){le.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var l=this;l.isHorizontal()?(l.width=l.maxWidth,l.left=0,l.right=l.width):(l.height=l.maxHeight,l.top=0,l.bottom=l.height),l.paddingLeft=0,l.paddingTop=0,l.paddingRight=0,l.paddingBottom=0},afterSetDimensions:function(){le.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){le.callback(this.options.beforeDataLimits,[this])},determineDataLimits:le.noop,afterDataLimits:function(){le.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){le.callback(this.options.beforeBuildTicks,[this])},buildTicks:le.noop,afterBuildTicks:function(l){var c=this;return oo(l)&&l.length?le.callback(c.options.afterBuildTicks,[c,l]):(c.ticks=le.callback(c.options.afterBuildTicks,[c,c.ticks])||c.ticks,l)},beforeTickToLabelConversion:function(){le.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var l=this.options.ticks;this.ticks=this.ticks.map(l.userCallback||l.callback,this)},afterTickToLabelConversion:function(){le.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){le.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var l,c,f,p,v,k,L,G=this,Z=G.options,Q=Z.ticks,se=G.getTicks().length,he=Q.minRotation||0,_e=Q.maxRotation,Re=he;!G._isVisible()||!Q.display||he>=_e||se<=1||!G.isHorizontal()?G.labelRotation=he:(c=(l=G._getLabelSizes()).widest.width,f=l.highest.height-l.highest.offset,p=Math.min(G.maxWidth,G.chart.width-c),c+6>(v=Z.offset?G.maxWidth/se:p/(se-1))&&(v=p/(se-(Z.offset?.5:1)),k=G.maxHeight-T(Z.gridLines)-Q.padding-b(Z.scaleLabel),L=Math.sqrt(c*c+f*f),Re=le.toDegrees(Math.min(Math.asin(Math.min((l.highest.height+6)/v,1)),Math.asin(Math.min(k/L,1))-Math.asin(f/L))),Re=Math.max(he,Math.min(_e,Re))),G.labelRotation=Re)},afterCalculateTickRotation:function(){le.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){le.callback(this.options.beforeFit,[this])},fit:function(){var l=this,c=l.minSize={width:0,height:0},f=l.chart,p=l.options,v=p.ticks,k=p.scaleLabel,L=p.gridLines,G=l._isVisible(),Z="bottom"===p.position,Q=l.isHorizontal();if(Q?c.width=l.maxWidth:G&&(c.width=T(L)+b(k)),Q?G&&(c.height=T(L)+b(k)):c.height=l.maxHeight,v.display&&G){var se=S(v),he=l._getLabelSizes(),_e=he.first,Re=he.last,De=he.widest,Ue=he.highest,Ze=.4*se.minor.lineHeight,qt=v.padding;if(Q){var Ut=0!==l.labelRotation,mn=le.toRadians(l.labelRotation),Cn=Math.cos(mn),In=Math.sin(mn);c.height=Math.min(l.maxHeight,c.height+(In*De.width+Cn*(Ue.height-(Ut?Ue.offset:0))+(Ut?0:Ze))+qt);var ei,ni,pn=l.getPixelForTick(0)-l.left,ui=l.right-l.getPixelForTick(l.getTicks().length-1);Ut?(ei=Z?Cn*_e.width+In*_e.offset:In*(_e.height-_e.offset),ni=Z?In*(Re.height-Re.offset):Cn*Re.width+In*Re.offset):(ei=_e.width/2,ni=Re.width/2),l.paddingLeft=Math.max((ei-pn)*l.width/(l.width-pn),0)+3,l.paddingRight=Math.max((ni-ui)*l.width/(l.width-ui),0)+3}else c.width=Math.min(l.maxWidth,c.width+(v.mirror?0:De.width+qt+Ze)),l.paddingTop=_e.height/2,l.paddingBottom=Re.height/2}l.handleMargins(),Q?(l.width=l._length=f.width-l.margins.left-l.margins.right,l.height=c.height):(l.width=c.width,l.height=l._length=f.height-l.margins.top-l.margins.bottom)},handleMargins:function(){var l=this;l.margins&&(l.margins.left=Math.max(l.paddingLeft,l.margins.left),l.margins.top=Math.max(l.paddingTop,l.margins.top),l.margins.right=Math.max(l.paddingRight,l.margins.right),l.margins.bottom=Math.max(l.paddingBottom,l.margins.bottom))},afterFit:function(){le.callback(this.options.afterFit,[this])},isHorizontal:function(){var l=this.options.position;return"top"===l||"bottom"===l},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(l){if(ee(l))return NaN;if(("number"==typeof l||l instanceof Number)&&!isFinite(l))return NaN;if(l)if(this.isHorizontal()){if(void 0!==l.x)return this.getRightValue(l.x)}else if(void 0!==l.y)return this.getRightValue(l.y);return l},_convertTicksToLabels:function(l){var c,f,p,v=this;for(v.ticks=l.map(function(k){return k.value}),v.beforeTickToLabelConversion(),c=v.convertTicksToLabels(l)||v.ticks,v.afterTickToLabelConversion(),f=0,p=l.length;f<p;++f)l[f].label=c[f];return c},_getLabelSizes:function(){var l=this,c=l._labelSizes;return c||(l._labelSizes=c=function(l,c,f,p){var v,k,L,G,Z,Q,se,he,_e,Re,De,Ue,Ze,pn,qt=f.length,Ut=[],mn=[],Cn=[],In=0,Gn=0;for(v=0;v<qt;++v){if(G=f[v].label,l.font=Q=(Z=f[v].major?c.major:c.minor).string,se=p[Q]=p[Q]||{data:{},gc:[]},he=Z.lineHeight,_e=Re=0,ee(G)||oo(G)){if(oo(G))for(k=0,L=G.length;k<L;++k)ee(De=G[k])||oo(De)||(_e=le.measureText(l,se.data,se.gc,_e,De),Re+=he)}else _e=le.measureText(l,se.data,se.gc,_e,G),Re=he;Ut.push(_e),mn.push(Re),Cn.push(he/2),In=Math.max(_e,In),Gn=Math.max(Re,Gn)}function ei(ni){return{width:Ut[ni]||0,height:mn[ni]||0,offset:Cn[ni]||0}}return pn=qt,le.each(p,function(ui){var mi,pi=ui.gc,ji=pi.length/2;if(ji>pn){for(mi=0;mi<ji;++mi)delete ui.data[pi[mi]];pi.splice(0,ji)}}),Ue=Ut.indexOf(In),Ze=mn.indexOf(Gn),{first:ei(0),last:ei(qt-1),widest:ei(Ue),highest:ei(Ze)}}(l.ctx,S(l.options.ticks),l.getTicks(),l.longestTextCache),l.longestLabelWidth=c.widest.width),c},_parseValue:function(l){var c,f,p,v;return oo(l)?(c=+this.getRightValue(l[0]),f=+this.getRightValue(l[1]),p=Math.min(c,f),v=Math.max(c,f)):(c=void 0,f=l=+this.getRightValue(l),p=l,v=l),{min:p,max:v,start:c,end:f}},_getScaleLabel:function(l){var c=this._parseValue(l);return void 0!==c.start?"["+c.start+", "+c.end+"]":+this.getRightValue(l)},getLabelForIndex:le.noop,getPixelForValue:le.noop,getValueForPixel:le.noop,getPixelForTick:function(l){var c=this.options.offset,f=this._ticks.length,p=1/Math.max(f-(c?0:1),1);return l<0||l>f-1?null:this.getPixelForDecimal(l*p+(c?p/2:0))},getPixelForDecimal:function(l){return this._reversePixels&&(l=1-l),this._startPixel+l*this._length},getDecimalForPixel:function(l){var c=(l-this._startPixel)/this._length;return this._reversePixels?1-c:c},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var l=this.min,c=this.max;return this.beginAtZero?0:l<0&&c<0?c:l>0&&c>0?l:0},_autoSkip:function(l){var c,f,p,v,k=this.options.ticks,G=k.maxTicksLimit||this._length/this._tickSize()+1,Z=k.major.enabled?function(_e){var Re,De,Ue=[];for(Re=0,De=_e.length;Re<De;Re++)_e[Re].major&&Ue.push(Re);return Ue}(l):[],Q=Z.length,se=Z[0],he=Z[Q-1];if(Q>G)return function(_e,Re,De){var Ue,Ze,qt=0,Ut=Re[0];for(De=Math.ceil(De),Ue=0;Ue<_e.length;Ue++)Ze=_e[Ue],Ue===Ut?(Ze._index=Ue,Ut=Re[++qt*De]):delete Ze.label}(l,Z,Q/G),F(l);if(p=function(_e,Re,De,Ue){var Ze,qt,Ut,mn,Cn=function(Gn){var ei,ni,pn=Gn.length;if(pn<2)return!1;for(ni=Gn[0],ei=1;ei<pn;++ei)if(Gn[ei]-Gn[ei-1]!==ni)return!1;return ni}(_e),In=(Re.length-1)/Ue;if(!Cn)return Math.max(In,1);for(Ut=0,mn=(Ze=le.math._factorize(Cn)).length-1;Ut<mn;Ut++)if((qt=Ze[Ut])>In)return qt;return Math.max(In,1)}(Z,l,0,G),Q>0){for(c=0,f=Q-1;c<f;c++)D(l,p,Z[c],Z[c+1]);return D(l,p,le.isNullOrUndef(v=Q>1?(he-se)/(Q-1):null)?0:se-v,se),D(l,p,he,le.isNullOrUndef(v)?l.length:he+v),F(l)}return D(l,p),F(l)},_tickSize:function(){var l=this.options.ticks,c=le.toRadians(this.labelRotation),f=Math.abs(Math.cos(c)),p=Math.abs(Math.sin(c)),v=this._getLabelSizes(),k=l.autoSkipPadding||0,L=v?v.widest.width+k:0,G=v?v.highest.height+k:0;return this.isHorizontal()?G*f>L*p?L/f:G/p:G*p<L*f?G/f:L/p},_isVisible:function(){var l,c,f,p=this.chart,v=this.options.display;if("auto"!==v)return!!v;for(l=0,c=p.data.datasets.length;l<c;++l)if(p.isDatasetVisible(l)&&((f=p.getDatasetMeta(l)).xAxisID===this.id||f.yAxisID===this.id))return!0;return!1},_computeGridLineItems:function(l){var c,f,p,v,k,L,G,Z,Q,se,he,_e,Re,De,Ue,Ze,qt,Ut=this,mn=Ut.chart,Cn=Ut.options,In=Cn.gridLines,Gn=Cn.position,ei=In.offsetGridLines,ni=Ut.isHorizontal(),pn=Ut._ticksToDraw,ui=pn.length+(ei?1:0),mi=T(In),pi=[],ji=In.drawBorder?z(In.lineWidth,0,0):0,wi=ji/2,Fi=le._alignPixel,Wi=function(Kn){return Fi(mn,Kn,ji)};for("top"===Gn?(c=Wi(Ut.bottom),G=Ut.bottom-mi,Q=c-wi,he=Wi(l.top)+wi,Re=l.bottom):"bottom"===Gn?(c=Wi(Ut.top),he=l.top,Re=Wi(l.bottom)-wi,G=c+wi,Q=Ut.top+mi):"left"===Gn?(c=Wi(Ut.right),L=Ut.right-mi,Z=c-wi,se=Wi(l.left)+wi,_e=l.right):(c=Wi(Ut.left),se=l.left,_e=Wi(l.right)-wi,L=c+wi,Z=Ut.left+mi),f=0;f<ui;++f)ee((p=pn[f]||{}).label)&&f<pn.length||(f===Ut.zeroLineIndex&&Cn.offset===ei?(De=In.zeroLineWidth,Ue=In.zeroLineColor,Ze=In.zeroLineBorderDash||[],qt=In.zeroLineBorderDashOffset||0):(De=z(In.lineWidth,f,1),Ue=z(In.color,f,"rgba(0,0,0,0.1)"),Ze=In.borderDash||[],qt=In.borderDashOffset||0),void 0!==(v=B(Ut,p._index||f,ei))&&(k=Fi(mn,v,De),ni?L=Z=se=_e=k:G=Q=he=Re=k,pi.push({tx1:L,ty1:G,tx2:Z,ty2:Q,x1:se,y1:he,x2:_e,y2:Re,width:De,color:Ue,borderDash:Ze,borderDashOffset:qt})));return pi.ticksLength=ui,pi.borderValue=c,pi},_computeLabelItems:function(){var l,c,f,p,v,k,L,G,Z,Q,se,he,_e=this,Re=_e.options,De=Re.ticks,Ue=Re.position,Ze=De.mirror,qt=_e.isHorizontal(),Ut=_e._ticksToDraw,mn=S(De),Cn=De.padding,In=T(Re.gridLines),Gn=-le.toRadians(_e.labelRotation),ei=[];for("top"===Ue?(k=_e.bottom-In-Cn,L=Gn?"left":"center"):"bottom"===Ue?(k=_e.top+In+Cn,L=Gn?"right":"center"):"left"===Ue?(v=_e.right-(Ze?0:In)-Cn,L=Ze?"left":"right"):(v=_e.left+(Ze?0:In)+Cn,L=Ze?"right":"left"),l=0,c=Ut.length;l<c;++l)p=(f=Ut[l]).label,ee(p)||(G=_e.getPixelForTick(f._index||l)+De.labelOffset,Q=(Z=f.major?mn.major:mn.minor).lineHeight,se=oo(p)?p.length:1,qt?(v=G,he="top"===Ue?((Gn?1:.5)-se)*Q:(Gn?0:.5)*Q):(k=G,he=(1-se)*Q/2),ei.push({x:v,y:k,rotation:Gn,label:p,font:Z,textOffset:he,textAlign:L}));return ei},_drawGrid:function(l){var c=this,f=c.options.gridLines;if(f.display){var p,v,k,L,G,Z=c.ctx,Q=c.chart,se=le._alignPixel,he=f.drawBorder?z(f.lineWidth,0,0):0,_e=c._gridLineItems||(c._gridLineItems=c._computeGridLineItems(l));for(k=0,L=_e.length;k<L;++k)p=(G=_e[k]).width,v=G.color,p&&v&&(Z.save(),Z.lineWidth=p,Z.strokeStyle=v,Z.setLineDash&&(Z.setLineDash(G.borderDash),Z.lineDashOffset=G.borderDashOffset),Z.beginPath(),f.drawTicks&&(Z.moveTo(G.tx1,G.ty1),Z.lineTo(G.tx2,G.ty2)),f.drawOnChartArea&&(Z.moveTo(G.x1,G.y1),Z.lineTo(G.x2,G.y2)),Z.stroke(),Z.restore());if(he){var Re,De,Ue,Ze,qt=he,Ut=z(f.lineWidth,_e.ticksLength-1,1),mn=_e.borderValue;c.isHorizontal()?(Re=se(Q,c.left,qt)-qt/2,De=se(Q,c.right,Ut)+Ut/2,Ue=Ze=mn):(Ue=se(Q,c.top,qt)-qt/2,Ze=se(Q,c.bottom,Ut)+Ut/2,Re=De=mn),Z.lineWidth=he,Z.strokeStyle=z(f.color,0),Z.beginPath(),Z.moveTo(Re,Ue),Z.lineTo(De,Ze),Z.stroke()}}},_drawLabels:function(){var l=this;if(l.options.ticks.display){var c,f,p,v,k,L,G,Z,Q=l.ctx,se=l._labelItems||(l._labelItems=l._computeLabelItems());for(c=0,p=se.length;c<p;++c){if(L=(k=se[c]).font,Q.save(),Q.translate(k.x,k.y),Q.rotate(k.rotation),Q.font=L.string,Q.fillStyle=L.color,Q.textBaseline="middle",Q.textAlign=k.textAlign,Z=k.textOffset,oo(G=k.label))for(f=0,v=G.length;f<v;++f)Q.fillText(""+G[f],0,Z),Z+=L.lineHeight;else Q.fillText(G,0,Z);Q.restore()}}},_drawTitle:function(){var l=this,c=l.ctx,f=l.options,p=f.scaleLabel;if(p.display){var v,k,L=Y(p.fontColor,Tt.global.defaultFontColor),G=le.options._parseFont(p),Z=le.options.toPadding(p.padding),Q=G.lineHeight/2,se=f.position,he=0;if(l.isHorizontal())v=l.left+l.width/2,k="bottom"===se?l.bottom-Q-Z.bottom:l.top+Q+Z.top;else{var _e="left"===se;v=_e?l.left+Q+Z.top:l.right-Q-Z.top,k=l.top+l.height/2,he=_e?-.5*Math.PI:.5*Math.PI}c.save(),c.translate(v,k),c.rotate(he),c.textAlign="center",c.textBaseline="middle",c.fillStyle=L,c.font=G.string,c.fillText(p.labelString,0,0),c.restore()}},draw:function(l){this._isVisible()&&(this._drawGrid(l),this._drawTitle(),this._drawLabels())},_layers:function(){var l=this,c=l.options,f=c.ticks&&c.ticks.z||0,p=c.gridLines&&c.gridLines.z||0;return l._isVisible()&&f!==p&&l.draw===l._draw?[{z:p,draw:function(){l._drawGrid.apply(l,arguments),l._drawTitle.apply(l,arguments)}},{z:f,draw:function(){l._drawLabels.apply(l,arguments)}}]:[{z:f,draw:function(){l.draw.apply(l,arguments)}}]},_getMatchingVisibleMetas:function(l){var c=this,f=c.isHorizontal();return c.chart._getSortedVisibleDatasetMetas().filter(function(p){return(!l||p.type===l)&&(f?p.xAxisID===c.id:p.yAxisID===c.id)})}});N.prototype._draw=N.prototype.draw;var E=N,V=le.isNullOrUndef,R=E.extend({determineDataLimits:function(){var l,c=this,f=c._getLabels(),p=c.options.ticks,v=p.min,k=p.max,L=0,G=f.length-1;void 0!==v&&(l=f.indexOf(v))>=0&&(L=l),void 0!==k&&(l=f.indexOf(k))>=0&&(G=l),c.minIndex=L,c.maxIndex=G,c.min=f[L],c.max=f[G]},buildTicks:function(){var l=this._getLabels(),c=this.minIndex,f=this.maxIndex;this.ticks=0===c&&f===l.length-1?l:l.slice(c,f+1)},getLabelForIndex:function(l,c){var f=this.chart;return f.getDatasetMeta(c).controller._getValueScaleId()===this.id?this.getRightValue(f.data.datasets[c].data[l]):this._getLabels()[l]},_configure:function(){var l=this,c=l.options.offset,f=l.ticks;E.prototype._configure.call(l),l.isHorizontal()||(l._reversePixels=!l._reversePixels),f&&(l._startValue=l.minIndex-(c?.5:0),l._valueRange=Math.max(f.length-(c?0:1),1))},getPixelForValue:function(l,c,f){var p,v,k,L=this;return V(c)||V(f)||(l=L.chart.data.datasets[f].data[c]),V(l)||(p=L.isHorizontal()?l.x:l.y),(void 0!==p||void 0!==l&&isNaN(c))&&(v=L._getLabels(),l=le.valueOrDefault(p,l),c=-1!==(k=v.indexOf(l))?k:c,isNaN(c)&&(c=l)),L.getPixelForDecimal((c-L._startValue)/L._valueRange)},getPixelForTick:function(l){var c=this.ticks;return l<0||l>c.length-1?null:this.getPixelForValue(c[l],l+this.minIndex)},getValueForPixel:function(l){var c=Math.round(this._startValue+this.getDecimalForPixel(l)*this._valueRange);return Math.min(Math.max(c,0),this.ticks.length-1)},getBasePixel:function(){return this.bottom}});R._defaults={position:"bottom"};var $=le.isNullOrUndef,A=E.extend({getRightValue:function(l){return"string"==typeof l?+l:E.prototype.getRightValue.call(this,l)},handleTickRangeOptions:function(){var l=this,c=l.options.ticks;if(c.beginAtZero){var f=le.sign(l.min),p=le.sign(l.max);f<0&&p<0?l.max=0:f>0&&p>0&&(l.min=0)}var v=void 0!==c.min||void 0!==c.suggestedMin,k=void 0!==c.max||void 0!==c.suggestedMax;void 0!==c.min?l.min=c.min:void 0!==c.suggestedMin&&(l.min=null===l.min?c.suggestedMin:Math.min(l.min,c.suggestedMin)),void 0!==c.max?l.max=c.max:void 0!==c.suggestedMax&&(l.max=null===l.max?c.suggestedMax:Math.max(l.max,c.suggestedMax)),v!==k&&l.min>=l.max&&(v?l.max=l.min+1:l.min=l.max-1),l.min===l.max&&(l.max++,c.beginAtZero||l.min--)},getTickLimit:function(){var l,c=this.options.ticks,f=c.stepSize,p=c.maxTicksLimit;return f?l=Math.ceil(this.max/f)-Math.floor(this.min/f)+1:(l=this._computeTickLimit(),p=p||11),p&&(l=Math.min(p,l)),l},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:le.noop,buildTicks:function(){var l=this,c=l.options.ticks,f=l.getTickLimit(),p={maxTicks:f=Math.max(2,f),min:c.min,max:c.max,precision:c.precision,stepSize:le.valueOrDefault(c.fixedStepSize,c.stepSize)},v=l.ticks=function(k,L){var G,Z,Q,se,he=[],_e=k.stepSize,Re=_e||1,De=k.maxTicks-1,Ue=k.min,Ze=k.max,qt=k.precision,Ut=L.min,mn=L.max,Cn=le.niceNum((mn-Ut)/De/Re)*Re;if(Cn<1e-14&&$(Ue)&&$(Ze))return[Ut,mn];(se=Math.ceil(mn/Cn)-Math.floor(Ut/Cn))>De&&(Cn=le.niceNum(se*Cn/De/Re)*Re),_e||$(qt)?G=Math.pow(10,le._decimalPlaces(Cn)):(G=Math.pow(10,qt),Cn=Math.ceil(Cn*G)/G),Z=Math.floor(Ut/Cn)*Cn,Q=Math.ceil(mn/Cn)*Cn,_e&&(!$(Ue)&&le.almostWhole(Ue/Cn,Cn/1e3)&&(Z=Ue),!$(Ze)&&le.almostWhole(Ze/Cn,Cn/1e3)&&(Q=Ze)),se=le.almostEquals(se=(Q-Z)/Cn,Math.round(se),Cn/1e3)?Math.round(se):Math.ceil(se),Z=Math.round(Z*G)/G,Q=Math.round(Q*G)/G,he.push($(Ue)?Z:Ue);for(var In=1;In<se;++In)he.push(Math.round((Z+In*Cn)*G)/G);return he.push($(Ze)?Q:Ze),he}(p,l);l.handleDirectionalChanges(),l.max=le.max(v),l.min=le.min(v),c.reverse?(v.reverse(),l.start=l.max,l.end=l.min):(l.start=l.min,l.end=l.max)},convertTicksToLabels:function(){var l=this;l.ticksAsNumbers=l.ticks.slice(),l.zeroLineIndex=l.ticks.indexOf(0),E.prototype.convertTicksToLabels.call(l)},_configure:function(){var l,c=this,f=c.getTicks(),p=c.min,v=c.max;E.prototype._configure.call(c),c.options.offset&&f.length&&(p-=l=(v-p)/Math.max(f.length-1,1)/2,v+=l),c._startValue=p,c._endValue=v,c._valueRange=v-p}}),P={position:"left",ticks:{callback:$o.formatters.linear}};function M(l,c,f,p){var v,k,he,Re,De,L=l.options,G=(void 0===(he=c)[De=[(Re=f).type,void 0===L.stacked&&void 0===Re.stack?Re.index:"",Re.stack].join(".")]&&(he[De]={pos:[],neg:[]}),he[De]),Z=G.pos,Q=G.neg,se=p.length;for(v=0;v<se;++v)k=l._parseValue(p[v]),isNaN(k.min)||isNaN(k.max)||f.data[v].hidden||(Z[v]=Z[v]||0,Q[v]=Q[v]||0,L.relativePoints?Z[v]=100:k.min<0||k.max<0?Q[v]+=k.min:Z[v]+=k.max)}function x(l,c,f){var p,v,k=f.length;for(p=0;p<k;++p)v=l._parseValue(f[p]),isNaN(v.min)||isNaN(v.max)||c.data[p].hidden||(l.min=Math.min(l.min,v.min),l.max=Math.max(l.max,v.max))}var _=A.extend({determineDataLimits:function(){var l,c,f,p,v=this,k=v.options,L=v.chart.data.datasets,G=v._getMatchingVisibleMetas(),Z=k.stacked,Q={},se=G.length;if(v.min=Number.POSITIVE_INFINITY,v.max=Number.NEGATIVE_INFINITY,void 0===Z)for(l=0;!Z&&l<se;++l)Z=void 0!==(c=G[l]).stack;for(l=0;l<se;++l)f=L[(c=G[l]).index].data,Z?M(v,Q,c,f):x(v,c,f);le.each(Q,function(he){p=he.pos.concat(he.neg),v.min=Math.min(v.min,le.min(p)),v.max=Math.max(v.max,le.max(p))}),v.min=le.isFinite(v.min)&&!isNaN(v.min)?v.min:0,v.max=le.isFinite(v.max)&&!isNaN(v.max)?v.max:1,v.handleTickRangeOptions()},_computeTickLimit:function(){var l;return this.isHorizontal()?Math.ceil(this.width/40):(l=le.options._parseFont(this.options.ticks),Math.ceil(this.height/l.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(l,c){return this._getScaleLabel(this.chart.data.datasets[c].data[l])},getPixelForValue:function(l){return this.getPixelForDecimal((+this.getRightValue(l)-this._startValue)/this._valueRange)},getValueForPixel:function(l){return this._startValue+this.getDecimalForPixel(l)*this._valueRange},getPixelForTick:function(l){var c=this.ticksAsNumbers;return l<0||l>c.length-1?null:this.getPixelForValue(c[l])}});_._defaults=P;var X=le.valueOrDefault,U=le.math.log10,J={position:"left",ticks:{callback:$o.formatters.logarithmic}};function ie(l,c){return le.isFinite(l)&&l>=0?l:c}var ye=E.extend({determineDataLimits:function(){var l,c,f,p,v,k,L=this,G=L.options,Z=L.chart,Q=Z.data.datasets,se=L.isHorizontal();function he(Ze){return se?Ze.xAxisID===L.id:Ze.yAxisID===L.id}L.min=Number.POSITIVE_INFINITY,L.max=Number.NEGATIVE_INFINITY,L.minNotZero=Number.POSITIVE_INFINITY;var _e=G.stacked;if(void 0===_e)for(l=0;l<Q.length;l++)if(c=Z.getDatasetMeta(l),Z.isDatasetVisible(l)&&he(c)&&void 0!==c.stack){_e=!0;break}if(G.stacked||_e){var Re={};for(l=0;l<Q.length;l++){var De=[(c=Z.getDatasetMeta(l)).type,void 0===G.stacked&&void 0===c.stack?l:"",c.stack].join(".");if(Z.isDatasetVisible(l)&&he(c))for(void 0===Re[De]&&(Re[De]=[]),v=0,k=(p=Q[l].data).length;v<k;v++){var Ue=Re[De];f=L._parseValue(p[v]),isNaN(f.min)||isNaN(f.max)||c.data[v].hidden||f.min<0||f.max<0||(Ue[v]=Ue[v]||0,Ue[v]+=f.max)}}le.each(Re,function(Ze){if(Ze.length>0){var qt=le.min(Ze),Ut=le.max(Ze);L.min=Math.min(L.min,qt),L.max=Math.max(L.max,Ut)}})}else for(l=0;l<Q.length;l++)if(c=Z.getDatasetMeta(l),Z.isDatasetVisible(l)&&he(c))for(v=0,k=(p=Q[l].data).length;v<k;v++)f=L._parseValue(p[v]),isNaN(f.min)||isNaN(f.max)||c.data[v].hidden||f.min<0||f.max<0||(L.min=Math.min(f.min,L.min),L.max=Math.max(f.max,L.max),0!==f.min&&(L.minNotZero=Math.min(f.min,L.minNotZero)));L.min=le.isFinite(L.min)?L.min:null,L.max=le.isFinite(L.max)?L.max:null,L.minNotZero=le.isFinite(L.minNotZero)?L.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var l=this,c=l.options.ticks;l.min=ie(c.min,l.min),l.max=ie(c.max,l.max),l.min===l.max&&(0!==l.min&&null!==l.min?(l.min=Math.pow(10,Math.floor(U(l.min))-1),l.max=Math.pow(10,Math.floor(U(l.max))+1)):(l.min=1,l.max=10)),null===l.min&&(l.min=Math.pow(10,Math.floor(U(l.max))-1)),null===l.max&&(l.max=0!==l.min?Math.pow(10,Math.floor(U(l.min))+1):10),null===l.minNotZero&&(l.minNotZero=l.min>0?l.min:l.max<1?Math.pow(10,Math.floor(U(l.max))):1)},buildTicks:function(){var l=this,c=l.options.ticks,f=!l.isHorizontal(),p={min:ie(c.min),max:ie(c.max)},v=l.ticks=function(k,L){var G,Z,Q=[],se=X(k.min,Math.pow(10,Math.floor(U(L.min)))),he=Math.floor(U(L.max)),_e=Math.ceil(L.max/Math.pow(10,he));0===se?(G=Math.floor(U(L.minNotZero)),Z=Math.floor(L.minNotZero/Math.pow(10,G)),Q.push(se),se=Z*Math.pow(10,G)):(G=Math.floor(U(se)),Z=Math.floor(se/Math.pow(10,G)));var Re=G<0?Math.pow(10,Math.abs(G)):1;do{Q.push(se),10==++Z&&(Z=1,Re=++G>=0?1:Re),se=Math.round(Z*Math.pow(10,G)*Re)/Re}while(G<he||G===he&&Z<_e);var De=X(k.max,se);return Q.push(De),Q}(p,l);l.max=le.max(v),l.min=le.min(v),c.reverse?(f=!f,l.start=l.max,l.end=l.min):(l.start=l.min,l.end=l.max),f&&v.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),E.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(l,c){return this._getScaleLabel(this.chart.data.datasets[c].data[l])},getPixelForTick:function(l){var c=this.tickValues;return l<0||l>c.length-1?null:this.getPixelForValue(c[l])},_getFirstTickValue:function(l){var c=Math.floor(U(l));return Math.floor(l/Math.pow(10,c))*Math.pow(10,c)},_configure:function(){var l=this,c=l.min,f=0;E.prototype._configure.call(l),0===c&&(c=l._getFirstTickValue(l.minNotZero),f=X(l.options.ticks.fontSize,Tt.global.defaultFontSize)/l._length),l._startValue=U(c),l._valueOffset=f,l._valueRange=(U(l.max)-U(c))/(1-f)},getPixelForValue:function(l){var c=this,f=0;return(l=+c.getRightValue(l))>c.min&&l>0&&(f=(U(l)-c._startValue)/c._valueRange+c._valueOffset),c.getPixelForDecimal(f)},getValueForPixel:function(l){var c=this,f=c.getDecimalForPixel(l);return 0===f&&0===c.min?0:Math.pow(10,c._startValue+(f-c._valueOffset)*c._valueRange)}});ye._defaults=J;var fe=le.valueOrDefault,ve=le.valueAtIndexOrDefault,ge=le.options.resolve,Te={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:$o.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(l){return l}}};function Ae(l){var c=l.ticks;return c.display&&l.display?fe(c.fontSize,Tt.global.defaultFontSize)+2*c.backdropPaddingY:0}function ne(l,c,f,p,v){return l===p||l===v?{start:c-f/2,end:c+f/2}:l<p||l>v?{start:c-f,end:c}:{start:c,end:c+f}}function ce(l){return 0===l||180===l?"center":l<180?"left":"right"}function xe(l,c,f,p){var v,k,L=f.y+p/2;if(le.isArray(c))for(v=0,k=c.length;v<k;++v)l.fillText(c[v],f.x,L),L+=p;else l.fillText(c,f.x,L)}function Ie(l,c,f){90===l||270===l?f.y-=c.h/2:(l>270||l<90)&&(f.y-=c.h)}function Le(l){return le.isNumber(l)?l:0}var ut=A.extend({setDimensions:function(){var l=this;l.width=l.maxWidth,l.height=l.maxHeight,l.paddingTop=Ae(l.options)/2,l.xCenter=Math.floor(l.width/2),l.yCenter=Math.floor((l.height-l.paddingTop)/2),l.drawingArea=Math.min(l.height-l.paddingTop,l.width)/2},determineDataLimits:function(){var l=this,c=l.chart,f=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY;le.each(c.data.datasets,function(v,k){if(c.isDatasetVisible(k)){var L=c.getDatasetMeta(k);le.each(v.data,function(G,Z){var Q=+l.getRightValue(G);isNaN(Q)||L.data[Z].hidden||(f=Math.min(Q,f),p=Math.max(Q,p))})}}),l.min=f===Number.POSITIVE_INFINITY?0:f,l.max=p===Number.NEGATIVE_INFINITY?0:p,l.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Ae(this.options))},convertTicksToLabels:function(){var l=this;A.prototype.convertTicksToLabels.call(l),l.pointLabels=l.chart.data.labels.map(function(){var c=le.callback(l.options.pointLabels.callback,arguments,l);return c||0===c?c:""})},getLabelForIndex:function(l,c){return+this.getRightValue(this.chart.data.datasets[c].data[l])},fit:function(){var l=this.options;l.display&&l.pointLabels.display?function(c){var f,p,v,k=le.options._parseFont(c.options.pointLabels),L={l:0,r:c.width,t:0,b:c.height-c.paddingTop},G={};c.ctx.font=k.string,c._pointLabelSizes=[];var Z,Q,se,he=c.chart.data.labels.length;for(f=0;f<he;f++){v=c.getPointPosition(f,c.drawingArea+5),Z=c.ctx,Q=k.lineHeight,p=le.isArray(se=c.pointLabels[f])?{w:le.longestText(Z,Z.font,se),h:se.length*Q}:{w:Z.measureText(se).width,h:Q},c._pointLabelSizes[f]=p;var _e=c.getIndexAngle(f),Re=le.toDegrees(_e)%360,De=ne(Re,v.x,p.w,0,180),Ue=ne(Re,v.y,p.h,90,270);De.start<L.l&&(L.l=De.start,G.l=_e),De.end>L.r&&(L.r=De.end,G.r=_e),Ue.start<L.t&&(L.t=Ue.start,G.t=_e),Ue.end>L.b&&(L.b=Ue.end,G.b=_e)}c.setReductions(c.drawingArea,L,G)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(l,c,f){var p=this,v=c.l/Math.sin(f.l),k=Math.max(c.r-p.width,0)/Math.sin(f.r),L=-c.t/Math.cos(f.t),G=-Math.max(c.b-(p.height-p.paddingTop),0)/Math.cos(f.b);v=Le(v),k=Le(k),L=Le(L),G=Le(G),p.drawingArea=Math.min(Math.floor(l-(v+k)/2),Math.floor(l-(L+G)/2)),p.setCenterPoint(v,k,L,G)},setCenterPoint:function(l,c,f,p){var v=this,G=f+v.drawingArea,Z=v.height-v.paddingTop-p-v.drawingArea;v.xCenter=Math.floor((l+v.drawingArea+(v.width-c-v.drawingArea))/2+v.left),v.yCenter=Math.floor((G+Z)/2+v.top+v.paddingTop)},getIndexAngle:function(l){var c=this.chart,f=(l*(360/c.data.labels.length)+((c.options||{}).startAngle||0))%360;return(f<0?f+360:f)*Math.PI*2/360},getDistanceFromCenterForValue:function(l){var c=this;if(le.isNullOrUndef(l))return NaN;var f=c.drawingArea/(c.max-c.min);return c.options.ticks.reverse?(c.max-l)*f:(l-c.min)*f},getPointPosition:function(l,c){var f=this.getIndexAngle(l)-Math.PI/2;return{x:Math.cos(f)*c+this.xCenter,y:Math.sin(f)*c+this.yCenter}},getPointPositionForValue:function(l,c){return this.getPointPosition(l,this.getDistanceFromCenterForValue(c))},getBasePosition:function(l){var c=this.min,f=this.max;return this.getPointPositionForValue(l||0,this.beginAtZero?0:c<0&&f<0?f:c>0&&f>0?c:0)},_drawGrid:function(){var l,c,f,p=this,v=p.ctx,k=p.options,L=k.gridLines,G=k.angleLines,Z=fe(G.lineWidth,L.lineWidth),Q=fe(G.color,L.color);if(k.pointLabels.display&&function(se){var he=se.ctx,_e=se.options,Re=_e.pointLabels,De=Ae(_e),Ue=se.getDistanceFromCenterForValue(_e.ticks.reverse?se.min:se.max),Ze=le.options._parseFont(Re);he.save(),he.font=Ze.string,he.textBaseline="middle";for(var qt=se.chart.data.labels.length-1;qt>=0;qt--){var mn=se.getPointPosition(qt,Ue+(0===qt?De/2:0)+5),Cn=ve(Re.fontColor,qt,Tt.global.defaultFontColor);he.fillStyle=Cn;var In=se.getIndexAngle(qt),Gn=le.toDegrees(In);he.textAlign=ce(Gn),Ie(Gn,se._pointLabelSizes[qt],mn),xe(he,se.pointLabels[qt],mn,Ze.lineHeight)}he.restore()}(p),L.display&&le.each(p.ticks,function(se,he){0!==he&&(c=p.getDistanceFromCenterForValue(p.ticksAsNumbers[he]),function(_e,Re,De,Ue){var Ze,qt=_e.ctx,Ut=Re.circular,mn=_e.chart.data.labels.length,Cn=ve(Re.color,Ue-1),In=ve(Re.lineWidth,Ue-1);if((Ut||mn)&&Cn&&In){if(qt.save(),qt.strokeStyle=Cn,qt.lineWidth=In,qt.setLineDash&&(qt.setLineDash(Re.borderDash||[]),qt.lineDashOffset=Re.borderDashOffset||0),qt.beginPath(),Ut)qt.arc(_e.xCenter,_e.yCenter,De,0,2*Math.PI);else{Ze=_e.getPointPosition(0,De),qt.moveTo(Ze.x,Ze.y);for(var Gn=1;Gn<mn;Gn++)Ze=_e.getPointPosition(Gn,De),qt.lineTo(Ze.x,Ze.y)}qt.closePath(),qt.stroke(),qt.restore()}}(p,L,c,he))}),G.display&&Z&&Q){for(v.save(),v.lineWidth=Z,v.strokeStyle=Q,v.setLineDash&&(v.setLineDash(ge([G.borderDash,L.borderDash,[]])),v.lineDashOffset=ge([G.borderDashOffset,L.borderDashOffset,0])),l=p.chart.data.labels.length-1;l>=0;l--)c=p.getDistanceFromCenterForValue(k.ticks.reverse?p.min:p.max),f=p.getPointPosition(l,c),v.beginPath(),v.moveTo(p.xCenter,p.yCenter),v.lineTo(f.x,f.y),v.stroke();v.restore()}},_drawLabels:function(){var l=this,c=l.ctx,f=l.options.ticks;if(f.display){var p,v,k=l.getIndexAngle(0),L=le.options._parseFont(f),G=fe(f.fontColor,Tt.global.defaultFontColor);c.save(),c.font=L.string,c.translate(l.xCenter,l.yCenter),c.rotate(k),c.textAlign="center",c.textBaseline="middle",le.each(l.ticks,function(Z,Q){(0!==Q||f.reverse)&&(p=l.getDistanceFromCenterForValue(l.ticksAsNumbers[Q]),f.showLabelBackdrop&&(v=c.measureText(Z).width,c.fillStyle=f.backdropColor,c.fillRect(-v/2-f.backdropPaddingX,-p-L.size/2-f.backdropPaddingY,v+2*f.backdropPaddingX,L.size+2*f.backdropPaddingY)),c.fillStyle=G,c.fillText(Z,0,-p))}),c.restore()}},_drawTitle:le.noop});ut._defaults=Te;var Vt=le._deprecated,Qt=le.options.resolve,jt=le.valueOrDefault,Pe=Number.MIN_SAFE_INTEGER||-9007199254740991,oe=Number.MAX_SAFE_INTEGER||9007199254740991,re={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ce=Object.keys(re);function He(l,c){return l-c}function nt(l){return le.valueOrDefault(l.time.min,l.ticks.min)}function rt(l){return le.valueOrDefault(l.time.max,l.ticks.max)}function je(l,c,f,p){var v=function(se,he,_e){for(var Re,De,Ue,Ze=0,qt=se.length-1;Ze>=0&&Ze<=qt;){if(De=se[(Re=Ze+qt>>1)-1]||null,Ue=se[Re],!De)return{lo:null,hi:Ue};if(Ue[he]<_e)Ze=Re+1;else{if(!(De[he]>_e))return{lo:De,hi:Ue};qt=Re-1}}return{lo:Ue,hi:null}}(l,c,f),k=v.lo?v.hi?v.lo:l[l.length-2]:l[0],L=v.lo?v.hi?v.hi:l[l.length-1]:l[1],G=L[c]-k[c];return k[p]+(L[p]-k[p])*(G?(f-k[c])/G:0)}function St(l,c){var f=l._adapter,p=l.options.time,v=p.parser,k=v||p.format,L=c;return"function"==typeof v&&(L=v(L)),le.isFinite(L)||(L="string"==typeof k?f.parse(L,k):f.parse(L)),null!==L?+L:(v||"function"!=typeof k||(L=k(c),le.isFinite(L)||(L=f.parse(L))),L)}function ct(l,c){if(le.isNullOrUndef(c))return null;var f=l.options.time,p=St(l,l.getRightValue(c));return null===p||f.round&&(p=+l._adapter.startOf(p,f.round)),p}function wt(l,c,f,p){var v,k,L,G=Ce.length;for(v=Ce.indexOf(l);v<G-1;++v)if(L=(k=re[Ce[v]]).steps?k.steps:oe,k.common&&Math.ceil((f-c)/(L*k.size))<=p)return Ce[v];return Ce[G-1]}function yt(l,c,f){var p,v,k=[],L={},G=c.length;for(p=0;p<G;++p)L[v=c[p]]=p,k.push({value:v,major:!1});return 0!==G&&f?function(Z,Q,se,he){var _e,Re,De=Z._adapter,Ue=+De.startOf(Q[0].value,he),Ze=Q[Q.length-1].value;for(_e=Ue;_e<=Ze;_e=+De.add(_e,1,he))(Re=se[_e])>=0&&(Q[Re].major=!0);return Q}(l,k,L,f):k}var bn=E.extend({initialize:function(){this.mergeTicksOptions(),E.prototype.initialize.call(this)},update:function(){var l=this,c=l.options,f=c.time||(c.time={}),p=l._adapter=new Ga._date(c.adapters.date);return Vt("time scale",f.format,"time.format","time.parser"),Vt("time scale",f.min,"time.min","ticks.min"),Vt("time scale",f.max,"time.max","ticks.max"),le.mergeIf(f.displayFormats,p.formats()),E.prototype.update.apply(l,arguments)},getRightValue:function(l){return l&&void 0!==l.t&&(l=l.t),E.prototype.getRightValue.call(this,l)},determineDataLimits:function(){var l,c,f,p,v,k,L,G=this,Z=G.chart,Q=G._adapter,se=G.options,he=se.time.unit||"day",_e=oe,Re=Pe,De=[],Ue=[],Ze=[],qt=G._getLabels();for(l=0,f=qt.length;l<f;++l)Ze.push(ct(G,qt[l]));for(l=0,f=(Z.data.datasets||[]).length;l<f;++l)if(Z.isDatasetVisible(l))if(le.isObject((v=Z.data.datasets[l].data)[0]))for(Ue[l]=[],c=0,p=v.length;c<p;++c)k=ct(G,v[c]),De.push(k),Ue[l][c]=k;else Ue[l]=Ze.slice(0),L||(De=De.concat(Ze),L=!0);else Ue[l]=[];Ze.length&&(_e=Math.min(_e,Ze[0]),Re=Math.max(Re,Ze[Ze.length-1])),De.length&&(De=f>1?function(Ut){var mn,Cn,In,Gn={},ei=[];for(mn=0,Cn=Ut.length;mn<Cn;++mn)Gn[In=Ut[mn]]||(Gn[In]=!0,ei.push(In));return ei}(De).sort(He):De.sort(He),_e=Math.min(_e,De[0]),Re=Math.max(Re,De[De.length-1])),_e=ct(G,nt(se))||_e,Re=ct(G,rt(se))||Re,_e=_e===oe?+Q.startOf(Date.now(),he):_e,Re=Re===Pe?+Q.endOf(Date.now(),he)+1:Re,G.min=Math.min(_e,Re),G.max=Math.max(_e+1,Re),G._table=[],G._timestamps={data:De,datasets:Ue,labels:Ze}},buildTicks:function(){var l,c,f,De,Ue,mn,Cn,In,Gn,p=this,v=p.min,k=p.max,L=p.options,G=L.ticks,Z=L.time,Q=p._timestamps,se=[],he=p.getLabelCapacity(v),_e=G.source,Re=L.distribution;for(Q="data"===_e||"auto"===_e&&"series"===Re?Q.data:"labels"===_e?Q.labels:function(De,Ue,Ze,qt){var Ut,mn=De._adapter,Cn=De.options,In=Cn.time,Gn=In.unit||wt(In.minUnit,Ue,Ze,qt),ei=Qt([In.stepSize,In.unitStepSize,1]),ni="week"===Gn&&In.isoWeekday,pn=Ue,ui=[];if(ni&&(pn=+mn.startOf(pn,"isoWeek",ni)),pn=+mn.startOf(pn,ni?"day":Gn),mn.diff(Ze,Ue,Gn)>1e5*ei)throw Ue+" and "+Ze+" are too far apart with stepSize of "+ei+" "+Gn;for(Ut=pn;Ut<Ze;Ut=+mn.add(Ut,ei,Gn))ui.push(Ut);return Ut!==Ze&&"ticks"!==Cn.bounds||ui.push(Ut),ui}(p,v,k,he),"ticks"===L.bounds&&Q.length&&(v=Q[0],k=Q[Q.length-1]),v=ct(p,nt(L))||v,k=ct(p,rt(L))||k,l=0,c=Q.length;l<c;++l)(f=Q[l])>=v&&f<=k&&se.push(f);return p.min=v,p.max=k,p._unit=Z.unit||(G.autoSkip?wt(Z.minUnit,p.min,p.max,he):function(De,Ue,Ze,qt,Ut){var mn,Cn;for(mn=Ce.length-1;mn>=Ce.indexOf(Ze);mn--)if(re[Cn=Ce[mn]].common&&De._adapter.diff(Ut,qt,Cn)>=Ue-1)return Cn;return Ce[Ze?Ce.indexOf(Ze):0]}(p,se.length,Z.minUnit,p.min,p.max)),p._majorUnit=G.major.enabled&&"year"!==p._unit?function(De){for(var Ue=Ce.indexOf(De)+1,Ze=Ce.length;Ue<Ze;++Ue)if(re[Ce[Ue]].common)return Ce[Ue]}(p._unit):void 0,p._table=function(De,Ue,Ze,qt){if("linear"===qt||!De.length)return[{time:Ue,pos:0},{time:Ze,pos:1}];var Ut,mn,Cn,In,Gn,ei=[],ni=[Ue];for(Ut=0,mn=De.length;Ut<mn;++Ut)(In=De[Ut])>Ue&&In<Ze&&ni.push(In);for(ni.push(Ze),Ut=0,mn=ni.length;Ut<mn;++Ut)Gn=ni[Ut+1],In=ni[Ut],void 0!==(Cn=ni[Ut-1])&&void 0!==Gn&&Math.round((Gn+Cn)/2)===In||ei.push({time:In,pos:Ut/(mn-1)});return ei}(p._timestamps.data,v,k,Re),p._offsets=(De=p._table,Ue=se,In=0,Gn=0,L.offset&&Ue.length&&(mn=je(De,"time",Ue[0],"pos"),In=1===Ue.length?1-mn:(je(De,"time",Ue[1],"pos")-mn)/2,Cn=je(De,"time",Ue[Ue.length-1],"pos"),Gn=1===Ue.length?Cn:(Cn-je(De,"time",Ue[Ue.length-2],"pos"))/2),{start:In,end:Gn,factor:1/(In+1+Gn)}),G.reverse&&se.reverse(),yt(p,se,p._majorUnit)},getLabelForIndex:function(l,c){var f=this,p=f._adapter,v=f.chart.data,k=f.options.time,L=v.labels&&l<v.labels.length?v.labels[l]:"",G=v.datasets[c].data[l];return le.isObject(G)&&(L=f.getRightValue(G)),k.tooltipFormat?p.format(St(f,L),k.tooltipFormat):"string"==typeof L?L:p.format(St(f,L),k.displayFormats.datetime)},tickFormatFunction:function(l,c,f,p){var k=this.options,L=k.time.displayFormats,Z=this._majorUnit,Q=L[Z],se=f[c],he=k.ticks,_e=Z&&Q&&se&&se.major,Re=this._adapter.format(l,p||(_e?Q:L[this._unit])),De=_e?he.major:he.minor,Ue=Qt([De.callback,De.userCallback,he.callback,he.userCallback]);return Ue?Ue(Re,c,f):Re},convertTicksToLabels:function(l){var c,f,p=[];for(c=0,f=l.length;c<f;++c)p.push(this.tickFormatFunction(l[c].value,c,l));return p},getPixelForOffset:function(l){var c=this._offsets,f=je(this._table,"time",l,"pos");return this.getPixelForDecimal((c.start+f)*c.factor)},getPixelForValue:function(l,c,f){var p=null;if(void 0!==c&&void 0!==f&&(p=this._timestamps.datasets[f][c]),null===p&&(p=ct(this,l)),null!==p)return this.getPixelForOffset(p)},getPixelForTick:function(l){var c=this.getTicks();return l>=0&&l<c.length?this.getPixelForOffset(c[l].value):null},getValueForPixel:function(l){var c=this._offsets,f=this.getDecimalForPixel(l)/c.factor-c.end,p=je(this._table,"pos",f,"time");return this._adapter._create(p)},_getLabelSize:function(l){var c=this.options.ticks,f=this.ctx.measureText(l).width,p=le.toRadians(this.isHorizontal()?c.maxRotation:c.minRotation),v=Math.cos(p),k=Math.sin(p),L=jt(c.fontSize,Tt.global.defaultFontSize);return{w:f*v+L*k,h:f*k+L*v}},getLabelWidth:function(l){return this._getLabelSize(l).w},getLabelCapacity:function(l){var c=this,f=c.options.time,p=f.displayFormats,v=p[f.unit]||p.millisecond,k=c.tickFormatFunction(l,0,yt(c,[l],c._majorUnit),v),L=c._getLabelSize(k),G=Math.floor(c.isHorizontal()?c.width/L.w:c.height/L.h);return c.options.offset&&G--,G>0?G:1}});bn._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var Qn={category:R,linear:_,logarithmic:ye,radialLinear:ut,time:bn},Bi={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Ga._date.override("function"==typeof Bt?{_id:"moment",formats:function(){return Bi},parse:function(l,c){return"string"==typeof l&&"string"==typeof c?l=Bt(l,c):l instanceof Bt||(l=Bt(l)),l.isValid()?l.valueOf():null},format:function(l,c){return Bt(l).format(c)},add:function(l,c,f){return Bt(l).add(c,f).valueOf()},diff:function(l,c,f){return Bt(l).diff(Bt(c),f)},startOf:function(l,c,f){return l=Bt(l),"isoWeek"===c?l.isoWeekday(f).valueOf():l.startOf(c).valueOf()},endOf:function(l,c){return Bt(l).endOf(c).valueOf()},_create:function(l){return Bt(l)}}:{}),Tt._set("global",{plugins:{filler:{propagate:!0}}});var di={dataset:function(l){var c=l.fill,f=l.chart,p=f.getDatasetMeta(c),v=p&&f.isDatasetVisible(c)&&p.dataset._children||[],k=v.length||0;return k?function(L,G){return G<k&&v[G]._view||null}:null},boundary:function(l){var c=l.boundary,f=c?c.x:null,p=c?c.y:null;return le.isArray(c)?function(v,k){return c[k]}:function(v){return{x:null===f?v.x:f,y:null===p?v.y:p}}}};function fi(l,c,f){var p,v=l._model||{},k=v.fill;if(void 0===k&&(k=!!v.backgroundColor),!1===k||null===k)return!1;if(!0===k)return"origin";if(p=parseFloat(k,10),isFinite(p)&&Math.floor(p)===p)return"-"!==k[0]&&"+"!==k[0]||(p=c+p),!(p===c||p<0||p>=f)&&p;switch(k){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return k;default:return!1}}function Hi(l){return(l.el._scale||{}).getPointPositionForValue?function(c){var f,p,v,k,L,G=c.el._scale,Z=G.options,Q=G.chart.data.labels.length,se=c.fill,he=[];if(!Q)return null;for(p=Z.ticks.reverse?G.min:G.max,v=G.getPointPositionForValue(0,f=Z.ticks.reverse?G.max:G.min),k=0;k<Q;++k)L="start"===se||"end"===se?G.getPointPositionForValue(k,"start"===se?f:p):G.getBasePosition(k),Z.gridLines.circular&&(L.cx=v.x,L.cy=v.y,L.angle=G.getIndexAngle(k)-Math.PI/2),he.push(L);return he}(l):function(c){var f,p=c.el._model||{},v=c.el._scale||{},k=c.fill,L=null;if(isFinite(k))return null;if("start"===k?L=void 0===p.scaleBottom?v.bottom:p.scaleBottom:"end"===k?L=void 0===p.scaleTop?v.top:p.scaleTop:void 0!==p.scaleZero?L=p.scaleZero:v.getBasePixel&&(L=v.getBasePixel()),null!=L){if(void 0!==L.x&&void 0!==L.y)return L;if(le.isFinite(L))return{x:(f=v.isHorizontal())?L:null,y:f?null:L}}return null}(l)}function Ti(l,c,f){var p,v=l[c].fill,k=[c];if(!f)return v;for(;!1!==v&&-1===k.indexOf(v);){if(!isFinite(v))return v;if(!(p=l[v]))return!1;if(p.visible)return v;k.push(v),v=p.fill}return!1}function ki(l){var c=l.fill,f="dataset";return!1===c?null:(isFinite(c)||(f="boundary"),di[f](l))}function Rt(l){return l&&!l.skip}function Xt(l,c,f,p,v){var k,L,G,Z;if(p&&v){for(l.moveTo(c[0].x,c[0].y),k=1;k<p;++k)le.canvas.lineTo(l,c[k-1],c[k]);if(void 0===f[0].angle)for(l.lineTo(f[v-1].x,f[v-1].y),k=v-1;k>0;--k)le.canvas.lineTo(l,f[k],f[k-1],!0);else for(L=f[0].cx,G=f[0].cy,Z=Math.sqrt(Math.pow(f[0].x-L,2)+Math.pow(f[0].y-G,2)),k=v-1;k>0;--k)l.arc(L,G,Z,f[k].angle,f[k-1].angle,!0)}}function tt(l,c,f,p,v,k){var L,G,Z,Q,se,he,_e,Re,De=c.length,Ue=p.spanGaps,Ze=[],qt=[],Ut=0,mn=0;for(l.beginPath(),L=0,G=De;L<G;++L)se=f(Q=c[Z=L%De]._view,Z,p),he=Rt(Q),_e=Rt(se),k&&void 0===Re&&he&&(G=De+(Re=L+1)),he&&_e?(Ut=Ze.push(Q),mn=qt.push(se)):Ut&&mn&&(Ue?(he&&Ze.push(Q),_e&&qt.push(se)):(Xt(l,Ze,qt,Ut,mn),Ut=mn=0,Ze=[],qt=[]));Xt(l,Ze,qt,Ut,mn),l.closePath(),l.fillStyle=v,l.fill()}var Ct={id:"filler",afterDatasetsUpdate:function(l,c){var f,p,v,k,L=(l.data.datasets||[]).length,G=c.propagate,Z=[];for(p=0;p<L;++p)k=null,(v=(f=l.getDatasetMeta(p)).dataset)&&v._model&&v instanceof _i.Line&&(k={visible:l.isDatasetVisible(p),fill:fi(v,p,L),chart:l,el:v}),f.$filler=k,Z.push(k);for(p=0;p<L;++p)(k=Z[p])&&(k.fill=Ti(Z,p,G),k.boundary=Hi(k),k.mapper=ki(k))},beforeDatasetsDraw:function(l){var c,f,p,v,k,L,G,Z=l._getSortedVisibleDatasetMetas(),Q=l.ctx;for(f=Z.length-1;f>=0;--f)(c=Z[f].$filler)&&c.visible&&(v=(p=c.el)._view,k=p._children||[],G=v.backgroundColor||Tt.global.defaultColor,(L=c.mapper)&&G&&k.length&&(le.canvas.clipArea(Q,l.chartArea),tt(Q,k,L,v,G,p._loop),le.canvas.unclipArea(Q)))}},sn=le.rtl.getRtlAdapter,cn=le.noop,Rn=le.valueOrDefault;function Fe(l,c){return l.usePointStyle&&l.boxWidth>c?c:l.boxWidth}Tt._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(l,c){var f=c.datasetIndex,p=this.chart,v=p.getDatasetMeta(f);v.hidden=null===v.hidden?!p.data.datasets[f].hidden:null,p.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(l){var c=l.data.datasets,f=l.options.legend||{},p=f.labels&&f.labels.usePointStyle;return l._getSortedDatasetMetas().map(function(v){var k=v.controller.getStyle(p?0:void 0);return{text:c[v.index].label,fillStyle:k.backgroundColor,hidden:!l.isDatasetVisible(v.index),lineCap:k.borderCapStyle,lineDash:k.borderDash,lineDashOffset:k.borderDashOffset,lineJoin:k.borderJoinStyle,lineWidth:k.borderWidth,strokeStyle:k.borderColor,pointStyle:k.pointStyle,rotation:k.rotation,datasetIndex:v.index}},this)}}},legendCallback:function(l){var c,f,p,v=document.createElement("ul"),k=l.data.datasets;for(v.setAttribute("class",l.id+"-legend"),c=0,f=k.length;c<f;c++)(p=v.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=k[c].backgroundColor,k[c].label&&p.appendChild(document.createTextNode(k[c].label));return v.outerHTML}});var Je=qn.extend({initialize:function(l){le.extend(this,l),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:cn,update:function(l,c,f){var p=this;return p.beforeUpdate(),p.maxWidth=l,p.maxHeight=c,p.margins=f,p.beforeSetDimensions(),p.setDimensions(),p.afterSetDimensions(),p.beforeBuildLabels(),p.buildLabels(),p.afterBuildLabels(),p.beforeFit(),p.fit(),p.afterFit(),p.afterUpdate(),p.minSize},afterUpdate:cn,beforeSetDimensions:cn,setDimensions:function(){var l=this;l.isHorizontal()?(l.width=l.maxWidth,l.left=0,l.right=l.width):(l.height=l.maxHeight,l.top=0,l.bottom=l.height),l.paddingLeft=0,l.paddingTop=0,l.paddingRight=0,l.paddingBottom=0,l.minSize={width:0,height:0}},afterSetDimensions:cn,beforeBuildLabels:cn,buildLabels:function(){var l=this,c=l.options.labels||{},f=le.callback(c.generateLabels,[l.chart],l)||[];c.filter&&(f=f.filter(function(p){return c.filter(p,l.chart.data)})),l.options.reverse&&f.reverse(),l.legendItems=f},afterBuildLabels:cn,beforeFit:cn,fit:function(){var l=this,c=l.options,f=c.labels,p=c.display,v=l.ctx,k=le.options._parseFont(f),L=k.size,G=l.legendHitBoxes=[],Z=l.minSize,Q=l.isHorizontal();if(Q?(Z.width=l.maxWidth,Z.height=p?10:0):(Z.width=p?10:0,Z.height=l.maxHeight),p){if(v.font=k.string,Q){var se=l.lineWidths=[0],he=0;v.textAlign="left",v.textBaseline="middle",le.each(l.legendItems,function(Ut,mn){var Cn=Fe(f,L)+L/2+v.measureText(Ut.text).width;(0===mn||se[se.length-1]+Cn+2*f.padding>Z.width)&&(he+=L+f.padding,se[se.length-(mn>0?0:1)]=0),G[mn]={left:0,top:0,width:Cn,height:L},se[se.length-1]+=Cn+f.padding}),Z.height+=he}else{var _e=f.padding,Re=l.columnWidths=[],De=l.columnHeights=[],Ue=f.padding,Ze=0,qt=0;le.each(l.legendItems,function(Ut,mn){var Cn=Fe(f,L)+L/2+v.measureText(Ut.text).width;mn>0&&qt+L+2*_e>Z.height&&(Ue+=Ze+f.padding,Re.push(Ze),De.push(qt),Ze=0,qt=0),Ze=Math.max(Ze,Cn),qt+=L+_e,G[mn]={left:0,top:0,width:Cn,height:L}}),Ue+=Ze,Re.push(Ze),De.push(qt),Z.width+=Ue}l.width=Z.width,l.height=Z.height}else l.width=Z.width=l.height=Z.height=0},afterFit:cn,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var l=this,c=l.options,f=c.labels,p=Tt.global,v=p.defaultColor,k=p.elements.line,L=l.height,G=l.columnHeights,Z=l.width,Q=l.lineWidths;if(c.display){var se,he=sn(c.rtl,l.left,l.minSize.width),_e=l.ctx,Re=Rn(f.fontColor,p.defaultFontColor),De=le.options._parseFont(f),Ue=De.size;_e.textAlign=he.textAlign("left"),_e.textBaseline="middle",_e.lineWidth=.5,_e.strokeStyle=Re,_e.fillStyle=Re,_e.font=De.string;var Ze=Fe(f,Ue),qt=l.legendHitBoxes,Ut=function(In,Gn){switch(c.align){case"start":return f.padding;case"end":return In-Gn;default:return(In-Gn+f.padding)/2}},mn=l.isHorizontal();se=mn?{x:l.left+Ut(Z,Q[0]),y:l.top+f.padding,line:0}:{x:l.left+f.padding,y:l.top+Ut(L,G[0]),line:0},le.rtl.overrideTextDirection(l.ctx,c.textDirection);var Cn=Ue+f.padding;le.each(l.legendItems,function(In,Gn){var ei=_e.measureText(In.text).width,ni=Ze+Ue/2+ei,pn=se.x,ui=se.y;he.setWidth(l.minSize.width),mn?Gn>0&&pn+ni+f.padding>l.left+l.minSize.width&&(ui=se.y+=Cn,se.line++,pn=se.x=l.left+Ut(Z,Q[se.line])):Gn>0&&ui+Cn>l.top+l.minSize.height&&(pn=se.x=pn+l.columnWidths[se.line]+f.padding,se.line++,ui=se.y=l.top+Ut(L,G[se.line]));var ji,wi,Fi,Wi,Kn,cr,mi=he.x(pn);(function(pi,ji,wi){if(!(isNaN(Ze)||Ze<=0)){_e.save();var Fi=Rn(wi.lineWidth,k.borderWidth);if(_e.fillStyle=Rn(wi.fillStyle,v),_e.lineCap=Rn(wi.lineCap,k.borderCapStyle),_e.lineDashOffset=Rn(wi.lineDashOffset,k.borderDashOffset),_e.lineJoin=Rn(wi.lineJoin,k.borderJoinStyle),_e.lineWidth=Fi,_e.strokeStyle=Rn(wi.strokeStyle,v),_e.setLineDash&&_e.setLineDash(Rn(wi.lineDash,k.borderDash)),f&&f.usePointStyle){var Wi=Ze*Math.SQRT2/2,Kn=he.xPlus(pi,Ze/2);le.canvas.drawPoint(_e,wi.pointStyle,Wi,Kn,ji+Ue/2,wi.rotation)}else _e.fillRect(he.leftForLtr(pi,Ze),ji,Ze,Ue),0!==Fi&&_e.strokeRect(he.leftForLtr(pi,Ze),ji,Ze,Ue);_e.restore()}})(mi,ui,In),qt[Gn].left=he.leftForLtr(mi,qt[Gn].width),qt[Gn].top=ui,ji=ui,wi=In,Fi=ei,Kn=he.xPlus(mi,Ze+(Wi=Ue/2)),_e.fillText(wi.text,Kn,cr=ji+Wi),wi.hidden&&(_e.beginPath(),_e.lineWidth=2,_e.moveTo(Kn,cr),_e.lineTo(he.xPlus(Kn,Fi),cr),_e.stroke()),mn?se.x+=ni+f.padding:se.y+=Cn}),le.rtl.restoreTextDirection(l.ctx,c.textDirection)}},_getLegendItemAt:function(l,c){var f,p,v,k=this;if(l>=k.left&&l<=k.right&&c>=k.top&&c<=k.bottom)for(v=k.legendHitBoxes,f=0;f<v.length;++f)if(l>=(p=v[f]).left&&l<=p.left+p.width&&c>=p.top&&c<=p.top+p.height)return k.legendItems[f];return null},handleEvent:function(l){var c,f=this,p=f.options,v="mouseup"===l.type?"click":l.type;if("mousemove"===v){if(!p.onHover&&!p.onLeave)return}else if("click"!==v||!p.onClick)return;c=f._getLegendItemAt(l.x,l.y),"click"===v?c&&p.onClick&&p.onClick.call(f,l.native,c):(p.onLeave&&c!==f._hoveredItem&&(f._hoveredItem&&p.onLeave.call(f,l.native,f._hoveredItem),f._hoveredItem=c),p.onHover&&c&&p.onHover.call(f,l.native,c))}});function ae(l,c){var f=new Je({ctx:l.ctx,options:c,chart:l});Ji.configure(l,f,c),Ji.addBox(l,f),l.legend=f}var Se={id:"legend",_element:Je,beforeInit:function(l){var c=l.options.legend;c&&ae(l,c)},beforeUpdate:function(l){var c=l.options.legend,f=l.legend;c?(le.mergeIf(c,Tt.global.legend),f?(Ji.configure(l,f,c),f.options=c):ae(l,c)):f&&(Ji.removeBox(l,f),delete l.legend)},afterEvent:function(l,c){var f=l.legend;f&&f.handleEvent(c)}},Ve=le.noop;Tt._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var it=qn.extend({initialize:function(l){le.extend(this,l),this.legendHitBoxes=[]},beforeUpdate:Ve,update:function(l,c,f){var p=this;return p.beforeUpdate(),p.maxWidth=l,p.maxHeight=c,p.margins=f,p.beforeSetDimensions(),p.setDimensions(),p.afterSetDimensions(),p.beforeBuildLabels(),p.buildLabels(),p.afterBuildLabels(),p.beforeFit(),p.fit(),p.afterFit(),p.afterUpdate(),p.minSize},afterUpdate:Ve,beforeSetDimensions:Ve,setDimensions:function(){var l=this;l.isHorizontal()?(l.width=l.maxWidth,l.left=0,l.right=l.width):(l.height=l.maxHeight,l.top=0,l.bottom=l.height),l.paddingLeft=0,l.paddingTop=0,l.paddingRight=0,l.paddingBottom=0,l.minSize={width:0,height:0}},afterSetDimensions:Ve,beforeBuildLabels:Ve,buildLabels:Ve,afterBuildLabels:Ve,beforeFit:Ve,fit:function(){var l,c=this,f=c.options,p=c.minSize={},v=c.isHorizontal();f.display?(l=(le.isArray(f.text)?f.text.length:1)*le.options._parseFont(f).lineHeight+2*f.padding,c.width=p.width=v?c.maxWidth:l,c.height=p.height=v?l:c.maxHeight):c.width=p.width=c.height=p.height=0},afterFit:Ve,isHorizontal:function(){var l=this.options.position;return"top"===l||"bottom"===l},draw:function(){var l=this,c=l.ctx,f=l.options;if(f.display){var p,v,k,L=le.options._parseFont(f),G=L.lineHeight,Z=G/2+f.padding,Q=0,se=l.top,he=l.left,_e=l.bottom,Re=l.right;c.fillStyle=le.valueOrDefault(f.fontColor,Tt.global.defaultFontColor),c.font=L.string,l.isHorizontal()?(v=he+(Re-he)/2,k=se+Z,p=Re-he):(v="left"===f.position?he+Z:Re-Z,k=se+(_e-se)/2,p=_e-se,Q=Math.PI*("left"===f.position?-.5:.5)),c.save(),c.translate(v,k),c.rotate(Q),c.textAlign="center",c.textBaseline="middle";var De=f.text;if(le.isArray(De))for(var Ue=0,Ze=0;Ze<De.length;++Ze)c.fillText(De[Ze],0,Ue,p),Ue+=G;else c.fillText(De,0,0,p);c.restore()}}});function mt(l,c){var f=new it({ctx:l.ctx,options:c,chart:l});Ji.configure(l,f,c),Ji.addBox(l,f),l.titleBlock=f}var et={},Ee=Ct,ht=Se,pt={id:"title",_element:it,beforeInit:function(l){var c=l.options.title;c&&mt(l,c)},beforeUpdate:function(l){var c=l.options.title,f=l.titleBlock;c?(le.mergeIf(c,Tt.global.title),f?(Ji.configure(l,f,c),f.options=c):mt(l,c)):f&&(Ji.removeBox(l,f),delete l.titleBlock)}};for(var $t in et.filler=Ee,et.legend=ht,et.title=pt,gi.helpers=le,function(){function l(p,v,k){var L;return"string"==typeof p?(L=parseInt(p,10),-1!==p.indexOf("%")&&(L=L/100*v.parentNode[k])):L=p,L}function c(p){return null!=p&&"none"!==p}function f(p,v,k){var L=document.defaultView,G=le._getParentNode(p),Z=L.getComputedStyle(p)[v],Q=L.getComputedStyle(G)[v],se=c(Z),he=c(Q),_e=Number.POSITIVE_INFINITY;return se||he?Math.min(se?l(Z,p,k):_e,he?l(Q,G,k):_e):"none"}le.where=function(p,v){if(le.isArray(p)&&Array.prototype.filter)return p.filter(v);var k=[];return le.each(p,function(L){v(L)&&k.push(L)}),k},le.findIndex=Array.prototype.findIndex?function(p,v,k){return p.findIndex(v,k)}:function(p,v,k){k=void 0===k?p:k;for(var L=0,G=p.length;L<G;++L)if(v.call(k,p[L],L,p))return L;return-1},le.findNextWhere=function(p,v,k){le.isNullOrUndef(k)&&(k=-1);for(var L=k+1;L<p.length;L++){var G=p[L];if(v(G))return G}},le.findPreviousWhere=function(p,v,k){le.isNullOrUndef(k)&&(k=p.length);for(var L=k-1;L>=0;L--){var G=p[L];if(v(G))return G}},le.isNumber=function(p){return!isNaN(parseFloat(p))&&isFinite(p)},le.almostEquals=function(p,v,k){return Math.abs(p-v)<k},le.almostWhole=function(p,v){var k=Math.round(p);return k-v<=p&&k+v>=p},le.max=function(p){return p.reduce(function(v,k){return isNaN(k)?v:Math.max(v,k)},Number.NEGATIVE_INFINITY)},le.min=function(p){return p.reduce(function(v,k){return isNaN(k)?v:Math.min(v,k)},Number.POSITIVE_INFINITY)},le.sign=Math.sign?function(p){return Math.sign(p)}:function(p){return 0==(p=+p)||isNaN(p)?p:p>0?1:-1},le.toRadians=function(p){return p*(Math.PI/180)},le.toDegrees=function(p){return p*(180/Math.PI)},le._decimalPlaces=function(p){if(le.isFinite(p)){for(var v=1,k=0;Math.round(p*v)/v!==p;)v*=10,k++;return k}},le.getAngleFromPoint=function(p,v){var k=v.x-p.x,L=v.y-p.y,G=Math.sqrt(k*k+L*L),Z=Math.atan2(L,k);return Z<-.5*Math.PI&&(Z+=2*Math.PI),{angle:Z,distance:G}},le.distanceBetweenPoints=function(p,v){return Math.sqrt(Math.pow(v.x-p.x,2)+Math.pow(v.y-p.y,2))},le.aliasPixel=function(p){return p%2==0?0:.5},le._alignPixel=function(p,v,k){var L=p.currentDevicePixelRatio,G=k/2;return Math.round((v-G)*L)/L+G},le.splineCurve=function(p,v,k,L){var G=p.skip?v:p,Z=v,Q=k.skip?v:k,se=Math.sqrt(Math.pow(Z.x-G.x,2)+Math.pow(Z.y-G.y,2)),he=Math.sqrt(Math.pow(Q.x-Z.x,2)+Math.pow(Q.y-Z.y,2)),_e=se/(se+he),Re=he/(se+he),De=L*(_e=isNaN(_e)?0:_e),Ue=L*(Re=isNaN(Re)?0:Re);return{previous:{x:Z.x-De*(Q.x-G.x),y:Z.y-De*(Q.y-G.y)},next:{x:Z.x+Ue*(Q.x-G.x),y:Z.y+Ue*(Q.y-G.y)}}},le.EPSILON=Number.EPSILON||1e-14,le.splineCurveMonotone=function(p){var v,k,L,G,Z,Q,se,he,_e,Re=(p||[]).map(function(Ze){return{model:Ze._model,deltaK:0,mK:0}}),De=Re.length;for(v=0;v<De;++v)if(!(L=Re[v]).model.skip){if(k=v>0?Re[v-1]:null,(G=v<De-1?Re[v+1]:null)&&!G.model.skip){var Ue=G.model.x-L.model.x;L.deltaK=0!==Ue?(G.model.y-L.model.y)/Ue:0}L.mK=!k||k.model.skip?L.deltaK:!G||G.model.skip?k.deltaK:this.sign(k.deltaK)!==this.sign(L.deltaK)?0:(k.deltaK+L.deltaK)/2}for(v=0;v<De-1;++v)G=Re[v+1],(L=Re[v]).model.skip||G.model.skip||(le.almostEquals(L.deltaK,0,this.EPSILON)?L.mK=G.mK=0:(Z=L.mK/L.deltaK,Q=G.mK/L.deltaK,(he=Math.pow(Z,2)+Math.pow(Q,2))<=9||(se=3/Math.sqrt(he),L.mK=Z*se*L.deltaK,G.mK=Q*se*L.deltaK)));for(v=0;v<De;++v)(L=Re[v]).model.skip||(G=v<De-1?Re[v+1]:null,(k=v>0?Re[v-1]:null)&&!k.model.skip&&(L.model.controlPointPreviousX=L.model.x-(_e=(L.model.x-k.model.x)/3),L.model.controlPointPreviousY=L.model.y-_e*L.mK),G&&!G.model.skip&&(L.model.controlPointNextX=L.model.x+(_e=(G.model.x-L.model.x)/3),L.model.controlPointNextY=L.model.y+_e*L.mK))},le.nextItem=function(p,v,k){return k?v>=p.length-1?p[0]:p[v+1]:v>=p.length-1?p[p.length-1]:p[v+1]},le.previousItem=function(p,v,k){return k?v<=0?p[p.length-1]:p[v-1]:v<=0?p[0]:p[v-1]},le.niceNum=function(p,v){var k=Math.floor(le.log10(p)),L=p/Math.pow(10,k);return(v?L<1.5?1:L<3?2:L<7?5:10:L<=1?1:L<=2?2:L<=5?5:10)*Math.pow(10,k)},le.requestAnimFrame="undefined"==typeof window?function(p){p()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(p){return window.setTimeout(p,1e3/60)},le.getRelativePosition=function(p,v){var k,L,G=p.originalEvent||p,Z=p.target||p.srcElement,Q=Z.getBoundingClientRect(),se=G.touches;se&&se.length>0?(k=se[0].clientX,L=se[0].clientY):(k=G.clientX,L=G.clientY);var he=parseFloat(le.getStyle(Z,"padding-left")),_e=parseFloat(le.getStyle(Z,"padding-top")),Re=parseFloat(le.getStyle(Z,"padding-right")),De=parseFloat(le.getStyle(Z,"padding-bottom")),Ze=Q.bottom-Q.top-_e-De;return{x:k=Math.round((k-Q.left-he)/(Q.right-Q.left-he-Re)*Z.width/v.currentDevicePixelRatio),y:L=Math.round((L-Q.top-_e)/Ze*Z.height/v.currentDevicePixelRatio)}},le.getConstraintWidth=function(p){return f(p,"max-width","clientWidth")},le.getConstraintHeight=function(p){return f(p,"max-height","clientHeight")},le._calculatePadding=function(p,v,k){return(v=le.getStyle(p,v)).indexOf("%")>-1?k*parseInt(v,10)/100:parseInt(v,10)},le._getParentNode=function(p){var v=p.parentNode;return v&&"[object ShadowRoot]"===v.toString()&&(v=v.host),v},le.getMaximumWidth=function(p){var v=le._getParentNode(p);if(!v)return p.clientWidth;var k=v.clientWidth,L=k-le._calculatePadding(v,"padding-left",k)-le._calculatePadding(v,"padding-right",k),G=le.getConstraintWidth(p);return isNaN(G)?L:Math.min(L,G)},le.getMaximumHeight=function(p){var v=le._getParentNode(p);if(!v)return p.clientHeight;var k=v.clientHeight,L=k-le._calculatePadding(v,"padding-top",k)-le._calculatePadding(v,"padding-bottom",k),G=le.getConstraintHeight(p);return isNaN(G)?L:Math.min(L,G)},le.getStyle=function(p,v){return p.currentStyle?p.currentStyle[v]:document.defaultView.getComputedStyle(p,null).getPropertyValue(v)},le.retinaScale=function(p,v){var k=p.currentDevicePixelRatio=v||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==k){var L=p.canvas,G=p.height,Z=p.width;L.height=G*k,L.width=Z*k,p.ctx.scale(k,k),L.style.height||L.style.width||(L.style.height=G+"px",L.style.width=Z+"px")}},le.fontString=function(p,v,k){return v+" "+p+"px "+k},le.longestText=function(p,v,k,L){var G=(L=L||{}).data=L.data||{},Z=L.garbageCollect=L.garbageCollect||[];L.font!==v&&(G=L.data={},Z=L.garbageCollect=[],L.font=v),p.font=v;var Q,se,he,_e,Re,De=0,Ue=k.length;for(Q=0;Q<Ue;Q++)if(null!=(_e=k[Q])&&!0!==le.isArray(_e))De=le.measureText(p,G,Z,De,_e);else if(le.isArray(_e))for(se=0,he=_e.length;se<he;se++)null==(Re=_e[se])||le.isArray(Re)||(De=le.measureText(p,G,Z,De,Re));var Ze=Z.length/2;if(Ze>k.length){for(Q=0;Q<Ze;Q++)delete G[Z[Q]];Z.splice(0,Ze)}return De},le.measureText=function(p,v,k,L,G){var Z=v[G];return Z||(Z=v[G]=p.measureText(G).width,k.push(G)),Z>L&&(L=Z),L},le.numberOfLabelLines=function(p){var v=1;return le.each(p,function(k){le.isArray(k)&&k.length>v&&(v=k.length)}),v},le.color=Oe?function(p){return p instanceof CanvasGradient&&(p=Tt.global.defaultColor),Oe(p)}:function(p){return console.error("Color.js not found!"),p},le.getHoverColor=function(p){return p instanceof CanvasPattern||p instanceof CanvasGradient?p:le.color(p).saturate(.5).darken(.1).rgbString()}}(),gi._adapters=Ga,gi.Animation=yi,gi.animationService=Zi,gi.controllers=Ur,gi.DatasetController=Lt,gi.defaults=Tt,gi.Element=qn,gi.elements=_i,gi.Interaction=jr,gi.layouts=Ji,gi.platform=Fr,gi.plugins=Pi,gi.Scale=E,gi.scaleService=Ao,gi.Ticks=$o,gi.Tooltip=go,gi.helpers.each(Qn,function(l,c){gi.scaleService.registerScaleType(c,l,l._defaults)}),et)et.hasOwnProperty($t)&&gi.plugins.register(et[$t]);gi.platform.initialize();var Ge=gi;return"undefined"!=typeof window&&(window.Chart=gi),gi.Chart=gi,gi.Legend=et.legend._element,gi.Title=et.title._element,gi.pluginService=gi.plugins,gi.PluginBase=gi.Element.extend({}),gi.canvasHelpers=gi.helpers.canvas,gi.layoutService=gi.layouts,gi.LinearScaleBase=A,gi.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(l){gi[l]=function(c,f){return new gi(c,gi.helpers.merge(f||{},{type:l.charAt(0).toLowerCase()+l.slice(1)}))}}),Ge});