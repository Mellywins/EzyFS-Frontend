(function(){var Ge,ht,Bt,he,ke,J,ne,V,A,k,M,H,m,y,P,Z,re,Q,$,fe,pe,Ce,ue,Te,se,ve,_e,Me,Ne,Se,Le,Ue,Qe,Tt,_t,Ht,tt,kt,It,nn,ct,Lt,ln,Dt,dn,Nt,hn,Wn,kn=[].slice,ai={}.hasOwnProperty,Jn=function(Rt,bt){function rn(){this.constructor=Rt}for(var un in bt)ai.call(bt,un)&&(Rt[un]=bt[un]);return rn.prototype=bt.prototype,Rt.prototype=new rn,Rt.__super__=bt.prototype,Rt},xi=[].indexOf||function(Rt){for(var bt=0,rn=this.length;rn>bt;bt++)if(bt in this&&this[bt]===Rt)return bt;return-1};for(pe={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},Ne=function(){var Rt;return null!=(Rt="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?Rt:+new Date},Le=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,fe=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==Le&&(Le=function(Rt){return setTimeout(Rt,50)},fe=function(Rt){return clearTimeout(Rt)}),Qe=function(Rt){var bt,rn;return bt=Ne(),(rn=function(){var un;return(un=Ne()-bt)>=33?(bt=Ne(),Rt(un,function(){return Le(rn)})):setTimeout(rn,33-un)})()},Ue=function(){var Rt,bt,rn;return rn=arguments[0],bt=arguments[1],Rt=3<=arguments.length?kn.call(arguments,2):[],"function"==typeof rn[bt]?rn[bt].apply(rn,Rt):rn[bt]},Ce=function(){var Rt,bt,rn,un,Ft,gn,An;for(bt=arguments[0],gn=0,An=(un=2<=arguments.length?kn.call(arguments,1):[]).length;An>gn;gn++)if(rn=un[gn])for(Rt in rn)ai.call(rn,Rt)&&(Ft=rn[Rt],null!=bt[Rt]&&"object"==typeof bt[Rt]&&null!=Ft&&"object"==typeof Ft?Ce(bt[Rt],Ft):bt[Rt]=Ft);return bt},re=function(Rt){var bt,rn,Ft,gn;for(rn=bt=0,Ft=0,gn=Rt.length;gn>Ft;Ft++)rn+=Math.abs(Rt[Ft]),bt++;return rn/bt},Te=function(Rt,bt){var rn,Ft;if(null==Rt&&(Rt="options"),null==bt&&(bt=!0),Ft=document.querySelector("[data-pace-"+Rt+"]")){if(rn=Ft.getAttribute("data-pace-"+Rt),!bt)return rn;try{return JSON.parse(rn)}catch(gn){return"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",gn):void 0}}},ne=function(){function Rt(){}return Rt.prototype.on=function(bt,rn,un,Ft){var gn;return null==Ft&&(Ft=!1),null==this.bindings&&(this.bindings={}),null==(gn=this.bindings)[bt]&&(gn[bt]=[]),this.bindings[bt].push({handler:rn,ctx:un,once:Ft})},Rt.prototype.once=function(bt,rn,un){return this.on(bt,rn,un,!0)},Rt.prototype.off=function(bt,rn){var un,Ft,gn;if(null!=(null!=(Ft=this.bindings)?Ft[bt]:void 0)){if(null==rn)return delete this.bindings[bt];for(un=0,gn=[];un<this.bindings[bt].length;)gn.push(this.bindings[bt][un].handler===rn?this.bindings[bt].splice(un,1):un++);return gn}},Rt.prototype.trigger=function(){var bt,rn,un,gn,An,Gn,Un,En;if(un=arguments[0],bt=2<=arguments.length?kn.call(arguments,1):[],null!=(Gn=this.bindings)?Gn[un]:void 0){for(gn=0,En=[];gn<this.bindings[un].length;)An=(Un=this.bindings[un][gn]).once,Un.handler.apply(null!=(rn=Un.ctx)?rn:this,bt),En.push(An?this.bindings[un].splice(gn,1):gn++);return En}},Rt}(),k=window.Pace||{},window.Pace=k,Ce(k,ne.prototype),Se=k.options=Ce({},pe,window.paceOptions,Te()),ln=0,dn=(hn=["ajax","document","eventLag","elements"]).length;dn>ln;ln++)!0===Se[tt=hn[ln]]&&(Se[tt]=pe[tt]);A=function(Rt){function bt(){return bt.__super__.constructor.apply(this,arguments)}return Jn(bt,Rt),bt}(Error),ht=function(){function Rt(){this.progress=0}return Rt.prototype.getElement=function(){var bt;if(null==this.el){if(!(bt=document.querySelector(Se.target)))throw new A;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=bt.firstChild?bt.insertBefore(this.el,bt.firstChild):bt.appendChild(this.el)}return this.el},Rt.prototype.finish=function(){var bt;return(bt=this.getElement()).className=bt.className.replace("pace-active",""),bt.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},Rt.prototype.update=function(bt){return this.progress=bt,this.render()},Rt.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(bt){A=bt}return this.el=void 0},Rt.prototype.render=function(){var bt,un,Ft,gn,An,Gn;if(null==document.querySelector(Se.target))return!1;for(bt=this.getElement(),Ft="translate3d("+this.progress+"%, 0, 0)",gn=0,An=(Gn=["webkitTransform","msTransform","transform"]).length;An>gn;gn++)bt.children[0].style[Gn[gn]]=Ft;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(bt.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?un="99":(un=this.progress<10?"0":"",un+=0|this.progress),bt.children[0].setAttribute("data-progress",""+un)),this.lastRenderedProgress=this.progress},Rt.prototype.done=function(){return this.progress>=100},Rt}(),V=function(){function Rt(){this.bindings={}}return Rt.prototype.trigger=function(bt,rn){var Ft,gn,An,Gn;if(null!=this.bindings[bt]){for(Gn=[],Ft=0,gn=(An=this.bindings[bt]).length;gn>Ft;Ft++)Gn.push(An[Ft].call(this,rn));return Gn}},Rt.prototype.on=function(bt,rn){var un;return null==(un=this.bindings)[bt]&&(un[bt]=[]),this.bindings[bt].push(rn)},Rt}(),Lt=window.XMLHttpRequest,ct=window.XDomainRequest,nn=window.WebSocket,ue=function(Rt,bt){var un,Ft;for(un in Ft=[],bt.prototype)try{Ft.push(null==Rt[un]&&"function"!=typeof bt[un]?"function"==typeof Object.defineProperty?Object.defineProperty(Rt,un,{get:function(){return bt.prototype[un]},configurable:!0,enumerable:!0}):Rt[un]=bt.prototype[un]:void 0)}catch(gn){}return Ft},_e=[],k.ignore=function(){var Rt,bt,rn;return bt=arguments[0],Rt=2<=arguments.length?kn.call(arguments,1):[],_e.unshift("ignore"),rn=bt.apply(null,Rt),_e.shift(),rn},k.track=function(){var Rt,bt,rn;return bt=arguments[0],Rt=2<=arguments.length?kn.call(arguments,1):[],_e.unshift("track"),rn=bt.apply(null,Rt),_e.shift(),rn},Ht=function(Rt){var bt;return null==Rt&&(Rt="GET"),"track"===_e[0]?"force":!(_e.length||!Se.ajax||!("socket"===Rt&&Se.ajax.trackWebSockets||(bt=Rt.toUpperCase(),xi.call(Se.ajax.trackMethods,bt)>=0)))},M=function(Rt){function bt(){var rn,un=this;bt.__super__.constructor.apply(this,arguments),rn=function(Ft){var gn;return gn=Ft.open,Ft.open=function(An,Gn,Un){return Ht(An)&&un.trigger("request",{type:An,url:Gn,request:Ft}),gn.apply(Ft,arguments)}},window.XMLHttpRequest=function(Ft){var gn;return gn=new Lt(Ft),rn(gn),gn};try{ue(window.XMLHttpRequest,Lt)}catch(Ft){}if(null!=ct){window.XDomainRequest=function(){var Ft;return Ft=new ct,rn(Ft),Ft};try{ue(window.XDomainRequest,ct)}catch(Ft){}}if(null!=nn&&Se.ajax.trackWebSockets){window.WebSocket=function(Ft,gn){var An;return An=null!=gn?new nn(Ft,gn):new nn(Ft),Ht("socket")&&un.trigger("request",{type:"socket",url:Ft,protocols:gn,request:An}),An};try{ue(window.WebSocket,nn)}catch(Ft){}}}return Jn(bt,Rt),bt}(V),Dt=null,_t=function(Rt){var bt,rn,un,Ft;for(rn=0,un=(Ft=Se.ajax.ignoreURLs).length;un>rn;rn++)if("string"==typeof(bt=Ft[rn])){if(-1!==Rt.indexOf(bt))return!0}else if(bt.test(Rt))return!0;return!1},(se=function(){return null==Dt&&(Dt=new M),Dt})().on("request",function(Rt){var bt,rn,un,Ft;return Ft=Rt.type,un=Rt.request,_t(Rt.url)||k.running||!1===Se.restartOnRequestAfter&&"force"!==Ht(Ft)?void 0:(rn=arguments,"boolean"==typeof(bt=Se.restartOnRequestAfter||0)&&(bt=0),setTimeout(function(){var Gn,Un,En,Pt,Ut;if("socket"===Ft?un.readyState<2:0<(En=un.readyState)&&4>En){for(k.restart(),Ut=[],Gn=0,Un=(Pt=k.sources).length;Un>Gn;Gn++){if((tt=Pt[Gn])instanceof Ge){tt.watch.apply(tt,rn);break}Ut.push(void 0)}return Ut}},bt))}),Ge=function(){function Rt(){var bt=this;this.elements=[],se().on("request",function(){return bt.watch.apply(bt,arguments)})}return Rt.prototype.watch=function(bt){var rn,un,Ft;return Ft=bt.type,rn=bt.request,_t(bt.url)?void 0:(un="socket"===Ft?new y(rn):new P(rn),this.elements.push(un))},Rt}(),P=function(bt){var Ft,gn,An,Gn,Un=this;if(this.progress=0,null!=window.ProgressEvent)for(bt.addEventListener("progress",function(En){return Un.progress=En.lengthComputable?100*En.loaded/En.total:Un.progress+(100-Un.progress)/2},!1),Ft=0,gn=(Gn=["load","abort","timeout","error"]).length;gn>Ft;Ft++)bt.addEventListener(Gn[Ft],function(){return Un.progress=100},!1);else An=bt.onreadystatechange,bt.onreadystatechange=function(){var En;return 0===(En=bt.readyState)||4===En?Un.progress=100:3===bt.readyState&&(Un.progress=50),"function"==typeof An?An.apply(null,arguments):void 0}},y=function(bt){var un,Ft,gn,An=this;for(this.progress=0,un=0,Ft=(gn=["error","open"]).length;Ft>un;un++)bt.addEventListener(gn[un],function(){return An.progress=100},!1)},he=function(bt){var un,Ft,gn;for(null==bt&&(bt={}),this.elements=[],null==bt.selectors&&(bt.selectors=[]),un=0,Ft=(gn=bt.selectors).length;Ft>un;un++)this.elements.push(new ke(gn[un]))},ke=function(){function Rt(bt){this.selector=bt,this.progress=0,this.check()}return Rt.prototype.check=function(){var bt=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return bt.check()},Se.elements.checkInterval)},Rt.prototype.done=function(){return this.progress=100},Rt}(),Bt=function(){function Rt(){var bt,rn,un=this;this.progress=null!=(rn=this.states[document.readyState])?rn:100,bt=document.onreadystatechange,document.onreadystatechange=function(){return null!=un.states[document.readyState]&&(un.progress=un.states[document.readyState]),"function"==typeof bt?bt.apply(null,arguments):void 0}}return Rt.prototype.states={loading:0,interactive:50,complete:100},Rt}(),J=function(){var bt,rn,un,Ft,gn,An=this;this.progress=0,bt=0,gn=[],Ft=0,un=Ne(),rn=setInterval(function(){var Gn;return Gn=Ne()-un-50,un=Ne(),gn.push(Gn),gn.length>Se.eventLag.sampleCount&&gn.shift(),bt=re(gn),++Ft>=Se.eventLag.minSamples&&bt<Se.eventLag.lagThreshold?(An.progress=100,clearInterval(rn)):An.progress=3/(bt+3)*100},50)},m=function(){function Rt(bt){this.source=bt,this.last=this.sinceLastUpdate=0,this.rate=Se.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=Ue(this.source,"progress"))}return Rt.prototype.tick=function(bt,rn){var un;return null==rn&&(rn=Ue(this.source,"progress")),rn>=100&&(this.done=!0),rn===this.last?this.sinceLastUpdate+=bt:(this.sinceLastUpdate&&(this.rate=(rn-this.last)/this.sinceLastUpdate),this.catchup=(rn-this.progress)/Se.catchupTime,this.sinceLastUpdate=0,this.last=rn),rn>this.progress&&(this.progress+=this.catchup*bt),un=1-Math.pow(this.progress/100,Se.easeFactor),this.progress+=un*this.rate*bt,this.progress=Math.min(this.lastProgress+Se.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},Rt}(),kt=null,Tt=null,Q=null,It=null,Z=null,$=null,k.running=!1,ve=function(){return Se.restartOnPushState?k.restart():void 0},null!=window.history.pushState&&(Nt=window.history.pushState,window.history.pushState=function(){return ve(),Nt.apply(window.history,arguments)}),null!=window.history.replaceState&&(Wn=window.history.replaceState,window.history.replaceState=function(){return ve(),Wn.apply(window.history,arguments)}),H={ajax:Ge,elements:he,document:Bt,eventLag:J},(Me=function(){var Rt,bt,rn,un,Ft,gn,An,Gn;for(k.sources=kt=[],bt=0,un=(gn=["ajax","elements","document","eventLag"]).length;un>bt;bt++)!1!==Se[Rt=gn[bt]]&&kt.push(new H[Rt](Se[Rt]));for(rn=0,Ft=(Gn=null!=(An=Se.extraSources)?An:[]).length;Ft>rn;rn++)kt.push(new(tt=Gn[rn])(Se));return k.bar=Q=new ht,Tt=[],It=new m})(),k.stop=function(){return k.trigger("stop"),k.running=!1,Q.destroy(),$=!0,null!=Z&&("function"==typeof fe&&fe(Z),Z=null),Me()},k.restart=function(){return k.trigger("restart"),k.stop(),k.start()},k.go=function(){var Rt;return k.running=!0,Q.render(),Rt=Ne(),$=!1,Z=Qe(function(bt,rn){var Ft,gn,Gn,Un,En,Ut,tn,yn,cn,$t,_n,Mn,Rn;for(Ft=yn=0,gn=!0,Un=cn=0,_n=kt.length;_n>cn;Un=++cn)for(tt=kt[Un],tn=null!=Tt[Un]?Tt[Un]:Tt[Un]=[],En=$t=0,Mn=(Gn=null!=(Rn=tt.elements)?Rn:[tt]).length;Mn>$t;En=++$t)gn&=(Ut=null!=tn[En]?tn[En]:tn[En]=new m(Gn[En])).done,Ut.done||(Ft++,yn+=Ut.tick(bt));return Q.update(It.tick(bt,yn/Ft)),Q.done()||gn||$?(Q.update(100),k.trigger("done"),setTimeout(function(){return Q.finish(),k.running=!1,k.trigger("hide")},Math.max(Se.ghostTime,Math.max(Se.minTime-(Ne()-Rt),0)))):rn()})},k.start=function(Rt){Ce(Se,Rt),k.running=!0;try{Q.render()}catch(bt){A=bt}return document.querySelector(".pace")?(k.trigger("start"),k.go()):setTimeout(k.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return k}):"object"==typeof exports?module.exports=k:Se.startOnPageLoad&&k.start()}).call(this),function(Ge,ht){"use strict";function he(le,ee,W){if("string"!=typeof le)throw"invalid module definition, module id must be defined and be a string";if(ee===ht)throw"invalid module definition, dependencies must be specified";if(W===ht)throw"invalid module definition, definition function must be specified";!function(le,ee){for(var W,B=[],C=0;C<le.length;++C){if(!(W=V[le[C]]||J(le[C])))throw"module definition dependecy not found: "+le[C];B.push(W)}ee.apply(null,B)}(ee,function(){V[le]=W.apply(null,arguments)})}function J(le){for(var ee=Ge,W=le.split(/[.\/]/),B=0;B<W.length;++B){if(!ee[W[B]])return;ee=ee[W[B]]}return ee}var V={},A="tinymce/geom/Rect",k="tinymce/util/Promise",M="tinymce/util/Delay",H="tinymce/Env",m="tinymce/dom/EventUtils",y="tinymce/dom/Sizzle",P="tinymce/util/Arr",Z="tinymce/util/Tools",re="tinymce/dom/DomQuery",Q="tinymce/html/Styles",$="tinymce/dom/TreeWalker",fe="tinymce/dom/Range",pe="tinymce/html/Entities",Ce="tinymce/dom/StyleSheetLoader",ue="tinymce/dom/DOMUtils",Te="tinymce/dom/ScriptLoader",se="tinymce/AddOnManager",ve="tinymce/dom/NodeType",_e="tinymce/text/Zwsp",Me="tinymce/caret/CaretContainer",Ne="tinymce/dom/RangeUtils",Se="tinymce/NodeChange",Le="tinymce/html/Node",Ue="tinymce/html/Schema",Qe="tinymce/html/SaxParser",Tt="tinymce/html/DomParser",_t="tinymce/html/Writer",Ht="tinymce/html/Serializer",tt="tinymce/dom/Serializer",kt="tinymce/dom/TridentSelection",It="tinymce/util/VK",nn="tinymce/dom/ControlSelection",ct="tinymce/util/Fun",Lt="tinymce/caret/CaretCandidate",ln="tinymce/geom/ClientRect",Dt="tinymce/text/ExtendingChar",dn="tinymce/caret/CaretPosition",Nt="tinymce/caret/CaretBookmark",hn="tinymce/dom/BookmarkManager",qn="tinymce/dom/Selection",Wn="tinymce/dom/ElementUtils",kn="tinymce/fmt/Preview",ai="tinymce/fmt/Hooks",Jn="tinymce/Formatter",xi="tinymce/undo/Diff",Rt="tinymce/undo/Fragments",bt="tinymce/undo/Levels",rn="tinymce/UndoManager",un="tinymce/EnterKey",Ft="tinymce/ForceBlocks",gn="tinymce/caret/CaretUtils",An="tinymce/caret/CaretWalker",Gn="tinymce/InsertList",Un="tinymce/InsertContent",En="tinymce/EditorCommands",Pt="tinymce/util/URI",Ut="tinymce/util/Class",tn="tinymce/util/EventDispatcher",yn="tinymce/data/Binding",cn="tinymce/util/Observable",$t="tinymce/data/ObservableObject",_n="tinymce/ui/Selector",Mn="tinymce/ui/Collection",Rn="tinymce/ui/DomUtils",On="tinymce/ui/BoxUtils",oi="tinymce/ui/ClassList",Wi="tinymce/ui/ReflowQueue",Ei="tinymce/ui/Control",Ri="tinymce/ui/Factory",Or="tinymce/ui/KeyboardNavigation",Gi="tinymce/ui/Container",Ii="tinymce/ui/DragHelper",or="tinymce/ui/Scrollable",Ui="tinymce/ui/Panel",Fi="tinymce/ui/Movable",zr="tinymce/ui/Resizable",Tr="tinymce/ui/FloatPanel",wo="tinymce/ui/Window",At="tinymce/ui/MessageBox",Wt="tinymce/WindowManager",mn="tinymce/ui/Tooltip",on="tinymce/ui/Widget",Sn="tinymce/ui/Progress",Bn="tinymce/ui/Notification",Yn="tinymce/NotificationManager",Zn="tinymce/dom/NodePath",Xn="tinymce/util/Quirks",ti="tinymce/EditorObservable",di="tinymce/Mode",pi="tinymce/Shortcuts",Hi="tinymce/file/Uploader",Yi="tinymce/file/Conversions",Ji="tinymce/file/ImageScanner",gr="tinymce/file/BlobCache",xr="tinymce/file/UploadStatus",kr="tinymce/ErrorReporter",Ar="tinymce/EditorUpload",Qn="tinymce/caret/FakeCaret",Yr="tinymce/dom/Dimensions",ml="tinymce/caret/LineWalker",zu="tinymce/caret/LineUtils",vl="tinymce/dom/MousePosition",ls="tinymce/DragDropOverrides",us="tinymce/SelectionOverrides",yl="tinymce/util/Uuid",ha="tinymce/ui/Sidebar",cs="tinymce/Editor",xl="tinymce/util/I18n",bl="tinymce/FocusManager",ds="tinymce/EditorManager",_l="tinymce/util/XHR",hs="tinymce/util/JSON",Hu="tinymce/util/JSONRequest",fa="tinymce/util/JSONP",Ir="tinymce/util/LocalStorage",Fr="tinymce/Compat",fs="tinymce/ui/Layout",pa="tinymce/ui/AbsoluteLayout",no="tinymce/ui/Button",Oo="tinymce/ui/ButtonGroup",ga="tinymce/ui/Checkbox",ma="tinymce/ui/ComboBox",wl="tinymce/ui/ColorBox",ps="tinymce/ui/PanelButton",Vu="tinymce/ui/ColorButton",gs="tinymce/util/Color",Wu="tinymce/ui/ColorPicker",ms="tinymce/ui/Path",vs="tinymce/ui/ElementPath",va="tinymce/ui/FormItem",ys="tinymce/ui/Form",Cl="tinymce/ui/FieldSet",zo="tinymce/content/LinkTargets",Sl="tinymce/ui/FilePicker",Ml="tinymce/ui/FitLayout",Gu="tinymce/ui/FlexLayout",Tl="tinymce/ui/FlowLayout",Uu="tinymce/fmt/FontInfo",kl="tinymce/ui/FormatControls",xs="tinymce/ui/GridLayout",bs="tinymce/ui/Iframe",_s="tinymce/ui/InfoBox",ju="tinymce/ui/Label",ws="tinymce/ui/Toolbar",Ci="tinymce/ui/MenuBar",Fo="tinymce/ui/MenuButton",Cs="tinymce/ui/MenuItem",Ss="tinymce/ui/Throbber",Ms="tinymce/ui/Menu",Al="tinymce/ui/ListBox",lr="tinymce/ui/Radio",tr="tinymce/ui/ResizeHandle",ya="tinymce/ui/SelectBox",qu="tinymce/ui/Slider",Zu="tinymce/ui/Spacer",Yu="tinymce/ui/SplitButton",Xu="tinymce/ui/StackLayout",$u="tinymce/ui/TabPanel",Ku="tinymce/ui/TextBox";he(A,[],function(){function le(L,R,F){var U,O,q,z,te,N;return U=R.x,O=R.y,q=L.w,z=L.h,te=R.w,N=R.h,"b"===(F=(F||"").split(""))[0]&&(O+=N),"r"===F[1]&&(U+=te),"c"===F[0]&&(O+=G(N/2)),"c"===F[1]&&(U+=G(te/2)),"b"===F[3]&&(O-=z),"r"===F[4]&&(U-=q),"c"===F[3]&&(O-=G(z/2)),"c"===F[4]&&(U-=G(q/2)),I(U,O,q,z)}function I(L,R,F,U){return{x:L,y:R,w:F,h:U}}var w=Math.min,S=Math.max,G=Math.round;return{inflate:function(L,R,F){return I(L.x-R,L.y-F,L.w+2*R,L.h+2*F)},relativePosition:le,findBestRelativePosition:function(L,R,F,U){var O,q;for(q=0;q<U.length;q++)if((O=le(L,R,U[q])).x>=F.x&&O.x+O.w<=F.w+F.x&&O.y>=F.y&&O.y+O.h<=F.h+F.y)return U[q];return null},intersect:function(L,R){var F,U,O,q;return F=S(L.x,R.x),U=S(L.y,R.y),O=w(L.x+L.w,R.x+R.w),q=w(L.y+L.h,R.y+R.h),O-F<0||q-U<0?null:I(F,U,O-F,q-U)},clamp:function(L,R,F){var U,O,q,z,te,N,E,T,v,_;return N=L.y,E=L.x+L.w,T=L.y+L.h,v=R.x+R.w,_=R.y+R.h,U=S(0,R.x-(te=L.x)),O=S(0,R.y-N),q=S(0,E-v),z=S(0,T-_),te+=U,N+=O,F&&(E+=U,T+=O,te-=q,N-=z),I(te,N,(E-=q)-te,(T-=z)-N)},create:I,fromClientRect:function(L){return I(L.left,L.top,L.width,L.height)}}}),he(k,[],function(){function le(L,R){return function(){L.apply(R,arguments)}}function ee(L){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof L)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],w(L,le(B,this),le(C,this))}function W(L){var R=this;return null===this._state?void this._deferreds.push(L):void S(function(){var F=R._state?L.onFulfilled:L.onRejected;if(null!==F){var U;try{U=F(R._value)}catch(O){return void L.reject(O)}L.resolve(U)}else(R._state?L.resolve:L.reject)(R._value)})}function B(L){try{if(L===this)throw new TypeError("A promise cannot be resolved with itself.");if(L&&("object"==typeof L||"function"==typeof L)){var R=L.then;if("function"==typeof R)return void w(le(R,L),le(B,this),le(C,this))}this._state=!0,this._value=L,I.call(this)}catch(F){C.call(this,F)}}function C(L){this._state=!1,this._value=L,I.call(this)}function I(){for(var L=0,R=this._deferreds.length;L<R;L++)W.call(this,this._deferreds[L]);this._deferreds=null}function x(L,R,F,U){this.onFulfilled="function"==typeof L?L:null,this.onRejected="function"==typeof R?R:null,this.resolve=F,this.reject=U}function w(L,R,F){var U=!1;try{L(function(O){U||(U=!0,R(O))},function(O){U||(U=!0,F(O))})}catch(O){if(U)return;U=!0,F(O)}}if(window.Promise)return window.Promise;var S=ee.immediateFn||"function"==typeof setImmediate&&setImmediate||function(L){setTimeout(L,1)},G=Array.isArray||function(L){return"[object Array]"===Object.prototype.toString.call(L)};return ee.prototype.catch=function(L){return this.then(null,L)},ee.prototype.then=function(L,R){var F=this;return new ee(function(U,O){W.call(F,new x(L,R,U,O))})},ee.all=function(){var L=Array.prototype.slice.call(1===arguments.length&&G(arguments[0])?arguments[0]:arguments);return new ee(function(R,F){function U(z,te){try{if(te&&("object"==typeof te||"function"==typeof te)){var N=te.then;if("function"==typeof N)return void N.call(te,function(E){U(z,E)},F)}L[z]=te,0==--O&&R(L)}catch(E){F(E)}}if(0===L.length)return R([]);for(var O=L.length,q=0;q<L.length;q++)U(q,L[q])})},ee.resolve=function(L){return L&&"object"==typeof L&&L.constructor===ee?L:new ee(function(R){R(L)})},ee.reject=function(L){return new ee(function(R,F){F(L)})},ee.race=function(L){return new ee(function(R,F){for(var U=0,O=L.length;U<O;U++)L[U].then(R,F)})},ee}),he(M,[k],function(le){function W(S,G){return"number"!=typeof G&&(G=0),setTimeout(S,G)}function B(S,G){return"number"!=typeof G&&(G=1),setInterval(S,G)}function x(S,G){var L,R;return R=function(){var F=arguments;clearTimeout(L),L=W(function(){S.apply(this,F)},G)},R.stop=function(){clearTimeout(L)},R}var w;return{requestAnimationFrame:function(S,G){return w?void w.then(S):void(w=new le(function(L){G||(G=document.body),function(S,G){var R,F=window.requestAnimationFrame,U=["ms","moz","webkit"];for(R=0;R<U.length&&!F;R++)F=window[U[R]+"RequestAnimationFrame"];F||(F=function(O){window.setTimeout(O,0)}),F(S,G)}(L,G)}).then(S))},setTimeout:W,setInterval:B,setEditorTimeout:function(S,G,L){return W(function(){S.removed||G()},L)},setEditorInterval:function(S,G,L){var R;return R=B(function(){S.removed?clearInterval(R):G()},L)},debounce:x,throttle:x,clearInterval:function(S){return clearInterval(S)},clearTimeout:function(S){return clearTimeout(S)}}}),he(H,[],function(){function le(te){return"matchMedia"in window&&matchMedia(te).matches}var B,C,I,x,w,S,G,L,R,F,U,O,q,ee=navigator,W=ee.userAgent;return B=window.opera&&window.opera.buildNumber,R=/Android/.test(W),I=(I=!(C=/WebKit/.test(W))&&!B&&/MSIE/gi.test(W)&&/Explorer/gi.test(ee.appName))&&/MSIE (\w+)\./.exec(W)[1],x=-1!=W.indexOf("Trident/")&&(-1!=W.indexOf("rv:")||-1!=ee.appName.indexOf("Netscape"))&&11,w=-1!=W.indexOf("Edge/")&&!I&&!x&&12,I=I||x||w,S=!C&&!x&&/Gecko/.test(W),G=-1!=W.indexOf("Mac"),L=/(iPad|iPhone)/.test(W),F="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,U=le("only screen and (max-device-width: 480px)")&&(R||L),O=le("only screen and (min-width: 800px)")&&(R||L),q=-1!=W.indexOf("Windows Phone"),w&&(C=!1),{opera:B,webkit:C,ie:I,gecko:S,mac:G,iOS:L,android:R,contentEditable:!L||F||W.match(/AppleWebKit\/(\d*)/)[1]>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=I,range:window.getSelection&&"Range"in window,documentMode:I&&!w?document.documentMode||7:10,fileApi:F,ceFalse:!1===I||I>8,canHaveCSP:!1===I||I>11,desktop:!U&&!O,windowsPhone:q}}),he(m,[M,H],function(le,ee){function W(R,F,U,O){R.addEventListener?R.addEventListener(F,U,O||!1):R.attachEvent&&R.attachEvent("on"+F,U)}function B(R,F,U,O){R.removeEventListener?R.removeEventListener(F,U,O||!1):R.detachEvent&&R.detachEvent("on"+F,U)}function I(R,F){function U(){return!1}function O(){return!0}var q,z=F||{};for(q in R)L[q]||(z[q]=R[q]);if(z.target||(z.target=z.srcElement||document),ee.experimentalShadowDom&&(z.target=function(R,F){var U,O=F;return(U=R.path)&&U.length>0&&(O=U[0]),R.deepPath&&(U=R.deepPath())&&U.length>0&&(O=U[0]),O}(R,z.target)),R&&G.test(R.type)&&void 0===R.pageX&&void 0!==R.clientX){var N=z.target.ownerDocument||document,E=N.documentElement,T=N.body;z.pageX=R.clientX+(E&&E.scrollLeft||T&&T.scrollLeft||0)-(E&&E.clientLeft||T&&T.clientLeft||0),z.pageY=R.clientY+(E&&E.scrollTop||T&&T.scrollTop||0)-(E&&E.clientTop||T&&T.clientTop||0)}return z.preventDefault=function(){z.isDefaultPrevented=O,R&&(R.preventDefault?R.preventDefault():R.returnValue=!1)},z.stopPropagation=function(){z.isPropagationStopped=O,R&&(R.stopPropagation?R.stopPropagation():R.cancelBubble=!0)},z.stopImmediatePropagation=function(){z.isImmediatePropagationStopped=O,z.stopPropagation()},z.isDefaultPrevented||(z.isDefaultPrevented=U,z.isPropagationStopped=U,z.isImmediatePropagationStopped=U),void 0===z.metaKey&&(z.metaKey=!1),z}function x(R,F,U){function O(){U.domLoaded||(U.domLoaded=!0,F(N))}var te=R.document,N={type:"ready"};return U.domLoaded?void F(N):(te.addEventListener?"complete"===te.readyState?O():W(R,"DOMContentLoaded",O):(W(te,"readystatechange",function q(){("complete"===te.readyState||"interactive"===te.readyState&&te.body)&&(B(te,"readystatechange",q),O())}),te.documentElement.doScroll&&R.self===R.top&&function z(){try{te.documentElement.doScroll("left")}catch(E){return void le.setTimeout(z)}O()}()),void W(R,"load",O))}function w(){function R(E,T){var v,_,j,ie,Y=U[T];if(v=Y&&Y[E.type])for(_=0,j=v.length;_<j;_++)if((ie=v[_])&&!1===ie.func.call(ie.scope,E)&&E.preventDefault(),E.isImmediatePropagationStopped())return}var O,q,z,te,N,F=this,U={};q=S+(+new Date).toString(32),te="onmouseenter"in document.documentElement,z="onfocusin"in document.documentElement,N={mouseenter:"mouseover",mouseleave:"mouseout"},O=1,F.domLoaded=!1,F.events=U,F.bind=function(E,T,v,_){function j(De){R(I(De||Pe.event),ie)}var ie,Y,ae,ge,Ee,Ie,Ae,Pe=window;if(E&&3!==E.nodeType&&8!==E.nodeType){for(E[q]?ie=E[q]:(ie=O++,E[q]=ie,U[ie]={}),_=_||E,ae=(T=T.split(" ")).length;ae--;)Ie=j,Ee=Ae=!1,"DOMContentLoaded"===(ge=T[ae])&&(ge="ready"),F.domLoaded&&"ready"===ge&&"complete"==E.readyState?v.call(_,I({type:ge})):(te||(Ee=N[ge])&&(Ie=function(De){var ze,Ve;if(ze=De.currentTarget,(Ve=De.relatedTarget)&&ze.contains)Ve=ze.contains(Ve);else for(;Ve&&Ve!==ze;)Ve=Ve.parentNode;Ve||((De=I(De||Pe.event)).type="mouseout"===De.type?"mouseleave":"mouseenter",De.target=ze,R(De,ie))}),z||"focusin"!==ge&&"focusout"!==ge||(Ae=!0,Ee="focusin"===ge?"focus":"blur",Ie=function(De){(De=I(De||Pe.event)).type="focus"===De.type?"focusin":"focusout",R(De,ie)}),(Y=U[ie][ge])?"ready"===ge&&F.domLoaded?v({type:ge}):Y.push({func:v,scope:_}):(U[ie][ge]=Y=[{func:v,scope:_}],Y.fakeName=Ee,Y.capture=Ae,Y.nativeHandler=Ie,"ready"===ge?x(E,Ie,F):W(E,Ee||ge,Ie,Ae)));return E=Y=0,v}},F.unbind=function(E,T,v){var _,j,ie,Y,ae,ge;if(!E||3===E.nodeType||8===E.nodeType)return F;if(_=E[q]){if(ge=U[_],T){for(ie=(T=T.split(" ")).length;ie--;)if(j=ge[ae=T[ie]]){if(v)for(Y=j.length;Y--;)if(j[Y].func===v){var Ee=j.nativeHandler,Ie=j.fakeName,Ae=j.capture;(j=j.slice(0,Y).concat(j.slice(Y+1))).nativeHandler=Ee,j.fakeName=Ie,j.capture=Ae,ge[ae]=j}v&&0!==j.length||(delete ge[ae],B(E,j.fakeName||ae,j.nativeHandler,j.capture))}}else{for(ae in ge)B(E,(j=ge[ae]).fakeName||ae,j.nativeHandler,j.capture);ge={}}for(ae in ge)return F;delete U[_];try{delete E[q]}catch(Pe){E[q]=null}}return F},F.fire=function(E,T,v){var _;if(!E||3===E.nodeType||8===E.nodeType)return F;(v=I(null,v)).type=T,v.target=E;do{(_=E[q])&&R(v,_),E=E.parentNode||E.ownerDocument||E.defaultView||E.parentWindow}while(E&&!v.isPropagationStopped());return F},F.clean=function(E){var T,v,_=F.unbind;if(!E||3===E.nodeType||8===E.nodeType)return F;if(E[q]&&_(E),E.getElementsByTagName||(E=E.document),E&&E.getElementsByTagName)for(_(E),T=(v=E.getElementsByTagName("*")).length;T--;)(E=v[T])[q]&&_(E);return F},F.destroy=function(){U={}},F.cancel=function(E){return E&&(E.preventDefault(),E.stopImmediatePropagation()),!1}}var S="mce-data-",G=/^(?:mouse|contextmenu)|click/,L={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return(w.Event=new w).bind(window,"ready",function(){}),w}),he(y,[],function(){function le(xe,Oe,Je,lt){var yt,ut,qe,pt,vt,Zt,et,St,st,zt;if((Oe?Oe.ownerDocument||Oe:Ze)!==Pe&&Ae(Oe),Je=Je||[],!xe||"string"!=typeof xe)return Je;if(1!==(pt=(Oe=Oe||Pe).nodeType)&&9!==pt)return[];if(ze&&!lt){if(yt=an.exec(xe))if(qe=yt[1]){if(9===pt){if(!(ut=Oe.getElementById(qe))||!ut.parentNode)return Je;if(ut.id===qe)return Je.push(ut),Je}else if(Oe.ownerDocument&&(ut=Oe.ownerDocument.getElementById(qe))&&Re(Oe,ut)&&ut.id===qe)return Je.push(ut),Je}else{if(yt[2])return it.apply(Je,Oe.getElementsByTagName(xe)),Je;if((qe=yt[3])&&T.getElementsByClassName)return it.apply(Je,Oe.getElementsByClassName(qe)),Je}if(T.qsa&&(!Ve||!Ve.test(xe))){if(St=et=We,st=Oe,zt=9===pt&&xe,1===pt&&"object"!==Oe.nodeName.toLowerCase()){for(Zt=ie(xe),(et=Oe.getAttribute("id"))?St=et.replace(Nn,"\\$&"):Oe.setAttribute("id",St),St="[id='"+St+"'] ",vt=Zt.length;vt--;)Zt[vt]=St+R(Zt[vt]);st=fn.test(xe)&&G(Oe.parentNode)||Oe,zt=Zt.join(",")}if(zt)try{return it.apply(Je,st.querySelectorAll(zt)),Je}catch(jt){}finally{et||Oe.removeAttribute("id")}}}return ae(xe.replace(Mi,"$1"),Oe,Je,lt)}function ee(){var Oe=[];return function xe(Je,lt){return Oe.push(Je+" ")>v.cacheLength&&delete xe[Oe.shift()],xe[Je+" "]=lt}}function W(xe){return xe[We]=!0,xe}function B(xe){var Oe=Pe.createElement("div");try{return!!xe(Oe)}catch(Je){return!1}finally{Oe.parentNode&&Oe.parentNode.removeChild(Oe),Oe=null}}function C(xe,Oe){for(var Je=xe.split("|"),lt=xe.length;lt--;)v.attrHandle[Je[lt]]=Oe}function I(xe,Oe){var Je=Oe&&xe,lt=Je&&1===xe.nodeType&&1===Oe.nodeType&&(~Oe.sourceIndex||me)-(~xe.sourceIndex||me);if(lt)return lt;if(Je)for(;Je=Je.nextSibling;)if(Je===Oe)return-1;return xe?1:-1}function x(xe){return function(Oe){return"input"===Oe.nodeName.toLowerCase()&&Oe.type===xe}}function w(xe){return function(Oe){var Je=Oe.nodeName.toLowerCase();return("input"===Je||"button"===Je)&&Oe.type===xe}}function S(xe){return W(function(Oe){return Oe=+Oe,W(function(Je,lt){for(var yt,ut=xe([],Je.length,Oe),qe=ut.length;qe--;)Je[yt=ut[qe]]&&(Je[yt]=!(lt[yt]=Je[yt]))})})}function G(xe){return xe&&typeof xe.getElementsByTagName!==ye&&xe}function L(){}function R(xe){for(var Oe=0,Je=xe.length,lt="";Oe<Je;Oe++)lt+=xe[Oe].value;return lt}function F(xe,Oe,Je){var lt=Oe.dir,yt=Je&&"parentNode"===lt,ut=Et++;return Oe.first?function(qe,pt,vt){for(;qe=qe[lt];)if(1===qe.nodeType||yt)return xe(qe,pt,vt)}:function(qe,pt,vt){var Zt,et,St=[ft,ut];if(vt){for(;qe=qe[lt];)if((1===qe.nodeType||yt)&&xe(qe,pt,vt))return!0}else for(;qe=qe[lt];)if(1===qe.nodeType||yt){if((Zt=(et=qe[We]||(qe[We]={}))[lt])&&Zt[0]===ft&&Zt[1]===ut)return St[2]=Zt[2];if(et[lt]=St,St[2]=xe(qe,pt,vt))return!0}}}function U(xe){return xe.length>1?function(Oe,Je,lt){for(var yt=xe.length;yt--;)if(!xe[yt](Oe,Je,lt))return!1;return!0}:xe[0]}function q(xe,Oe,Je,lt,yt){for(var ut,qe=[],pt=0,vt=xe.length,Zt=null!=Oe;pt<vt;pt++)(ut=xe[pt])&&(Je&&!Je(ut,lt,yt)||(qe.push(ut),Zt&&Oe.push(pt)));return qe}function z(xe,Oe,Je,lt,yt,ut){return lt&&!lt[We]&&(lt=z(lt)),yt&&!yt[We]&&(yt=z(yt,ut)),W(function(qe,pt,vt,Zt){var et,St,st,zt=[],jt=[],Jt=pt.length,qt=qe||function(xe,Oe,Je){for(var lt=0,yt=Oe.length;lt<yt;lt++)le(xe,Oe[lt],Je);return Je}(Oe||"*",vt.nodeType?[vt]:vt,[]),en=!xe||!qe&&Oe?qt:q(qt,zt,xe,vt,Zt),Cn=Je?yt||(qe?xe:Jt||lt)?[]:pt:en;if(Je&&Je(en,Cn,vt,Zt),lt)for(et=q(Cn,jt),lt(et,[],vt,Zt),St=et.length;St--;)(st=et[St])&&(Cn[jt[St]]=!(en[jt[St]]=st));if(qe){if(yt||xe){if(yt){for(et=[],St=Cn.length;St--;)(st=Cn[St])&&et.push(en[St]=st);yt(null,Cn=[],et,Zt)}for(St=Cn.length;St--;)(st=Cn[St])&&(et=yt?gt.call(qe,st):zt[St])>-1&&(qe[et]=!(pt[et]=st))}}else Cn=q(Cn===pt?Cn.splice(Jt,Cn.length):Cn),yt?yt(null,pt,Cn,Zt):it.apply(pt,Cn)})}function te(xe){for(var Oe,Je,lt,yt=xe.length,ut=v.relative[xe[0].type],qe=ut||v.relative[" "],pt=ut?1:0,vt=F(function(St){return St===Oe},qe,!0),Zt=F(function(St){return gt.call(Oe,St)>-1},qe,!0),et=[function(St,st,zt){return!ut&&(zt||st!==ge)||((Oe=st).nodeType?vt(St,st,zt):Zt(St,st,zt))}];pt<yt;pt++)if(Je=v.relative[xe[pt].type])et=[F(U(et),Je)];else{if((Je=v.filter[xe[pt].type].apply(null,xe[pt].matches))[We]){for(lt=++pt;lt<yt&&!v.relative[xe[lt].type];lt++);return z(pt>1&&U(et),pt>1&&R(xe.slice(0,pt-1).concat({value:" "===xe[pt-2].type?"*":""})).replace(Mi,"$1"),Je,pt<lt&&te(xe.slice(pt,lt)),lt<yt&&te(xe=xe.slice(lt)),lt<yt&&R(xe))}et.push(Je)}return U(et)}var E,T,v,_,j,ie,Y,ae,ge,Ee,Ie,Ae,Pe,De,ze,Ve,de,we,Re,We="sizzle"+-new Date,Ze=window.document,ft=0,Et=0,Vt=ee(),Kt=ee(),Gt=ee(),je=function(xe,Oe){return xe===Oe&&(Ie=!0),0},ye=typeof ht,me=1<<31,Fe={}.hasOwnProperty,Ke=[],at=Ke.pop,dt=Ke.push,it=Ke.push,Mt=Ke.slice,gt=Ke.indexOf||function(xe){for(var Oe=0,Je=this.length;Oe<Je;Oe++)if(this[Oe]===xe)return Oe;return-1},Ct="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",xt="[\\x20\\t\\r\\n\\f]",vn="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",zn="\\["+xt+"*("+vn+")(?:"+xt+"*([*^$|!~]?=)"+xt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+vn+"))|)"+xt+"*\\]",jn=":("+vn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+zn+")*)|.*)\\)|)",Mi=new RegExp("^"+xt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+xt+"+$","g"),ei=new RegExp("^"+xt+"*,"+xt+"*"),ni=new RegExp("^"+xt+"*([>+~]|"+xt+")"+xt+"*"),Ai=new RegExp("="+xt+"*([^\\]'\"]*?)"+xt+"*\\]","g"),gi=new RegExp(jn),mi=new RegExp("^"+vn+"$"),Ot={ID:new RegExp("^#("+vn+")"),CLASS:new RegExp("^\\.("+vn+")"),TAG:new RegExp("^("+vn+"|[*])"),ATTR:new RegExp("^"+zn),PSEUDO:new RegExp("^"+jn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+xt+"*(even|odd|(([+-]|)(\\d*)n|)"+xt+"*(?:([+-]|)"+xt+"*(\\d+)|))"+xt+"*\\)|)","i"),bool:new RegExp("^(?:"+Ct+")$","i"),needsContext:new RegExp("^"+xt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+xt+"*((?:-\\d)?\\d*)"+xt+"*\\)|)(?=[^-]|$)","i")},Xt=/^(?:input|select|textarea|button)$/i,ot=/^h\d$/i,wt=/^[^{]+\{\s*\[native \w/,an=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fn=/[+~]/,Nn=/'|\\/g,Xe=new RegExp("\\\\([\\da-f]{1,6}"+xt+"?|("+xt+")|.)","ig"),rt=function(xe,Oe,Je){var lt="0x"+Oe-65536;return lt!=lt||Je?Oe:lt<0?String.fromCharCode(lt+65536):String.fromCharCode(lt>>10|55296,1023&lt|56320)};try{it.apply(Ke=Mt.call(Ze.childNodes),Ze.childNodes)}catch(xe){it={apply:Ke.length?function(Oe,Je){dt.apply(Oe,Mt.call(Je))}:function(Oe,Je){for(var lt=Oe.length,yt=0;Oe[lt++]=Je[yt++];);Oe.length=lt-1}}}for(E in T=le.support={},j=le.isXML=function(xe){var Oe=xe&&(xe.ownerDocument||xe).documentElement;return!!Oe&&"HTML"!==Oe.nodeName},Ae=le.setDocument=function(xe){var Je,lt=xe?xe.ownerDocument||xe:Ze,yt=lt.defaultView;return lt!==Pe&&9===lt.nodeType&&lt.documentElement?(Pe=lt,De=lt.documentElement,ze=!j(lt),yt&&yt!==function(ut){try{return ut.top}catch(qe){}return null}(yt)&&(yt.addEventListener?yt.addEventListener("unload",function(){Ae()},!1):yt.attachEvent&&yt.attachEvent("onunload",function(){Ae()})),T.attributes=B(function(ut){return ut.className="i",!ut.getAttribute("className")}),T.getElementsByTagName=B(function(ut){return ut.appendChild(lt.createComment("")),!ut.getElementsByTagName("*").length}),T.getElementsByClassName=wt.test(lt.getElementsByClassName),T.getById=B(function(ut){return De.appendChild(ut).id=We,!lt.getElementsByName||!lt.getElementsByName(We).length}),T.getById?(v.find.ID=function(ut,qe){if(typeof qe.getElementById!==ye&&ze){var pt=qe.getElementById(ut);return pt&&pt.parentNode?[pt]:[]}},v.filter.ID=function(ut){var qe=ut.replace(Xe,rt);return function(pt){return pt.getAttribute("id")===qe}}):(delete v.find.ID,v.filter.ID=function(ut){var qe=ut.replace(Xe,rt);return function(pt){var vt=typeof pt.getAttributeNode!==ye&&pt.getAttributeNode("id");return vt&&vt.value===qe}}),v.find.TAG=T.getElementsByTagName?function(ut,qe){if(typeof qe.getElementsByTagName!==ye)return qe.getElementsByTagName(ut)}:function(ut,qe){var pt,vt=[],Zt=0,et=qe.getElementsByTagName(ut);if("*"===ut){for(;pt=et[Zt++];)1===pt.nodeType&&vt.push(pt);return vt}return et},v.find.CLASS=T.getElementsByClassName&&function(ut,qe){if(ze)return qe.getElementsByClassName(ut)},de=[],Ve=[],(T.qsa=wt.test(lt.querySelectorAll))&&(B(function(ut){ut.innerHTML="<select msallowcapture=''><option selected=''></option></select>",ut.querySelectorAll("[msallowcapture^='']").length&&Ve.push("[*^$]="+xt+"*(?:''|\"\")"),ut.querySelectorAll("[selected]").length||Ve.push("\\["+xt+"*(?:value|"+Ct+")"),ut.querySelectorAll(":checked").length||Ve.push(":checked")}),B(function(ut){var qe=lt.createElement("input");qe.setAttribute("type","hidden"),ut.appendChild(qe).setAttribute("name","D"),ut.querySelectorAll("[name=d]").length&&Ve.push("name"+xt+"*[*^$|!~]?="),ut.querySelectorAll(":enabled").length||Ve.push(":enabled",":disabled"),ut.querySelectorAll("*,:x"),Ve.push(",.*:")})),(T.matchesSelector=wt.test(we=De.matches||De.webkitMatchesSelector||De.mozMatchesSelector||De.oMatchesSelector||De.msMatchesSelector))&&B(function(ut){T.disconnectedMatch=we.call(ut,"div"),we.call(ut,"[s!='']:x"),de.push("!=",jn)}),Ve=Ve.length&&new RegExp(Ve.join("|")),de=de.length&&new RegExp(de.join("|")),Je=wt.test(De.compareDocumentPosition),Re=Je||wt.test(De.contains)?function(ut,qe){var pt=9===ut.nodeType?ut.documentElement:ut,vt=qe&&qe.parentNode;return ut===vt||!(!vt||1!==vt.nodeType||!(pt.contains?pt.contains(vt):ut.compareDocumentPosition&&16&ut.compareDocumentPosition(vt)))}:function(ut,qe){if(qe)for(;qe=qe.parentNode;)if(qe===ut)return!0;return!1},je=Je?function(ut,qe){if(ut===qe)return Ie=!0,0;var pt=!ut.compareDocumentPosition-!qe.compareDocumentPosition;return pt||(1&(pt=(ut.ownerDocument||ut)===(qe.ownerDocument||qe)?ut.compareDocumentPosition(qe):1)||!T.sortDetached&&qe.compareDocumentPosition(ut)===pt?ut===lt||ut.ownerDocument===Ze&&Re(Ze,ut)?-1:qe===lt||qe.ownerDocument===Ze&&Re(Ze,qe)?1:Ee?gt.call(Ee,ut)-gt.call(Ee,qe):0:4&pt?-1:1)}:function(ut,qe){if(ut===qe)return Ie=!0,0;var pt,vt=0,Zt=ut.parentNode,et=qe.parentNode,St=[ut],st=[qe];if(!Zt||!et)return ut===lt?-1:qe===lt?1:Zt?-1:et?1:Ee?gt.call(Ee,ut)-gt.call(Ee,qe):0;if(Zt===et)return I(ut,qe);for(pt=ut;pt=pt.parentNode;)St.unshift(pt);for(pt=qe;pt=pt.parentNode;)st.unshift(pt);for(;St[vt]===st[vt];)vt++;return vt?I(St[vt],st[vt]):St[vt]===Ze?-1:st[vt]===Ze?1:0},lt):Pe},le.matches=function(xe,Oe){return le(xe,null,null,Oe)},le.matchesSelector=function(xe,Oe){if((xe.ownerDocument||xe)!==Pe&&Ae(xe),Oe=Oe.replace(Ai,"='$1']"),T.matchesSelector&&ze&&(!de||!de.test(Oe))&&(!Ve||!Ve.test(Oe)))try{var Je=we.call(xe,Oe);if(Je||T.disconnectedMatch||xe.document&&11!==xe.document.nodeType)return Je}catch(lt){}return le(Oe,Pe,null,[xe]).length>0},le.contains=function(xe,Oe){return(xe.ownerDocument||xe)!==Pe&&Ae(xe),Re(xe,Oe)},le.attr=function(xe,Oe){(xe.ownerDocument||xe)!==Pe&&Ae(xe);var Je=v.attrHandle[Oe.toLowerCase()],lt=Je&&Fe.call(v.attrHandle,Oe.toLowerCase())?Je(xe,Oe,!ze):ht;return lt!==ht?lt:T.attributes||!ze?xe.getAttribute(Oe):(lt=xe.getAttributeNode(Oe))&&lt.specified?lt.value:null},le.error=function(xe){throw new Error("Syntax error, unrecognized expression: "+xe)},le.uniqueSort=function(xe){var Oe,Je=[],lt=0,yt=0;if(Ie=!T.detectDuplicates,Ee=!T.sortStable&&xe.slice(0),xe.sort(je),Ie){for(;Oe=xe[yt++];)Oe===xe[yt]&&(lt=Je.push(yt));for(;lt--;)xe.splice(Je[lt],1)}return Ee=null,xe},_=le.getText=function(xe){var Oe,Je="",lt=0,yt=xe.nodeType;if(yt){if(1===yt||9===yt||11===yt){if("string"==typeof xe.textContent)return xe.textContent;for(xe=xe.firstChild;xe;xe=xe.nextSibling)Je+=_(xe)}else if(3===yt||4===yt)return xe.nodeValue}else for(;Oe=xe[lt++];)Je+=_(Oe);return Je},(v=le.selectors={cacheLength:50,createPseudo:W,match:Ot,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(xe){return xe[1]=xe[1].replace(Xe,rt),xe[3]=(xe[3]||xe[4]||xe[5]||"").replace(Xe,rt),"~="===xe[2]&&(xe[3]=" "+xe[3]+" "),xe.slice(0,4)},CHILD:function(xe){return xe[1]=xe[1].toLowerCase(),"nth"===xe[1].slice(0,3)?(xe[3]||le.error(xe[0]),xe[4]=+(xe[4]?xe[5]+(xe[6]||1):2*("even"===xe[3]||"odd"===xe[3])),xe[5]=+(xe[7]+xe[8]||"odd"===xe[3])):xe[3]&&le.error(xe[0]),xe},PSEUDO:function(xe){var Oe,Je=!xe[6]&&xe[2];return Ot.CHILD.test(xe[0])?null:(xe[3]?xe[2]=xe[4]||xe[5]||"":Je&&gi.test(Je)&&(Oe=ie(Je,!0))&&(Oe=Je.indexOf(")",Je.length-Oe)-Je.length)&&(xe[0]=xe[0].slice(0,Oe),xe[2]=Je.slice(0,Oe)),xe.slice(0,3))}},filter:{TAG:function(xe){var Oe=xe.replace(Xe,rt).toLowerCase();return"*"===xe?function(){return!0}:function(Je){return Je.nodeName&&Je.nodeName.toLowerCase()===Oe}},CLASS:function(xe){var Oe=Vt[xe+" "];return Oe||(Oe=new RegExp("(^|"+xt+")"+xe+"("+xt+"|$)"))&&Vt(xe,function(Je){return Oe.test("string"==typeof Je.className&&Je.className||typeof Je.getAttribute!==ye&&Je.getAttribute("class")||"")})},ATTR:function(xe,Oe,Je){return function(lt){var yt=le.attr(lt,xe);return null==yt?"!="===Oe:!Oe||(yt+="","="===Oe?yt===Je:"!="===Oe?yt!==Je:"^="===Oe?Je&&0===yt.indexOf(Je):"*="===Oe?Je&&yt.indexOf(Je)>-1:"$="===Oe?Je&&yt.slice(-Je.length)===Je:"~="===Oe?(" "+yt+" ").indexOf(Je)>-1:"|="===Oe&&(yt===Je||yt.slice(0,Je.length+1)===Je+"-"))}},CHILD:function(xe,Oe,Je,lt,yt){var ut="nth"!==xe.slice(0,3),qe="last"!==xe.slice(-4),pt="of-type"===Oe;return 1===lt&&0===yt?function(vt){return!!vt.parentNode}:function(vt,Zt,et){var St,st,zt,jt,Jt,qt,en=ut!==qe?"nextSibling":"previousSibling",Cn=vt.parentNode,Fn=pt&&vt.nodeName.toLowerCase(),In=!et&&!pt;if(Cn){if(ut){for(;en;){for(zt=vt;zt=zt[en];)if(pt?zt.nodeName.toLowerCase()===Fn:1===zt.nodeType)return!1;qt=en="only"===xe&&!qt&&"nextSibling"}return!0}if(qt=[qe?Cn.firstChild:Cn.lastChild],qe&&In){for(jt=(St=(st=Cn[We]||(Cn[We]={}))[xe]||[])[0]===ft&&St[2],zt=(Jt=St[0]===ft&&St[1])&&Cn.childNodes[Jt];zt=++Jt&&zt&&zt[en]||(jt=Jt=0)||qt.pop();)if(1===zt.nodeType&&++jt&&zt===vt){st[xe]=[ft,Jt,jt];break}}else if(In&&(St=(vt[We]||(vt[We]={}))[xe])&&St[0]===ft)jt=St[1];else for(;(zt=++Jt&&zt&&zt[en]||(jt=Jt=0)||qt.pop())&&((pt?zt.nodeName.toLowerCase()!==Fn:1!==zt.nodeType)||!++jt||(In&&((zt[We]||(zt[We]={}))[xe]=[ft,jt]),zt!==vt)););return(jt-=yt)===lt||jt%lt==0&&jt/lt>=0}}},PSEUDO:function(xe,Oe){var Je,lt=v.pseudos[xe]||v.setFilters[xe.toLowerCase()]||le.error("unsupported pseudo: "+xe);return lt[We]?lt(Oe):lt.length>1?(Je=[xe,xe,"",Oe],v.setFilters.hasOwnProperty(xe.toLowerCase())?W(function(yt,ut){for(var qe,pt=lt(yt,Oe),vt=pt.length;vt--;)yt[qe=gt.call(yt,pt[vt])]=!(ut[qe]=pt[vt])}):function(yt){return lt(yt,0,Je)}):lt}},pseudos:{not:W(function(xe){var Oe=[],Je=[],lt=Y(xe.replace(Mi,"$1"));return lt[We]?W(function(yt,ut,qe,pt){for(var vt,Zt=lt(yt,null,pt,[]),et=yt.length;et--;)(vt=Zt[et])&&(yt[et]=!(ut[et]=vt))}):function(yt,ut,qe){return Oe[0]=yt,lt(Oe,null,qe,Je),!Je.pop()}}),has:W(function(xe){return function(Oe){return le(xe,Oe).length>0}}),contains:W(function(xe){return xe=xe.replace(Xe,rt),function(Oe){return(Oe.textContent||Oe.innerText||_(Oe)).indexOf(xe)>-1}}),lang:W(function(xe){return mi.test(xe||"")||le.error("unsupported lang: "+xe),xe=xe.replace(Xe,rt).toLowerCase(),function(Oe){var Je;do{if(Je=ze?Oe.lang:Oe.getAttribute("xml:lang")||Oe.getAttribute("lang"))return(Je=Je.toLowerCase())===xe||0===Je.indexOf(xe+"-")}while((Oe=Oe.parentNode)&&1===Oe.nodeType);return!1}}),target:function(xe){var Oe=window.location&&window.location.hash;return Oe&&Oe.slice(1)===xe.id},root:function(xe){return xe===De},focus:function(xe){return xe===Pe.activeElement&&(!Pe.hasFocus||Pe.hasFocus())&&!!(xe.type||xe.href||~xe.tabIndex)},enabled:function(xe){return!1===xe.disabled},disabled:function(xe){return!0===xe.disabled},checked:function(xe){var Oe=xe.nodeName.toLowerCase();return"input"===Oe&&!!xe.checked||"option"===Oe&&!!xe.selected},selected:function(xe){return!0===xe.selected},empty:function(xe){for(xe=xe.firstChild;xe;xe=xe.nextSibling)if(xe.nodeType<6)return!1;return!0},parent:function(xe){return!v.pseudos.empty(xe)},header:function(xe){return ot.test(xe.nodeName)},input:function(xe){return Xt.test(xe.nodeName)},button:function(xe){var Oe=xe.nodeName.toLowerCase();return"input"===Oe&&"button"===xe.type||"button"===Oe},text:function(xe){var Oe;return"input"===xe.nodeName.toLowerCase()&&"text"===xe.type&&(null==(Oe=xe.getAttribute("type"))||"text"===Oe.toLowerCase())},first:S(function(){return[0]}),last:S(function(xe,Oe){return[Oe-1]}),eq:S(function(xe,Oe,Je){return[Je<0?Je+Oe:Je]}),even:S(function(xe,Oe){for(var Je=0;Je<Oe;Je+=2)xe.push(Je);return xe}),odd:S(function(xe,Oe){for(var Je=1;Je<Oe;Je+=2)xe.push(Je);return xe}),lt:S(function(xe,Oe,Je){for(var lt=Je<0?Je+Oe:Je;--lt>=0;)xe.push(lt);return xe}),gt:S(function(xe,Oe,Je){for(var lt=Je<0?Je+Oe:Je;++lt<Oe;)xe.push(lt);return xe})}}).pseudos.nth=v.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})v.pseudos[E]=x(E);for(E in{submit:!0,reset:!0})v.pseudos[E]=w(E);return L.prototype=v.filters=v.pseudos,v.setFilters=new L,ie=le.tokenize=function(xe,Oe){var Je,lt,yt,ut,qe,pt,vt,Zt=Kt[xe+" "];if(Zt)return Oe?0:Zt.slice(0);for(qe=xe,pt=[],vt=v.preFilter;qe;){for(ut in Je&&!(lt=ei.exec(qe))||(lt&&(qe=qe.slice(lt[0].length)||qe),pt.push(yt=[])),Je=!1,(lt=ni.exec(qe))&&(Je=lt.shift(),yt.push({value:Je,type:lt[0].replace(Mi," ")}),qe=qe.slice(Je.length)),v.filter)!(lt=Ot[ut].exec(qe))||vt[ut]&&!(lt=vt[ut](lt))||(Je=lt.shift(),yt.push({value:Je,type:ut,matches:lt}),qe=qe.slice(Je.length));if(!Je)break}return Oe?qe.length:qe?le.error(xe):Kt(xe,pt).slice(0)},Y=le.compile=function(xe,Oe){var Je,lt=[],yt=[],ut=Gt[xe+" "];if(!ut){for(Oe||(Oe=ie(xe)),Je=Oe.length;Je--;)(ut=te(Oe[Je]))[We]?lt.push(ut):yt.push(ut);ut=Gt(xe,function(xe,Oe){var Je=Oe.length>0,lt=xe.length>0,yt=function(ut,qe,pt,vt,Zt){var et,St,st,zt=0,jt="0",Jt=ut&&[],qt=[],en=ge,Cn=ut||lt&&v.find.TAG("*",Zt),Fn=ft+=null==en?1:Math.random()||.1,In=Cn.length;for(Zt&&(ge=qe!==Pe&&qe);jt!==In&&null!=(et=Cn[jt]);jt++){if(lt&&et){for(St=0;st=xe[St++];)if(st(et,qe,pt)){vt.push(et);break}Zt&&(ft=Fn)}Je&&((et=!st&&et)&&zt--,ut&&Jt.push(et))}if(zt+=jt,Je&&jt!==zt){for(St=0;st=Oe[St++];)st(Jt,qt,qe,pt);if(ut){if(zt>0)for(;jt--;)Jt[jt]||qt[jt]||(qt[jt]=at.call(vt));qt=q(qt)}it.apply(vt,qt),Zt&&!ut&&qt.length>0&&zt+Oe.length>1&&le.uniqueSort(vt)}return Zt&&(ft=Fn,ge=en),Jt};return Je?W(yt):yt}(yt,lt)),ut.selector=xe}return ut},ae=le.select=function(xe,Oe,Je,lt){var yt,ut,qe,pt,vt,Zt="function"==typeof xe&&xe,et=!lt&&ie(xe=Zt.selector||xe);if(Je=Je||[],1===et.length){if((ut=et[0]=et[0].slice(0)).length>2&&"ID"===(qe=ut[0]).type&&T.getById&&9===Oe.nodeType&&ze&&v.relative[ut[1].type]){if(!(Oe=(v.find.ID(qe.matches[0].replace(Xe,rt),Oe)||[])[0]))return Je;Zt&&(Oe=Oe.parentNode),xe=xe.slice(ut.shift().value.length)}for(yt=Ot.needsContext.test(xe)?0:ut.length;yt--&&!v.relative[pt=(qe=ut[yt]).type];)if((vt=v.find[pt])&&(lt=vt(qe.matches[0].replace(Xe,rt),fn.test(ut[0].type)&&G(Oe.parentNode)||Oe))){if(ut.splice(yt,1),!(xe=lt.length&&R(ut)))return it.apply(Je,lt),Je;break}}return(Zt||Y(xe,et))(lt,Oe,!ze,Je,fn.test(xe)&&G(Oe.parentNode)||Oe),Je},T.sortStable=We.split("").sort(je).join("")===We,T.detectDuplicates=!!Ie,Ae(),T.sortDetached=B(function(xe){return 1&xe.compareDocumentPosition(Pe.createElement("div"))}),B(function(xe){return xe.innerHTML="<a href='#'></a>","#"===xe.firstChild.getAttribute("href")})||C("type|href|height|width",function(xe,Oe,Je){if(!Je)return xe.getAttribute(Oe,"type"===Oe.toLowerCase()?1:2)}),T.attributes&&B(function(xe){return xe.innerHTML="<input/>",xe.firstChild.setAttribute("value",""),""===xe.firstChild.getAttribute("value")})||C("value",function(xe,Oe,Je){if(!Je&&"input"===xe.nodeName.toLowerCase())return xe.defaultValue}),B(function(xe){return null==xe.getAttribute("disabled")})||C(Ct,function(xe,Oe,Je){var lt;if(!Je)return!0===xe[Oe]?Oe.toLowerCase():(lt=xe.getAttributeNode(Oe))&&lt.specified?lt.value:null}),le}),he(P,[],function(){function ee(L,R,F){var U,O;if(!L)return 0;if(F=F||L,L.length!==ht){for(U=0,O=L.length;U<O;U++)if(!1===R.call(F,L[U],U,L))return 0}else for(U in L)if(L.hasOwnProperty(U)&&!1===R.call(F,L[U],U,L))return 0;return 1}function x(L,R,F){var U,O;for(U=0,O=L.length;U<O;U++)if(R.call(F,L[U],U,L))return U;return-1}var G=Array.isArray||function(L){return"[object Array]"===Object.prototype.toString.call(L)};return{isArray:G,toArray:function(L){var F,U,R=L;if(!G(L))for(R=[],F=0,U=L.length;F<U;F++)R[F]=L[F];return R},each:ee,map:function(L,R){var F=[];return ee(L,function(U,O){F.push(R(U,O,L))}),F},filter:function(L,R){var F=[];return ee(L,function(U,O){R&&!R(U,O,L)||F.push(U)}),F},indexOf:function(L,R){var F,U;if(L)for(F=0,U=L.length;F<U;F++)if(L[F]===R)return F;return-1},reduce:function(L,R,F,U){var O=0;for(arguments.length<3&&(F=L[0]);O<L.length;O++)F=R.call(U,F,L[O],O);return F},findIndex:x,find:function(L,R,F){var U=x(L,R,F);return-1!==U?L[U]:ht},last:function(L){return L[L.length-1]}}}),he(Z,[H,P],function(le,ee){function W(O){return null===O||O===ht?"":(""+O).replace(U,"")}function B(O,q){return q?!("array"!=q||!ee.isArray(O))||typeof O==q:O!==ht}var U=/^\s*|\s*$/g;return{trim:W,isArray:ee.isArray,is:B,toArray:ee.toArray,makeMap:function(O,q,z){var te;for(q=q||",","string"==typeof(O=O||[])&&(O=O.split(q)),z=z||{},te=O.length;te--;)z[O[te]]={};return z},each:ee.each,map:ee.map,grep:ee.filter,inArray:ee.indexOf,hasOwn:function(O,q){return Object.prototype.hasOwnProperty.call(O,q)},extend:function(O,q){var z,te,N,T,E=arguments;for(z=1,te=E.length;z<te;z++)for(N in q=E[z])q.hasOwnProperty(N)&&(T=q[N])!==ht&&(O[N]=T);return O},create:function(O,q,z){var N,E,T,v,_,te=this,j=0;if(O=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(O),T=O[3].match(/(^|\.)(\w+)$/i)[2],!(E=te.createNS(O[3].replace(/\.\w+$/,""),z))[T]){if("static"==O[2])return E[T]=q,void(this.onCreate&&this.onCreate(O[2],O[3],E[T]));q[T]||(q[T]=function(){},j=1),E[T]=q[T],te.extend(E[T].prototype,q),O[5]&&(N=te.resolve(O[5]).prototype,v=O[5].match(/\.(\w+)$/i)[1],_=E[T],E[T]=j?function(){return N[v].apply(this,arguments)}:function(){return this.parent=N[v],_.apply(this,arguments)},E[T].prototype[T]=E[T],te.each(N,function(ie,Y){E[T].prototype[Y]=N[Y]}),te.each(q,function(ie,Y){N[Y]?E[T].prototype[Y]=function(){return this.parent=N[Y],ie.apply(this,arguments)}:Y!=T&&(E[T].prototype[Y]=ie)})),te.each(q.static,function(ie,Y){E[T][Y]=ie})}},walk:function S(O,q,z,te){te=te||this,O&&(z&&(O=O[z]),ee.each(O,function(N,E){return!1!==q.call(te,N,E,z)&&void S(N,q,z,te)}))},createNS:function(O,q){var z,te;for(q=q||window,O=O.split("."),z=0;z<O.length;z++)q[te=O[z]]||(q[te]={}),q=q[te];return q},resolve:function(O,q){var z,te;for(q=q||window,z=0,te=(O=O.split(".")).length;z<te&&(q=q[O[z]]);z++);return q},explode:function(O,q){return!O||B(O,"array")?O:ee.map(O.split(q||","),W)},_addCacheSuffix:function(O){var q=le.cacheSuffix;return q&&(O+=(-1===O.indexOf("?")?"?":"&")+q),O}}}),he(re,[m,y,Z,H],function(le,ee,W,B){function C(de){return void 0!==de}function I(de){return"string"==typeof de}function w(de,we){var Re,We,Ze;for(Ze=(we=we||v).createElement("div"),Re=we.createDocumentFragment(),Ze.innerHTML=de;We=Ze.firstChild;)Re.appendChild(We);return Re}function S(de,we,Re,We){var Ze;if(I(we))we=w(we,z(de[0]));else if(we.length&&!we.nodeType){if(we=R.makeArray(we),We)for(Ze=we.length-1;Ze>=0;Ze--)S(de,we[Ze],Re,We);else for(Ze=0;Ze<we.length;Ze++)S(de,we[Ze],Re,We);return de}if(we.nodeType)for(Ze=de.length;Ze--;)Re.call(de[Ze],we);return de}function G(de,we){return de&&we&&-1!==(" "+de.className+" ").indexOf(" "+we+" ")}function L(de,we,Re){var We,Ze;return we=R(we)[0],de.each(function(){var ft=this;Re&&We==ft.parentNode||(We=ft.parentNode,Ze=we.cloneNode(!1),ft.parentNode.insertBefore(Ze,ft)),Ze.appendChild(ft)}),de}function R(de,we){return new R.fn.init(de,we)}function U(de){return null===de||de===ae?"":(""+de).replace(Ve,"")}function O(de,we){var Re,We,Ze,Et;if(de)if(void 0===(Re=de.length)){for(We in de)if(de.hasOwnProperty(We)&&!1===we.call(Et=de[We],We,Et))break}else for(Ze=0;Ze<Re&&!1!==we.call(Et=de[Ze],Ze,Et);Ze++);return de}function q(de,we){var Re=[];return O(de,function(We,Ze){we(Ze,We)&&Re.push(Ze)}),Re}function z(de){return de?9==de.nodeType?de:de.ownerDocument:v}function te(de,we,Re){var We=[],Ze=de[we];for("string"!=typeof Re&&Re instanceof R&&(Re=Re[0]);Ze&&9!==Ze.nodeType&&(Re===ht||!(Ze===Re||"string"==typeof Re&&R(Ze).is(Re)));)1===Ze.nodeType&&We.push(Ze),Ze=Ze[we];return We}function N(de,we,Re,We){var Ze=[];for(We instanceof R&&(We=We[0]);de;de=de[we])if(!Re||de.nodeType===Re){if(We!==ht&&(de===We||"string"==typeof We&&R(de).is(We)))break;Ze.push(de)}return Ze}function E(de,we,Re){for(de=de[we];de;de=de[we])if(de.nodeType==Re)return de;return null}function T(de,we,Re){O(Re,function(We,Ze){de[We]=de[We]||{},de[We][we]=Ze})}var ae,v=document,_=Array.prototype.push,j=Array.prototype.slice,ie=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Y=le.Event,ge=W.makeMap("children,contents,next,prev"),Ee=W.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Ie=W.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Ae={for:"htmlFor",class:"className",readonly:"readOnly"},Pe={float:"cssFloat"},De={},ze={},Ve=/^\s*|\s*$/g;return R.fn=R.prototype={constructor:R,selector:"",context:null,length:0,init:function(de,we){var We,Ze,Re=this;if(!de)return Re;if(de.nodeType)return Re.context=Re[0]=de,Re.length=1,Re;if(we&&we.nodeType)Re.context=we;else{if(we)return R(de).attr(we);Re.context=we=document}if(I(de)){if(Re.selector=de,!(We="<"===de.charAt(0)&&">"===de.charAt(de.length-1)&&de.length>=3?[null,de,null]:ie.exec(de)))return R(we).find(de);if(We[1])for(Ze=w(de,z(we)).firstChild;Ze;)_.call(Re,Ze),Ze=Ze.nextSibling;else{if(!(Ze=z(we).getElementById(We[2])))return Re;if(Ze.id!==We[2])return Re.find(de);Re.length=1,Re[0]=Ze}}else this.add(de,!1);return Re},toArray:function(){return W.toArray(this)},add:function(de,we){var We,Ze,Re=this;if(I(de))return Re.add(R(de));if(!1!==we)for(We=R.unique(Re.toArray().concat(R.makeArray(de))),Re.length=We.length,Ze=0;Ze<We.length;Ze++)Re[Ze]=We[Ze];else _.apply(Re,R.makeArray(de));return Re},attr:function(de,we){var We,Re=this;if("object"==typeof de)O(de,function(Ze,ft){Re.attr(Ze,ft)});else{if(!C(we)){if(Re[0]&&1===Re[0].nodeType){if((We=De[de])&&We.get)return We.get(Re[0],de);if(Ie[de])return Re.prop(de)?de:ae;null===(we=Re[0].getAttribute(de,2))&&(we=ae)}return we}this.each(function(){var Ze;if(1===this.nodeType){if((Ze=De[de])&&Ze.set)return void Ze.set(this,we);null===we?this.removeAttribute(de,2):this.setAttribute(de,we,2)}})}return Re},removeAttr:function(de){return this.attr(de,null)},prop:function(de,we){var Re=this;if("object"==typeof(de=Ae[de]||de))O(de,function(We,Ze){Re.prop(We,Ze)});else{if(!C(we))return Re[0]&&Re[0].nodeType&&de in Re[0]?Re[0][de]:we;this.each(function(){1==this.nodeType&&(this[de]=we)})}return Re},css:function(de,we){function Re(Vt){return Vt.replace(/-(\D)/g,function(Kt,Gt){return Gt.toUpperCase()})}function We(Vt){return Vt.replace(/[A-Z]/g,function(Kt){return"-"+Kt})}var ft,Et,Ze=this;if("object"==typeof de)O(de,function(Vt,Kt){Ze.css(Vt,Kt)});else if(C(we))de=Re(de),"number"!=typeof we||Ee[de]||(we+="px"),Ze.each(function(){var Vt=this.style;if((Et=ze[de])&&Et.set)Et.set(this,we);else{try{this.style[Pe[de]||de]=we}catch(Kt){}null!==we&&""!==we||(Vt.removeProperty?Vt.removeProperty(We(de)):Vt.removeAttribute(de))}});else{if(ft=Ze[0],(Et=ze[de])&&Et.get)return Et.get(ft);if(ft.ownerDocument.defaultView)try{return ft.ownerDocument.defaultView.getComputedStyle(ft,null).getPropertyValue(We(de))}catch(Vt){return ae}else if(ft.currentStyle)return ft.currentStyle[Re(de)]}return Ze},remove:function(){for(var we,Re=this.length;Re--;)Y.clean(we=this[Re]),we.parentNode&&we.parentNode.removeChild(we);return this},empty:function(){for(var we,Re=this.length;Re--;)for(we=this[Re];we.firstChild;)we.removeChild(we.firstChild);return this},html:function(de){var Re,we=this;if(C(de)){Re=we.length;try{for(;Re--;)we[Re].innerHTML=de}catch(We){R(we[Re]).empty().append(de)}return we}return we[0]?we[0].innerHTML:""},text:function(de){var Re,we=this;if(C(de)){for(Re=we.length;Re--;)"innerText"in we[Re]?we[Re].innerText=de:we[0].textContent=de;return we}return we[0]?we[0].innerText||we[0].textContent:""},append:function(){return S(this,arguments,function(de){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(de)})},prepend:function(){return S(this,arguments,function(de){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(de,this.firstChild)},!0)},before:function(){var de=this;return de[0]&&de[0].parentNode?S(de,arguments,function(we){this.parentNode.insertBefore(we,this)}):de},after:function(){var de=this;return de[0]&&de[0].parentNode?S(de,arguments,function(we){this.parentNode.insertBefore(we,this.nextSibling)},!0):de},appendTo:function(de){return R(de).append(this),this},prependTo:function(de){return R(de).prepend(this),this},replaceWith:function(de){return this.before(de).remove()},wrap:function(de){return L(this,de)},wrapAll:function(de){return L(this,de,!0)},wrapInner:function(de){return this.each(function(){R(this).contents().wrapAll(de)}),this},unwrap:function(){return this.parent().each(function(){R(this).replaceWith(this.childNodes)})},clone:function(){var de=[];return this.each(function(){de.push(this.cloneNode(!0))}),R(de)},addClass:function(de){return this.toggleClass(de,!0)},removeClass:function(de){return this.toggleClass(de,!1)},toggleClass:function(de,we){var Re=this;return"string"!=typeof de||(-1!==de.indexOf(" ")?O(de.split(" "),function(){Re.toggleClass(this,we)}):Re.each(function(We,Ze){var ft,Et;(Et=G(Ze,de))!==we&&(ft=Ze.className,Et?Ze.className=U((" "+ft+" ").replace(" "+de+" "," ")):Ze.className+=ft?" "+de:de)})),Re},hasClass:function(de){return G(this[0],de)},each:function(de){return O(this,de)},on:function(de,we){return this.each(function(){Y.bind(this,de,we)})},off:function(de,we){return this.each(function(){Y.unbind(this,de,we)})},trigger:function(de){return this.each(function(){"object"==typeof de?Y.fire(this,de.type,de):Y.fire(this,de)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new R(j.apply(this,arguments))},eq:function(de){return-1===de?this.slice(de):this.slice(de,+de+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(de){var we,Re,We=[];for(we=0,Re=this.length;we<Re;we++)R.find(de,this[we],We);return R(We)},filter:function(de){return R("function"==typeof de?q(this.toArray(),function(we,Re){return de(Re,we)}):R.filter(de,this.toArray()))},closest:function(de){var we=[];return de instanceof R&&(de=de[0]),this.each(function(Re,We){for(;We;){if("string"==typeof de&&R(We).is(de)){we.push(We);break}if(We==de){we.push(We);break}We=We.parentNode}}),R(we)},offset:function(de){var we,Re,We,Et,Ze=0,ft=0;return de?this.css(de):((we=this[0])&&(We=(Re=we.ownerDocument).documentElement,we.getBoundingClientRect&&(Ze=(Et=we.getBoundingClientRect()).left+(We.scrollLeft||Re.body.scrollLeft)-We.clientLeft,ft=Et.top+(We.scrollTop||Re.body.scrollTop)-We.clientTop)),{left:Ze,top:ft})},push:_,sort:[].sort,splice:[].splice},W.extend(R,{extend:W.extend,makeArray:function(de){return function(de){return de&&de==de.window}(de)||de.nodeType?[de]:W.toArray(de)},inArray:function(de,we){var Re;if(we.indexOf)return we.indexOf(de);for(Re=we.length;Re--;)if(we[Re]===de)return Re;return-1},isArray:W.isArray,each:O,trim:U,grep:q,find:ee,expr:ee.selectors,unique:ee.uniqueSort,text:ee.getText,contains:ee.contains,filter:function(de,we,Re){var We=we.length;for(Re&&(de=":not("+de+")");We--;)1!=we[We].nodeType&&we.splice(We,1);return 1===we.length?R.find.matchesSelector(we[0],de)?[we[0]]:[]:R.find.matches(de,we)}}),O({parent:function(de){var we=de.parentNode;return we&&11!==we.nodeType?we:null},parents:function(de){return te(de,"parentNode")},next:function(de){return E(de,"nextSibling",1)},prev:function(de){return E(de,"previousSibling",1)},children:function(de){return N(de.firstChild,"nextSibling",1)},contents:function(de){return W.toArray(("iframe"===de.nodeName?de.contentDocument||de.contentWindow.document:de).childNodes)}},function(de,we){R.fn[de]=function(Re){var Ze=[];return this.each(function(){var ft=we.call(Ze,this,Re,Ze);ft&&(R.isArray(ft)?Ze.push.apply(Ze,ft):Ze.push(ft))}),this.length>1&&(ge[de]||(Ze=R.unique(Ze)),0===de.indexOf("parents")&&(Ze=Ze.reverse())),Ze=R(Ze),Re?Ze.filter(Re):Ze}}),O({parentsUntil:function(de,we){return te(de,"parentNode",we)},nextUntil:function(de,we){return N(de,"nextSibling",1,we).slice(1)},prevUntil:function(de,we){return N(de,"previousSibling",1,we).slice(1)}},function(de,we){R.fn[de]=function(Re,We){var ft=[];return this.each(function(){var Et=we.call(ft,this,Re,ft);Et&&(R.isArray(Et)?ft.push.apply(ft,Et):ft.push(Et))}),this.length>1&&(ft=R.unique(ft),0!==de.indexOf("parents")&&"prevUntil"!==de||(ft=ft.reverse())),ft=R(ft),We?ft.filter(We):ft}}),R.fn.is=function(de){return!!de&&this.filter(de).length>0},R.fn.init.prototype=R.fn,R.overrideDefaults=function(de){function we(We,Ze){return Re=Re||de(),0===arguments.length&&(We=Re.element),Ze||(Ze=Re.context),new we.fn.init(We,Ze)}var Re;return R.extend(we,this),we},B.ie&&B.ie<8&&(T(De,"get",{maxlength:function(de){var we=de.maxLength;return 2147483647===we?ae:we},size:function(de){var we=de.size;return 20===we?ae:we},class:function(de){return de.className},style:function(de){var we=de.style.cssText;return 0===we.length?ae:we}}),T(De,"set",{class:function(de,we){de.className=we},style:function(de,we){de.style.cssText=we}})),B.ie&&B.ie<9&&(Pe.float="styleFloat",T(ze,"set",{opacity:function(de,we){var Re=de.style;null===we||""===we?Re.removeAttribute("filter"):(Re.zoom=1,Re.filter="alpha(opacity="+100*we+")")}})),R.attrHooks=De,R.cssHooks=ze,R}),he(Q,[],function(){return function(le,ee){function W(U,O,q,z){function te(N){return(N=parseInt(N,10).toString(16)).length>1?N:"0"+N}return"#"+te(O)+te(q)+te(z)}var w,G,L,R,B=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,C=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,I=/\s*([^:]+):\s*([^;]+);?/g,x=/\s+$/,S={};for(le=le||{},ee&&(L=ee.getValidStyles(),R=ee.getInvalidStyles()),G="\\\" \\' \\; \\: ; : \ufeff".split(" "),w=0;w<G.length;w++)S[G[w]]="\ufeff"+w,S["\ufeff"+w]=G[w];return{toHex:function(U){return U.replace(B,W)},parse:function(U){function O(Ie,Ae,Pe){var De,ze,Ve,de;if((De=_[Ie+"-top"+Ae])&&(ze=_[Ie+"-right"+Ae])&&(Ve=_[Ie+"-bottom"+Ae])&&(de=_[Ie+"-left"+Ae])){var we=[De,ze,Ve,de];for(w=we.length-1;w--&&we[w]===we[w+1];);w>-1&&Pe||(_[Ie+Ae]=-1==w?we[0]:we.join(" "),delete _[Ie+"-top"+Ae],delete _[Ie+"-right"+Ae],delete _[Ie+"-bottom"+Ae],delete _[Ie+"-left"+Ae])}}function q(Ie){var Pe,Ae=_[Ie];if(Ae){for(Pe=(Ae=Ae.split(" ")).length;Pe--;)if(Ae[Pe]!==Ae[0])return!1;return _[Ie]=Ae[0],!0}}function te(Ie){return ae=!0,S[Ie]}function N(Ie,Ae){return ae&&(Ie=Ie.replace(/\uFEFF[0-9]/g,function(Pe){return S[Pe]})),Ae||(Ie=Ie.replace(/\\([\'\";:])/g,"$1")),Ie}function E(Ie){return String.fromCharCode(parseInt(Ie.slice(1),16))}function T(Ie){return Ie.replace(/\\[0-9a-f]+/gi,E)}function v(Ie,Ae,Pe,De,ze,Ve){if(ze=ze||Ve)return"'"+(ze=N(ze)).replace(/\'/g,"\\'")+"'";if(Ae=N(Ae||Pe||De),!le.allow_script_urls){var de=Ae.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(de)||!le.allow_svg_data_urls&&/^data:image\/svg/i.test(de))return""}return ge&&(Ae=ge.call(Ee,Ae,"style")),"url('"+Ae.replace(/\'/g,"\\'")+"')"}var j,ie,Y,ae,Ae,Pe,De,_={},ge=le.url_converter,Ee=le.url_converter_scope||this;if(U){for(U=(U=U.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,te).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Ie){return Ie.replace(/[;:]/g,te)});j=I.exec(U);)if(I.lastIndex=j.index+j[0].length,ie=j[1].replace(x,"").toLowerCase(),Y=j[2].replace(x,""),ie&&Y){if(ie=T(ie),Y=T(Y),-1!==ie.indexOf("\ufeff")||-1!==ie.indexOf('"')||!le.allow_script_urls&&("behavior"==ie||/expression\s*\(|\/\*|\*\//.test(Y)))continue;"font-weight"===ie&&"700"===Y?Y="bold":"color"!==ie&&"background-color"!==ie||(Y=Y.toLowerCase()),Y=(Y=Y.replace(B,W)).replace(C,v),_[ie]=ae?N(Y,!0):Y}O("border","",!0),O("border","-width"),O("border","-color"),O("border","-style"),O("padding",""),O("margin",""),"border",Pe="border-style",De="border-color",q(Ae="border-width")&&q(Pe)&&q(De)&&(_.border=_[Ae]+" "+_[Pe]+" "+_[De],delete _[Ae],delete _[Pe],delete _[De]),"medium none"===_.border&&delete _.border,"none"===_["border-image"]&&delete _["border-image"]}return _},serialize:function(U,O){function q(T){var v,_,j,ie;if(v=L[T])for(_=0,j=v.length;_<j;_++)(ie=U[T=v[_]])&&(te+=(te.length>0?" ":"")+T+": "+ie+";")}var N,E,T,_,te="";if(O&&L)q("*"),q(O);else for(N in U)!(E=U[N])||R&&(T=N,_=void 0,(_=R["*"])&&_[T]||(_=R[O])&&_[T])||(te+=(te.length>0?" ":"")+N+": "+E+";");return te}}}}),he($,[],function(){return function(le,ee){function W(I,x,w,S){var G,L;if(I){if(!S&&I[x])return I[x];if(I!=ee){if(G=I[w])return G;for(L=I.parentNode;L&&L!=ee;L=L.parentNode)if(G=L[w])return G}}}var C=le;this.current=function(){return C},this.next=function(I){return C=W(C,"firstChild","nextSibling",I)},this.prev=function(I){return C=W(C,"lastChild","previousSibling",I)},this.prev2=function(I){return C=function(I,x,w,S){var G,L,R;if(I){if(G=I.previousSibling,ee&&G===ee)return;if(G){if(!S)for(R=G[x];R;R=R[x])if(!R[x])return R;return G}if((L=I.parentNode)&&L!==ee)return L}}(C,"lastChild",0,I)}}}),he(fe,[Z],function(le){function ee(W){function B(){return de.createDocumentFragment()}function C(me,Fe){j(Ze,me,Fe)}function I(me,Fe){j(ft,me,Fe)}function x(me){C(me.parentNode,ye(me))}function G(me){I(me.parentNode,ye(me)+1)}function z(){return ie(Re)}function T(me,Fe){var Ke;if(3==me.nodeType||Fe<0)return me;for(Ke=me.firstChild;Ke&&Fe>0;)--Fe,Ke=Ke.nextSibling;return Ke||me}function _(me,Fe,Ke,at){var dt,it,Mt,gt,Ct,xt;if(me==Ke)return Fe==at?0:Fe<at?-1:1;for(dt=Ke;dt&&dt.parentNode!=me;)dt=dt.parentNode;if(dt){for(it=0,Mt=me.firstChild;Mt!=dt&&it<Fe;)it++,Mt=Mt.nextSibling;return Fe<=it?-1:1}for(dt=me;dt&&dt.parentNode!=Ke;)dt=dt.parentNode;if(dt){for(it=0,Mt=Ke.firstChild;Mt!=dt&&it<at;)it++,Mt=Mt.nextSibling;return it<at?-1:1}for(gt=W.findCommonAncestor(me,Ke),Ct=me;Ct&&Ct.parentNode!=gt;)Ct=Ct.parentNode;for(Ct||(Ct=gt),xt=Ke;xt&&xt.parentNode!=gt;)xt=xt.parentNode;if(xt||(xt=gt),Ct==xt)return 0;for(Mt=gt.firstChild;Mt;){if(Mt==Ct)return-1;if(Mt==xt)return 1;Mt=Mt.nextSibling}}function j(me,Fe,Ke){var at,dt;for(me?(Ve[Vt]=Fe,Ve[Et]=Ke):(Ve[Kt]=Fe,Ve[Gt]=Ke),at=Ve[Kt];at.parentNode;)at=at.parentNode;for(dt=Ve[Vt];dt.parentNode;)dt=dt.parentNode;dt==at?_(Ve[Vt],Ve[Et],Ve[Kt],Ve[Gt])>0&&Ve.collapse(me):Ve.collapse(me),Ve.collapsed=Ve[Vt]==Ve[Kt]&&Ve[Et]==Ve[Gt],Ve.commonAncestorContainer=W.findCommonAncestor(Ve[Vt],Ve[Kt])}function ie(me){var Fe,dt,it,Mt,gt,Ct,xt,Ke=0,at=0;if(Ve[Vt]==Ve[Kt])return function(me){var Fe,at,dt,it,Mt,gt,Ct,xt;if(me!=We&&(Fe=B()),Ve[Et]==Ve[Gt])return Fe;if(3==Ve[Vt].nodeType)return at=Ve[Vt].nodeValue.substring(Ve[Et],Ve[Gt]),me!=Re&&(dt=Ve[Vt],xt=Ve[Gt]-Ve[Et],0===(Ct=Ve[Et])&&xt>=dt.nodeValue.length-1?dt.parentNode.removeChild(dt):dt.deleteData(Ct,xt),Ve.collapse(Ze)),me==We?void 0:(at.length>0&&Fe.appendChild(de.createTextNode(at)),Fe);for(dt=T(Ve[Vt],Ve[Et]),it=Ve[Gt]-Ve[Et];dt&&it>0;)Mt=dt.nextSibling,gt=De(dt,me),Fe&&Fe.appendChild(gt),--it,dt=Mt;return me!=Re&&Ve.collapse(Ze),Fe}(me);for(dt=(Fe=Ve[Kt]).parentNode;dt;Fe=dt,dt=dt.parentNode){if(dt==Ve[Vt])return ae(Fe,me);++Ke}for(dt=(Fe=Ve[Vt]).parentNode;dt;Fe=dt,dt=dt.parentNode){if(dt==Ve[Kt])return ge(Fe,me);++at}for(it=at-Ke,Mt=Ve[Vt];it>0;)Mt=Mt.parentNode,it--;for(gt=Ve[Kt];it<0;)gt=gt.parentNode,it++;for(Ct=Mt.parentNode,xt=gt.parentNode;Ct!=xt;Ct=Ct.parentNode,xt=xt.parentNode)Mt=Ct,gt=xt;return function(me,Fe,Ke){var at,dt,it,gt,Ct,xt;for(Ke!=We&&(dt=B()),at=Ae(me,Ke),dt&&dt.appendChild(at),it=ye(me),gt=ye(Fe)-++it,Ct=me.nextSibling;gt>0;)xt=Ct.nextSibling,at=De(Ct,Ke),dt&&dt.appendChild(at),Ct=xt,--gt;return at=Ie(Fe,Ke),dt&&dt.appendChild(at),Ke!=Re&&(Ve.setStartAfter(me),Ve.collapse(Ze)),dt}(Mt,gt,me)}function ae(me,Fe){var Ke,at,it,Mt,gt;if(Fe!=We&&(Ke=B()),at=Ie(me,Fe),Ke&&Ke.appendChild(at),(it=ye(me)-Ve[Et])<=0)return Fe!=Re&&(Ve.setEndBefore(me),Ve.collapse(ft)),Ke;for(at=me.previousSibling;it>0;)Mt=at.previousSibling,gt=De(at,Fe),Ke&&Ke.insertBefore(gt,Ke.firstChild),--it,at=Mt;return Fe!=Re&&(Ve.setEndBefore(me),Ve.collapse(ft)),Ke}function ge(me,Fe){var Ke,at,dt,it,Mt,gt;for(Fe!=We&&(Ke=B()),dt=Ae(me,Fe),Ke&&Ke.appendChild(dt),at=ye(me),++at,it=Ve[Gt]-at,dt=me.nextSibling;dt&&it>0;)Mt=dt.nextSibling,gt=De(dt,Fe),Ke&&Ke.appendChild(gt),--it,dt=Mt;return Fe!=Re&&(Ve.setStartAfter(me),Ve.collapse(Ze)),Ke}function Ie(me,Fe){var at,dt,it,Mt,gt,Ke=T(Ve[Kt],Ve[Gt]-1),Ct=Ke!=Ve[Kt];if(Ke==me)return Pe(Ke,Ct,ft,Fe);for(dt=Pe(at=Ke.parentNode,ft,ft,Fe);at;){for(;Ke;)it=Ke.previousSibling,Mt=Pe(Ke,Ct,ft,Fe),Fe!=We&&dt.insertBefore(Mt,dt.firstChild),Ct=Ze,Ke=it;if(at==me)return dt;Ke=at.previousSibling,gt=Pe(at=at.parentNode,ft,ft,Fe),Fe!=We&&gt.appendChild(dt),dt=gt}}function Ae(me,Fe){var dt,it,Mt,gt,Ct,Ke=T(Ve[Vt],Ve[Et]),at=Ke!=Ve[Vt];if(Ke==me)return Pe(Ke,at,Ze,Fe);for(it=Pe(dt=Ke.parentNode,ft,Ze,Fe);dt;){for(;Ke;)Mt=Ke.nextSibling,gt=Pe(Ke,at,Ze,Fe),Fe!=We&&it.appendChild(gt),at=Ze,Ke=Mt;if(dt==me)return it;Ke=dt.nextSibling,Ct=Pe(dt=dt.parentNode,ft,Ze,Fe),Fe!=We&&Ct.appendChild(it),it=Ct}}function Pe(me,Fe,Ke,at){var dt,it,Mt,gt,Ct;return Fe?De(me,at):3==me.nodeType?(dt=me.nodeValue,Ke?(it=dt.substring(gt=Ve[Et]),Mt=dt.substring(0,gt)):(it=dt.substring(0,gt=Ve[Gt]),Mt=dt.substring(gt)),at!=Re&&(me.nodeValue=Mt),at==We?void 0:((Ct=W.clone(me,ft)).nodeValue=it,Ct)):at!=We?W.clone(me,ft):void 0}function De(me,Fe){return Fe!=We?Fe==Re?W.clone(me,Ze):me:void me.parentNode.removeChild(me)}var Ve=this,de=W.doc,Re=1,We=2,Ze=!0,ft=!1,Et="startOffset",Vt="startContainer",Kt="endContainer",Gt="endOffset",je=le.extend,ye=W.nodeIndex;return je(Ve,{startContainer:de,startOffset:0,endContainer:de,endOffset:0,collapsed:Ze,commonAncestorContainer:de,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:C,setEnd:I,setStartBefore:x,setStartAfter:function(me){C(me.parentNode,ye(me)+1)},setEndBefore:function(me){I(me.parentNode,ye(me))},setEndAfter:G,collapse:function(me){me?(Ve[Kt]=Ve[Vt],Ve[Gt]=Ve[Et]):(Ve[Vt]=Ve[Kt],Ve[Et]=Ve[Gt]),Ve.collapsed=Ze},selectNode:function(me){x(me),G(me)},selectNodeContents:function(me){C(me,0),I(me,1===me.nodeType?me.childNodes.length:me.nodeValue.length)},compareBoundaryPoints:function(me,Fe){var Ke=Ve[Vt],at=Ve[Et],dt=Ve[Kt],it=Ve[Gt],Mt=Fe.startContainer,gt=Fe.startOffset,Ct=Fe.endContainer,xt=Fe.endOffset;return 0===me?_(Ke,at,Mt,gt):1===me?_(dt,it,Mt,gt):2===me?_(dt,it,Ct,xt):3===me?_(Ke,at,Ct,xt):void 0},deleteContents:function(){ie(We)},extractContents:function(){return ie(0)},cloneContents:z,insertNode:function(me){var at,dt,Fe=this[Vt],Ke=this[Et];3!==Fe.nodeType&&4!==Fe.nodeType||!Fe.nodeValue?(Fe.childNodes.length>0&&(dt=Fe.childNodes[Ke]),dt?Fe.insertBefore(me,dt):3==Fe.nodeType?W.insertAfter(me,Fe):Fe.appendChild(me)):Ke?Ke>=Fe.nodeValue.length?W.insertAfter(me,Fe):(at=Fe.splitText(Ke),Fe.parentNode.insertBefore(me,at)):Fe.parentNode.insertBefore(me,Fe)},surroundContents:function(me){var Fe=Ve.extractContents();Ve.insertNode(me),me.appendChild(Fe),Ve.selectNode(me)},cloneRange:function(){return je(new ee(W),{startContainer:Ve[Vt],startOffset:Ve[Et],endContainer:Ve[Kt],endOffset:Ve[Gt],collapsed:Ve.collapsed,commonAncestorContainer:Ve.commonAncestorContainer})},toStringIE:function(){return W.create("body",null,z()).outerText}}),Ve}return ee.prototype.toString=function(){return this.toStringIE()},ee}),he(pe,[Z],function(le){function W(U,O){var q,z,te,N={};if(U){for(U=U.split(","),O=O||10,q=0;q<U.length;q+=2)z=String.fromCharCode(parseInt(U[q],O)),I[z]||(N[z]=te="&"+U[q+1]+";",N[te]=z);return N}}var C,I,x,B=le.makeMap,w=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,S=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,G=/[<>&\"\']/g,L=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,R={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};I={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},x={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},C=W("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var F={encodeRaw:function(U,O){return U.replace(O?w:S,function(q){return I[q]||q})},encodeAllRaw:function(U){return(""+U).replace(G,function(O){return I[O]||O})},encodeNumeric:function(U,O){return U.replace(O?w:S,function(q){return q.length>1?"&#"+(1024*(q.charCodeAt(0)-55296)+(q.charCodeAt(1)-56320)+65536)+";":I[q]||"&#"+q.charCodeAt(0)+";"})},encodeNamed:function(U,O,q){return q=q||C,U.replace(O?w:S,function(z){return I[z]||q[z]||z})},getEncodeFunc:function(U,O){return O=W(O)||C,(U=B(U.replace(/\+/g,","))).named&&U.numeric?function(te,N){return te.replace(N?w:S,function(E){return I[E]||O[E]||"&#"+E.charCodeAt(0)+";"||E})}:U.named?O?function(te,N){return F.encodeNamed(te,N,O)}:F.encodeNamed:U.numeric?F.encodeNumeric:F.encodeRaw},decode:function(U){return U.replace(L,function(O,q){return q?(q="x"===q.charAt(0).toLowerCase()?parseInt(q.substr(1),16):parseInt(q,10))>65535?(q-=65536,String.fromCharCode(55296+(q>>10),56320+(1023&q))):R[q]||String.fromCharCode(q):x[O]||C[O]||function(U){var O;return(O=document.createElement("div")).innerHTML=U,O.textContent||O.innerText||U}(O)})}};return F}),he(Ce,[Z,M],function(le,ee){return function(W,B){function C(G){W.getElementsByTagName("head")[0].appendChild(G)}var S,x=0,w={};S=(B=B||{}).maxLoadTime||5e3,this.load=function(G,L,R){function F(){for(var _=v.passed,j=_.length;j--;)_[j]();v.status=2,v.passed=[],v.failed=[]}function U(){for(var _=v.failed,j=_.length;j--;)_[j]();v.status=3,v.passed=[],v.failed=[]}function q(_,j){_()||((new Date).getTime()-T<S?ee.setTimeout(j):U())}function z(){q(function(){for(var j,Y,_=W.styleSheets,ie=_.length;ie--;)if((Y=(j=_[ie]).ownerNode?j.ownerNode:j.owningElement)&&Y.id===N.id)return F(),!0},z)}var N,E,T,v,_;if(G=le._addCacheSuffix(G),w[G]?v=w[G]:w[G]=v={passed:[],failed:[]},L&&v.passed.push(L),R&&v.failed.push(R),1!=v.status){if(2==v.status)return void F();if(3==v.status)return void U();if(v.status=1,(N=W.createElement("link")).rel="stylesheet",N.type="text/css",N.id="u"+x++,N.async=!1,N.defer=!1,T=(new Date).getTime(),!("onload"in N)||(_=navigator.userAgent.match(/WebKit\/(\d*)/))&&_[1]<536){if(navigator.userAgent.indexOf("Firefox")>0)return(E=W.createElement("style")).textContent='@import "'+G+'"',function te(){q(function(){try{var _=E.sheet.cssRules;return F(),!!_}catch(j){}},te)}(),void C(E);z()}else N.onload=z,N.onerror=U;C(N),N.href=G}}}}),he(ue,[y,re,Q,m,$,fe,pe,H,Z,Ce],function(le,ee,W,B,C,I,x,w,S,G){function R(v,_){var j=_.attr("style");(j=v.serializeStyle(v.parseStyle(j),_[0].nodeName))||(j=null),_.attr("data-mce-style",j)}function F(v,_){var ie,Y,j=0;if(v)for(ie=v.nodeType,v=v.previousSibling;v;v=v.previousSibling)Y=v.nodeType,(!_||3!=Y||Y!=ie&&v.nodeValue.length)&&(j++,ie=Y);return j}function U(v,_){var ie,j=this;j.doc=v,j.win=window,j.files={},j.counter=0,j.stdMode=!N||v.documentMode>=8,j.boxModel=!N||"CSS1Compat"==v.compatMode||j.stdMode,j.styleSheetLoader=new G(v),j.boundEvents=[],j.settings=_=_||{},j.schema=_.schema,j.styles=new W({url_converter:_.url_converter,url_converter_scope:_.url_converter_scope},_.schema),j.fixDoc(v),j.events=_.ownEvents?new B(_.proxy):B.Event,j.attrHooks=function(v,_){var j={},ie=_.keep_values;return j={style:{set:function(ae,ge){return null!==ge&&"object"==typeof ge?void ae.css(ge):(ie&&ae.attr("data-mce-style",ge),void ae.attr("style",ge))},get:function(ae){var ge=ae.attr("data-mce-style")||ae.attr("style");return v.serializeStyle(v.parseStyle(ge),ae[0].nodeName)}}},ie&&(j.href=j.src={set:function(ae,ge,Ee){_.url_converter&&(ge=_.url_converter.call(_.url_converter_scope||v,ge,Ee,ae[0])),ae.attr("data-mce-"+Ee,ge).attr(Ee,ge)},get:function(ae,ge){return ae.attr("data-mce-"+ge)||ae.attr(ge)}}),j}(j,_),ie=_.schema?_.schema.getBlockElements():{},j.$=ee.overrideDefaults(function(){return{context:v,element:j.getRoot()}}),j.isBlock=function(Y){if(!Y)return!1;var ae=Y.nodeType;return ae?!(1!==ae||!ie[Y.nodeName]):!!ie[Y]}}var O=S.each,q=S.is,z=S.grep,te=S.trim,N=w.ie,E=/^([a-z0-9],?)+$/i,T=/^[ \t\r\n]*$/;return U.prototype={$$:function(v){return"string"==typeof v&&(v=this.get(v)),this.$(v)},root:null,fixDoc:function(v){var j,_=this.settings;if(N&&_.schema)for(j in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(ie){v.createElement(ie)}),_.schema.getCustomElements())v.createElement(j)},clone:function(v,_){var ie,j=this;return!N||1!==v.nodeType||_?v.cloneNode(_):_?ie.firstChild:(ie=j.doc.createElement(v.nodeName),O(j.getAttribs(v),function(ae){j.setAttrib(ie,ae.nodeName,j.getAttrib(v,ae.nodeName))}),ie)},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(v){var _,j;return _=(v=v||this.win).document,j=this.boxModel?_.documentElement:_.body,{x:v.pageXOffset||j.scrollLeft,y:v.pageYOffset||j.scrollTop,w:v.innerWidth||j.clientWidth,h:v.innerHeight||j.clientHeight}},getRect:function(v){var j,ie,_=this;return v=_.get(v),j=_.getPos(v),ie=_.getSize(v),{x:j.x,y:j.y,w:ie.w,h:ie.h}},getSize:function(v){var j,ie,_=this;return v=_.get(v),j=_.getStyle(v,"width"),ie=_.getStyle(v,"height"),-1===j.indexOf("px")&&(j=0),-1===ie.indexOf("px")&&(ie=0),{w:parseInt(j,10)||v.offsetWidth||v.clientWidth,h:parseInt(ie,10)||v.offsetHeight||v.clientHeight}},getParent:function(v,_,j){return this.getParents(v,_,j,!1)},getParents:function(v,_,j,ie){var ae,Y=this,ge=[];for(v=Y.get(v),ie=ie===ht,j=j||("BODY"!=Y.getRoot().nodeName?Y.getRoot().parentNode:null),q(_,"string")&&(ae=_,_="*"===_?function(Ee){return 1==Ee.nodeType}:function(Ee){return Y.is(Ee,ae)});v&&v!=j&&v.nodeType&&9!==v.nodeType;){if(!_||_(v)){if(!ie)return v;ge.push(v)}v=v.parentNode}return ie?ge:null},get:function(v){var _;return v&&this.doc&&"string"==typeof v&&(_=v,(v=this.doc.getElementById(v))&&v.id!==_)?this.doc.getElementsByName(_)[1]:v},getNext:function(v,_){return this._findSib(v,_,"nextSibling")},getPrev:function(v,_){return this._findSib(v,_,"previousSibling")},select:function(v,_){var j=this;return le(v,j.get(_)||j.settings.root_element||j.doc,[])},is:function(v,_){var j;if(v.length===ht){if("*"===_)return 1==v.nodeType;if(E.test(_)){for(_=_.toLowerCase().split(/,/),v=v.nodeName.toLowerCase(),j=_.length-1;j>=0;j--)if(_[j]==v)return!0;return!1}}if(v.nodeType&&1!=v.nodeType)return!1;var ie=v.nodeType?[v]:v;return le(_,ie[0].ownerDocument||ie[0],null,ie).length>0},add:function(v,_,j,ie,Y){var ae=this;return this.run(v,function(ge){var Ee;return Ee=q(_,"string")?ae.doc.createElement(_):_,ae.setAttribs(Ee,j),ie&&(ie.nodeType?Ee.appendChild(ie):ae.setHTML(Ee,ie)),Y?Ee:ge.appendChild(Ee)})},create:function(v,_,j){return this.add(this.doc.createElement(v),v,_,j,1)},createHTML:function(v,_,j){var Y,ie="";for(Y in ie+="<"+v,_)_.hasOwnProperty(Y)&&null!=_[Y]&&(ie+=" "+Y+'="'+this.encode(_[Y])+'"');return void 0!==j?ie+">"+j+"</"+v+">":ie+" />"},createFragment:function(v){var _,j,Y,ie=this.doc;for(Y=ie.createElement("div"),_=ie.createDocumentFragment(),v&&(Y.innerHTML=v);j=Y.firstChild;)_.appendChild(j);return _},remove:function(v,_){return v=this.$$(v),_?v.each(function(){for(var j;j=this.firstChild;)3==j.nodeType&&0===j.data.length?this.removeChild(j):this.parentNode.insertBefore(j,this)}).remove():v.remove(),v.length>1?v.toArray():v[0]},setStyle:function(v,_,j){v=this.$$(v).css(_,j),this.settings.update_styles&&R(this,v)},getStyle:function(v,_,j){return v=this.$$(v),j?v.css(_):("float"==(_=_.replace(/-(\D)/g,function(ie,Y){return Y.toUpperCase()}))&&(_=w.ie&&w.ie<12?"styleFloat":"cssFloat"),v[0]&&v[0].style?v[0].style[_]:ht)},setStyles:function(v,_){v=this.$$(v).css(_),this.settings.update_styles&&R(this,v)},removeAllAttribs:function(v){return this.run(v,function(_){var j,ie=_.attributes;for(j=ie.length-1;j>=0;j--)_.removeAttributeNode(ie.item(j))})},setAttrib:function(v,_,j){var Y,ae,ge=this.settings;""===j&&(j=null),Y=(v=this.$$(v)).attr(_),v.length&&((ae=this.attrHooks[_])&&ae.set?ae.set(v,j,_):v.attr(_,j),Y!=j&&ge.onSetAttrib&&ge.onSetAttrib({attrElm:v,attrName:_,attrValue:j}))},setAttribs:function(v,_){var j=this;j.$$(v).each(function(ie,Y){O(_,function(ae,ge){j.setAttrib(Y,ge,ae)})})},getAttrib:function(v,_,j){var Y,ae;return(v=this.$$(v)).length&&(ae=(Y=this.attrHooks[_])&&Y.get?Y.get(v,_):v.attr(_)),void 0===ae&&(ae=j||""),ae},getPos:function(v,_){var ae,Ie,j=this,ie=0,Y=0,ge=j.doc,Ee=ge.body;if(_=_||Ee,v=j.get(v)){if(_===Ee&&v.getBoundingClientRect&&"static"===ee(Ee).css("position"))return{x:ie=(Ie=v.getBoundingClientRect()).left+(ge.documentElement.scrollLeft||Ee.scrollLeft)-(_=j.boxModel?ge.documentElement:Ee).clientLeft,y:Y=Ie.top+(ge.documentElement.scrollTop||Ee.scrollTop)-_.clientTop};for(ae=v;ae&&ae!=_&&ae.nodeType;)ie+=ae.offsetLeft||0,Y+=ae.offsetTop||0,ae=ae.offsetParent;for(ae=v.parentNode;ae&&ae!=_&&ae.nodeType;)ie-=ae.scrollLeft||0,Y-=ae.scrollTop||0,ae=ae.parentNode}return{x:ie,y:Y}},parseStyle:function(v){return this.styles.parse(v)},serializeStyle:function(v,_){return this.styles.serialize(v,_)},addStyle:function(v){var ie,Y,j=this.doc;if(this!==U.DOM&&j===document){var ae=U.DOM.addedStyles;if((ae=ae||[])[v])return;ae[v]=!0,U.DOM.addedStyles=ae}(Y=j.getElementById("mceDefaultStyles"))||((Y=j.createElement("style")).id="mceDefaultStyles",Y.type="text/css",(ie=j.getElementsByTagName("head")[0]).firstChild?ie.insertBefore(Y,ie.firstChild):ie.appendChild(Y)),Y.styleSheet?Y.styleSheet.cssText+=v:Y.appendChild(j.createTextNode(v))},loadCSS:function(v){var ie,_=this,j=_.doc;return _!==U.DOM&&j===document?void U.DOM.loadCSS(v):(v||(v=""),ie=j.getElementsByTagName("head")[0],void O(v.split(","),function(Y){var ae;Y=S._addCacheSuffix(Y),_.files[Y]||(_.files[Y]=!0,ae=_.create("link",{rel:"stylesheet",href:Y}),N&&j.documentMode&&j.recalc&&(ae.onload=function(){j.recalc&&j.recalc(),ae.onload=null}),ie.appendChild(ae))}))},addClass:function(v,_){this.$$(v).addClass(_)},removeClass:function(v,_){this.toggleClass(v,_,!1)},hasClass:function(v,_){return this.$$(v).hasClass(_)},toggleClass:function(v,_,j){this.$$(v).toggleClass(_,j).each(function(){""===this.className&&ee(this).attr("class",null)})},show:function(v){this.$$(v).show()},hide:function(v){this.$$(v).hide()},isHidden:function(v){return"none"==this.$$(v).css("display")},uniqueId:function(v){return(v||"mce_")+this.counter++},setHTML:function(v,_){v=this.$$(v),N?v.each(function(j,ie){if(!1!==ie.canHaveHTML){for(;ie.firstChild;)ie.removeChild(ie.firstChild);try{ie.innerHTML="<br>"+_,ie.removeChild(ie.firstChild)}catch(Y){ee("<div></div>").html("<br>"+_).contents().slice(1).appendTo(ie)}return _}}):v.html(_)},getOuterHTML:function(v){return 1==(v=this.get(v)).nodeType&&"outerHTML"in v?v.outerHTML:ee("<div></div>").append(ee(v).clone()).html()},setOuterHTML:function(v,_){var j=this;j.$$(v).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=_)}catch(ie){}j.remove(ee(this).html(_),!0)})},decode:x.decode,encode:x.encodeAllRaw,insertAfter:function(v,_){return _=this.get(_),this.run(v,function(j){var ie,Y;return ie=_.parentNode,(Y=_.nextSibling)?ie.insertBefore(j,Y):ie.appendChild(j),j})},replace:function(v,_,j){return this.run(_,function(Y){return q(Y,"array")&&(v=v.cloneNode(!0)),j&&O(z(Y.childNodes),function(ae){v.appendChild(ae)}),Y.parentNode.replaceChild(v,Y)})},rename:function(v,_){var ie,j=this;return v.nodeName!=_.toUpperCase()&&(ie=j.create(_),O(j.getAttribs(v),function(Y){j.setAttrib(ie,Y.nodeName,j.getAttrib(v,Y.nodeName))}),j.replace(ie,v,1)),ie||v},findCommonAncestor:function(v,_){for(var ie,j=v;j;){for(ie=_;ie&&j!=ie;)ie=ie.parentNode;if(j==ie)break;j=j.parentNode}return!j&&v.ownerDocument?v.ownerDocument.documentElement:j},toHex:function(v){return this.styles.toHex(S.trim(v))},run:function(v,_,j){var Y,ie=this;return"string"==typeof v&&(v=ie.get(v)),!!v&&(j=j||this,v.nodeType||!v.length&&0!==v.length?_.call(j,v):(Y=[],O(v,function(ae,ge){ae&&("string"==typeof ae&&(ae=ie.get(ae)),Y.push(_.call(j,ae,ge)))}),Y))},getAttribs:function(v){var _;return(v=this.get(v))?N?(_=[],"OBJECT"==v.nodeName?v.attributes:("OPTION"===v.nodeName&&this.getAttrib(v,"selected")&&_.push({specified:1,nodeName:"selected"}),v.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(ie){_.push({specified:1,nodeName:ie})}),_)):v.attributes:[]},isEmpty:function(v,_){var ie,Y,ae,ge,Ee,Ie,j=this,Ae=0;if(v=v.firstChild){Ee=new C(v,v.parentNode),_=_||(j.schema?j.schema.getNonEmptyElements():null),ge=j.schema?j.schema.getWhiteSpaceElements():{};do{if(1===(ae=v.nodeType)){var Pe=v.getAttribute("data-mce-bogus");if(Pe){v=Ee.next("all"===Pe);continue}if(Ie=v.nodeName.toLowerCase(),_&&_[Ie]){if("br"===Ie){Ae++,v=Ee.next();continue}return!1}for(ie=(Y=j.getAttribs(v)).length;ie--;)if("name"===(Ie=Y[ie].nodeName)||"data-mce-bookmark"===Ie)return!1}if(8==ae||3===ae&&!T.test(v.nodeValue)||3===ae&&v.parentNode&&ge[v.parentNode.nodeName]&&T.test(v.nodeValue))return!1;v=Ee.next()}while(v)}return Ae<=1},createRng:function(){var v=this.doc;return v.createRange?v.createRange():new I(this)},nodeIndex:F,split:function(v,_,j){function ie(Ae){var De,we,ze=Ae.childNodes,Ve=Ae.nodeType;if(1!=Ve||"bookmark"!=Ae.getAttribute("data-mce-type")){for(De=ze.length-1;De>=0;De--)ie(ze[De]);if(9!=Ve){if(3==Ve&&Ae.nodeValue.length>0){var de=te(Ae.nodeValue).length;if(!Y.isBlock(Ae.parentNode)||de>0||0===de&&(we=Ae).previousSibling&&"SPAN"==we.previousSibling.nodeName&&we.nextSibling&&"SPAN"==we.nextSibling.nodeName)return}else if(1==Ve&&(1==(ze=Ae.childNodes).length&&ze[0]&&1==ze[0].nodeType&&"bookmark"==ze[0].getAttribute("data-mce-type")&&Ae.parentNode.insertBefore(ze[0],Ae),ze.length||/^(br|hr|input|img)$/i.test(Ae.nodeName)))return;Y.remove(Ae)}return Ae}}var ge,Ee,Ie,Y=this,ae=Y.createRng();if(v&&_)return ae.setStart(v.parentNode,Y.nodeIndex(v)),ae.setEnd(_.parentNode,Y.nodeIndex(_)),ge=ae.extractContents(),(ae=Y.createRng()).setStart(_.parentNode,Y.nodeIndex(_)+1),ae.setEnd(v.parentNode,Y.nodeIndex(v)+1),Ee=ae.extractContents(),(Ie=v.parentNode).insertBefore(ie(ge),v),Ie.insertBefore(j||_,v),Ie.insertBefore(ie(Ee),v),Y.remove(v),j||_},bind:function(v,_,j,ie){var Y=this;if(S.isArray(v)){for(var ae=v.length;ae--;)v[ae]=Y.bind(v[ae],_,j,ie);return v}return!Y.settings.collect||v!==Y.doc&&v!==Y.win||Y.boundEvents.push([v,_,j,ie]),Y.events.bind(v,_,j,ie||Y)},unbind:function(v,_,j){var Y,ie=this;if(S.isArray(v)){for(Y=v.length;Y--;)v[Y]=ie.unbind(v[Y],_,j);return v}if(ie.boundEvents&&(v===ie.doc||v===ie.win))for(Y=ie.boundEvents.length;Y--;){var ae=ie.boundEvents[Y];v!=ae[0]||_&&_!=ae[1]||j&&j!=ae[2]||this.events.unbind(ae[0],ae[1],ae[2])}return this.events.unbind(v,_,j)},fire:function(v,_,j){return this.events.fire(v,_,j)},getContentEditable:function(v){var _;return v&&1==v.nodeType?(_=v.getAttribute("data-mce-contenteditable"))&&"inherit"!==_?_:"inherit"!==v.contentEditable?v.contentEditable:null:null},getContentEditableParent:function(v){for(var _=this.getRoot(),j=null;v&&v!==_&&null===(j=this.getContentEditable(v));v=v.parentNode);return j},destroy:function(){var v=this;if(v.boundEvents){for(var _=v.boundEvents.length;_--;){var j=v.boundEvents[_];this.events.unbind(j[0],j[1],j[2])}v.boundEvents=null}le.setDocument&&le.setDocument(),v.win=v.doc=v.root=v.events=v.frag=null},isChildOf:function(v,_){for(;v;){if(_===v)return!0;v=v.parentNode}return!1},dumpRng:function(v){return"startContainer: "+v.startContainer.nodeName+", startOffset: "+v.startOffset+", endContainer: "+v.endContainer.nodeName+", endOffset: "+v.endOffset},_findSib:function(v,_,j){var ie=this,Y=_;if(v)for("string"==typeof Y&&(Y=function(ae){return ie.is(ae,_)}),v=v[j];v;v=v[j])if(Y(v))return v;return null}},U.DOM=new U(document),U.nodeIndex=F,U}),he(Te,[ue,Z],function(le,ee){function W(){var F={},U=[],O={},q=[],z=0;this.isDone=function(N){return 2==F[N]},this.markDone=function(N){F[N]=2},this.add=this.load=function(N,E,T,v){null==F[N]&&(U.push(N),F[N]=0),E&&(O[N]||(O[N]=[]),O[N].push({success:E,failure:v,scope:T||this}))},this.remove=function(N){delete F[N],delete O[N]},this.loadQueue=function(N,E,T){this.loadScripts(U,N,E,T)},this.loadScripts=function(N,E,T,v){function _(Y,ae){C(O[ae],function(ge){x(ge[Y])&&ge[Y].call(ge.scope)}),O[ae]=void 0}var j,ie=[];q.push({success:E,failure:v,scope:T||this}),(j=function(){var Y=I(N);N.length=0,C(Y,function(ae){return 2===F[ae]?void _("success",ae):3===F[ae]?void _("failure",ae):void(1!==F[ae]&&(F[ae]=1,z++,function(N,E,T){function v(){j.remove(Y),ie&&(ie.onreadystatechange=ie.onload=ie=null),E()}var ie,Y,j=B;Y=j.uniqueId(),(ie=document.createElement("script")).id=Y,ie.type="text/javascript",ie.src=ee._addCacheSuffix(N),"onreadystatechange"in ie?ie.onreadystatechange=function(){/loaded|complete/.test(ie.readyState)&&v()}:ie.onload=v,ie.onerror=function(){x(T)?T():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+N)},(document.getElementsByTagName("head")[0]||document.body).appendChild(ie)}(ae,function(){F[ae]=2,z--,_("success",ae),j()},function(){F[ae]=3,z--,ie.push(ae),_("failure",ae),j()})))}),z||(C(q,function(ae){0===ie.length?x(ae.success)&&ae.success.call(ae.scope):x(ae.failure)&&ae.failure.call(ae.scope,ie)}),q.length=0)})()}}var B=le.DOM,C=ee.each,I=ee.grep,x=function(w){return"function"==typeof w};return W.ScriptLoader=new W,W}),he(se,[Te,Z],function(le,ee){function W(){var C=this;C.items=[],C.urls={},C.lookup={}}var B=ee.each;return W.prototype={get:function(C){return this.lookup[C]?this.lookup[C].instance:ht},dependencies:function(C){var I;return this.lookup[C]&&(I=this.lookup[C].dependencies),I||[]},requireLangPack:function(C,I){var x=W.language;if(x&&!1!==W.languageLoad){if(I)if(-1!=(I=","+I+",").indexOf(","+x.substr(0,2)+","))x=x.substr(0,2);else if(-1==I.indexOf(","+x+","))return;le.ScriptLoader.add(this.urls[C]+"/langs/"+x+".js")}},add:function(C,I,x){return this.items.push(I),this.lookup[C]={instance:I,dependencies:x},I},remove:function(C){delete this.urls[C],delete this.lookup[C]},createUrl:function(C,I){return"object"==typeof I?I:{prefix:C.prefix,resource:I,suffix:C.suffix}},addComponents:function(C,I){var x=this.urls[C];B(I,function(w){le.ScriptLoader.add(x+"/"+w)})},load:function(C,I,x,w,S){function G(){var F=L.dependencies(C);B(F,function(U){var O=L.createUrl(I,U);L.load(O.resource,O,ht,ht)}),x&&x.call(w||le)}var L=this,R=I;L.urls[C]||("object"==typeof I&&(R=I.prefix+I.resource+I.suffix),0!==R.indexOf("/")&&-1==R.indexOf("://")&&(R=W.baseURL+"/"+R),L.urls[C]=R.substring(0,R.lastIndexOf("/")),L.lookup[C]?G():le.ScriptLoader.add(R,G,w,S))}},W.PluginManager=new W,W.ThemeManager=new W,W}),he(ve,[],function(){function le(S){return function(G){return!!G&&G.nodeType==S}}function ee(S){return S=S.toLowerCase().split(" "),function(G){var L,R;if(G&&G.nodeType)for(R=G.nodeName.toLowerCase(),L=0;L<S.length;L++)if(R===S[L])return!0;return!1}}function x(S){return function(G){return!(!w(G)||G.contentEditable!==S&&G.getAttribute("data-mce-contenteditable")!==S)}}var w=le(1);return{isText:le(3),isElement:w,isComment:le(8),isBr:ee("br"),isContentEditableTrue:x("true"),isContentEditableFalse:x("false"),matchNodeNames:ee,hasPropValue:function(S,G){return function(L){return w(L)&&L[S]===G}},hasAttributeValue:function(S,G){return function(L){return w(L)&&L.getAttribute(S)===G}},matchStyleValues:function(S,G){return G=G.toLowerCase().split(" "),function(L){var R;if(w(L))for(R=0;R<G.length;R++)if(getComputedStyle(L,null).getPropertyValue(S)===G[R])return!0;return!1}},isBogus:function(S){return w(S)&&S.hasAttribute("data-mce-bogus")}}}),he(_e,[],function(){return{isZwsp:function(B){return"\ufeff"==B},ZWSP:"\ufeff",trim:function(B){return B.replace(new RegExp("\ufeff","g"),"")}}}),he(Me,[ve,_e],function(le,ee){function W(E){return N(E)&&(E=E.parentNode),te(E)&&E.hasAttribute("data-mce-caret")}function B(E){return N(E)&&ee.isZwsp(E.data)}function C(E){return W(E)||B(E)}function I(E){var T=E.parentNode;T&&T.removeChild(E)}function R(E){return E.firstChild!==E.lastChild||!le.isBr(E.firstChild)}function U(E){return N(E)&&E.data[0]==ee.ZWSP}function O(E){return N(E)&&E.data[E.data.length-1]==ee.ZWSP}var te=le.isElement,N=le.isText;return{isCaretContainer:C,isCaretContainerBlock:W,isCaretContainerInline:B,showCaretContainerBlock:function(E){return E&&E.hasAttribute("data-mce-caret")?(function(E){var T=E.getElementsByTagName("br"),v=T[T.length-1];le.isBogus(v)&&v.parentNode.removeChild(v)}(E),E.removeAttribute("data-mce-caret"),E.removeAttribute("data-mce-bogus"),E.removeAttribute("style"),E.removeAttribute("_moz_abspos"),E):null},insertInline:function(E,T){var _,j,ie;if(j=E.ownerDocument.createTextNode(ee.ZWSP),ie=E.parentNode,T){if(N(_=E.previousSibling)){if(C(_))return _;if(O(_))return _.splitText(_.data.length-1)}ie.insertBefore(j,E)}else{if(N(_=E.nextSibling)){if(C(_))return _;if(U(_))return _.splitText(1),_}E.nextSibling?ie.insertBefore(j,E.nextSibling):ie.appendChild(j)}return j},insertBlock:function(E,T,v){var j,ie;return(j=T.ownerDocument.createElement(E)).setAttribute("data-mce-caret",v?"before":"after"),j.setAttribute("data-mce-bogus","all"),j.appendChild(function(){var E=document.createElement("br");return E.setAttribute("data-mce-bogus","1"),E}()),ie=T.parentNode,v?ie.insertBefore(j,T):T.nextSibling?ie.insertBefore(j,T.nextSibling):ie.appendChild(j),j},hasContent:R,remove:function(E){if(te(E)&&C(E)&&(R(E)?E.removeAttribute("data-mce-caret"):I(E)),N(E)){var T=ee.trim(function(E){try{return E.nodeValue}catch(T){return""}}(E));!function(E,T){0===T.length?I(E):E.nodeValue=T}(E,T)}},startsWithCaretContainer:U,endsWithCaretContainer:O}}),he(Ne,[Z,$,ve,fe,Me],function(le,ee,W,B,C){function I(N){return q(N)||z(N)}function w(N,E,T){for(;N&&N!==E;){if(T(N))return N;N=N.parentNode}return null}function G(N){return"_mce_caret"===N.id}function L(N,E){return te(N)&&!1===function(N,E,T){return null!==w(N,E,T)}(N,E,G)}function R(N){this.walk=function(E,T){function v(we){var Re;return 3===(Re=we[0]).nodeType&&Re===Y&&ae>=Re.nodeValue.length&&we.splice(0,1),Re=we[we.length-1],0===Ee&&we.length>0&&Re===ge&&3===Re.nodeType&&we.splice(we.length-1,1),we}function _(we,Re,We){for(var Ze=[];we&&we!=We;we=we[Re])Ze.push(we);return Ze}function j(we,Re){do{if(we.parentNode==Re)return we;we=we.parentNode}while(we)}function ie(we,Re,We){var Ze=We?"nextSibling":"previousSibling";for(ze=(De=we).parentNode;De&&De!=Re;De=ze)ze=De.parentNode,(Ve=_(De==we?De:De[Ze],Ze)).length&&(We||Ve.reverse(),T(v(Ve)))}var Ie,Ae,Pe,De,ze,Ve,de,Y=E.startContainer,ae=E.startOffset,ge=E.endContainer,Ee=E.endOffset;if((de=N.select("td[data-mce-selected],th[data-mce-selected]")).length>0)O(de,function(we){T([we])});else{if(1==Y.nodeType&&Y.hasChildNodes()&&(Y=Y.childNodes[ae]),1==ge.nodeType&&ge.hasChildNodes()&&(ge=function(N,E){var T=N.childNodes;return--E>T.length-1?E=T.length-1:E<0&&(E=0),T[E]||N}(ge,Ee)),Y==ge)return T(v([Y]));for(Ie=N.findCommonAncestor(Y,ge),De=Y;De;De=De.parentNode){if(De===ge)return ie(Y,Ie,!0);if(De===Ie)break}for(De=ge;De;De=De.parentNode){if(De===Y)return ie(ge,Ie);if(De===Ie)break}Ae=j(Y,Ie)||Y,Pe=j(ge,Ie)||ge,ie(Y,Ae,!0),(Ve=_(Ae==Y?Ae:Ae.nextSibling,"nextSibling",Pe==ge?Pe.nextSibling:Pe)).length&&T(v(Ve)),ie(ge,Pe)}},this.split=function(E){function T(Y,ae){return Y.splitText(ae)}var v=E.startContainer,_=E.startOffset,j=E.endContainer,ie=E.endOffset;return v==j&&3==v.nodeType?_>0&&_<v.nodeValue.length&&(v=(j=T(v,_)).previousSibling,ie>_?(v=j=T(j,ie-=_).previousSibling,ie=j.nodeValue.length,_=0):ie=0):(3==v.nodeType&&_>0&&_<v.nodeValue.length&&(v=T(v,_),_=0),3==j.nodeType&&ie>0&&ie<j.nodeValue.length&&(ie=(j=T(j,ie).previousSibling).nodeValue.length)),{startContainer:v,startOffset:_,endContainer:j,endOffset:ie}},this.normalize=function(E){function T(j){function Y(Re,We){for(var Ze=new ee(Re,N.getParent(Re.parentNode,N.isBlock)||De);Re=Ze[We?"prev":"next"]();)if("BR"===Re.nodeName)return!0}function Ee(Re,We){var Ze,ft,Et;if(Et=N.getParent((We=We||Ie).parentNode,N.isBlock)||De,Re&&"BR"==We.nodeName&&we&&N.isEmpty(Et))return Ie=We.parentNode,Ae=N.nodeIndex(We),void(v=!0);for(Ze=new ee(We,Et);ze=Ze[Re?"prev":"next"]();){if("false"===N.getContentEditableParent(ze)||L(ze,N.getRoot()))return;if(3===ze.nodeType&&ze.nodeValue.length>0)return Ie=ze,Ae=Re?ze.nodeValue.length:0,void(v=!0);if(N.isBlock(ze)||Ve[ze.nodeName.toLowerCase()])return;ft=ze}_&&ft&&(Ie=ft,v=!0,Ae=0)}var Ie,Ae,Pe,ze,Ve,de,we,Re,De=N.getRoot();if(Ae=E[(j?"start":"end")+"Offset"],we=1==(Ie=E[(j?"start":"end")+"Container"]).nodeType&&Ae===Ie.childNodes.length,Ve=N.schema.getNonEmptyElements(),de=j,!te(Ie)){if(1==Ie.nodeType&&Ae>Ie.childNodes.length-1&&(de=!1),9===Ie.nodeType&&(Ie=N.getRoot(),Ae=0),Ie===De){if(de&&(ze=Ie.childNodes[Ae>0?Ae-1:0])&&(te(ze)||Ve[ze.nodeName]||"TABLE"==ze.nodeName))return;if(Ie.hasChildNodes()){if(Ae=Math.min(!de&&Ae>0?Ae-1:Ae,Ie.childNodes.length-1),Ie=Ie.childNodes[Ae],Ae=0,!_&&Ie===De.lastChild&&"TABLE"===Ie.nodeName||function(Re){for(;Re&&Re!=De;){if(z(Re))return!0;Re=Re.parentNode}return!1}(Ie)||te(Ie))return;if(Ie.hasChildNodes()&&!/TABLE/.test(Ie.nodeName)){ze=Ie,Pe=new ee(Ie,De);do{if(z(ze)||te(ze)){v=!1;break}if(3===ze.nodeType&&ze.nodeValue.length>0){Ae=de?0:ze.nodeValue.length,Ie=ze,v=!0;break}if(Ve[ze.nodeName.toLowerCase()]&&(!(Re=ze)||!/^(TD|TH|CAPTION)$/.test(Re.nodeName))){Ae=N.nodeIndex(ze),Ie=ze.parentNode,"IMG"!=ze.nodeName||de||Ae++,v=!0;break}}while(ze=de?Pe.next():Pe.prev())}}}_&&(3===Ie.nodeType&&0===Ae&&Ee(!0),1===Ie.nodeType&&((ze=Ie.childNodes[Ae])||(ze=Ie.childNodes[Ae-1]),!ze||"BR"!==ze.nodeName||function(Re,We){return Re.previousSibling&&"A"==Re.previousSibling.nodeName}(ze)||Y(ze)||Y(ze,!0)||Ee(!0,ze))),de&&!_&&3===Ie.nodeType&&Ae===Ie.nodeValue.length&&Ee(!1),v&&E["set"+(j?"Start":"End")](Ie,Ae)}}var v,_;return _=E.collapsed,T(!0),_||T(),v&&_&&E.collapse(!0),v}}var O=le.each,q=W.isContentEditableTrue,z=W.isContentEditableFalse,te=C.isCaretContainer;return R.compareRanges=function(N,E){if(N&&E){if(!N.item&&!N.duplicate)return N.startContainer==E.startContainer&&N.startOffset==E.startOffset;if(N.item&&E.item&&N.item(0)===E.item(0)||N.isEqual&&E.isEqual&&E.isEqual(N))return!0}return!1},R.getCaretRangeFromPoint=function(N,E,T){var v,_;if(T.caretPositionFromPoint)_=T.caretPositionFromPoint(N,E),(v=T.createRange()).setStart(_.offsetNode,_.offset),v.collapse(!0);else if(T.caretRangeFromPoint)v=T.caretRangeFromPoint(N,E);else if(T.body.createTextRange){v=T.body.createTextRange();try{v.moveToPoint(N,E),v.collapse(!0)}catch(j){v=function(N,E,T){var v,_,j;if(v=T.elementFromPoint(N,E),_=T.body.createTextRange(),v&&"HTML"!=v.tagName||(v=T.body),_.moveToElementText(v),(j=(j=le.toArray(_.getClientRects())).sort(function(ie,Y){return(ie=Math.abs(Math.max(ie.top-E,ie.bottom-E)))-Math.abs(Math.max(Y.top-E,Y.bottom-E))})).length>0){E=(j[0].bottom+j[0].top)/2;try{return _.moveToPoint(N,E),_.collapse(!0),_}catch(ie){}}return null}(N,E,T)}return function(N,E){var T=N&&N.parentElement?N.parentElement():null;return z(w(T,E,I))?null:N}(v,T.body)}return v},R.getSelectedNode=function(N){var E=N.startContainer,T=N.startOffset;return E.hasChildNodes()&&N.endOffset==T+1?E.childNodes[T]:null},R.getNode=function(N,E){return 1==N.nodeType&&N.hasChildNodes()&&(E>=N.childNodes.length&&(E=N.childNodes.length-1),N=N.childNodes[E]),N},R}),he(Se,[Ne,H,M],function(le,ee,W){return function(B){var I,x=[];"onselectionchange"in B.getDoc()||B.on("NodeChange Click MouseUp KeyUp Focus",function(w){var S,G;G={startContainer:(S=B.selection.getRng()).startContainer,startOffset:S.startOffset,endContainer:S.endContainer,endOffset:S.endOffset},"nodechange"!=w.type&&le.compareRanges(G,I)||B.fire("SelectionChange"),I=G}),B.on("contextmenu",function(){B.fire("SelectionChange")}),B.on("SelectionChange",function(){var w=B.selection.getStart(!0);!ee.range&&B.selection.isCollapsed()||!function(w){var S,G;if((G=B.$(w).parentsUntil(B.getBody()).add(w)).length===x.length){for(S=G.length;S>=0&&G[S]===x[S];S--);if(-1===S)return x=G,!0}return x=G,!1}(w)&&B.dom.isChildOf(w,B.getBody())&&B.nodeChanged({selectionChange:!0})}),B.on("MouseUp",function(w){w.isDefaultPrevented()||("IMG"==B.selection.getNode().nodeName?W.setEditorTimeout(B,function(){B.nodeChanged()}):B.nodeChanged())}),this.nodeChanged=function(w){var G,L,R,S=B.selection;B.initialized&&S&&!B.settings.disable_nodechange&&!B.readonly&&(R=B.getBody(),(G=S.getStart()||R).ownerDocument==B.getDoc()&&B.dom.isChildOf(G,R)||(G=R),"IMG"==G.nodeName&&S.isCollapsed()&&(G=G.parentNode),L=[],B.dom.getParent(G,function(F){return F===R||void L.push(F)}),(w=w||{}).element=G,w.parents=L,B.fire("NodeChange",w))}}}),he(Le,[],function(){function le(C,I,x){var w,S,G=x?"lastChild":"firstChild",L=x?"prev":"next";if(C[G])return C[G];if(C!==I){if(w=C[L])return w;for(S=C.parent;S&&S!==I;S=S.parent)if(w=S[L])return w}}function ee(C,I){this.name=C,this.type=I,1===I&&(this.attributes=[],this.attributes.map={})}var W=/^[ \t\r\n]*$/,B={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return ee.prototype={replace:function(C){var I=this;return C.parent&&C.remove(),I.insert(C,I),I.remove(),I},attr:function(C,I){var w,S,x=this;if("string"!=typeof C){for(S in C)x.attr(S,C[S]);return x}if(w=x.attributes){if(void 0!==I){if(null===I){if(C in w.map)for(delete w.map[C],S=w.length;S--;)if(w[S].name===C)return w=w.splice(S,1),x;return x}if(C in w.map){for(S=w.length;S--;)if(w[S].name===C){w[S].value=I;break}}else w.push({name:C,value:I});return w.map[C]=I,x}return w.map[C]}},clone:function(){var x,w,S,G,L,C=this,I=new ee(C.name,C.type);if(S=C.attributes){for((L=[]).map={},x=0,w=S.length;x<w;x++)"id"!==(G=S[x]).name&&(L[L.length]={name:G.name,value:G.value},L.map[G.name]=G.value);I.attributes=L}return I.value=C.value,I.shortEnded=C.shortEnded,I},wrap:function(C){var I=this;return I.parent.insert(C,I),C.append(I),I},unwrap:function(){var I,x,C=this;for(I=C.firstChild;I;)x=I.next,C.insert(I,C,!0),I=x;C.remove()},remove:function(){var C=this,I=C.parent,x=C.next,w=C.prev;return I&&(I.firstChild===C?(I.firstChild=x,x&&(x.prev=null)):w.next=x,I.lastChild===C?(I.lastChild=w,w&&(w.next=null)):x.prev=w,C.parent=C.next=C.prev=null),C},append:function(C){var x,I=this;return C.parent&&C.remove(),(x=I.lastChild)?(x.next=C,C.prev=x,I.lastChild=C):I.lastChild=I.firstChild=C,C.parent=I,C},insert:function(C,I,x){var w;return C.parent&&C.remove(),w=I.parent||this,x?(I===w.firstChild?w.firstChild=C:I.prev.next=C,C.prev=I.prev,C.next=I,I.prev=C):(I===w.lastChild?w.lastChild=C:I.next.prev=C,C.next=I.next,C.prev=I,I.next=C),C.parent=w,C},getAll:function(C){var x,w=[];for(x=this.firstChild;x;x=le(x,this))x.name===C&&w.push(x);return w},empty:function(){var I,x,w,C=this;if(C.firstChild){for(I=[],w=C.firstChild;w;w=le(w,C))I.push(w);for(x=I.length;x--;)(w=I[x]).parent=w.firstChild=w.lastChild=w.next=w.prev=null}return C.firstChild=C.lastChild=null,C},isEmpty:function(C,I){var S,G,w=this.firstChild;if(I=I||{},w)do{if(1===w.type){if(w.attributes.map["data-mce-bogus"])continue;if(C[w.name])return!1;for(S=w.attributes.length;S--;)if("name"===(G=w.attributes[S].name)||0===G.indexOf("data-mce-bookmark"))return!1}if(8===w.type||3===w.type&&!W.test(w.value)||3===w.type&&w.parent&&I[w.parent.name]&&W.test(w.value))return!1}while(w=le(w,this));return!0},walk:function(C){return le(this,null,C)}},ee.create=function(C,I){var x,w;if(x=new ee(C,B[C]||1),I)for(w in I)x.attr(w,I[w]);return x},ee}),he(Ue,[Z],function(le){function ee(R,F){return(R=le.trim(R))?R.split(F||" "):[]}function B(R,F){var U;return R&&(U={},"string"==typeof R&&(R={"*":R}),w(R,function(O,q){U[q]=U[q.toUpperCase()]="map"==F?x(O,/[, ]/):G(O,/[, ]/)})),U}var C={},I={},x=le.makeMap,w=le.each,S=le.extend,G=le.explode,L=le.inArray;return function(R){function F(We,Ze,ft){var Et=R[We];return Et?Et=x(Et,/[, ]/,x(Et.toUpperCase(),/[, ]/)):(Et=C[We])||(Et=x(Ze," ",x(Ze.toUpperCase()," ")),Et=S(Et,ft),C[We]=Et),Et}function U(We){return new RegExp("^"+We.replace(/([?+*])/g,".$1")+"$")}function O(We){var Ze,ft,Et,Vt,Kt,Gt,je,ye,me,Fe,Ke,at,dt,it,Mt,gt,Ct,xt,vn,zn=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,jn=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,Mi=/[*?+]/;if(We)for(We=ee(We,","),T["@"]&&(gt=T["@"].attributes,Ct=T["@"].attributesOrder),Ze=0,ft=We.length;Ze<ft;Ze++)if(Kt=zn.exec(We[Ze])){if(me=Kt[2],Mt=Kt[3],ye=Kt[5],Gt={attributes:at={},attributesOrder:dt=[]},"#"===(it=Kt[1])&&(Gt.paddEmpty=!0),"-"===it&&(Gt.removeEmpty=!0),"!"===Kt[4]&&(Gt.removeEmptyAttrs=!0),gt){for(xt in gt)at[xt]=gt[xt];dt.push.apply(dt,Ct)}if(ye)for(Et=0,Vt=(ye=ee(ye,"|")).length;Et<Vt;Et++)if(Kt=jn.exec(ye[Et])){if(je={},Ke=Kt[1],Fe=Kt[2].replace(/::/g,":"),it=Kt[3],vn=Kt[4],"!"===Ke&&(Gt.attributesRequired=Gt.attributesRequired||[],Gt.attributesRequired.push(Fe),je.required=!0),"-"===Ke){delete at[Fe],dt.splice(L(dt,Fe),1);continue}it&&("="===it&&(Gt.attributesDefault=Gt.attributesDefault||[],Gt.attributesDefault.push({name:Fe,value:vn}),je.defaultValue=vn),":"===it&&(Gt.attributesForced=Gt.attributesForced||[],Gt.attributesForced.push({name:Fe,value:vn}),je.forcedValue=vn),"<"===it&&(je.validValues=x(vn,"?"))),Mi.test(Fe)?(Gt.attributePatterns=Gt.attributePatterns||[],je.pattern=U(Fe),Gt.attributePatterns.push(je)):(at[Fe]||dt.push(Fe),at[Fe]=je)}gt||"@"!=me||(gt=at,Ct=dt),Mt&&(Gt.outputName=me,T[Mt]=Gt),Mi.test(me)?(Gt.pattern=U(me),_.push(Gt)):T[me]=Gt}}function q(We){T={},_=[],O(We),w(Y,function(Ze,ft){v[ft]=Ze.children})}function z(We){var Ze=/^(~)?(.+)$/;We&&(C.text_block_elements=C.block_elements=null,w(ee(We,","),function(ft){var Et=Ze.exec(ft),Vt="~"===Et[1],Kt=Vt?"span":"div",Gt=Et[2];if(v[Gt]=v[Kt],we[Gt]=Kt,Vt||(Pe[Gt.toUpperCase()]={},Pe[Gt]={}),!T[Gt]){var je=T[Kt];delete(je=S({},je)).removeEmptyAttrs,delete je.removeEmpty,T[Gt]=je}w(v,function(ye,me){ye[Kt]&&(v[me]=ye=S({},v[me]),ye[Gt]=ye[Kt])})}))}function te(We){var Ze=/^([+\-]?)(\w+)\[([^\]]+)\]$/;C[R.schema]=null,We&&w(ee(We,","),function(ft){var Vt,Kt,Et=Ze.exec(ft);Et&&(Vt=(Kt=Et[1])?v[Et[2]]:v[Et[2]]={"#comment":{}},Vt=v[Et[2]],w(ee(Et[3],"|"),function(Gt){"-"===Kt?delete Vt[Gt]:Vt[Gt]={}}))})}function N(We){var ft,Ze=T[We];if(Ze)return Ze;for(ft=_.length;ft--;)if((Ze=_[ft]).pattern.test(We))return Ze}var j,ie,Y,ae,ge,Ee,Ie,Ae,Pe,De,ze,Ve,de,E=this,T={},v={},_=[],we={},Re={};Y=function(R){function F(v,_,j){function ie(Ee,Ie){var Pe,De,Ae={};for(Pe=0,De=Ee.length;Pe<De;Pe++)Ae[Ee[Pe]]=Ie||{};return Ae}var Y,ae,ge;for(_=_||"","string"==typeof(j=j||[])&&(j=ee(j)),Y=(v=ee(v)).length;Y--;)ge={attributes:ie(ae=ee([q,_].join(" "))),attributesOrder:ae,children:ie(j,I)},O[v[Y]]=ge}function U(v,_){var j,ie,Y,ae;for(j=(v=ee(v)).length,_=ee(_);j--;)for(ie=O[v[j]],Y=0,ae=_.length;Y<ae;Y++)ie.attributes[_[Y]]={},ie.attributesOrder.push(_[Y])}var q,z,te,N,E,T,O={};return C[R]?C[R]:(q="id accesskey class dir lang style tabindex title",z="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",te="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=R&&(q+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",z+=" article aside details dialog figure header footer hgroup section nav",te+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=R&&(q+=" xml:lang",te=[te,T="acronym applet basefont big font strike tt"].join(" "),w(ee(T),function(v){F(v,"",te)}),z=[z,E="center dir isindex noframes"].join(" "),N=[z,te].join(" "),w(ee(E),function(v){F(v,"",N)})),N=N||[z,te].join(" "),F("html","manifest","head body"),F("head","","base command link meta noscript script style title"),F("title hr noscript br"),F("base","href target"),F("link","href rel media hreflang type sizes hreflang"),F("meta","name http-equiv content charset"),F("style","media type scoped"),F("script","src async defer type charset"),F("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",N),F("address dt dd div caption","",N),F("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",te),F("blockquote","cite",N),F("ol","reversed start type","li"),F("ul","","li"),F("li","value",N),F("dl","","dt dd"),F("a","href target rel media hreflang type",te),F("q","cite",te),F("ins del","cite datetime",N),F("img","src sizes srcset alt usemap ismap width height"),F("iframe","src name width height",N),F("embed","src type width height"),F("object","data type typemustmatch name usemap form width height",[N,"param"].join(" ")),F("param","name value"),F("map","name",[N,"area"].join(" ")),F("area","alt coords shape href target rel media hreflang type"),F("table","border","caption colgroup thead tfoot tbody tr"+("html4"==R?" col":"")),F("colgroup","span","col"),F("col","span"),F("tbody thead tfoot","","tr"),F("tr","","td th"),F("td","colspan rowspan headers",N),F("th","colspan rowspan headers scope abbr",N),F("form","accept-charset action autocomplete enctype method name novalidate target",N),F("fieldset","disabled form name",[N,"legend"].join(" ")),F("label","form for",te),F("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),F("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==R?N:te),F("select","disabled form multiple name required size","option optgroup"),F("optgroup","disabled label","option"),F("option","disabled label selected value"),F("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),F("menu","type label",[N,"li"].join(" ")),F("noscript","",N),"html4"!=R&&(F("wbr"),F("ruby","",[te,"rt rp"].join(" ")),F("figcaption","",N),F("mark rt rp summary bdi","",te),F("canvas","width height",N),F("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[N,"track source"].join(" ")),F("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[N,"track source"].join(" ")),F("picture","","img source"),F("source","src srcset type media sizes"),F("track","kind src srclang label default"),F("datalist","",[te,"option"].join(" ")),F("article section nav aside header footer","",N),F("hgroup","","h1 h2 h3 h4 h5 h6"),F("figure","",[N,"figcaption"].join(" ")),F("time","datetime",te),F("dialog","open",N),F("command","type label icon disabled checked radiogroup command"),F("output","for form name",te),F("progress","value max",te),F("meter","value min max low high optimum",te),F("details","open",[N,"summary"].join(" ")),F("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=R&&(U("script","language xml:space"),U("style","xml:space"),U("object","declare classid code codebase codetype archive standby align border hspace vspace"),U("embed","align name hspace vspace"),U("param","valuetype type"),U("a","charset name rev shape coords"),U("br","clear"),U("applet","codebase archive code object alt name width height align hspace vspace"),U("img","name longdesc align border hspace vspace"),U("iframe","longdesc frameborder marginwidth marginheight scrolling align"),U("font basefont","size color face"),U("input","usemap align"),U("select","onchange"),U("textarea"),U("h1 h2 h3 h4 h5 h6 div p legend caption","align"),U("ul","type compact"),U("li","type"),U("ol dl menu dir","compact"),U("pre","width xml:space"),U("hr","align noshade size width"),U("isindex","prompt"),U("table","summary width frame rules cellspacing cellpadding align bgcolor"),U("col","width align char charoff valign"),U("colgroup","width align char charoff valign"),U("thead","align char charoff valign"),U("tr","align char charoff valign bgcolor"),U("th","axis align char charoff valign nowrap bgcolor width height"),U("form","accept"),U("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),U("tfoot","align char charoff valign"),U("tbody","align char charoff valign"),U("area","nohref"),U("body","background bgcolor text link vlink alink")),"html4"!=R&&(U("input button select textarea","autofocus"),U("input textarea","placeholder"),U("a","download"),U("link script img","crossorigin"),U("iframe","sandbox seamless allowfullscreen")),w(ee("a form meter progress dfn"),function(v){O[v]&&delete O[v].children[v]}),delete O.caption.children.table,delete O.script,C[R]=O,O)}((R=R||{}).schema),!1===R.verify_html&&(R.valid_elements="*[*]"),j=B(R.valid_styles),ie=B(R.invalid_styles,"map"),Ae=B(R.valid_classes,"map"),ae=F("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ge=F("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),Ee=F("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Ie=F("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),De=F("non_empty_elements","td th iframe video audio object script pre code",Ee),ze=F("move_caret_before_on_enter_elements","table",De),Ve=F("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),Pe=F("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",Ve),de=F("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),w((R.special||"script noscript style textarea").split(" "),function(We){Re[We]=new RegExp("</"+We+"[^>]*>","gi")}),R.valid_elements?q(R.valid_elements):(w(Y,function(We,Ze){T[Ze]={attributes:We.attributes,attributesOrder:We.attributesOrder},v[Ze]=We.children}),"html5"!=R.schema&&w(ee("strong/b em/i"),function(We){We=ee(We,"/"),T[We[1]].outputName=We[0]}),w(ee("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(We){T[We]&&(T[We].removeEmpty=!0)}),w(ee("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(We){T[We].paddEmpty=!0}),w(ee("span"),function(We){T[We].removeEmptyAttrs=!0})),z(R.custom_elements),te(R.valid_children),O(R.extended_valid_elements),te("+ol[ul|ol],+ul[ul|ol]"),w({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(We,Ze){T[Ze]&&(T[Ze].parentsRequired=ee(We))}),R.invalid_elements&&w(G(R.invalid_elements),function(We){T[We]&&delete T[We]}),N("span")||O("span[!data-mce-type|*]"),E.children=v,E.getValidStyles=function(){return j},E.getInvalidStyles=function(){return ie},E.getValidClasses=function(){return Ae},E.getBoolAttrs=function(){return Ie},E.getBlockElements=function(){return Pe},E.getTextBlockElements=function(){return Ve},E.getTextInlineElements=function(){return de},E.getShortEndedElements=function(){return Ee},E.getSelfClosingElements=function(){return ge},E.getNonEmptyElements=function(){return De},E.getMoveCaretBeforeOnEnterElements=function(){return ze},E.getWhiteSpaceElements=function(){return ae},E.getSpecialElements=function(){return Re},E.isValidChild=function(We,Ze){var ft=v[We];return!(!ft||!ft[Ze])},E.isValid=function(We,Ze){var ft,Et,Vt=N(We);if(Vt){if(!Ze||Vt.attributes[Ze])return!0;if(ft=Vt.attributePatterns)for(Et=ft.length;Et--;)if(ft[Et].pattern.test(We))return!0}return!1},E.getElementRule=N,E.getCustomElements=function(){return we},E.addValidElements=O,E.setValidElements=q,E.addCustomElements=z,E.addValidChildren=te,E.elements=T}}),he(Qe,[Ue,pe,Z],function(le,ee,W){function B(x,w,S){var L,R,F,U,G=1;for(U=x.getShortEndedElements(),(F=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=L=S;R=F.exec(w);){if(L=F.lastIndex,"/"===R[1])G--;else if(!R[1]){if(R[2]in U)continue;G++}if(0===G)break}return L}function C(x,w){function S(){}var G=this;x=x||{},G.schema=w=w||new le,!1!==x.fix_self_closing&&(x.fix_self_closing=!0),I("comment cdata text start end pi doctype".split(" "),function(L){L&&(G[L]=x[L]||S)}),G.parse=function(L){function R(at){var dt,it;for(dt=N.length;dt--&&N[dt].name!==at;);if(dt>=0){for(it=N.length-1;it>=dt;it--)(at=N[it]).valid&&U.end(at.name);N.length=dt}}function F(at,dt,it,Mt,gt){var Ct,xt;if(it=(dt=dt.toLowerCase())in ae?dt:je(it||Mt||gt||""),Ee&&!j&&0!==dt.indexOf("data-")){if(!(Ct=ze[dt])&&Ve){for(xt=Ve.length;xt--&&!(Ct=Ve[xt]).pattern.test(dt););-1===xt&&(Ct=null)}if(!Ct||Ct.validValues&&!(it in Ct.validValues))return}if(me[dt]&&!x.allow_script_urls){var zn=it.replace(/[\s\u0000-\u001F]+/g,"");try{zn=decodeURIComponent(zn)}catch(jn){zn=unescape(zn)}if(Fe.test(zn)||!x.allow_html_data_urls&&Ke.test(zn)&&!/^data:image\//i.test(zn))return}E.map[dt]=it,E.push({name:dt,value:it})}var O,z,te,E,T,v,_,j,ie,Y,ae,ge,Ee,Ie,Ae,Pe,De,ze,Ve,de,we,Re,Ze,ft,Et,Vt,Kt,ye,U=this,q=0,N=[],Gt=0,je=ee.decode,me=W.makeMap("src,href,data,background,formaction,poster"),Fe=/((java|vb)script|mhtml):/i,Ke=/^data:/i;for(ft=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),Et=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Y=w.getShortEndedElements(),Ze=x.self_closing_elements||w.getSelfClosingElements(),ae=w.getBoolAttrs(),Ee=x.validate,ie=x.remove_internals,ye=x.fix_self_closing,Vt=w.getSpecialElements();O=ft.exec(L);){if(q<O.index&&U.text(je(L.substr(q,O.index-q))),z=O[6])":"===(z=z.toLowerCase()).charAt(0)&&(z=z.substr(1)),R(z);else if(z=O[7]){if(":"===(z=z.toLowerCase()).charAt(0)&&(z=z.substr(1)),ge=z in Y,ye&&Ze[z]&&N.length>0&&N[N.length-1].name===z&&R(z),!Ee||(Ie=w.getElementRule(z))){if(Ae=!0,Ee&&(ze=Ie.attributes,Ve=Ie.attributePatterns),(De=O[8])?((j=-1!==De.indexOf("data-mce-type"))&&ie&&(Ae=!1),(E=[]).map={},De.replace(Et,F)):(E=[]).map={},Ee&&!j){if(de=Ie.attributesRequired,we=Ie.attributesDefault,Ie.removeEmptyAttrs&&!E.length&&(Ae=!1),Re=Ie.attributesForced)for(T=Re.length;T--;)"{$uid}"===(Kt=(Pe=Re[T]).value)&&(Kt="mce_"+Gt++),E.map[_=Pe.name]=Kt,E.push({name:_,value:Kt});if(we)for(T=we.length;T--;)(_=(Pe=we[T]).name)in E.map||("{$uid}"===(Kt=Pe.value)&&(Kt="mce_"+Gt++),E.map[_]=Kt,E.push({name:_,value:Kt}));if(de){for(T=de.length;T--&&!(de[T]in E.map););-1===T&&(Ae=!1)}if(Pe=E.map["data-mce-bogus"]){if("all"===Pe){q=B(w,L,ft.lastIndex),ft.lastIndex=q;continue}Ae=!1}}Ae&&U.start(z,E,ge)}else Ae=!1;if(te=Vt[z]){te.lastIndex=q=O.index+O[0].length,(O=te.exec(L))?(Ae&&(v=L.substr(q,O.index-q)),q=O.index+O[0].length):(v=L.substr(q),q=L.length),Ae&&(v.length>0&&U.text(v,!0),U.end(z)),ft.lastIndex=q;continue}ge||(De&&De.indexOf("/")==De.length-1?Ae&&U.end(z):N.push({name:z,valid:Ae}))}else(z=O[1])?(">"===z.charAt(0)&&(z=" "+z),x.allow_conditional_comments||"[if"!==z.substr(0,3).toLowerCase()||(z=" "+z),U.comment(z)):(z=O[2])?U.cdata(z):(z=O[3])?U.doctype(z):(z=O[4])&&U.pi(z,O[5]);q=O.index+O[0].length}for(q<L.length&&U.text(je(L.substr(q))),T=N.length-1;T>=0;T--)(z=N[T]).valid&&U.end(z.name)}}var I=W.each;return C.findEndTag=B,C}),he(Tt,[Le,Ue,Qe,Z],function(le,ee,W,B){var C=B.makeMap,I=B.each,x=B.explode,w=B.extend,S=function(L,R){L.padd_empty_with_br?R.empty().append(new le("br","1")).shortEnded=!0:R.empty().append(new le("#text","3")).value="\xa0"},G=function(L,R){return L&&L.firstChild===L.lastChild&&L.firstChild.name===R};return function(L,R){var U=this,O={},q=[],z={},te={};(L=L||{}).validate=!("validate"in L)||L.validate,L.root_name=L.root_name||"body",U.schema=R=R||new ee,U.filterNode=function(N){var E,T,v;for((T in O&&((v=z[T])?v.push(N):z[T]=[N]),E=q.length);E--;)(T=q[E].name)in N.attributes.map&&((v=te[T])?v.push(N):te[T]=[N]);return N},U.addNodeFilter=function(N,E){I(x(N),function(T){var v=O[T];v||(O[T]=v=[]),v.push(E)})},U.addAttributeFilter=function(N,E){I(x(N),function(T){var v;for(v=0;v<q.length;v++)if(q[v].name===T)return void q[v].callbacks.push(E);q.push({name:T,callbacks:[E]})})},U.parse=function(N,E){function v(ye,me){var Ke,Fe=new le(ye,me);return ye in O&&((Ke=z[ye])?Ke.push(Fe):z[ye]=[Fe]),Fe}function _(ye){var me,Fe,Ke,at,dt=R.getBlockElements();for(me=ye.prev;me&&3===me.type;){if((Ke=me.value.replace(Ze,"")).length>0)return void(me.value=Ke);if(Fe=me.next){if(3==Fe.type&&Fe.value.length){me=me.prev;continue}if(!dt[Fe.name]&&"script"!=Fe.name&&"style"!=Fe.name){me=me.prev;continue}}at=me.prev,me.remove(),me=at}}var ie,Y,ae,ge,Ee,Ie,Ae,Pe,De,ze,Ve,de,we,We,Ze,ft,Et,Vt,Kt,Gt,je,Re=[];if(E=E||{},z={},te={},de=w(C("script,style,head,html,body,title,meta,param"),R.getBlockElements()),Gt=R.getNonEmptyElements(),Kt=R.children,Ve=L.validate,je="forced_root_block"in E?E.forced_root_block:L.forced_root_block,Vt=R.getWhiteSpaceElements(),we=/^[ \t\r\n]+/,Ze=/[ \t\r\n]+$/,ft=/[ \t\r\n]+/g,Et=/^[ \t\r\n]+$/,ie=new W({validate:Ve,allow_script_urls:L.allow_script_urls,allow_conditional_comments:L.allow_conditional_comments,self_closing_elements:function(ye){var me,Fe={};for(me in ye)"li"!==me&&"p"!=me&&(Fe[me]=ye[me]);return Fe}(R.getSelfClosingElements()),cdata:function(ye){ae.append(v("#cdata",4)).value=ye},text:function(ye,me){var Fe;We||(ye=ye.replace(ft," "),ae.lastChild&&de[ae.lastChild.name]&&(ye=ye.replace(we,""))),0!==ye.length&&((Fe=v("#text",3)).raw=!!me,ae.append(Fe).value=ye)},comment:function(ye){ae.append(v("#comment",8)).value=ye},pi:function(ye,me){ae.append(v(ye,7)).value=me,_(ae)},doctype:function(ye){ae.append(v("#doctype",10)).value=ye,_(ae)},start:function(ye,me,Fe){var Ke,at,dt,it,Mt;if(dt=Ve?R.getElementRule(ye):{}){for((Ke=v(dt.outputName||ye,1)).attributes=me,Ke.shortEnded=Fe,ae.append(Ke),(Mt=Kt[ae.name])&&Kt[Ke.name]&&!Mt[Ke.name]&&Re.push(Ke),at=q.length;at--;)(it=q[at].name)in me.map&&((De=te[it])?De.push(Ke):te[it]=[Ke]);de[ye]&&_(Ke),Fe||(ae=Ke),!We&&Vt[ye]&&(We=!0)}},end:function(ye){var me,Fe,Ke,at,dt;if(Fe=Ve?R.getElementRule(ye):{}){if(de[ye]&&!We){if((me=ae.firstChild)&&3===me.type)if((Ke=me.value.replace(we,"")).length>0)me.value=Ke,me=me.next;else for(at=me.next,me.remove(),me=at;me&&3===me.type;)at=me.next,(0===(Ke=me.value).length||Et.test(Ke))&&(me.remove(),me=at),me=at;if((me=ae.lastChild)&&3===me.type)if((Ke=me.value.replace(Ze,"")).length>0)me.value=Ke,me=me.prev;else for(at=me.prev,me.remove(),me=at;me&&3===me.type;)at=me.prev,(0===(Ke=me.value).length||Et.test(Ke))&&(me.remove(),me=at),me=at}if(We&&Vt[ye]&&(We=!1),(Fe.removeEmpty||Fe.paddEmpty)&&ae.isEmpty(Gt,Vt))if(Fe.paddEmpty)S(L,ae);else if(!ae.attributes.map.name&&!ae.attributes.map.id)return dt=ae.parent,de[ae.name]?ae.empty().remove():ae.unwrap(),void(ae=dt);ae=ae.parent}}},R),Y=ae=new le(E.context||L.root_name,11),ie.parse(N),Ve&&Re.length&&(E.context?E.invalid=!0:function(N){var E,T,v,_,j,ie,Y,ae,ge,Ee,Ie,Ae,Pe,De,ze,Ve;for(Ae=C("tr,td,th,tbody,thead,tfoot,table"),Ee=R.getNonEmptyElements(),Ie=R.getWhiteSpaceElements(),Pe=R.getTextBlockElements(),De=R.getSpecialElements(),E=0;E<N.length;E++)if((T=N[E]).parent&&!T.fixed)if(Pe[T.name]&&"li"==T.parent.name){for(ze=T.next;ze&&Pe[ze.name];)ze.name="li",ze.fixed=!0,T.parent.insert(ze,T.parent),ze=ze.next;T.unwrap(T)}else{for(_=[T],v=T.parent;v&&!R.isValidChild(v.name,T.name)&&!Ae[v.name];v=v.parent)_.push(v);if(v&&_.length>1){for(_.reverse(),j=ie=U.filterNode(_[0].clone()),ge=0;ge<_.length-1;ge++){for(R.isValidChild(ie.name,_[ge].name)?(Y=U.filterNode(_[ge].clone()),ie.append(Y)):Y=ie,ae=_[ge].firstChild;ae&&ae!=_[ge+1];)Ve=ae.next,Y.append(ae),ae=Ve;ie=Y}j.isEmpty(Ee,Ie)?v.insert(T,_[0],!0):(v.insert(j,_[0],!0),v.insert(T,j)),((v=_[0]).isEmpty(Ee,Ie)||G(v,"br"))&&v.empty().remove()}else if(T.parent){if("li"===T.name){if((ze=T.prev)&&("ul"===ze.name||"ul"===ze.name)){ze.append(T);continue}if((ze=T.next)&&("ul"===ze.name||"ul"===ze.name)){ze.insert(T,ze.firstChild,!0);continue}T.wrap(U.filterNode(new le("ul",1)));continue}R.isValidChild(T.parent.name,"div")&&R.isValidChild("div",T.name)?T.wrap(U.filterNode(new le("div",1))):De[T.name]?T.empty().remove():T.unwrap()}}}(Re)),je&&("body"==Y.name||E.isRootContent)&&function(){function ye(at){at&&((me=at.firstChild)&&3==me.type&&(me.value=me.value.replace(we,"")),(me=at.lastChild)&&3==me.type&&(me.value=me.value.replace(Ze,"")))}var Fe,Ke,me=Y.firstChild;if(R.isValidChild(Y.name,je.toLowerCase())){for(;me;)Fe=me.next,3==me.type||1==me.type&&"p"!==me.name&&!de[me.name]&&!me.attr("data-mce-type")?(Ke||((Ke=v(je,1)).attr(L.forced_root_block_attrs),Y.insert(Ke,me)),Ke.append(me)):(ye(Ke),Ke=null),me=Fe;ye(Ke)}}(),!E.invalid){for(ze in z){for(De=O[ze],Ae=(ge=z[ze]).length;Ae--;)ge[Ae].parent||ge.splice(Ae,1);for(Ee=0,Ie=De.length;Ee<Ie;Ee++)De[Ee](ge,ze,E)}for(Ee=0,Ie=q.length;Ee<Ie;Ee++)if((De=q[Ee]).name in te){for(Ae=(ge=te[De.name]).length;Ae--;)ge[Ae].parent||ge.splice(Ae,1);for(Ae=0,Pe=De.callbacks.length;Ae<Pe;Ae++)De.callbacks[Ae](ge,De.name,E)}}return Y},L.remove_trailing_brs&&U.addNodeFilter("br",function(N){var E,v,ie,Y,ae,ge,Ie,Ae,T=N.length,_=w({},R.getBlockElements()),j=R.getNonEmptyElements(),Ee=R.getNonEmptyElements();for(_.body=1,E=0;E<T;E++)if(ie=(v=N[E]).parent,_[v.parent.name]&&v===ie.lastChild){for(ae=v.prev;ae;){if("span"!==(ge=ae.name)||"bookmark"!==ae.attr("data-mce-type")){if("br"!==ge)break;if("br"===ge){v=null;break}}ae=ae.prev}v&&(v.remove(),ie.isEmpty(j,Ee)&&(Ie=R.getElementRule(ie.name))&&(Ie.removeEmpty?ie.remove():Ie.paddEmpty&&S(L,ie)))}else{for(Y=v;ie&&ie.firstChild===Y&&ie.lastChild===Y&&(Y=ie,!_[ie.name]);)ie=ie.parent;Y===ie&&!0!==L.padd_empty_with_br&&((Ae=new le("#text",3)).value="\xa0",v.replace(Ae))}}),L.allow_unsafe_link_target||U.addAttributeFilter("href",function(N){function T(ae){var ge=new RegExp("("+Y.replace(" ","|")+")","g");return ae&&(ae=B.trim(ae.replace(ge,""))),ae||null}for(var j,ie,_=N.length,Y="noopener noreferrer";_--;)ie=(j=N[_]).attr("rel"),"a"===j.name&&j.attr("rel",(ae=ie,"_blank"==j.attr("target")?function(ae){return(ae=T(ae))?[ae,Y].join(" "):Y}(ae):T(ae)));var ae}),L.allow_html_in_named_anchor||U.addAttributeFilter("id,name",function(N){for(var T,v,_,j,E=N.length;E--;)if("a"===(j=N[E]).name&&j.firstChild&&!j.attr("href")){_=j.parent,T=j.lastChild;do{v=T.prev,_.insert(T,j),T=v}while(T)}}),L.fix_list_elements&&U.addNodeFilter("ul,ol",function(N){for(var T,v,E=N.length;E--;)if("ul"===(v=(T=N[E]).parent).name||"ol"===v.name)if(T.prev&&"li"===T.prev.name)T.prev.append(T);else{var _=new le("li",1);_.attr("style","list-style-type: none"),T.wrap(_)}}),L.validate&&R.getValidClasses()&&U.addAttributeFilter("class",function(N){for(var T,v,_,j,ie,ae,ge,E=N.length,Y=R.getValidClasses();E--;){for(v=(T=N[E]).attr("class").split(" "),ie="",_=0;_<v.length;_++)j=v[_],ge=!1,(ae=Y["*"])&&ae[j]&&(ge=!0),ae=Y[T.name],!ge&&ae&&ae[j]&&(ge=!0),ge&&(ie&&(ie+=" "),ie+=j);ie.length||(ie=null),T.attr("class",ie)}})}}),he(_t,[pe,Z],function(le,ee){var W=ee.makeMap;return function(B){var I,x,w,S,G,C=[];return I=(B=B||{}).indent,x=W(B.indent_before||""),w=W(B.indent_after||""),S=le.getEncodeFunc(B.entity_encoding||"raw",B.entities),G="html"==B.element_format,{start:function(L,R,F){var U,O,q,z;if(I&&x[L]&&C.length>0&&(z=C[C.length-1]).length>0&&"\n"!==z&&C.push("\n"),C.push("<",L),R)for(U=0,O=R.length;U<O;U++)C.push(" ",(q=R[U]).name,'="',S(q.value,!0),'"');C[C.length]=!F||G?">":" />",F&&I&&w[L]&&C.length>0&&(z=C[C.length-1]).length>0&&"\n"!==z&&C.push("\n")},end:function(L){var R;C.push("</",L,">"),I&&w[L]&&C.length>0&&(R=C[C.length-1]).length>0&&"\n"!==R&&C.push("\n")},text:function(L,R){L.length>0&&(C[C.length]=R?L:S(L))},cdata:function(L){C.push("<![CDATA[",L,"]]>")},comment:function(L){C.push("\x3c!--",L,"--\x3e")},pi:function(L,R){R?C.push("<?",L," ",S(R),"?>"):C.push("<?",L,"?>"),I&&C.push("\n")},doctype:function(L){C.push("<!DOCTYPE",L,">",I?"\n":"")},reset:function(){C.length=0},getContent:function(){return C.join("").replace(/\n$/,"")}}}}),he(Ht,[_t,Ue],function(le,ee){return function(W,B){var C=this,I=new le(W);(W=W||{}).validate=!("validate"in W)||W.validate,C.schema=B=B||new ee,C.writer=I,C.serialize=function(x){function w(L){var F,U,O,q,z,te,N,E,T,R=S[L.type];if(R)R(L);else{if(F=L.name,U=L.shortEnded,O=L.attributes,G&&O&&O.length>1&&((te=[]).map={},T=B.getElementRule(L.name))){for(N=0,E=T.attributesOrder.length;N<E;N++)(q=T.attributesOrder[N])in O.map&&(te.map[q]=z=O.map[q],te.push({name:q,value:z}));for(N=0,E=O.length;N<E;N++)(q=O[N].name)in te.map||(te.map[q]=z=O.map[q],te.push({name:q,value:z}));O=te}if(I.start(L.name,O,U),!U){if(L=L.firstChild)do{w(L)}while(L=L.next);I.end(F)}}}var S,G;return G=W.validate,S={3:function(L){I.text(L.value,L.raw)},8:function(L){I.comment(L.value)},7:function(L){I.pi(L.name,L.value)},10:function(L){I.doctype(L.value)},4:function(L){I.cdata(L.value)},11:function(L){if(L=L.firstChild)do{w(L)}while(L=L.next)}},I.reset(),1!=x.type||W.inner?S[11](x):w(x),I.getContent()}}}),he(tt,[ue,Tt,Qe,pe,Ht,Le,Ue,H,Z,_e],function(le,ee,W,B,C,I,x,w,S,G){var R=S.each,F=S.trim,U=le.DOM;return function(O,q){function z(ie){var Y=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+j.join("|")+')="[^"]+"'].join("|"),"gi");return G.trim(ie.replace(Y,""))}function te(ie){var ge,Ee,Ie,Ae,Pe,Y=ie,ae=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,De=q.schema;for(Y=z(Y),Pe=De.getShortEndedElements();Ae=ae.exec(Y);)Ee=ae.lastIndex,Ie=Ae[0].length,ge=Pe[Ae[1]]?Ee:W.findEndTag(De,Y,Ee),Y=Y.substring(0,Ee-Ie)+Y.substring(ge),ae.lastIndex=Ee-Ie;return Y}var T,v,_,j=["data-mce-selected"];return q&&(T=q.dom,v=q.schema),T=T||U,v=v||new x(O),O.entity_encoding=O.entity_encoding||"named",O.remove_trailing_brs=!("remove_trailing_brs"in O)||O.remove_trailing_brs,(_=new ee(O,v)).addAttributeFilter("data-mce-tabindex",function(ie,Y){for(var ge,ae=ie.length;ae--;)(ge=ie[ae]).attr("tabindex",ge.attributes.map["data-mce-tabindex"]),ge.attr(Y,null)}),_.addAttributeFilter("src,href,style",function(ie,Y){for(var ge,Ee,ae=ie.length,Ie="data-mce-"+Y,Ae=O.url_converter,Pe=O.url_converter_scope;ae--;)void 0!==(Ee=(ge=ie[ae]).attributes.map[Ie])?(ge.attr(Y,Ee.length>0?Ee:null),ge.attr(Ie,null)):(Ee=ge.attributes.map[Y],"style"===Y?Ee=T.serializeStyle(T.parseStyle(Ee),ge.name):Ae&&(Ee=Ae.call(Pe,Ee,Y,ge.name)),ge.attr(Y,Ee.length>0?Ee:null))}),_.addAttributeFilter("class",function(ie){for(var ae,ge,Y=ie.length;Y--;)(ge=(ae=ie[Y]).attr("class"))&&(ge=ae.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),ae.attr("class",ge.length>0?ge:null))}),_.addAttributeFilter("data-mce-type",function(ie,Y,ae){for(var Ee,ge=ie.length;ge--;)"bookmark"!==(Ee=ie[ge]).attributes.map["data-mce-type"]||ae.cleanup||Ee.remove()}),_.addNodeFilter("noscript",function(ie){for(var ae,Y=ie.length;Y--;)(ae=ie[Y].firstChild)&&(ae.value=B.decode(ae.value))}),_.addNodeFilter("script,style",function(ie,Y){function ae(Pe){return Pe.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var Ee,Ie,Ae,ge=ie.length;ge--;)Ie=(Ee=ie[ge]).firstChild?Ee.firstChild.value:"","script"===Y?((Ae=Ee.attr("type"))&&Ee.attr("type","mce-no/type"==Ae?null:Ae.replace(/^mce\-/,"")),Ie.length>0&&(Ee.firstChild.value="// <![CDATA[\n"+ae(Ie)+"\n// ]]>")):Ie.length>0&&(Ee.firstChild.value="\x3c!--\n"+ae(Ie)+"\n--\x3e")}),_.addNodeFilter("#comment",function(ie){for(var ae,Y=ie.length;Y--;)0===(ae=ie[Y]).value.indexOf("[CDATA[")?(ae.name="#cdata",ae.type=4,ae.value=ae.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===ae.value.indexOf("mce:protected ")&&(ae.name="#text",ae.type=3,ae.raw=!0,ae.value=unescape(ae.value).substr(14))}),_.addNodeFilter("xml:namespace,input",function(ie,Y){for(var ge,ae=ie.length;ae--;)7===(ge=ie[ae]).type?ge.remove():1===ge.type&&("input"!==Y||"type"in ge.attributes.map||ge.attr("type","text"))}),_.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(ie,Y){for(var ae=ie.length;ae--;)ie[ae].attr(Y,null)}),{schema:v,addNodeFilter:_.addNodeFilter,addAttributeFilter:_.addAttributeFilter,serialize:function(ie,Y){var ge,Ee,Ie,Ae,Pe,De;return w.ie&&T.select("script,style,select,map").length>0?(Pe=ie.innerHTML,ie=ie.cloneNode(!1),T.setHTML(ie,Pe)):ie=ie.cloneNode(!0),(ge=document.implementation).createHTMLDocument&&(Ee=ge.createHTMLDocument(""),R("BODY"==ie.nodeName?ie.childNodes:[ie],function(ze){Ee.body.appendChild(Ee.importNode(ze,!0))}),ie="BODY"!=ie.nodeName?Ee.body.firstChild:Ee.body,Ie=T.doc,T.doc=Ee),(Y=Y||{}).format=Y.format||"html",Y.selection&&(Y.forced_root_block=""),Y.no_events||(Y.node=ie,this.onPreProcess(Y)),function(O){function q(N){return N&&"br"===N.name}var z,te;q(z=O.lastChild)&&q(te=z.prev)&&(z.remove(),te.remove())}(De=_.parse(F(Y.getInner?ie.innerHTML:T.getOuterHTML(ie)),Y)),Ae=new C(O,v),Y.content=Ae.serialize(De),Y.cleanup||(Y.content=G.trim(Y.content),Y.content=Y.content.replace(/\uFEFF/g,"")),Y.no_events||this.onPostProcess(Y),Ie&&(T.doc=Ie),Y.node=null,Y.content},addRules:function(ie){v.addValidElements(ie)},setRules:function(ie){v.setValidElements(ie)},onPreProcess:function(ie){q&&q.fire("PreProcess",ie)},onPostProcess:function(ie){q&&q.fire("PostProcess",ie)},addTempAttr:function(ie){-1===S.inArray(j,ie)&&(_.addAttributeFilter(ie,function(Y,ae){for(var ge=Y.length;ge--;)Y[ge].attr(ae,null)}),j.push(ie))},trimHtml:z,getTrimmedContent:function(){return te(q.getBody().innerHTML)},trimContent:te}}}),he(kt,[],function(){return function(ee){function W(w,S){var G,R,F,U,O,q,z,N,L=0,te=-1;if((G=w.duplicate()).collapse(S),(N=G.parentElement()).ownerDocument===ee.dom.doc){for(;"false"===N.contentEditable;)N=N.parentNode;if(!N.hasChildNodes())return{node:N,inside:1};for(R=(U=N.children).length-1;L<=R;)if(z=Math.floor((L+R)/2),G.moveToElementText(O=U[z]),(te=G.compareEndPoints(S?"StartToStart":"EndToEnd",w))>0)R=z-1;else{if(!(te<0))return{node:O};L=z+1}if(te<0)for(O?G.collapse(!1):(G.moveToElementText(N),G.collapse(!0),O=N,F=!0),q=0;0!==G.compareEndPoints(S?"StartToStart":"StartToEnd",w)&&0!==G.move("character",1)&&N==G.parentElement();)q++;else for(G.collapse(!0),q=0;0!==G.compareEndPoints(S?"StartToStart":"StartToEnd",w)&&0!==G.move("character",-1)&&N==G.parentElement();)q++;return{node:O,position:te,offset:q,inside:F}}}var C=this,I=ee.dom;this.getBookmark=function(w){function S(F){var U,O,q,z,te=[];for(U=F.parentNode,O=I.getRoot().parentNode;U!=O&&9!==U.nodeType;){for(z=(q=U.children).length;z--;)if(F===q[z]){te.push(z);break}F=U,U=U.parentNode}return te}function G(F){var U;if(U=W(L,F))return{position:U.position,offset:U.offset,indexes:S(U.node),inside:U.inside}}var L=ee.getRng(),R={};return 2===w&&(L.item?R.start={ctrl:!0,indexes:S(L.item(0))}:(R.start=G(!0),ee.isCollapsed()||(R.end=G()))),R},this.moveToBookmark=function(w){function S(F){var U,O,q,z;for(U=I.getRoot(),O=F.length-1;O>=0;O--)(q=F[O])<=(z=U.children).length-1&&(U=z[q]);return U}function G(F){var O,q,te,U=w[F?"start":"end"];U&&(O=U.position>0,(q=R.createTextRange()).moveToElementText(S(U.indexes)),void 0!==(te=U.offset)?(q.collapse(U.inside||O),q.moveStart("character",O?-te:te)):q.collapse(F),L.setEndPoint(F?"StartToStart":"EndToStart",q),F&&L.collapse(!0))}var L,R=I.doc.body;w.start&&(w.start.ctrl?((L=R.createControlRange()).addElement(S(w.start.indexes)),L.select()):(L=R.createTextRange(),G(!0),G(),L.select()))},this.addRange=function(w){function S(T){var v,_,j,ie,Y;j=I.create("a"),v=T?R:U,_=T?F:O,ie=G.duplicate(),v!=z&&v!=z.documentElement||(v=te,_=0),3==v.nodeType?(v.parentNode.insertBefore(j,v),ie.moveToElementText(j),ie.moveStart("character",_),I.remove(j),G.setEndPoint(T?"StartToStart":"EndToEnd",ie)):((Y=v.childNodes).length?(_>=Y.length?I.insertAfter(j,Y[Y.length-1]):v.insertBefore(j,Y[_]),ie.moveToElementText(j)):v.canHaveHTML&&(v.innerHTML="<span>&#xFEFF;</span>",ie.moveToElementText(j=v.firstChild),ie.collapse(!1)),G.setEndPoint(T?"StartToStart":"EndToEnd",ie),I.remove(j))}var G,L,R,F,U,O,q,N,E,z=ee.dom.doc,te=z.body;if(R=w.startContainer,F=w.startOffset,U=w.endContainer,O=w.endOffset,G=te.createTextRange(),R==U&&1==R.nodeType){if(F==O&&!R.hasChildNodes()){if(R.canHaveHTML)return(q=R.previousSibling)&&!q.hasChildNodes()&&I.isBlock(q)?q.innerHTML="&#xFEFF;":q=null,R.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",G.moveToElementText(R.lastChild),G.select(),I.doc.selection.clear(),R.innerHTML="",void(q&&(q.innerHTML=""));F=I.nodeIndex(R),R=R.parentNode}if(F==O-1)try{if(E=R.childNodes[F],(L=te.createControlRange()).addElement(E),L.select(),(N=ee.getRng()).item&&E===N.item(0))return}catch(T){}}S(!0),S(),G.select()},this.getRangeAt=function(){function w(q){var te,N,T,_,z=W(S,q),E=0;if(te=z.node,N=z.offset,!z.inside||te.hasChildNodes())if(void 0!==N){if(z.position<0){if(!(T=z.inside?te.firstChild:te.nextSibling))return void G[q?"setStartAfter":"setEndAfter"](te);if(!N)return void(3==T.nodeType?G[q?"setStart":"setEnd"](T,0):G[q?"setStartBefore":"setEndBefore"](T));for(;T;){if(3==T.nodeType&&(E+=(_=T.nodeValue).length)>=N){te=T,E=_.length-(E-=N);break}T=T.nextSibling}}else{if(!(T=te.previousSibling))return G[q?"setStartBefore":"setEndBefore"](te);if(!N)return void(3==te.nodeType?G[q?"setStart":"setEnd"](T,te.nodeValue.length):G[q?"setStartAfter":"setEndAfter"](T));for(;T;){if(3==T.nodeType&&(E+=T.nodeValue.length)>=N){te=T,E-=N;break}T=T.previousSibling}}G[q?"setStart":"setEnd"](te,E)}else G[q?"setStartBefore":"setEndAfter"](te);else G[q?"setStart":"setEnd"](te,0)}var L,R,F,U,O,S=ee.getRng(),G=I.createRng();if((L=S.item?S.item(0):S.parentElement()).ownerDocument!=I.doc)return G;if(R=ee.isCollapsed(),S.item)return G.setStart(L.parentNode,I.nodeIndex(L)),G.setEnd(G.startContainer,G.startOffset+1),G;try{w(!0),R||w()}catch(q){if(-2147024809!=q.number)throw q;O=C.getBookmark(2),(F=S.duplicate()).collapse(!0),L=F.parentElement(),R||((F=S.duplicate()).collapse(!1),(U=F.parentElement()).innerHTML=U.innerHTML),L.innerHTML=L.innerHTML,C.moveToBookmark(O),S=ee.getRng(),w(!0),R||w()}return G}}}),he(It,[H],function(le){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(ee){return ee.shiftKey||ee.ctrlKey||ee.altKey||this.metaKeyPressed(ee)},metaKeyPressed:function(ee){return le.mac?ee.metaKey:ee.ctrlKey&&!ee.altKey}}}),he(nn,[It,Z,M,H,ve],function(le,ee,W,B,C){var x=C.isContentEditableFalse,w=C.isContentEditableTrue;return function(S,G){function L(gt){var Ct=G.settings.object_resizing;return!1!==Ct&&!B.iOS&&("string"!=typeof Ct&&(Ct="table,img,div"),"false"!==gt.getAttribute("data-mce-resize")&&gt!=G.getBody()&&G.dom.is(gt,Ct))}function R(gt){var Ct,xt,zn,jn;Kt=(Kt=(Ct=gt.screenX-de)*ze[2]+Ze)<5?5:Kt,Gt=(Gt=(xt=gt.screenY-we)*ze[3]+ft)<5?5:Gt,("IMG"==Ie.nodeName&&!1!==G.settings.resize_img_proportional?!le.modifierPressed(gt):le.modifierPressed(gt)||"IMG"==Ie.nodeName&&ze[2]*ze[3]!=0)&&(Fe(Ct)>Fe(xt)?(Gt=Ke(Kt*Et),Kt=Ke(Gt/Et)):(Kt=Ke(Gt/Et),Gt=Ke(Kt*Et))),ge.setStyles(Ae,{width:Kt,height:Gt}),ge.setStyles(Pe,{left:zn=(zn=ze.startPos.x+Ct)>0?zn:0,top:jn=(jn=ze.startPos.y+xt)>0?jn:0,display:"block"}),Pe.innerHTML=Kt+" &times; "+Gt,ze[2]<0&&Ae.clientWidth<=Kt&&ge.setStyle(Ae,"left",Re+(Ze-Kt)),ze[3]<0&&Ae.clientHeight<=Gt&&ge.setStyle(Ae,"top",We+(ft-Gt)),(Ct=at.scrollWidth-dt)+(xt=at.scrollHeight-it)!=0&&ge.setStyles(Pe,{left:zn-Ct,top:jn-xt}),Vt||(G.fire("ObjectResizeStart",{target:Ie,width:Ze,height:ft}),Vt=!0)}function F(){function gt(Ct,xt){xt&&(Ie.style[Ct]||!G.schema.isValid(Ie.nodeName.toLowerCase(),Ct)?ge.setStyle(Ie,Ct,xt):ge.setAttrib(Ie,Ct,xt))}Vt=!1,gt("width",Kt),gt("height",Gt),ge.unbind(je,"mousemove",R),ge.unbind(je,"mouseup",F),ye!=je&&(ge.unbind(ye,"mousemove",R),ge.unbind(ye,"mouseup",F)),ge.remove(Ae),ge.remove(Pe),me&&"TABLE"!=Ie.nodeName||U(Ie),G.fire("ObjectResized",{target:Ie,width:Kt,height:Gt}),ge.setAttrib(Ie,"style",ge.getAttrib(Ie,"style")),G.nodeChanged()}function U(gt,Ct,xt){var vn,zn,jn,Mi,ei;O(),j(),vn=ge.getPos(gt,at),Re=vn.x,We=vn.y,ei=gt.getBoundingClientRect(),zn=ei.width||ei.right-ei.left,jn=ei.height||ei.bottom-ei.top,Ie!=gt&&(_(),Ie=gt,Kt=Gt=0),Mi=G.fire("ObjectSelected",{target:gt}),L(gt)&&!Mi.isDefaultPrevented()?Ee(De,function(ni,Ai){function gi(Ot){de=Ot.screenX,we=Ot.screenY,Et=(ft=Ie.clientHeight)/(Ze=Ie.clientWidth),ze=ni,ni.startPos={x:zn*ni[0]+Re,y:jn*ni[1]+We},dt=at.scrollWidth,it=at.scrollHeight,Ae=Ie.cloneNode(!0),ge.addClass(Ae,"mce-clonedresizable"),ge.setAttrib(Ae,"data-mce-bogus","all"),Ae.contentEditable=!1,Ae.unSelectabe=!0,ge.setStyles(Ae,{left:Re,top:We,margin:0}),Ae.removeAttribute("data-mce-selected"),at.appendChild(Ae),ge.bind(je,"mousemove",R),ge.bind(je,"mouseup",F),ye!=je&&(ge.bind(ye,"mousemove",R),ge.bind(ye,"mouseup",F)),Pe=ge.add(at,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},Ze+" &times; "+ft)}var mi;return Ct?void(Ai==Ct&&gi(xt)):((mi=ge.get("mceResizeHandle"+Ai))&&ge.remove(mi),mi=ge.add(at,"div",{id:"mceResizeHandle"+Ai,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Ai+"-resize; margin:0; padding:0"}),B.ie&&(mi.contentEditable=!1),ge.bind(mi,"mousedown",function(Ot){Ot.stopImmediatePropagation(),Ot.preventDefault(),gi(Ot)}),ni.elm=mi,void ge.setStyles(mi,{left:zn*ni[0]+Re-mi.offsetWidth/2,top:jn*ni[1]+We-mi.offsetHeight/2}))}):O(),Ie.setAttribute("data-mce-selected","1")}function O(){var gt,Ct;for(gt in j(),Ie&&Ie.removeAttribute("data-mce-selected"),De)(Ct=ge.get("mceResizeHandle"+gt))&&(ge.unbind(Ct),ge.remove(Ct))}function q(gt){function Ct(zn,jn){if(zn)do{if(zn===jn)return!0}while(zn=zn.parentNode)}var xt,vn;if(!Vt&&!G.removed)return Ee(ge.select("img[data-mce-selected],hr[data-mce-selected]"),function(zn){zn.removeAttribute("data-mce-selected")}),vn="mousedown"==gt.type?gt.target:S.getNode(),Ct(vn=ge.$(vn).closest(me?"table":"table,img,hr")[0],at)&&(ie(),Ct(xt=S.getStart(!0),vn)&&Ct(S.getEnd(!0),vn)&&(!me||vn!=xt&&"IMG"!==xt.nodeName))?void U(vn):void O()}function z(gt,Ct,xt){gt&&gt.attachEvent&&gt.attachEvent("on"+Ct,xt)}function te(gt,Ct,xt){gt&&gt.detachEvent&&gt.detachEvent("on"+Ct,xt)}function N(gt){var xt,vn,zn,Mi,ei,ni,Ct=gt.srcElement;for(vn in xt=Ct.getBoundingClientRect(),ei=Ve.clientX-xt.left,ni=Ve.clientY-xt.top,De)if(Mi=Ct.offsetHeight*(zn=De[vn])[1],Fe(Ct.offsetWidth*zn[0]-ei)<8&&Fe(Mi-ni)<8){ze=zn;break}Vt=!0,G.fire("ObjectResizeStart",{target:Ie,width:Ie.clientWidth,height:Ie.clientHeight}),G.getDoc().selection.empty(),U(Ct,vn,Ve)}function T(gt){return x(function(S,G){for(;G&&G!=S;){if(w(G)||x(G))return G;G=G.parentNode}return null}(G.getBody(),gt))}function v(gt){var Ct=gt.srcElement;if(T(Ct))!function(gt){gt.preventDefault?gt.preventDefault():gt.returnValue=!1}(gt);else if(Ct!=Ie){if(G.fire("ObjectSelected",{target:Ct}),_(),0===Ct.id.indexOf("mceResizeHandle"))return void(gt.returnValue=!1);"IMG"!=Ct.nodeName&&"TABLE"!=Ct.nodeName||(O(),Ie=Ct,z(Ct,"resizestart",N))}}function _(){te(Ie,"resizestart",N)}function j(){for(var gt in De){var Ct=De[gt];Ct.elm&&(ge.unbind(Ct.elm),delete Ct.elm)}}function ie(){try{G.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(gt){}}function Y(gt){var Ct;if(me){Ct=je.body.createControlRange();try{return Ct.addElement(gt),Ct.select(),!0}catch(xt){}}}var Ie,Ae,Pe,De,ze,Ve,de,we,Re,We,Ze,ft,Et,Vt,Kt,Gt,dt,it,ge=G.dom,Ee=ee.each,je=G.getDoc(),ye=document,me=B.ie&&B.ie<11,Fe=Math.abs,Ke=Math.round,at=G.getBody();De={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var Mt=".mce-content-body";return G.contentStyles.push(Mt+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+Mt+" .mce-resizehandle:hover {background: #000}"+Mt+" img[data-mce-selected],"+Mt+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+Mt+" .mce-clonedresizable {position: absolute;"+(B.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+Mt+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),G.on("init",function(){me?(G.on("ObjectResized",function(Ct){"TABLE"!=Ct.target.nodeName&&(O(),Y(Ct.target))}),z(at,"controlselect",v),G.on("mousedown",function(Ct){Ve=Ct})):(ie(),B.ie>=11&&(G.on("mousedown click",function(Ct){var xt=Ct.target,vn=xt.nodeName;Vt||!/^(TABLE|IMG|HR)$/.test(vn)||T(xt)||(G.selection.select(xt,"TABLE"==vn),"mousedown"==Ct.type&&G.nodeChanged())}),G.dom.bind(at,"mscontrolselect",function(Ct){function xt(vn){W.setEditorTimeout(G,function(){G.selection.select(vn)})}return T(Ct.target)?(Ct.preventDefault(),void xt(Ct.target)):void(/^(TABLE|IMG|HR)$/.test(Ct.target.nodeName)&&(Ct.preventDefault(),"IMG"==Ct.target.tagName&&xt(Ct.target)))})));var gt=W.throttle(function(Ct){G.composing||q(Ct)});G.on("nodechange ResizeEditor ResizeWindow drop",gt),G.on("keyup compositionend",function(Ct){Ie&&"TABLE"==Ie.nodeName&&gt(Ct)}),G.on("hide blur",O)}),G.on("remove",j),{isResizable:L,showResizeRect:U,hideResizeRect:O,updateResizeRect:q,controlSelect:Y,destroy:function(){Ie=Ae=null,me&&(_(),te(at,"controlselect",v))}}}}),he(ct,[],function(){var w=[].slice;return{constant:function(S){return function(){return S}},negate:function(S){return function(G){return!S(G)}},and:function(){var S=w.call(arguments);return function(G){for(var L=0;L<S.length;L++)if(!S[L](G))return!1;return!0}},or:function(){var S=w.call(arguments);return function(G){for(var L=0;L<S.length;L++)if(S[L](G))return!0;return!1}},curry:function I(S){var G=w.call(arguments);return G.length-1>=S.length?S.apply(this,G.slice(1)):function(){var L=G.concat([].slice.call(arguments));return I.apply(this,L)}},compose:function(S,G){return function(L){return S(G(L))}},noop:function(){}}}),he(Lt,[ve,P,Me],function(le,ee,W){function B(z){return!q(z)&&(R(z)?!F(z.parentNode):U(z)||L(z)||O(z)||G(z))}function C(z,te){for(z=z.parentNode;z&&z!=te;z=z.parentNode){if(G(z))return!1;if(S(z))return!0}return!0}var S=le.isContentEditableTrue,G=le.isContentEditableFalse,L=le.isBr,R=le.isText,F=le.matchNodeNames("script style textarea"),U=le.matchNodeNames("img input textarea hr iframe video audio object"),O=le.matchNodeNames("table"),q=W.isCaretContainer;return{isCaretCandidate:B,isInEditable:C,isAtomic:function(z){return U(z)||function(z){return!!G(z)&&!0!==ee.reduce(z.getElementsByTagName("*"),function(te,N){return te||S(N)},!1)}(z)},isEditableCaretCandidate:function(z,te){return B(z)&&C(z,te)}}}),he(ln,[],function(){function le(R){return R?{left:L(R.left),top:L(R.top),bottom:L(R.bottom),right:L(R.right),width:L(R.width),height:L(R.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function B(R,F,U){return R>=0&&R<=Math.min(F.height,U.height)/2}function C(R,F){return R.bottom<F.top||!(R.top>F.bottom)&&B(F.top-R.bottom,R,F)}function I(R,F){return R.top>F.bottom||!(R.bottom<F.top)&&B(F.bottom-R.top,R,F)}function x(R,F){return R.left<F.left}function w(R,F){return R.right>F.right}var L=Math.round;return{clone:le,collapse:function(R,F){return R=le(R),F||(R.left=R.left+R.width),R.right=R.left,R.width=0,R},isEqual:function(R,F){return R.left===F.left&&R.top===F.top&&R.bottom===F.bottom&&R.right===F.right},isAbove:C,isBelow:I,isLeft:x,isRight:w,compare:function(R,F){return C(R,F)?-1:I(R,F)?1:x(R,F)?-1:w(R,F)?1:0},containsXY:function(R,F,U){return F>=R.left&&F<=R.right&&U>=R.top&&U<=R.bottom}}}),he(Dt,[],function(){var ee=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:function(W){return"string"==typeof W&&W.charCodeAt(0)>=768&&ee.test(W)}}}),he(dn,[ct,ve,ue,Ne,Lt,ln,Dt],function(le,ee,W,B,C,I,x){function w(_){return"createRange"in _?_.createRange():W.DOM.createRng()}function S(_){return _&&/[\r\n\t ]/.test(_)}function G(_){var Y,j=_.startContainer,ie=_.startOffset;return!!(S(_.toString())&&te(j.parentNode)&&(Y=j.data,S(Y[ie-1])||S(Y[ie+1])))}function R(_,j,ie){function Ee(){return ie||(ie=function(_){function ie(Pe){var De,ze;return ze=Pe.getClientRects(),De=I.clone(ze.length>0?ze[0]:Pe.getBoundingClientRect()),E(Pe)&&0===De.left?function(Pe){var we,De=Pe.ownerDocument,ze=w(De),Ve=De.createTextNode("\xa0"),de=Pe.parentNode;return de.insertBefore(Ve,Pe),ze.setStart(Ve,0),ze.setEnd(Ve,1),we=I.clone(ze.getBoundingClientRect()),de.removeChild(Ve),we}(Pe):De}function Y(Pe,De){return(Pe=I.collapse(Pe,De)).width=1,Pe.right=Pe.left+1,Pe}function ae(Pe){0!==Pe.height&&(Ee.length>0&&I.isEqual(Pe,Ee[Ee.length-1])||Ee.push(Pe))}function ge(Pe,De){var ze=w(Pe.ownerDocument);if(De<Pe.data.length){if(x.isExtendingChar(Pe.data[De]))return Ee;if(x.isExtendingChar(Pe.data[De-1])&&(ze.setStart(Pe,De),ze.setEnd(Pe,De+1),!G(ze)))return ae(Y(ie(ze),!1)),Ee}De>0&&(ze.setStart(Pe,De-1),ze.setEnd(Pe,De),G(ze)||ae(Y(ie(ze),!1))),De<Pe.data.length&&(ze.setStart(Pe,De),ze.setEnd(Pe,De+1),G(ze)||ae(Y(ie(ze),!0)))}var Ie,Ae,Ee=[];if(N(_.container()))return ge(_.container(),_.offset()),Ee;if(F(_.container()))if(_.isAtEnd())Ae=v(_.container(),_.offset()),N(Ae)&&ge(Ae,Ae.data.length),z(Ae)&&!E(Ae)&&ae(Y(ie(Ae),!1));else{if(Ae=v(_.container(),_.offset()),N(Ae)&&ge(Ae,0),z(Ae)&&_.isAtEnd())return ae(Y(ie(Ae),!1)),Ee;Ie=v(_.container(),_.offset()-1),z(Ie)&&!E(Ie)&&(O(Ie)||O(Ae)||!z(Ae))&&ae(Y(ie(Ie),!1)),z(Ae)&&ae(Y(ie(Ae),!0))}return Ee}(new R(_,j))),ie}return{container:le.constant(_),offset:le.constant(j),toRange:function(){var De;return(De=w(_.ownerDocument)).setStart(_,j),De.setEnd(_,j),De},getClientRects:Ee,isVisible:function(){return Ee().length>0},isAtStart:function(){return N(_),0===j},isAtEnd:function(){return N(_)?j>=_.data.length:j>=_.childNodes.length},isEqual:function(De){return De&&_===De.container()&&j===De.offset()},getNode:function(De){return v(_,De?j-1:j)}}}var F=ee.isElement,U=C.isCaretCandidate,O=ee.matchStyleValues("display","block table"),q=ee.matchStyleValues("float","left right"),z=le.and(F,U,le.negate(q)),te=le.negate(ee.matchStyleValues("white-space","pre pre-line pre-wrap")),N=ee.isText,E=ee.isBr,T=W.nodeIndex,v=B.getNode;return R.fromRangeStart=function(_){return new R(_.startContainer,_.startOffset)},R.fromRangeEnd=function(_){return new R(_.endContainer,_.endOffset)},R.after=function(_){return new R(_.parentNode,T(_)+1)},R.before=function(_){return new R(_.parentNode,T(_))},R}),he(Nt,[ve,ue,ct,P,dn],function(le,ee,W,B,C){function I(E){var T=E.parentNode;return te(T)?I(T):T}function x(E){return E?B.reduce(E.childNodes,function(T,v){return te(v)&&"BR"!=v.nodeName?T=T.concat(x(v)):T.push(v),T},[]):[]}function S(E){return function(T){return E===T}}function G(E){var T,v,_;return T=x(I(E)),v=B.findIndex(T,S(E),E),T=T.slice(0,v+1),_=B.reduce(T,function(j,ie,Y){return z(ie)&&z(T[Y-1])&&j++,j},0),T=B.filter(T,le.matchNodeNames(E.nodeName)),(v=B.findIndex(T,S(E),E))-_}function L(E){return(z(E)?"text()":E.nodeName.toLowerCase())+"["+G(E)+"]"}var z=le.isText,te=le.isBogus,N=ee.nodeIndex;return{create:function(E,T){var v,_,ie,Y,ae,j=[];return v=T.container(),_=T.offset(),z(v)?ie=function(E,T){for(;(E=E.previousSibling)&&z(E);)T+=E.data.length;return T}(v,_):(_>=(Y=v.childNodes).length?(ie="after",_=Y.length-1):ie="before",v=Y[_]),j.push(L(v)),ae=function(E,T,v){var _=[];for(T=T.parentNode;T!=E;T=T.parentNode)_.push(T);return _}(E,v),ae=B.filter(ae,W.negate(le.isBogus)),(j=j.concat(B.map(ae,function(ge){return L(ge)}))).reverse().join("/")+","+ie},resolve:function(E,T){var v,_,j;return T?(v=T.split(","),T=v[0].split("/"),j=v.length>1?v[1]:"before",_=B.reduce(T,function(ie,Y){return(Y=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(Y))?("text()"===Y[1]&&(Y[1]="#text"),function(E,T,v){var _=x(E);return _=B.filter(_,function(j,ie){return!z(j)||!z(_[ie-1])}),(_=B.filter(_,le.matchNodeNames(T)))[v]}(ie,Y[1],parseInt(Y[2],10))):null},E),_?z(_)?function(E,T){for(var j,v=E,_=0;z(v);){if(j=v.data.length,T>=_&&T<=_+j){E=v,T-=_;break}if(!z(v.nextSibling)){E=v,T=j;break}_+=j,v=v.nextSibling}return T>E.data.length&&(T=E.data.length),new C(E,T)}(_,parseInt(j,10)):(j="after"===j?N(_)+1:N(_),new C(_.parentNode,j)):null):null}}}),he(hn,[H,Z,Me,Nt,dn,ve,Ne],function(le,ee,W,B,C,I,x){function w(G){var L=G.dom;this.getBookmark=function(R,F){function U(Y,ae){var ge=0;return ee.each(L.select(Y),function(Ee){if("all"!==Ee.getAttribute("data-mce-bogus"))return Ee!=ae&&void ge++}),ge}function O(Y){function ae(ge){var Ee,Ie,Ae,Pe=ge?"start":"end";Ie=Y[Pe+"Offset"],1==(Ee=Y[Pe+"Container"]).nodeType&&"TR"==Ee.nodeName&&(Ee=(Ae=Ee.childNodes)[Math.min(ge?Ie:Ie-1,Ae.length-1)])&&Y["set"+(ge?"Start":"End")](Ee,Ie=ge?0:Ee.childNodes.length)}return ae(!0),ae(),Y}var te,N,E,T,v,_,ie,j="&#xFEFF;";if(2==R)return v=(_=G.getNode())?_.nodeName:null,te=G.getRng(),S(_)||"IMG"==v?{name:v,index:U(v,_)}:G.tridentSel?G.tridentSel.getBookmark(R):(_=function(Y){function ae(ge,Ee){var Ie;return I.isElement(ge)&&(ge=x.getNode(ge,Ee),S(ge))?ge:W.isCaretContainer(ge)&&(I.isText(ge)&&W.isCaretContainerBlock(ge)&&(ge=ge.parentNode),S(Ie=ge.previousSibling)||S(Ie=ge.nextSibling))?Ie:void 0}return ae(Y.startContainer,Y.startOffset)||ae(Y.endContainer,Y.endOffset)}(te))?{name:v=_.tagName,index:U(v,_)}:function(Y){function ae(Ie,Ae){var Ve,de,Pe=Ie[Ae?"startContainer":"endContainer"],De=Ie[Ae?"startOffset":"endOffset"],ze=[],we=0;if(3==Pe.nodeType){if(F)for(Ve=Pe.previousSibling;Ve&&3==Ve.nodeType;Ve=Ve.previousSibling)De+=Ve.nodeValue.length;ze.push(De)}else De>=(de=Pe.childNodes).length&&de.length&&(we=1,De=Math.max(0,de.length-1)),ze.push(L.nodeIndex(de[De],F)+we);for(;Pe&&Pe!=ge;Pe=Pe.parentNode)ze.push(L.nodeIndex(Pe,F));return ze}var ge=L.getRoot(),Ee={};return Ee.start=ae(Y,!0),G.isCollapsed()||(Ee.end=ae(Y)),Ee}(te);if(3==R)return te=G.getRng(),{start:B.create(L.getRoot(),C.fromRangeStart(te)),end:B.create(L.getRoot(),C.fromRangeEnd(te))};if(R)return{rng:G.getRng()};if(te=G.getRng(),E=L.uniqueId(),T=G.isCollapsed(),ie="overflow:hidden;line-height:0px",te.duplicate||te.item){if(te.item)return{name:v=(_=te.item(0)).nodeName,index:U(v,_)};N=te.duplicate();try{te.collapse(),te.pasteHTML('<span data-mce-type="bookmark" id="'+E+'_start" style="'+ie+'">'+j+"</span>"),T||(N.collapse(!1),te.moveToElementText(N.parentElement()),0===te.compareEndPoints("StartToEnd",N)&&N.move("character",-1),N.pasteHTML('<span data-mce-type="bookmark" id="'+E+'_end" style="'+ie+'">'+j+"</span>"))}catch(Y){return null}}else{if("IMG"==(v=(_=G.getNode()).nodeName))return{name:v,index:U(v,_)};N=O(te.cloneRange()),T||(N.collapse(!1),N.insertNode(L.create("span",{"data-mce-type":"bookmark",id:E+"_end",style:ie},j))),(te=O(te)).collapse(!0),te.insertNode(L.create("span",{"data-mce-type":"bookmark",id:E+"_start",style:ie},j))}return G.moveToBookmark({id:E,keep:1}),{id:E}},this.moveToBookmark=function(R){function F(_){var ie,Y,ae,ge,j=R[_?"start":"end"];if(j){for(ae=j[0],Y=te,ie=j.length-1;ie>=1;ie--){if(j[ie]>(ge=Y.childNodes).length-1)return;Y=ge[j[ie]]}3===Y.nodeType&&(ae=Math.min(j[0],Y.nodeValue.length)),1===Y.nodeType&&(ae=Math.min(j[0],Y.childNodes.length)),_?z.setStart(Y,ae):z.setEnd(Y,ae)}return!0}function U(_){var ie,Y,ae,ge,j=L.get(R.id+"_"+_),Ee=R.keep;if(j&&(ie=j.parentNode,"start"==_?(Ee?(ie=j.firstChild,Y=1):Y=L.nodeIndex(j),N=E=ie,T=v=Y):(Ee?(ie=j.firstChild,Y=1):Y=L.nodeIndex(j),E=ie,v=Y),!Ee)){for(ge=j.previousSibling,ae=j.nextSibling,ee.each(ee.grep(j.childNodes),function(Ie){3==Ie.nodeType&&(Ie.nodeValue=Ie.nodeValue.replace(/\uFEFF/g,""))});j=L.get(R.id+"_"+_);)L.remove(j,1);ge&&ae&&ge.nodeType==ae.nodeType&&3==ge.nodeType&&!le.opera&&(Y=ge.nodeValue.length,ge.appendData(ae.nodeValue),L.remove(ae),"start"==_?(N=E=ge,T=v=Y):(E=ge,v=Y))}}function O(_){return!L.isBlock(_)||_.innerHTML||le.ie||(_.innerHTML='<br data-mce-bogus="1" />'),_}var z,te,N,E,T,v,_,j;if(R)if(ee.isArray(R.start)){if(z=L.createRng(),te=L.getRoot(),G.tridentSel)return G.tridentSel.moveToBookmark(R);F(!0)&&F()&&G.setRng(z)}else"string"==typeof R.start?G.setRng((_=L.createRng(),j=B.resolve(L.getRoot(),R.start),_.setStart(j.container(),j.offset()),j=B.resolve(L.getRoot(),R.end),_.setEnd(j.container(),j.offset()),_)):R.id?(U("start"),U("end"),N&&((z=L.createRng()).setStart(O(N),T),z.setEnd(O(E),v),G.setRng(z))):R.name?G.select(L.select(R.name)[R.index]):R.rng&&G.setRng(R.rng)}}var S=I.isContentEditableFalse;return w.isBookmarkNode=function(G){return G&&"SPAN"===G.tagName&&"bookmark"===G.getAttribute("data-mce-type")},w}),he(qn,[$,kt,nn,Ne,hn,ve,H,Z,dn],function(le,ee,W,B,C,I,x,w,S){function G(U,O,q,z){var te=this;te.dom=U,te.win=O,te.serializer=q,te.editor=z,te.bookmarkManager=new C(te),te.controlSelection=new W(te,z),te.win.getSelection||(te.tridentSel=new ee(te))}var L=w.each,R=w.trim,F=x.ie;return G.prototype={setCursorLocation:function(U,O){var q=this,z=q.dom.createRng();U?(z.setStart(U,O),z.setEnd(U,O),q.setRng(z),q.collapse(!1)):(q._moveEndPoint(z,q.editor.getBody(),!0),q.setRng(z))},getContent:function(U){var N,E,T,O=this,q=O.getRng(),z=O.dom.create("body"),te=O.getSel();return N=E="",(U=U||{}).get=!0,U.format=U.format||"html",U.selection=!0,O.editor.fire("BeforeGetContent",U),"text"==U.format?O.isCollapsed()?"":q.text||(te.toString?te.toString():""):(q.cloneContents?(T=q.cloneContents())&&z.appendChild(T):q.item!==ht||q.htmlText!==ht?(z.innerHTML="<br>"+(q.item?q.item(0).outerHTML:q.htmlText),z.removeChild(z.firstChild)):z.innerHTML=q.toString(),/^\s/.test(z.innerHTML)&&(N=" "),/\s+$/.test(z.innerHTML)&&(E=" "),U.getInner=!0,U.content=O.isCollapsed()?"":N+O.serializer.serialize(z,U)+E,O.editor.fire("GetContent",U),U.content)},setContent:function(U,O){var te,E,T,q=this,z=q.getRng(),N=q.win.document;if((O=O||{format:"html"}).set=!0,O.selection=!0,O.content=U,O.no_events||q.editor.fire("BeforeSetContent",O),U=O.content,z.insertNode){U+='<span id="__caret">_</span>',z.startContainer==N&&z.endContainer==N?N.body.innerHTML=U:(z.deleteContents(),0===N.body.childNodes.length?N.body.innerHTML=U:z.createContextualFragment?z.insertNode(z.createContextualFragment(U)):(E=N.createDocumentFragment(),T=N.createElement("div"),E.appendChild(T),T.outerHTML=U,z.insertNode(E))),te=q.dom.get("__caret"),(z=N.createRange()).setStartBefore(te),z.setEndBefore(te),q.setRng(z),q.dom.remove("__caret");try{q.setRng(z)}catch(v){}}else z.item&&(N.execCommand("Delete",!1,null),z=q.getRng()),/^\s+/.test(U)?(z.pasteHTML('<span id="__mce_tmp">_</span>'+U),q.dom.remove("__mce_tmp")):z.pasteHTML(U);O.no_events||q.editor.fire("SetContent",O)},getStart:function(U){var z,te,N,E,O=this,q=O.getRng();if(q.duplicate||q.item){if(q.item)return q.item(0);for((N=q.duplicate()).collapse(1),(z=N.parentElement()).ownerDocument!==O.dom.doc&&(z=O.dom.getRoot()),te=E=q.parentElement();E=E.parentNode;)if(E==z){z=te;break}return z}return 1==(z=q.startContainer).nodeType&&z.hasChildNodes()&&(U&&q.collapsed||(z=z.childNodes[Math.min(z.childNodes.length-1,q.startOffset)])),z&&3==z.nodeType?z.parentNode:z},getEnd:function(U){var z,te,O=this,q=O.getRng();return q.duplicate||q.item?q.item?q.item(0):((q=q.duplicate()).collapse(0),(z=q.parentElement()).ownerDocument!==O.dom.doc&&(z=O.dom.getRoot()),z&&"BODY"==z.nodeName&&z.lastChild||z):(te=q.endOffset,1==(z=q.endContainer).nodeType&&z.hasChildNodes()&&(U&&q.collapsed||(z=z.childNodes[te>0?te-1:te])),z&&3==z.nodeType?z.parentNode:z)},getBookmark:function(U,O){return this.bookmarkManager.getBookmark(U,O)},moveToBookmark:function(U){return this.bookmarkManager.moveToBookmark(U)},select:function(U,O){var N,q=this,z=q.dom,te=z.createRng();if(q.lastFocusBookmark=null,U){if(!O&&q.controlSelection.controlSelect(U))return;N=z.nodeIndex(U),te.setStart(U.parentNode,N),te.setEnd(U.parentNode,N+1),O&&(q._moveEndPoint(te,U,!0),q._moveEndPoint(te,U)),q.setRng(te)}return U},isCollapsed:function(){var O=this.getRng(),q=this.getSel();return!(!O||O.item)&&(O.compareEndPoints?0===O.compareEndPoints("StartToEnd",O):!q||O.collapsed)},collapse:function(U){var z,O=this,q=O.getRng();q.item&&(z=q.item(0),(q=O.win.document.body.createTextRange()).moveToElementText(z)),q.collapse(!!U),O.setRng(q)},getSel:function(){var U=this.win;return U.getSelection?U.getSelection():U.document.selection},getRng:function(U){function O(j,ie,Y){try{return ie.compareBoundaryPoints(j,Y)}catch(ae){return-1}}var z,te,N,E,T,v,q=this;if(!q.win||null==(E=q.win.document))return null;if(!U&&q.lastFocusBookmark){var _=q.lastFocusBookmark;return _.startContainer?((te=E.createRange()).setStart(_.startContainer,_.startOffset),te.setEnd(_.endContainer,_.endOffset)):te=_,te}if(U&&q.tridentSel)return q.tridentSel.getRangeAt(0);try{(z=q.getSel())&&(te=z.rangeCount>0?z.getRangeAt(0):z.createRange?z.createRange():E.createRange())}catch(j){}if((v=q.editor.fire("GetSelectionRange",{range:te})).range!==te)return v.range;if(F&&te&&te.setStart&&E.selection){try{T=E.selection.createRange()}catch(j){}T&&T.item&&(N=T.item(0),(te=E.createRange()).setStartBefore(N),te.setEndAfter(N))}return te||(te=E.createRange?E.createRange():E.body.createTextRange()),te.setStart&&9===te.startContainer.nodeType&&te.collapsed&&(N=q.dom.getRoot(),te.setStart(N,0),te.setEnd(N,0)),q.selectedRange&&q.explicitRange&&(0===O(te.START_TO_START,te,q.selectedRange)&&0===O(te.END_TO_END,te,q.selectedRange)?te=q.explicitRange:(q.selectedRange=null,q.explicitRange=null)),te},setRng:function(U,O){var z,te,q=this;if(U)if(U.select){q.explicitRange=null;try{U.select()}catch(E){}}else if(q.tridentSel){if(U.cloneRange)try{q.tridentSel.addRange(U)}catch(E){}}else{if(z=q.getSel(),U=q.editor.fire("SetSelectionRange",{range:U}).range,z){q.explicitRange=U;try{z.removeAllRanges(),z.addRange(U)}catch(E){}!1===O&&z.extend&&(z.collapse(U.endContainer,U.endOffset),z.extend(U.startContainer,U.startOffset)),q.selectedRange=z.rangeCount>0?z.getRangeAt(0):null}U.collapsed||U.startContainer!=U.endContainer||!z.setBaseAndExtent||x.ie||U.endOffset-U.startOffset<2&&U.startContainer.hasChildNodes()&&(te=U.startContainer.childNodes[U.startOffset])&&"IMG"==te.tagName&&(z.setBaseAndExtent(U.startContainer,U.startOffset,U.endContainer,U.endOffset),z.anchorNode===U.startContainer&&z.focusNode===U.endContainer||z.setBaseAndExtent(te,0,te,1)),q.editor.fire("AfterSetSelectionRange",{range:U})}},setNode:function(U){return this.setContent(this.dom.getOuterHTML(U)),U},getNode:function(){function U(_,j){for(var ie=_;_&&3===_.nodeType&&0===_.length;)_=j?_.nextSibling:_.previousSibling;return _||ie}var z,te,N,E,T,O=this,q=O.getRng(),v=O.dom.getRoot();return q?(te=q.startContainer,N=q.endContainer,E=q.startOffset,T=q.endOffset,q.setStart?(z=q.commonAncestorContainer,!q.collapsed&&(te==N&&T-E<2&&te.hasChildNodes()&&(z=te.childNodes[E]),3===te.nodeType&&3===N.nodeType&&(te=te.length===E?U(te.nextSibling,!0):te.parentNode,N=0===T?U(N.previousSibling,!1):N.parentNode,te&&te===N))?te:z&&3==z.nodeType?z.parentNode:z):((z=q.item?q.item(0):q.parentElement()).ownerDocument!==O.win.document&&(z=v),z)):v},getSelectedBlocks:function(U,O){var te,N,q=this,z=q.dom,E=[];if(N=z.getRoot(),U=z.getParent(U||q.getStart(),z.isBlock),O=z.getParent(O||q.getEnd(),z.isBlock),U&&U!=N&&E.push(U),U&&O&&U!=O){te=U;for(var T=new le(U,N);(te=T.next())&&te!=O;)z.isBlock(te)&&E.push(te)}return O&&U!=O&&O!=N&&E.push(O),E},isForward:function(){var q,z,U=this.dom,O=this.getSel();return!(O&&O.anchorNode&&O.focusNode)||((q=U.createRng()).setStart(O.anchorNode,O.anchorOffset),q.collapse(!0),(z=U.createRng()).setStart(O.focusNode,O.focusOffset),z.collapse(!0),q.compareBoundaryPoints(q.START_TO_START,z)<=0)},normalize:function(){var U=this,O=U.getRng();return x.range&&new B(U.dom).normalize(O)&&U.setRng(O,U.isForward()),O},selectorChanged:function(U,O){var z,q=this;return q.selectorChangedData||(q.selectorChangedData={},z={},q.editor.on("NodeChange",function(te){var N=te.element,E=q.dom,T=E.getParents(N,null,E.getRoot()),v={};L(q.selectorChangedData,function(_,j){L(T,function(ie){if(E.is(ie,j))return z[j]||(L(_,function(Y){Y(!0,{node:ie,selector:j,parents:T})}),z[j]=_),v[j]=_,!1})}),L(z,function(_,j){v[j]||(delete z[j],L(_,function(ie){ie(!1,{node:N,selector:j,parents:T})}))})})),q.selectorChangedData[U]||(q.selectorChangedData[U]=[]),q.selectorChangedData[U].push(O),q},getScrollContainer:function(){for(var U,O=this.dom.getRoot();O&&"BODY"!=O.nodeName;){if(O.scrollHeight>O.clientHeight){U=O;break}O=O.parentNode}return U},scrollIntoView:function(U,O){function q(Y){for(var ae=0,ge=0,Ee=Y;Ee&&Ee.nodeType;)ae+=Ee.offsetLeft||0,ge+=Ee.offsetTop||0,Ee=Ee.offsetParent;return{x:ae,y:ge}}var z,te,v,_,N=this,E=N.dom,T=E.getRoot(),j=0;if(I.isElement(U)){if(!1===O&&(j=U.offsetHeight),"BODY"!=T.nodeName){var ie=N.getScrollContainer();if(ie)return z=q(U).y-q(ie).y+j,_=ie.clientHeight,void((z<(v=ie.scrollTop)||z+25>v+_)&&(ie.scrollTop=z<v?z:z-_+25))}te=E.getViewPort(N.editor.getWin()),z=E.getPos(U).y+j,v=te.y,_=te.h,(z<te.y||z+25>v+_)&&N.editor.getWin().scrollTo(0,z<v?z:z-_+25)}},placeCaretAt:function(U,O){this.setRng(B.getCaretRangeFromPoint(U,O,this.editor.getDoc()))},_moveEndPoint:function(U,O,q){var z=O,te=new le(O,z),N=this.dom.schema.getNonEmptyElements();do{if(3==O.nodeType&&0!==R(O.nodeValue).length)return void(q?U.setStart(O,0):U.setEnd(O,O.nodeValue.length));if(N[O.nodeName]&&!/^(TD|TH)$/.test(O.nodeName))return void(q?U.setStartBefore(O):"BR"==O.nodeName?U.setEndBefore(O):U.setEndAfter(O));if(x.ie&&x.ie<11&&this.dom.isBlock(O)&&this.dom.isEmpty(O))return void(q?U.setStart(O,0):U.setEnd(O,0))}while(O=q?te.next():te.prev());"BODY"==z.nodeName&&(q?U.setStart(z,0):U.setEnd(z,z.childNodes.length))},getBoundingClientRect:function(){var U=this.getRng();return U.collapsed?S.fromRangeStart(U).getClientRects()[0]:U.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},G}),he(Wn,[hn,Z],function(le,ee){var B=ee.each;return function(C){this.compare=function(I,x){function w(G){var L={};return B(C.getAttribs(G),function(R){var F=R.nodeName.toLowerCase();0!==F.indexOf("_")&&"style"!==F&&0!==F.indexOf("data-")&&(L[F]=C.getAttrib(G,F))}),L}function S(G,L){var R,F;for(F in G)if(G.hasOwnProperty(F)){if(void 0===(R=L[F])||G[F]!=R)return!1;delete L[F]}for(F in L)if(L.hasOwnProperty(F))return!1;return!0}return!(I.nodeName!=x.nodeName||!S(w(I),w(x))||!S(C.parseStyle(C.getAttrib(I,"style")),C.parseStyle(C.getAttrib(x,"style")))||le.isBookmarkNode(I)||le.isBookmarkNode(x))}}}),he(kn,[ue,Z,Ue],function(le,ee,W){function B(L,R){function U(T){var v;return function(T,v){v.classes.length&&G.addClass(T,v.classes.join(" ")),G.setAttribs(T,v.attrs)}(v=G.create((te="string"==typeof T?{name:T,classes:[],attrs:{}}:T).name),te),v}var z,te,N,E=R&&R.schema||new W({});return L&&L.length?(z=U(te=L[0]),(N=G.create("div")).appendChild(function q(T,v,_){var j,ie,Y,ae=v.length&&v[0],ge=ae&&ae.name;if(Y=function(T,v){var _="string"!=typeof T?T.nodeName.toLowerCase():T,ie=E.getElementRule(_).parentsRequired;return!(!ie||!ie.length)&&(v&&-1!==ee.inArray(ie,v)?v:ie[0])}(T,ge))ge==Y?(ie=v[0],v=v.slice(1)):ie=Y;else if(ae)ie=v[0],v=v.slice(1);else if(!_)return T;return ie&&(j=U(ie)).appendChild(T),_&&(j||(j=G.create("div")).appendChild(T),ee.each(_,function(Ee){var Ie=U(Ee);j.insertBefore(Ie,T)})),q(j,v,ie&&ie.siblings)}(z,L.slice(1),te.siblings)),N):""}function I(L){var R,F={classes:[],attrs:{}};return"*"!==(L=F.selector=ee.trim(L))&&(R=L.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(U,O,q,z,te){switch(O){case"#":F.attrs.id=q;break;case".":F.classes.push(q);break;case":":-1!==ee.inArray("checked disabled enabled read-only required".split(" "),q)&&(F.attrs[q]=q)}if("["==z){var N=te.match(/([\w\-]+)(?:\=\"([^\"]+))?/);N&&(F.attrs[N[1]]=N[2])}return""})),F.name=R||"div",F}function x(L){return L&&"string"==typeof L?(L=(L=L.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ee.map(L.split(/(?:>|\s+(?![^\[\]]+\]))/),function(R){var F=ee.map(R.split(/(?:~\+|~|\+)/),I),U=F.pop();return F.length&&(U.siblings=F),U}).reverse()):[]}var S=ee.each,G=le.DOM;return{getCssText:function(L,R){function F(T){return T.replace(/%(\w+)/g,"")}var U,O,q,z,N,E,te="";if(!1===(E=L.settings.preview_styles))return"";if("string"!=typeof E&&(E="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof R){if(!(R=L.formatter.get(R)))return;R=R[0]}return"preview"in R&&!1===(E=R.preview)?"":(U=R.block||R.inline||"span",(z=x(R.selector)).length?(z[0].name||(z[0].name=U),U=R.selector,O=B(z,L)):O=B([U],L),q=G.select(U,O)[0]||O.firstChild,S(R.styles,function(T,v){(T=F(T))&&G.setStyle(q,v,T)}),S(R.attributes,function(T,v){(T=F(T))&&G.setAttrib(q,v,T)}),S(R.classes,function(T){T=F(T),G.hasClass(q,T)||G.addClass(q,T)}),L.fire("PreviewFormats"),G.setStyles(O,{position:"absolute",left:-65535}),L.getBody().appendChild(O),N=G.getStyle(L.getBody(),"fontSize",!0),N=/px$/.test(N)?parseInt(N,10):0,S(E.split(" "),function(T){var v=G.getStyle(q,T,!0);if(!("background-color"==T&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(v)&&(v=G.getStyle(L.getBody(),T,!0),"#ffffff"==G.toHex(v).toLowerCase())||"color"==T&&"#000000"==G.toHex(v).toLowerCase())){if("font-size"==T&&/em|%$/.test(v)){if(0===N)return;v=(v=parseFloat(v,10)/(/%$/.test(v)?100:1))*N+"px"}"border"==T&&v&&(te+="padding:0 2px;"),te+=T+":"+v+";"}}),L.fire("AfterPreviewFormats"),G.remove(O),te)},parseSelector:x,selectorToHtml:function(L,R){return B(x(L),R)}}}),he(ai,[P,ve,re],function(le,ee,W){var G,I={},x=le.filter,w=le.each;return G=function(S){var F,U,R=S.selection.getRng();F=ee.matchNodeNames("pre"),R.collapsed||(U=S.selection.getSelectedBlocks(),w(x(x(U,F),function(O){return F(O.previousSibling)&&-1!=le.indexOf(U,O.previousSibling)}),function(O){!function(O,q){W(q).remove(),W(O).append("<br><br>").append(q.childNodes)}(O.previousSibling,O)}))},I["pre"]||(I.pre=[]),I.pre.push(G),{postProcess:function(S,G){w(I[S],function(L){L(G)})}}}),he(Jn,[$,Ne,hn,Wn,ct,Z,kn,ai],function(le,ee,W,B,C,I,x,w){return function(S){function G(Xe){return Xe.nodeType&&(Xe=Xe.nodeName),!!S.schema.getTextBlockElements()[Xe.toLowerCase()]}function L(Xe){return/^(TH|TD)$/.test(Xe.nodeName)}function F(Xe,rt){return it.getParents(Xe,rt,it.getRoot())}function U(Xe){return 1===Xe.nodeType&&"_mce_caret"===Xe.id}function z(Xe){return Xe?dt[Xe]:dt}function te(Xe,rt){Xe&&("string"!=typeof Xe?wt(Xe,function(xe,Oe){te(Oe,xe)}):(wt(rt=rt.length?rt:[rt],function(xe){xe.deep===gi&&(xe.deep=!xe.selector),xe.split===gi&&(xe.split=!xe.selector||xe.inline),xe.remove===gi&&xe.selector&&!xe.inline&&(xe.remove="none"),xe.selector&&xe.inline&&(xe.mixed=!0,xe.block_expand=!0),"string"==typeof xe.classes&&(xe.classes=xe.classes.split(/\s+/))}),dt[Xe]=rt))}function E(Xe,rt){var xe=z(rt);if(xe)for(var Oe=0;Oe<xe.length;Oe++)if(!1===xe[Oe].inherit&&it.is(Xe,xe[Oe].selector))return!0;return!1}function T(Xe){var rt;return S.dom.getParent(Xe,function(xe){return(rt=S.dom.getStyle(xe,"text-decoration"))&&"none"!==rt}),rt}function v(Xe){var rt;1===Xe.nodeType&&Xe.parentNode&&1===Xe.parentNode.nodeType&&(rt=T(Xe.parentNode),S.dom.getStyle(Xe,"color")&&rt?S.dom.setStyle(Xe,"text-decoration",rt):S.dom.getStyle(Xe,"text-decoration")===rt&&S.dom.setStyle(Xe,"text-decoration",null))}function _(Xe,rt,xe){function Oe(zt,jt){if(jt=jt||qe,zt){if(jt.onformat&&jt.onformat(zt,jt,rt,xe),wt(jt.styles,function(qt,en){it.setStyle(zt,en,Ze(qt,rt))}),jt.styles){var Jt=it.getAttrib(zt,"style");Jt&&zt.setAttribute("data-mce-style",Jt)}wt(jt.attributes,function(qt,en){it.setAttrib(zt,en,Ze(qt,rt))}),wt(jt.classes,function(qt){qt=Ze(qt,rt),it.hasClass(zt,qt)||it.addClass(zt,qt)})}}function Je(zt,jt){var Jt=!1;return!!qe.selector&&(wt(zt,function(qt){if(!("collapsed"in qt)||qt.collapsed===Zt)return it.is(jt,qt.selector)&&!U(jt)?(Oe(jt,qt),Jt=!0,!1):void 0}),Jt)}function yt(zt,jt,Jt){var en,Cn,qt=[],Fn=!0;Oe(Cn=it.create(en=qe.inline||qe.block)),gt.walk(zt,function(In){var Si;wt(In,function ri(ci){var Bi,ii,Ni,$n;if($n=Fn,Bi=ci.nodeName.toLowerCase(),ii=ci.parentNode.nodeName.toLowerCase(),1===ci.nodeType&&mi(ci)&&($n=Fn,Fn="true"===mi(ci),Ni=!0),De(Bi,"br"))return Si=0,void(qe.block&&it.remove(ci));if(qe.wrapper&&Y(ci,Xe,rt))Si=0;else{if(Fn&&!Ni&&qe.block&&!qe.wrapper&&G(Bi)&&Ct(ii,en))return Oe(ci=it.rename(ci,en)),qt.push(ci),void(Si=0);if(qe.selector){var Vi=Je(ut,ci);if(!qe.inline||Vi)return void(Si=0)}!Fn||Ni||!Ct(en,Bi)||!Ct(ii,en)||!Jt&&3===ci.nodeType&&1===ci.nodeValue.length&&65279===ci.nodeValue.charCodeAt(0)||U(ci)||qe.inline&&xt(ci)?(Si=0,wt(an(ci.childNodes),ri),Ni&&(Fn=$n),Si=0):(Si||(Si=it.clone(Cn,ei),ci.parentNode.insertBefore(Si,ci),qt.push(Si)),Si.appendChild(ci))}})}),!0===qe.links&&wt(qt,function(In){!function ri(Si){"A"===Si.nodeName&&Oe(Si,qe),wt(an(Si.childNodes),ri)}(In)}),wt(qt,function(In){function ri($n){var Vi=0;return wt($n.childNodes,function(Hr){ft(Hr)||ot(Hr)||Vi++}),Vi}function Si($n){var Vi=!1;return wt($n.childNodes,function(Hr){if(Ve(Hr))return Vi=Hr,!1}),Vi}var ii,$n,Vi,Hr;if(ii=ri(In),!(qt.length>1)&&xt(In)||0!==ii){if(qe.inline||qe.wrapper){if(qe.exact||1!==ii||((Vi=Si($n=In))&&!ot(Vi)&&Pe(Vi,qe)&&(Oe(Hr=it.clone(Vi,ei)),it.replace(Hr,$n,ni),it.remove(Vi,1)),In=Hr||$n),wt(ut,function($n){wt(it.select($n.inline,In),function(Vi){ot(Vi)||Gt($n,rt,Vi,$n.exact?Vi:null)})}),Y(In.parentNode,Xe,rt)&&Gt(qe,rt,In)&&(In=0),qe.merge_with_parents&&it.getParent(In.parentNode,function($n){if(Y($n,Xe,rt))return Gt(qe,rt,In)&&(In=0),ni}),!xt(In)&&!Re(In,"fontSize")){var Ni=function($n,Vi){do{if(1!==ri($n)||!($n=Si($n)))break;if(Vi($n))return $n}while($n);return null}(In,de("fontSize"));Ni&&_("fontsize",{value:Re(Ni,"fontSize")},In)}In&&!1!==qe.merge_siblings&&(In=me(ye(In),In),In=me(In,ye(In,ni)))}}else it.remove(In,1)})}var pt,vt,ut=z(Xe),qe=ut[0],Zt=!xe&&Mt.isCollapsed();if("false"!==mi(Mt.getNode())){if(qe){if(xe)xe.nodeType?Je(ut,xe)||((vt=it.createRng()).setStartBefore(xe),vt.setEndAfter(xe),yt(Vt(vt,ut),0,!0)):yt(xe,0,!0);else if(Zt&&qe.inline&&!it.select("td[data-mce-selected],th[data-mce-selected]").length)Ke("apply",Xe,rt);else{var et=S.selection.getNode();vn||!ut[0].defaultBlock||it.getParent(et,it.isBlock)||_(ut[0].defaultBlock),S.selection.setRng(function(){var jt=S.selection.getRng(),Jt=jt.startContainer,qt=jt.endContainer;if(Jt!=qt&&0===jt.endOffset){var en=function(Fn,In){var ri=new le(In);for(xe=ri.prev2();xe;xe=ri.prev2())if(3==xe.nodeType&&xe.data.length>0||xe.childNodes.length>1||xe==Fn||"BR"==xe.tagName)return xe}(Jt,qt);jt.setEnd(en,3==en.nodeType?en.data.length:en.childNodes.length)}return jt}()),pt=Mt.getBookmark(),yt(Vt(Mt.getRng(ni),ut)),qe.styles&&((qe.styles.color||qe.styles.textDecoration)&&(fn(et,v,"childNodes"),v(et)),qe.styles.backgroundColor&&ze(et,de("fontSize"),function(Xe,rt){return C.curry(function(xe,Oe,Je){it.setStyle(Je,xe,Oe)},"backgroundColor",rt)}(0,Ze(qe.styles.backgroundColor,rt)))),Mt.moveToBookmark(pt),at(Mt.getRng(ni)),S.nodeChanged()}w.postProcess(Xe,S)}}else{xe=Mt.getNode();for(var St=0,st=ut.length;St<st;St++)if(ut[St].ceFalseOverride&&it.is(xe,ut[St].selector))return void Oe(xe,ut[St])}}function j(Xe,rt,xe,Oe){function Je(Jt){var qt,en,Cn,Fn,In;if(1===Jt.nodeType&&mi(Jt)&&(Fn=st,st="true"===mi(Jt),In=!0),qt=an(Jt.childNodes),st&&!In)for(en=0,Cn=vt.length;en<Cn&&!Gt(vt[en],rt,Jt,Jt);en++);if(Zt.deep&&qt.length){for(en=0,Cn=qt.length;en<Cn;en++)Je(qt[en]);In&&(st=Fn)}}function ut(Jt){return function(Jt,qt,en,Cn){var Fn,In,ri,Si,ci,Bi;if(Jt){for(Bi=Jt.parentNode,Fn=qt.parentNode;Fn&&Fn!=Bi;Fn=Fn.parentNode){for(In=it.clone(Fn,ei),ci=0;ci<vt.length;ci++)if(Gt(vt[ci],rt,In,In)){In=0;break}In&&(ri&&In.appendChild(ri),Si||(Si=In),ri=In)}Zt.mixed&&xt(Jt)||(qt=it.split(Jt,qt)),ri&&(en.parentNode.insertBefore(ri,en),Si.appendChild(en))}return qt}(function(Jt){var qt;return wt(F(Jt.parentNode).reverse(),function(en){var Cn;qt||"_start"==en.id||"_end"==en.id||(Cn=Y(en,Xe,rt,Oe))&&!1!==Cn.split&&(qt=en)}),qt}(Jt),Jt,Jt)}function qe(Jt){var qt=it.get(Jt?"_start":"_end"),en=qt[Jt?"firstChild":"lastChild"];return ot(en)&&(en=en[Jt?"firstChild":"lastChild"]),3==en.nodeType&&0===en.data.length&&(en=Jt?qt.previousSibling||qt.nextSibling:qt.nextSibling||qt.previousSibling),it.remove(qt,!0),en}function pt(Jt){var qt,en,Cn=Jt.commonAncestorContainer;if(Jt=Vt(Jt,vt,ni),Zt.split){if((qt=Fe(Jt,ni))!=(en=Fe(Jt))){if(/^(TR|TH|TD)$/.test(qt.nodeName)&&qt.firstChild&&(qt="TR"==qt.nodeName?qt.firstChild.firstChild||qt:qt.firstChild||qt),Cn&&/^T(HEAD|BODY|FOOT|R)$/.test(Cn.nodeName)&&L(en)&&en.firstChild&&(en=en.firstChild||en),it.isChildOf(qt,en)&&!xt(en)&&!L(qt)&&!L(en))return ut(qt=Et(qt,"span",{id:"_start","data-mce-type":"bookmark"})),void(qt=qe(ni));qt=Et(qt,"span",{id:"_start","data-mce-type":"bookmark"}),en=Et(en,"span",{id:"_end","data-mce-type":"bookmark"}),ut(qt),ut(en),qt=qe(ni),en=qe()}else qt=en=ut(qt);Jt.startContainer=qt.parentNode?qt.parentNode:qt,Jt.startOffset=zn(qt),Jt.endContainer=en.parentNode?en.parentNode:en,Jt.endOffset=zn(en)+1}gt.walk(Jt,function(Fn){wt(Fn,function(In){Je(In),1===In.nodeType&&"underline"===S.dom.getStyle(In,"text-decoration")&&In.parentNode&&"underline"===T(In.parentNode)&&Gt({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,In)})})}var et,St,vt=z(Xe),Zt=vt[0],st=!0;if(xe)xe.nodeType?((St=it.createRng()).setStartBefore(xe),St.setEndAfter(xe),pt(St)):pt(xe);else if("false"!==mi(Mt.getNode()))Mt.isCollapsed()&&Zt.inline&&!it.select("td[data-mce-selected],th[data-mce-selected]").length?Ke("remove",Xe,rt,Oe):(et=Mt.getBookmark(),pt(Mt.getRng(ni)),Mt.moveToBookmark(et),Zt.inline&&ae(Xe,rt,Mt.getStart())&&at(Mt.getRng(!0)),S.nodeChanged());else{xe=Mt.getNode();for(var zt=0,jt=vt.length;zt<jt&&(!vt[zt].ceFalseOverride||!Gt(vt[zt],rt,xe,xe));zt++);}}function Y(Xe,rt,xe,Oe){function Je(pt,vt,Zt){var et,St,zt,st=vt[Zt];if(vt.onmatch)return vt.onmatch(pt,vt,Zt);if(st)if(st.length===gi){for(et in st)if(st.hasOwnProperty(et)&&(St="attributes"===Zt?it.getAttrib(pt,et):Re(pt,et),Oe&&!St&&!vt.exact||(!Oe||vt.exact)&&!De(St,We(Ze(st[et],xe),et))))return}else for(zt=0;zt<st.length;zt++)if("attributes"===Zt?it.getAttrib(pt,st[zt]):Re(pt,st[zt]))return vt;return vt}var yt,ut,qe,lt=z(rt);if(lt&&Xe)for(ut=0;ut<lt.length;ut++)if(Pe(Xe,yt=lt[ut])&&Je(Xe,yt,"attributes")&&Je(Xe,yt,"styles")){if(qe=yt.classes)for(ut=0;ut<qe.length;ut++)if(!it.hasClass(Xe,qe[ut]))return;return yt}}function ae(Xe,rt,xe){function Oe(lt){var yt=it.getRoot();return lt!==yt&&(lt=it.getParent(lt,function(ut){return!!E(ut,Xe)||ut.parentNode===yt||!!Y(ut,Xe,rt,!0)}),Y(lt,Xe,rt))}var Je;return xe?Oe(xe):Oe(xe=Mt.getNode())||(Je=Mt.getStart())!=xe&&Oe(Je)?ni:ei}function Pe(Xe,rt){return De(Xe,rt.inline)||De(Xe,rt.block)?ni:rt.selector?1==Xe.nodeType&&it.is(Xe,rt.selector):void 0}function De(Xe,rt){return rt=""+((rt=rt||"").nodeName||rt),(Xe=""+((Xe=Xe||"").nodeName||Xe)).toLowerCase()==rt.toLowerCase()}function ze(Xe,rt,xe){wt(Xe.childNodes,function(Oe){Ve(Oe)&&(rt(Oe)&&xe(Oe),Oe.hasChildNodes()&&ze(Oe,rt,xe))})}function Ve(Xe){return 1==Xe.nodeType&&!ot(Xe)&&!ft(Xe)&&!U(Xe)}function de(Xe){return C.curry(function(rt,xe){return!(!xe||!Re(xe,rt))},Xe)}function Re(Xe,rt){return We(it.getStyle(Xe,rt),rt)}function We(Xe,rt){return"color"!=rt&&"backgroundColor"!=rt||(Xe=it.toHex(Xe)),"fontWeight"==rt&&700==Xe&&(Xe="bold"),"fontFamily"==rt&&(Xe=Xe.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+Xe}function Ze(Xe,rt){return"string"!=typeof Xe?Xe=Xe(rt):rt&&(Xe=Xe.replace(/%(\w+)/g,function(xe,Oe){return rt[Oe]||xe})),Xe}function ft(Xe){return Xe&&3===Xe.nodeType&&/^([\t \r\n]+|)$/.test(Xe.nodeValue)}function Et(Xe,rt,xe){var Oe=it.create(rt,xe);return Xe.parentNode.insertBefore(Oe,Xe),Oe.appendChild(Xe),Oe}function Vt(Xe,rt,xe){function Oe(jt){var qt,en,Cn,Fn,In,ri;if(qt=en=jt?et:st,Fn=jt?"previousSibling":"nextSibling",In=it.getRoot(),3==qt.nodeType&&!ft(qt)&&(jt?St>0:zt<qt.nodeValue.length))return qt;for(;;){if(!rt[0].block_expand&&xt(en))return en;for(Cn=en[Fn];Cn;Cn=Cn[Fn])if(!ot(Cn)&&!ft(Cn)&&("BR"!=(ri=Cn).nodeName||!ri.getAttribute("data-mce-bogus")||ri.nextSibling))return en;if(en==In||en.parentNode==In){qt=en;break}en=en.parentNode}return qt}function Je(jt,Jt){for(Jt===gi&&(Jt=3===jt.nodeType?jt.length:jt.childNodes.length);jt&&jt.hasChildNodes();)(jt=jt.childNodes[Jt])&&(Jt=3===jt.nodeType?jt.length:jt.childNodes.length);return{node:jt,offset:Jt}}function lt(jt){for(var Jt=jt;Jt;){if(1===Jt.nodeType&&mi(Jt))return"false"===mi(Jt)?Jt:jt;Jt=Jt.parentNode}return jt}function yt(jt,Jt,qt){function en(Si,ci){var Bi,ii,Ni=Si.nodeValue;return void 0===ci&&(ci=qt?Ni.length:0),qt?-1===(Bi=(Bi=Ni.lastIndexOf(" ",ci))>(ii=Ni.lastIndexOf("\xa0",ci))?Bi:ii)||xe||Bi++:(Bi=Ni.indexOf(" ",ci),ii=Ni.indexOf("\xa0",ci),Bi=-1!==Bi&&(-1===ii||Bi<ii)?Bi:ii),Bi}var Cn,Fn,In,ri;if(3===jt.nodeType){if(-1!==(In=en(jt,Jt)))return{container:jt,offset:In};ri=jt}for(Cn=new le(jt,it.getParent(jt,xt)||S.getBody());Fn=Cn[qt?"prev":"next"]();)if(3===Fn.nodeType){if(ri=Fn,-1!==(In=en(Fn)))return{container:Fn,offset:In}}else if(xt(Fn))break;if(ri)return{container:ri,offset:Jt=qt?0:ri.length}}function ut(jt,Jt){var qt,en,Cn,Fn;for(3==jt.nodeType&&0===jt.nodeValue.length&&jt[Jt]&&(jt=jt[Jt]),qt=F(jt),en=0;en<qt.length;en++)for(Cn=0;Cn<rt.length;Cn++)if((!("collapsed"in(Fn=rt[Cn]))||Fn.collapsed===Xe.collapsed)&&it.is(qt[en],Fn.selector))return qt[en];return jt}function qe(jt,Jt){var qt,en=it.getRoot();if(rt[0].wrapper||(qt=it.getParent(jt,rt[0].block,en)),qt||(qt=it.getParent(3==jt.nodeType?jt.parentNode:jt,function(Cn){return Cn!=en&&G(Cn)})),qt&&rt[0].wrapper&&(qt=F(qt,"ul,ol").reverse()[0]||qt),!qt)for(qt=jt;qt[Jt]&&!xt(qt[Jt])&&!De(qt=qt[Jt],"br"););return qt||jt}var pt,vt,Zt,et=Xe.startContainer,St=Xe.startOffset,st=Xe.endContainer,zt=Xe.endOffset;if(1==et.nodeType&&et.hasChildNodes()&&3==(et=et.childNodes[St>(pt=et.childNodes.length-1)?pt:St]).nodeType&&(St=0),1==st.nodeType&&st.hasChildNodes()&&3==(st=st.childNodes[zt>(pt=st.childNodes.length-1)?pt:zt-1]).nodeType&&(zt=st.nodeValue.length),et=lt(et),st=lt(st),(ot(et.parentNode)||ot(et))&&3==(et=(et=ot(et)?et:et.parentNode).nextSibling||et).nodeType&&(St=0),(ot(st.parentNode)||ot(st))&&3==(st=(st=ot(st)?st:st.parentNode).previousSibling||st).nodeType&&(zt=st.length),rt[0].inline&&(Xe.collapsed&&((Zt=yt(et,St,!0))&&(et=Zt.container,St=Zt.offset),(Zt=yt(st,zt))&&(st=Zt.container,zt=Zt.offset)),(vt=Je(st,zt)).node)){for(;vt.node&&0===vt.offset&&vt.node.previousSibling;)vt=Je(vt.node.previousSibling);vt.node&&vt.offset>0&&3===vt.node.nodeType&&" "===vt.node.nodeValue.charAt(vt.offset-1)&&vt.offset>1&&(st=vt.node).splitText(vt.offset-1)}return(rt[0].inline||rt[0].block_expand)&&(rt[0].inline&&3==et.nodeType&&0!==St||(et=Oe(!0)),rt[0].inline&&3==st.nodeType&&zt!==st.nodeValue.length||(st=Oe())),rt[0].selector&&rt[0].expand!==ei&&!rt[0].inline&&(et=ut(et,"previousSibling"),st=ut(st,"nextSibling")),(rt[0].block||rt[0].selector)&&(et=qe(et,"previousSibling"),st=qe(st,"nextSibling"),rt[0].block&&(xt(et)||(et=Oe(!0)),xt(st)||(st=Oe()))),1==et.nodeType&&(St=zn(et),et=et.parentNode),1==st.nodeType&&(zt=zn(st)+1,st=st.parentNode),{startContainer:et,startOffset:St,endContainer:st,endOffset:zt}}function Gt(Xe,rt,xe,Oe){var Je,lt,yt;if(!Pe(xe,Xe)&&!function(Xe,rt){return rt.links&&"A"==Xe.tagName}(xe,Xe))return ei;if("all"!=Xe.remove)for(wt(Xe.styles,function(qe,pt){qe=We(Ze(qe,rt),pt),"number"==typeof pt&&(pt=qe,Oe=0),(Xe.remove_similar||!Oe||De(Re(Oe,pt),qe))&&it.setStyle(xe,pt,""),yt=1}),yt&&""===it.getAttrib(xe,"style")&&(xe.removeAttribute("style"),xe.removeAttribute("data-mce-style")),wt(Xe.attributes,function(qe,pt){var vt;if(qe=Ze(qe,rt),"number"==typeof pt&&(pt=qe,Oe=0),!Oe||De(it.getAttrib(Oe,pt),qe)){if("class"==pt&&(qe=it.getAttrib(xe,pt))&&(vt="",wt(qe.split(/\s+/),function(Zt){/mce\-\w+/.test(Zt)&&(vt+=(vt?" ":"")+Zt)}),vt))return void it.setAttrib(xe,pt,vt);"class"==pt&&xe.removeAttribute("className"),Mi.test(pt)&&xe.removeAttribute("data-mce-"+pt),xe.removeAttribute(pt)}}),wt(Xe.classes,function(qe){qe=Ze(qe,rt),Oe&&!it.hasClass(Oe,qe)||it.removeClass(xe,qe)}),lt=it.getAttribs(xe),Je=0;Je<lt.length;Je++){var ut=lt[Je].nodeName;if(0!==ut.indexOf("_")&&0!==ut.indexOf("data-"))return ei}return"none"!=Xe.remove?(function(Xe,rt){function xe(lt,yt,ut){return!(lt=ye(lt,yt,ut))||"BR"==lt.nodeName||xt(lt)}var Je,Oe=Xe.parentNode;rt.block&&(vn?Oe==it.getRoot()&&(rt.list_block&&De(Xe,rt.list_block)||wt(an(Xe.childNodes),function(lt){Ct(vn,lt.nodeName.toLowerCase())?Je?Je.appendChild(lt):(Je=Et(lt,vn),it.setAttribs(Je,S.settings.forced_root_block_attrs)):Je=0})):xt(Xe)&&!xt(Oe)&&(xe(Xe,ei)||xe(Xe.firstChild,ni,1)||Xe.insertBefore(it.create("br"),Xe.firstChild),xe(Xe,ni)||xe(Xe.lastChild,ei,1)||Xe.appendChild(it.create("br")))),rt.selector&&rt.inline&&!De(rt.inline,Xe)||it.remove(Xe,1)}(xe,Xe),ni):void 0}function ye(Xe,rt,xe){if(Xe)for(rt=rt?"nextSibling":"previousSibling",Xe=xe?Xe:Xe[rt];Xe;Xe=Xe[rt])if(1==Xe.nodeType||!ft(Xe))return Xe}function me(Xe,rt){function xe(yt,ut){for(Oe=yt;Oe;Oe=Oe[ut]){if(3==Oe.nodeType&&0!==Oe.nodeValue.length)return yt;if(1==Oe.nodeType&&!ot(Oe))return Oe}return yt}var Oe,Je,lt=new B(it);if(Xe&&rt&&(Xe=xe(Xe,"previousSibling"),rt=xe(rt,"nextSibling"),lt.compare(Xe,rt))){for(Oe=Xe.nextSibling;Oe&&Oe!=rt;)Je=Oe,Oe=Oe.nextSibling,Xe.appendChild(Je);return it.remove(rt),wt(an(rt.childNodes),function(yt){Xe.appendChild(yt)}),Xe}return rt}function Fe(Xe,rt){var xe,Oe,Je;return Oe=Xe[rt?"startOffset":"endOffset"],1==(xe=Xe[rt?"startContainer":"endContainer"]).nodeType&&(!rt&&Oe&&Oe--,xe=xe.childNodes[Oe>(Je=xe.childNodes.length-1)?Je:Oe]),3===xe.nodeType&&rt&&Oe>=xe.nodeValue.length&&(xe=new le(xe,S.getBody()).next()||xe),3!==xe.nodeType||rt||0!==Oe||(xe=new le(xe,S.getBody()).prev()||xe),xe}function Ke(Xe,rt,xe,Oe){function Je(st){var zt=it.create("span",{id:et,"data-mce-bogus":!0,style:St?"color:red":""});return st&&zt.appendChild(S.getDoc().createTextNode(jn)),zt}function lt(st,zt){for(;st;){if(3===st.nodeType&&st.nodeValue!==jn||st.childNodes.length>1)return!1;zt&&1===st.nodeType&&zt.push(st),st=st.firstChild}return!0}function yt(st){for(;st;){if(st.id===et)return st;st=st.parentNode}}function ut(st){var zt;if(st)for(st=(zt=new le(st,st)).current();st;st=zt.next())if(3===st.nodeType)return st}function qe(st,zt){var jt,Jt;if(st)Jt=Mt.getRng(!0),lt(st)?(!1!==zt&&(Jt.setStartBefore(st),Jt.setEndBefore(st)),it.remove(st)):((jt=ut(st)).nodeValue.charAt(0)===jn&&(jt.deleteData(0,1),Jt.startContainer==jt&&Jt.startOffset>0&&Jt.setStart(jt,Jt.startOffset-1),Jt.endContainer==jt&&Jt.endOffset>0&&Jt.setEnd(jt,Jt.endOffset-1)),it.remove(st,1)),Mt.setRng(Jt);else if(!(st=yt(Mt.getStart())))for(;st=it.get(et);)qe(st,!1)}function Zt(){var st;(st=yt(Mt.getStart()))&&!it.isEmpty(st)&&fn(st,function(zt){1!=zt.nodeType||zt.id===et||it.isEmpty(zt)||it.setAttrib(zt,"data-mce-bogus",null)},"childNodes")}var et="_mce_caret",St=S.settings.caret_debug;S._hasCaretEvents||(Xt=function(){var zt,st=[];if(lt(yt(Mt.getStart()),st))for(zt=st.length;zt--;)it.setAttrib(st[zt],"data-mce-bogus","1")},Ot=function(st){var zt=st.keyCode;qe(),8==zt&&Mt.isCollapsed()&&Mt.getStart().innerHTML==jn&&qe(yt(Mt.getStart())),37!=zt&&39!=zt||qe(yt(Mt.getStart())),Zt()},S.on("SetContent",function(st){st.selection&&Zt()}),S._hasCaretEvents=!0),"apply"==Xe?function(){var st,zt,jt,Jt,qt,Cn;Jt=(st=Mt.getRng(!0)).startOffset,Cn=st.startContainer.nodeValue,(zt=yt(Mt.getStart()))&&(jt=ut(zt));var Fn=/[^\s\u00a0\u00ad\u200b\ufeff]/;Cn&&Jt>0&&Jt<Cn.length&&Fn.test(Cn.charAt(Jt))&&Fn.test(Cn.charAt(Jt-1))?(qt=Mt.getBookmark(),st.collapse(!0),st=Vt(st,z(rt)),st=gt.split(st),_(rt,xe,st),Mt.moveToBookmark(qt)):(zt&&jt.nodeValue===jn||(jt=(zt=Je(!0)).firstChild,st.insertNode(zt),Jt=1),_(rt,xe,zt),Mt.setCursorLocation(jt,Jt))}():function(){var zt,Jt,qt,en,Cn,In,ri,st=Mt.getRng(!0),Fn=[];for(en=zt=st.startContainer,3==zt.nodeType&&(st.startOffset!=zt.nodeValue.length&&(qt=!0),en=en.parentNode);en;){if(Y(en,rt,xe,Oe)){Cn=en;break}en.nextSibling&&(qt=!0),Fn.push(en),en=en.parentNode}if(Cn)if(qt)Jt=Mt.getBookmark(),st.collapse(!0),st=Vt(st,z(rt),!0),st=gt.split(st),j(rt,xe,st),Mt.moveToBookmark(Jt);else{for(en=ri=Je(),In=Fn.length-1;In>=0;In--)en.appendChild(it.clone(Fn[In],!1)),en=en.firstChild;en.appendChild(it.doc.createTextNode(jn)),en=en.firstChild;var Si=it.getParent(Cn,G);Si&&it.isEmpty(Si)?Cn.parentNode.replaceChild(ri,Cn):it.insertAfter(ri,Cn),Mt.setCursorLocation(en,1),it.isEmpty(Cn)&&it.remove(Cn)}}()}function at(Xe){var Oe,Je,lt,yt,ut,rt=Xe.startContainer,xe=Xe.startOffset;if((Xe.startContainer!=Xe.endContainer||!function(Xe){return Xe&&/^(IMG)$/.test(Xe.nodeName)}(Xe.startContainer.childNodes[Xe.startOffset]))&&(3==rt.nodeType&&xe>=rt.nodeValue.length&&(xe=zn(rt),rt=rt.parentNode,Oe=!0),1==rt.nodeType))for(rt=(yt=rt.childNodes)[Math.min(xe,yt.length-1)],Je=new le(rt,it.getParent(rt,it.isBlock)),(xe>yt.length-1||Oe)&&Je.next(),lt=Je.current();lt;lt=Je.next())if(3==lt.nodeType&&!ft(lt))return ut=it.create("a",{"data-mce-bogus":"all"},jn),lt.parentNode.insertBefore(ut,lt),Xe.setStart(lt,0),Mt.setRng(Xe),void it.remove(ut)}var Ai,gi,Ot,Xt,dt={},it=S.dom,Mt=S.selection,gt=new ee(it),Ct=S.schema.isValidChild,xt=it.isBlock,vn=S.settings.forced_root_block,zn=it.nodeIndex,jn="\ufeff",Mi=/^(src|href|style)$/,ei=!1,ni=!0,mi=it.getContentEditable,ot=W.isBookmarkNode,wt=I.each,an=I.grep,fn=I.walk;(0,I.extend)(this,{get:z,register:te,unregister:function(Xe){return Xe&&dt[Xe]&&delete dt[Xe],dt},apply:_,remove:j,toggle:function(Xe,rt,xe){var Oe=z(Xe);!ae(Xe,rt,xe)||"toggle"in Oe[0]&&!Oe[0].toggle?_(Xe,rt,xe):j(Xe,rt,xe)},match:ae,matchAll:function(Xe,rt){var xe,Oe=[],Je={};return xe=Mt.getStart(),it.getParent(xe,function(lt){var yt,ut;for(yt=0;yt<Xe.length;yt++)!Je[ut=Xe[yt]]&&Y(lt,ut,rt)&&(Je[ut]=!0,Oe.push(ut))},it.getRoot()),Oe},matchNode:Y,canApply:function(Xe){var Oe,Je,lt,yt,rt=z(Xe);if(rt)for(Oe=F(Mt.getStart()),lt=rt.length-1;lt>=0;lt--){if(!(yt=rt[lt].selector)||rt[lt].defaultBlock)return ni;for(Je=Oe.length-1;Je>=0;Je--)if(it.is(Oe[Je],yt))return ni}return ei},formatChanged:function(Xe,rt,xe){var Oe;return Ai||(Ai={},Oe={},S.on("NodeChange",function(Je){var lt=F(Je.element),yt={};lt=I.grep(lt,function(ut){return 1==ut.nodeType&&!ut.getAttribute("data-mce-bogus")}),wt(Ai,function(ut,qe){wt(lt,function(pt){return Y(pt,qe,{},ut.similar)?(Oe[qe]||(wt(ut,function(vt){vt(!0,{node:pt,format:qe,parents:lt})}),Oe[qe]=ut),yt[qe]=ut,!1):!E(pt,qe)&&void 0})}),wt(Oe,function(ut,qe){yt[qe]||(delete Oe[qe],wt(ut,function(pt){pt(!1,{node:Je.element,format:qe,parents:lt})}))})})),wt(Xe.split(","),function(Je){Ai[Je]||(Ai[Je]=[],Ai[Je].similar=xe),Ai[Je].push(rt)}),this},getCssText:function(Xe){return x.getCssText(S,Xe)}}),te({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(Xe,rt,xe){wt(xe,function(Oe,Je){it.setAttrib(Xe,Je,Oe)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),wt("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(Xe){te(Xe,{block:Xe,remove:"all"})}),te(S.settings.formats),function(){S.addShortcut("meta+b","bold_desc","Bold"),S.addShortcut("meta+i","italic_desc","Italic"),S.addShortcut("meta+u","underline_desc","Underline");for(var Xe=1;Xe<=6;Xe++)S.addShortcut("access+"+Xe,"",["FormatBlock",!1,"h"+Xe]);S.addShortcut("access+7","",["FormatBlock",!1,"p"]),S.addShortcut("access+8","",["FormatBlock",!1,"div"]),S.addShortcut("access+9","",["FormatBlock",!1,"address"])}(),S.on("BeforeGetContent",function(Xe){Xt&&"raw"!=Xe.format&&Xt()}),S.on("mouseup keydown",function(Xe){Ot&&Ot(Xe)})}}),he(xi,[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(C,I){var x=C.length+I.length+2,w=new Array(x),S=new Array(x),L=function(O,q,z,te,N){var E=F(O,q,z,te);if(null===E||E.start===q&&E.diag===q-te||E.end===O&&E.diag===O-z)for(var T=O,v=z;T<q||v<te;)T<q&&v<te&&C[T]===I[v]?(N.push([0,C[T]]),++T,++v):q-O>te-z?(N.push([2,C[T]]),++T):(N.push([1,I[v]]),++v);else{L(O,E.start,z,E.start-E.diag,N);for(var _=E.start;_<E.end;++_)N.push([0,C[_]]);L(E.end,q,E.end-E.diag,te,N)}},R=function(O,q,z,te){for(var N=O;N-q<te&&N<z&&C[N]===I[N-q];)++N;return function(O,q,z){return{start:O,end:q,diag:z}}(O,N,q)},F=function(O,q,z,te){var N=q-O,E=te-z;if(0===N||0===E)return null;var T=N-E,v=E+N,_=(v%2==0?v:v+1)/2;w[1+_]=O,S[1+_]=q+1;for(var j=0;j<=_;++j){for(var ie=-j;ie<=j;ie+=2){var Y=ie+_;w[Y]=ie===-j||ie!=j&&w[Y-1]<w[Y+1]?w[Y+1]:w[Y-1]+1;for(var ae=w[Y],ge=ae-O+z-ie;ae<q&&ge<te&&C[ae]===I[ge];)w[Y]=++ae,++ge;if(T%2!=0&&T-j<=ie&&ie<=T+j&&S[Y-T]<=w[Y])return R(S[Y-T],ie+O-z,q,te)}for(ie=T-j;ie<=T+j;ie+=2){for(S[Y=ie+_-T]=ie===T-j||ie!=T+j&&S[Y+1]<=S[Y-1]?S[Y+1]-1:S[Y-1],ge=(ae=S[Y]-1)-O+z-ie;ae>=O&&ge>=z&&C[ae]===I[ge];)S[Y]=ae--,ge--;if(T%2==0&&-j<=ie&&ie<=j&&S[Y]<=w[Y+T])return R(S[Y],ie+O-z,q,te)}}},U=[];return L(0,C.length,0,I.length,U),U}}}),he(Rt,[P,pe,xi],function(le,ee,W){var B=function(L){return 1===L.nodeType?L.outerHTML:3===L.nodeType?ee.encodeRaw(L.data,!1):8===L.nodeType?"\x3c!--"+L.data+"--\x3e":""};return{read:function(L){return le.map(L.childNodes,B)},write:function(L,R){var F=le.map(R.childNodes,B);return function(L,R){var F=0;le.each(L,function(U){U[0]===W.KEEP?F++:U[0]===W.INSERT?(function(L,R,F){var U=function(L){var R,F,U;for(U=document.createElement("div"),R=document.createDocumentFragment(),L&&(U.innerHTML=L);F=U.firstChild;)R.appendChild(F);return R}(R);if(L.hasChildNodes()&&F<L.childNodes.length){var O=L.childNodes[F];O.parentNode.insertBefore(U,O)}else L.appendChild(U)}(R,U[1],F),F++):U[0]===W.DELETE&&function(L,R){if(L.hasChildNodes()&&R<L.childNodes.length){var F=L.childNodes[R];F.parentNode.removeChild(F)}}(R,F)})}(W.diff(F,L),R),R}}}),he(bt,[P,Rt],function(le,ee){var B=function(G){return{type:"fragmented",fragments:G,content:"",bookmark:null,beforeBookmark:null}},C=function(G){return{type:"complete",fragments:null,content:G,bookmark:null,beforeBookmark:null}},w=function(G){return"fragmented"===G.type?G.fragments.join(""):G.content};return{createFragmentedLevel:B,createCompleteLevel:C,createFromEditor:function(G){var L,R,F;return L=ee.read(G.getBody()),function(G){return-1!==G.indexOf("</iframe>")}(R=(F=le.map(L,function(U){return G.serializer.trimContent(U)})).join(""))?B(F):C(R)},applyToEditor:function(G,L,R){"fragmented"===L.type?ee.write(L.fragments,G.getBody()):G.setContent(L.content,{format:"raw"}),G.selection.moveToBookmark(R?L.beforeBookmark:L.bookmark)},isEq:function(G,L){return w(G)===w(L)}}}),he(rn,[It,Z,bt],function(le,ee,W){return function(B){function C(U){B.setDirty(U)}function I(U){w.typing=!1,w.add({},U)}function x(){w.typing&&(w.typing=!1,w.add())}var L,R,w=this,S=0,G=[],F=0;return B.on("init",function(){w.add()}),B.on("BeforeExecCommand",function(U){var O=U.command;"Undo"!==O&&"Redo"!==O&&"mceRepaint"!==O&&(x(),w.beforeChange())}),B.on("ExecCommand",function(U){var O=U.command;"Undo"!==O&&"Redo"!==O&&"mceRepaint"!==O&&I(U)}),B.on("ObjectResizeStart Cut",function(){w.beforeChange()}),B.on("SaveContent ObjectResized blur",I),B.on("DragEnd",I),B.on("KeyUp",function(U){var O=U.keyCode;U.isDefaultPrevented()||((O>=33&&O<=36||O>=37&&O<=40||45===O||U.ctrlKey)&&(I(),B.nodeChanged()),46!==O&&8!==O||B.nodeChanged(),R&&w.typing&&(B.isDirty()||(C(G[0]&&!W.isEq(W.createFromEditor(B),G[0])),B.isDirty()&&B.fire("change",{level:G[0],lastLevel:null})),B.fire("TypingUndo"),R=!1,B.nodeChanged()))}),B.on("KeyDown",function(U){var O=U.keyCode;if(!U.isDefaultPrevented()){if(O>=33&&O<=36||O>=37&&O<=40||45===O)return void(w.typing&&I(U));!(O<16||O>20)||224===O||91===O||w.typing||U.ctrlKey&&!U.altKey||U.metaKey||(w.beforeChange(),w.typing=!0,w.add({},U),R=!0)}}),B.on("MouseDown",function(U){w.typing&&I(U)}),B.addShortcut("meta+z","","Undo"),B.addShortcut("meta+y,meta+shift+z","","Redo"),B.on("AddUndo Undo Redo ClearUndos",function(U){U.isDefaultPrevented()||B.nodeChanged()}),w={data:G,typing:!1,beforeChange:function(){F||(L=B.selection.getBookmark(2,!0))},add:function(U,O){var q,te,N,z=B.settings;if(N=W.createFromEditor(B),U=ee.extend(U=U||{},N),F||B.removed||B.fire("BeforeAddUndo",{level:U,lastLevel:te=G[S],originalEvent:O}).isDefaultPrevented()||te&&W.isEq(te,U))return null;if(G[S]&&(G[S].beforeBookmark=L),z.custom_undo_redo_levels&&G.length>z.custom_undo_redo_levels){for(q=0;q<G.length-1;q++)G[q]=G[q+1];G.length--,S=G.length}U.bookmark=B.selection.getBookmark(2,!0),S<G.length-1&&(G.length=S+1),G.push(U),S=G.length-1;var E={level:U,lastLevel:te,originalEvent:O};return B.fire("AddUndo",E),S>0&&(C(!0),B.fire("change",E)),U},undo:function(){var U;return w.typing&&(w.add(),w.typing=!1),S>0&&(U=G[--S],W.applyToEditor(B,U,!0),C(!0),B.fire("undo",{level:U})),U},redo:function(){var U;return S<G.length-1&&(U=G[++S],W.applyToEditor(B,U,!1),C(!0),B.fire("redo",{level:U})),U},clear:function(){G=[],S=0,w.typing=!1,w.data=G,B.fire("ClearUndos")},hasUndo:function(){return S>0||w.typing&&G[0]&&!W.isEq(W.createFromEditor(B),G[0])},hasRedo:function(){return S<G.length-1&&!w.typing},transact:function(U){x(),w.beforeChange();try{F++,U()}finally{F--}return w.add()},extra:function(U,O){var z;w.transact(U)&&(z=G[S].bookmark,W.applyToEditor(B,G[S-1],!0),w.transact(O)&&(G[S-1].beforeBookmark=z))}}}}),he(un,[$,Ne,Me,H],function(le,ee,W,B){var C=B.ie&&B.ie<11;return function(I){var w=I.dom,S=I.selection,G=I.settings,L=I.undoManager,R=I.schema,F=R.getNonEmptyElements(),U=R.getMoveCaretBeforeOnEnterElements();I.on("keydown",function(O){13==O.keyCode&&!1!==function(O){function q(ye){return ye&&w.isBlock(ye)&&!/^(TD|TH|CAPTION|FORM)$/.test(ye.nodeName)&&!/^(fixed|absolute)/i.test(ye.style.position)&&"true"!==w.getContentEditable(ye)}function te(ye){var me;w.isBlock(ye)&&(me=S.getRng(),ye.appendChild(w.create("span",null,"\xa0")),S.select(ye),ye.lastChild.outerHTML="",S.setRng(me))}function E(ye){var Fe,Ke,at,it,dt=ye;if(ye){if(B.ie&&B.ie<9&&we&&we.firstChild&&we.firstChild==we.lastChild&&"BR"==we.firstChild.tagName&&w.remove(we.firstChild),/^(LI|DT|DD)$/.test(ye.nodeName)){var Mt=function(gt){for(;gt;){if(1==gt.nodeType||3==gt.nodeType&&gt.data&&/[\r\n\s]/.test(gt.data))return gt;gt=gt.nextSibling}}(ye.firstChild);Mt&&/^(UL|OL|DL)$/.test(Mt.nodeName)&&ye.insertBefore(w.doc.createTextNode("\xa0"),ye.firstChild)}if(at=w.createRng(),B.ie||ye.normalize(),ye.hasChildNodes()){for(Fe=new le(ye,ye);Ke=Fe.current();){if(3==Ke.nodeType){at.setStart(Ke,0),at.setEnd(Ke,0);break}if(U[Ke.nodeName.toLowerCase()]){at.setStartBefore(Ke),at.setEndBefore(Ke);break}dt=Ke,Ke=Fe.next()}Ke||(at.setStart(dt,0),at.setEnd(dt,0))}else"BR"==ye.nodeName?ye.nextSibling&&w.isBlock(ye.nextSibling)?((!Re||Re<9)&&(it=w.create("br"),ye.parentNode.insertBefore(it,ye)),at.setStartBefore(ye),at.setEndBefore(ye)):(at.setStartAfter(ye),at.setEndAfter(ye)):(at.setStart(ye,0),at.setEnd(ye,0));S.setRng(at),w.remove(it),S.scrollIntoView(ye)}}function T(ye){var me=G.forced_root_block;me&&me.toLowerCase()===ye.tagName.toLowerCase()&&w.setAttribs(ye,G.forced_root_block_attrs)}function v(ye){ye.innerHTML=C?"":'<br data-mce-bogus="1">'}function _(ye){var Fe,Ke,at,me=Ve,dt=R.getTextInlineElements();if(ye||"TABLE"==Vt?T(Fe=w.create(ye||Gt)):Fe=we.cloneNode(!1),at=Fe,!1!==G.keep_styles)do{if(dt[me.nodeName]){if("_mce_caret"==me.id)continue;Ke=me.cloneNode(!1),w.setAttrib(Ke,"id",""),Fe.hasChildNodes()?(Ke.appendChild(Fe.firstChild),Fe.appendChild(Ke)):(at=Ke,Fe.appendChild(Ke))}}while((me=me.parentNode)&&me!=ze);return C||(at.innerHTML='<br data-mce-bogus="1">'),Fe}function j(ye){var me,Fe,Ke;if(3==Ve.nodeType&&(ye?de>0:de<Ve.nodeValue.length))return!1;if(Ve.parentNode==we&&je&&!ye||ye&&1==Ve.nodeType&&Ve==we.firstChild)return!0;if("TABLE"===Ve.nodeName||Ve.previousSibling&&"TABLE"==Ve.previousSibling.nodeName)return je&&!ye||!je&&ye;for(me=new le(Ve,we),3==Ve.nodeType&&(ye&&0===de?me.prev():ye||de!=Ve.nodeValue.length||me.next());Fe=me.current();){if(1===Fe.nodeType){if(!Fe.getAttribute("data-mce-bogus")&&(Ke=Fe.nodeName.toLowerCase(),F[Ke]&&"br"!==Ke))return!1}else if(3===Fe.nodeType&&!/^[ \t\r\n]*$/.test(Fe.nodeValue))return!1;ye?me.prev():me.next()}return!0}function ae(){I.execCommand("InsertLineBreak",!1,O)}function Ae(){Ze=/^(H[1-6]|PRE|FIGURE)$/.test(Vt)&&"HGROUP"!=Kt?_(Gt):_(),G.end_container_on_empty_block&&q(Et)&&w.isEmpty(we)?Ze=w.split(Et,we):w.insertAfter(Ze,we),E(Ze)}var Pe,De,ze,Ve,de,we,Re,We,Ze,ft,Et,Vt,Kt,Gt,je,ye,me;if(Pe=S.getRng(!0),!O.isDefaultPrevented()){if(!Pe.collapsed)return void I.execCommand("Delete");if(new ee(w).normalize(Pe),Ve=Pe.startContainer,de=Pe.startOffset,Gt=(Gt=(G.force_p_newlines?"p":"")||G.forced_root_block)?Gt.toUpperCase():"",Re=w.doc.documentMode,We=O.shiftKey,1==Ve.nodeType&&Ve.hasChildNodes()&&(je=de>Ve.childNodes.length-1,Ve=Ve.childNodes[Math.min(de,Ve.childNodes.length-1)]||Ve,de=je&&3==Ve.nodeType?Ve.nodeValue.length:0),ze=function(ye){var Fe,Ke,me=w.getRoot();for(Fe=ye;Fe!==me&&"false"!==w.getContentEditable(Fe);)"true"===w.getContentEditable(Fe)&&(Ke=Fe),Fe=Fe.parentNode;return Fe!==me?Ke:me}(Ve)){if(L.beforeChange(),!w.isBlock(ze)&&ze!=w.getRoot())return void(Gt&&!We||ae());if((Gt&&!We||!Gt&&We)&&(Ve=function(ye,me){var Fe,Ke,at,dt,it,Mt,gt=Gt||"P";if(!(Ke=w.getParent(ye,w.isBlock))||!q(Ke)){if(Mt=(Ke=Ke||ze)==I.getBody()||function(ye){return ye&&/^(TD|TH|CAPTION)$/.test(ye.nodeName)}(Ke)?Ke.nodeName.toLowerCase():Ke.parentNode.nodeName.toLowerCase(),!Ke.hasChildNodes())return T(Fe=w.create(gt)),Ke.appendChild(Fe),Pe.setStart(Fe,0),Pe.setEnd(Fe,0),Fe;for(dt=ye;dt.parentNode!=Ke;)dt=dt.parentNode;for(;dt&&!w.isBlock(dt);)at=dt,dt=dt.previousSibling;if(at&&R.isValidChild(Mt,gt.toLowerCase())){for(T(Fe=w.create(gt)),at.parentNode.insertBefore(Fe,at),dt=at;dt&&!w.isBlock(dt);)it=dt.nextSibling,Fe.appendChild(dt),dt=it;Pe.setStart(ye,me),Pe.setEnd(ye,me)}}return ye}(Ve,de)),we=w.getParent(Ve,w.isBlock),Et=we?w.getParent(we.parentNode,w.isBlock):null,Vt=we?we.nodeName.toUpperCase():"","LI"!=(Kt=Et?Et.nodeName.toUpperCase():"")||O.ctrlKey||(we=Et,Vt=Kt),I.undoManager.typing&&(I.undoManager.typing=!1,I.undoManager.add()),/^(LI|DT|DD)$/.test(Vt)){if(!Gt&&We)return void ae();if(w.isEmpty(we))return void function(){function ye(Ke){for(var at=Et[Ke?"firstChild":"lastChild"];at&&1!=at.nodeType;)at=at[Ke?"nextSibling":"previousSibling"];return at===we}function me(){var Ke=Et.parentNode;return/^(LI|DT|DD)$/.test(Ke.nodeName)?Ke:Et}if(Et!=I.getBody()){var Fe=Et.parentNode.nodeName;/^(OL|UL|LI)$/.test(Fe)&&(Gt="LI"),Ze=Gt?_(Gt):w.create("BR"),ye(!0)&&ye()?"LI"==Fe?w.insertAfter(Ze,me()):w.replace(Ze,Et):ye(!0)?"LI"==Fe?(w.insertAfter(Ze,me()),Ze.appendChild(w.doc.createTextNode(" ")),Ze.appendChild(Et)):Et.parentNode.insertBefore(Ze,Et):ye()?(w.insertAfter(Ze,me()),te(Ze)):(Et=me(),(De=Pe.cloneRange()).setStartAfter(we),De.setEndAfter(Et),ft=De.extractContents(),"LI"==Gt&&"LI"==ft.firstChild.nodeName?(Ze=ft.firstChild,w.insertAfter(ft,Et)):(w.insertAfter(ft,Et),w.insertAfter(Ze,Et))),w.remove(we),E(Ze),L.add()}}()}if("PRE"==Vt&&!1!==G.br_in_pre){if(!We)return void ae()}else if(!Gt&&!We&&"LI"!=Vt||Gt&&We)return void ae();Gt&&we===I.getBody()||(Gt=Gt||"P",W.isCaretContainerBlock(we)?(Ze=W.showCaretContainerBlock(we),w.isEmpty(we)&&v(we),E(Ze)):j()?Ae():j(!0)?(te(Ze=we.parentNode.insertBefore(_(),we)),E(we)):((De=Pe.cloneRange()).setEndAfter(we),function(ye){do{3===ye.nodeType&&(ye.nodeValue=ye.nodeValue.replace(/^[\r\n]+/,"")),ye=ye.firstChild}while(ye)}(ft=De.extractContents()),Ze=ft.firstChild,w.insertAfter(ft,we),function(ye){var Ke,me=ye,Fe=[];if(me){for(;me=me.firstChild;){if(w.isBlock(me))return;1!=me.nodeType||F[me.nodeName.toLowerCase()]||Fe.push(me)}for(Ke=Fe.length;Ke--;)(!(me=Fe[Ke]).hasChildNodes()||me.firstChild==me.lastChild&&""===me.firstChild.nodeValue||"A"==me.nodeName&&" "===(me.innerText||me.textContent))&&w.remove(me)}}(Ze),ye=we,C||(ye.normalize(),(me=ye.lastChild)&&!/^(left|right)$/gi.test(w.getStyle(me,"float",!0))||w.add(ye,"br")),w.isEmpty(we)&&v(we),Ze.normalize(),w.isEmpty(Ze)?(w.remove(Ze),Ae()):E(Ze)),w.setAttrib(Ze,"id",""),I.fire("NewBlock",{newBlock:Ze}),L.typing=!1,L.add())}}}(O)&&O.preventDefault()})}}),he(Ft,[],function(){return function(le){var W=le.settings,B=le.dom,C=le.selection,I=le.schema,x=I.getBlockElements();W.forced_root_block&&le.on("NodeChange",function(){var G,L,R,F,U,O,q,te,N,E,T,v,w=C.getStart(),S=le.getBody(),z=-16777215;if(v=W.forced_root_block,w&&1===w.nodeType&&v){for(;w&&w!=S;){if(x[w.nodeName])return;w=w.parentNode}if((G=C.getRng()).setStart){L=G.startContainer,R=G.startOffset,F=G.endContainer,U=G.endOffset;try{N=le.getDoc().activeElement===S}catch(_){}}else G.item&&(w=G.item(0),(G=le.getDoc().body.createTextRange()).moveToElementText(w)),N=G.parentElement().ownerDocument===le.getDoc(),(E=G.duplicate()).collapse(!0),R=-1*E.move("character",z),E.collapsed||((E=G.duplicate()).collapse(!1),U=-1*E.move("character",z)-R);for(w=S.firstChild,T=S.nodeName.toLowerCase();w;)if((3===w.nodeType||1==w.nodeType&&!x[w.nodeName])&&I.isValidChild(T,v.toLowerCase())){if(3===w.nodeType&&0===w.nodeValue.length){q=w,w=w.nextSibling,B.remove(q);continue}O||(O=B.create(v,le.settings.forced_root_block_attrs),w.parentNode.insertBefore(O,w),te=!0),q=w,w=w.nextSibling,O.appendChild(q)}else O=null,w=w.nextSibling;if(te&&N){if(G.setStart)G.setStart(L,R),G.setEnd(F,U),C.setRng(G);else try{(G=le.getDoc().body.createTextRange()).moveToElementText(S),G.collapse(!0),G.moveStart("character",R),U>0&&G.moveEnd("character",U),G.select()}catch(_){}le.nodeChanged()}}})}}),he(gn,[ct,$,ve,dn,Me,Lt],function(le,ee,W,B,C,I){function x(Ae){return Ae>0}function w(Ae){return Ae<0}function S(Ae,Pe){for(var De;De=Ae(Pe);)if(!ie(De))return De;return null}function L(Ae,Pe){for(Ae=Ae.parentNode;Ae&&Ae!=Pe;Ae=Ae.parentNode)if(T(Ae))return Ae;return Pe}function R(Ae,Pe){for(;Ae&&Ae!=Pe;){if(_(Ae))return Ae;Ae=Ae.parentNode}return null}function q(Ae,Pe){var De=Pe.ownerDocument.createRange();return Ae?(De.setStartBefore(Pe),De.setEndBefore(Pe)):(De.setStartAfter(Pe),De.setEndAfter(Pe)),De}function z(Ae,Pe,De){return R(Pe,Ae)==R(De,Ae)}function te(Ae,Pe,De){var ze,Ve;for(Ve=Ae?"previousSibling":"nextSibling";De&&De!=Pe;){if(j(ze=De[Ve])&&(ze=ze[Ve]),v(ze)){if(z(Pe,ze,De))return ze;break}if(ge(ze))break;De=De.parentNode}return null}function E(Ae,Pe){return v(function(Ae,Pe){var De,ze;return Pe?(De=Pe.container(),ze=Pe.offset(),ae(De)?De.childNodes[ze+Ae]:null):null}(Ae,Pe))}var T=W.isContentEditableTrue,v=W.isContentEditableFalse,_=W.matchStyleValues("display","block table table-cell table-caption"),j=C.isCaretContainer,ie=C.isCaretContainerBlock,Y=le.curry,ae=W.isElement,ge=I.isCaretCandidate,Ee=Y(q,!0),Ie=Y(q,!1);return{isForwards:x,isBackwards:w,findNode:function(Ae,Pe,De,ze,Ve){var de=new ee(Ae,ze);if(w(Pe)){if((v(Ae)||ie(Ae))&&De(Ae=S(de.prev,!0)))return Ae;for(;Ae=S(de.prev,Ve);)if(De(Ae))return Ae}if(x(Pe)){if((v(Ae)||ie(Ae))&&De(Ae=S(de.next,!0)))return Ae;for(;Ae=S(de.next,Ve);)if(De(Ae))return Ae}return null},getEditingHost:L,getParentBlock:R,isInSameBlock:function(Ae,Pe,De){return R(Ae.container(),De)==R(Pe.container(),De)},isInSameEditingHost:function(Ae,Pe,De){return L(Ae.container(),De)==L(Pe.container(),De)},isBeforeContentEditableFalse:Y(E,0),isAfterContentEditableFalse:Y(E,-1),normalizeRange:function(Ae,Pe,De){var ze,Ve,de,we,Re=Y(te,!0,Pe),We=Y(te,!1,Pe);if(de=De.startOffset,C.isCaretContainerBlock(Ve=De.startContainer)){if(ae(Ve)||(Ve=Ve.parentNode),"before"==(we=Ve.getAttribute("data-mce-caret"))&&v(ze=Ve.nextSibling))return Ee(ze);if("after"==we&&v(ze=Ve.previousSibling))return Ie(ze)}if(!De.collapsed)return De;if(W.isText(Ve)){if(j(Ve)){if(1===Ae){if(ze=We(Ve))return Ee(ze);if(ze=Re(Ve))return Ie(ze)}if(-1===Ae){if(ze=Re(Ve))return Ie(ze);if(ze=We(Ve))return Ee(ze)}return De}if(C.endsWithCaretContainer(Ve)&&de>=Ve.data.length-1)return 1===Ae&&(ze=We(Ve))?Ee(ze):De;if(C.startsWithCaretContainer(Ve)&&de<=1)return-1===Ae&&(ze=Re(Ve))?Ie(ze):De;if(de===Ve.data.length)return(ze=We(Ve))?Ee(ze):De;if(0===de)return(ze=Re(Ve))?Ie(ze):De}return De}}}),he(An,[ve,Lt,dn,gn,P,ct],function(le,ee,W,B,C,I){function w(T,v){return T.hasChildNodes()&&v<T.childNodes.length?T.childNodes[v]:null}function S(T,v){if(q(T)){if(te(v.previousSibling)&&!F(v.previousSibling))return W.before(v);if(F(v))return W(v,0)}if(z(T)){if(te(v.nextSibling)&&!F(v.nextSibling))return W.after(v);if(F(v))return W(v,v.data.length)}return z(T)?O(v)?W.before(v):W.after(v):W.before(v)}function L(T,v,_){var j,ie,Y,ae,ge,Ee,Ie;if(!U(_)||!v)return null;if(j=(Ie=v).container(),ie=Ie.offset(),F(j)){if(z(T)&&ie>0)return W(j,--ie);if(q(T)&&ie<j.length)return W(j,++ie);Y=j}else{if(z(T)&&ie>0&&(ae=w(j,ie-1),te(ae)))return!N(ae)&&(ge=B.findNode(ae,T,E,ae))?F(ge)?W(ge,ge.data.length):W.after(ge):F(ae)?W(ae,ae.data.length):W.before(ae);if(q(T)&&ie<j.childNodes.length&&(ae=w(j,ie),te(ae)))return function(T,v){var _;return!!le.isBr(T)&&!!(_=L(1,W.after(T),v))&&!B.isInSameBlock(W.before(T),W.before(_),v)}(ae,_)?L(T,W.after(ae),_):!N(ae)&&(ge=B.findNode(ae,T,E,ae))?F(ge)?W(ge,0):W.before(ge):F(ae)?W(ae,0):W.after(ae);Y=Ie.getNode()}return(q(T)&&Ie.isAtEnd()||z(T)&&Ie.isAtStart())&&(Y=B.findNode(Y,T,I.constant(!0),_,!0),E(Y))?S(T,Y):(ae=B.findNode(Y,T,E,_),Ee=C.last(C.filter(function(T,v){for(var _=[];T&&T!=v;)_.push(T),T=T.parentNode;return _}(j,_),R)),!Ee||ae&&Ee.contains(ae)?ae?S(T,ae):null:Ie=q(T)?W.after(Ee):W.before(Ee))}var R=le.isContentEditableFalse,F=le.isText,U=le.isElement,O=le.isBr,q=B.isForwards,z=B.isBackwards,te=ee.isCaretCandidate,N=ee.isAtomic,E=ee.isEditableCaretCandidate;return function(T){return{next:function(v){return L(1,v,T)},prev:function(v){return L(-1,v,T)}}}}),he(Gn,[Z,An,dn],function(le,ee,W){var x=function(N){return le.grep(N.childNodes,function(E){return"LI"===E.nodeName})},S=function(N){return N.length>0&&function(N){return!N.firstChild}(N[N.length-1])?N.slice(0,-1):N},G=function(N,E){var T=N.getParent(E,N.isBlock);return T&&"LI"===T.nodeName?T:null},U=function(N,E){var T=W.after(N),_=new ee(E).prev(T);return _?_.toRange():null};return{isListFragment:function(N){var E=N.firstChild,T=N.lastChild;return E&&"meta"===E.name&&(E=E.next),T&&"mce_marker"===T.attr("id")&&(T=T.prev),!(!E||E!==T||"ul"!==E.name&&"ol"!==E.name)},insertAtCaret:function(N,E,T,v){var _=function(N,E,T){var v=E.serialize(T);return function(N){var E=N.firstChild,T=N.lastChild;return E&&"META"===E.nodeName&&E.parentNode.removeChild(E),T&&"mce_marker"===T.id&&T.parentNode.removeChild(T),N}(N.createFragment(v))}(E,N,v),j=G(E,T.startContainer),ie=S(x(_.firstChild)),ge=E.getRoot(),Ee=function(Ie){var Ae=W.fromRangeStart(T),Pe=new ee(E.getRoot()),De=1===Ie?Pe.prev(Ae):Pe.next(Ae);return!De||G(E,De.getNode())!==j};return Ee(1)?function(N,E,T){var v=N.parentNode;return le.each(E,function(_){v.insertBefore(_,N)}),function(N,E){var T=W.before(N),_=new ee(E).next(T);return _?_.toRange():null}(N,T)}(j,ie,ge):Ee(2)?function(N,E,T,v){return v.insertAfter(E.reverse(),N),U(E[0],T)}(j,ie,ge,E):function(N,E,T,v){var _=function(N,E){var T=E.cloneRange(),v=E.cloneRange();return T.setStartBefore(N),v.setEndAfter(N),[T.cloneContents(),v.cloneContents()]}(N,v),j=N.parentNode;return j.insertBefore(_[0],N),le.each(E,function(ie){j.insertBefore(ie,N)}),j.insertBefore(_[1],N),j.removeChild(N),U(E[E.length-1],T)}(j,ie,ge,T)},isParentBlockLi:function(N,E){return!!G(N,E)},trimListItems:S,listItems:x}}),he(Un,[H,Z,Ht,An,dn,Wn,ve,Gn],function(le,ee,W,B,C,I,x,w){var S=x.matchNodeNames("td th");return{insertAtCaret:function(U,O){var q=function(U){var O;return"string"!=typeof U?(O=ee.extend({paste:U.paste,data:{paste:U.paste}},U),{content:U.content,details:O}):{content:U,details:{}}}(O);!function(U,O,q){var ie,Y,ae,ge,Ee,Ie,Ae,Pe,De,ze,Ve,de,we=U.schema.getTextInlineElements(),Re=U.selection,We=U.dom;/^ | $/.test(O)&&(O=function(Vt){function Kt(me){return je[me]&&3==je[me].nodeType}var Gt,je,ye;return ye=(Gt=Re.getRng(!0)).startOffset,3==(je=Gt.startContainer).nodeType&&(ye>0?Vt=Vt.replace(/^&nbsp;/," "):Kt("previousSibling")||(Vt=Vt.replace(/^ /,"&nbsp;")),ye<je.length?Vt=Vt.replace(/&nbsp;(<br>|)$/," "):Kt("nextSibling")||(Vt=Vt.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),Vt}(O)),ie=U.parser,de=q.merge,Y=new W({validate:U.settings.validate},U.schema),Ve='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',U.fire("BeforeSetContent",Ie={content:O,format:"html",selection:!0}),-1==(O=Ie.content).indexOf("{$caret}")&&(O+="{$caret}"),O=O.replace(/\{\$caret\}/,Ve);var Vt,Ze=(Pe=Re.getRng()).startContainer||(Pe.parentElement?Pe.parentElement():null),ft=U.getBody();Ze===ft&&Re.isCollapsed()&&We.isBlock(ft.firstChild)&&(Vt=ft.firstChild)&&!U.schema.getShortEndedElements()[Vt.nodeName]&&We.isEmpty(ft.firstChild)&&((Pe=We.createRng()).setStart(ft.firstChild,0),Pe.setEnd(ft.firstChild,0),Re.setRng(Pe)),Re.isCollapsed()||(U.selection.setRng(U.selection.getRng()),U.getDoc().execCommand("Delete",!1,null),function(){var Vt,Kt,Gt;Gt=(Vt=Re.getRng(!0)).startOffset,3==(Kt=Vt.startContainer).nodeType&&Vt.collapsed&&("\xa0"===Kt.data[Gt]?(Kt.deleteData(Gt,1),/[\u00a0| ]$/.test(O)||(O+=" ")):"\xa0"===Kt.data[Gt-1]&&(Kt.deleteData(Gt-1,1),/[\u00a0| ]$/.test(O)||(O=" "+O)))}());var Et={context:(ae=Re.getNode()).nodeName.toLowerCase(),data:q.data};if(Ee=ie.parse(O,Et),!0===q.paste&&w.isListFragment(Ee)&&w.isParentBlockLi(We,ae))return Pe=w.insertAtCaret(Y,We,U.selection.getRng(!0),Ee),U.selection.setRng(Pe),void U.fire("SetContent",Ie);if(function(Vt){for(var Kt=Vt;Kt=Kt.walk();)1===Kt.type&&Kt.attr("data-mce-fragment","1")}(Ee),"mce_marker"==(De=Ee.lastChild).attr("id"))for(Ae=De,De=De.prev;De;De=De.walk(!0))if(3==De.type||!We.isBlock(De.name)){U.schema.isValidChild(De.parent.name,"span")&&De.parent.insert(Ae,De,"br"===De.name);break}if(U._selectionOverrides.showBlockCaretContainer(ae),Et.invalid){for(Re.setContent(Ve),ae=Re.getNode(),ge=U.getBody(),9==ae.nodeType?ae=De=ge:De=ae;De!==ge;)ae=De,De=De.parentNode;O=ae==ge?ge.innerHTML:We.getOuterHTML(ae),O=Y.serialize(ie.parse(O.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return Y.serialize(Ee)}))),ae==ge?We.setHTML(ge,O):We.setOuterHTML(ae,O)}else O=Y.serialize(Ee),function(U,O,q){if("all"===q.getAttribute("data-mce-bogus"))q.parentNode.insertBefore(U.dom.createFragment(O),q);else{var z=q.firstChild;!z||z===q.lastChild&&"BR"===z.nodeName?U.dom.setHTML(q,O):U.selection.setContent(O)}}(U,O,ae);(function(){if(de){var Vt=U.getBody(),Kt=new I(We);ee.each(We.select("*[data-mce-fragment]"),function(Gt){for(var je=Gt.parentNode;je&&je!=Vt;je=je.parentNode)we[Gt.nodeName.toLowerCase()]&&Kt.compare(je,Gt)&&We.remove(Gt,!0)})}})(),function(Vt){var je,ye,me;if(Vt){if(Re.scrollIntoView(Vt),je=function(Fe){for(var Ke=U.getBody();Fe&&Fe!==Ke;Fe=Fe.parentNode)if("false"===U.dom.getContentEditable(Fe))return Fe;return null}(Vt))return We.remove(Vt),void Re.select(je);Pe=We.createRng(),(De=Vt.previousSibling)&&3==De.nodeType?(Pe.setStart(De,De.nodeValue.length),le.ie||(ze=Vt.nextSibling)&&3==ze.nodeType&&(De.appendData(ze.data),ze.parentNode.removeChild(ze))):(Pe.setStartBefore(Vt),Pe.setEndBefore(Vt)),ye=We.getParent(Vt,We.isBlock),We.remove(Vt),ye&&We.isEmpty(ye)&&(U.$(ye).empty(),Pe.setStart(ye,0),Pe.setEnd(ye,0),S(ye)||function(Vt){return!!Vt.getAttribute("data-mce-fragment")}(ye)||!(me=function(Fe){var Ke=C.fromRangeStart(Fe);if(Ke=new B(U.getBody()).next(Ke))return Ke.toRange()}(Pe))?We.add(ye,We.create("br",{"data-mce-bogus":"1"})):(Pe=me,We.remove(ye))),Re.setRng(Pe)}}(We.get("mce_marker")),function(Vt){ee.each(Vt.getElementsByTagName("*"),function(Kt){Kt.removeAttribute("data-mce-fragment")})}(U.getBody()),U.fire("SetContent",Ie),U.addVisual()}(U,q.content,q.details)}}}),he(En,[H,Z,Ne,$,Un,ve],function(le,ee,W,B,C,I){var x=ee.each,w=ee.extend,S=ee.map,G=ee.inArray,L=ee.explode,R=le.ie&&le.ie<11,F=!0;return function(O){function z(de){var we;if(!O.quirks.isHidden()){if(de=de.toLowerCase(),we=De.state[de])return we(de);try{return O.getDoc().queryCommandState(de)}catch(Re){}return!1}}function N(de,we){we=we||"exec",x(de,function(Re,We){x(We.toLowerCase().split(","),function(Ze){De[we][Ze]=Re})})}function ie(de,we,Re){return we===ht&&(we=!1),Re===ht&&(Re=null),O.getDoc().execCommand(de,we,Re)}function Y(de){return Pe.match(de)}function ae(de,we){Pe.toggle(de,we?{value:we}:ht),O.nodeChanged()}function ge(de){Ve=Ae.getBookmark(de)}function Ee(){Ae.moveToBookmark(Ve)}var Ie,Ae,Pe,Ve,De={state:{},exec:{},value:{}},ze=O.settings;O.on("PreInit",function(){Ie=O.dom,Ae=O.selection,ze=O.settings,Pe=O.formatter}),w(this,{execCommand:function(de,we,Re,We){var Ze,ft,Et=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(de)||We&&We.skip_focus||O.focus(),(We=O.fire("BeforeExecCommand",{command:de,ui:we,value:Re})).isDefaultPrevented())return!1;if(ft=de.toLowerCase(),Ze=De.exec[ft])return Ze(ft,we,Re),O.fire("ExecCommand",{command:de,ui:we,value:Re}),!0;if(x(O.plugins,function(Vt){if(Vt.execCommand&&Vt.execCommand(de,we,Re))return O.fire("ExecCommand",{command:de,ui:we,value:Re}),Et=!0,!1}),Et)return Et;if(O.theme&&O.theme.execCommand&&O.theme.execCommand(de,we,Re))return O.fire("ExecCommand",{command:de,ui:we,value:Re}),!0;try{Et=O.getDoc().execCommand(de,we,Re)}catch(Vt){}return!!Et&&(O.fire("ExecCommand",{command:de,ui:we,value:Re}),!0)},queryCommandState:z,queryCommandValue:function(de){var we;if(!O.quirks.isHidden()){if(de=de.toLowerCase(),we=De.value[de])return we(de);try{return O.getDoc().queryCommandValue(de)}catch(Re){}}},queryCommandSupported:function(de){if(de=de.toLowerCase(),De.exec[de])return!0;try{return O.getDoc().queryCommandSupported(de)}catch(we){}return!1},addCommands:N,addCommand:function(de,we,Re){de=de.toLowerCase(),De.exec[de]=function(We,Ze,ft,Et){return we.call(Re||O,Ze,ft,Et)}},addQueryStateHandler:function(de,we,Re){de=de.toLowerCase(),De.state[de]=function(){return we.call(Re||O)}},addQueryValueHandler:function(de,we,Re){de=de.toLowerCase(),De.value[de]=function(){return we.call(Re||O)}},hasCustomCommand:function(de){return de=de.toLowerCase(),!!De.exec[de]}}),N({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){O.undoManager.add()},"Cut,Copy,Paste":function(de){var Re,we=O.getDoc();try{ie(de)}catch(Ze){Re=F}if("paste"!==de||we.queryCommandEnabled(de)||(Re=!0),Re||!we.queryCommandSupported(de)){var We=O.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");le.mac&&(We=We.replace(/Ctrl\+/g,"\u2318+")),O.notificationManager.open({text:We,type:"error"})}},unlink:function(){if(Ae.isCollapsed()){var de=O.dom.getParent(O.selection.getStart(),"a");de&&O.dom.remove(de,!0)}else Pe.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(de){var we=de.substring(7);"full"==we&&(we="justify"),x("left,center,right,justify".split(","),function(Re){we!=Re&&Pe.remove("align"+Re)}),"none"!=we&&ae("align"+we)},"InsertUnorderedList,InsertOrderedList":function(de){var we,Re;ie(de),(we=Ie.getParent(Ae.getNode(),"ol,ul"))&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((Re=we.parentNode).nodeName)&&(ge(),Ie.split(Re,we),Ee())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(de){ae(de)},"ForeColor,HiliteColor,FontName":function(de,we,Re){ae(de,Re)},FontSize:function(de,we,Re){var We,Ze;Re>=1&&Re<=7&&(Ze=L(ze.font_size_style_values),Re=(We=L(ze.font_size_classes))?We[Re-1]||Re:Ze[Re-1]||Re),ae(de,Re)},RemoveFormat:function(de){Pe.remove(de)},mceBlockQuote:function(){ae("blockquote")},FormatBlock:function(de,we,Re){return ae(Re||"p")},mceCleanup:function(){var de=Ae.getBookmark();O.setContent(O.getContent({cleanup:F}),{cleanup:F}),Ae.moveToBookmark(de)},mceRemoveNode:function(de,we,Re){var We=Re||Ae.getNode();We!=O.getBody()&&(ge(),O.dom.remove(We,F),Ee())},mceSelectNodeDepth:function(de,we,Re){var We=0;Ie.getParent(Ae.getNode(),function(Ze){if(1==Ze.nodeType&&We++==Re)return Ae.select(Ze),!1},O.getBody())},mceSelectNode:function(de,we,Re){Ae.select(Re)},mceInsertContent:function(de,we,Re){C.insertAtCaret(O,Re)},mceInsertRawHTML:function(de,we,Re){Ae.setContent("tiny_mce_marker"),O.setContent(O.getContent().replace(/tiny_mce_marker/g,function(){return Re}))},mceToggleFormat:function(de,we,Re){ae(Re)},mceSetContent:function(de,we,Re){O.setContent(Re)},"Indent,Outdent":function(de){var we,Re,We;Re=/[a-z%]+$/i.exec(we=ze.indentation),we=parseInt(we,10),z("InsertUnorderedList")||z("InsertOrderedList")?ie(de):(ze.forced_root_block||Ie.getParent(Ae.getNode(),Ie.isBlock)||Pe.apply("div"),x(Ae.getSelectedBlocks(),function(Ze){if("false"!==Ie.getContentEditable(Ze)&&"LI"!==Ze.nodeName){var ft=O.getParam("indent_use_margin",!1)?"margin":"padding";ft="TABLE"===Ze.nodeName?"margin":ft,ft+="rtl"==Ie.getStyle(Ze,"direction",!0)?"Right":"Left","outdent"==de?(We=Math.max(0,parseInt(Ze.style[ft]||0,10)-we),Ie.setStyle(Ze,ft,We?We+Re:"")):(We=parseInt(Ze.style[ft]||0,10)+we+Re,Ie.setStyle(Ze,ft,We))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){O.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){O.hasVisual=!O.hasVisual,O.addVisual()},mceReplaceContent:function(de,we,Re){O.execCommand("mceInsertContent",!1,Re.replace(/\{\$selection\}/g,Ae.getContent({format:"text"})))},mceInsertLink:function(de,we,Re){var We;"string"==typeof Re&&(Re={href:Re}),We=Ie.getParent(Ae.getNode(),"a"),Re.href=Re.href.replace(" ","%20"),We&&Re.href||Pe.remove("link"),Re.href&&Pe.apply("link",Re,We)},selectAll:function(){var we,de=Ie.getRoot();if(Ae.getRng().setStart){var Re=Ie.getParent(Ae.getStart(),I.isContentEditableTrue);Re&&((we=Ie.createRng()).selectNodeContents(Re),Ae.setRng(we))}else(we=Ae.getRng()).item||(we.moveToElementText(de),we.select())},delete:function(){ie("Delete");var de=O.getBody();Ie.isEmpty(de)&&(O.setContent(""),de.firstChild&&Ie.isBlock(de.firstChild)?O.selection.setCursorLocation(de.firstChild,0):O.selection.setCursorLocation(de,0))},mceNewDocument:function(){O.setContent("")},InsertLineBreak:function(de,we,Re){var ft,Et,Vt,Ze=Re,Kt=Ae.getRng(!0);new W(Ie).normalize(Kt);var Gt=Kt.startOffset,je=Kt.startContainer;if(1==je.nodeType&&je.hasChildNodes()){var ye=Gt>je.childNodes.length-1;je=je.childNodes[Math.min(Gt,je.childNodes.length-1)]||je,Gt=ye&&3==je.nodeType?je.nodeValue.length:0}var me=Ie.getParent(je,Ie.isBlock),Fe=me?me.nodeName.toUpperCase():"",Ke=me?Ie.getParent(me.parentNode,Ie.isBlock):null,at=Ke?Ke.nodeName.toUpperCase():"";"LI"!=at||Ze&&Ze.ctrlKey||(me=Ke,Fe=at),je&&3==je.nodeType&&Gt>=je.nodeValue.length&&(R||function(){for(var gt,Mt=new B(je,me),Ct=O.schema.getNonEmptyElements();gt=Mt.next();)if(Ct[gt.nodeName.toLowerCase()]||gt.length>0)return!0}()||(ft=Ie.create("br"),Kt.insertNode(ft),Kt.setStartAfter(ft),Kt.setEndAfter(ft),Et=!0)),ft=Ie.create("br"),Kt.insertNode(ft);var it=Ie.doc.documentMode;return R&&"PRE"==Fe&&(!it||it<8)&&ft.parentNode.insertBefore(Ie.doc.createTextNode("\r"),ft),Vt=Ie.create("span",{},"&nbsp;"),ft.parentNode.insertBefore(Vt,ft),Ae.scrollIntoView(Vt),Ie.remove(Vt),Et?(Kt.setStartBefore(ft),Kt.setEndBefore(ft)):(Kt.setStartAfter(ft),Kt.setEndAfter(ft)),Ae.setRng(Kt),O.undoManager.add(),F}}),N({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(de){var we="align"+de.substring(7),Re=Ae.isCollapsed()?[Ie.getParent(Ae.getNode(),Ie.isBlock)]:Ae.getSelectedBlocks(),We=S(Re,function(Ze){return!!Pe.matchNode(Ze,we)});return-1!==G(We,F)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(de){return Y(de)},mceBlockQuote:function(){return Y("blockquote")},Outdent:function(){var de;return ze.inline_styles&&((de=Ie.getParent(Ae.getStart(),Ie.isBlock))&&parseInt(de.style.paddingLeft,10)>0||(de=Ie.getParent(Ae.getEnd(),Ie.isBlock))&&parseInt(de.style.paddingLeft,10)>0)?F:z("InsertUnorderedList")||z("InsertOrderedList")||!ze.inline_styles&&!!Ie.getParent(Ae.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(de){var we=Ie.getParent(Ae.getNode(),"ul,ol");return we&&("insertunorderedlist"===de&&"UL"===we.tagName||"insertorderedlist"===de&&"OL"===we.tagName)}},"state"),N({"FontSize,FontName":function(de){var Re,we=0;return(Re=Ie.getParent(Ae.getNode(),"span"))&&(we="fontsize"==de?Re.style.fontSize:Re.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),we}},"value"),N({Undo:function(){O.undoManager.undo()},Redo:function(){O.undoManager.redo()}})}}),he(Pt,[Z],function(le){function ee(x,w){var G,L,S=this;if(x=B(x),G=(w=S.settings=w||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(x)||/^\s*#/.test(x))S.source=x;else{var R=0===x.indexOf("//");0!==x.indexOf("/")||R||(x=(G&&G.protocol||"http")+"://mce_host"+x),/^[\w\-]*:?\/\//.test(x)||(L=w.base_uri?w.base_uri.path:new ee(location.href).directory,""===w.base_uri.protocol?x="//mce_host"+S.toAbsPath(L,x):(x=/([^#?]*)([#?]?.*)/.exec(x),x=(G&&G.protocol||"http")+"://mce_host"+S.toAbsPath(L,x[1])+x[2])),x=x.replace(/@@/g,"(mce_at)"),x=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(x),W(C,function(F,U){var O=x[U];O&&(O=O.replace(/\(mce_at\)/g,"@@")),S[F]=O}),G&&(S.protocol||(S.protocol=G.protocol),S.userInfo||(S.userInfo=G.userInfo),S.port||"mce_host"!==S.host||(S.port=G.port),S.host&&"mce_host"!==S.host||(S.host=G.host),S.source=""),R&&(S.protocol="")}}var W=le.each,B=le.trim,C="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),I={ftp:21,http:80,https:443,mailto:25};return ee.prototype={setPath:function(x){var w=this;x=/^(.*?)\/?(\w+)?$/.exec(x),w.path=x[0],w.directory=x[1],w.file=x[2],w.source="",w.getURI()},toRelative:function(x){var S,w=this;if("./"===x)return x;if("mce_host"!=(x=new ee(x,{base_uri:w})).host&&w.host!=x.host&&x.host||w.port!=x.port||w.protocol!=x.protocol&&""!==x.protocol)return x.getURI();var G=w.getURI(),L=x.getURI();return G==L||"/"==G.charAt(G.length-1)&&G.substr(0,G.length-1)==L?G:(S=w.toRelPath(w.path,x.path),x.query&&(S+="?"+x.query),x.anchor&&(S+="#"+x.anchor),S)},toAbsolute:function(x,w){return(x=new ee(x,{base_uri:this})).getURI(w&&this.isSameOrigin(x))},isSameOrigin:function(x){if(this.host==x.host&&this.protocol==x.protocol){if(this.port==x.port)return!0;var w=I[this.protocol];if(w&&(this.port||w)==(x.port||w))return!0}return!1},toRelPath:function(x,w){var S,R,F,G=0,L="";if(x=(x=x.substring(0,x.lastIndexOf("/"))).split("/"),S=w.split("/"),x.length>=S.length)for(R=0,F=x.length;R<F;R++)if(R>=S.length||x[R]!=S[R]){G=R+1;break}if(x.length<S.length)for(R=0,F=S.length;R<F;R++)if(R>=x.length||x[R]!=S[R]){G=R+1;break}if(1===G)return w;for(R=0,F=x.length-(G-1);R<F;R++)L+="../";for(R=G-1,F=S.length;R<F;R++)L+=R!=G-1?"/"+S[R]:S[R];return L},toAbsPath:function(x,w){var S,R,F,G=0,L=[];for(R=/\/$/.test(w)?"/":"",x=x.split("/"),w=w.split("/"),W(x,function(U){U&&L.push(U)}),x=L,S=w.length-1,L=[];S>=0;S--)0!==w[S].length&&"."!==w[S]&&(".."!==w[S]?G>0?G--:L.push(w[S]):G++);return 0!==(F=(S=x.length-G)<=0?L.reverse().join("/"):x.slice(0,S).join("/")+"/"+L.reverse().join("/")).indexOf("/")&&(F="/"+F),R&&F.lastIndexOf("/")!==F.length-1&&(F+=R),F},getURI:function(x){var w,S=this;return S.source&&!x||(w="",x||(w+=S.protocol?S.protocol+"://":"//",S.userInfo&&(w+=S.userInfo+"@"),S.host&&(w+=S.host),S.port&&(w+=":"+S.port)),S.path&&(w+=S.path),S.query&&(w+="?"+S.query),S.anchor&&(w+="#"+S.anchor),S.source=w),S.source}},ee.parseDataUri=function(x){var w,S;return x=decodeURIComponent(x).split(","),(S=/data:([^;]+)/.exec(x[0]))&&(w=S[1]),{type:w,data:x[1]}},ee.getDocumentBaseUrl=function(x){var w;return w=0!==x.protocol.indexOf("http")&&"file:"!==x.protocol?x.href:x.protocol+"//"+x.host+x.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(w)&&(w=w.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(w)||(w+="/")),w},ee}),he(Ut,[Z],function(le){function ee(){}var C,I,W=le.each,B=le.extend;return ee.extend=C=function(x){function w(){var q,z,te,N=this;if(!I&&(N.init&&N.init.apply(N,arguments),z=N.Mixins))for(q=z.length;q--;)(te=z[q]).init&&te.init.apply(N,arguments)}function S(){return this}function G(q,z){return function(){var E,te=this,N=te._super;return te._super=R[q],E=z.apply(te,arguments),te._super=N,E}}var F,U,O,R=this.prototype;for(U in I=!0,F=new this,I=!1,x.Mixins&&(W(x.Mixins,function(q){for(var z in q)"init"!==z&&(x[z]=q[z])}),R.Mixins&&(x.Mixins=R.Mixins.concat(x.Mixins))),x.Methods&&W(x.Methods.split(","),function(q){x[q]=S}),x.Properties&&W(x.Properties.split(","),function(q){var z="_"+q;x[q]=function(te){var N=this;return void 0!==te?(N[z]=te,N):N[z]}}),x.Statics&&W(x.Statics,function(q,z){w[z]=q}),x.Defaults&&R.Defaults&&(x.Defaults=B({},R.Defaults,x.Defaults)),x)F[U]="function"==typeof(O=x[U])&&R[U]?G(U,O):O;return w.prototype=F,w.constructor=w,w.extend=C,w},ee}),he(tn,[Z],function(le){function ee(B){function C(){return!1}function I(){return!0}function w(q,z,te,N){var E,T,v;if(!1===z&&(z=C),z)for(z={func:z},N&&le.extend(z,N),v=(T=q.toLowerCase().split(" ")).length;v--;)(E=U[q=T[v]])||(E=U[q]=[],O(q,!0)),te?E.unshift(z):E.push(z);return R}function S(q,z){var te,N,E,T,v;if(q)for(te=(T=q.toLowerCase().split(" ")).length;te--;){if(N=U[q=T[te]],!q){for(E in U)O(E,!1),delete U[E];return R}if(N){if(z)for(v=N.length;v--;)N[v].func===z&&(N=N.slice(0,v).concat(N.slice(v+1)),U[q]=N);else N.length=0;N.length||(O(q,!1),delete U[q])}}else{for(q in U)O(q,!1);U={}}return R}var F,O,R=this,U={};F=(B=B||{}).scope||R,O=B.toggleEvent||C,R.fire=function(q,z){var te,N,E,T;if(q=q.toLowerCase(),(z=z||{}).type=q,z.target||(z.target=F),z.preventDefault||(z.preventDefault=function(){z.isDefaultPrevented=I},z.stopPropagation=function(){z.isPropagationStopped=I},z.stopImmediatePropagation=function(){z.isImmediatePropagationStopped=I},z.isDefaultPrevented=C,z.isPropagationStopped=C,z.isImmediatePropagationStopped=C),B.beforeFire&&B.beforeFire(z),te=U[q])for(N=0,E=te.length;N<E;N++){if((T=te[N]).once&&S(q,T.func),z.isImmediatePropagationStopped())return z.stopPropagation(),z;if(!1===T.func.call(F,z))return z.preventDefault(),z}return z},R.on=w,R.off=S,R.once=function(q,z,te){return w(q,z,te,{once:!0})},R.has=function(q){return q=q.toLowerCase(),!(!U[q]||0===U[q].length)}}var W=le.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return ee.isNative=function(B){return!!W[B.toLowerCase()]},ee}),he(yn,[],function(){function le(ee){this.create=ee.create}return le.create=function(ee,W){return new le({create:function(B,C){function I(S){B.set(C,S.value)}var w;return B.on("change:"+C,function(S){ee.set(W,S.value)}),ee.on("change:"+W,I),(w=B._bindings)||(w=B._bindings=[],B.on("destroy",function(){for(var S=w.length;S--;)w[S]()})),w.push(function(){ee.off("change:"+W,I)}),ee.get(W)}})},le}),he(cn,[tn],function(le){function ee(W){return W._eventDispatcher||(W._eventDispatcher=new le({scope:W,toggleEvent:function(B,C){le.isNative(B)&&W.toggleNativeEvent&&W.toggleNativeEvent(B,C)}})),W._eventDispatcher}return{fire:function(W,B,C){var I=this;if(I.removed&&"remove"!==W)return B;if(B=ee(I).fire(W,B,C),!1!==C&&I.parent)for(var x=I.parent();x&&!B.isPropagationStopped();)x.fire(W,B,!1),x=x.parent();return B},on:function(W,B,C){return ee(this).on(W,B,C)},off:function(W,B){return ee(this).off(W,B)},once:function(W,B){return ee(this).once(W,B)},hasEventListeners:function(W){return ee(this).has(W)}}}),he($t,[yn,cn,Ut,Z],function(le,ee,W,B){function C(x){return x.nodeType>0}function I(x,w){var S,G;if(x===w)return!0;if(null===x||null===w||"object"!=typeof x||"object"!=typeof w)return x===w;if(B.isArray(w)){if(x.length!==w.length)return!1;for(S=x.length;S--;)if(!I(x[S],w[S]))return!1}if(C(x)||C(w))return x===w;for(S in G={},w){if(!I(x[S],w[S]))return!1;G[S]=!0}for(S in x)if(!G[S]&&!I(x[S],w[S]))return!1;return!0}return W.extend({Mixins:[ee],init:function(x){var w,S;for(w in x=x||{})(S=x[w])instanceof le&&(x[w]=S.create(this,w));this.data=x},set:function(x,w){var S,G,L=this.data[x];if(w instanceof le&&(w=w.create(this,x)),"object"==typeof x){for(S in x)this.set(S,x[S]);return this}return I(L,w)||(this.data[x]=w,this.fire("change:"+x,G={target:this,name:x,value:w,oldValue:L}),this.fire("change",G)),this},get:function(x){return this.data[x]},has:function(x){return x in this.data},bind:function(x){return le.create(this,x)},destroy:function(){this.fire("destroy")}})}),he(_n,[Ut],function(le){var I,W=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,B=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,C=/^\s*|\s*$/g,x=le.extend({init:function(w){function U(z,te,N){function E(v){v&&te.push(v)}var T;return E(function(z){if(z)return z=z.toLowerCase(),function(te){return"*"===z||te.type===z}}((T=W.exec(z.replace(C,"")))[1])),E(function(z){if(z)return function(te){return te._name===z}}(T[2])),E(function(z){if(z)return z=z.split("."),function(te){for(var N=z.length;N--;)if(!te.classes.contains(z[N]))return!1;return!0}}(T[3])),E(function(z,te,N){if(z)return function(E){var T=E[z]?E[z]():"";return te?"="===te?T===N:"*="===te?T.indexOf(N)>=0:"~="===te?(" "+T+" ").indexOf(" "+N+" ")>=0:"!="===te?T!=N:"^="===te?0===T.indexOf(N):"$="===te&&T.substr(T.length-N.length)===N:!!N}}(T[4],T[5],T[6])),E(function(z){var te;if(z)return(z=/(?:not\((.+)\))|(.+)/i.exec(z))[1]?(te=O(z[1],[]),function(N){return!q(N,te)}):(z=z[2],function(N,E,T){return"first"===z?0===E:"last"===z?E===T-1:"even"===z?E%2==0:"odd"===z?E%2==1:!!N[z]&&N[z]()})}(T[7])),te.pseudo=!!T[7],te.direct=N,te}function O(z,te){var E,T,v,N=[];do{if(B.exec(""),(T=B.exec(z))&&(z=T[3],N.push(T[1]),T[2])){E=T[3];break}}while(T);for(E&&O(E,te),z=[],v=0;v<N.length;v++)">"!=N[v]&&z.push(U(N[v],[],">"===N[v-1]));return te.push(z),te}var q=this.match;this._selectors=O(w,[])},match:function(w,S){var G,L,R,F,U,O,q,z,te,N,E,T,v;for(G=0,L=(S=S||this._selectors).length;G<L;G++){for(v=w,T=0,R=(F=(U=S[G]).length)-1;R>=0;R--)for(z=U[R];v;){if(z.pseudo)for(te=N=(E=v.parent().items()).length;te--&&E[te]!==v;);for(O=0,q=z.length;O<q;O++)if(!z[O](v,te,N)){O=q+1;break}if(O===q){T++;break}if(R===F-1)break;v=v.parent()}if(T===F)return!0}return!1},find:function(w){function S(U,O,q){var z,te,N,E,T,v=O[q];for(z=0,te=U.length;z<te;z++){for(T=U[z],N=0,E=v.length;N<E;N++)if(!v[N](T,z,te)){N=E+1;break}if(N===E)q==O.length-1?G.push(T):T.items&&S(T.items(),O,q+1);else if(v.direct)return;T.items&&S(T.items(),O,q)}}var L,R,G=[],F=this._selectors;if(w.items){for(L=0,R=F.length;L<R;L++)S(w.items(),F[L],0);R>1&&(G=function(w){for(var L,S=[],G=w.length;G--;)(L=w[G]).__checked||(S.push(L),L.__checked=1);for(G=S.length;G--;)delete S[G].__checked;return S}(G))}return I||(I=x.Collection),new I(G)}});return x}),he(Mn,[Z,_n,Ut],function(le,ee,W){var B,C,I=Array.prototype.push,x=Array.prototype.slice;return C={length:0,init:function(w){w&&this.add(w)},add:function(w){var S=this;return le.isArray(w)?I.apply(S,w):w instanceof B?S.add(w.toArray()):I.call(S,w),S},set:function(w){var L,S=this,G=S.length;for(S.length=0,S.add(w),L=S.length;L<G;L++)delete S[L];return S},filter:function(w){var G,L,F,U,R=[];for("string"==typeof w?(w=new ee(w),U=function(O){return w.match(O)}):U=w,G=0,L=this.length;G<L;G++)U(F=this[G])&&R.push(F);return new B(R)},slice:function(){return new B(x.apply(this,arguments))},eq:function(w){return-1===w?this.slice(w):this.slice(w,+w+1)},each:function(w){return le.each(this,w),this},toArray:function(){return le.toArray(this)},indexOf:function(w){for(var G=this.length;G--&&this[G]!==w;);return G},reverse:function(){return new B(le.toArray(this).reverse())},hasClass:function(w){return!!this[0]&&this[0].classes.contains(w)},prop:function(w,S){var R,G=this;return void 0!==S?(G.each(function(F){F[w]&&F[w](S)}),G):(R=G[0])&&R[w]?R[w]():void 0},exec:function(w){var S=this,G=le.toArray(arguments).slice(1);return S.each(function(L){L[w]&&L[w].apply(L,G)}),S},remove:function(){for(var w=this.length;w--;)this[w].remove();return this},addClass:function(w){return this.each(function(S){S.classes.add(w)})},removeClass:function(w){return this.each(function(S){S.classes.remove(w)})}},le.each("fire on off show hide append prepend before after reflow".split(" "),function(w){C[w]=function(){var S=le.toArray(arguments);return this.each(function(G){w in G&&G[w].apply(G,S)}),this}}),le.each("text name disabled active selected checked visible parent value data".split(" "),function(w){C[w]=function(S){return this.prop(w,S)}}),B=W.extend(C),ee.Collection=B,B}),he(Rn,[H,Z,ue],function(le,ee,W){var B=0,C={id:function(){return"mceu_"+B++},create:function(I,x,w){var S=document.createElement(I);return W.DOM.setAttribs(S,x),"string"==typeof w?S.innerHTML=w:ee.each(w,function(G){G.nodeType&&S.appendChild(G)}),S},createFragment:function(I){return W.DOM.createFragment(I)},getWindowSize:function(){return W.DOM.getViewPort()},getSize:function(I){var x,w;if(I.getBoundingClientRect){var S=I.getBoundingClientRect();x=Math.max(S.width||S.right-S.left,I.offsetWidth),w=Math.max(S.height||S.bottom-S.bottom,I.offsetHeight)}else x=I.offsetWidth,w=I.offsetHeight;return{width:x,height:w}},getPos:function(I,x){return W.DOM.getPos(I,x||C.getContainer())},getContainer:function(){return le.container?le.container:document.body},getViewPort:function(I){return W.DOM.getViewPort(I)},get:function(I){return document.getElementById(I)},addClass:function(I,x){return W.DOM.addClass(I,x)},removeClass:function(I,x){return W.DOM.removeClass(I,x)},hasClass:function(I,x){return W.DOM.hasClass(I,x)},toggleClass:function(I,x,w){return W.DOM.toggleClass(I,x,w)},css:function(I,x,w){return W.DOM.setStyle(I,x,w)},getRuntimeStyle:function(I,x){return W.DOM.getStyle(I,x,!0)},on:function(I,x,w,S){return W.DOM.bind(I,x,w,S)},off:function(I,x,w){return W.DOM.unbind(I,x,w)},fire:function(I,x,w){return W.DOM.fire(I,x,w)},innerHtml:function(I,x){W.DOM.setHTML(I,x)}};return C}),he(On,[],function(){return{parseBox:function(le){var ee;if(le)return"number"==typeof le?{top:le=le||0,left:le,bottom:le,right:le}:(1===(ee=(le=le.split(" ")).length)?le[1]=le[2]=le[3]=le[0]:2===ee?(le[2]=le[0],le[3]=le[1]):3===ee&&(le[3]=le[1]),{top:parseInt(le[0],10)||0,right:parseInt(le[1],10)||0,bottom:parseInt(le[2],10)||0,left:parseInt(le[3],10)||0})},measureBox:function(le,ee){function B(C){var I=parseFloat(function(C){var I=document.defaultView;return I?(C=C.replace(/[A-Z]/g,function(x){return"-"+x}),I.getComputedStyle(le,null).getPropertyValue(C)):le.currentStyle[C]}(C),10);return isNaN(I)?0:I}return{top:B(ee+"TopWidth"),right:B(ee+"RightWidth"),bottom:B(ee+"BottomWidth"),left:B(ee+"LeftWidth")}}}}),he(oi,[Z],function(le){function ee(){}function W(B){this.cls=[],this.cls._map={},this.onchange=B||ee,this.prefix=""}return le.extend(W.prototype,{add:function(B){return B&&!this.contains(B)&&(this.cls._map[B]=!0,this.cls.push(B),this._change()),this},remove:function(B){if(this.contains(B)){for(var C=0;C<this.cls.length&&this.cls[C]!==B;C++);this.cls.splice(C,1),delete this.cls._map[B],this._change()}return this},toggle:function(B,C){var I=this.contains(B);return I!==C&&(I?this.remove(B):this.add(B),this._change()),this},contains:function(B){return!!this.cls._map[B]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),W.prototype.toString=function(){var B;if(this.clsValue)return this.clsValue;B="";for(var C=0;C<this.cls.length;C++)C>0&&(B+=" "),B+=this.prefix+this.cls[C];return B},W}),he(Wi,[M],function(le){var W,ee={};return{add:function(B){var C=B.parent();if(C){if(!C._layout||C._layout.isNative())return;ee[C._id]||(ee[C._id]=C),W||(W=!0,le.requestAnimationFrame(function(){var I,x;for(I in W=!1,ee)(x=ee[I]).state.get("rendered")&&x.reflow();ee={}},document.body))}},remove:function(B){ee[B._id]&&delete ee[B._id]}}}),he(Ei,[Ut,Z,tn,$t,Mn,Rn,re,On,oi,Wi],function(le,ee,W,B,C,I,x,w,S,G){function L(N){return N._eventDispatcher||(N._eventDispatcher=new W({scope:N,toggleEvent:function(E,T){T&&W.isNative(E)&&(N._nativeEvents||(N._nativeEvents={}),N._nativeEvents[E]=!0,N.state.get("rendered")&&R(N))}})),N._eventDispatcher}function R(N){function E(Ae){var Pe=N.getParentCtrl(Ae.target);Pe&&Pe.fire(Ae.type,Ae)}function T(){var Ae=ae._lastHoverCtrl;Ae&&(Ae.fire("mouseleave",{target:Ae.getEl()}),Ae.parents().each(function(Pe){Pe.fire("mouseleave",{target:Pe.getEl()})}),ae._lastHoverCtrl=null)}function v(Ae){var Ve,de,we,Pe=N.getParentCtrl(Ae.target),De=ae._lastHoverCtrl,ze=0;if(Pe!==De){if(ae._lastHoverCtrl=Pe,(de=Pe.parents().toArray().reverse()).push(Pe),De){for((we=De.parents().toArray().reverse()).push(De),ze=0;ze<we.length&&de[ze]===we[ze];ze++);for(Ve=we.length-1;Ve>=ze;Ve--)(De=we[Ve]).fire("mouseleave",{target:De.getEl()})}for(Ve=ze;Ve<de.length;Ve++)(Pe=de[Ve]).fire("mouseenter",{target:Pe.getEl()})}}function _(Ae){Ae.preventDefault(),"mousewheel"==Ae.type?(Ae.deltaY=-.025*Ae.wheelDelta,Ae.wheelDeltaX&&(Ae.deltaX=-.025*Ae.wheelDeltaX)):(Ae.deltaX=0,Ae.deltaY=Ae.detail),Ae=N.fire("wheel",Ae)}var j,ie,Y,ae,ge,Ee;if(ge=N._nativeEvents){for((Y=N.parents().toArray()).unshift(N),j=0,ie=Y.length;!ae&&j<ie;j++)ae=Y[j]._eventsRoot;for(ae||(ae=Y[Y.length-1]||N),N._eventsRoot=ae,ie=j,j=0;j<ie;j++)Y[j]._eventsRoot=ae;var Ie=ae._delegates;for(Ee in Ie||(Ie=ae._delegates={}),ge){if(!ge)return!1;"wheel"!==Ee||U?("mouseenter"===Ee||"mouseleave"===Ee?ae._hasMouseEnter||(x(ae.getEl()).on("mouseleave",T).on("mouseover",v),ae._hasMouseEnter=1):Ie[Ee]||(x(ae.getEl()).on(Ee,E),Ie[Ee]=!0),ge[Ee]=!1):F?x(N.getEl()).on("mousewheel",_):x(N.getEl()).on("DOMMouseScroll",_)}}}var q,F="onmousewheel"in document,U=!1,O="mce-",z=0,te={Statics:{classPrefix:O},isRtl:function(){return q.rtl},classPrefix:O,init:function(N){function E(j){var ie;for(j=j.split(" "),ie=0;ie<j.length;ie++)T.classes.add(j[ie])}var v,_,T=this;T.settings=N=ee.extend({},T.Defaults,N),T._id=N.id||"mceu_"+z++,T._aria={role:N.role},T._elmCache={},T.$=x,T.state=new B({visible:!0,active:!1,disabled:!1,value:""}),T.data=new B(N.data),T.classes=new S(function(){T.state.get("rendered")&&(T.getEl().className=this.toString())}),T.classes.prefix=T.classPrefix,(v=N.classes)&&(T.Defaults&&(_=T.Defaults.classes)&&v!=_&&E(_),E(v)),ee.each("title text name visible disabled active value".split(" "),function(j){j in N&&T[j](N[j])}),T.on("click",function(){if(T.disabled())return!1}),T.settings=N,T.borderBox=w.parseBox(N.border),T.paddingBox=w.parseBox(N.padding),T.marginBox=w.parseBox(N.margin),N.hidden&&T.hide()},Properties:"parent,name",getContainerElm:function(){return I.getContainer()},getParentCtrl:function(N){for(var E,T=this.getRoot().controlIdLookup;N&&T&&!(E=T[N.id]);)N=N.parentNode;return E},initLayoutRect:function(){var T,v,j,ie,Y,ae,ge,Ee,Ie,Ae,N=this,E=N.settings,_=N.getEl();T=N.borderBox=N.borderBox||w.measureBox(_,"border"),N.paddingBox=N.paddingBox||w.measureBox(_,"padding"),N.marginBox=N.marginBox||w.measureBox(_,"margin"),Ae=I.getSize(_),Y=(Ee=E.minWidth)||Ae.width,ae=(Ie=E.minHeight)||Ae.height,j=E.width,ie=E.height,ge=void 0!==(ge=E.autoResize)?ge:!j&&!ie;var Pe=T.left+T.right,De=T.top+T.bottom,ze=E.maxWidth||65535,Ve=E.maxHeight||65535;return N._layoutRect=v={x:E.x||0,y:E.y||0,w:j=j||Y,h:ie=ie||ae,deltaW:Pe,deltaH:De,contentW:j-Pe,contentH:ie-De,innerW:j-Pe,innerH:ie-De,startMinWidth:Ee||0,startMinHeight:Ie||0,minW:Math.min(Y,ze),minH:Math.min(ae,Ve),maxW:ze,maxH:Ve,autoResize:ge,scrollW:0},N._lastLayoutRect={},v},layoutRect:function(N){var v,_,j,ie,Y,ae,E=this,T=E._layoutRect;return T||(T=E.initLayoutRect()),N?(j=T.deltaW,ie=T.deltaH,N.x!==Y&&(T.x=N.x),N.y!==Y&&(T.y=N.y),N.minW!==Y&&(T.minW=N.minW),N.minH!==Y&&(T.minH=N.minH),(_=N.w)!==Y&&(T.w=_=(_=_<T.minW?T.minW:_)>T.maxW?T.maxW:_,T.innerW=_-j),(_=N.h)!==Y&&(T.h=_=(_=_<T.minH?T.minH:_)>T.maxH?T.maxH:_,T.innerH=_-ie),(_=N.innerW)!==Y&&(T.innerW=_=(_=_<T.minW-j?T.minW-j:_)>T.maxW-j?T.maxW-j:_,T.w=_+j),(_=N.innerH)!==Y&&(T.innerH=_=(_=_<T.minH-ie?T.minH-ie:_)>T.maxH-ie?T.maxH-ie:_,T.h=_+ie),N.contentW!==Y&&(T.contentW=N.contentW),N.contentH!==Y&&(T.contentH=N.contentH),(v=E._lastLayoutRect).x===T.x&&v.y===T.y&&v.w===T.w&&v.h===T.h||((ae=q.repaintControls)&&ae.map&&!ae.map[E._id]&&(ae.push(E),ae.map[E._id]=!0),v.x=T.x,v.y=T.y,v.w=T.w,v.h=T.h),E):T},repaint:function(){var E,T,v,_,j,ie,Y,ae,ge,Ee,N=this;ge=document.createRange?function(Ie){return Ie}:Math.round,E=N.getEl().style,ie=(j=N.borderBox).left+j.right,Y=j.top+j.bottom,(_=N._layoutRect).x!==(ae=N._lastRepaintRect||{}).x&&(E.left=ge(_.x)+"px",ae.x=_.x),_.y!==ae.y&&(E.top=ge(_.y)+"px",ae.y=_.y),_.w!==ae.w&&(Ee=ge(_.w-ie),E.width=(Ee>=0?Ee:0)+"px",ae.w=_.w),_.h!==ae.h&&(Ee=ge(_.h-Y),E.height=(Ee>=0?Ee:0)+"px",ae.h=_.h),N._hasBody&&_.innerW!==ae.innerW&&(Ee=ge(_.innerW),(v=N.getEl("body"))&&((T=v.style).width=(Ee>=0?Ee:0)+"px"),ae.innerW=_.innerW),N._hasBody&&_.innerH!==ae.innerH&&(Ee=ge(_.innerH),(v=v||N.getEl("body"))&&((T=T||v.style).height=(Ee>=0?Ee:0)+"px"),ae.innerH=_.innerH),N._lastRepaintRect=ae,N.fire("repaint",{},!1)},updateLayoutRect:function(){var N=this;N.parent()._lastRect=null,I.css(N.getEl(),{width:"",height:""}),N._layoutRect=N._lastRepaintRect=N._lastLayoutRect=null,N.initLayoutRect()},on:function(N,E){var _,j,ie,v=this;return L(v).on(N,"string"!=typeof(_=E)?_:function(Y){return j||v.parentsAndSelf().each(function(ae){var ge=ae.settings.callbacks;if(ge&&(j=ge[_]))return ie=ae,!1}),j?j.call(ie,Y):(Y.action=_,void this.fire("execute",Y))}),v},off:function(N,E){return L(this).off(N,E),this},fire:function(N,E,T){var v=this;if((E=E||{}).control||(E.control=v),E=L(v).fire(N,E),!1!==T&&v.parent)for(var _=v.parent();_&&!E.isPropagationStopped();)_.fire(N,E,!1),_=_.parent();return E},hasEventListeners:function(N){return L(this).has(N)},parents:function(N){var T,v=new C;for(T=this.parent();T;T=T.parent())v.add(T);return N&&(v=v.filter(N)),v},parentsAndSelf:function(N){return new C(this).add(this.parents(N))},next:function(){var N=this.parent().items();return N[N.indexOf(this)+1]},prev:function(){var N=this.parent().items();return N[N.indexOf(this)-1]},innerHtml:function(N){return this.$el.html(N),this},getEl:function(N){var E=N?this._id+"-"+N:this._id;return this._elmCache[E]||(this._elmCache[E]=x("#"+E)[0]),this._elmCache[E]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(N){}return this},blur:function(){return this.getEl().blur(),this},aria:function(N,E){var T=this,v=T.getEl(T.ariaTarget);return void 0===E?T._aria[N]:(T._aria[N]=E,T.state.get("rendered")&&v.setAttribute("role"==N?N:"aria-"+N,E),T)},encode:function(N,E){return!1!==E&&(N=this.translate(N)),(N||"").replace(/[&<>"]/g,function(T){return"&#"+T.charCodeAt(0)+";"})},translate:function(N){return q.translate?q.translate(N):N},before:function(N){var E=this,T=E.parent();return T&&T.insert(N,T.items().indexOf(E),!0),E},after:function(N){var E=this,T=E.parent();return T&&T.insert(N,T.items().indexOf(E)),E},remove:function(){var v,_,N=this,E=N.getEl(),T=N.parent();if(N.items){var j=N.items().toArray();for(_=j.length;_--;)j[_].remove()}T&&T.items&&(v=[],T.items().each(function(Y){Y!==N&&v.push(Y)}),T.items().set(v),T._lastRect=null),N._eventsRoot&&N._eventsRoot==N&&x(E).off();var ie=N.getRoot().controlIdLookup;return ie&&delete ie[N._id],E&&E.parentNode&&E.parentNode.removeChild(E),N.state.set("rendered",!1),N.state.destroy(),N.fire("remove"),N},renderBefore:function(N){return x(N).before(this.renderHtml()),this.postRender(),this},renderTo:function(N){return x(N||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var T,v,_,j,ie,N=this,E=N.settings;for(j in N.$el=x(N.getEl()),N.state.set("rendered",!0),E)0===j.indexOf("on")&&N.on(j.substr(2),E[j]);if(N._eventsRoot){for(_=N.parent();!ie&&_;_=_.parent())ie=_._eventsRoot;if(ie)for(j in ie._nativeEvents)N._nativeEvents[j]=!0}R(N),E.style&&(T=N.getEl())&&(T.setAttribute("style",E.style),T.style.cssText=E.style),N.settings.border&&N.$el.css({"border-top-width":(v=N.borderBox).top,"border-right-width":v.right,"border-bottom-width":v.bottom,"border-left-width":v.left});var Y=N.getRoot();for(var ae in Y.controlIdLookup||(Y.controlIdLookup={}),Y.controlIdLookup[N._id]=N,N._aria)N.aria(ae,N._aria[ae]);!1===N.state.get("visible")&&(N.getEl().style.display="none"),N.bindStates(),N.state.on("change:visible",function(ge){var Ie,Ee=ge.value;N.state.get("rendered")&&(N.getEl().style.display=!1===Ee?"none":"",N.getEl().getBoundingClientRect()),(Ie=N.parent())&&(Ie._lastRect=null),N.fire(Ee?"show":"hide"),G.add(N)}),N.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(N){var _,j,ie,Y,ae,ge,T=this.getEl(),v=T.parentNode,Ee=function(Ie,Ae){var Pe,De,ze=Ie;for(Pe=De=0;ze&&ze!=Ae&&ze.nodeType;)Pe+=ze.offsetLeft||0,De+=ze.offsetTop||0,ze=ze.offsetParent;return{x:Pe,y:De}}(T,v);return _=Ee.x,j=Ee.y,ie=T.offsetWidth,Y=T.offsetHeight,ae=v.clientWidth,ge=v.clientHeight,"end"==N?(_-=ae-ie,j-=ge-Y):"center"==N&&(_-=ae/2-ie/2,j-=ge/2-Y/2),v.scrollLeft=_,v.scrollTop=j,this},getRoot:function(){for(var E,N=this,T=[];N;){if(N.rootControl){E=N.rootControl;break}T.push(N),E=N,N=N.parent()}E||(E=this);for(var v=T.length;v--;)T[v].rootControl=E;return E},reflow:function(){G.remove(this);var N=this.parent();return N._layout&&!N._layout.isNative()&&N.reflow(),this}};return ee.each("text title visible disabled active value".split(" "),function(N){te[N]=function(E){return 0===arguments.length?this.state.get(N):(void 0!==E&&this.state.set(N,E),this)}}),q=le.extend(te)}),he(Ri,[],function(){var ee,le={};return{add:function(W,B){le[W.toLowerCase()]=B},has:function(W){return!!le[W.toLowerCase()]},create:function(W,B){var C,I,x;if(!ee){for(I in x=tinymce.ui)le[I.toLowerCase()]=x[I];ee=!0}if("string"==typeof W?(B=B||{}).type=W:W=(B=W).type,W=W.toLowerCase(),!(C=le[W]))throw new Error("Could not find control by type: "+W);return(C=new C(B)).type=W,C}}}),he(Or,[],function(){return function(le){function ee(_){return _&&1===_.nodeType}function W(_){return ee(_=_||T)?_.getAttribute("role"):null}function B(_){for(var j,ie=_||T;ie=ie.parentNode;)if(j=W(ie))return j}function C(_){var j=T;if(ee(j))return j.getAttribute("aria-"+_)}function I(_){var j=_.tagName.toUpperCase();return"INPUT"==j||"TEXTAREA"==j||"SELECT"==j}function w(_){var ie=[];return function j(Y){if(1==Y.nodeType&&"none"!=Y.style.display&&!Y.disabled){(function(_){return!(!I(_)||_.hidden)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(W(_))})(Y)&&ie.push(Y);for(var ae=0;ae<Y.childNodes.length;ae++)j(Y.childNodes[ae])}}(_||E.getEl()),ie}function S(_){var j,ie;(ie=(_=_||v).parents().toArray()).unshift(_);for(var Y=0;Y<ie.length&&!(j=ie[Y]).settings.ariaRoot;Y++);return j}function L(_,j){return _<0?_=j.length-1:_>=j.length&&(_=0),j[_]&&j[_].focus(),_}function R(_,j){var ie=-1,Y=S();j=j||w(Y.getEl());for(var ae=0;ae<j.length;ae++)j[ae]===T&&(ie=ae);Y.lastAriaIndex=L(ie+=_,j)}function F(){"tablist"==B()?R(-1,w(T.parentNode)):v.parent().submenu?te():R(-1)}function U(){var _=W(),j=B();"tablist"==j?R(1,w(T.parentNode)):"menuitem"==_&&"menu"==j&&C("haspopup")?N():R(1)}function O(){R(-1)}function q(){var _=W(),j=B();"menuitem"==_&&"menubar"==j?N():"button"==_&&C("haspopup")?N({key:"down"}):R(1)}function te(){v.fire("cancel")}function N(_){v.fire("click",{target:T,aria:_=_||{}})}var T,v,E=le.root;try{T=document.activeElement}catch(_){T=document.body}return v=E.getParentCtrl(T),E.on("keydown",function(_){function j(ie,Y){I(T)||"slider"!==W(T)&&!1!==Y(ie)&&ie.preventDefault()}if(!_.isDefaultPrevented())switch(_.keyCode){case 37:j(_,F);break;case 39:j(_,U);break;case 38:j(_,O);break;case 40:j(_,q);break;case 27:te();break;case 14:case 13:case 32:j(_,N);break;case 9:!1!==function(_){if("tablist"==B()){var ie=w(v.getEl("body"))[0];ie&&ie.focus()}else R(_.shiftKey?-1:1)}(_)&&_.preventDefault()}}),E.on("focusin",function(_){T=_.target,v=_.control}),{focusFirst:function(_){var j=S(_),ie=w(j.getEl());L(j.settings.ariaRemember&&"lastAriaIndex"in j?j.lastAriaIndex:0,ie)}}}}),he(Gi,[Ei,Mn,_n,Ri,Or,Z,re,oi,Wi],function(le,ee,W,B,C,I,x,w,S){var G={};return le.extend({init:function(L){var R=this;R._super(L),(L=R.settings).fixed&&R.state.set("fixed",!0),R._items=new ee,R.isRtl()&&R.classes.add("rtl"),R.bodyClasses=new w(function(){R.state.get("rendered")&&(R.getEl("body").className=this.toString())}),R.bodyClasses.prefix=R.classPrefix,R.classes.add("container"),R.bodyClasses.add("container-body"),L.containerCls&&R.classes.add(L.containerCls),R._layout=B.create((L.layout||"")+"layout"),R.add(R.settings.items?R.settings.items:R.render()),R._hasBody=!0},items:function(){return this._items},find:function(L){return(L=G[L]=G[L]||new W(L)).find(this)},add:function(L){var R=this;return R.items().add(R.create(L)).parent(R),R},focus:function(L){var F,U,O,R=this;return L&&(U=R.keyboardNav||R.parents().eq(-1)[0].keyboardNav)?void U.focusFirst(R):(O=R.find("*"),R.statusbar&&O.add(R.statusbar.items()),O.each(function(q){return q.settings.autofocus?(F=null,!1):void(q.canFocus&&(F=F||q))}),F&&F.focus(),R)},replace:function(L,R){for(var F,U=this.items(),O=U.length;O--;)if(U[O]===L){U[O]=R;break}O>=0&&((F=R.getEl())&&F.parentNode.removeChild(F),(F=L.getEl())&&F.parentNode.removeChild(F)),R.parent(this)},create:function(L){var F,R=this,U=[];return I.isArray(L)||(L=[L]),I.each(L,function(O){O&&(O instanceof le||("string"==typeof O&&(O={type:O}),F=I.extend({},R.settings.defaults,O),O.type=F.type=F.type||O.type||R.settings.defaultType||(F.defaults?F.defaults.type:null),O=B.create(F)),U.push(O))}),U},renderNew:function(){var L=this;return L.items().each(function(R,F){var U;R.parent(L),R.state.get("rendered")||((U=L.getEl("body")).hasChildNodes()&&F<=U.childNodes.length-1?x(U.childNodes[F]).before(R.renderHtml()):x(U).append(R.renderHtml()),R.postRender(),S.add(R))}),L._layout.applyClasses(L.items().filter(":visible")),L._lastRect=null,L},append:function(L){return this.add(L).renderNew()},prepend:function(L){var R=this;return R.items().set(R.create(L).concat(R.items().toArray())),R.renderNew()},insert:function(L,R,F){var O,q,z,U=this;return L=U.create(L),O=U.items(),!F&&R<O.length-1&&(R+=1),R>=0&&R<O.length&&(q=O.slice(0,R).toArray(),z=O.slice(R).toArray(),O.set(q.concat(L,z))),U.renderNew()},fromJSON:function(L){for(var F in L)this.find("#"+F).value(L[F]);return this},toJSON:function(){var R={};return this.find("*").each(function(F){var U=F.name(),O=F.value();U&&void 0!==O&&(R[U]=O)}),R},renderHtml:function(){var L=this,R=L._layout,F=this.settings.role;return L.preRender(),R.preRender(L),'<div id="'+L._id+'" class="'+L.classes+'"'+(F?' role="'+this.settings.role+'"':"")+'><div id="'+L._id+'-body" class="'+L.bodyClasses+'">'+(L.settings.html||"")+R.renderHtml(L)+"</div></div>"},postRender:function(){var R,L=this;return L.items().exec("postRender"),L._super(),L._layout.postRender(L),L.state.set("rendered",!0),L.settings.style&&L.$el.css(L.settings.style),L.settings.border&&L.$el.css({"border-top-width":(R=L.borderBox).top,"border-right-width":R.right,"border-bottom-width":R.bottom,"border-left-width":R.left}),L.parent()||(L.keyboardNav=new C({root:L})),L},initLayoutRect:function(){var L=this,R=L._super();return L._layout.recalc(L),R},recalc:function(){var L=this,R=L._layoutRect,F=L._lastRect;if(!F||F.w!=R.w||F.h!=R.h)return L._layout.recalc(L),R=L.layoutRect(),L._lastRect={x:R.x,y:R.y,w:R.w,h:R.h},!0},reflow:function(){var L;if(S.remove(this),this.visible()){for(le.repaintControls=[],le.repaintControls.map={},this.recalc(),L=le.repaintControls.length;L--;)le.repaintControls[L].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),le.repaintControls=[]}return this}})}),he(Ii,[re],function(le){function W(B){var C,I;if(B.changedTouches)for(C="screenX screenY pageX pageY clientX clientY".split(" "),I=0;I<C.length;I++)B[C[I]]=B.changedTouches[0][C[I]]}return function(B,C){function I(){return w.getElementById(C.handle||B)}var x,S,G,L,R,F,U,w=C.document||document;C=C||{},G=function(O){var z,te,q=function(B){var C,I,x,w,S,G,L,F=Math.max;return x=F((C=B.documentElement).scrollWidth,(I=B.body).scrollWidth),w=F(C.clientWidth,I.clientWidth),S=F(C.offsetWidth,I.offsetWidth),G=F(C.scrollHeight,I.scrollHeight),L=F(C.clientHeight,I.clientHeight),{width:x<S?w:x,height:G<F(C.offsetHeight,I.offsetHeight)?L:G}}(w);W(O),O.preventDefault(),S=O.button,z=I(),F=O.screenX,U=O.screenY,te=window.getComputedStyle?window.getComputedStyle(z,null).getPropertyValue("cursor"):z.runtimeStyle.cursor,x=le("<div></div>").css({position:"absolute",top:0,left:0,width:q.width,height:q.height,zIndex:2147483647,opacity:1e-4,cursor:te}).appendTo(w.body),le(w).on("mousemove touchmove",R).on("mouseup touchend",L),C.start(O)},R=function(O){return W(O),O.button!==S?L(O):(O.deltaX=O.screenX-F,O.deltaY=O.screenY-U,O.preventDefault(),void C.drag(O))},L=function(O){W(O),le(w).off("mousemove touchmove",R).off("mouseup touchend",L),x.remove(),C.stop&&C.stop(O)},this.destroy=function(){le(I()).off()},le(I()).on("mousedown touchstart",G)}}),he(or,[re,Ii],function(le,ee){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function W(){function x(L,R,F,U,O,q){var z,te,N,E,v,_,j,ie;if(te=C.getEl("scroll"+L)){if(j=R.toLowerCase(),ie=F.toLowerCase(),le(C.getEl("absend")).css(j,C.layoutRect()[U]-1),!O)return void le(te).css("display","none");le(te).css("display","block"),z=C.getEl("body"),N=C.getEl("scroll"+L+"t"),E=z["client"+F]-2*I,v=(E-=w&&S?te["client"+q]:0)/z["scroll"+F],(_={})[j]=z["offset"+R]+I,_[ie]=E,le(te).css(_),(_={})[j]=z["scroll"+R]*v,_[ie]=E*v,le(N).css(_)}}var w,S,G;G=C.getEl("body"),S=G.scrollHeight>G.clientHeight,x("h","Left","Width","contentW",w=G.scrollWidth>G.clientWidth,"Height"),x("v","Top","Height","contentH",S,"Width")}var C=this,I=2;C.settings.autoScroll&&(C._hasScroll||(C._hasScroll=!0,function(){function x(w,S,G,L,R){var F,U=C._id+"-scroll"+w,O=C.classPrefix;le(C.getEl()).append('<div id="'+U+'" class="'+O+"scrollbar "+O+"scrollbar-"+w+'"><div id="'+U+'t" class="'+O+'scrollbar-thumb"></div></div>'),C.draghelper=new ee(U+"t",{start:function(){F=C.getEl("body")["scroll"+S],le("#"+U).addClass(O+"active")},drag:function(q){var z,te,N,E,T=C.layoutRect();te=T.contentW>T.innerW,N=T.contentH>T.innerH,E=C.getEl("body")["client"+G]-2*I,z=(E-=te&&N?C.getEl("scroll"+w)["client"+R]:0)/C.getEl("body")["scroll"+G],C.getEl("body")["scroll"+S]=F+q["delta"+L]/z},stop:function(){le("#"+U).removeClass(O+"active")}})}C.classes.add("scroll"),x("v","Top","Height","Y","Width"),x("h","Left","Width","X","Height")}(),C.on("wheel",function(x){var w=C.getEl("body");w.scrollLeft+=10*(x.deltaX||0),w.scrollTop+=10*x.deltaY,W()}),le(C.getEl("body")).on("scroll",W)),W())}}}),he(Ui,[Gi,or],function(le,ee){return le.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[ee],renderHtml:function(){var W=this,B=W._layout,C=W.settings.html;return W.preRender(),B.preRender(W),void 0===C?C='<div id="'+W._id+'-body" class="'+W.bodyClasses+'">'+B.renderHtml(W)+"</div>":("function"==typeof C&&(C=C.call(W)),W._hasBody=!1),'<div id="'+W._id+'" class="'+W.classes+'" hidefocus="1" tabindex="-1" role="group">'+(W._preBodyHtml||"")+C+"</div>"}})}),he(Fi,[Rn],function(le){function ee(W,B,C){var I,x,w,S,G,L,R,F,U,O;return U=le.getViewPort(),w=(x=le.getPos(B)).x,S=x.y,W.state.get("fixed")&&"static"==le.getRuntimeStyle(document.body,"position")&&(w-=U.x,S-=U.y),I=W.getEl(),G=(O=le.getSize(I)).width,L=O.height,R=(O=le.getSize(B)).width,F=O.height,"b"===(C=(C||"").split(""))[0]&&(S+=F),"r"===C[1]&&(w+=R),"c"===C[0]&&(S+=Math.round(F/2)),"c"===C[1]&&(w+=Math.round(R/2)),"b"===C[3]&&(S-=L),"r"===C[4]&&(w-=G),"c"===C[3]&&(S-=Math.round(L/2)),"c"===C[4]&&(w-=Math.round(G/2)),{x:w,y:S,w:G,h:L}}return{testMoveRel:function(W,B){for(var C=le.getViewPort(),I=0;I<B.length;I++){var x=ee(this,W,B[I]);if(this.state.get("fixed")){if(x.x>0&&x.x+x.w<C.w&&x.y>0&&x.y+x.h<C.h)return B[I]}else if(x.x>C.x&&x.x+x.w<C.w+C.x&&x.y>C.y&&x.y+x.h<C.h+C.y)return B[I]}return B[0]},moveRel:function(W,B){"string"!=typeof B&&(B=this.testMoveRel(W,B));var C=ee(this,W,B);return this.moveTo(C.x,C.y)},moveBy:function(W,B){var C=this,I=C.layoutRect();return C.moveTo(I.x+W,I.y+B),C},moveTo:function(W,B){function C(S,G,L){return S<0||S+L>G&&(S=G-L)<0?0:S}var I=this;if(I.settings.constrainToViewport){var x=le.getViewPort(window),w=I.layoutRect();W=C(W,x.w+x.x,w.w),B=C(B,x.h+x.y,w.h)}return I.state.get("rendered")?I.layoutRect({x:W,y:B}).repaint():(I.settings.x=W,I.settings.y=B),I.fire("move",{x:W,y:B}),I}}}),he(zr,[Rn],function(le){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(ee,W){if(ee<=1||W<=1){var B=le.getWindowSize();ee=ee<=1?ee*B.w:ee,W=W<=1?W*B.h:W}return this._layoutRect.autoResize=!1,this.layoutRect({minW:ee,minH:W,w:ee,h:W}).reflow()},resizeBy:function(ee,W){var C=this.layoutRect();return this.resizeTo(C.w+ee,C.h+W)}}}),he(Tr,[Ui,Fi,zr,Rn,re,M],function(le,ee,W,B,C,I){function x(v,_){for(;v;){if(v==_)return!0;v=v.parent()}}function R(v){function _(ie,Y){for(var ae,ge=0;ge<te.length;ge++)if(te[ge]!=v)for(ae=te[ge].parent();ae&&(ae=ae.parent());)ae==v&&te[ge].fixed(ie).moveBy(0,Y).repaint()}var j=B.getViewPort().y;v.settings.autofix&&(v.state.get("fixed")?v._autoFixY>j&&(v.fixed(!1).layoutRect({y:v._autoFixY}).repaint(),_(!1,v._autoFixY-j)):(v._autoFixY=v.layoutRect().y,v._autoFixY<j&&(v.fixed(!0).layoutRect({y:0}).repaint(),_(!0,j-v._autoFixY))))}function F(v,_){var j,Y,ie=T.zIndex||65535;if(v)N.push(_);else for(j=N.length;j--;)N[j]===_&&N.splice(j,1);if(N.length)for(j=0;j<N.length;j++)N[j].modal&&(ie++,Y=N[j]),N[j].getEl().style.zIndex=ie,N[j].zIndex=ie,ie++;var ae=C("#"+_.classPrefix+"modal-block",_.getContainerElm())[0];Y?C(ae).css("z-index",Y.zIndex-1):ae&&(ae.parentNode.removeChild(ae),E=!1),T.currentZIndex=ie}function U(v){var _;for(_=te.length;_--;)te[_]===v&&te.splice(_,1);for(_=N.length;_--;)N[_]===v&&N.splice(_,1)}var O,q,z,E,te=[],N=[],T=le.extend({Mixins:[ee,W],init:function(v){var _=this;_._super(v),_._eventsRoot=_,_.classes.add("floatpanel"),v.autohide&&(O||(O=function(v){2!=v.button&&function(v){for(var _=te.length;_--;){var j=te[_],ie=j.getParentCtrl(v.target);if(j.settings.autohide){if(ie&&(x(ie,j)||j.parent()===ie))continue;(v=j.fire("autohide",{target:v.target})).isDefaultPrevented()||j.hide()}}}(v)},C(document).on("click touchstart",O)),function(){if(!z){var v=document.documentElement,_=v.clientWidth,j=v.clientHeight;z=function(){document.all&&_==v.clientWidth&&j==v.clientHeight||(_=v.clientWidth,j=v.clientHeight,T.hideAll())},C(window).on("resize",z)}}(),te.push(_)),v.autofix&&(q||(q=function(){var v;for(v=te.length;v--;)R(te[v])},C(window).on("scroll",q)),_.on("move",function(){R(this)})),_.on("postrender show",function(j){if(j.control==_){var ie,Y=_.classPrefix;_.modal&&!E&&((ie=C("#"+Y+"modal-block",_.getContainerElm()))[0]||(ie=C('<div id="'+Y+'modal-block" class="'+Y+"reset "+Y+'fade"></div>').appendTo(_.getContainerElm())),I.setTimeout(function(){ie.addClass(Y+"in"),C(_.getEl()).addClass(Y+"in")}),E=!0),F(!0,_)}}),_.on("show",function(){_.parents().each(function(j){if(j.state.get("fixed"))return _.fixed(!0),!1})}),v.popover&&(_._preBodyHtml='<div class="'+_.classPrefix+'arrow"></div>',_.classes.add("popover").add("bottom").add(_.isRtl()?"end":"start")),_.aria("label",v.ariaLabel),_.aria("labelledby",_._id),_.aria("describedby",_.describedBy||_._id+"-none")},fixed:function(v){var _=this;if(_.state.get("fixed")!=v){if(_.state.get("rendered")){var j=B.getViewPort();v?_.layoutRect().y-=j.y:_.layoutRect().y+=j.y}_.classes.toggle("fixed",v),_.state.set("fixed",v)}return _},show:function(){var _,v=this,j=v._super();for(_=te.length;_--&&te[_]!==v;);return-1===_&&te.push(v),j},hide:function(){return U(this),F(!1,this),this._super()},hideAll:function(){T.hideAll()},close:function(){var v=this;return v.fire("close").isDefaultPrevented()||(v.remove(),F(!1,v)),v},remove:function(){U(this),this._super()},postRender:function(){var v=this;return v.settings.bodyRole&&this.getEl("body").setAttribute("role",v.settings.bodyRole),v._super()}});return T.hideAll=function(){for(var v=te.length;v--;){var _=te[v];_&&_.settings.autohide&&(_.hide(),te.splice(v,1))}},T}),he(wo,[Tr,Ui,Rn,re,Ii,On,H,M],function(le,ee,W,B,C,I,x,w){function S(q){var N,te=B("meta[name=viewport]")[0];!1!==x.overrideViewPort&&(te||((te=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(te)),(N=te.getAttribute("content"))&&void 0!==U&&(U=N),te.setAttribute("content",q?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":U))}var F=[],U="",O=le.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(q){var z=this;z._super(q),z.isRtl()&&z.classes.add("rtl"),z.classes.add("window"),z.bodyClasses.add("window-body"),z.state.set("fixed",!0),q.buttons&&(z.statusbar=new ee({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:z.isRtl()?"start":"end",defaults:{type:"button"},items:q.buttons}),z.statusbar.classes.add("foot"),z.statusbar.parent(z)),z.on("click",function(te){var N=z.classPrefix+"close";(W.hasClass(te.target,N)||W.hasClass(te.target.parentNode,N))&&z.close()}),z.on("cancel",function(){z.close()}),z.aria("describedby",z.describedBy||z._id+"-none"),z.aria("label",q.title),z._fullscreen=!1},recalc:function(){var te,N,E,T,q=this,z=q.statusbar;q._fullscreen&&(q.layoutRect(W.getWindowSize()),q.layoutRect().contentH=q.layoutRect().innerH),q._super(),te=q.layoutRect(),q.settings.title&&!q._fullscreen&&(N=te.headerW)>te.w&&(E=te.x-Math.max(0,N/2),q.layoutRect({w:N,x:E}),T=!0),z&&(z.layoutRect({w:q.layoutRect().innerW}).recalc(),(N=z.layoutRect().minW+te.deltaW)>te.w&&(E=te.x-Math.max(0,N-te.w),q.layoutRect({w:N,x:E}),T=!0)),T&&q.recalc()},initLayoutRect:function(){var N,q=this,z=q._super(),te=0;if(q.settings.title&&!q._fullscreen){N=q.getEl("head");var E=W.getSize(N);z.headerW=E.width,z.headerH=E.height,te+=z.headerH}q.statusbar&&(te+=q.statusbar.layoutRect().h),z.deltaH+=te,z.minH+=te,z.h+=te;var T=W.getWindowSize();return z.x=q.settings.x||Math.max(0,T.w/2-z.w/2),z.y=q.settings.y||Math.max(0,T.h/2-z.h/2),z},renderHtml:function(){var q=this,z=q._layout,te=q._id,N=q.classPrefix,E=q.settings,T="",v="",_=E.html;return q.preRender(),z.preRender(q),E.title&&(T='<div id="'+te+'-head" class="'+N+'window-head"><div id="'+te+'-title" class="'+N+'title">'+q.encode(E.title)+'</div><div id="'+te+'-dragh" class="'+N+'dragh"></div><button type="button" class="'+N+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),E.url&&(_='<iframe src="'+E.url+'" tabindex="-1"></iframe>'),void 0===_&&(_=z.renderHtml(q)),q.statusbar&&(v=q.statusbar.renderHtml()),'<div id="'+te+'" class="'+q.classes+'" hidefocus="1"><div class="'+q.classPrefix+'reset" role="application">'+T+'<div id="'+te+'-body" class="'+q.bodyClasses+'">'+_+"</div>"+v+"</div></div>"},fullscreen:function(q){var N,T,z=this,te=document.documentElement,E=z.classPrefix;if(q!=z._fullscreen)if(B(window).on("resize",function(){var _;if(z._fullscreen)if(N)z._timer||(z._timer=w.setTimeout(function(){var ie=W.getWindowSize();z.moveTo(0,0).resizeTo(ie.w,ie.h),z._timer=0},50));else{_=(new Date).getTime();var j=W.getWindowSize();z.moveTo(0,0).resizeTo(j.w,j.h),(new Date).getTime()-_>50&&(N=!0)}}),T=z.layoutRect(),z._fullscreen=q,q){z._initial={x:T.x,y:T.y,w:T.w,h:T.h},z.borderBox=I.parseBox("0"),z.getEl("head").style.display="none",T.deltaH-=T.headerH+2,B([te,document.body]).addClass(E+"fullscreen"),z.classes.add("fullscreen");var v=W.getWindowSize();z.moveTo(0,0).resizeTo(v.w,v.h)}else z.borderBox=I.parseBox(z.settings.border),z.getEl("head").style.display="",T.deltaH+=T.headerH,B([te,document.body]).removeClass(E+"fullscreen"),z.classes.remove("fullscreen"),z.moveTo(z._initial.x,z._initial.y).resizeTo(z._initial.w,z._initial.h);return z.reflow()},postRender:function(){var z,q=this;setTimeout(function(){q.classes.add("in"),q.fire("open")},0),q._super(),q.statusbar&&q.statusbar.postRender(),q.focus(),this.dragHelper=new C(q._id+"-dragh",{start:function(){z={x:q.layoutRect().x,y:q.layoutRect().y}},drag:function(te){q.moveTo(z.x+te.deltaX,z.y+te.deltaY)}}),q.on("submit",function(te){te.isDefaultPrevented()||q.close()}),F.push(q),S(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var z,q=this;for(q.dragHelper.destroy(),q._super(),q.statusbar&&this.statusbar.remove(),function(q,z){(function(){for(var q=0;q<F.length;q++)if(F[q]._fullscreen)return!0;return!1})()&&!1===z&&B([document.documentElement,document.body]).removeClass(q+"fullscreen")}(q.classPrefix,!1),z=F.length;z--;)F[z]===q&&F.splice(z,1);S(F.length>0)},getContentWindow:function(){var q=this.getEl().getElementsByTagName("iframe")[0];return q?q.contentWindow:null}});return function(){if(!x.desktop){var z={w:window.innerWidth,h:window.innerHeight};w.setInterval(function(){var te=window.innerWidth,N=window.innerHeight;z.w==te&&z.h==N||(z={w:te,h:N},B(window).trigger("resize"))},100)}B(window).on("resize",function(){var te,E,N=W.getWindowSize();for(te=0;te<F.length;te++)E=F[te].layoutRect(),F[te].moveTo(F[te].settings.x||Math.max(0,N.w/2-E.w/2),F[te].settings.y||Math.max(0,N.h/2-E.h/2))})}(),O}),he(At,[wo],function(le){var ee=le.extend({init:function(W){this._super({border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}})},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(W){function B(x,w,S){return{type:"button",text:x,subtype:S?"primary":"",onClick:function(G){G.control.parents()[1].close(),I(w)}}}var C,I=W.callback||function(){};switch(W.buttons){case ee.OK_CANCEL:C=[B("Ok",!0,!0),B("Cancel",!1)];break;case ee.YES_NO:case ee.YES_NO_CANCEL:C=[B("Yes",1,!0),B("No",0)],W.buttons==ee.YES_NO_CANCEL&&C.push(B("Cancel",-1));break;default:C=[B("Ok",!0,!0)]}return new le({padding:20,x:W.x,y:W.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:C,title:W.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:W.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:W.onClose,onCancel:function(){I(!1)}}).renderTo(document.body).reflow()},alert:function(W,B){return"string"==typeof W&&(W={text:W}),W.callback=B,ee.msgBox(W)},confirm:function(W,B){return"string"==typeof W&&(W={text:W}),W.callback=B,W.buttons=ee.OK_CANCEL,ee.msgBox(W)}}});return ee}),he(Wt,[wo,At],function(le,ee){return function(W){function B(){if(w.length)return w[w.length-1]}function C(S){W.fire("OpenWindow",{win:S})}function I(S){W.fire("CloseWindow",{win:S})}var x=this,w=[];x.windows=w,W.on("remove",function(){for(var S=w.length;S--;)w[S].close()}),x.open=function(S,G){var L;return W.editorManager.setActive(W),S.title=S.title||" ",S.url=S.url||S.file,S.url&&(S.width=parseInt(S.width||320,10),S.height=parseInt(S.height||240,10)),S.body&&(S.items={defaults:S.defaults,type:S.bodyType||"form",items:S.body,data:S.data,callbacks:S.commands}),S.url||S.buttons||(S.buttons=[{text:"Ok",subtype:"primary",onclick:function(){L.find("form")[0].submit()}},{text:"Cancel",onclick:function(){L.close()}}]),L=new le(S),w.push(L),L.on("close",function(){for(var R=w.length;R--;)w[R]===L&&w.splice(R,1);w.length||W.focus(),I(L)}),S.data&&L.on("postRender",function(){this.find("*").each(function(R){var F=R.name();F in S.data&&R.value(S.data[F])})}),L.features=S||{},L.params=G||{},1===w.length&&W.nodeChanged(),C(L=L.renderTo().reflow()),L},x.alert=function(S,G,L){var R;(R=ee.alert(S,function(){G?G.call(L||this):W.focus()})).on("close",function(){I(R)}),C(R)},x.confirm=function(S,G,L){var R;(R=ee.confirm(S,function(F){G.call(L||this,F)})).on("close",function(){I(R)}),C(R)},x.close=function(){B()&&B().close()},x.getParams=function(){return B()?B().params:null},x.setParams=function(S){B()&&(B().params=S)},x.getWindows=function(){return w}}}),he(mn,[Ei,Fi],function(le,ee){return le.extend({Mixins:[ee],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var W=this,B=W.classPrefix;return'<div id="'+W._id+'" class="'+W.classes+'" role="presentation"><div class="'+B+'tooltip-arrow"></div><div class="'+B+'tooltip-inner">'+W.encode(W.state.get("text"))+"</div></div>"},bindStates:function(){var W=this;return W.state.on("change:text",function(B){W.getEl().lastChild.innerHTML=W.encode(B.value)}),W._super()},repaint:function(){var B,C;(B=this.getEl().style).left=(C=this._layoutRect).x+"px",B.top=C.y+"px",B.zIndex=131070}})}),he(on,[Ei,mn],function(le,ee){var W,B=le.extend({init:function(C){var I=this;I._super(C),C=I.settings,I.canFocus=!0,C.tooltip&&!1!==B.tooltips&&(I.on("mouseenter",function(x){var w=I.tooltip().moveTo(-65535);if(x.control==I){var S=w.text(C.tooltip).show().testMoveRel(I.getEl(),["bc-tc","bc-tl","bc-tr"]);w.classes.toggle("tooltip-n","bc-tc"==S),w.classes.toggle("tooltip-nw","bc-tl"==S),w.classes.toggle("tooltip-ne","bc-tr"==S),w.moveRel(I.getEl(),S)}else w.hide()}),I.on("mouseleave mousedown click",function(){I.tooltip().hide()})),I.aria("label",C.ariaLabel||C.tooltip)},tooltip:function(){return W||(W=new ee({type:"tooltip"})).renderTo(),W},postRender:function(){var C=this,I=C.settings;C._super(),C.parent()||!I.width&&!I.height||(C.initLayoutRect(),C.repaint()),I.autofocus&&C.focus()},bindStates:function(){function C(w){x.aria("disabled",w),x.classes.toggle("disabled",w)}function I(w){x.aria("pressed",w),x.classes.toggle("active",w)}var x=this;return x.state.on("change:disabled",function(w){C(w.value)}),x.state.on("change:active",function(w){I(w.value)}),x.state.get("disabled")&&C(!0),x.state.get("active")&&I(!0),x._super()},remove:function(){this._super(),W&&(W.remove(),W=null)}});return B}),he(Sn,[on],function(le){return le.extend({Defaults:{value:0},init:function(ee){var W=this;W._super(ee),W.classes.add("progress"),W.settings.filter||(W.settings.filter=function(B){return Math.round(B)})},renderHtml:function(){var B=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+B+'bar-container"><div class="'+B+'bar"></div></div><div class="'+B+'text">0%</div></div>'},postRender:function(){return this._super(),this.value(this.settings.value),this},bindStates:function(){function ee(B){B=W.settings.filter(B),W.getEl().lastChild.innerHTML=B+"%",W.getEl().firstChild.firstChild.style.width=B+"%"}var W=this;return W.state.on("change:value",function(B){ee(B.value)}),ee(W.state.get("value")),W._super()}})}),he(Bn,[Ei,Fi,Sn,M],function(le,ee,W,B){return le.extend({Mixins:[ee],Defaults:{classes:"widget notification"},init:function(C){var I=this;I._super(C),C.text&&I.text(C.text),C.icon&&(I.icon=C.icon),C.color&&(I.color=C.color),C.type&&I.classes.add("notification-"+C.type),C.timeout&&(C.timeout<0||C.timeout>0)&&!C.closeButton?I.closeButton=!1:(I.classes.add("has-close"),I.closeButton=!0),C.progressBar&&(I.progressBar=new W),I.on("click",function(x){-1!=x.target.className.indexOf(I.classPrefix+"close")&&I.close()})},renderHtml:function(){var C=this,I=C.classPrefix,x="",w="",S="",G="";return C.icon&&(x='<i class="'+I+"ico "+I+"i-"+C.icon+'"></i>'),C.color&&(G=' style="background-color: '+C.color+'"'),C.closeButton&&(w='<button type="button" class="'+I+'close" aria-hidden="true">\xd7</button>'),C.progressBar&&(S=C.progressBar.renderHtml()),'<div id="'+C._id+'" class="'+C.classes+'"'+G+' role="presentation">'+x+'<div class="'+I+'notification-inner">'+C.state.get("text")+"</div>"+S+w+"</div>"},postRender:function(){var C=this;return B.setTimeout(function(){C.$el.addClass(C.classPrefix+"in")}),C._super()},bindStates:function(){var C=this;return C.state.on("change:text",function(I){C.getEl().childNodes[1].innerHTML=I.value}),C.progressBar&&C.progressBar.bindStates(),C._super()},close:function(){var C=this;return C.fire("close").isDefaultPrevented()||C.remove(),C},repaint:function(){var I,x;(I=this.getEl().style).left=(x=this._layoutRect).x+"px",I.top=x.y+"px",I.zIndex=65534}})}),he(Yn,[Bn,M,Z],function(le,ee,W){return function(B){function C(){if(F.length)return F[F.length-1]}function w(){if(F.length>0){var U=F.slice(0,1)[0],O=B.inline?B.getElement():B.getContentAreaContainer();if(U.moveRel(O,"tc-tc"),F.length>1)for(var q=1;q<F.length;q++)F[q].moveRel(F[q-1].getEl(),"bc-tc")}}var R=this,F=[];R.notifications=F,B.on("remove",function(){for(var U=F.length;U--;)F[U].close()}),B.on("ResizeEditor",w),B.on("ResizeWindow",function(){ee.requestAnimationFrame(function(){(function(){for(var U=0;U<F.length;U++)F[U].moveTo(0,0)})(),w()})}),R.open=function(U){if(!B.removed){var O;B.editorManager.setActive(B);var q=function(U,O){if(!function(U){return!U.progressBar&&!U.timeout}(O))return null;var q=W.grep(U,function(z){return function(U,O){return U.type===O.settings.type&&U.text===O.settings.text}(O,z)});return 0===q.length?null:q[0]}(F,U);return null===q?(O=new le(U),F.push(O),U.timeout>0&&(O.timer=setTimeout(function(){O.close()},U.timeout)),O.on("close",function(){var z=F.length;for(O.timer&&B.getWin().clearTimeout(O.timer);z--;)F[z]===O&&F.splice(z,1);w()}),O.renderTo(),w()):O=q,O}},R.close=function(){C()&&C().close()},R.getNotifications=function(){return F},B.on("SkinLoaded",function(){var U=B.settings.service_message;U&&B.notificationManager.open({text:U,type:"warning",timeout:0,icon:""})})}}),he(Zn,[ue],function(le){return{create:function(B,C,I){for(var x=[];C&&C!=B;C=C.parentNode)x.push(le.nodeIndex(C,I));return x},resolve:function(B,C){var I,x,w;for(x=B,I=C.length-1;I>=0;I--){if(C[I]>(w=x.childNodes).length-1)return null;x=w[C[I]]}return x}}}),he(Xn,[It,Ne,$,Zn,Le,pe,H,Z,M,Me,dn,An],function(le,ee,W,B,C,I,x,w,S,G,L,R){return function(F){function U(Ot,Xt){try{F.getDoc().execCommand(Ot,!1,Xt)}catch(ot){}}function O(){return F.getDoc().documentMode||6}function q(Ot){return Ot.isDefaultPrevented()}function z(Ot){var Xt,ot;Ot.dataTransfer&&(F.selection.isCollapsed()&&"IMG"==Ot.target.tagName&&vn.select(Ot.target),(Xt=F.selection.getContent()).length>0&&(ot=gi+escape(F.id)+","+escape(Xt),Ot.dataTransfer.setData(mi,ot)))}function te(Ot){var Xt;return Ot.dataTransfer&&(Xt=Ot.dataTransfer.getData(mi))&&Xt.indexOf(gi)>=0?(Xt=Xt.substr(gi.length).split(","),{id:unescape(Xt[0]),html:unescape(Xt[1])}):null}function N(Ot){F.queryCommandSupported("mceInsertClipboardContent")?F.execCommand("mceInsertClipboardContent",!1,{content:Ot}):F.execCommand("mceInsertContent",!1,Ot)}function v(){F.shortcuts.add("meta+a",null,"SelectAll")}function j(){F.on("keydown",function(Ot){if(!q(Ot)&&Ot.keyCode===gt){if(!F.getBody().getElementsByTagName("hr").length)return;if(vn.isCollapsed()&&0===vn.getRng(!0).startOffset){var Xt=vn.getNode(),ot=Xt.previousSibling;if("HR"==Xt.nodeName)return xt.remove(Xt),void Ot.preventDefault();ot&&ot.nodeName&&"hr"===ot.nodeName.toLowerCase()&&(xt.remove(ot),Ot.preventDefault())}}})}function Ee(){F.on("keydown",function(Ot){if(!q(Ot)&&Ot.keyCode===gt&&vn.isCollapsed()&&0===vn.getRng(!0).startOffset){var Xt=vn.getNode().previousSibling;if(Xt&&Xt.nodeName&&"table"===Xt.nodeName.toLowerCase())return Ot.preventDefault(),!1}})}function Vt(){F.inline||(F.contentStyles.push("body {min-height: 150px}"),F.on("click",function(Ot){var Xt;if("HTML"==Ot.target.nodeName){if(x.ie>11)return void F.getBody().focus();Xt=F.selection.getRng(),F.getBody().focus(),F.selection.setRng(Xt),F.selection.normalize(),F.nodeChanged()}}))}function dt(){function Ot(Xt){var ot=new R(Xt.getBody()),wt=Xt.selection.getRng(),an=L.fromRangeStart(wt),fn=L.fromRangeEnd(wt),Nn=ot.prev(an),Xe=ot.next(fn);return!Xt.selection.isCollapsed()&&(!Nn||Nn.isAtStart()&&an.isEqual(Nn))&&(!Xe||Xe.isAtEnd()&&an.isEqual(Xe))}F.on("keypress",function(Xt){!q(Xt)&&!vn.isCollapsed()&&Xt.charCode>31&&!le.metaKeyPressed(Xt)&&Ot(F)&&(Xt.preventDefault(),F.setContent(String.fromCharCode(Xt.charCode)),F.selection.select(F.getBody(),!0),F.selection.collapse(!1),F.nodeChanged())}),F.on("keydown",function(Xt){var ot=Xt.keyCode;q(Xt)||ot!=Ct&&ot!=gt||Ot(F)&&(Xt.preventDefault(),F.setContent(""),F.nodeChanged())})}var Ot,it=w.each,Mt=F.$,gt=le.BACKSPACE,Ct=le.DELETE,xt=F.dom,vn=F.selection,zn=F.settings,jn=F.parser,Mi=F.serializer,ei=x.gecko,ni=x.ie,Ai=x.webkit,gi="data:text/mce-internal,",mi=ni?"Text":"URL";return F.on("keydown",function(Ot){var Xt,ot,wt,an,fn;if(!q(Ot)&&Ot.keyCode==le.BACKSPACE&&(ot=(Xt=vn.getRng()).startContainer,wt=Xt.startOffset,an=xt.getRoot(),fn=ot,Xt.collapsed&&0===wt)){for(;fn&&fn.parentNode&&fn.parentNode.firstChild==fn&&fn.parentNode!=an;)fn=fn.parentNode;"BLOCKQUOTE"===fn.tagName&&(F.formatter.toggle("blockquote",null,fn),(Xt=xt.createRng()).setStart(ot,0),Xt.setEnd(ot,0),vn.setRng(Xt))}}),function(){function Ot(ot){var wt=xt.create("body"),an=ot.cloneContents();return wt.appendChild(an),vn.serializer.serialize(wt,{format:"html"})}F.on("keydown",function(ot){var an,fn,wt=ot.keyCode;if(!q(ot)&&(wt==Ct||wt==gt)){if(an=F.selection.isCollapsed(),fn=F.getBody(),an&&!xt.isEmpty(fn)||!an&&!function(ot){if(!ot.setStart){if(ot.item)return!1;var wt=ot.duplicate();return wt.moveToElementText(F.getBody()),ee.compareRanges(ot,wt)}var an=Ot(ot),fn=xt.createRng();return fn.selectNode(F.getBody()),an===Ot(fn)}(F.selection.getRng()))return;ot.preventDefault(),F.setContent(""),fn.firstChild&&xt.isBlock(fn.firstChild)?F.selection.setCursorLocation(fn.firstChild,0):F.selection.setCursorLocation(fn,0),F.nodeChanged()}})}(),x.windowsPhone||F.on("keyup focusin mouseup",function(Ot){65==Ot.keyCode&&le.metaKeyPressed(Ot)||vn.normalize()},!0),Ai&&(dt(),function(){function Ot(qe){var pt=Oe.schema.getBlockElements(),vt=F.getBody();if("BR"!=qe.nodeName)return!1;for(;qe!=vt&&!pt[qe.nodeName];qe=qe.parentNode)if(qe.nextSibling)return!1;return!0}function Xt(qe,pt){var vt;for(vt=qe.nextSibling;vt&&vt!=pt;vt=vt.nextSibling)if((3!=vt.nodeType||0!==Mt.trim(vt.data).length)&&vt!==pt)return!1;return vt===pt}function ot(qe,pt,vt){var Zt,et,St;if(Oe.isChildOf(qe,F.getBody()))for(St=Oe.schema.getNonEmptyElements(),Zt=new W(vt||qe,qe);et=Zt[pt?"next":"prev"]();)if(St[et.nodeName]&&!Ot(et)||3==et.nodeType&&et.data.length>0)return et}function Xe(qe){var pt,vt,Zt;(function(qe){var pt=Je.getRng();if(pt=function(qe,pt){var vt,Zt,et,St,st,zt;if(!qe.collapsed)return qe;if(zt=qe.startOffset,3==(st=qe.startContainer).nodeType)if(pt){if(zt<st.data.length)return qe}else if(zt>0)return qe;vt=ee.getNode(st,zt),et=Oe.getParent(vt,Oe.isBlock),Zt=ot(F.getBody(),pt,vt),St=Oe.getParent(Zt,Oe.isBlock);var jt=1===st.nodeType&&zt>st.childNodes.length-1;if(!vt||!Zt)return qe;if(St&&et!=St)if(pt){if(!Xt(et,St))return qe;1==vt.nodeType?"BR"==vt.nodeName?qe.setStartBefore(vt):qe.setStartAfter(vt):qe.setStart(vt,vt.data.length),1==Zt.nodeType?qe.setEnd(Zt,0):qe.setEndBefore(Zt)}else{if(!Xt(St,et))return qe;1==Zt.nodeType?"BR"==Zt.nodeName?qe.setStartBefore(Zt):qe.setStartAfter(Zt):qe.setStart(Zt,Zt.data.length),1==vt.nodeType&&jt?qe.setEndAfter(vt):qe.setEndBefore(vt)}return qe}(pt,qe),function(qe){var pt,vt,Zt,et,St;if(!qe.collapsed&&(pt=Oe.getParent(ee.getNode(qe.startContainer,qe.startOffset),Oe.isBlock),vt=Oe.getParent(ee.getNode(qe.endContainer,qe.endOffset),Oe.isBlock),St=F.schema.getTextBlockElements(),pt!=vt&&St[pt.nodeName]&&St[vt.nodeName]&&"false"!==Oe.getContentEditable(pt)&&"false"!==Oe.getContentEditable(vt)))return qe.deleteContents(),Zt=ot(pt,!1),et=ot(vt,!0),Oe.isEmpty(vt)||Mt(pt).append(vt.childNodes),Mt(vt).remove(),Zt?1==Zt.nodeType?"BR"==Zt.nodeName?(qe.setStartBefore(Zt),qe.setEndBefore(Zt)):(qe.setStartAfter(Zt),qe.setEndAfter(Zt)):(qe.setStart(Zt,Zt.data.length),qe.setEnd(Zt,Zt.data.length)):et&&(1==et.nodeType?(qe.setStartBefore(et),qe.setEndBefore(et)):(qe.setStart(et,0),qe.setEnd(et,0))),Je.setRng(qe),!0}(pt))return!0})(qe)||(w.each(F.getBody().getElementsByTagName("*"),function(et){"SPAN"==et.tagName&&et.setAttribute("mce-data-marked",1),!et.hasAttribute("data-mce-style")&&et.hasAttribute("style")&&F.dom.setAttrib(et,"style",F.dom.getAttrib(et,"style"))}),(pt=new lt(function(){})).observe(F.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),F.getDoc().execCommand(qe?"ForwardDelete":"Delete",!1,null),vt=F.selection.getRng(),Zt=vt.startContainer.parentNode,w.each(pt.takeRecords(),function(et){if(Oe.isChildOf(et.target,F.getBody())){if("style"==et.attributeName){var St=et.target.getAttribute("data-mce-style");St?et.target.setAttribute("style",St):et.target.removeAttribute("style")}w.each(et.addedNodes,function(st){var zt,jt;"SPAN"!=st.nodeName||st.getAttribute("mce-data-marked")||(st==Zt&&(zt=vt.startOffset,jt=st.firstChild),Oe.remove(st,!0),jt&&(vt.setStart(jt,zt),vt.setEnd(jt,zt),F.selection.setRng(vt)))})}}),pt.disconnect(),w.each(F.dom.select("span[mce-data-marked]"),function(et){et.removeAttribute("mce-data-marked")}))}function rt(qe){F.undoManager.transact(function(){Xe(qe)})}var yt,ut,xe=F.getDoc(),Oe=F.dom,Je=F.selection,lt=window.MutationObserver;lt||(yt=!0,lt=function(){function qe(et){var St=et.relatedNode||et.target;vt.push({target:St,addedNodes:[St]})}function pt(et){vt.push({target:et.relatedNode||et.target,attributeName:et.attrName})}var Zt,vt=[];this.observe=function(et){(Zt=et).addEventListener("DOMSubtreeModified",qe,!1),Zt.addEventListener("DOMNodeInsertedIntoDocument",qe,!1),Zt.addEventListener("DOMNodeInserted",qe,!1),Zt.addEventListener("DOMAttrModified",pt,!1)},this.disconnect=function(){Zt.removeEventListener("DOMSubtreeModified",qe,!1),Zt.removeEventListener("DOMNodeInsertedIntoDocument",qe,!1),Zt.removeEventListener("DOMNodeInserted",qe,!1),Zt.removeEventListener("DOMAttrModified",pt,!1)},this.takeRecords=function(){return vt}}),F.on("keydown",function(qe){var pt=qe.keyCode==Ct,vt=qe.ctrlKey||qe.metaKey;if(!q(qe)&&(pt||qe.keyCode==gt)){var Zt=F.selection.getRng(),et=Zt.startContainer,St=Zt.startOffset;if(pt&&qe.shiftKey)return;if(function(qe,pt){function vt(Fn,In){return Cn=Mt(In).parents().filter(function(ri,Si){return!!F.schema.getTextInlineElements()[Si.nodeName]}),st=Fn.cloneNode(!1),(Cn=w.map(Cn,function(ri){return ri=ri.cloneNode(!1),st.hasChildNodes()&&ri.appendChild(st.firstChild),st.appendChild(ri),st.appendChild(ri),ri})).length?(en=Oe.create("br"),Cn[0].appendChild(en),Oe.replace(st,Fn),pt.setStartBefore(en),pt.setEndBefore(en),F.selection.setRng(pt),en):null}function Zt(Fn){return Fn&&F.schema.getTextBlockElements()[Fn.tagName]}var et,St,st,zt,jt,Jt,qt,en,Cn;if(pt.collapsed&&(qt=pt.startOffset,Zt(St=Oe.getParent(Jt=pt.startContainer,Oe.isBlock))))if(1==Jt.nodeType){if((Jt=Jt.childNodes[qt])&&"BR"!=Jt.tagName)return;if(jt=qe?St.nextSibling:St.previousSibling,Oe.isEmpty(St)&&Zt(jt)&&Oe.isEmpty(jt)&&vt(St,Jt))return Oe.remove(jt),!0}else if(3==Jt.nodeType){if(et=B.create(St,Jt),zt=St.cloneNode(!0),Jt=B.resolve(zt,et),qe){if(qt>=Jt.data.length)return;Jt.deleteData(qt,1)}else{if(qt<=0)return;Jt.deleteData(qt-1,1)}if(Oe.isEmpty(zt))return vt(St,Jt)}}(pt,Zt))return void qe.preventDefault();if(!vt&&Zt.collapsed&&3==et.nodeType&&(pt?St<et.data.length:St>0))return;qe.preventDefault(),vt&&F.selection.getSel().modify("extend",pt?"forward":"backward",qe.metaKey?"lineboundary":"word"),Xe(pt)}}),F.on("keypress",function(qe){var pt,vt,Zt,et,St,st;!q(qe)&&!Je.isCollapsed()&&qe.charCode>31&&!le.metaKeyPressed(qe)&&(pt=F.selection.getRng(),st=String.fromCharCode(qe.charCode),qe.preventDefault(),vt=Mt(pt.startContainer).parents().filter(function(zt,jt){return!!F.schema.getTextInlineElements()[jt.nodeName]}),Xe(!0),(vt=vt.filter(function(zt,jt){return!Mt.contains(F.getBody(),jt)})).length?(Zt=Oe.createFragment(),vt.each(function(zt,jt){jt=jt.cloneNode(!1),Zt.hasChildNodes()?(jt.appendChild(Zt.firstChild),Zt.appendChild(jt)):(St=jt,Zt.appendChild(jt)),Zt.appendChild(jt)}),St.appendChild(F.getDoc().createTextNode(st)),et=Oe.getParent(pt.startContainer,Oe.isBlock),Oe.isEmpty(et)?Mt(et).empty().append(Zt):pt.insertNode(Zt),pt.setStart(St.firstChild,1),pt.setEnd(St.firstChild,1),F.selection.setRng(pt)):F.selection.setContent(st))}),F.addCommand("Delete",function(){Xe()}),F.addCommand("ForwardDelete",function(){Xe(!0)}),yt||(F.on("dragstart",function(qe){ut=Je.getRng(),z(qe)}),F.on("drop",function(qe){if(!q(qe)){var pt=te(qe);pt&&(qe.preventDefault(),S.setEditorTimeout(F,function(){var vt=ee.getCaretRangeFromPoint(qe.x,qe.y,xe);ut&&(Je.setRng(ut),ut=null,rt()),Je.setRng(vt),N(pt.html)}))}}),F.on("cut",function(qe){q(qe)||!qe.clipboardData||F.selection.isCollapsed()||(qe.preventDefault(),qe.clipboardData.clearData(),qe.clipboardData.setData("text/html",F.selection.getContent()),qe.clipboardData.setData("text/plain",F.selection.getContent({format:"text"})),S.setEditorTimeout(F,function(){rt(!0)}))}))}(),F.settings.content_editable||xt.bind(F.getDoc(),"mousedown mouseup",function(Ot){var Xt;if(Ot.target==F.getDoc().documentElement)if(Xt=vn.getRng(),F.getBody().focus(),"mousedown"==Ot.type){if(G.isCaretContainer(Xt.startContainer))return;vn.placeCaretAt(Ot.clientX,Ot.clientY)}else vn.setRng(Xt)}),F.on("click",function(Ot){var Xt=Ot.target;/^(IMG|HR)$/.test(Xt.nodeName)&&"false"!==xt.getContentEditableParent(Xt)&&(Ot.preventDefault(),vn.select(Xt),F.nodeChanged()),"A"==Xt.nodeName&&xt.hasClass(Xt,"mce-item-anchor")&&(Ot.preventDefault(),vn.select(Xt))}),zn.forced_root_block&&F.on("init",function(){U("DefaultParagraphSeparator",zn.forced_root_block)}),F.on("init",function(){F.dom.bind(F.getBody(),"submit",function(Ot){Ot.preventDefault()})}),Ee(),jn.addNodeFilter("br",function(Ot){for(var Xt=Ot.length;Xt--;)"Apple-interchange-newline"==Ot[Xt].attr("class")&&Ot[Xt].remove()}),x.iOS?(F.inline||F.on("keydown",function(){document.activeElement==document.body&&F.getWin().focus()}),Vt(),F.on("click",function(Ot){var Xt=Ot.target;do{if("A"===Xt.tagName)return void Ot.preventDefault()}while(Xt=Xt.parentNode)}),F.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):v()),ni&&x.ie<11&&(j(),document.body.setAttribute("role","application"),O()>7||(U("RespectVisibilityInDesign",!0),F.contentStyles.push(".mceHideBrInPre pre br {display: none}"),xt.addClass(F.getBody(),"mceHideBrInPre"),jn.addNodeFilter("pre",function(Ot){for(var ot,wt,an,fn,Xt=Ot.length;Xt--;)for(wt=(ot=Ot[Xt].getAll("br")).length;wt--;)(fn=(an=ot[wt]).prev)&&3===fn.type&&"\n"!=fn.value.charAt(fn.value-1)?fn.value+="\n":an.parent.insert(new C("#text",3),an,!0).value="\n"}),Mi.addNodeFilter("pre",function(Ot){for(var ot,wt,fn,Xt=Ot.length;Xt--;)for(wt=(ot=Ot[Xt].getAll("br")).length;wt--;)(fn=ot[wt].prev)&&3==fn.type&&(fn.value=fn.value.replace(/\r?\n$/,""))})),xt.bind(F.getBody(),"mouseup",function(){var Ot,Xt=vn.getNode();"IMG"==Xt.nodeName&&((Ot=xt.getStyle(Xt,"width"))&&(xt.setAttrib(Xt,"width",Ot.replace(/[^0-9%]+/g,"")),xt.setStyle(Xt,"width","")),(Ot=xt.getStyle(Xt,"height"))&&(xt.setAttrib(Xt,"height",Ot.replace(/[^0-9%]+/g,"")),xt.setStyle(Xt,"height","")))}),F.on("keydown",function(Ot){var Xt;q(Ot)||Ot.keyCode!=gt||(Xt=F.getDoc().selection.createRange())&&Xt.item&&(Ot.preventDefault(),F.undoManager.beforeChange(),xt.remove(Xt.item(0)),F.undoManager.add())}),O()>=10&&(Ot="",it("p div h1 h2 h3 h4 h5 h6".split(" "),function(Xt,ot){Ot+=(ot>0?",":"")+Xt+":empty"}),F.contentStyles.push(Ot+"{padding-right: 1px !important}")),O()<9&&(jn.addNodeFilter("noscript",function(Ot){for(var ot,wt,Xt=Ot.length;Xt--;)(wt=(ot=Ot[Xt]).firstChild)&&ot.attr("data-mce-innertext",wt.value)}),Mi.addNodeFilter("noscript",function(Ot){for(var ot,wt,an,Xt=Ot.length;Xt--;)ot=Ot[Xt],(wt=Ot[Xt].firstChild)?wt.value=I.decode(wt.value):(an=ot.attributes.map["data-mce-innertext"])&&(ot.attr("data-mce-innertext",null),(wt=new C("#text",3)).value=an,wt.raw=!0,ot.append(wt))})),function(){function Ot(rt,xe){var Oe=an.createTextRange();try{Oe.moveToPoint(rt,xe)}catch(Je){Oe=null}return Oe}function Xt(rt){var xe;rt.button?(xe=Ot(rt.x,rt.y))&&(xe.compareEndPoints("StartToStart",Nn)>0?xe.setEndPoint("StartToStart",Nn):xe.setEndPoint("EndToEnd",Nn),xe.select()):ot()}function ot(){var rt=wt.selection.createRange();Nn&&!rt.item&&0===rt.compareEndPoints("StartToEnd",rt)&&Nn.select(),xt.unbind(wt,"mouseup",ot),xt.unbind(wt,"mousemove",Xt),Nn=fn=0}var fn,Nn,Xe,wt=xt.doc,an=wt.body;wt.documentElement.unselectable=!0,xt.bind(wt,"mousedown contextmenu",function(rt){if("HTML"===rt.target.nodeName){if(fn&&ot(),(Xe=wt.documentElement).scrollHeight>Xe.clientHeight)return;fn=1,(Nn=Ot(rt.x,rt.y))&&(xt.bind(wt,"mouseup",ot),xt.bind(wt,"mousemove",Xt),xt.getRoot().focus(),Nn.select())}})}()),x.ie>=11&&(Vt(),Ee()),x.ie&&(v(),U("AutoUrlDetect",!1),F.on("dragstart",function(Ot){z(Ot)}),F.on("drop",function(Ot){if(!q(Ot)){var Xt=te(Ot);if(Xt&&Xt.id!=F.id){Ot.preventDefault();var ot=ee.getCaretRangeFromPoint(Ot.x,Ot.y,F.getDoc());vn.setRng(ot),N(Xt.html)}}})),ei&&(dt(),j(),window.Range.prototype.getClientRects||F.on("mousedown",function(Ot){if(!q(Ot)&&"HTML"===Ot.target.nodeName){var Xt=F.getBody();Xt.blur(),S.setEditorTimeout(F,function(){Xt.focus()})}}),function(){function Ot(){var ot=xt.getAttribs(vn.getStart().cloneNode(!1));return function(){var wt=vn.getStart();wt!==F.getBody()&&(xt.setAttrib(wt,"style",null),it(ot,function(an){wt.setAttributeNode(an.cloneNode(!0))}))}}function Xt(){return!vn.isCollapsed()&&xt.getParent(vn.getStart(),xt.isBlock)!=xt.getParent(vn.getEnd(),xt.isBlock)}F.on("keypress",function(ot){var wt;if(!q(ot)&&(8==ot.keyCode||46==ot.keyCode)&&Xt())return wt=Ot(),F.getDoc().execCommand("delete",!1,null),wt(),ot.preventDefault(),!1}),xt.bind(F.getDoc(),"cut",function(ot){var wt;!q(ot)&&Xt()&&(wt=Ot(),S.setEditorTimeout(F,function(){wt()}))})}(),zn.readonly||F.on("BeforeExecCommand MouseDown",function(){U("StyleWithCSS",!1),U("enableInlineTableEditing",!1),zn.object_resizing||U("enableObjectResizing",!1)}),F.on("SetContent ExecCommand",function(Xt){"setcontent"!=Xt.type&&"mceInsertLink"!==Xt.command||it(xt.select("a"),function(Xt){var ot=Xt.parentNode,wt=xt.getRoot();if(ot.lastChild===Xt){for(;ot&&!xt.isBlock(ot);){if(ot.parentNode.lastChild!==ot||ot===wt)return;ot=ot.parentNode}xt.add(ot,"br",{"data-mce-bogus":1})}})}),F.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),x.mac&&F.on("keydown",function(Ot){!le.metaKeyPressed(Ot)||Ot.shiftKey||37!=Ot.keyCode&&39!=Ot.keyCode||(Ot.preventDefault(),F.selection.getSel().modify("move",37==Ot.keyCode?"backward":"forward","lineboundary"))}),Ee()),{refreshContentEditable:function(){},isHidden:function(){var Ot;return ei?!(Ot=F.selection.getSel())||!Ot.rangeCount||0===Ot.rangeCount:0}}}}),he(ti,[cn,ue,Z],function(le,ee,W){function B(S,G){return"selectionchange"==G?S.getDoc():!S.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(G)?S.getDoc().documentElement:S.settings.event_root?(S.eventRoot||(S.eventRoot=I.select(S.settings.event_root)[0]),S.eventRoot):S.getBody()}function C(S,G){function L(U){return!U.hidden&&!U.readonly}var F,R=B(S,G);if(S.delegates||(S.delegates={}),!S.delegates[G])if(S.settings.event_root){if(x||(x={},S.editorManager.on("removeEditor",function(){var U;if(!S.editorManager.activeEditor&&x){for(U in x)S.dom.unbind(B(S,U));x=null}})),x[G])return;x[G]=F=function(U){for(var O=U.target,q=S.editorManager.editors,z=q.length;z--;){var te=q[z].getBody();(te===O||I.isChildOf(O,te))&&L(q[z])&&q[z].fire(G,U)}},I.bind(R,G,F)}else I.bind(R,G,F=function(U){L(S)&&S.fire(G,U)}),S.delegates[G]=F}var x,I=ee.DOM,w={bindPendingEventDelegates:function(){var S=this;W.each(S._pendingNativeEvents,function(G){C(S,G)})},toggleNativeEvent:function(S,G){var L=this;"focus"!=S&&"blur"!=S&&(G?L.initialized?C(L,S):L._pendingNativeEvents?L._pendingNativeEvents.push(S):L._pendingNativeEvents=[S]:L.initialized&&(L.dom.unbind(B(L,S),S,L.delegates[S]),delete L.delegates[S]))},unbindAllNativeEvents:function(){var G,S=this;if(S.delegates){for(G in S.delegates)S.dom.unbind(B(S,G),G,S.delegates[G]);delete S.delegates}S.inline||(S.getBody().onload=null,S.dom.unbind(S.getWin()),S.dom.unbind(S.getDoc())),S.dom.unbind(S.getBody()),S.dom.unbind(S.getContainer())}};return W.extend({},le,w)}),he(di,[],function(){function le(C,I,x){try{C.getDoc().execCommand(I,!1,x)}catch(w){}}function W(C,I){C._clickBlocker&&(C._clickBlocker.unbind(),C._clickBlocker=null),I?(C._clickBlocker=function(C){var I,x;return I=C.getBody(),x=function(w){C.dom.getParents(w.target,"a").length>0&&w.preventDefault()},C.dom.bind(I,"click",x),{unbind:function(){C.dom.unbind(I,"click",x)}}}(C),C.selection.controlSelection.hideResizeRect(),C.readonly=!0,C.getBody().contentEditable=!1):(C.readonly=!1,C.getBody().contentEditable=!0,le(C,"StyleWithCSS",!1),le(C,"enableInlineTableEditing",!1),le(C,"enableObjectResizing",!1),C.focus(),C.nodeChanged())}return{setMode:function(C,I){I!=(C.readonly?"readonly":"design")&&(C.initialized?W(C,"readonly"==I):C.on("init",function(){W(C,"readonly"==I)}),C.fire("SwitchMode",{mode:I}))}}}),he(pi,[Z,H],function(le,ee){var W=le.each,B=le.explode,C={f9:120,f10:121,f11:122},I=le.makeMap("alt,ctrl,shift,meta,access");return function(x){function w(z){var te,N,E={};for(N in W(B(z,"+"),function(T){T in I?E[T]=!0:/^[0-9]{2,}$/.test(T)?E.keyCode=parseInt(T,10):(E.charCode=T.charCodeAt(0),E.keyCode=C[T]||T.toUpperCase().charCodeAt(0))}),te=[E.keyCode],I)E[N]?te.push(N):E[N]=!1;return E.id=te.join(","),E.access&&(E.alt=!0,ee.mac?E.ctrl=!0:E.shift=!0),E.meta&&(ee.mac?E.meta=!0:(E.ctrl=!0,E.meta=!1)),E}function S(z,te,N,E){var T;return(T=le.map(B(z,">"),w))[T.length-1]=le.extend(T[T.length-1],{func:N,scope:E||x}),le.extend(T[0],{desc:x.translate(te),subpatterns:T.slice(1)})}function R(z,te){return!!te&&te.ctrl==z.ctrlKey&&te.meta==z.metaKey&&te.alt==z.altKey&&te.shift==z.shiftKey&&!!(z.keyCode==te.keyCode||z.charCode&&z.charCode==te.charCode)&&(z.preventDefault(),!0)}function F(z){return z.func?z.func.call(z.scope):null}var O={},q=[];x.on("keyup keypress keydown",function(z){!function(z){return z.altKey||z.ctrlKey||z.metaKey}(z)&&!function(z){return"keydown"===z.type&&z.keyCode>=112&&z.keyCode<=123}(z)||z.isDefaultPrevented()||(W(O,function(te){if(R(z,te))return q=te.subpatterns.slice(0),"keydown"==z.type&&F(te),!0}),R(z,q[0])&&(1===q.length&&"keydown"==z.type&&F(q[0]),q.shift()))}),this.add=function(z,te,N,E){var T;return T=N,"string"==typeof N?N=function(){x.execCommand(T,!1,null)}:le.isArray(T)&&(N=function(){x.execCommand(T[0],T[1],T[2])}),W(B(le.trim(z.toLowerCase())),function(v){var _=S(v,te,N,E);O[_.id]=_}),!0},this.remove=function(z){var te=S(z);return!!O[te.id]&&(delete O[te.id],!0)}}}),he(Hi,[k,Z,ct],function(le,ee,W){return function(B,C){function I(E){var T;return T={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[E.blob().type.toLowerCase()]||"dat",E.filename()+"."+T}function S(E,T,v,_){var j,ie;(j=new XMLHttpRequest).open("POST",C.url),j.withCredentials=C.credentials,j.upload.onprogress=function(Y){_(Y.loaded/Y.total*100)},j.onerror=function(){v("Image upload failed due to a XHR Transport error. Code: "+j.status)},j.onload=function(){var Y;return 200!=j.status?void v("HTTP Error: "+j.status):(Y=JSON.parse(j.responseText))&&"string"==typeof Y.location?void T(function(E,T){return E?E.replace(/\/$/,"")+"/"+T.replace(/^\//,""):T}(C.basePath,Y.location)):void v("Invalid JSON: "+j.responseText)},(ie=new FormData).append("file",E.blob(),E.filename()),j.send(ie)}function L(E,T){return{url:T,blobInfo:E,status:!0}}function R(E,T){return{url:"",blobInfo:E,status:!1,error:T}}function F(E,T){ee.each(N[E],function(v){v(T)}),delete N[E]}function z(E,T){return E=ee.grep(E,function(v){return!B.isUploaded(v.blobUri())}),le.all(ee.map(E,function(v){return B.isPending(v.blobUri())?function(E){var T=E.blobUri();return new le(function(v){N[T]=N[T]||[],N[T].push(v)})}(v):function(E,T,v){return B.markPending(E.blobUri()),new le(function(_){var j,ie,Y=function(){};try{var ae=function(){j&&(j.close(),ie=Y)};ie=function(Ie){Ie<0||Ie>100||(j||(j=v()),j.progressBar.value(Ie))},T(function(E){return{id:E.id,blob:E.blob,base64:E.base64,filename:W.constant(I(E))}}(E),function(Ie){ae(),B.markUploaded(E.blobUri(),Ie),F(E.blobUri(),L(E,Ie)),_(L(E,Ie))},function(Ie){ae(),B.removeFailed(E.blobUri()),F(E.blobUri(),R(E,Ie)),_(R(E,Ie))},ie)}catch(Ie){_(R(E,Ie.message))}})}(v,C.handler,T)}))}var N={};return C=ee.extend({credentials:!1,handler:S},C),{upload:function(E,T){return!C.url&&function(E){return E===S}(C.handler)?new le(function(E){E([])}):z(E,T)}}}}),he(Yi,[k],function(le){function W(x){var w,S;return x=decodeURIComponent(x).split(","),(S=/data:([^;]+)/.exec(x[0]))&&(w=S[1]),{type:w,data:x[1]}}return{uriToBlob:function(x){return 0===x.indexOf("blob:")?function(x){return new le(function(w){var S=new XMLHttpRequest;S.open("GET",x,!0),S.responseType="blob",S.onload=function(){200==this.status&&w(this.response)},S.send()})}(x):0===x.indexOf("data:")?function(x){return new le(function(w){var S,G,L;x=W(x);try{S=atob(x.data)}catch(R){return void w(new Blob([]))}for(G=new Uint8Array(S.length),L=0;L<G.length;L++)G[L]=S.charCodeAt(L);w(new Blob([G],{type:x.type}))})}(x):null},blobToDataUri:function(x){return new le(function(w){var S=new FileReader;S.onloadend=function(){w(S.result)},S.readAsDataURL(x)})},parseDataUri:W}}),he(Ji,[k,P,ct,Yi,H],function(le,ee,W,B,C){var I=0,x=function(w){return(w||"blobid")+I++};return function(w,S){var L={};return{findAll:function(R,F){var O,q;return F||(F=W.constant(!0)),O=ee.filter(R.getElementsByTagName("img"),function(z){var te=z.src;return!!C.fileApi&&!z.hasAttribute("data-mce-bogus")&&!z.hasAttribute("data-mce-placeholder")&&!(!te||te==C.transparentSrc)&&(0===te.indexOf("blob:")?!w.isUploaded(te):0===te.indexOf("data:")&&F(z))}),q=ee.map(O,function(z){var te;return L[z.src]?new le(function(N){L[z.src].then(function(E){N({image:z,blobInfo:E.blobInfo})})}):(te=new le(function(N){!function(z,te){var N,E;0===z.src.indexOf("blob:")?(E=S.getByUri(z.src))?te({image:z,blobInfo:E}):B.uriToBlob(z.src).then(function(T){B.blobToDataUri(T).then(function(v){N=B.parseDataUri(v).data,E=S.create(x(),T,N),S.add(E),te({image:z,blobInfo:E})})}):(N=B.parseDataUri(z.src).data,(E=S.findFirst(function(T){return T.base64()===N}))?te({image:z,blobInfo:E}):B.uriToBlob(z.src).then(function(T){E=S.create(x(),T,N),S.add(E),te({image:z,blobInfo:E})}))}(z,N)}).then(function(N){return delete L[N.image.src],N}).catch(function(N){return delete L[z.src],N}),L[z.src]=te,te)}),le.all(q)}}}}),he(gr,[P,ct],function(le,ee){return function(){function C(R){return I(function(F){return F.id()===R})}function I(R){return le.filter(G,R)[0]}var G=[],L=ee.constant;return{create:function(R,F,U,O){return{id:L(R),filename:L(O||R),blob:L(F),base64:L(U),blobUri:L(URL.createObjectURL(F))}},add:function(R){C(R.id())||G.push(R)},get:C,getByUri:function(R){return I(function(F){return F.blobUri()==R})},findFirst:I,removeByUri:function(R){G=le.filter(G,function(F){return F.blobUri()!==R||(URL.revokeObjectURL(F.blobUri()),!1)})},destroy:function(){le.each(G,function(R){URL.revokeObjectURL(R.blobUri())}),G=[]}}}}),he(xr,[],function(){return function(){function le(F,U){return{status:F,resultUri:U}}function ee(F){return F in R}var R={};return{hasBlobUri:ee,getResultUri:function(F){var U=R[F];return U?U.resultUri:null},isPending:function(F){return!!ee(F)&&1===R[F].status},isUploaded:function(F){return!!ee(F)&&2===R[F].status},markPending:function(F){R[F]=le(1,null)},markUploaded:function(F,U){R[F]=le(2,U)},removeFailed:function(F){delete R[F]},destroy:function(){R={}}}}}),he(kr,[se],function(le){var ee=le.PluginManager,C=function(S,G){S.notificationManager.open({type:"error",text:G})},I=function(S,G){S._skinLoaded?C(S,G):S.on("SkinLoaded",function(){C(S,G)})};return{pluginLoadError:function(S,G){I(S,function(S,G){var L=function(S,G){for(var L in ee.urls)if(ee.urls[L]+"/plugin"+G+".js"===S)return L;return null}(G,S.suffix);return L?"Failed to load plugin: "+L+" from url "+G:"Failed to load plugin url: "+G}(S,G))},uploadError:function(S,G){I(S,"Failed to upload image: "+G)}}}),he(Ar,[P,Hi,Ji,gr,xr,kr],function(le,ee,W,B,C,I){return function(x){function w(Y){return function(ae){return x.selection?Y(ae):[]}}function G(Y,ae,ge){var Ee=0;do{-1!==(Ee=Y.indexOf(ae,Ee))&&(Y=Y.substring(0,Ee)+ge+Y.substr(Ee+ae.length),Ee+=ge.length-ae.length+1)}while(-1!==Ee);return Y}function L(Y,ae,ge){return Y=G(Y,'src="'+ae+'"','src="'+ge+'"'),G(Y,'data-mce-src="'+ae+'"','data-mce-src="'+ge+'"')}function R(Y,ae){le.each(x.undoManager.data,function(ge){"fragmented"===ge.type?ge.fragments=le.map(ge.fragments,function(Ee){return L(Ee,Y,ae)}):ge.content=L(ge.content,Y,ae)})}function F(){return x.notificationManager.open({text:x.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function O(Y){return v||(v=new ee(ie,{url:j.images_upload_url,basePath:j.images_upload_base_path,credentials:j.images_upload_credentials,handler:j.images_upload_handler})),te().then(w(function(ae){var ge;return ge=le.map(ae,function(Ee){return Ee.blobInfo}),v.upload(ge,F).then(w(function(Ee){return Ee=le.map(Ee,function(Ie,Ae){var Pe=ae[Ae].image;return Ie.status&&!1!==x.settings.images_replace_blob_uris?function(Y,ae){T.removeByUri(Y.src),R(Y.src,ae),x.$(Y).attr({src:j.images_reuse_filename?ae+"?"+(new Date).getTime():ae,"data-mce-src":x.convertURL(ae,"src")})}(Pe,Ie.url):Ie.error&&I.uploadError(x,Ie.error),{element:Pe,status:Ie.status}}),Y&&Y(Ee),Ee}))}))}function q(Y){if(!1!==j.automatic_uploads)return O(Y)}function z(Y){return!j.images_dataimg_filter||j.images_dataimg_filter(Y)}function te(){return _||(_=new W(ie,T)),_.findAll(x.getBody(),z).then(w(function(Y){return le.each(Y,function(ae){R(ae.image.src,ae.blobInfo.blobUri()),ae.image.src=ae.blobInfo.blobUri(),ae.image.removeAttribute("data-mce-src")}),Y}))}function E(Y){return Y.replace(/src="(blob:[^"]+)"/g,function(ae,ge){var Ee=ie.getResultUri(ge);if(Ee)return'src="'+Ee+'"';var Ie=T.getByUri(ge);return Ie||(Ie=le.reduce(x.editorManager.editors,function(Ae,Pe){return Ae||Pe.editorUpload.blobCache.getByUri(ge)},null)),Ie?'src="data:'+Ie.blob().type+";base64,"+Ie.base64()+'"':ae})}var v,_,T=new B,j=x.settings,ie=new C;return x.on("setContent",function(){!1!==x.settings.automatic_uploads?q():te()}),x.on("RawSaveContent",function(Y){Y.content=E(Y.content)}),x.on("getContent",function(Y){Y.source_view||"raw"==Y.format||(Y.content=E(Y.content))}),x.on("PostRender",function(){x.parser.addNodeFilter("img",function(Y){le.each(Y,function(ae){var ge=ae.attr("src");if(!T.getByUri(ge)){var Ee=ie.getResultUri(ge);Ee&&ae.attr("src",Ee)}})})}),{blobCache:T,uploadImages:O,uploadImagesAuto:q,scanForImages:te,destroy:function(){T.destroy(),ie.destroy(),_=v=null}}}}),he(Qn,[Me,dn,ve,Ne,re,ln,M],function(le,ee,W,B,C,I,x){var w=W.isContentEditableFalse;return function(S,G){function U(){(function(){var T,v,_,j,ie;for(T=C("*[contentEditable=false]",S),j=0;j<T.length;j++)le.endsWithCaretContainer(_=(v=T[j]).previousSibling)&&(1==(ie=_.data).length?_.parentNode.removeChild(_):_.deleteData(ie.length-1,1)),le.startsWithCaretContainer(_=v.nextSibling)&&(1==(ie=_.data).length?_.parentNode.removeChild(_):_.deleteData(0,1))})(),E&&(le.remove(E),E=null),N&&(N.remove(),N=null),clearInterval(te)}var te,N,E;return{show:function(T,v){var _,j;return U(),G(v)?(E=le.insertBlock("p",v,T),_=function(T,v){var j,ie,Y,ae,ge,_=I.collapse(T.getBoundingClientRect(),v);return"BODY"==S.tagName?(j=S.ownerDocument.documentElement,ie=S.scrollLeft||j.scrollLeft,Y=S.scrollTop||j.scrollTop):(ge=S.getBoundingClientRect(),ie=S.scrollLeft-ge.left,Y=S.scrollTop-ge.top),_.left+=ie,_.right+=ie,_.top+=Y,_.bottom+=Y,_.width=1,(ae=T.offsetWidth-T.clientWidth)>0&&(v&&(ae*=-1),_.left+=ae,_.right+=ae),_}(v,T),C(E).css("top",_.top),N=C('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(_).appendTo(S),T&&N.addClass("mce-visual-caret-before"),te=x.setInterval(function(){C("div.mce-visual-caret",S).toggleClass("mce-visual-caret-hidden")},500),(j=v.ownerDocument.createRange()).setStart(E,0),j.setEnd(E,0),j):(E=le.insertInline(v,T),j=v.ownerDocument.createRange(),w(E.nextSibling)?(j.setStart(E,0),j.setEnd(E,0)):(j.setStart(E,1),j.setEnd(E,1)),j)},hide:U,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function(){x.clearInterval(te)}}}}),he(Yr,[P,ve,ln],function(le,ee,W){return{getClientRects:function B(C){function I(w){return le.map(w,function(S){return(S=W.clone(S)).node=C,S})}if(le.isArray(C))return le.reduce(C,function(w,S){return w.concat(B(S))},[]);if(ee.isElement(C))return I(C.getClientRects());if(ee.isText(C)){var x=C.ownerDocument.createRange();return x.setStart(C,0),x.setEnd(C,C.data.length),I(x.getClientRects())}}}}),he(ml,[ct,P,Yr,Lt,gn,An,dn,ln],function(le,ee,W,B,C,I,x,w){function G(z,te,N,E,T,v){function _(ge){var Ee,Ie,Ae;for(Ae=W.getClientRects(ge),-1==z&&(Ae=Ae.reverse()),Ee=0;Ee<Ae.length;Ee++)if(!N(Ie=Ae[Ee],ae)){if(Y.length>0&&te(Ie,ee.last(Y))&&j++,Ie.line=j,T(Ie))return!0;Y.push(Ie)}}var ie,ae,j=0,Y=[];return(ae=ee.last(v.getClientRects()))&&(_(ie=v.getNode()),function(z,te,N,E){for(;E=C.findNode(E,z,B.isEditableCaretCandidate,te);)if(N(E))return}(z,E,_,ie)),Y}var U=le.curry;return{upUntil:U(G,-1,w.isAbove,w.isBelow),downUntil:U(G,1,w.isBelow,w.isAbove),positionsUntil:function(z,te,N,E){function T(Ae){return ee.last(Ae.getClientRects())}var _,j,ie,Y,Ee,Ie,v=new I(te),ae=[],ge=0;1==z?(_=v.next,j=w.isBelow,ie=w.isAbove,Y=x.after(E)):(_=v.prev,j=w.isAbove,ie=w.isBelow,Y=x.before(E)),Ie=T(Y);do{if(Y.isVisible()&&!ie(Ee=T(Y),Ie)){if(ae.length>0&&j(Ee,ee.last(ae))&&ge++,(Ee=w.clone(Ee)).position=Y,Ee.line=ge,N(Ee))return ae;ae.push(Ee)}}while(Y=_(Y));return ae},isAboveLine:U(function(z,te){return te.line>z}),isLine:U(function(z,te){return te.line===z})}}),he(zu,[ct,P,ve,Yr,ln,gn,Lt],function(le,ee,W,B,C,I,x){function w(N,E){return Math.abs(N.left-E)}function S(N,E){return Math.abs(N.right-E)}function G(N,E){function T(v,_){return v>=_.left&&v<=_.right}return ee.reduce(N,function(v,_){var j,ie;return j=Math.min(w(v,E),S(v,E)),ie=Math.min(w(_,E),S(_,E)),T(E,_)?_:T(E,v)?v:ie==j&&q(_.node)||ie<j?_:v})}function L(N,E,T,v){for(;v=z(v,N,x.isEditableCaretCandidate,E);)if(T(v))return}function R(N,E){function T(_,j){var ie;return ie=ee.filter(B.getClientRects(j),function(Y){return!_(Y,E)}),v=v.concat(ie),0===ie.length}var v=[];return v.push(E),L(-1,N,te(T,C.isAbove),E.node),L(1,N,te(T,C.isBelow),E.node),v}var q=W.isContentEditableFalse,z=I.findNode,te=le.curry;return{findClosestClientRect:G,findLineNodeRects:R,closestCaret:function(N,E,T){var v,_;return v=B.getClientRects(function(N){return ee.filter(ee.toArray(N.getElementsByTagName("*")),q)}(N)),(_=G(v=ee.filter(v,function(j){return T>=j.top&&T<=j.bottom}),E))&&(_=G(R(N,_),E))&&q(_.node)?function(N,E){return{node:N.node,before:w(N,E)<S(N,E)}}(_,E):null}}}),he(vl,[],function(){var le=function(w){var S,G,L,R;return{top:(R=w.getBoundingClientRect()).top+(L=(S=w.ownerDocument).defaultView).pageYOffset-(G=S.documentElement).clientTop,left:R.left+L.pageXOffset-G.clientLeft}};return{calc:function(w,S){return function(w,S,G){return{pageX:G.left-w.left+S.left,pageY:G.top-w.top+S.top}}(function(w){return w.inline?le(w.getBody()):{left:0,top:0}}(w),function(w){var S=w.getBody();return w.inline?{left:S.scrollLeft,top:S.scrollTop}:{left:0,top:0}}(w),function(w,S){if(S.target.ownerDocument!==w.getDoc()){var G=le(w.getContentAreaContainer()),L=function(w){var S=w.getBody(),G=w.getDoc().documentElement;return w.inline?{left:S.scrollLeft,top:S.scrollTop}:{left:S.scrollLeft||G.scrollLeft,top:S.scrollTop||G.scrollTop}}(w);return{left:S.pageX-G.left+L.left,top:S.pageY-G.top+L.top}}return{left:S.pageX,top:S.pageY}}(w,S))}}}),he(ls,[ve,P,ct,M,ue,vl],function(le,ee,W,B,C,I){var x=le.isContentEditableFalse,w=le.isContentEditableTrue,O=function(ge){ge&&ge.parentNode&&ge.parentNode.removeChild(ge)},j=function(ge){ge.dragging=!1,ge.element=null,O(ge.ghost)},ie=function(ge){var Ie,Ae,Pe,De,ze,Ve,Ee={};Ie=C.DOM,Ve=document,Ae=function(ge,Ee){return function(Ie){if(function(ge){return 0===ge.button}(Ie)){var Ae=ee.find(Ee.dom.getParents(Ie.target),W.or(x,w));if(function(ge,Ee){return x(Ee)&&Ee!==ge}(Ee.getBody(),Ae)){var Pe=Ee.dom.getPos(Ae),De=Ee.getBody(),ze=Ee.getDoc().documentElement;ge.element=Ae,ge.screenX=Ie.screenX,ge.screenY=Ie.screenY,ge.maxX=(Ee.inline?De.scrollWidth:ze.offsetWidth)-2,ge.maxY=(Ee.inline?De.scrollHeight:ze.offsetHeight)-2,ge.relX=Ie.pageX-Pe.x,ge.relY=Ie.pageY-Pe.y,ge.width=Ae.offsetWidth,ge.height=Ae.offsetHeight,ge.ghost=function(ge,Ee,Ie,Ae){var Pe=Ee.cloneNode(!0);ge.dom.setStyles(Pe,{width:Ie,height:Ae}),ge.dom.setAttrib(Pe,"data-mce-selected",null);var De=ge.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return ge.dom.setStyles(De,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:Ie,height:Ae}),ge.dom.setStyles(Pe,{margin:0,boxSizing:"border-box"}),De.appendChild(Pe),De}(Ee,Ae,ge.width,ge.height)}}}}(Ee,ge),Pe=function(ge,Ee){var Ie=B.throttle(function(Ae,Pe){Ee._selectionOverrides.hideFakeCaret(),Ee.selection.placeCaretAt(Ae,Pe)},0);return function(Ae){var Pe=Math.max(Math.abs(Ae.screenX-ge.screenX),Math.abs(Ae.screenY-ge.screenY));if(function(ge){return ge.element}(ge)&&!ge.dragging&&Pe>10){if(Ee.fire("dragstart",{target:ge.element}).isDefaultPrevented())return;ge.dragging=!0,Ee.focus()}if(ge.dragging){var ze=function(ge,Ee){return{pageX:Ee.pageX-ge.relX,pageY:Ee.pageY+5}}(ge,I.calc(Ee,Ae));(function(ge,Ee){ge.parentNode!==Ee&&Ee.appendChild(ge)})(ge.ghost,Ee.getBody()),function(ge,Ee,Ie,Ae,Pe,De){var ze=0,Ve=0;ge.style.left=Ee.pageX+"px",ge.style.top=Ee.pageY+"px",Ee.pageX+Ie>Pe&&(ze=Ee.pageX+Ie-Pe),Ee.pageY+Ae>De&&(Ve=Ee.pageY+Ae-De),ge.style.width=Ie-ze+"px",ge.style.height=Ae-Ve+"px"}(ge.ghost,ze,ge.width,ge.height,ge.maxX,ge.maxY),Ie(Ae.clientX,Ae.clientY)}}}(Ee,ge),De=function(ge,Ee){return function(Ie){if(ge.dragging&&function(ge,Ee,Ie){return Ee!==Ie&&!ge.dom.isChildOf(Ee,Ie)&&!x(Ee)}(Ee,function(ge){var Ie=ge.getSel().getRangeAt(0).startContainer;return 3===Ie.nodeType?Ie.parentNode:Ie}(Ee.selection),ge.element)){var Ae=function(ge){var Ee=ge.cloneNode(!0);return Ee.removeAttribute("data-mce-selected"),Ee}(ge.element),Pe=Ee.fire("drop",{targetClone:Ae,clientX:Ie.clientX,clientY:Ie.clientY});Pe.isDefaultPrevented()||(Ae=Pe.targetClone,Ee.undoManager.transact(function(){O(ge.element),Ee.insertContent(Ee.dom.getOuterHTML(Ae)),Ee._selectionOverrides.hideFakeCaret()}))}j(ge)}}(Ee,ge),ze=function(ge,Ee){return function(){j(ge),ge.dragging&&Ee.fire("dragend")}}(Ee,ge),ge.on("mousedown",Ae),ge.on("mousemove",Pe),ge.on("mouseup",De),Ie.bind(Ve,"mousemove",Pe),Ie.bind(Ve,"mouseup",ze),ge.on("remove",function(){Ie.unbind(Ve,"mousemove",Pe),Ie.unbind(Ve,"mouseup",ze)})};return{init:function(ge){ie(ge),function(ge){ge.on("drop",function(Ee){var Ie=void 0!==Ee.clientX?ge.getDoc().elementFromPoint(Ee.clientX,Ee.clientY):null;(x(Ie)||x(ge.dom.getContentEditableParent(Ie)))&&Ee.preventDefault()})}(ge)}}}),he(us,[H,An,dn,Me,gn,Qn,ml,zu,ve,Ne,ln,It,ct,P,M,ls],function(le,ee,W,B,C,I,x,w,S,G,L,R,F,U,O,q){function z(Y,ae){for(;ae=Y(ae);)if(ae.isVisible())return ae;return ae}var N=F.curry,E=S.isContentEditableTrue,T=S.isContentEditableFalse,v=S.isElement,_=C.isAfterContentEditableFalse,j=C.isBeforeContentEditableFalse,ie=G.getSelectedNode;return function(Y){function Ee(ot){return Y.dom.isBlock(ot)}function Ie(ot){ot&&Y.selection.setRng(ot)}function Ae(){return Y.selection.getRng()}function Pe(ot,wt){Y.selection.scrollIntoView(ot,wt)}function De(ot,wt,an){return Y.fire("ShowCaret",{target:wt,direction:ot,before:an}).isDefaultPrevented()?null:(Pe(wt,-1===ot),gi.show(an,wt))}function ze(ot){return Y.fire("BeforeObjectSelected",{target:ot}).isDefaultPrevented()?null:function(ot){var wt=ot.ownerDocument.createRange();return wt.selectNode(ot),wt}(ot)}function we(ot,wt){return wt=C.normalizeRange(ot,Mi,wt),-1==ot?W.fromRangeStart(wt):W.fromRangeEnd(wt)}function ft(ot,wt){var fn,Xe,rt;if(wt.collapsed&&Y.settings.forced_root_block){if(!(fn=Y.dom.getParent(wt.startContainer,"PRE")))return;(1==ot?ni(W.fromRangeStart(wt)):Ai(W.fromRangeStart(wt)))||(rt=Y.dom.create(Y.settings.forced_root_block),(!le.ie||le.ie>=11)&&(rt.innerHTML='<br data-mce-bogus="1">'),Xe=rt,1==ot?Y.$(fn).after(Xe):Y.$(fn).before(Xe),Y.selection.select(Xe,!0),Y.selection.collapse())}}function Et(ot,wt,an,fn){var Nn;return(Nn=function(ot,wt,an,fn){var Nn,Xe,rt,xe;return!fn.collapsed&&(Nn=ie(fn),T(Nn))?De(ot,Nn,-1==ot):(xe=function(ot){return B.isCaretContainerBlock(ot.startContainer)}(fn),an(Xe=we(ot,fn))?ze(Xe.getNode(-1==ot)):(Xe=wt(Xe))?an(Xe)?De(ot,Xe.getNode(-1==ot),1==ot):an(rt=wt(Xe))&&function(ot,wt){var an=C.isInSameBlock(ot,wt);return!(an||!S.isBr(ot.getNode()))||an}(Xe,rt)?De(ot,rt.getNode(-1==ot),1==ot):xe?ye(Xe.toRange()):null:xe?fn:null)}(ot,wt,an,fn))?Nn:(Nn=ft(ot,fn))||null}function Vt(ot,wt,an){var fn;return(fn=function(ot,wt,an){var fn,Nn,Xe,rt,xe,Oe,Je,lt,yt;if(yt=ie(an),fn=we(ot,an),Nn=wt(Mi,x.isAboveLine(1),fn),Xe=U.filter(Nn,x.isLine(1)),xe=U.last(fn.getClientRects()),j(fn)&&(yt=fn.getNode()),_(fn)&&(yt=fn.getNode(!0)),!xe)return null;if((rt=w.findClosestClientRect(Xe,Oe=xe.left))&&T(rt.node))return Je=Math.abs(Oe-rt.left),lt=Math.abs(Oe-rt.right),De(ot,rt.node,Je<lt);if(yt){var ut=x.positionsUntil(ot,Mi,x.isAboveLine(1),yt);if((rt=w.findClosestClientRect(U.filter(ut,x.isLine(1)),Oe))||(rt=U.last(U.filter(ut,x.isLine(0)))))return ye(rt.position.toRange())}}(ot,wt,an))?fn:(fn=ft(ot,an))||null}function Gt(ot){ot.hasAttribute("data-mce-caret")&&(B.showCaretContainerBlock(ot),Ie(Ae()),Pe(ot[0]))}function je(ot){var wt,an;return ot=C.normalizeRange(1,Mi,ot),wt=W.fromRangeStart(ot),T(wt.getNode())?De(1,wt.getNode(),!wt.isAtEnd()):T(wt.getNode(!0))?De(1,wt.getNode(!0),!1):(an=Y.dom.getParent(wt.getNode(),F.or(T,E)),T(an)?De(1,an,!1):null)}function ye(ot){return ot&&ot.collapsed&&je(ot)||ot}function me(ot){var wt,an,fn,Nn;return T(ot)?(T(ot.previousSibling)&&(fn=ot.previousSibling),(an=Ai(W.before(ot)))||(wt=ni(W.after(ot))),wt&&v(wt.getNode())&&(Nn=wt.getNode()),B.remove(ot.previousSibling),B.remove(ot.nextSibling),Y.dom.remove(ot),Y.dom.isEmpty(Y.getBody())?(Y.setContent(""),void Y.focus()):fn?W.after(fn).toRange():Nn?W.before(Nn).toRange():an?an.toRange():wt?wt.toRange():null):null}function Fe(ot){var wt=Y.schema.getTextBlockElements();return ot.nodeName in wt}function Ke(ot){return Y.dom.isEmpty(ot)}function at(ot,wt,an){var Nn,Xe,rt,xe,fn=Y.dom;if(Nn=fn.getParent(wt.getNode(),fn.isBlock),Xe=fn.getParent(an.getNode(),fn.isBlock),-1===ot){if(xe=an.getNode(!0),_(an)&&Ee(xe))return Fe(Nn)?(Ke(Nn)&&fn.remove(Nn),W.after(xe).toRange()):me(an.getNode(!0))}else if(xe=wt.getNode(),j(wt)&&Ee(xe))return Fe(Xe)?(Ke(Xe)&&fn.remove(Xe),W.before(xe).toRange()):me(wt.getNode());if(Nn===Xe||!Fe(Nn)||!Fe(Xe))return null;for(;rt=Nn.firstChild;)Xe.appendChild(rt);return Y.dom.remove(Nn),an.toRange()}function dt(ot,wt,an,fn){var Nn,Xe,rt,xe;return!fn.collapsed&&(Nn=ie(fn),T(Nn))?ye(me(Nn)):an(Xe=we(ot,fn))&&B.isCaretContainerBlock(fn.startContainer)?(xe=-1==ot?ei.prev(Xe):ei.next(Xe))?ye(xe.toRange()):fn:wt(Xe)?ye(me(Xe.getNode(-1==ot))):wt(rt=-1==ot?ei.prev(Xe):ei.next(Xe))?-1===ot?at(ot,Xe,rt):at(ot,rt,Xe):void 0}function gt(ot){return B.isCaretContainer(ot)||B.startsWithCaretContainer(ot)||B.endsWithCaretContainer(ot)}function Ct(ot){return gt(ot.startContainer)||gt(ot.endContainer)}function xt(ot){var wt,Nn,Xe,rt,xe,Oe,Je,lt,yt,ut,an=Y.$,fn=Y.dom;if(!ot)return null;if(ot.collapsed){if(!Ct(ot)){if(lt=we(1,ot),T(lt.getNode()))return De(1,lt.getNode(),!lt.isAtEnd());if(T(lt.getNode(!0)))return De(1,lt.getNode(!0),!1)}return null}return xe=ot.startOffset,Oe=ot.endOffset,3==(rt=ot.startContainer).nodeType&&0==xe&&T(rt.parentNode)&&(xe=fn.nodeIndex(rt=rt.parentNode),rt=rt.parentNode),1!=rt.nodeType?null:(Oe==xe+1&&(wt=rt.childNodes[xe]),T(wt)?(yt=ut=wt.cloneNode(!0),(Je=Y.fire("ObjectSelected",{target:wt,targetClone:yt})).isDefaultPrevented()?null:(yt=Je.targetClone,0===(Nn=an("#"+mi)).length&&(Nn=an('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",mi)).appendTo(Y.getBody()),ot=Y.dom.createRng(),yt===ut&&le.ie?(Nn.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(yt),ot.setStartAfter(Nn[0].firstChild.firstChild),ot.setEndAfter(yt)):(Nn.empty().append("\xa0").append(yt).append("\xa0"),ot.setStart(Nn[0].firstChild,1),ot.setEnd(Nn[0].lastChild,0)),Nn.css({top:fn.getPos(wt,Y.getBody()).y}),Nn[0].focus(),(Xe=Y.selection.getSel()).removeAllRanges(),Xe.addRange(ot),Y.$("*[data-mce-selected]").removeAttr("data-mce-selected"),wt.setAttribute("data-mce-selected",1),Ot=wt,jn(),ot)):null)}function vn(){Ot&&(Ot.removeAttribute("data-mce-selected"),Y.$("#"+mi).remove(),Ot=null)}function jn(){gi.hide()}var Ot,ot,wt,Mi=Y.getBody(),ei=new ee(Mi),ni=N(z,ei.next),Ai=N(z,ei.prev),gi=new I(Y.getBody(),Ee),mi="sel-"+Y.dom.uniqueId(),Xt=Y.$;return le.ceFalse&&(function(){function ot(et,St){if(!1===et.isDefaultPrevented()){var st=St(Ae());st&&(et.preventDefault(),Ie(st))}}function wt(et){for(var St=Y.getBody();et&&et!=St;){if(E(et)||T(et))return et;et=et.parentNode}return null}var xe=N(Et,1,ni,j),Oe=N(Et,-1,Ai,_),Je=N(dt,1,j,_),lt=N(dt,-1,_,j),yt=N(Vt,-1,x.upUntil),ut=N(Vt,1,x.downUntil);Y.on("mouseup",function(){var et=Ae();et.collapsed&&Ie(je(et))}),Y.on("click",function(et){var St;(St=wt(et.target))&&(T(St)&&(et.preventDefault(),Y.focus()),E(St)&&Y.dom.isChildOf(St,Y.selection.getNode())&&vn())}),Y.on("blur NewBlock",function(){vn(),jn()});var et,St;St=!1,(et=Y).on("touchstart",function(){St=!1}),et.on("touchmove",function(){St=!0}),et.on("touchend",function(st){var zt=wt(st.target);T(zt)&&(St||(st.preventDefault(),xt(ze(zt))))}),Y.on("mousedown",function(et){var St;if(St=wt(et.target))T(St)?(et.preventDefault(),xt(ze(St))):function(et,St,st){return!st.collapsed&&U.reduce(st.getClientRects(),function(zt,jt){return zt||L.containsXY(jt,et,St)},!1)}(et.clientX,et.clientY,Y.selection.getRng())||Y.selection.placeCaretAt(et.clientX,et.clientY);else{vn(),jn();var st=w.closestCaret(Mi,et.clientX,et.clientY);st&&(function(et,St){var st=Y.dom.getParent(et,Y.dom.isBlock),zt=Y.dom.getParent(St,Y.dom.isBlock);return st&&!function(et,St){return Y.dom.getParent(et,Y.dom.isBlock)===Y.dom.getParent(St,Y.dom.isBlock)}(st,zt)&&function(et){var St=new ee(et);if(!et.firstChild)return!1;var st=W.before(et.firstChild),zt=St.next(st);return zt&&!j(zt)&&!_(zt)}(st)}(et.target,st.node)||(et.preventDefault(),Y.getBody().focus(),Ie(De(1,st.node,st.before))))}}),Y.on("keydown",function(et){if(!R.modifierPressed(et))switch(et.keyCode){case R.RIGHT:ot(et,xe);break;case R.DOWN:ot(et,ut);break;case R.LEFT:ot(et,Oe);break;case R.UP:ot(et,yt);break;case R.DELETE:ot(et,Je);break;case R.BACKSPACE:ot(et,lt);break;default:T(Y.selection.getNode())&&function(et){return!(et.keyCode>=112&&et.keyCode<=123)}(et)&&et.preventDefault()}}),Y.on("keyup compositionstart",function(et){(function(et){var St=Xt("*[data-mce-caret]")[0];if(St)"compositionstart"==et.type?(et.preventDefault(),et.stopPropagation(),Gt(St)):B.hasContent(St)&&Gt(St)})(et),function(et){var St;switch(et.keyCode){case R.DELETE:case R.BACKSPACE:St=function(){var et,St=wt(Y.selection.getNode());E(St)&&Ee(St)&&Y.dom.isEmpty(St)&&(et=Y.dom.create("br",{"data-mce-bogus":"1"}),Y.$(St).empty().append(et),Y.selection.setRng(W.before(et).toRange()))}()}St&&et.preventDefault()}(et)},!0),Y.on("cut",function(){var et=Y.selection.getNode();T(et)&&O.setEditorTimeout(Y,function(){Ie(ye(me(et)))})}),Y.on("getSelectionRange",function(et){var St=et.range;if(Ot){if(!Ot.parentNode)return void(Ot=null);(St=St.cloneRange()).selectNode(Ot),et.range=St}}),Y.on("setSelectionRange",function(et){var St;(St=xt(et.range))&&(et.range=St)}),Y.on("AfterSetSelectionRange",function(et){var St=et.range;Ct(St)||jn(),function(ot){return Y.dom.hasClass(ot,"mce-offscreen-selection")}(St.startContainer.parentNode)||vn()}),Y.on("focus",function(){O.setEditorTimeout(Y,function(){Y.selection.setRng(ye(Y.selection.getRng()))},0)}),Y.on("copy",function(et){var St=et.clipboardData;if(!et.isDefaultPrevented()&&et.clipboardData&&!le.ie){var st=function(){var ot=Y.dom.get(mi);return ot&&ot.getElementsByTagName("*")[0]}();st&&(et.preventDefault(),St.clearData(),St.setData("text/html",st.outerHTML),St.setData("text/plain",st.outerText))}}),q.init(Y)}(),wt=".mce-content-body",(ot=Y.contentStyles).push(gi.getCss()),ot.push(wt+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+wt+" *[contentEditable=false] {cursor: default;}"+wt+" *[contentEditable=true] {cursor: text;}")),{showBlockCaretContainer:Gt,hideFakeCaret:jn,destroy:function(){gi.destroy(),Ot=null}}}}),he(yl,[],function(){var le=0;return{uuid:function(B){return B+le+++function(){var B=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+B()+B()+B()}()}}}),he(ha,[],function(){return{add:function(ee,W,B){var C=ee.sidebars?ee.sidebars:[];C.push({name:W,settings:B}),ee.sidebars=C}}}),he(cs,[ue,re,se,Se,Le,tt,Ht,qn,Jn,rn,un,Ft,En,Pt,Te,m,Wt,Yn,Ue,Tt,Xn,H,Z,M,ti,di,pi,Ar,us,yl,ha,kr],function(le,ee,W,B,C,I,x,w,S,G,L,R,F,U,O,q,z,te,N,E,T,v,_,j,ie,Y,ae,ge,Ee,Ie,Ae,Pe){function De(je,ye,me){var Ke,at,dt,Fe=this;Ke=Fe.documentBaseUrl=me.documentBaseURL,at=me.baseURI,ye=we({id:je,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:Ke,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:Fe.convertURL,url_converter_scope:Fe,ie7_compat:!0},dt=me.defaultSettings,ye),dt&&dt.external_plugins&&ye.external_plugins&&(ye.external_plugins=we({},dt.external_plugins,ye.external_plugins)),Fe.settings=ye,W.language=ye.language||"en",W.languageLoad=ye.language_load,W.baseURL=me.baseURL,Fe.id=ye.id=je,Fe.setDirty(!1),Fe.plugins={},Fe.documentBaseURI=new U(ye.document_base_url||Ke,{base_uri:at}),Fe.baseURI=at,Fe.contentCSS=[],Fe.contentStyles=[],Fe.shortcuts=new ae(Fe),Fe.loadedCSS={},Fe.editorCommands=new F(Fe),Fe.suffix=me.suffix,Fe.editorManager=me,Fe.inline=ye.inline,Fe.settings.content_editable=Fe.inline,ye.cache_suffix&&(v.cacheSuffix=ye.cache_suffix.replace(/^[\?\&]+/,"")),!1===ye.override_viewport&&(v.overrideViewPort=!1),me.fire("SetupEditor",Fe),Fe.execCallback("setup",Fe),Fe.$=ee.overrideDefaults(function(){return{context:Fe.inline?Fe.getBody():Fe.getDoc(),element:Fe.getBody()}})}var ze=le.DOM,Ve=W.ThemeManager,de=W.PluginManager,we=_.extend,Re=_.each,We=_.explode,Ze=_.inArray,ft=_.trim,Et=_.resolve,Vt=q.Event,Kt=v.gecko,Gt=v.ie;return De.prototype={render:function(){var me=this,Fe=me.settings,Ke=me.id,at=me.suffix;if(Vt.domLoaded){if(me.getElement()&&v.contentEditable){Fe.inline?me.inline=!0:(me.orgVisibility=me.getElement().style.visibility,me.getElement().style.visibility="hidden");var dt=me.getElement().form||ze.getParent(Ke,"form");dt&&(me.formElement=dt,Fe.hidden_input&&!/TEXTAREA|INPUT/i.test(me.getElement().nodeName)&&(ze.insertAfter(ze.create("input",{type:"hidden",name:Ke}),Ke),me.hasHiddenInput=!0),me.formEventDelegate=function(it){me.fire(it.type,it)},ze.bind(dt,"submit reset",me.formEventDelegate),me.on("reset",function(){me.setContent(me.startContent,{format:"raw"})}),!Fe.submit_patch||dt.submit.nodeType||dt.submit.length||dt._mceOldSubmit||(dt._mceOldSubmit=dt.submit,dt.submit=function(){return me.editorManager.triggerSave(),me.setDirty(!1),dt._mceOldSubmit(dt)})),me.windowManager=new z(me),me.notificationManager=new te(me),"xml"==Fe.encoding&&me.on("GetContent",function(it){it.save&&(it.content=ze.encode(it.content))}),Fe.add_form_submit_trigger&&me.on("submit",function(){me.initialized&&me.save()}),Fe.add_unload_trigger&&(me._beforeUnload=function(){!me.initialized||me.destroyed||me.isHidden()||me.save({format:"raw",no_events:!0,set_dirty:!1})},me.editorManager.on("BeforeUnload",me._beforeUnload)),me.editorManager.add(me),function(){var it=O.ScriptLoader;if(Fe.language&&"en"!=Fe.language&&!Fe.language_url&&(Fe.language_url=me.editorManager.baseURL+"/langs/"+Fe.language+".js"),Fe.language_url&&it.add(Fe.language_url),Fe.theme&&"function"!=typeof Fe.theme&&"-"!=Fe.theme.charAt(0)&&!Ve.urls[Fe.theme]){var Mt=Fe.theme_url;Mt=Mt?me.documentBaseURI.toAbsolute(Mt):"themes/"+Fe.theme+"/theme"+at+".js",Ve.load(Fe.theme,Mt)}_.isArray(Fe.plugins)&&(Fe.plugins=Fe.plugins.join(" ")),Re(Fe.external_plugins,function(gt,Ct){de.load(Ct,gt),Fe.plugins+=" "+Ct}),Re(Fe.plugins.split(/[ ,]/),function(gt){if((gt=ft(gt))&&!de.urls[gt])if("-"==gt.charAt(0)){gt=gt.substr(1,gt.length);var Ct=de.dependencies(gt);Re(Ct,function(xt){xt=de.createUrl({prefix:"plugins/",resource:xt,suffix:"/plugin"+at+".js"},xt),de.load(xt.resource,xt)})}else de.load(gt,{prefix:"plugins/",resource:gt,suffix:"/plugin"+at+".js"})}),it.loadQueue(function(){me.removed||me.init()},me,function(gt){Pe.pluginLoadError(me,gt[0]),me.removed||me.init()})}()}}else ze.bind(window,"ready",function je(){ze.unbind(window,"ready",je),me.render()})},init:function(){var Ke,at,dt,it,Mt,gt,Ct,xt,vn,zn,jn,ye=this,me=ye.settings,Fe=ye.getElement(),Mi=[];if(ye.rtl=me.rtl_ui||ye.editorManager.i18n.rtl,ye.editorManager.i18n.setCode(me.language),me.aria_label=me.aria_label||ze.getAttrib(Fe,"aria-label",ye.getLang("aria.rich_text_area")),ye.fire("ScriptsLoaded"),me.theme&&("function"!=typeof me.theme?(me.theme=me.theme.replace(/-/,""),gt=Ve.get(me.theme),ye.theme=new gt(ye,Ve.urls[me.theme]),ye.theme.init&&ye.theme.init(ye,Ve.urls[me.theme]||ye.documentBaseUrl.replace(/\/$/,""),ye.$)):ye.theme=me.theme),Re(me.plugins.replace(/\-/g,"").split(/[ ,]/),function je(gi){var Ot,Xt,mi=de.get(gi);if(Ot=de.urls[gi]||ye.documentBaseUrl.replace(/\/$/,""),gi=ft(gi),mi&&-1===Ze(Mi,gi)){if(Re(de.dependencies(gi),function(ot){je(ot)}),ye.plugins[gi])return;Xt=new mi(ye,Ot,ye.$),ye.plugins[gi]=Xt,Xt.init&&(Xt.init(ye,Ot),Mi.push(gi))}}),me.render_ui&&ye.theme&&(ye.orgDisplay=Fe.style.display,"function"!=typeof me.theme?(at=me.height||Fe.style.height||Fe.offsetHeight,dt=me.min_height||100,(zn=/^[0-9\.]+(|px)$/i).test(""+(Ke=me.width||Fe.style.width||Fe.offsetWidth))&&(Ke=Math.max(parseInt(Ke,10),100)),zn.test(""+at)&&(at=Math.max(parseInt(at,10),dt)),Mt=ye.theme.renderUI({targetNode:Fe,width:Ke,height:at,deltaWidth:me.delta_width,deltaHeight:me.delta_height}),me.content_editable||(at=(Mt.iframeHeight||at)+("number"==typeof at?Mt.deltaHeight||0:""))<dt&&(at=dt)):((Mt=me.theme(ye,Fe)).editorContainer.nodeType&&(Mt.editorContainer.id=Mt.editorContainer.id||ye.id+"_parent"),Mt.iframeContainer.nodeType&&(Mt.iframeContainer.id=Mt.iframeContainer.id||ye.id+"_iframecontainer"),at=Mt.iframeHeight||Fe.offsetHeight),ye.editorContainer=Mt.editorContainer),me.content_css&&Re(We(me.content_css),function(gi){ye.contentCSS.push(ye.documentBaseURI.toAbsolute(gi))}),me.content_style&&ye.contentStyles.push(me.content_style),me.content_editable)return Fe=it=Mt=null,ye.initContentBody();if(ye.iframeHTML=me.doctype+"<html><head>",me.document_base_url!=ye.documentBaseUrl&&(ye.iframeHTML+='<base href="'+ye.documentBaseURI.getURI()+'" />'),!v.caretAfter&&me.ie7_compat&&(ye.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),ye.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(jn=0;jn<ye.contentCSS.length;jn++){var ei=ye.contentCSS[jn];ye.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+_._addCacheSuffix(ei)+'" />',ye.loadedCSS[ei]=!0}-1!=(xt=me.body_id||"tinymce").indexOf("=")&&(xt=(xt=ye.getParam("body_id","","hash"))[ye.id]||xt),-1!=(vn=me.body_class||"").indexOf("=")&&(vn=(vn=ye.getParam("body_class","","hash"))[ye.id]||""),me.content_security_policy&&(ye.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+me.content_security_policy+'" />'),ye.iframeHTML+='</head><body id="'+xt+'" class="mce-content-body '+vn+'" data-id="'+ye.id+'"><br></body></html>';var ni='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+ye.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&v.ie&&v.ie<12&&(Ct=ni);var Ai=ze.create("iframe",{id:ye.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:ye.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:at,display:"block"}});if(Ai.onload=function(){Ai.onload=null,ye.fire("load")},ze.setAttrib(Ai,"src",Ct||'javascript:""'),ye.contentAreaContainer=Mt.iframeContainer,ye.iframeElement=Ai,it=ze.add(Mt.iframeContainer,Ai),Gt)try{ye.getDoc()}catch(gi){it.src=Ct=ni}Mt.editorContainer&&(ze.get(Mt.editorContainer).style.display=ye.orgDisplay,ye.hidden=ze.isHidden(Mt.editorContainer)),ye.getElement().style.display="none",ze.setAttrib(ye.id,"aria-hidden",!0),Ct||ye.initContentBody(),Fe=it=Mt=null},initContentBody:function(je){var at,dt,ye=this,me=ye.settings,Fe=ye.getElement(),Ke=ye.getDoc();me.inline||(ye.getElement().style.visibility=ye.orgVisibility),je||me.content_editable||(Ke.open(),Ke.write(ye.iframeHTML),Ke.close()),me.content_editable&&(ye.on("remove",function(){var it=this.getBody();ze.removeClass(it,"mce-content-body"),ze.removeClass(it,"mce-edit-focus"),ze.setAttrib(it,"contentEditable",null)}),ze.addClass(Fe,"mce-content-body"),ye.contentDocument=Ke=me.content_document||document,ye.contentWindow=me.content_window||window,ye.bodyElement=Fe,me.content_document=me.content_window=null,me.root_name=Fe.nodeName.toLowerCase()),(at=ye.getBody()).disabled=!0,ye.readonly=me.readonly,ye.readonly||(ye.inline&&"static"==ze.getStyle(at,"position",!0)&&(at.style.position="relative"),at.contentEditable=ye.getParam("content_editable_state",!0)),at.disabled=!1,ye.editorUpload=new ge(ye),ye.schema=new N(me),ye.dom=new le(Ke,{keep_values:!0,url_converter:ye.convertURL,url_converter_scope:ye,hex_colors:me.force_hex_style_colors,class_filter:me.class_filter,update_styles:!0,root_element:ye.inline?ye.getBody():null,collect:me.content_editable,schema:ye.schema,onSetAttrib:function(it){ye.fire("SetAttrib",it)}}),ye.parser=new E(me,ye.schema),ye.parser.addAttributeFilter("src,href,style,tabindex",function(it,Mt){for(var Ct,vn,zn,gt=it.length,xt=ye.dom;gt--;)if(vn=(Ct=it[gt]).attr(Mt),!Ct.attributes.map[zn="data-mce-"+Mt]){if(0===vn.indexOf("data:")||0===vn.indexOf("blob:"))continue;"style"===Mt?((vn=xt.serializeStyle(xt.parseStyle(vn),Ct.name)).length||(vn=null),Ct.attr(zn,vn),Ct.attr(Mt,vn)):"tabindex"===Mt?(Ct.attr(zn,vn),Ct.attr(Mt,null)):Ct.attr(zn,ye.convertURL(vn,Mt,Ct.name))}}),ye.parser.addNodeFilter("script",function(it){for(var gt,Ct,Mt=it.length;Mt--;)0!==(Ct=(gt=it[Mt]).attr("type")||"no/type").indexOf("mce-")&&gt.attr("type","mce-"+Ct)}),ye.parser.addNodeFilter("#cdata",function(it){for(var gt,Mt=it.length;Mt--;)(gt=it[Mt]).type=8,gt.name="#comment",gt.value="[CDATA["+gt.value+"]]"}),ye.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(it){for(var gt,Mt=it.length,Ct=ye.schema.getNonEmptyElements();Mt--;)(gt=it[Mt]).isEmpty(Ct)&&0===gt.getAll("br").length&&(gt.append(new C("br",1)).shortEnded=!0)}),ye.serializer=new I(me,ye),ye.selection=new w(ye.dom,ye.getWin(),ye.serializer,ye),ye.formatter=new S(ye),ye.undoManager=new G(ye),ye.forceBlocks=new R(ye),ye.enterKey=new L(ye),ye._nodeChangeDispatcher=new B(ye),ye._selectionOverrides=new Ee(ye),ye.fire("PreInit"),me.browser_spellcheck||me.gecko_spellcheck||(Ke.body.spellcheck=!1,ze.setAttrib(at,"spellcheck","false")),ye.quirks=new T(ye),ye.fire("PostRender"),me.directionality&&(at.dir=me.directionality),me.nowrap&&(at.style.whiteSpace="nowrap"),me.protect&&ye.on("BeforeSetContent",function(it){Re(me.protect,function(Mt){it.content=it.content.replace(Mt,function(gt){return"\x3c!--mce:protected "+escape(gt)+"--\x3e"})})}),ye.on("SetContent",function(){ye.addVisual(ye.getBody())}),me.padd_empty_editor&&ye.on("PostProcess",function(it){it.content=it.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),ye.load({initial:!0,format:"html"}),ye.startContent=ye.getContent({format:"raw"}),ye.initialized=!0,ye.bindPendingEventDelegates(),ye.fire("init"),ye.focus(!0),ye.nodeChanged({initial:!0}),ye.execCallback("init_instance_callback",ye),ye.on("compositionstart compositionend",function(it){ye.composing="compositionstart"===it.type}),ye.contentStyles.length>0&&(dt="",Re(ye.contentStyles,function(it){dt+=it+"\r\n"}),ye.dom.addStyle(dt)),Re(ye.contentCSS,function(it){ye.loadedCSS[it]||(ye.dom.loadCSS(it),ye.loadedCSS[it]=!0)}),me.auto_focus&&j.setEditorTimeout(ye,function(){var it;(it=!0===me.auto_focus?ye:ye.editorManager.get(me.auto_focus)).destroyed||it.focus()},100),Fe=Ke=at=null},focus:function(je){var at,dt,gt,Ct,me=this,Fe=me.selection,Ke=me.settings.content_editable,it=me.getDoc(),Mt=me.getBody();if(!je){if((at=Fe.getRng()).item&&(dt=at.item(0)),me.quirks.refreshContentEditable(),Ct=Fe.getNode(),gt=me.dom.getParent(Ct,function(xt){return"true"===me.dom.getContentEditable(xt)}),me.$.contains(Mt,gt))return gt.focus(),Fe.normalize(),void me.editorManager.setActive(me);if(Ke||(v.opera||me.getBody().focus(),me.getWin().focus()),Kt||Ke){if(Mt.setActive)try{Mt.setActive()}catch(Ct){Mt.focus()}else Mt.focus();Ke&&Fe.normalize()}dt&&dt.ownerDocument==it&&((at=it.body.createControlRange()).addElement(dt),at.select())}me.editorManager.setActive(me)},execCallback:function(je){var Fe,ye=this,me=ye.settings[je];if(me)return ye.callbackLookup&&(Fe=ye.callbackLookup[je])&&(me=Fe.func,Fe=Fe.scope),"string"==typeof me&&(Fe=(Fe=me.replace(/\.\w+$/,""))?Et(Fe):0,me=Et(me),ye.callbackLookup=ye.callbackLookup||{},ye.callbackLookup[je]={func:me,scope:Fe}),me.apply(Fe||ye,Array.prototype.slice.call(arguments,1))},translate:function(je){var ye=this.settings.language||"en",me=this.editorManager.i18n;return je?(je=me.data[ye+"."+je]||je.replace(/\{\#([^\}]+)\}/g,function(Fe,Ke){return me.data[ye+"."+Ke]||"{#"+Ke+"}"}),this.editorManager.translate(je)):""},getLang:function(je,ye){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+je]||(ye!==ht?ye:"{#"+je+"}")},getParam:function(je,ye,me){var Ke,Fe=je in this.settings?this.settings[je]:ye;return"hash"===me?(Ke={},"string"==typeof Fe?Re(Fe.indexOf("=")>0?Fe.split(/[;,](?![^=;,]*(?:[;,]|$))/):Fe.split(","),function(at){at=at.split("="),Ke[ft(at[0])]=ft(at.length>1?at[1]:at)}):Ke=Fe,Ke):Fe},nodeChanged:function(je){this._nodeChangeDispatcher.nodeChanged(je)},addButton:function(je,ye){var me=this;ye.cmd&&(ye.onclick=function(){me.execCommand(ye.cmd)}),ye.text||ye.icon||(ye.icon=je),me.buttons=me.buttons||{},ye.tooltip=ye.tooltip||ye.title,me.buttons[je]=ye},addSidebar:function(je,ye){return Ae.add(this,je,ye)},addMenuItem:function(je,ye){var me=this;ye.cmd&&(ye.onclick=function(){me.execCommand(ye.cmd)}),me.menuItems=me.menuItems||{},me.menuItems[je]=ye},addContextToolbar:function(je,ye){var Fe,me=this;me.contextToolbars=me.contextToolbars||[],"string"==typeof je&&(Fe=je,je=function(Ke){return me.dom.is(Ke,Fe)}),me.contextToolbars.push({id:Ie.uuid("mcet"),predicate:je,items:ye})},addCommand:function(je,ye,me){this.editorCommands.addCommand(je,ye,me)},addQueryStateHandler:function(je,ye,me){this.editorCommands.addQueryStateHandler(je,ye,me)},addQueryValueHandler:function(je,ye,me){this.editorCommands.addQueryValueHandler(je,ye,me)},addShortcut:function(je,ye,me,Fe){this.shortcuts.add(je,ye,me,Fe)},execCommand:function(je,ye,me,Fe){return this.editorCommands.execCommand(je,ye,me,Fe)},queryCommandState:function(je){return this.editorCommands.queryCommandState(je)},queryCommandValue:function(je){return this.editorCommands.queryCommandValue(je)},queryCommandSupported:function(je){return this.editorCommands.queryCommandSupported(je)},show:function(){var je=this;je.hidden&&(je.hidden=!1,je.inline?je.getBody().contentEditable=!0:(ze.show(je.getContainer()),ze.hide(je.id)),je.load(),je.fire("show"))},hide:function(){var je=this,ye=je.getDoc();je.hidden||(Gt&&ye&&!je.inline&&ye.execCommand("SelectAll"),je.save(),je.inline?(je.getBody().contentEditable=!1,je==je.editorManager.focusedEditor&&(je.editorManager.focusedEditor=null)):(ze.hide(je.getContainer()),ze.setStyle(je.id,"display",je.orgDisplay)),je.hidden=!0,je.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(je,ye){this.fire("ProgressState",{state:je,time:ye})},load:function(je){var Fe,me=this.getElement();if(me)return(je=je||{}).load=!0,Fe=this.setContent(me.value!==ht?me.value:me.innerHTML,je),je.element=me,je.no_events||this.fire("LoadContent",je),je.element=me=null,Fe},save:function(je){var Fe,Ke,ye=this,me=ye.getElement();if(me&&ye.initialized)return(je=je||{}).save=!0,je.element=me,je.content=ye.getContent(je),je.no_events||ye.fire("SaveContent",je),"raw"==je.format&&ye.fire("RawSaveContent",je),Fe=je.content,/TEXTAREA|INPUT/i.test(me.nodeName)?me.value=Fe:(ye.inline||(me.innerHTML=Fe),(Ke=ze.getParent(ye.id,"form"))&&Re(Ke.elements,function(at){if(at.name==ye.id)return at.value=Fe,!1})),je.element=me=null,!1!==je.set_dirty&&ye.setDirty(!1),Fe},setContent:function(je,ye){var Ke,at,me=this,Fe=me.getBody();return(ye=ye||{}).format=ye.format||"html",ye.set=!0,ye.content=je,ye.no_events||me.fire("BeforeSetContent",ye),0===(je=ye.content).length||/^\s+$/.test(je)?(at=Gt&&Gt<11?"":'<br data-mce-bogus="1">',"TABLE"==Fe.nodeName?je="<tr><td>"+at+"</td></tr>":/^(UL|OL)$/.test(Fe.nodeName)&&(je="<li>"+at+"</li>"),(Ke=me.settings.forced_root_block)&&me.schema.isValidChild(Fe.nodeName.toLowerCase(),Ke.toLowerCase())?je=me.dom.createHTML(Ke,me.settings.forced_root_block_attrs,je=at):Gt||je||(je='<br data-mce-bogus="1">'),me.dom.setHTML(Fe,je),me.fire("SetContent",ye)):("raw"!==ye.format&&(je=new x({validate:me.validate},me.schema).serialize(me.parser.parse(je,{isRootContent:!0}))),ye.content=ft(je),me.dom.setHTML(Fe,ye.content),ye.no_events||me.fire("SetContent",ye)),ye.content},getContent:function(je){var me,ye=this,Fe=ye.getBody();return(je=je||{}).format=je.format||"html",je.get=!0,je.getInner=!0,je.no_events||ye.fire("BeforeGetContent",je),me="raw"==je.format?_.trim(ye.serializer.getTrimmedContent()):"text"==je.format?Fe.innerText||Fe.textContent:ye.serializer.serialize(Fe,je),je.content="text"!=je.format?ft(me):me,je.no_events||ye.fire("GetContent",je),je.content},insertContent:function(je,ye){ye&&(je=we({content:je},ye)),this.execCommand("mceInsertContent",!1,je)},isDirty:function(){return!this.isNotDirty},setDirty:function(je){var ye=!this.isNotDirty;this.isNotDirty=!je,je&&je!=ye&&this.fire("dirty")},setMode:function(je){Y.setMode(this,je)},getContainer:function(){var je=this;return je.container||(je.container=ze.get(je.editorContainer||je.id+"_parent")),je.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=ze.get(this.id)),this.targetElm},getWin:function(){var ye;return this.contentWindow||(ye=this.iframeElement)&&(this.contentWindow=ye.contentWindow),this.contentWindow},getDoc:function(){var ye;return this.contentDocument||(ye=this.getWin())&&(this.contentDocument=ye.document),this.contentDocument},getBody:function(){var je=this.getDoc();return this.bodyElement||(je?je.body:null)},convertURL:function(je,ye,me){var Ke=this.settings;return Ke.urlconverter_callback?this.execCallback("urlconverter_callback",je,me,!0,ye):!Ke.convert_urls||me&&"LINK"==me.nodeName||0===je.indexOf("file:")||0===je.length?je:Ke.relative_urls?this.documentBaseURI.toRelative(je):je=this.documentBaseURI.toAbsolute(je,Ke.remove_script_host)},addVisual:function(je){var Ke,ye=this,me=ye.settings,Fe=ye.dom;je=je||ye.getBody(),ye.hasVisual===ht&&(ye.hasVisual=me.visual),Re(Fe.select("table,a",je),function(at){var dt;switch(at.nodeName){case"TABLE":return Ke=me.visual_table_class||"mce-item-table",void((dt=Fe.getAttrib(at,"border"))&&"0"!=dt||!ye.hasVisual?Fe.removeClass(at,Ke):Fe.addClass(at,Ke));case"A":return void(Fe.getAttrib(at,"href",!1)||(dt=Fe.getAttrib(at,"name")||at.id,Ke=me.visual_anchor_class||"mce-item-anchor",dt&&ye.hasVisual?Fe.addClass(at,Ke):Fe.removeClass(at,Ke)))}}),ye.fire("VisualAid",{element:je,hasVisual:ye.hasVisual})},remove:function(){var je=this;je.removed||(je.save(),je.removed=1,je.unbindAllNativeEvents(),je.hasHiddenInput&&ze.remove(je.getElement().nextSibling),je.inline||(Gt&&Gt<10&&je.getDoc().execCommand("SelectAll",!1,null),ze.setStyle(je.id,"display",je.orgDisplay),je.getBody().onload=null),je.fire("remove"),je.editorManager.remove(je),ze.remove(je.getContainer()),je._selectionOverrides.destroy(),je.editorUpload.destroy(),je.destroy())},destroy:function(je){var me,ye=this;if(!ye.destroyed){if(!je&&!ye.removed)return void ye.remove();je||(ye.editorManager.off("beforeunload",ye._beforeUnload),ye.theme&&ye.theme.destroy&&ye.theme.destroy(),ye.selection.destroy(),ye.dom.destroy()),(me=ye.formElement)&&(me._mceOldSubmit&&(me.submit=me._mceOldSubmit,me._mceOldSubmit=null),ze.unbind(me,"submit reset",ye.formEventDelegate)),ye.contentAreaContainer=ye.formElement=ye.container=ye.editorContainer=null,ye.bodyElement=ye.contentDocument=ye.contentWindow=null,ye.iframeElement=ye.targetElm=null,ye.selection&&(ye.selection=ye.selection.win=ye.selection.dom=ye.selection.dom.doc=null),ye.destroyed=1}},uploadImages:function(je){return this.editorUpload.uploadImages(je)},_scanForImages:function(){return this.editorUpload.scanForImages()}},we(De.prototype,ie),De}),he(xl,[Z],function(le){var ee={},W="en";return{setCode:function(B){B&&(W=B,this.rtl=!!this.data[B]&&"rtl"===this.data[B]._dir)},getCode:function(){return W},rtl:!1,add:function(B,C){var I=ee[B];for(var x in I||(ee[B]=I={}),C)I[x]=C[x];this.setCode(B)},translate:function(B){function C(G){return le.is(G,"function")?Object.prototype.toString.call(G):I(G)?"":""+G}function I(G){return""===G||null===G||le.is(G,"undefined")}function x(G){return G=C(G),le.hasOwn(w,G)?C(w[G]):G}var w=ee[W]||{};if(I(B))return"";if(le.is(B,"object")&&le.hasOwn(B,"raw"))return C(B.raw);if(le.is(B,"array")){var S=B.slice(1);B=x(B[0]).replace(/\{([0-9]+)\}/g,function(G,L){return le.hasOwn(S,L)?C(S[L]):G})}return x(B).replace(/{context:\w+}$/,"")},data:ee}}),he(bl,[ue,M,H],function(le,ee,W){function B(G){function L(){try{return document.activeElement}catch(q){return document.body}}G.on("AddEditor",function(q){var z=q.editor;z.on("init",function(){(z.inline||W.ie)&&("onbeforedeactivate"in document&&W.ie<9?z.dom.bind(z.getBody(),"beforedeactivate",function(te){if(te.target==z.getBody())try{z.lastRng=z.selection.getRng()}catch(N){}}):z.on("nodechange mouseup keyup",function(te){var N=L();"nodechange"==te.type&&te.selectionChange||(N&&N.id==z.id+"_ifr"&&(N=z.getBody()),z.dom.isChildOf(N,z.getBody())&&(z.lastRng=z.selection.getRng()))}),W.webkit&&!C&&(C=function(){var te=G.activeEditor;if(te&&te.selection){var N=te.selection.getRng();N&&!N.collapsed&&(z.lastRng=N)}},w.bind(document,"selectionchange",C)))}),z.on("setcontent",function(){z.lastRng=null}),z.on("mousedown",function(){z.selection.lastFocusBookmark=null}),z.on("focusin",function(){var N,te=G.focusedEditor;z.selection.lastFocusBookmark&&(N=function(q,z){var te;return z.startContainer?((te=q.getDoc().createRange()).setStart(z.startContainer,z.startOffset),te.setEnd(z.endContainer,z.endOffset)):te=z,te}(z,z.selection.lastFocusBookmark),z.selection.lastFocusBookmark=null,z.selection.setRng(N)),te!=z&&(te&&te.fire("blur",{focusedEditor:z}),G.setActive(z),G.focusedEditor=z,z.fire("focus",{blurredEditor:te}),z.focus(!0)),z.lastRng=null}),z.on("focusout",function(){ee.setEditorTimeout(z,function(){var te=G.focusedEditor;S(z,L())||te!=z||(z.fire("blur",{focusedEditor:null}),G.focusedEditor=null,z.selection&&(z.selection.lastFocusBookmark=null))})}),I||(I=function(te){var E,N=G.activeEditor;E=te.target,N&&E.ownerDocument==document&&(N.selection&&E!=N.getBody()&&(N.selection.lastFocusBookmark=function(q,z){return z&&z.startContainer?q.isChildOf(z.startContainer,q.getRoot())&&q.isChildOf(z.endContainer,q.getRoot())?{startContainer:z.startContainer,startOffset:z.startOffset,endContainer:z.endContainer,endOffset:z.endOffset}:void 0:z}(N.dom,N.lastRng)),E==document.body||S(N,E)||G.focusedEditor!=N||(N.fire("blur",{focusedEditor:null}),G.focusedEditor=null))},w.bind(document,"focusin",I)),z.inline&&!x&&(x=function(te){var N=G.activeEditor,E=N.dom;if(N.inline&&E&&!E.isChildOf(te.target,N.getBody())){var T=N.selection.getRng();T.collapsed||(N.lastRng=T)}},w.bind(document,"mouseup",x))}),G.on("RemoveEditor",function(q){G.focusedEditor==q.editor&&(G.focusedEditor=null),G.activeEditor||(w.unbind(document,"selectionchange",C),w.unbind(document,"focusin",I),w.unbind(document,"mouseup",x),C=I=x=null)})}var C,I,x,w=le.DOM,S=function(G,L){var R=G?G.settings.custom_ui_selector:"";return null!==w.getParent(L,function(U){return B.isEditorUIElement(U)||!!R&&G.dom.is(U,R)})};return B.isEditorUIElement=function(G){return-1!==G.className.toString().indexOf("mce-")},B._isUIElement=S,B}),he(ds,[cs,re,ue,Pt,H,Z,k,cn,xl,bl,se],function(le,ee,W,B,C,I,x,w,S,G,L){function R(j){te(v.editors,function(ie){ie.fire("scroll"===j.type?"ScrollWindow":"ResizeWindow",j)})}function F(j,ie){ie!==_&&(ie?ee(window).on("resize scroll",R):ee(window).off("resize scroll",R),_=ie)}function U(j){var Y,ie=v.editors;delete ie[j.id];for(var ae=0;ae<ie.length;ae++)if(ie[ae]==j){ie.splice(ae,1),Y=!0;break}return v.activeEditor==j&&(v.activeEditor=ie[0]),v.focusedEditor==j&&(v.focusedEditor=null),Y}var T,v,q=W.DOM,z=I.explode,te=I.each,N=I.extend,E=0,_=!1;return v={$:ee,majorVersion:"4",minorVersion:"5.7",releaseDate:"2017-04-25",editors:[],i18n:S,activeEditor:null,setup:function(){var ie,Y,ge,Ee,j=this,ae="";if(Y=B.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(Y)&&(Y=Y.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(Y)||(Y+="/")),ge=window.tinymce||window.tinyMCEPreInit)ie=ge.base||ge.baseURL,ae=ge.suffix;else{for(var Ie=document.getElementsByTagName("script"),Ae=0;Ae<Ie.length;Ae++){var Pe=(Ee=Ie[Ae].src).substring(Ee.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(Ee)){-1!=Pe.indexOf(".min")&&(ae=".min"),ie=Ee.substring(0,Ee.lastIndexOf("/"));break}}!ie&&document.currentScript&&(-1!=(Ee=document.currentScript.src).indexOf(".min")&&(ae=".min"),ie=Ee.substring(0,Ee.lastIndexOf("/")))}j.baseURL=new B(Y).toAbsolute(ie),j.documentBaseURL=Y,j.baseURI=new B(j.baseURL),j.suffix=ae,j.focusManager=new G(j)},overrideDefaults:function(j){var ie;(ie=j.base_url)&&(this.baseURL=new B(this.documentBaseURL).toAbsolute(ie.replace(/\/+$/,"")),this.baseURI=new B(this.baseURL)),j.suffix&&(this.suffix=j.suffix),this.defaultSettings=j;var ae=j.plugin_base_urls;for(var ge in ae)L.PluginManager.urls[ge]=ae[ge]},init:function(j){function ae(de){var we=de.id;return we||(we=(we=de.name)&&!q.get(we)?de.name:q.uniqueId(),de.setAttribute("id",we)),we}function Ee(de,we){return we.constructor===RegExp?we.test(de.className):q.hasClass(de,we)}var De,ze,Pe=this;ze=I.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var Ve=function(de){De=de};return Pe.settings=j,q.bind(window,"ready",function Ae(){function de(Ze,ft,Et){var Vt=new le(Ze,ft,Pe);Re.push(Vt),Vt.on("init",function(){++we===We.length&&Ve(Re)}),Vt.targetElm=Vt.targetElm||Et,Vt.render()}var We,we=0,Re=[];return q.unbind(window,"ready",Ae),function(de){var we=j[de];we&&we.apply(Pe,Array.prototype.slice.call(arguments,2))}("onpageload"),We=ee.unique(function(de){var we,Re=[];if(de.types)return te(de.types,function(We){Re=Re.concat(q.select(We.selector))}),Re;if(de.selector)return q.select(de.selector);if(de.target)return[de.target];switch(de.mode){case"exact":(we=de.elements||"").length>0&&te(z(we),function(We){var Ze;(Ze=q.get(We))?Re.push(Ze):te(document.forms,function(ft){te(ft.elements,function(Et){Et.name===We&&(We="mce_editor_"+E++,q.setAttrib(Et,"id",We),Re.push(Et))})})});break;case"textareas":case"specific_textareas":te(q.select("textarea"),function(We){de.editor_deselector&&Ee(We,de.editor_deselector)||de.editor_selector&&!Ee(We,de.editor_selector)||Re.push(We)})}return Re}(j)),j.types?void te(j.types,function(Ze){I.each(We,function(ft){return!q.is(ft,Ze.selector)||(de(ae(ft),N({},j,Ze),ft),!1)})}):(I.each(We,function(Ze){!function(j){j&&j.initialized&&!(j.getContainer()||j.getBody()).parentNode&&(U(j),j.unbindAllNativeEvents(),j.destroy(!0),j.removed=!0,j=null)}(Pe.get(Ze.id))}),We=I.grep(We,function(Ze){return!Pe.get(Ze.id)}),void te(We,function(Ze){!function(de,we){return de.inline&&we.tagName.toLowerCase()in ze}(j,Ze)?de(ae(Ze),j,Ze):function(de,we){window.console&&!window.test&&window.console.log("Could not initialize inline editor on invalid inline target element",we)}(0,Ze)}))}),new x(function(de){De?de(De):Ve=function(we){de(we)}})},get:function(j){return arguments.length?j in this.editors?this.editors[j]:null:this.editors},add:function(j){var ie=this,Y=ie.editors;return Y[j.id]=j,Y.push(j),F(0,!0),ie.activeEditor=j,ie.fire("AddEditor",{editor:j}),T||(T=function(){ie.fire("BeforeUnload")},q.bind(window,"beforeunload",T)),j},createEditor:function(j,ie){return this.add(new le(j,ie,this))},remove:function(j){var Y,ge,ie=this,ae=ie.editors;if(j)return"string"==typeof j?void te(q.select(j=j.selector||j),function(Ee){(ge=ae[Ee.id])&&ie.remove(ge)}):ae[(ge=j).id]?(U(ge)&&ie.fire("RemoveEditor",{editor:ge}),ae.length||q.unbind(window,"beforeunload",T),ge.remove(),F(0,ae.length>0),ge):null;for(Y=ae.length-1;Y>=0;Y--)ie.remove(ae[Y])},execCommand:function(j,ie,Y){var ae=this,ge=ae.get(Y);switch(j){case"mceAddEditor":return ae.get(Y)||new le(Y,ae.settings,ae).render(),!0;case"mceRemoveEditor":return ge&&ge.remove(),!0;case"mceToggleEditor":return ge?(ge.isHidden()?ge.show():ge.hide(),!0):(ae.execCommand("mceAddEditor",0,Y),!0)}return!!ae.activeEditor&&ae.activeEditor.execCommand(j,ie,Y)},triggerSave:function(){te(this.editors,function(j){j.save()})},addI18n:function(j,ie){S.add(j,ie)},translate:function(j){return S.translate(j)},setActive:function(j){var ie=this.activeEditor;this.activeEditor!=j&&(ie&&ie.fire("deactivate",{relatedTarget:j}),j.fire("activate",{relatedTarget:ie})),this.activeEditor=j}},N(v,w),v.setup(),window.tinymce=window.tinyMCE=v,v}),he("tinymce/LegacyInput",[ds,Z],function(le,ee){var W=ee.each,B=ee.explode;le.on("AddEditor",function(C){var I=C.editor;I.on("preInit",function(){function x(F,U){W(U,function(O,q){O&&L.setStyle(F,q,O)}),L.rename(F,"span")}var S,G,L,R=I.settings;R.inline_styles&&(G=B(R.font_size_legacy_values),S={font:function(F,U){x(U,{backgroundColor:U.style.backgroundColor,color:U.color,fontFamily:U.face,fontSize:G[parseInt(U.size,10)-1]})},u:function(F,U){"html4"===I.settings.schema&&x(U,{textDecoration:"underline"})},strike:function(F,U){x(U,{textDecoration:"line-through"})}},I.on("PreProcess SetContent",function(F){L=I.dom,R.convert_fonts_to_spans&&W(L.select("font,u,strike",F.node),function(U){S[U.nodeName.toLowerCase()](L,U)})}))})})}),he(_l,[cn,Z],function(le,ee){var W={send:function(B){function C(){!B.async||4==I.readyState||x++>1e4?(B.success&&x<1e4&&200==I.status?B.success.call(B.success_scope,""+I.responseText,I,B):B.error&&B.error.call(B.error_scope,x>1e4?"TIMED_OUT":"GENERAL",I,B),I=null):setTimeout(C,10)}var I,x=0;if(B.scope=B.scope||this,B.success_scope=B.success_scope||B.scope,B.error_scope=B.error_scope||B.scope,B.async=!1!==B.async,B.data=B.data||"",W.fire("beforeInitialize",{settings:B}),I=new XMLHttpRequest){if(I.overrideMimeType&&I.overrideMimeType(B.content_type),I.open(B.type||(B.data?"POST":"GET"),B.url,B.async),B.crossDomain&&(I.withCredentials=!0),B.content_type&&I.setRequestHeader("Content-Type",B.content_type),B.requestheaders&&ee.each(B.requestheaders,function(w){I.setRequestHeader(w.key,w.value)}),I.setRequestHeader("X-Requested-With","XMLHttpRequest"),(I=W.fire("beforeSend",{xhr:I,settings:B}).xhr).send(B.data),!B.async)return C();setTimeout(C,10)}}};return ee.extend(W,le),W}),he(hs,[],function(){return{serialize:function le(ee,W){var B,C,I,x;if(W=W||'"',null===ee)return"null";if("string"==(I=typeof ee))return C="\bb\tt\nn\ff\rr\"\"''\\\\",W+ee.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(w,S){return'"'===W&&"'"===w?w:(B=C.indexOf(S))+1?"\\"+C.charAt(B+1):(w=S.charCodeAt().toString(16),"\\u"+"0000".substring(w.length)+w)})+W;if("object"==I){if(ee.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(ee)){for(B=0,C="[";B<ee.length;B++)C+=(B>0?",":"")+le(ee[B],W);return C+"]"}for(x in C="{",ee)ee.hasOwnProperty(x)&&(C+="function"!=typeof ee[x]?(C.length>1?","+W:W)+x+W+":"+le(ee[x],W):"");return C+"}"}return""+ee},parse:function(ee){try{return window[String.fromCharCode(101)+"val"]("("+ee+")")}catch(W){}}}}),he(Hu,[hs,_l,Z],function(le,ee,W){function B(I){this.settings=C({},I),this.count=0}var C=W.extend;return B.sendRPC=function(I){return(new B).send(I)},B.prototype={send:function(I){var x=I.error,w=I.success;(I=C(this.settings,I)).success=function(S,G){void 0===(S=le.parse(S))&&(S={error:"JSON Parse error."}),S.error?x.call(I.error_scope||I.scope,S.error,G):w.call(I.success_scope||I.scope,S.result)},I.error=function(S,G){x&&x.call(I.error_scope||I.scope,S,G)},I.data=le.serialize({id:I.id||"c"+this.count++,method:I.method,params:I.params}),I.content_type="application/json",ee.send(I)}},B}),he(fa,[ue],function(le){return{callbacks:{},count:0,send:function(ee){var W=this,B=le.DOM,C=ee.count!==ht?ee.count:W.count,I="tinymce_jsonp_"+C;W.callbacks[C]=function(x){B.remove(I),delete W.callbacks[C],ee.callback(x)},B.add(B.doc.body,"script",{id:I,src:ee.url,type:"text/javascript"}),W.count++}}}),he(Ir,[],function(){function le(){for(var G in x=[],I)x.push(G);B.length=x.length}function W(){var G,L="";if(S){for(var R in I)G=I[R],L+=(L?",":"")+R.length.toString(32)+","+R+","+G.length.toString(32)+","+G;C.setAttribute(w,L);try{C.save(w)}catch(F){}le()}}var B,C,I,x,w,S;try{if(window.localStorage)return localStorage}catch(G){}return w="tinymce",C=document.documentElement,(S=!!C.addBehavior)&&C.addBehavior("#default#userData"),B={key:function(G){return x[G]},getItem:function(G){return G in I?I[G]:null},setItem:function(G,L){I[G]=""+L,W()},removeItem:function(G){delete I[G],W()},clear:function(){I={},W()}},function(){function G(q){var z,te;return-1===(te=q!==ht?U+q:R.indexOf(",",U))||te>R.length?null:(z=R.substring(U,te),U=te+1,z)}var L,R,F,U=0;if(I={},S){C.load(w),R=C.getAttribute(w)||"";do{var O=G();if(null===O)break;if(null!==(L=G(parseInt(O,32)||0))){if(null===(O=G()))break;F=G(parseInt(O,32)||0),L&&(I[L]=F)}}while(null!==L);le()}}(),B}),he(Fr,[ue,m,Te,se,Z,H],function(le,ee,W,B,C,I){var x=window.tinymce;return x.DOM=le.DOM,x.ScriptLoader=W.ScriptLoader,x.PluginManager=B.PluginManager,x.ThemeManager=B.ThemeManager,x.dom=x.dom||{},x.dom.Event=ee.Event,C.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(w){x[w]=C[w]}),C.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(w){x[w]=I[w.substr(2).toLowerCase()]}),{}}),he(fs,[Ut,Z],function(le,ee){return le.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(W){this.settings=ee.extend({},this.Defaults,W)},preRender:function(W){W.bodyClasses.add(this.settings.containerClass)},applyClasses:function(W){var I,x,w,S,C=this.settings;I=C.firstControlClass,x=C.lastControlClass,W.each(function(G){G.classes.remove(I).remove(x).add(C.controlClass),G.visible()&&(w||(w=G),S=G)}),w&&w.classes.add(I),S&&S.classes.add(x)},renderHtml:function(W){var C="";return this.applyClasses(W.items()),W.items().each(function(I){C+=I.renderHtml()}),C},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),he(pa,[fs],function(le){return le.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(ee){ee.items().filter(":visible").each(function(W){var B=W.settings;W.layoutRect({x:B.x,y:B.y,w:B.w,h:B.h}),W.recalc&&W.recalc()})},renderHtml:function(ee){return'<div id="'+ee._id+'-absend" class="'+ee.classPrefix+'abs-end"></div>'+this._super(ee)}})}),he(no,[on],function(le){return le.extend({Defaults:{classes:"widget btn",role:"button"},init:function(ee){var B,W=this;W._super(ee),ee=W.settings,B=W.settings.size,W.on("click mousedown",function(C){C.preventDefault()}),W.on("touchstart",function(C){W.fire("click",C),C.preventDefault()}),ee.subtype&&W.classes.add(ee.subtype),B&&W.classes.add("btn-"+B),ee.icon&&W.icon(ee.icon)},icon:function(ee){return arguments.length?(this.state.set("icon",ee),this):this.state.get("icon")},repaint:function(){var W,ee=this.getEl().firstChild;ee&&((W=ee.style).width=W.height="100%"),this._super()},renderHtml:function(){var I,ee=this,W=ee._id,B=ee.classPrefix,C=ee.state.get("icon"),x=ee.state.get("text"),w="";return(I=ee.settings.image)?(C="none","string"!=typeof I&&(I=window.getSelection?I[0]:I[1]),I=" style=\"background-image: url('"+I+"')\""):I="",x&&(ee.classes.add("btn-has-text"),w='<span class="'+B+'txt">'+ee.encode(x)+"</span>"),'<div id="'+W+'" class="'+ee.classes+'" tabindex="-1" aria-labelledby="'+W+'"><button role="presentation" type="button" tabindex="-1">'+((C=C?B+"ico "+B+"i-"+C:"")?'<i class="'+C+'"'+I+"></i>":"")+w+"</button></div>"},bindStates:function(){function ee(I){var x=B("span."+C,W.getEl());I?(x[0]||(B("button:first",W.getEl()).append('<span class="'+C+'"></span>'),x=B("span."+C,W.getEl())),x.html(W.encode(I))):x.remove(),W.classes.toggle("btn-has-text",!!I)}var W=this,B=W.$,C=W.classPrefix+"txt";return W.state.on("change:text",function(I){ee(I.value)}),W.state.on("change:icon",function(I){var x=I.value,w=W.classPrefix;W.settings.icon=x,x=x?w+"ico "+w+"i-"+W.settings.icon:"";var S=W.getEl().firstChild,G=S.getElementsByTagName("i")[0];x?(G&&G==S.firstChild||(G=document.createElement("i"),S.insertBefore(G,S.firstChild)),G.className=x):G&&S.removeChild(G),ee(W.state.get("text"))}),W._super()}})}),he(Oo,[Gi],function(le){return le.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var ee=this,W=ee._layout;return ee.classes.add("btn-group"),ee.preRender(),W.preRender(ee),'<div id="'+ee._id+'" class="'+ee.classes+'"><div id="'+ee._id+'-body">'+(ee.settings.html||"")+W.renderHtml(ee)+"</div></div>"}})}),he(ga,[on],function(le){return le.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(ee){var W=this;W._super(ee),W.on("click mousedown",function(B){B.preventDefault()}),W.on("click",function(B){B.preventDefault(),W.disabled()||W.checked(!W.checked())}),W.checked(W.settings.checked)},checked:function(ee){return arguments.length?(this.state.set("checked",ee),this):this.state.get("checked")},value:function(ee){return arguments.length?this.checked(ee):this.checked()},renderHtml:function(){var ee=this,W=ee._id,B=ee.classPrefix;return'<div id="'+W+'" class="'+ee.classes+'" unselectable="on" aria-labelledby="'+W+'-al" tabindex="-1"><i class="'+B+"ico "+B+'i-checkbox"></i><span id="'+W+'-al" class="'+B+'label">'+ee.encode(ee.state.get("text"))+"</span></div>"},bindStates:function(){function ee(B){W.classes.toggle("checked",B),W.aria("checked",B)}var W=this;return W.state.on("change:text",function(B){W.getEl("al").firstChild.data=W.translate(B.value)}),W.state.on("change:checked change:value",function(B){W.fire("change"),ee(B.value)}),W.state.on("change:icon",function(B){var C=B.value,I=W.classPrefix;if(void 0===C)return W.settings.icon;W.settings.icon=C,C=C?I+"ico "+I+"i-"+W.settings.icon:"";var x=W.getEl().firstChild,w=x.getElementsByTagName("i")[0];C?(w&&w==x.firstChild||(w=document.createElement("i"),x.insertBefore(w,x.firstChild)),w.className=C):w&&x.removeChild(w)}),W.state.get("checked")&&ee(!0),W._super()}})}),he(ma,[on,Ri,Rn,re,It,Z],function(le,ee,W,B,C,I){return le.extend({init:function(x){var w=this;w._super(x),x=w.settings,w.classes.add("combobox"),w.subinput=!0,w.ariaTarget="inp",x.menu=x.menu||x.values,x.menu&&(x.icon="caret"),w.on("click",function(S){var G=S.target,L=w.getEl();if(B.contains(L,G)||G==L)for(;G&&G!=L;)G.id&&-1!=G.id.indexOf("-open")&&(w.fire("action"),x.menu&&(w.showMenu(),S.aria&&w.menu.items()[0].focus())),G=G.parentNode}),w.on("keydown",function(S){var G;13==S.keyCode&&"INPUT"===S.target.nodeName&&(S.preventDefault(),w.parents().reverse().each(function(L){if(L.toJSON)return G=L,!1}),w.fire("submit",{data:G.toJSON()}))}),w.on("keyup",function(S){if("INPUT"==S.target.nodeName){var G=w.state.get("value"),L=S.target.value;L!==G&&(w.state.set("value",L),w.fire("autocomplete",S))}}),w.on("mouseover",function(S){var G=w.tooltip().moveTo(-65535);if(w.statusLevel()&&-1!==S.target.className.indexOf(w.classPrefix+"status")){var L=w.statusMessage()||"Ok",R=G.text(L).show().testMoveRel(S.target,["bc-tc","bc-tl","bc-tr"]);G.classes.toggle("tooltip-n","bc-tc"==R),G.classes.toggle("tooltip-nw","bc-tl"==R),G.classes.toggle("tooltip-ne","bc-tr"==R),G.moveRel(S.target,R)}})},statusLevel:function(x){return arguments.length>0&&this.state.set("statusLevel",x),this.state.get("statusLevel")},statusMessage:function(x){return arguments.length>0&&this.state.set("statusMessage",x),this.state.get("statusMessage")},showMenu:function(){var S,x=this;x.menu||((S=x.settings.menu||[]).length?S={type:"menu",items:S}:S.type=S.type||"menu",x.menu=ee.create(S).parent(x).renderTo(x.getContainerElm()),x.fire("createmenu"),x.menu.reflow(),x.menu.on("cancel",function(G){G.control===x.menu&&x.focus()}),x.menu.on("show hide",function(G){G.control.items().each(function(L){L.active(L.value()==x.value())})}).fire("show"),x.menu.on("select",function(G){x.value(G.control.value())}),x.on("focusin",function(G){"INPUT"==G.target.tagName.toUpperCase()&&x.menu.hide()}),x.aria("expanded",!0)),x.menu.show(),x.menu.layoutRect({w:x.layoutRect().w}),x.menu.moveRel(x.getEl(),x.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var L,R,x=this,w=x.getEl(),S=x.getEl("open"),G=x.layoutRect(),F=0,U=w.firstChild;x.statusLevel()&&"none"!==x.statusLevel()&&(F=parseInt(W.getRuntimeStyle(U,"padding-right"),10)-parseInt(W.getRuntimeStyle(U,"padding-left"),10)),L=S?G.w-W.getSize(S).width-10:G.w-10;var O=document;return O.all&&(!O.documentMode||O.documentMode<=8)&&(R=x.layoutRect().h-2+"px"),B(U).css({width:L-F,lineHeight:R}),x._super(),x},postRender:function(){var x=this;return B(this.getEl("inp")).on("change",function(w){x.state.set("value",w.target.value),x.fire("change",w)}),x._super()},renderHtml:function(){var R,F,q,x=this,w=x._id,S=x.settings,G=x.classPrefix,L=x.state.get("value")||"",U="",O="";return"spellcheck"in S&&(O+=' spellcheck="'+S.spellcheck+'"'),S.maxLength&&(O+=' maxlength="'+S.maxLength+'"'),S.size&&(O+=' size="'+S.size+'"'),S.subtype&&(O+=' type="'+S.subtype+'"'),q='<i id="'+w+'-status" class="mce-status mce-ico" style="display: none"></i>',x.disabled()&&(O+=' disabled="disabled"'),(R=S.icon)&&"caret"!=R&&(R=G+"ico "+G+"i-"+S.icon),F=x.state.get("text"),(R||F)&&(U='<div id="'+w+'-open" class="'+G+"btn "+G+'open" tabIndex="-1" role="button"><button id="'+w+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=R?'<i class="'+R+'"></i>':'<i class="'+G+'caret"></i>')+(F?(R?" ":"")+F:"")+"</button></div>",x.classes.add("has-open")),'<div id="'+w+'" class="'+x.classes+'"><input id="'+w+'-inp" class="'+G+'textbox" value="'+x.encode(L,!1)+'" hidefocus="1"'+O+' placeholder="'+x.encode(S.placeholder)+'" />'+q+U+"</div>"},value:function(x){return arguments.length?(this.state.set("value",x),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(x,w){var S=this;if(0!==x.length){var G=function(R,F){return function(){S.fire("selectitem",{title:F,value:R})}};S.menu?S.menu.items().remove():S.menu=ee.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(S).renderTo(),I.each(x,function(R){S.menu.add({text:R.title,url:R.previewUrl,match:w,classes:"menu-item-ellipsis",onclick:G(R.value,R.title)})}),S.menu.renderNew(),S.hideMenu(),S.menu.on("cancel",function(R){R.control.parent()===S.menu&&(R.stopPropagation(),S.focus(),S.hideMenu())}),S.menu.on("select",function(){S.focus()});var L=S.layoutRect().w;S.menu.layoutRect({w:L,minW:0,maxW:L}),S.menu.reflow(),S.menu.show(),S.menu.moveRel(S.getEl(),S.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else S.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var x=this;x.state.on("change:value",function(S){x.getEl("inp").value!=S.value&&(x.getEl("inp").value=S.value)}),x.state.on("change:disabled",function(S){x.getEl("inp").disabled=S.value}),x.state.on("change:statusLevel",function(S){var G=x.getEl("status"),L=x.classPrefix,R=S.value;W.css(G,"display","none"===R?"none":""),W.toggleClass(G,L+"i-checkmark","ok"===R),W.toggleClass(G,L+"i-warning","warn"===R),W.toggleClass(G,L+"i-error","error"===R),x.classes.toggle("has-status","none"!==R),x.repaint()}),W.on(x.getEl("status"),"mouseleave",function(){x.tooltip().hide()}),x.on("cancel",function(S){x.menu&&x.menu.visible()&&(S.stopPropagation(),x.hideMenu())});var w=function(S,G){G&&G.items().length>0&&G.items().eq(S)[0].focus()};return x.on("keydown",function(S){var G=S.keyCode;"INPUT"===S.target.nodeName&&(G===C.DOWN?(S.preventDefault(),x.fire("autocomplete"),w(0,x.menu)):G===C.UP&&(S.preventDefault(),w(-1,x.menu)))}),x._super()},remove:function(){B(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),he(wl,[ma],function(le){return le.extend({init:function(ee){var W=this;ee.spellcheck=!1,ee.onaction&&(ee.icon="none"),W._super(ee),W.classes.add("colorbox"),W.on("change keyup postrender",function(){W.repaintColor(W.value())})},repaintColor:function(ee){var W=this.getEl("open"),B=W?W.getElementsByTagName("i")[0]:null;if(B)try{B.style.background=ee}catch(C){}},bindStates:function(){var ee=this;return ee.state.on("change:value",function(W){ee.state.get("rendered")&&ee.repaintColor(W.value)}),ee._super()}})}),he(ps,[no,Tr],function(le,ee){return le.extend({showPanel:function(){var W=this,B=W.settings;if(W.active(!0),W.panel)W.panel.show();else{var C=B.panel;C.type&&(C={layout:"grid",items:C}),C.role=C.role||"dialog",C.popover=!0,C.autohide=!0,C.ariaRoot=!0,W.panel=new ee(C).on("hide",function(){W.active(!1)}).on("cancel",function(I){I.stopPropagation(),W.focus(),W.hidePanel()}).parent(W).renderTo(W.getContainerElm()),W.panel.fire("show"),W.panel.reflow()}W.panel.moveRel(W.getEl(),B.popoverAlign||(W.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var W=this;return W.aria("haspopup",!0),W.on("click",function(B){B.control===W&&(W.panel&&W.panel.visible()?W.hidePanel():(W.showPanel(),W.panel.focus(!!B.aria)))}),W._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),he(Vu,[ps,ue],function(le,ee){var W=ee.DOM;return le.extend({init:function(B){this._super(B),this.classes.add("colorbutton")},color:function(B){return B?(this._color=B,this.getEl("preview").style.backgroundColor=B,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var B=this,C=B._id,I=B.classPrefix,x=B.state.get("text"),w=B.settings.icon?I+"ico "+I+"i-"+B.settings.icon:"",S=B.settings.image?" style=\"background-image: url('"+B.settings.image+"')\"":"",G="";return x&&(B.classes.add("btn-has-text"),G='<span class="'+I+'txt">'+B.encode(x)+"</span>"),'<div id="'+C+'" class="'+B.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(w?'<i class="'+w+'"'+S+"></i>":"")+'<span id="'+C+'-preview" class="'+I+'preview"></span>'+G+'</button><button type="button" class="'+I+'open" hidefocus="1" tabindex="-1"> <i class="'+I+'caret"></i></button></div>'},postRender:function(){var B=this,C=B.settings.onclick;return B.on("click",function(I){I.aria&&"down"==I.aria.key||I.control!=B||W.getParent(I.target,"."+B.classPrefix+"open")||(I.stopImmediatePropagation(),C.call(B,I))}),delete B.settings.onclick,B._super()}})}),he(gs,[],function(){var ee=Math.min,W=Math.max,B=Math.round;return function(C){function L(q){var z;return"object"==typeof q?"r"in q?(F=q.r,U=q.g,O=q.b):"v"in q&&function(q,z,te){var N,E,T,v;if(q=(parseInt(q,10)||0)%360,z=parseInt(z,10)/100,te=parseInt(te,10)/100,z=W(0,ee(z,1)),te=W(0,ee(te,1)),0!==z){switch(N=q/60,T=(E=te*z)*(1-Math.abs(N%2-1)),v=te-E,Math.floor(N)){case 0:F=E,U=T,O=0;break;case 1:F=T,U=E,O=0;break;case 2:F=0,U=E,O=T;break;case 3:F=0,U=T,O=E;break;case 4:F=T,U=0,O=E;break;case 5:F=E,U=0,O=T;break;default:F=U=O=0}F=B(255*(F+v)),U=B(255*(U+v)),O=B(255*(O+v))}else F=U=O=B(255*te)}(q.h,q.s,q.v):(z=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(q))?(F=parseInt(z[1],10),U=parseInt(z[2],10),O=parseInt(z[3],10)):(z=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(q))?(F=parseInt(z[1],16),U=parseInt(z[2],16),O=parseInt(z[3],16)):(z=/#([0-F])([0-F])([0-F])/gi.exec(q))&&(F=parseInt(z[1]+z[1],16),U=parseInt(z[2]+z[2],16),O=parseInt(z[3]+z[3],16)),F=F<0?0:F>255?255:F,U=U<0?0:U>255?255:U,O=O<0?0:O>255?255:O,R}var R=this,F=0,U=0,O=0;C&&L(C),R.toRgb=function(){return{r:F,g:U,b:O}},R.toHsv=function(){return q=F,z=U,te=O,E=0,T=0,(_=ee(q/=255,ee(z/=255,te/=255)))==(j=W(q,W(z,te)))?{h:0,s:0,v:100*(T=_)}:(E=(j-_)/j,T=j,{h:B(60*((q==_?3:te==_?1:5)-(q==_?z-te:te==_?q-z:te-q)/(j-_))),s:B(100*E),v:B(100*T)});var q,z,te,E,T,_,j},R.toHex=function(){function q(z){return(z=parseInt(z,10).toString(16)).length>1?z:"0"+z}return"#"+q(F)+q(U)+q(O)},R.parse=L}}),he(Wu,[on,Ii,Rn,gs],function(le,ee,W,B){return le.extend({Defaults:{classes:"widget colorpicker"},init:function(C){this._super(C)},postRender:function(){function C(q,z){var N,E,te=W.getPos(q);return N=z.pageX-te.x,E=z.pageY-te.y,{x:N=Math.max(0,Math.min(N/q.clientWidth,1)),y:E=Math.max(0,Math.min(E/q.clientHeight,1))}}function I(q,z){W.css(F,{top:(360-q.h)/360*100+"%"}),z||W.css(O,{left:q.s+"%",top:100-q.v+"%"}),U.style.background=new B({s:100,v:100,h:q.h}).toHex(),S.color().parse({s:q.s,v:q.v,h:q.h})}function x(q){var z;z=C(U,q),L.s=100*z.x,L.v=100*(1-z.y),I(L),S.fire("change")}function w(q){var z;z=C(R,q),(L=G.toHsv()).h=360*(1-z.y),I(L,!0),S.fire("change")}var L,R,F,U,O,S=this,G=S.color();R=S.getEl("h"),F=S.getEl("hp"),U=S.getEl("sv"),O=S.getEl("svp"),S._repaint=function(){I(L=G.toHsv())},S._super(),S._svdraghelper=new ee(S._id+"-sv",{start:x,drag:x}),S._hdraghelper=new ee(S._id+"-h",{start:w,drag:w}),S._repaint()},rgb:function(){return this.color().toRgb()},value:function(C){var I=this;return arguments.length?(I.color().parse(C),void(I._rendered&&I._repaint())):I.color().toHex()},color:function(){return this._color||(this._color=new B),this._color},renderHtml:function(){var S,I=this,x=I._id,w=I.classPrefix,G="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return S='<div id="'+x+'-h" class="'+w+'colorpicker-h" style="background: -ms-linear-gradient(top,'+G+");background: linear-gradient(to bottom,"+G+');">'+function(){var R,F,O,q,U="";for(O="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",R=0,F=(q=G.split(",")).length-1;R<F;R++)U+='<div class="'+w+'colorpicker-h-chunk" style="height:'+100/F+"%;"+O+q[R]+",endColorstr="+q[R+1]+");-ms-"+O+q[R]+",endColorstr="+q[R+1]+')"></div>';return U}()+'<div id="'+x+'-hp" class="'+w+'colorpicker-h-marker"></div></div>','<div id="'+x+'" class="'+I.classes+'"><div id="'+x+'-sv" class="'+w+'colorpicker-sv"><div class="'+w+'colorpicker-overlay1"><div class="'+w+'colorpicker-overlay2"><div id="'+x+'-svp" class="'+w+'colorpicker-selector1"><div class="'+w+'colorpicker-selector2"></div></div></div></div></div>'+S+"</div>"}})}),he(ms,[on],function(le){return le.extend({init:function(ee){var W=this;ee.delimiter||(ee.delimiter="\xbb"),W._super(ee),W.classes.add("path"),W.canFocus=!0,W.on("click",function(B){var C;(C=B.target.getAttribute("data-index"))&&W.fire("select",{value:W.row()[C],index:C})}),W.row(W.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(ee){return arguments.length?(this.state.set("row",ee),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var ee=this;return ee.state.on("change:row",function(W){ee.innerHtml(ee._getDataPathHtml(W.value))}),ee._super()},_getDataPathHtml:function(ee){var C,I,W=this,B=ee||[],x="",w=W.classPrefix;for(C=0,I=B.length;C<I;C++)x+=(C>0?'<div class="'+w+'divider" aria-hidden="true"> '+W.settings.delimiter+" </div>":"")+'<div role="button" class="'+w+"path-item"+(C==I-1?" "+w+"last":"")+'" data-index="'+C+'" tabindex="-1" id="'+W._id+"-"+C+'" aria-level="'+(C+1)+'">'+B[C].name+"</div>";return x||(x='<div class="'+w+'path-item">\xa0</div>'),x}})}),he(vs,[ms],function(le){return le.extend({postRender:function(){function ee(C){return!(1!==C.nodeType||"BR"!=C.nodeName&&!C.getAttribute("data-mce-bogus")&&"bookmark"!==C.getAttribute("data-mce-type"))}var W=this,B=W.settings.editor;return!1!==B.settings.elementpath&&(W.on("select",function(C){B.focus(),B.selection.select(this.row()[C.index].element),B.nodeChanged()}),B.on("nodeChange",function(C){for(var I=[],x=C.parents,w=x.length;w--;)if(1==x[w].nodeType&&!ee(x[w])){var S=B.fire("ResolveName",{name:x[w].nodeName.toLowerCase(),target:x[w]});if(S.isDefaultPrevented()||I.push({name:S.name,element:x[w]}),S.isPropagationStopped())break}W.row(I)})),W._super()}})}),he(va,[Gi],function(le){return le.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var ee=this,W=ee._layout,B=ee.classPrefix;return ee.classes.add("formitem"),W.preRender(ee),'<div id="'+ee._id+'" class="'+ee.classes+'" hidefocus="1" tabindex="-1">'+(ee.settings.title?'<div id="'+ee._id+'-title" class="'+B+'title">'+ee.settings.title+"</div>":"")+'<div id="'+ee._id+'-body" class="'+ee.bodyClasses+'">'+(ee.settings.html||"")+W.renderHtml(ee)+"</div></div>"}})}),he(ys,[Gi,va,Z],function(le,ee,W){return le.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var B=this,C=B.items();B.settings.formItemDefaults||(B.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),C.each(function(I){var x,w=I.settings.label;w&&((x=new ee(W.extend({items:{type:"label",id:I._id+"-l",text:w,flex:0,forId:I._id,disabled:I.disabled()}},B.settings.formItemDefaults))).type="formitem",I.aria("labelledby",I._id+"-l"),void 0===I.settings.flex&&(I.settings.flex=1),B.replace(I,x),x.add(I))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var B=this;B._super(),B.fromJSON(B.settings.data)},bindStates:function(){function B(){var w,S,I=0,x=[];if(!1!==C.settings.labelGapCalc)for(("children"==C.settings.labelGapCalc?C.find("formitem"):C.items()).filter("formitem").each(function(L){var R=L.items()[0],F=R.getEl().clientWidth;I=F>I?F:I,x.push(R)}),S=C.settings.labelGap||0,w=x.length;w--;)x[w].settings.minWidth=I+S}var C=this;C._super(),C.on("show",B),B()}})}),he(Cl,[ys],function(le){return le.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var ee=this,W=ee._layout,B=ee.classPrefix;return ee.preRender(),W.preRender(ee),'<fieldset id="'+ee._id+'" class="'+ee.classes+'" hidefocus="1" tabindex="-1">'+(ee.settings.title?'<legend id="'+ee._id+'-title" class="'+B+'fieldset-title">'+ee.settings.title+"</legend>":"")+'<div id="'+ee._id+'-body" class="'+ee.bodyClasses+'">'+(ee.settings.html||"")+W.renderHtml(ee)+"</div></fieldset>"}})}),he(zo,[ue,ct,P,yl,Z,ve],function(le,ee,W,B,C,I){var x=C.trim,w=function(Y,ae,ge,Ee,Ie){return{type:Y,title:ae,url:ge,level:Ee,attach:Ie}},L=function(Y){return Y.innerText||Y.textContent},U=function(Y){return function(Y){return Y&&"A"===Y.nodeName&&(Y.id||Y.name)}(Y)&&q(Y)},O=function(Y){return Y&&/^(H[1-6])$/.test(Y.nodeName)},q=function(Y){return function(Y){for(;Y=Y.parentNode;){var ae=Y.contentEditable;if(ae&&"inherit"!==ae)return I.isContentEditableTrue(Y)}return!1}(Y)&&!I.isContentEditableFalse(Y)},z=function(Y){return O(Y)&&q(Y)},N=function(Y){var ae=function(Y){return Y.id?Y.id:B.uuid("h")}(Y);return w("header",L(Y),"#"+ae,function(Y){return O(Y)?parseInt(Y.nodeName.substr(1),10):0}(Y),function(){Y.id=ae})},E=function(Y){var ae=Y.id||Y.name,ge=L(Y);return w("anchor",ge||"#"+ae,"#"+ae,0,ee.noop)},j=function(Y){return x(Y.title).length>0};return{find:function(Y){var ae=function(Y){return function(Y,ae){return le.DOM.select("h1,h2,h3,h4,h5,h6,a:not([href])",ae)}(0,Y)}(Y);return W.filter(function(Y){return W.map(W.filter(Y,z),N)}(ae).concat(function(Y){return W.map(W.filter(Y,U),E)}(ae)),j)}}}),he(Sl,[ma,Z,P,ct,It,zo],function(le,ee,W,B,C,I){var x={},S=function(T){return{title:T.title,value:{title:{raw:T.title},url:T.url,attach:T.attach}}},L=function(T,v){return{title:T,value:{title:T,url:v,attach:B.noop}}},F=function(T,v,_){var j=v in T?T[v]:_;return!1===j?null:j},q=function(T,v){var _=T.toLowerCase(),j=ee.grep(v,function(ie){return-1!==ie.title.toLowerCase().indexOf(_)});return 1===j.length&&j[0].title===T?[]:j},te=function(T,v,_,j){var ie=function(Y){var ge=function(T,v,_,j){var Ie,Ae,Pe,ie={title:"-"},Y=function(Ie){var Ae=W.filter(Ie[_],function(Pe){return function(T,v){return!W.find(v,function(j){return j.url===T})}(Pe,v)});return ee.map(Ae,function(Pe){return{title:Pe,value:{title:Pe,url:Pe,attach:B.noop}}})},ae=function(Ie){return function(T){return ee.map(T,S)}(W.filter(v,function(Pe){return Pe.type==Ie}))};return!1===j.typeahead_urls?[]:"file"===_?function(Ie){return W.reduce(Ie,function(Ae,Pe){return 0===Ae.length||0===Pe.length?Ae.concat(Pe):Ae.concat(ie,Pe)},[])}([q(T,Y(x)),q(T,ae("header")),q(T,(Ie=ae("anchor"),Ae=F(j,"anchor_top","#top"),Pe=F(j,"anchor_bottom","#bottom"),null!==Ae&&Ie.unshift(L("<top>",Ae)),null!==Pe&&Ie.push(L("<bottom>",Pe)),Ie))]):q(T,Y(x))}(Y,I.find(_),j,v);T.showAutoComplete(ge,Y)};T.on("autocomplete",function(){ie(T.value())}),T.on("selectitem",function(Y){var ae=Y.value;T.value(ae.url);var ge=function(T){var v=T.title;return v.raw?v.raw:v}(ae);T.fire("change","image"===j?{meta:{alt:ge,attach:ae.attach}}:{meta:{text:ge,attach:ae.attach}}),T.focus()}),T.on("click",function(Y){0===T.value().length&&"INPUT"===Y.target.nodeName&&ie("")}),T.on("PostRender",function(){T.getRoot().on("submit",function(Y){Y.isDefaultPrevented()||function(T,v){var _=x[v];/^https?/.test(T)&&(_?-1===W.indexOf(_,T)&&(x[v]=_.slice(0,5).concat(T)):x[v]=[T])}(T.value(),j)})})};return le.extend({init:function(T){var ie,Y,ae,v=this,_=tinymce.activeEditor,j=_.settings,ge=T.filetype;T.spellcheck=!1,(ae=j.file_picker_types||j.file_browser_callback_types)&&(ae=ee.makeMap(ae,/[, ]/)),ae&&!ae[ge]||(!(Y=j.file_picker_callback)||ae&&!ae[ge]?!(Y=j.file_browser_callback)||ae&&!ae[ge]||(ie=function(){Y(v.getEl("inp").id,v.value(),ge,window)}):ie=function(){var Ee=v.fire("beforecall").meta;Ee=ee.extend({filetype:ge},Ee),Y.call(_,function(Ie,Ae){v.value(Ie).fire("change",{meta:Ae})},v.value(),Ee)}),ie&&(T.icon="browse",T.onaction=ie),v._super(T),te(v,j,_.getBody(),ge),function(T,v,_){var j=v.filepicker_validator_handler;j&&T.state.on("change:value",function(Y){!function(Y){0===Y.length?T.statusLevel("none"):j({url:Y,type:_},function(ae){var ge=function(T){var v=T.status,_=T.message;return"valid"===v?{status:"ok",message:_}:"unknown"===v||"invalid"===v?{status:"warn",message:_}:{status:"none",message:""}}(ae);T.statusMessage(ge.message),T.statusLevel(ge.status)})}(Y.value)})}(v,j,ge)}})}),he(Ml,[pa],function(le){return le.extend({recalc:function(ee){var W=ee.layoutRect(),B=ee.paddingBox;ee.items().filter(":visible").each(function(C){C.layoutRect({x:B.left,y:B.top,w:W.innerW-B.right-B.left,h:W.innerH-B.top-B.bottom}),C.recalc&&C.recalc()})}})}),he(Gu,[pa],function(le){return le.extend({recalc:function(ee){var W,B,C,I,x,w,S,G,L,R,F,U,O,q,te,E,T,v,_,j,ie,Y,ae,ge,Ee,Ie,Ae,Pe,De,ze,Ve,de,we,Re,We,Ze,ft,N=[],Et=Math.max,Vt=Math.min;for(C=ee.items().filter(":visible"),I=ee.layoutRect(),x=ee.paddingBox,w=ee.settings,U=ee.isRtl()?w.direction||"row-reversed":w.direction,S=w.align,G=ee.isRtl()?w.pack||"end":w.pack,L=w.spacing||0,"row-reversed"!=U&&"column-reverse"!=U||(C=C.set(C.toArray().reverse()),U=U.split("-")[0]),"column"==U?(ge="y",Y="h",ae="minH",Ee="maxH",Ae="innerH",Ie="top",Pe="deltaH",De="contentH",Re="left",de="w",ze="x",Ve="innerW",we="minW",We="right",Ze="deltaW",ft="contentW"):(ge="x",Y="w",ae="minW",Ee="maxW",Ae="innerW",Ie="left",Pe="deltaW",De="contentW",Re="top",de="h",ze="y",Ve="innerH",we="minH",We="bottom",Ze="deltaH",ft="contentH"),F=I[Ae]-x[Ie]-x[Ie],ie=R=0,W=0,B=C.length;W<B;W++)q=(O=C[W]).layoutRect(),F-=W<B-1?L:0,(te=O.settings.flex)>0&&(R+=te,q[Ee]&&N.push(O),q.flex=te),F-=q[ae],(E=x[Re]+q[we]+x[We])>ie&&(ie=E);if((_={})[ae]=F<0?I[ae]-F+I[Pe]:I[Ae]-F+I[Pe],_[we]=ie+I[Ze],_[De]=I[Ae]-F,_[ft]=ie,_.minW=Vt(_.minW,I.maxW),_.minH=Vt(_.minH,I.maxH),_.minW=Et(_.minW,I.startMinWidth),_.minH=Et(_.minH,I.startMinHeight),!I.autoResize||_.minW==I.minW&&_.minH==I.minH){for(v=F/R,W=0,B=N.length;W<B;W++)(E=(q=(O=N[W]).layoutRect())[ae]+q.flex*v)>(T=q[Ee])?(F-=q[Ee]-q[ae],R-=q.flex,q.flex=0,q.maxFlexSize=T):q.maxFlexSize=0;for(v=F/R,j=x[Ie],_={},0===R&&("end"==G?j=F+x[Ie]:"center"==G?(j=Math.round(I[Ae]/2-(I[Ae]-F)/2)+x[Ie])<0&&(j=x[Ie]):"justify"==G&&(j=x[Ie],L=Math.floor(F/(C.length-1)))),_[ze]=x[Re],W=0,B=C.length;W<B;W++)E=(q=(O=C[W]).layoutRect()).maxFlexSize||q[ae],"center"===S?_[ze]=Math.round(I[Ve]/2-q[de]/2):"stretch"===S?(_[de]=Et(q[we]||0,I[Ve]-x[Re]-x[We]),_[ze]=x[Re]):"end"===S&&(_[ze]=I[Ve]-q[de]-x.top),q.flex>0&&(E+=q.flex*v),_[Y]=E,_[ge]=j,O.layoutRect(_),O.recalc&&O.recalc(),j+=E+L}else if(_.w=_.minW,_.h=_.minH,ee.layoutRect(_),this.recalc(ee),null===ee._lastRect){var Kt=ee.parent();Kt&&(Kt._lastRect=null,Kt.recalc())}}})}),he(Tl,[fs],function(le){return le.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(ee){ee.items().filter(":visible").each(function(W){W.recalc&&W.recalc()})},isNative:function(){return!0}})}),he(Uu,[ue],function(le){var ee=function(w,S,G){for(;G!==S;){if(G.style[w])return G.style[w];G=G.parentNode}return""},C=function(w,S){return le.DOM.getStyle(S,w,!0)};return{getFontSize:function(w,S){var G=ee("fontSize",w,S);return""!==G?G:C("fontSize",S)},getFontFamily:function(w,S){var G=ee("fontFamily",w,S),L=""!==G?G:C("fontFamily",S);return L!==ht?function(w){return w.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}(L):""},toPt:function(w){return/[0-9.]+px$/.test(w)?Math.round(72*parseInt(w,10)/96)+"pt":w}}}),he(kl,[Ei,on,Tr,Z,P,ue,ds,H,Uu],function(le,ee,W,B,C,I,x,w,S){function R(O){function q(Pe,De){return function(){var ze=this;O.on("nodeChange",function(Ve){var de=O.formatter,we=null;F(Ve.parents,function(Re){if(F(Pe,function(We){if(De?de.matchNode(Re,De,{value:We.value})&&(we=We.value):de.matchNode(Re,We.value)&&(we=We.value),we)return!1}),we)return!1}),ze.value(we)})}}function te(Pe){return function(){var De=this;O.on("nodeChange",function(ze){var Ve,de,we=null;Ve=S.getFontSize(O.getBody(),ze.element),de=S.toPt(Ve),F(Pe,function(Re){Re.value===Ve?we=Ve:Re.value===de&&(we=de)}),De.value(we),we||De.text(de)})}}function N(Pe){for(var De=(Pe=Pe.replace(/;$/,"").split(";")).length;De--;)Pe[De]=Pe[De].split("=");return Pe}function T(Pe){return function(){var De=this;O.formatter?O.formatter.formatChanged(Pe,function(ze){De.active(ze)}):O.on("init",function(){O.formatter.formatChanged(Pe,function(ze){De.active(ze)})})}}function v(Pe){return function(){function De(){return!!O.undoManager&&O.undoManager["redo"==Pe?"hasRedo":"hasUndo"]()}var ze=this;ze.disabled(!De()),O.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){ze.disabled(O.readonly||!De())})}}function j(Pe){Pe.control&&(Pe=Pe.control.value()),Pe&&O.execCommand("mceToggleFormat",!1,Pe)}function ie(Pe){var De=Pe.length;return B.each(Pe,function(ze){ze.menu&&(ze.hidden=0===ie(ze.menu));var Ve=ze.format;Ve&&(ze.hidden=!O.formatter.canApply(Ve)),ze.hidden&&De--}),De}function Y(Pe){var De=Pe.items().length;return Pe.items().each(function(ze){ze.menu&&ze.visible(Y(ze.menu)>0),!ze.menu&&ze.settings.menu&&ze.visible(ie(ze.settings.menu)>0);var Ve=ze.settings.format;Ve&&ze.visible(O.formatter.canApply(Ve)),ze.visible()||De--}),De}var ae,ze,Ve,de;ze=0,Ve=[],de=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],O.on("init",function(){F(Ve,function(we){O.formatter.register(we.name,we)})}),ae={type:"menu",items:function Pe(we){var Re=[];if(we)return F(we,function(We){var Ze={text:We.title,icon:We.icon};if(We.items)Ze.menu=Pe(We.items);else{var ft=We.format||"custom"+ze++;We.format||(We.name=ft,Ve.push(We)),Ze.format=ft,Ze.cmd=We.cmd}Re.push(Ze)}),Re}(O.settings.style_formats_merge?O.settings.style_formats?de.concat(O.settings.style_formats):de:O.settings.style_formats||de),onPostRender:function(we){O.fire("renderFormatsMenu",{control:we.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return O.formatter.getCssText(this.settings.format)},onPostRender:function(){var we=this;we.parent().on("show",function(){var Re,We;(Re=we.settings.format)&&(we.disabled(!O.formatter.canApply(Re)),we.active(O.formatter.match(Re))),(We=we.settings.cmd)&&we.active(O.queryCommandState(We))})},onclick:function(){this.settings.format&&j(this.settings.format),this.settings.cmd&&O.execCommand(this.settings.cmd)}}},F({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(Pe,De){O.addButton(De,{tooltip:Pe,onPostRender:T(De),onclick:function(){j(De)}})}),F({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(Pe,De){O.addButton(De,{tooltip:Pe[0],cmd:Pe[1]})}),F({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(Pe,De){O.addButton(De,{tooltip:Pe[0],cmd:Pe[1],onPostRender:T(De)})});var Ee=function(Pe){var De,ze;if("string"==typeof Pe)ze=Pe.split(" ");else if(B.isArray(Pe))return U(B.map(Pe,Ee));return De=B.grep(ze,function(Ve){return"|"===Ve||Ve in O.menuItems}),B.map(De,function(Ve){return"|"===Ve?{text:"-"}:O.menuItems[Ve]})};O.addButton("undo",{tooltip:"Undo",onPostRender:v("undo"),cmd:"undo"}),O.addButton("redo",{tooltip:"Redo",onPostRender:v("redo"),cmd:"redo"}),O.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),O.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:v("undo"),cmd:"undo"}),O.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:v("redo"),cmd:"redo"}),O.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var Pe=this;O.on("VisualAid",function(De){Pe.active(De.hasVisual)}),Pe.active(O.hasVisual)},cmd:"mceToggleVisualAid"}),O.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),O.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){var Pe;this.menu.add(function(Pe){var De=Pe;return De.length>0&&"-"===De[0].text&&(De=De.slice(1)),De.length>0&&"-"===De[De.length-1].text&&(De=De.slice(0,De.length-1)),De}((Pe=O.settings).insert_button_items?Ee(Pe.insert_button_items):function(Pe){var De=[{text:"-"}],ze=B.grep(O.menuItems,function(Ve){return"insert"===Ve.context});return B.each(ze,function(Ve){"before"==Ve.separator&&De.push({text:"|"}),Ve.prependToContext?De.unshift(Ve):De.push(Ve),"after"==Ve.separator&&De.push({text:"|"})}),De}())),this.menu.renderNew()}}),F({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(Pe,De){O.addMenuItem(De,{text:Pe[0],icon:De,shortcut:Pe[2],cmd:Pe[1]})}),O.on("mousedown",function(){W.hideAll()}),O.addButton("styleselect",{type:"menubutton",text:"Formats",menu:ae,onShowMenu:function(){O.settings.style_formats_autohide&&Y(this.menu)}}),O.addButton("formatselect",function(){var Pe=[],De=N(O.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return F(De,function(ze){Pe.push({text:ze[0],value:ze[1],textStyle:function(){return O.formatter.getCssText(ze[1])}})}),{type:"listbox",text:De[0][0],values:Pe,fixedWidth:!0,onselect:j,onPostRender:q(Pe)}}),O.addButton("fontselect",function(){var Pe,De=[],ze=N(O.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return F(ze,function(Ve){De.push({text:{raw:Ve[0]},value:Ve[1],textStyle:-1==Ve[1].indexOf("dings")?"font-family:"+Ve[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:De,fixedWidth:!0,onPostRender:(Pe=De,function(){var De=this,ze=function(Ve){return Ve?Ve.split(",")[0]:""};O.on("nodeChange",function(Ve){var de,we=null;de=S.getFontFamily(O.getBody(),Ve.element),F(Pe,function(Re){Re.value.toLowerCase()===de.toLowerCase()&&(we=Re.value)}),F(Pe,function(Re){we||ze(Re.value).toLowerCase()!==ze(de).toLowerCase()||(we=Re.value)}),De.value(we),!we&&de&&De.text(ze(de))})}),onselect:function(Ve){Ve.control.settings.value&&O.execCommand("FontName",!1,Ve.control.settings.value)}}}),O.addButton("fontsizeselect",function(){var Pe=[];return F((O.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(Ve){var de=Ve,we=Ve,Re=Ve.split("=");Re.length>1&&(de=Re[0],we=Re[1]),Pe.push({text:de,value:we})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:Pe,fixedWidth:!0,onPostRender:te(Pe),onclick:function(Ve){Ve.control.settings.value&&O.execCommand("FontSize",!1,Ve.control.settings.value)}}}),O.addMenuItem("formats",{text:"Formats",menu:ae})}var F=B.each,U=function(O){return C.reduce(O,function(q,z){return q.concat(z)},[])};x.on("AddEditor",function(O){var q=O.editor;(function(O){O.on("ScriptsLoaded",function(){O.rtl&&(le.rtl=!0)})})(q),R(q),function(O){O.settings.ui_container&&(w.container=I.DOM.select(O.settings.ui_container)[0])}(q)}),le.translate=function(O){return x.translate(O)},ee.tooltips=!w.iOS}),he(xs,[pa],function(le){return le.extend({recalc:function(ee){var W,B,C,I,x,w,S,G,L,R,F,U,O,q,z,te,N,E,T,v,_,j,ie,ge,Ee,Ie,Ae,Pe,Y=[],ae=[];for((W=ee.settings,I=ee.items().filter(":visible"),x=ee.layoutRect(),C=W.columns||Math.ceil(Math.sqrt(I.length)),B=Math.ceil(I.length/C),E=W.spacingH||W.spacing||0,T=W.spacingV||W.spacing||0,v=W.alignH||W.align,_=W.alignV||W.align,te=ee.paddingBox,Pe="reverseRows"in W?W.reverseRows:ee.isRtl(),v&&"string"==typeof v&&(v=[v]),_&&"string"==typeof _&&(_=[_]),F=0);F<C;F++)Y.push(0);for(U=0;U<B;U++)ae.push(0);for(U=0;U<B;U++)for(F=0;F<C&&(R=I[U*C+F]);F++)Ee=(L=R.layoutRect()).minH,Y[F]=(ge=L.minW)>Y[F]?ge:Y[F],ae[U]=Ee>ae[U]?Ee:ae[U];for(Ie=x.innerW-te.left-te.right,j=0,F=0;F<C;F++)j+=Y[F]+(F>0?E:0),Ie-=(F>0?E:0)+Y[F];for(Ae=x.innerH-te.top-te.bottom,ie=0,U=0;U<B;U++)ie+=ae[U]+(U>0?T:0),Ae-=(U>0?T:0)+ae[U];if(ie+=te.top+te.bottom,(G={}).minW=(j+=te.left+te.right)+(x.w-x.innerW),G.minH=ie+(x.h-x.innerH),G.contentW=G.minW-x.deltaW,G.contentH=G.minH-x.deltaH,G.minW=Math.min(G.minW,x.maxW),G.minH=Math.min(G.minH,x.maxH),G.minW=Math.max(G.minW,x.startMinWidth),G.minH=Math.max(G.minH,x.startMinHeight),!x.autoResize||G.minW==x.minW&&G.minH==x.minH){var ze;x.autoResize&&((G=ee.layoutRect(G)).contentW=G.minW-x.deltaW,G.contentH=G.minH-x.deltaH),ze="start"==W.packV?0:Ae>0?Math.floor(Ae/B):0;var Ve=0,de=W.flexWidths;if(de)for(F=0;F<de.length;F++)Ve+=de[F];else Ve=C;var we=Ie/Ve;for(F=0;F<C;F++)Y[F]+=de?de[F]*we:we;for(q=te.top,U=0;U<B;U++){for(O=te.left,S=ae[U]+ze,F=0;F<C&&(R=I[Pe?U*C+C-1-F:U*C+F]);F++)z=R.settings,L=R.layoutRect(),w=Math.max(Y[F],L.startMinWidth),L.x=O,L.y=q,"center"==(N=z.alignH||(v?v[F]||v[0]:null))?L.x=O+w/2-L.w/2:"right"==N?L.x=O+w-L.w:"stretch"==N&&(L.w=w),"center"==(N=z.alignV||(_?_[F]||_[0]:null))?L.y=q+S/2-L.h/2:"bottom"==N?L.y=q+S-L.h:"stretch"==N&&(L.h=S),R.layoutRect(L),O+=w+E,R.recalc&&R.recalc();q+=S+T}}else if(G.w=G.minW,G.h=G.minH,ee.layoutRect(G),this.recalc(ee),null===ee._lastRect){var Re=ee.parent();Re&&(Re._lastRect=null,Re.recalc())}}})}),he(bs,[on,M],function(le,ee){return le.extend({renderHtml:function(){var W=this;return W.classes.add("iframe"),W.canFocus=!1,'<iframe id="'+W._id+'" class="'+W.classes+'" tabindex="-1" src="'+(W.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(W){this.getEl().src=W},html:function(W,B){var C=this,I=this.getEl().contentWindow.document.body;return I?(I.innerHTML=W,B&&B()):ee.setTimeout(function(){C.html(W)}),this}})}),he(_s,[on],function(le){return le.extend({init:function(ee){var W=this;W._super(ee),W.classes.add("widget").add("infobox"),W.canFocus=!1},severity:function(ee){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(ee)},help:function(ee){this.state.set("help",ee)},renderHtml:function(){var ee=this,W=ee.classPrefix;return'<div id="'+ee._id+'" class="'+ee.classes+'"><div id="'+ee._id+'-body">'+ee.encode(ee.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+W+"ico "+W+'i-help"></i></button></div></div>'},bindStates:function(){var ee=this;return ee.state.on("change:text",function(W){ee.getEl("body").firstChild.data=ee.encode(W.value),ee.state.get("rendered")&&ee.updateLayoutRect()}),ee.state.on("change:help",function(W){ee.classes.toggle("has-help",W.value),ee.state.get("rendered")&&ee.updateLayoutRect()}),ee._super()}})}),he(ju,[on,Rn],function(le,ee){return le.extend({init:function(W){var B=this;B._super(W),B.classes.add("widget").add("label"),B.canFocus=!1,W.multiline&&B.classes.add("autoscroll"),W.strong&&B.classes.add("strong")},initLayoutRect:function(){var W=this,B=W._super();return W.settings.multiline&&(ee.getSize(W.getEl()).width>B.maxW&&(B.minW=B.maxW,W.classes.add("multiline")),W.getEl().style.width=B.minW+"px",B.startMinH=B.h=B.minH=Math.min(B.maxH,ee.getSize(W.getEl()).height)),B},repaint:function(){var W=this;return W.settings.multiline||(W.getEl().style.lineHeight=W.layoutRect().h+"px"),W._super()},severity:function(W){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(W)},renderHtml:function(){var B,C,W=this,I=W.settings.forId;return!I&&(C=W.settings.forName)&&(B=W.getRoot().find("#"+C)[0])&&(I=B._id),I?'<label id="'+W._id+'" class="'+W.classes+'"'+(I?' for="'+I+'"':"")+">"+W.encode(W.state.get("text"))+"</label>":'<span id="'+W._id+'" class="'+W.classes+'">'+W.encode(W.state.get("text"))+"</span>"},bindStates:function(){var W=this;return W.state.on("change:text",function(B){W.innerHtml(W.encode(B.value)),W.state.get("rendered")&&W.updateLayoutRect()}),W._super()}})}),he(ws,[Gi],function(le){return le.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(ee){this._super(ee),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(W){W.classes.add("toolbar-item")}),this._super()}})}),he(Ci,[ws],function(le){return le.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),he(Fo,[no,Ri,Ci],function(le,ee,W){var C=le.extend({init:function(I){var x=this;x._renderOpen=!0,x._super(I),I=x.settings,x.classes.add("menubtn"),I.fixedWidth&&x.classes.add("fixed-width"),x.aria("haspopup",!0),x.state.set("menu",I.menu||x.render())},showMenu:function(I){var w,x=this;return x.menu&&x.menu.visible()&&!1!==I?x.hideMenu():(x.menu||((w=x.state.get("menu")||[]).length?w={type:"menu",items:w}:w.type=w.type||"menu",x.menu=w.renderTo?w.parent(x).show().renderTo():ee.create(w).parent(x).renderTo(),x.fire("createmenu"),x.menu.reflow(),x.menu.on("cancel",function(S){S.control.parent()===x.menu&&(S.stopPropagation(),x.focus(),x.hideMenu())}),x.menu.on("select",function(){x.focus()}),x.menu.on("show hide",function(S){S.control==x.menu&&x.activeMenu("show"==S.type),x.aria("expanded","show"==S.type)}).fire("show")),x.menu.show(),x.menu.layoutRect({w:x.layoutRect().w}),x.menu.moveRel(x.getEl(),x.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void x.fire("showmenu"))},hideMenu:function(){var I=this;I.menu&&(I.menu.items().each(function(x){x.hideMenu&&x.hideMenu()}),I.menu.hide())},activeMenu:function(I){this.classes.toggle("active",I)},renderHtml:function(){var G,I=this,x=I._id,w=I.classPrefix,S=I.settings.icon,L=I.state.get("text"),R="";return(G=I.settings.image)?(S="none","string"!=typeof G&&(G=window.getSelection?G[0]:G[1]),G=" style=\"background-image: url('"+G+"')\""):G="",L&&(I.classes.add("btn-has-text"),R='<span class="'+w+'txt">'+I.encode(L)+"</span>"),S=I.settings.icon?w+"ico "+w+"i-"+S:"",I.aria("role",I.parent()instanceof W?"menuitem":"button"),'<div id="'+x+'" class="'+I.classes+'" tabindex="-1" aria-labelledby="'+x+'"><button id="'+x+'-open" role="presentation" type="button" tabindex="-1">'+(S?'<i class="'+S+'"'+G+"></i>":"")+R+' <i class="'+w+'caret"></i></button></div>'},postRender:function(){var I=this;return I.on("click",function(x){x.control===I&&function(I,x){for(;I;){if(x===I)return!0;I=I.parentNode}return!1}(x.target,I.getEl())&&(I.focus(),I.showMenu(!x.aria),x.aria&&I.menu.items().filter(":visible")[0].focus())}),I.on("mouseenter",function(x){var G,w=x.control,S=I.parent();w&&S&&w instanceof C&&w.parent()==S&&(S.items().filter("MenuButton").each(function(L){L.hideMenu&&L!=w&&(L.menu&&L.menu.visible()&&(G=!0),L.hideMenu())}),G&&(w.focus(),w.showMenu()))}),I._super()},bindStates:function(){var I=this;return I.state.on("change:menu",function(){I.menu&&I.menu.remove(),I.menu=null}),I._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return C}),he(Cs,[on,Ri,H,M],function(le,ee,W,B){return le.extend({Defaults:{border:0,role:"menuitem"},init:function(C){var x,I=this;I._super(C),C=I.settings,I.classes.add("menu-item"),C.menu&&I.classes.add("menu-item-expand"),C.preview&&I.classes.add("menu-item-preview"),"-"!==(x=I.state.get("text"))&&"|"!==x||(I.classes.add("menu-item-sep"),I.aria("role","separator"),I.state.set("text","-")),C.selectable&&(I.aria("role","menuitemcheckbox"),I.classes.add("menu-item-checkbox"),C.icon="selected"),C.preview||C.selectable||I.classes.add("menu-item-normal"),I.on("mousedown",function(w){w.preventDefault()}),C.menu&&!C.ariaHideMenu&&I.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var x,C=this,I=C.settings,w=C.parent();if(w.items().each(function(G){G!==C&&G.hideMenu()}),I.menu){(x=C.menu)?x.show():((x=I.menu).length?x={type:"menu",items:x}:x.type=x.type||"menu",w.settings.itemDefaults&&(x.itemDefaults=w.settings.itemDefaults),(x=C.menu=ee.create(x).parent(C).renderTo()).reflow(),x.on("cancel",function(G){G.stopPropagation(),C.focus(),x.hide()}),x.on("show hide",function(G){G.control.items&&G.control.items().each(function(L){L.active(L.settings.selected)})}).fire("show"),x.on("hide",function(G){G.control===x&&C.classes.remove("selected")}),x.submenu=!0),x._parentMenu=w,x.classes.add("menu-sub");var S=x.testMoveRel(C.getEl(),C.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);x.moveRel(C.getEl(),S),x.rel=S,S="menu-sub-"+S,x.classes.remove(x._lastRel).add(S),x._lastRel=S,C.classes.add("selected"),C.aria("expanded",!0)}},hideMenu:function(){var C=this;return C.menu&&(C.menu.items().each(function(I){I.hideMenu&&I.hideMenu()}),C.menu.hide(),C.aria("expanded",!1)),C},renderHtml:function(){function I(N){return N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(N){var E=L.match||"";return E?N.replace(new RegExp(I(E),"gi"),function(T){return"!mce~match["+T+"]mce~match!"}):N}function w(N){return N.replace(new RegExp(I("!mce~match["),"g"),"<b>").replace(new RegExp(I("]mce~match!"),"g"),"</b>")}var te,S=this,G=S._id,L=S.settings,R=S.classPrefix,F=S.state.get("text"),U=S.settings.icon,O="",q=L.shortcut,z=S.encode(L.url);return U&&S.parent().classes.add("menu-has-icons"),L.image&&(O=" style=\"background-image: url('"+L.image+"')\""),q&&(q=function(N){var E,T,v;for(v=W.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},N=N.split("+"),E=0;E<N.length;E++)(T=v[N[E].toLowerCase()])&&(N[E]=T);return N.join("+")}(q)),U=R+"ico "+R+"i-"+(S.settings.icon||"none"),te="-"!==F?'<i class="'+U+'"'+O+"></i>\xa0":"",F=w(S.encode(x(F))),z=w(S.encode(x(z))),'<div id="'+G+'" class="'+S.classes+'" tabindex="-1">'+te+("-"!==F?'<span id="'+G+'-text" class="'+R+'text">'+F+"</span>":"")+(q?'<div id="'+G+'-shortcut" class="'+R+'menu-shortcut">'+q+"</div>":"")+(L.menu?'<div class="'+R+'caret"></div>':"")+(z?'<div class="'+R+'menu-item-link">'+z+"</div>":"")+"</div>"},postRender:function(){var C=this,I=C.settings,x=I.textStyle;if("function"==typeof x&&(x=x.call(this)),x){var w=C.getEl("text");w&&w.setAttribute("style",x)}return C.on("mouseenter click",function(S){S.control===C&&(I.menu||"click"!==S.type?(C.showMenu(),S.aria&&C.menu.focus(!0)):(C.fire("select"),B.requestAnimationFrame(function(){C.parent().hideAll()})))}),C._super(),C},hover:function(){var C=this;return C.parent().items().each(function(I){I.classes.remove("selected")}),C.classes.toggle("selected",!0),C},active:function(C){return void 0!==C&&this.aria("checked",C),this._super(C)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),he(Ss,[re,Ei,M],function(le,ee,W){return function(B,C){var x,S,I=this,w=ee.classPrefix;I.show=function(G,L){function R(){x&&(le(B).append('<div class="'+w+"throbber"+(C?" "+w+"throbber-inline":"")+'"></div>'),L&&L())}return I.hide(),x=!0,G?S=W.setTimeout(R,G):R(),I},I.hide=function(){var G=B.lastChild;return W.clearTimeout(S),G&&-1!=G.className.indexOf("throbber")&&G.parentNode.removeChild(G),x=!1,I}}}),he(Ms,[Tr,Cs,Ss,Z],function(le,ee,W,B){return le.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(C){if(C.autohide=!0,C.constrainToViewport=!0,"function"==typeof C.items&&(C.itemsFactory=C.items,C.items=[]),C.itemDefaults)for(var x=C.items,w=x.length;w--;)x[w]=B.extend({},C.itemDefaults,x[w]);this._super(C),this.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){function C(){I.throbber&&(I.throbber.hide(),I.throbber=null)}var x,I=this;I.settings.itemsFactory&&(I.throbber||(I.throbber=new W(I.getEl("body"),!0),0===I.items().length?(I.throbber.show(),I.fire("loading")):I.throbber.show(100,function(){I.items().remove(),I.fire("loading")}),I.on("hide close",C)),I.requestTime=x=(new Date).getTime(),I.settings.itemsFactory(function(S){return 0===S.length?void I.hide():void(I.requestTime===x&&(I.getEl().style.width="",I.getEl("body").style.width="",C(),I.items().remove(),I.getEl("body").innerHTML="",I.add(S),I.renderNew(),I.fire("loaded")))}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var C=this;return C.items().each(function(I){var x=I.settings;if(x.icon||x.image||x.selectable)return C._hasIcons=!0,!1}),C.settings.itemsFactory&&C.on("postrender",function(){C.settings.itemsFactory&&C.load()}),C._super()}})}),he(Al,[Fo,Ms],function(le,ee){return le.extend({init:function(W){var I,x,w,S,C=this;C._super(W),C._values=I=(W=C.settings).values,I&&(void 0!==W.value&&function B(G){for(var L=0;L<G.length;L++){if(x=G[L].selected||W.value===G[L].value)return w=w||G[L].text,C.state.set("value",G[L].value),!0;if(G[L].menu&&B(G[L].menu))return!0}}(I),!x&&I.length>0&&(w=I[0].text,C.state.set("value",I[0].value)),C.state.set("menu",I)),C.state.set("text",W.text||w),C.classes.add("listbox"),C.on("select",function(G){var L=G.control;S&&(G.lastControl=S),W.multiple?L.active(!L.active()):C.value(G.control.value()),S=L})},bindStates:function(){function B(I,x){var w;if(I)for(var S=0;S<I.length;S++){if(I[S].value===x)return I[S];if(I[S].menu&&(w=B(I[S].menu,x)))return w}}var C=this;return C.on("show",function(I){!function(I,x){I instanceof ee&&I.items().each(function(w){w.hasMenus()||w.active(w.value()===x)})}(I.control,C.value())}),C.state.on("change:value",function(I){var x=B(C.state.get("menu"),I.value);C.text(x?x.text:C.settings.text)}),C._super()}})}),he(lr,[ga],function(le){return le.extend({Defaults:{classes:"radio",role:"radio"}})}),he(tr,[on,Ii],function(le,ee){return le.extend({renderHtml:function(){var W=this,B=W.classPrefix;return W.classes.add("resizehandle"),"both"==W.settings.direction&&W.classes.add("resizehandle-both"),W.canFocus=!1,'<div id="'+W._id+'" class="'+W.classes+'"><i class="'+B+"ico "+B+'i-resize"></i></div>'},postRender:function(){var W=this;W._super(),W.resizeDragHelper=new ee(this._id,{start:function(){W.fire("ResizeStart")},drag:function(B){"both"!=W.settings.direction&&(B.deltaX=0),W.fire("Resize",B)},stop:function(){W.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),he(ya,[on],function(le){function ee(W){var B="";if(W)for(var C=0;C<W.length;C++)B+='<option value="'+W[C]+'">'+W[C]+"</option>";return B}return le.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(W){var B=this;B._super(W),B.settings.size&&(B.size=B.settings.size),B.settings.options&&(B._options=B.settings.options),B.on("keydown",function(C){var I;13==C.keyCode&&(C.preventDefault(),B.parents().reverse().each(function(x){if(x.toJSON)return I=x,!1}),B.fire("submit",{data:I.toJSON()}))})},options:function(W){return arguments.length?(this.state.set("options",W),this):this.state.get("options")},renderHtml:function(){var B,W=this,C="";return B=ee(W._options),W.size&&(C=' size = "'+W.size+'"'),'<select id="'+W._id+'" class="'+W.classes+'"'+C+">"+B+"</select>"},bindStates:function(){var W=this;return W.state.on("change:options",function(B){W.getEl().innerHTML=ee(B.value)}),W._super()}})}),he(qu,[on,Ii,Rn],function(le,ee,W){function B(x,w,S){return x<w&&(x=w),x>S&&(x=S),x}function C(x,w,S){x.setAttribute("aria-"+w,S)}function I(x,w){var S,G,L,R,U;"v"==x.settings.orientation?(R="top",L="height",G="h"):(R="left",L="width",G="w"),U=x.getEl("handle"),S=(x.layoutRect()[G]||100)-W.getSize(U)[L],U.style[R]=S*((w-x._minValue)/(x._maxValue-x._minValue))+"px",U.style.height=x.layoutRect().h+"px",C(U,"valuenow",w),C(U,"valuetext",""+x.settings.previewFilter(w)),C(U,"valuemin",x._minValue),C(U,"valuemax",x._maxValue)}return le.extend({init:function(x){var w=this;x.previewFilter||(x.previewFilter=function(S){return Math.round(100*S)/100}),w._super(x),w.classes.add("slider"),"v"==x.orientation&&w.classes.add("vertical"),w._minValue=x.minValue||0,w._maxValue=x.maxValue||100,w._initValue=w.state.get("value")},renderHtml:function(){var x=this,w=x._id;return'<div id="'+w+'" class="'+x.classes+'"><div id="'+w+'-handle" class="'+x.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var R,F,U,O,q,z,te,N,E,T,v,_,j,ie,L=this;R=L._minValue,F=L._maxValue,"v"==L.settings.orientation?(U="screenY",O="top",q="height",z="h"):(U="screenX",O="left",q="width",z="w"),L._super(),function(te,N){function E(T){var v;v=L.value(),v=function(te,N,E){return E*(N-te)-te}(te,N,function(te,N,E){return(E+te)/(N-te)}(te,N,v)+.05*T),v=B(v,te,N),L.value(v),L.fire("dragstart",{value:v}),L.fire("drag",{value:v}),L.fire("dragend",{value:v})}L.on("keydown",function(T){switch(T.keyCode){case 37:case 38:E(-1);break;case 39:case 40:E(1)}})}(R,F,L.getEl("handle")),te=R,N=F,E=L.getEl("handle"),L._dragHelper=new ee(L._id,{handle:L._id+"-handle",start:function(Y){T=Y[U],v=parseInt(L.getEl("handle").style[O],10),_=(L.layoutRect()[z]||100)-W.getSize(E)[q],L.fire("dragstart",{value:ie})},drag:function(Y){j=B(v+(Y[U]-T),0,_),E.style[O]=j+"px",L.value(ie=te+j/_*(N-te)),L.tooltip().text(""+L.settings.previewFilter(ie)).show().moveRel(E,"bc tc"),L.fire("drag",{value:ie})},stop:function(){L.tooltip().hide(),L.fire("dragend",{value:ie})}})},repaint:function(){this._super(),I(this,this.value())},bindStates:function(){var x=this;return x.state.on("change:value",function(w){I(x,w.value)}),x._super()}})}),he(Zu,[on],function(le){return le.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}})}),he(Yu,[Fo,Rn,re],function(le,ee,W){return le.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var w,B=this,C=B.getEl(),I=B.layoutRect();return B._super(),w=C.lastChild,W(C.firstChild).css({width:I.w-ee.getSize(w).width,height:I.h-2}),W(w).css({height:I.h-2}),B},activeMenu:function(B){W(this.getEl().lastChild).toggleClass(this.classPrefix+"active",B)},renderHtml:function(){var x,B=this,C=B._id,I=B.classPrefix,w=B.state.get("icon"),S=B.state.get("text"),G="";return(x=B.settings.image)?(w="none","string"!=typeof x&&(x=window.getSelection?x[0]:x[1]),x=" style=\"background-image: url('"+x+"')\""):x="",w=B.settings.icon?I+"ico "+I+"i-"+w:"",S&&(B.classes.add("btn-has-text"),G='<span class="'+I+'txt">'+B.encode(S)+"</span>"),'<div id="'+C+'" class="'+B.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(w?'<i class="'+w+'"'+x+"></i>":"")+G+'</button><button type="button" class="'+I+'open" hidefocus="1" tabindex="-1">'+(B._menuBtnText?(w?"\xa0":"")+B._menuBtnText:"")+' <i class="'+I+'caret"></i></button></div>'},postRender:function(){var B=this,C=B.settings.onclick;return B.on("click",function(I){var x=I.target;if(I.control==this)for(;x;){if(I.aria&&"down"!=I.aria.key||"BUTTON"==x.nodeName&&-1==x.className.indexOf("open"))return I.stopImmediatePropagation(),void(C&&C.call(this,I));x=x.parentNode}}),delete B.settings.onclick,B._super()}})}),he(Xu,[Tl],function(le){return le.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),he($u,[Ui,re,Rn],function(le,ee,W){return le.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(B){var C;this.activeTabId&&(C=this.getEl(this.activeTabId),ee(C).removeClass(this.classPrefix+"active"),C.setAttribute("aria-selected","false")),this.activeTabId="t"+B,(C=this.getEl("t"+B)).setAttribute("aria-selected","true"),ee(C).addClass(this.classPrefix+"active"),this.items()[B].show().fire("showtab"),this.reflow(),this.items().each(function(I,x){B!=x&&I.hide()})},renderHtml:function(){var B=this,C=B._layout,I="",x=B.classPrefix;return B.preRender(),C.preRender(B),B.items().each(function(w,S){var G=B._id+"-t"+S;w.aria("role","tabpanel"),w.aria("labelledby",G),I+='<div id="'+G+'" class="'+x+'tab" unselectable="on" role="tab" aria-controls="'+w._id+'" aria-selected="false" tabIndex="-1">'+B.encode(w.settings.title)+"</div>"}),'<div id="'+B._id+'" class="'+B.classes+'" hidefocus="1" tabindex="-1"><div id="'+B._id+'-head" class="'+x+'tabs" role="tablist">'+I+'</div><div id="'+B._id+'-body" class="'+B.bodyClasses+'">'+C.renderHtml(B)+"</div></div>"},postRender:function(){var B=this;B._super(),B.settings.activeTab=B.settings.activeTab||0,B.activateTab(B.settings.activeTab),this.on("click",function(C){var I=C.target.parentNode;if(I&&I.id==B._id+"-head")for(var x=I.childNodes.length;x--;)I.childNodes[x]==C.target&&B.activateTab(x)})},initLayoutRect:function(){var C,I,x,B=this;I=(I=W.getSize(B.getEl("head")).width)<0?0:I,x=0,B.items().each(function(S){I=Math.max(I,S.layoutRect().minW),x=Math.max(x,S.layoutRect().minH)}),B.items().each(function(S){S.settings.x=0,S.settings.y=0,S.settings.w=I,S.settings.h=x,S.layoutRect({x:0,y:0,w:I,h:x})});var w=W.getSize(B.getEl("head")).height;return B.settings.minWidth=I,B.settings.minHeight=x+w,(C=B._super()).deltaH+=w,C.innerH=C.h-C.deltaH,C}})}),he(Ku,[on,Z,Rn],function(le,ee,W){return le.extend({init:function(B){var C=this;C._super(B),C.classes.add("textbox"),B.multiline?C.classes.add("multiline"):(C.on("keydown",function(I){var x;13==I.keyCode&&(I.preventDefault(),C.parents().reverse().each(function(w){if(w.toJSON)return x=w,!1}),C.fire("submit",{data:x.toJSON()}))}),C.on("keyup",function(I){C.state.set("value",I.target.value)}))},repaint:function(){var C,I,x,w,G,B=this,S=0;C=B.getEl().style,I=B._layoutRect,G=B._lastRepaintRect||{};var L=document;return!B.settings.multiline&&L.all&&(!L.documentMode||L.documentMode<=8)&&(C.lineHeight=I.h-S+"px"),w=(x=B.borderBox).left+x.right+8,S=x.top+x.bottom+(B.settings.multiline?8:0),I.x!==G.x&&(C.left=I.x+"px",G.x=I.x),I.y!==G.y&&(C.top=I.y+"px",G.y=I.y),I.w!==G.w&&(C.width=I.w-w+"px",G.w=I.w),I.h!==G.h&&(C.height=I.h-S+"px",G.h=I.h),B._lastRepaintRect=G,B.fire("repaint",{},!1),B},renderHtml:function(){var I,x,B=this,C=B.settings;return I={id:B._id,hidefocus:"1"},ee.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(w){I[w]=C[w]}),B.disabled()&&(I.disabled="disabled"),C.subtype&&(I.type=C.subtype),(x=W.create(C.multiline?"textarea":"input",I)).value=B.state.get("value"),x.className=B.classes,x.outerHTML},value:function(B){return arguments.length?(this.state.set("value",B),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var B=this;B.getEl().value=B.state.get("value"),B._super(),B.$el.on("change",function(C){B.state.set("value",C.target.value),B.fire("change",C)})},bindStates:function(){var B=this;return B.state.on("change:value",function(C){B.getEl().value!=C.value&&(B.getEl().value=C.value)}),B.state.on("change:disabled",function(C){B.getEl().disabled=C.value}),B._super()},remove:function(){this.$el.off(),this._super()}})}),he("tinymce/Register",[],function(){var le=this||window;return"function"==typeof le.define&&(le.define.amd||le.define("ephox/tinymce",[],function(){return le.tinymce})),"object"==typeof module&&(module.exports=window.tinymce),{}}),function(le){var ee,W,B,C,I;for(ee=0;ee<le.length;ee++){W=Ge,C=(B=le[ee]).split(/[.\/]/);for(var x=0;x<C.length-1;++x)W[C[x]]===ht&&(W[C[x]]={}),W=W[C[x]];W[C[C.length-1]]=V[B]}if(Ge.AMDLC_TESTS){for(B in I=Ge.privateModules||{},V)I[B]=V[B];for(ee=0;ee<le.length;ee++)delete I[le[ee]];Ge.privateModules=I}}([A,k,M,H,m,y,Z,re,Q,$,pe,ue,Te,se,Ne,Le,Ue,Qe,Tt,_t,Ht,tt,It,nn,hn,qn,Jn,rn,En,Pt,Ut,tn,cn,_n,Mn,Wi,Ei,Ri,Or,Gi,Ii,or,Ui,Fi,zr,Tr,wo,At,Wt,mn,on,Sn,Bn,Yn,ti,pi,cs,xl,bl,ds,_l,hs,Hu,fa,Ir,Fr,fs,pa,no,Oo,ga,ma,wl,ps,Vu,gs,Wu,ms,vs,va,ys,Cl,Sl,Ml,Gu,Tl,kl,xs,bs,_s,ju,ws,Ci,Fo,Cs,Ss,Ms,Al,lr,tr,ya,qu,Zu,Yu,Xu,$u,Ku])}(window),function(){var Ge={},he=function(A){var k=Ge[A];if(void 0===k)throw"module ["+A+"] was undefined";return void 0===k.instance&&function(A){for(var k=Ge[A],M=k.deps,H=k.defn,m=M.length,y=new Array(m),P=0;P<m;++P)y[P]=he(M[P]);var Z=H.apply(null,y);if(void 0===Z)throw"module ["+A+"] returned undefined";k.instance=Z}(A),k.instance},ne=function(A,k,M){if("string"!=typeof A)throw"module id must be a string";if(void 0===k)throw"no dependencies for "+A;if(void 0===M)throw"no definition function for "+A;Ge[A]={deps:k,defn:M,instance:void 0}},V=function(A,k){ne(A,[],function(){return k})};V("1",tinymce.Env),V("2",tinymce.EditorManager),V("3",tinymce.ThemeManager),V("8",tinymce.util.Tools),V("9",tinymce.ui.Factory),V("a",tinymce.DOM),ne("b",["8","9"],function(A,k){var H=function(y,P,Z){var re,Q=[];if(P)return A.each(P.split(/[ ,]/),function($){var pe=function(){var Ce=y.selection;$.settings.stateSelector&&Ce.selectorChanged($.settings.stateSelector,function(ue){$.active(ue)},!0),$.settings.disabledStateSelector&&Ce.selectorChanged($.settings.disabledStateSelector,function(ue){$.disabled(ue)})};"|"==$?re=null:k.has($)?(Q.push($={type:$,size:Z}),re=null):(re||Q.push(re={type:"buttongroup",items:[]}),y.buttons[$]&&("function"==typeof($=y.buttons[$])&&($=$()),$.type=$.type||"button",$.size=Z,$=k.create($),re.items.push($),y.initialized?pe():y.on("init",pe)))}),{type:"toolbar",layout:"flow",items:Q}};return{createToolbar:H,createToolbars:function(y,P){var Z=[],re=y.settings,Q=function(fe){if(fe)return Z.push(H(y,fe,P)),!0};if(A.isArray(re.toolbar)){if(0===re.toolbar.length)return;A.each(re.toolbar,function(fe,pe){re["toolbar"+(pe+1)]=fe}),delete re.toolbar}for(var $=1;$<10&&Q(re["toolbar"+$]);$++);if(Z.length||!1===re.toolbar||Q(re.toolbar||"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"),Z.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:Z}}}}),ne("c",["8"],function(A){var k={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},M=function(y,P){return"|"==P?{text:"|"}:y[P]},H=function(y,P,Z){var re,Q,$,fe,pe;if(pe=A.makeMap((P.removed_menuitems||"").split(/[ ,]/)),P.menu?(Q=P.menu[Z],fe=!0):Q=k[Z],Q){re={text:Q.title},$=[],A.each((Q.items||"").split(/[ ,]/),function(ue){M(y,ue)&&!pe[ue]&&$.push(M(y,ue))}),fe||A.each(y,function(ue){ue.context==Z&&("before"==ue.separator&&$.push({text:"|"}),ue.prependToContext?$.unshift(ue):$.push(ue),"after"==ue.separator&&$.push({text:"|"}))});for(var Ce=0;Ce<$.length;Ce++)"|"==$[Ce].text&&(0!==Ce&&Ce!=$.length-1||$.splice(Ce,1));if(re.menu=$,!re.menu.length)return null}return re};return{createMenuButtons:function(y){var P,Z=[],re=y.settings,Q=[];if(re.menu)for(P in re.menu)Q.push(P);else for(P in k)Q.push(P);for(var $="string"==typeof re.menubar?re.menubar.split(/[ ,]/):Q,fe=0;fe<$.length;fe++){var pe=$[fe];(pe=H(y.menuItems,y.settings,pe))&&Z.push(pe)}return Z}}}),V("j",tinymce.util.Delay),V("k",tinymce.geom.Rect),ne("d",["a","8","j","b","9","k"],function(A,k,M,H,m,y){var P=function(pe){return{left:pe.x,top:pe.y,width:pe.w,height:pe.h,right:pe.x+pe.w,bottom:pe.y+pe.h}},re=function(pe,Ce){pe.moveTo(Ce.left,Ce.top)},$=function(pe,Ce,ue,Te,se,ve){return ve=P({x:Ce,y:ue,w:ve.w,h:ve.h}),pe&&(ve=pe({elementRect:P(Te),contentAreaRect:P(se),panelRect:ve})),ve};return{addContextualToolbars:function(pe){var Ce,ue=pe.settings,Te=function(){return pe.contextToolbars||[]},ve=function(Ue,Qe){var Tt,_t,Ht,tt,kt,It,nn,Lt=ue.inline_toolbar_position_handler;if(!pe.removed){if(!Ue||!Ue.toolbar.panel)return void function(pe){k.each(pe.contextToolbars,function(Ce){Ce.panel&&Ce.panel.hide()})}(pe);nn=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],kt=Ue.toolbar.panel,Qe&&kt.show(),Ht=function(Ue){var Qe,Tt,_t;return Qe=A.getPos(pe.getContentAreaContainer()),Tt=pe.dom.getRect(Ue),"BODY"===(_t=pe.dom.getRoot()).nodeName&&(Tt.x-=_t.ownerDocument.documentElement.scrollLeft||_t.scrollLeft,Tt.y-=_t.ownerDocument.documentElement.scrollTop||_t.scrollTop),Tt.x+=Qe.x,Tt.y+=Qe.y,Tt}(Ue.element),_t=A.getRect(kt.getEl()),tt=A.getRect(pe.getContentAreaContainer()||pe.getBody()),"inline"!==A.getStyle(Ue.element,"display",!0)&&(Ht.w=Ue.element.clientWidth,Ht.h=Ue.element.clientHeight),pe.inline||(tt.w=pe.getDoc().documentElement.offsetWidth),pe.selection.controlSelection.isResizable(Ue.element)&&Ht.w<25&&(Ht=y.inflate(Ht,0,8)),Tt=y.findBestRelativePosition(_t,Ht,tt,nn),Ht=y.clamp(Ht,tt),Tt?(It=y.relativePosition(_t,Ht,Tt),re(kt,$(Lt,It.x,It.y,Ht,tt,_t))):(tt.h+=_t.h,(Ht=y.intersect(tt,Ht))?(Tt=y.findBestRelativePosition(_t,Ht,tt,["bc-tc","bl-tl","br-tr"]))?(It=y.relativePosition(_t,Ht,Tt),re(kt,$(Lt,It.x,It.y,Ht,tt,_t))):re(kt,$(Lt,Ht.x,Ht.y,Ht,tt,_t)):kt.hide()),function(pe,Ce,ue){Ce=Ce?Ce.substr(0,2):"",k.each({t:"down",b:"up"},function(Te,se){pe.classes.toggle("arrow-"+Te,ue(se,Ce.substr(0,1)))}),k.each({l:"left",r:"right"},function(Te,se){pe.classes.toggle("arrow-"+Te,ue(se,Ce.substr(1,1)))})}(kt,Tt,function(ln,Dt){return ln===Dt})}},_e=function(Ue){return function(){M.requestAnimationFrame(function(){pe.selection&&ve(Le(pe.selection.getNode()),Ue)})}},Se=function(){k.each(Te(),function(Ue){Ue.panel&&Ue.panel.hide()})},Le=function(Ue){var Qe,Tt,_t,Ht=Te();for(Qe=(_t=pe.$(Ue).parents().add(Ue)).length-1;Qe>=0;Qe--)for(Tt=Ht.length-1;Tt>=0;Tt--)if(Ht[Tt].predicate(_t[Qe]))return{toolbar:Ht[Tt],element:_t[Qe]};return null};pe.on("click keyup setContent ObjectResized",function(Ue){("setcontent"!==Ue.type||Ue.selection)&&M.setEditorTimeout(pe,function(){var Qe;(Qe=Le(pe.selection.getNode()))?(Se(),function(Ue){var Qe;Ue.toolbar.panel?(Ue.toolbar.panel.show(),ve(Ue)):(Ce||(Ce=pe.selection.getScrollContainer()||pe.getWin(),A.bind(Ce,"scroll",_e(!0)),pe.on("remove",function(){A.unbind(Ce,"scroll")})),Qe=m.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:H.createToolbar(pe,Ue.toolbar.items),oncancel:function(){pe.focus()}}),Ue.toolbar.panel=Qe,Qe.renderTo(document.body).reflow(),ve(Ue))}(Qe)):Se()})}),pe.on("blur hide contextmenu",Se),pe.on("ObjectResizeStart",function(){var Ue=Le(pe.selection.getNode());Ue&&Ue.toolbar.panel&&Ue.toolbar.panel.hide()}),pe.on("ResizeEditor ResizeWindow",_e(!0)),pe.on("nodeChange",_e(!1)),pe.on("remove",function(){k.each(Te(),function(Ue){Ue.panel&&Ue.panel.remove()}),pe.contextToolbars={}}),pe.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var Ue=Le(pe.selection.getNode());Ue&&Ue.toolbar.panel&&Ue.toolbar.panel.items()[0].focus()})}}}),ne("e",[],function(){var A=function(M,H){return function(){var m=M.find(H)[0];m&&m.focus(!0)}};return{addKeys:function(M,H){M.shortcuts.add("Alt+F9","",A(H,"menubar")),M.shortcuts.add("Alt+F10,F10","",A(H,"toolbar")),M.shortcuts.add("Alt+F11","",A(H,"elementpath")),H.on("cancel",function(){M.focus()})}}}),ne("f",["8","9","1"],function(A,k,M){var m=function(pe,Ce,ue){var Te=pe.settings[ue];Te&&Te(function(pe){return{element:function(){return pe}}}(Ce.getEl("body")))},re=function(pe,Ce,ue){return function(Te){var se=Te.control,ve=se.parents().filter("panel")[0],_e=ve.find("#"+Ce)[0],Me=function(pe,Ce){return A.grep(pe,function(ue){return ue.name===Ce})[0]}(ue,Ce);(function(pe,Ce,ue){A.each(ue,function(Te){var se=Ce.items().filter("#"+Te.name)[0];se&&se.visible()&&Te.name!==pe&&(m(Te,se,"onhide"),se.visible(!1))})})(Ce,ve,ue),function(pe){pe.items().each(function(Ce){Ce.active(!1)})}(se.parent()),_e&&_e.visible()?(m(Me,_e,"onhide"),_e.hide(),se.active(!1)):(_e?(_e.show(),m(Me,_e,"onshow")):(_e=k.create({type:"container",name:Ce,layout:"stack",classes:"sidebar-panel",html:""}),ve.prepend(_e),m(Me,_e,"onrender"),m(Me,_e,"onshow")),se.active(!0)),pe.fire("ResizeEditor")}};return{hasSidebar:function(pe){return!(M.ie&&!(M.ie>=11)||!pe.sidebars)&&pe.sidebars.length>0},createSidebar:function(pe){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:A.map(pe.sidebars,function(ue){var Te=ue.settings;return{type:"button",icon:Te.icon,image:Te.image,tooltip:Te.tooltip,onclick:re(pe,ue.name,pe.sidebars)}})}]}}}}),ne("g",[],function(){return{fireSkinLoaded:function(k){var M=function(){k._skinLoaded=!0,k.fire("SkinLoaded")};return function(){k.initialized?M():k.on("init",M)}}}}),ne("6",["a"],function(A){var k=function(m){return{width:m.clientWidth,height:m.clientHeight}},M=function(m,y,P){var Z,re,Q,$,fe=m.settings;Z=m.getContainer(),re=m.getContentAreaContainer().firstChild,Q=k(Z),$=k(re),null!==y&&(y=Math.max(fe.min_width||100,y),y=Math.min(fe.max_width||65535,y),A.setStyle(Z,"width",y+(Q.width-$.width)),A.setStyle(re,"width",y)),P=Math.max(fe.min_height||100,P),P=Math.min(fe.max_height||65535,P),A.setStyle(re,"height",P),m.fire("ResizeEditor")};return{resizeTo:M,resizeBy:function(m,y,P){var Z=m.getContentAreaContainer();M(m,Z.clientWidth+y,Z.clientHeight+P)}}}),ne("4",["8","9","a","b","c","d","e","f","g","6"],function(A,k,M,H,m,y,P,Z,re,Q){var fe=function(ue){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:ue,html:""}},pe=function(ue){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[fe("0"),Z.createSidebar(ue)]}};return{render:function(ue,Te,se){var ve,_e,Me,Ne=ue.settings;return se.skinUiCss&&M.styleSheetLoader.load(se.skinUiCss,re.fireSkinLoaded(ue)),ve=Te.panel=k.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===Ne.menubar?null:{type:"menubar",border:"0 0 1 0",items:m.createMenuButtons(ue)},H.createToolbars(ue,Ne.toolbar_items_size),Z.hasSidebar(ue)?pe(ue):fe("1 0 0 0")]}),!1!==Ne.resize&&(_e={type:"resizehandle",direction:Ne.resize,onResizeStart:function(){var Se=ue.getContentAreaContainer().firstChild;Me={width:Se.clientWidth,height:Se.clientHeight}},onResize:function(Se){Q.resizeTo(ue,"both"===Ne.resize?Me.width+Se.deltaX:null,Me.height+Se.deltaY)}}),!1!==Ne.statusbar&&ve.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:ue},_e]}),ue.fire("BeforeRenderUI"),ue.on("SwitchMode",function(ue){return function(Te){ue.find("*").disabled("readonly"===Te.mode)}}(ve)),ve.renderBefore(se.targetNode).reflow(),Ne.readonly&&ue.setMode("readonly"),Ne.width&&M.setStyle(ve.getEl(),"width",Ne.width),ue.on("remove",function(){ve.remove(),ve=null}),P.addKeys(ue,ve),y.addContextualToolbars(ue),{iframeContainer:ve.find("#iframe")[0].getEl(),editorContainer:ve.getEl()}}}}),V("h",tinymce.ui.FloatPanel),ne("5",["8","9","a","h","b","c","d","e","g"],function(A,k,M,H,m,y,P,Z,re){return{render:function($,fe,pe){var Ce,ue,Te=$.settings;Te.fixed_toolbar_container&&(ue=M.select(Te.fixed_toolbar_container)[0]);var se=function(){if(Ce&&Ce.moveRel&&Ce.visible()&&!Ce._fixed){var Ne=$.selection.getScrollContainer(),Se=$.getBody(),Le=0,Ue=0;if(Ne){var Qe=M.getPos(Se),Tt=M.getPos(Ne);Le=Math.max(0,Tt.x-Qe.x),Ue=Math.max(0,Tt.y-Qe.y)}Ce.fixed(!1).moveRel(Se,$.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(Le,Ue)}},ve=function(){Ce&&(Ce.show(),se(),M.addClass($.getBody(),"mce-edit-focus"))},_e=function(){Ce&&(Ce.hide(),H.hideAll(),M.removeClass($.getBody(),"mce-edit-focus"))},Me=function(){return Ce?void(Ce.visible()||ve()):(Ce=fe.panel=k.create({type:ue?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!ue,border:1,items:[!1===Te.menubar?null:{type:"menubar",border:"0 0 1 0",items:y.createMenuButtons($)},m.createToolbars($,Te.toolbar_items_size)]}),$.fire("BeforeRenderUI"),Ce.renderTo(ue||document.body).reflow(),Z.addKeys($,Ce),ve(),P.addContextualToolbars($),$.on("nodeChange",se),$.on("activate",ve),$.on("deactivate",_e),void $.nodeChanged())};return Te.content_editable=!0,$.on("focus",function(){pe.skinUiCss?M.styleSheetLoader.load(pe.skinUiCss,Me,Me):Me()}),$.on("blur hide",_e),$.on("remove",function(){Ce&&(Ce.remove(),Ce=null)}),pe.skinUiCss&&M.styleSheetLoader.load(pe.skinUiCss,re.fireSkinLoaded($)),{}}}}),V("i",tinymce.ui.Throbber),ne("7",["i"],function(A){return{setup:function(M,H){var m;M.on("ProgressState",function(y){m=m||new A(H.panel.getEl("body")),y.state?m.show(y.time):m.hide()})}}}),ne("0",["1","2","3","4","5","6","7"],function(A,k,M,H,m,y,P){return M.add("modern",function(re){return{renderUI:function(Q){return function(re,Q,$){var fe=re.settings,pe=!1!==fe.skin&&(fe.skin||"lightgray");if(pe){var Ce=fe.skin_url;Ce=Ce?re.documentBaseURI.toAbsolute(Ce):k.baseURL+"/skins/"+pe,$.skinUiCss=A.documentMode<=7?Ce+"/skin.ie7.min.css":Ce+"/skin.min.css",re.contentCSS.push(Ce+"/content"+(re.inline?".inline":"")+".min.css")}return P.setup(re,Q),fe.inline?m.render(re,Q,$):H.render(re,Q,$)}(re,this,Q)},resizeTo:function(Q,$){return y.resizeTo(re,Q,$)},resizeBy:function(Q,$){return y.resizeBy(re,Q,$)}}}),function(){}}),he("0")()}(),tinymce.PluginManager.add("link",function(Ge){function ht($){return $&&"A"===$.nodeName&&$.href}function Bt($){return tinymce.util.Tools.grep($,ht).length>0}function he($){return Ge.dom.getParent($,"a[href]")}function ke(){return he(Ge.selection.getStart())}function M($){if($){var fe=function($){return $.getAttribute("data-mce-href")||$.getAttribute("href")}($);if(/^#/.test(fe)){var pe=Ge.$(fe);pe.length&&Ge.selection.scrollIntoView(pe[0],!0)}else!function($){if(!tinymce.Env.ie||tinymce.Env.ie>10){var fe=document.createElement("a");fe.target="_blank",fe.href=$,fe.rel="noreferrer noopener";var pe=document.createEvent("MouseEvents");pe.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),function($,fe){document.body.appendChild($),$.dispatchEvent(fe),document.body.removeChild($)}(fe,pe)}else{var Ce=window.open("","_blank");if(Ce){Ce.opener=null;var ue=Ce.document;ue.open(),ue.write('<meta http-equiv="refresh" content="0; url='+tinymce.DOM.encode($)+'">'),ue.close()}}}($.href)}}function H(){M(ke())}function y($){return function(){var fe=Ge.settings.link_list;"string"==typeof fe?tinymce.util.XHR.send({url:fe,success:function(pe){$(tinymce.util.JSON.parse(pe))}}):"function"==typeof fe?fe($):$(fe)}}function P($,fe,pe){return function Ce(ue,Te){return Te=Te||[],tinymce.each(ue,function(se){var ve={text:se.text||se.title};se.menu?ve.menu=Ce(se.menu):(ve.value=se.value,fe&&fe(ve)),Te.push(ve)}),Te}($,pe||[])}function Z($){function fe(ct){var Lt=Ne.find("#text");(!Lt.value()||ct.lastControl&&Lt.value()==ct.lastControl.text())&&Lt.value(ct.control.text()),Ne.find("#href").value(ct.control.value())}function Ce(){!Me&&0===kt.text.length&&Se&&this.parent().parent().find("#text")[0].value(this.value())}var ve,_e,Me,Ne,Se,Le,Ue,Qe,Tt,_t,Ht,tt,Lt,kt={},It=Ge.selection,nn=Ge.dom;ve=It.getNode(),_e=nn.getParent(ve,"a[href]"),Lt=It.getContent(),Se=!(/</.test(Lt)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(Lt)||-1==Lt.indexOf("href="))),kt.text=Me=_e?_e.innerText||_e.textContent:It.getContent({format:"text"}),kt.href=_e?nn.getAttrib(_e,"href"):"",_e?kt.target=nn.getAttrib(_e,"target"):Ge.settings.default_link_target&&(kt.target=Ge.settings.default_link_target),(tt=nn.getAttrib(_e,"rel"))&&(kt.rel=tt),(tt=nn.getAttrib(_e,"class"))&&(kt.class=tt),(tt=nn.getAttrib(_e,"title"))&&(kt.title=tt),Se&&(Le={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){kt.text=this.value()}}),$&&(Ue={type:"listbox",label:"Link list",values:P($,function(ct){ct.value=Ge.convertURL(ct.value||ct.url,"href")},[{text:"None",value:""}]),onselect:fe,value:Ge.convertURL(kt.href,"href"),onPostRender:function(){Ue=this}}),!1!==Ge.settings.target_list&&(Ge.settings.target_list||(Ge.settings.target_list=[{text:"None",value:""},{text:"New window",value:"_blank"}]),Tt={name:"target",type:"listbox",label:"Target",values:P(Ge.settings.target_list)}),Ge.settings.rel_list&&(Qe={name:"rel",type:"listbox",label:"Rel",values:P(Ge.settings.rel_list)}),Ge.settings.link_class_list&&(_t={name:"class",type:"listbox",label:"Class",values:P(Ge.settings.link_class_list,function(ct){ct.value&&(ct.textStyle=function(){return Ge.formatter.getCssText({inline:"a",classes:[ct.value]})})})}),!1!==Ge.settings.link_title&&(Ht={name:"title",type:"textbox",label:"Title",value:kt.title}),Ne=Ge.windowManager.open({title:"Insert link",data:kt,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function(ct){var Lt=ct.meta||{};Ue&&Ue.value(Ge.convertURL(this.value(),"href")),tinymce.each(ct.meta,function(ln,Dt){var dn=Ne.find("#"+Dt);"text"===Dt?0===Me.length&&(dn.value(ln),kt.text=ln):dn.value(ln)}),Lt.attach&&(re={href:this.value(),attach:Lt.attach}),Lt.text||Ce.call(this)},onkeyup:Ce,onbeforecall:function(ct){ct.meta=Ne.toJSON()}},Le,Ht,function(ct){var Lt=[];if(tinymce.each(Ge.dom.select("a:not([href])"),function(ln){var Dt=ln.name||ln.id;Dt&&Lt.push({text:Dt,value:"#"+Dt,selected:-1!=ct.indexOf("#"+Dt)})}),Lt.length)return Lt.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:Lt,onselect:fe}}(kt.href),Ue,Qe,Tt,_t],onSubmit:function(ct){function Lt(hn,qn){var Wn=Ge.selection.getRng();tinymce.util.Delay.setEditorTimeout(Ge,function(){Ge.windowManager.confirm(hn,function(kn){Ge.selection.setRng(Wn),qn(kn)})})}function Dt(){var hn={href:Nt,target:kt.target?kt.target:null,rel:kt.rel?kt.rel:null,class:kt.class?kt.class:null,title:kt.title?kt.title:null};Ge.settings.allow_unsafe_link_target||(hn.rel=function(hn,qn){function kn(Jn){var xi=new RegExp("("+ai.replace(" ","|")+")","g");return Jn&&(Jn=tinymce.trim(Jn.replace(xi,""))),Jn||null}var Jn,ai="noopener noreferrer";return qn?(Jn=kn(Jn=hn))?[Jn,ai].join(" "):ai:kn(hn)}(hn.rel,"_blank"==hn.target)),Nt===re.href&&(re.attach(),re={}),_e?(Ge.focus(),Se&&kt.text!=Me&&("innerText"in _e?_e.innerText=kt.text:_e.textContent=kt.text),nn.setAttribs(_e,hn),It.select(_e),Ge.undoManager.add()):Se?Ge.insertContent(nn.createHTML("a",hn,nn.encode(kt.text))):Ge.execCommand("mceInsertLink",!1,hn)}function dn(){Ge.undoManager.transact(Dt)}var Nt;return kt=tinymce.extend(kt,ct.data),(Nt=kt.href)?Nt.indexOf("@")>0&&-1==Nt.indexOf("//")&&-1==Nt.indexOf("mailto:")?void Lt("The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(hn){hn&&(Nt="mailto:"+Nt),dn()}):Ge.settings.link_assume_external_targets&&!/^\w+:/i.test(Nt)||!Ge.settings.link_assume_external_targets&&/^\s*www[\.|\d\.]/i.test(Nt)?void Lt("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(hn){hn&&(Nt="http://"+Nt),dn()}):void dn():void Ge.execCommand("unlink")}})}var re={};Ge.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onclick:y(Z),stateSelector:"a[href]"}),Ge.addButton("unlink",{icon:"unlink",tooltip:"Remove link",cmd:"unlink",stateSelector:"a[href]"}),Ge.addContextToolbar&&(Ge.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:H}),Ge.addContextToolbar(function($){var fe,pe,Ce;return!!(Ge.settings.link_context_toolbar&&!function(){var $=Ge.plugins.contextmenu;return!!$&&$.isContextMenuVisible()}()&&ht($)&&(fe=Ge.selection,pe=fe.getRng(),Ce=pe.startContainer,3==Ce.nodeType&&fe.isCollapsed()&&pe.startOffset>0&&pe.startOffset<Ce.data.length))},"openlink | link unlink")),Ge.addShortcut("Meta+K","",y(Z)),Ge.addCommand("mceLink",y(Z)),Ge.on("click",function($){var fe=he($.target);fe&&tinymce.util.VK.metaKeyPressed($)&&($.preventDefault(),M(fe))}),Ge.on("keydown",function($){var fe=ke();fe&&13===$.keyCode&&function($){return!0===$.altKey&&!1===$.shiftKey&&!1===$.ctrlKey&&!1===$.metaKey}($)&&($.preventDefault(),M(fe))}),this.showDialog=Z,Ge.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:H,onPostRender:function(){var $=this,fe=function(pe){Bt(pe.parents)?$.show():$.hide()};Bt(Ge.dom.getParents(Ge.selection.getStart()))||$.hide(),Ge.on("nodechange",fe),$.on("remove",function(){Ge.off("nodechange",fe)})},prependToContext:!0}),Ge.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:y(Z),stateSelector:"a[href]",context:"insert",prependToContext:!0})}),function(Ge,ht){"use strict";function he(V,A,k){if("string"!=typeof V)throw"invalid module definition, module id must be defined and be a string";if(A===ht)throw"invalid module definition, dependencies must be specified";if(k===ht)throw"invalid module definition, definition function must be specified";!function(V,A){for(var k,M=[],H=0;H<V.length;++H){if(!(k=ne[V[H]]||ke(V[H])))throw"module definition dependecy not found: "+V[H];M.push(k)}A.apply(null,M)}(A,function(){ne[V]=k.apply(null,arguments)})}function ke(V){for(var A=Ge,k=V.split(/[.\/]/),M=0;M<k.length;++M){if(!A[k[M]])return;A=A[k[M]]}return A}var ne={};he("tinymce/pasteplugin/Utils",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema"],function(V,A,k){function M(Z,re){return V.each(re,function(Q){Z=Q.constructor==RegExp?Z.replace(Q,""):Z.replace(Q[0],Q[1])}),Z}return{filter:M,innerText:function(Z){var Q=new k,$=new A({},Q),fe="",pe=Q.getShortEndedElements(),Ce=V.makeMap("script noscript style textarea video audio iframe object"," "),ue=Q.getBlockElements();return Z=M(Z,[/<!\[[^\]]+\]>/g]),function re(Te){var se=Te.name,ve=Te;if("br"!==se)if(pe[se]&&(fe+=" "),Ce[se])fe+=" ";else{if(3==Te.type&&(fe+=Te.value),!Te.shortEnded&&(Te=Te.firstChild))do{re(Te)}while(Te=Te.next);ue[se]&&ve.next&&(fe+="\n","p"==se&&(fe+="\n"))}else fe+="\n"}($.parse(Z)),fe},trimHtml:function(Z){return M(function(Z){var re="\x3c!--StartFragment--\x3e",Q="\x3c!--EndFragment--\x3e",$=Z.indexOf(re);if(-1!==$){var fe=Z.substr($+re.length),pe=fe.indexOf(Q);if(-1!==pe&&/^<\/(p|h[1-6]|li)>/i.test(fe.substr(pe+Q.length,5)))return fe.substr(0,pe)}return Z}(Z),[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(Q,$,fe){return $||fe?"\xa0":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function(Z){var re=0;return function(){return Z+re++}}}}),he("tinymce/pasteplugin/SmartPaste",["tinymce/util/Tools"],function(V){var A=function(Q){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(Q)},k=function(Q){return A(Q)&&/.(gif|jpe?g|png)$/.test(Q)},m=function(Q,$,fe){return!(!1!==Q.selection.isCollapsed()||!A($))&&function(Q,$,fe){return Q.undoManager.extra(function(){fe(Q,$)},function(){Q.execCommand("mceInsertLink",!1,$)}),!0}(Q,$,fe)},y=function(Q,$,fe){return!!k($)&&function(Q,$,fe){return Q.undoManager.extra(function(){fe(Q,$)},function(){Q.insertContent('<img src="'+$+'">')}),!0}(Q,$,fe)},P=function(Q,$){return Q.insertContent($,{merge:!1!==Q.settings.paste_merge_formats,paste:!0}),!0};return{isImageUrl:k,isAbsoluteUrl:A,insertContent:function(Q,$){!1===Q.settings.smart_paste?P(Q,$):function(Q,$){V.each([m,y,P],function(fe){return!0!==fe(Q,$,P)})}(Q,$)}}}),he("tinymce/pasteplugin/Clipboard",["tinymce/Env","tinymce/dom/RangeUtils","tinymce/util/VK","tinymce/pasteplugin/Utils","tinymce/pasteplugin/SmartPaste","tinymce/util/Delay"],function(V,A,k,M,H,m){return function(y){function P(ct){var Lt,ln=y.dom;if(Lt=y.fire("BeforePastePreProcess",{content:ct}),ct=(Lt=y.fire("PastePreProcess",Lt)).content,!Lt.isDefaultPrevented()){if(y.hasEventListeners("PastePostProcess")&&!Lt.isDefaultPrevented()){var Dt=ln.add(y.getBody(),"div",{style:"display:none"},ct);Lt=y.fire("PastePostProcess",{node:Dt}),ln.remove(Dt),ct=Lt.node.innerHTML}Lt.isDefaultPrevented()||H.insertContent(y,ct)}}function Z(ct){ct=y.dom.encode(ct).replace(/\r\n/g,"\n");var Lt,ln=y.dom.getParent(y.selection.getStart(),y.dom.isBlock),Dt=y.settings.forced_root_block;Dt&&(Lt=(Lt=y.dom.createHTML(Dt,y.settings.forced_root_block_attrs)).substr(0,Lt.length-3)+">"),ln&&/^(PRE|DIV)$/.test(ln.nodeName)||!Dt?ct=M.filter(ct,[[/\n/g,"<br>"]]):-1!=(ct=M.filter(ct,[[/\n\n/g,"</p>"+Lt],[/^(.*<\/p>)(<p>)$/,Lt+"$1"],[/\n/g,"<br />"]])).indexOf("<p>")&&(ct=Lt+ct),P(ct)}function re(){var Lt,ln=y.dom,Dt=y.getBody(),Nt=y.dom.getViewPort(y.getWin()).y,hn=20;if(Qe=y.selection.getRng(),y.inline&&(Lt=y.selection.getScrollContainer())&&Lt.scrollTop>0&&(Nt=Lt.scrollTop),Qe.getClientRects){var qn=function(kn){var ai,Jn,xi,Rt=kn.startContainer;if((ai=kn.getClientRects()).length)return ai[0];if(kn.collapsed&&1==Rt.nodeType){for(xi=Rt.childNodes[Qe.startOffset];xi&&3==xi.nodeType&&!xi.data.length;)xi=xi.nextSibling;if(xi)return"BR"==xi.tagName&&(Jn=ln.doc.createTextNode("\ufeff"),xi.parentNode.insertBefore(Jn,xi),(kn=ln.createRng()).setStartBefore(Jn),kn.setEndAfter(Jn),ai=kn.getClientRects(),ln.remove(Jn)),ai.length?ai[0]:void 0}}(Qe);if(qn)hn=Nt+(qn.top-ln.getPos(Dt).y);else{hn=Nt;var Wn=Qe.startContainer;Wn&&(3==Wn.nodeType&&Wn.parentNode!=Dt&&(Wn=Wn.parentNode),1==Wn.nodeType&&(hn=ln.getPos(Wn,Lt||Dt).y))}}Ue=ln.add(y.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+hn+"px;width: 10px; height: 10px; overflow: hidden; opacity: 0"},kt),(V.ie||V.gecko)&&ln.setStyle(Ue,"left","rtl"==ln.getStyle(Dt,"direction",!0)?65535:-65535),ln.bind(Ue,"beforedeactivate focusin focusout",function(kn){kn.stopPropagation()}),Ue.focus(),y.selection.select(Ue,!0)}function Q(){if(Ue){for(var ct;ct=y.dom.get("mcepastebin");)y.dom.remove(ct),y.dom.unbind(ct);Qe&&y.selection.setRng(Qe)}Ue=Qe=null}function $(){var ct,Lt,ln,dn="";for(ct=y.dom.select("div[id=mcepastebin]"),Lt=0;Lt<ct.length;Lt++)(ln=ct[Lt]).firstChild&&"mcepastebin"==ln.firstChild.id&&(ln=ln.firstChild),dn!=kt&&(dn+=ln.innerHTML);return dn}function fe(ct){var Lt={};if(ct){if(ct.getData){var ln=ct.getData("Text");ln&&ln.length>0&&-1==ln.indexOf(It)&&(Lt["text/plain"]=ln)}if(ct.types)for(var Dt=0;Dt<ct.types.length;Dt++){var dn=ct.types[Dt];Lt[dn]=ct.getData(dn)}}return Lt}function Ce(ct){return Ne(ct,"text/html")||Ne(ct,"text/plain")}function se(ct,Lt,ln){ct&&(y.selection.setRng(ct),ct=null);var Dt=Lt.result,dn=function(ct){var Lt;return-1!==(Lt=ct.indexOf(","))?ct.substr(Lt+1):null}(Dt),Nt=new Image;if(Nt.src=Dt,function(ct,Lt){return!ct.images_dataimg_filter||ct.images_dataimg_filter(Lt)}(y.settings,Nt)){var hn,qn,Wn=y.editorUpload.blobCache;(qn=Wn.findFirst(function(kn){return kn.base64()===dn}))?hn=qn:(hn=Wn.create(nn(),ln,dn),Wn.add(hn)),P('<img src="'+hn.blobUri()+'">')}else P('<img src="'+Dt+'">')}function ve(ct,Lt){function ln(dn){var Nt,hn,qn,Wn=!1;if(dn)for(Nt=0;Nt<dn.length;Nt++)if(/^image\/(jpeg|png|gif|bmp)$/.test((hn=dn[Nt]).type)){var kn=hn.getAsFile?hn.getAsFile():hn;(qn=new FileReader).onload=se.bind(null,Lt,qn,kn),qn.readAsDataURL(kn),ct.preventDefault(),Wn=!0}return Wn}var Dt=ct.clipboardData||ct.dataTransfer;if(y.settings.paste_data_images&&Dt)return ln(Dt.items)||ln(Dt.files)}function Ne(ct,Lt){return Lt in ct&&ct[Lt].length>0}function Se(ct){return k.metaKeyPressed(ct)&&86==ct.keyCode||ct.shiftKey&&45==ct.keyCode}var Ue,Qe,Tt,_t=this,Ht=0,tt=!1,kt="%MCEPASTEBIN%",It="data:text/mce-internal,",nn=M.createIdGenerator("mceclip");_t.pasteHtml=P,_t.pasteText=Z,_t.pasteImageData=ve,y.on("preInit",function(){(function(){function ct(Dt,dn,Nt){var hn;return Ne(Dt,"text/html")?hn=Dt["text/html"]:(hn=$())==kt&&(Nt=!0),hn=M.trimHtml(hn),Ue&&Ue.firstChild&&"mcepastebin"===Ue.firstChild.id&&(Nt=!0),Q(),hn.length||(Nt=!0),Nt&&(hn=Ne(Dt,"text/plain")&&-1==hn.indexOf("</p>")?Dt["text/plain"]:M.innerText(hn)),hn==kt?void(dn||y.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void(Nt?Z(hn):P(hn))}y.on("keydown",function(Dt){function dn(Nt){Se(Nt)&&!Nt.isDefaultPrevented()&&Q()}if(Se(Dt)&&!Dt.isDefaultPrevented()){if((Tt=Dt.shiftKey&&86==Dt.keyCode)&&V.webkit&&-1!=navigator.userAgent.indexOf("Version/"))return;if(Dt.stopImmediatePropagation(),Ht=(new Date).getTime(),V.ie&&Tt)return Dt.preventDefault(),void y.fire("paste",{ieFake:!0});Q(),re(),y.once("keyup",dn),y.once("paste",function(){y.off("keyup",dn)})}}),y.on("paste",function(Dt){var dn=(new Date).getTime(),Nt=function(ct){return fe(ct.clipboardData||y.getDoc().dataTransfer)}(Dt),hn=(new Date).getTime()-dn,qn=(new Date).getTime()-Ht-hn<1e3,Wn="text"==_t.pasteFormat||Tt;return Tt=!1,Dt.isDefaultPrevented()||function(ct){var Lt=ct.clipboardData;return-1!=navigator.userAgent.indexOf("Android")&&Lt&&Lt.items&&0===Lt.items.length}(Dt)||!Ce(Nt)&&ve(Dt,Qe||y.selection.getRng())?void Q():(qn||Dt.preventDefault(),!V.ie||qn&&!Dt.ieFake||(re(),y.dom.bind(Ue,"paste",function(kn){kn.stopPropagation()}),y.getDoc().execCommand("Paste",!1,null),Nt["text/html"]=$()),void(Ne(Nt,"text/html")?(Dt.preventDefault(),ct(Nt,qn,Wn)):m.setEditorTimeout(y,function(){ct(Nt,qn,Wn)},0)))}),y.on("dragstart dragend",function(Dt){tt="dragstart"==Dt.type}),y.on("drop",function(Dt){var dn,Nt;if(Nt=function(ct){return A.getCaretRangeFromPoint(ct.clientX,ct.clientY,y.getDoc())}(Dt),!Dt.isDefaultPrevented()&&!tt&&(Ce(dn=fe(Dt.dataTransfer))&&!function(Dt){var dn=Dt["text/plain"];return!!dn&&0===dn.indexOf("file://")}(dn)||!ve(Dt,Nt))&&Nt&&!1!==y.settings.paste_filter_drop){var hn=dn["mce-internal"]||dn["text/html"]||dn["text/plain"];hn&&(Dt.preventDefault(),m.setEditorTimeout(y,function(){y.undoManager.transact(function(){dn["mce-internal"]&&y.execCommand("Delete"),y.selection.setRng(Nt),hn=M.trimHtml(hn),dn["text/html"]?P(hn):Z(hn)})}))}}),y.on("dragover dragend",function(Dt){y.settings.paste_data_images&&Dt.preventDefault()})})(),y.parser.addNodeFilter("img",function(ct,Lt,ln){function dn(kn){kn.attr("data-mce-object")||Wn===V.transparentSrc||kn.remove()}function Nt(kn){return 0===kn.indexOf("webkit-fake-url")}function hn(kn){return 0===kn.indexOf("data:")}if(!y.settings.paste_data_images&&(kn=ln).data&&!0===kn.data.paste)for(var qn=ct.length;qn--;){var Wn=ct[qn].attributes.map.src;Wn&&(Nt(Wn)||!y.settings.allow_html_data_urls&&hn(Wn))&&dn(ct[qn])}var kn})})}}),he("tinymce/pasteplugin/WordFilter",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema","tinymce/html/Serializer","tinymce/html/Node","tinymce/pasteplugin/Utils"],function(V,A,k,M,H,m){function y(Q){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(Q)||/class="OutlineElement/.test(Q)||/id="?docs\-internal\-guid\-/.test(Q)}function P(Q){var $,fe;return fe=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],Q=Q.replace(/^[\u00a0 ]+/,""),V.each(fe,function(pe){if(pe.test(Q))return $=!0,!1}),$}function Z(Q){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(Q)}function re(Q){var $=Q.settings;Q.on("BeforePastePreProcess",function(fe){function Ce(Se,Le){var Ue,Qe={},Tt=Q.dom.parseStyle(Le);return V.each(Tt,function(_t,Ht){switch(Ht){case"mso-list":(Ue=/\w+ \w+([0-9]+)/i.exec(Le))&&(Se._listLevel=parseInt(Ue[1],10)),/Ignore/i.test(_t)&&Se.firstChild&&(Se._listIgnore=!0,Se.firstChild._listIgnore=!0);break;case"horiz-align":Ht="text-align";break;case"vert-align":Ht="vertical-align";break;case"font-color":case"mso-foreground":Ht="color";break;case"mso-background":case"mso-highlight":Ht="background";break;case"font-weight":case"font-style":return void("normal"!=_t&&(Qe[Ht]=_t));case"mso-element":if(/^(comment|comment-list)$/i.test(_t))return void Se.remove()}return 0===Ht.indexOf("mso-comment")?void Se.remove():void(0!==Ht.indexOf("mso-")&&("all"==ue||Te&&Te[Ht])&&(Qe[Ht]=_t))}),/(bold)/i.test(Qe["font-weight"])&&(delete Qe["font-weight"],Se.wrap(new H("b",1))),/(italic)/i.test(Qe["font-style"])&&(delete Qe["font-style"],Se.wrap(new H("i",1))),(Qe=Q.dom.serializeStyle(Qe,Se.name))||null}var ue,Te,se=fe.content;if(se=(se=se.replace(/<b[^>]+id="?docs-internal-[^>]*>/gi,"")).replace(/<br class="?Apple-interchange-newline"?>/gi,""),(ue=$.paste_retain_style_properties)&&(Te=V.makeMap(ue.split(/[, ]/))),!1!==$.paste_enable_default_filters&&y(fe.content)){fe.wordContent=!0,se=m.filter(se,[/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(Se,Le){return Le.length>0?Le.replace(/./," ").slice(Math.floor(Le.length/2)).split("").join("\xa0"):""}]]);var ve=$.paste_word_valid_elements;ve||(ve="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody");var _e=new k({valid_elements:ve,valid_children:"-li[p]"});V.each(_e.elements,function(Se){Se.attributes.class||(Se.attributes.class={},Se.attributesOrder.push("class")),Se.attributes.style||(Se.attributes.style={},Se.attributesOrder.push("style"))});var Me=new A({},_e);Me.addAttributeFilter("style",function(Se){for(var Le,Ue=Se.length;Ue--;)(Le=Se[Ue]).attr("style",Ce(Le,Le.attr("style"))),"span"==Le.name&&Le.parent&&!Le.attributes.length&&Le.unwrap()}),Me.addAttributeFilter("class",function(Se){for(var Le,Ue,Qe=Se.length;Qe--;)Ue=(Le=Se[Qe]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(Ue)&&Le.remove(),Le.attr("class",null)}),Me.addNodeFilter("del",function(Se){for(var Le=Se.length;Le--;)Se[Le].remove()}),Me.addNodeFilter("a",function(Se){for(var Le,Ue,Qe,Tt=Se.length;Tt--;)if(Ue=(Le=Se[Tt]).attr("href"),Qe=Le.attr("name"),Ue&&-1!=Ue.indexOf("#_msocom_"))Le.remove();else if(Ue&&0===Ue.indexOf("file://")&&(Ue=Ue.split("#")[1])&&(Ue="#"+Ue),Ue||Qe){if(Qe&&!/^_?(?:toc|edn|ftn)/i.test(Qe)){Le.unwrap();continue}Le.attr({href:Ue,name:Qe})}else Le.unwrap()});var Ne=Me.parse(se);!1!==$.paste_convert_word_fake_lists&&function(Se){function Le(Dt){var dn="";if(3===Dt.type)return Dt.value;if(Dt=Dt.firstChild)do{dn+=Le(Dt)}while(Dt=Dt.next);return dn}function Ue(Dt,dn){if(3===Dt.type&&dn.test(Dt.value))return Dt.value=Dt.value.replace(dn,""),!1;if(Dt=Dt.firstChild)do{if(!Ue(Dt,dn))return!1}while(Dt=Dt.next);return!0}function Qe(Dt){if(Dt._listIgnore)Dt.remove();else if(Dt=Dt.firstChild)do{Qe(Dt)}while(Dt=Dt.next)}function Tt(Dt,dn,Nt){var hn=Dt._listLevel||tt;hn!=tt&&(hn<tt?_t&&(_t=_t.parent.parent):(Ht=_t,_t=null)),_t&&_t.name==dn?_t.append(Dt):(Ht=Ht||_t,_t=new H(dn,1),Nt>1&&_t.attr("start",""+Nt),Dt.wrap(_t)),Dt.name="li",hn>tt&&Ht&&Ht.lastChild.append(_t),tt=hn,Qe(Dt),Ue(Dt,/^\u00a0+/),Ue(Dt,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),Ue(Dt,/^\u00a0+/)}for(var _t,Ht,tt=1,kt=[],It=Se.firstChild;null!=It;)if(kt.push(It),null!==(It=It.walk()))for(;void 0!==It&&It.parent!==Se;)It=It.walk();for(var nn=0;nn<kt.length;nn++)if("p"==(Se=kt[nn]).name&&Se.firstChild){var ct=Le(Se);if(Z(ct)){Tt(Se,"ul");continue}if(P(ct)){var Lt=/([0-9]+)\./.exec(ct),ln=1;Lt&&(ln=parseInt(Lt[1],10)),Tt(Se,"ol",ln);continue}if(Se._listLevel){Tt(Se,"ul",1);continue}_t=null}else Ht=_t,_t=null}(Ne),fe.content=new M({validate:$.validate},_e).serialize(Ne)}})}return re.isWordContent=y,re}),he("tinymce/pasteplugin/Quirks",["tinymce/Env","tinymce/util/Tools","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Utils"],function(V,A,k,M){return function(H){function m(Q){H.on("BeforePastePreProcess",function($){$.content=Q($.content)})}var Q;V.webkit&&m(function(Q){if(k.isWordContent(Q))return Q;var $=H.settings.paste_webkit_styles;if(!1===H.settings.paste_remove_styles_if_webkit||"all"==$)return Q;if($&&($=$.split(/[, ]/)),$){var fe=H.dom,pe=H.selection.getNode();Q=Q.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(Ce,ue,Te,se){var ve=fe.parseStyle(Te,"span"),_e={};if("none"===$)return ue+se;for(var Me=0;Me<$.length;Me++){var Ne=ve[$[Me]],Se=fe.getStyle(pe,$[Me],!0);/color/.test($[Me])&&(Ne=fe.toHex(Ne),Se=fe.toHex(Se)),Se!=Ne&&(_e[$[Me]]=Ne)}return(_e=fe.serializeStyle(_e,"span"))?ue+' style="'+_e+'"'+se:ue+se})}else Q=Q.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return Q.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(Ce,ue,Te,se){return ue+' style="'+Te+'"'+se})}),V.ie&&(m(function(Q){if(!k.isWordContent(Q))return Q;var $=[];A.each(H.schema.getBlockElements(),function(pe,Ce){$.push(Ce)});var fe=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+$.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return Q=M.filter(Q,[[fe,"$1"]]),M.filter(Q,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}),Q=function(Q){H.$("a",Q).find("font,u").each(function($,fe){H.dom.remove(fe,!0)})},H.on("PastePostProcess",function($){Q($.node)}))}}),he("tinymce/pasteplugin/Plugin",["tinymce/PluginManager","tinymce/pasteplugin/Clipboard","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Quirks"],function(V,A,k,M){var H;V.add("paste",function(m){function P(){if("text"==re.pasteFormat)re.pasteFormat="html",m.fire("PastePlainTextToggle",{state:!1});else if(re.pasteFormat="text",m.fire("PastePlainTextToggle",{state:!0}),!H&&!1!==m.settings.paste_plaintext_inform){var fe=m.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.");m.notificationManager.open({text:fe,type:"info"}),H=!0}m.focus()}function Z(){var fe=this;fe.active("text"===re.pasteFormat),m.on("PastePlainTextToggle",function(pe){fe.active(pe.state)})}var re,Q=this,$=m.settings;return/(^|[ ,])powerpaste([, ]|$)/.test($.plugins)&&V.get("powerpaste")?void("undefined"!=typeof console&&console.log&&console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")):(Q.clipboard=re=new A(m),Q.quirks=new M(m),Q.wordFilter=new k(m),m.settings.paste_as_text&&(Q.clipboard.pasteFormat="text"),$.paste_preprocess&&m.on("PastePreProcess",function(fe){$.paste_preprocess.call(Q,Q,fe)}),$.paste_postprocess&&m.on("PastePostProcess",function(fe){$.paste_postprocess.call(Q,Q,fe)}),m.addCommand("mceInsertClipboardContent",function(fe,pe){pe.content&&Q.clipboard.pasteHtml(pe.content),pe.text&&Q.clipboard.pasteText(pe.text)}),m.settings.paste_block_drop&&m.on("dragend dragover draggesture dragdrop drop drag",function(fe){fe.preventDefault(),fe.stopPropagation()}),m.settings.paste_data_images||m.on("drop",function(fe){var pe=fe.dataTransfer;pe&&pe.files&&pe.files.length>0&&fe.preventDefault()}),m.addCommand("mceTogglePlainTextPaste",P),m.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:P,onPostRender:Z}),void m.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:re.pasteFormat,onclick:P,onPostRender:Z}))})}),function(V){var A,k,M,H,m;for(A=0;A<V.length;A++){k=Ge,H=(M=V[A]).split(/[.\/]/);for(var y=0;y<H.length-1;++y)k[H[y]]===ht&&(k[H[y]]={}),k=k[H[y]];k[H[H.length-1]]=ne[M]}if(Ge.AMDLC_TESTS){for(M in m=Ge.privateModules||{},ne)m[M]=ne[M];for(A=0;A<V.length;A++)delete m[V[A]];Ge.privateModules=m}}(["tinymce/pasteplugin/Utils"])}(window),function(Ge,ht){"use strict";function he(ne,V,A){if("string"!=typeof ne)throw"invalid module definition, module id must be defined and be a string";if(V===ht)throw"invalid module definition, dependencies must be specified";if(A===ht)throw"invalid module definition, definition function must be specified";!function(ne,V){for(var A,k=[],M=0;M<ne.length;++M){if(!(A=J[ne[M]]||ke(ne[M])))throw"module definition dependecy not found: "+ne[M];k.push(A)}V.apply(null,k)}(V,function(){J[ne]=A.apply(null,arguments)})}function ke(ne){for(var V=Ge,A=ne.split(/[.\/]/),k=0;k<A.length;++k){if(!V[A[k]])return;V=V[A[k]]}return V}var J={};he("tinymce/tableplugin/Utils",["tinymce/Env"],function(ne){var A=function(M){return function(H,m){H&&(1===(m=parseInt(m,10))||0===m?H.removeAttribute(M,1):H.setAttribute(M,m,1))}},k=function(M){return function(H){return parseInt(H.getAttribute(M)||1,10)}};return{setColSpan:A("colSpan"),setRowSpan:A("rowspan"),getColSpan:k("colSpan"),getRowSpan:k("rowSpan"),setSpanVal:function(M,H,m){A(H)(M,m)},getSpanVal:function(M,H){return k(H)(M)},paddCell:function(M){(!ne.ie||ne.ie>9)&&(M.hasChildNodes()||(M.innerHTML='<br data-mce-bogus="1" />'))}}}),he("tinymce/tableplugin/SplitCols",["tinymce/util/Tools","tinymce/tableplugin/Utils"],function(ne,V){var A=function($,fe,pe){return $[pe]?$[pe][fe]:null},k=function($,fe,pe){var Ce=A($,fe,pe);return Ce?Ce.elm:null},M=function($,fe,pe,Ce){var ue,se=0,ve=k($,fe,pe);for(ue=pe;(Ce>0?ue<$.length:ue>=0)&&ve===A($,fe,ue).elm;ue+=Ce)se++;return se},H=function($,fe,pe){for(var Ce,ue=$[pe],Te=fe;Te<ue.length;Te++)if((Ce=ue[Te]).real)return Ce.elm;return null},y=function($,fe){var Ce=$.elm.ownerDocument.createElement("td");return V.setColSpan(Ce,V.getColSpan($.elm)),V.setRowSpan(Ce,fe),V.paddCell(Ce),Ce},P=function($,fe,pe,Ce){var ue=H($,pe+1,Ce);ue?ue.parentNode.insertBefore(fe,ue):(ue=H($,0,Ce)).parentNode.appendChild(fe)};return{splitAt:function($,fe,pe,Ce){var ue=function($,fe){for(var pe,Ce=[],ue=$[fe],Te=0;Te<ue.length;Te++)Ce.push({elm:(pe=ue[Te]).elm,above:M($,Te,fe,-1)-1,below:M($,Te,fe,1)-1}),Te+=V.getColSpan(pe.elm)-1;return Ce}($,pe),Te=k($,fe,pe).parentNode,se=[];return ne.each(ue,function(ve,_e){var Me=Ce?function($,fe,pe,Ce){if(0!==fe.above){V.setRowSpan(fe.elm,fe.above);var ue=y(fe,fe.below+1);return P($,ue,pe,Ce),ue}return null}($,ve,_e,pe):function($,fe,pe,Ce){if(0!==fe.below){V.setRowSpan(fe.elm,fe.above+1);var ue=y(fe,fe.below);return P($,ue,pe,Ce+1),ue}return null}($,ve,_e,pe);null!==Me&&se.push(se)}),{cells:se,row:Te}}}}),he("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env","tinymce/tableplugin/Utils","tinymce/tableplugin/SplitCols"],function(ne,V,A,k){var M=ne.each,H=A.getSpanVal,m=A.setSpanVal;return function(y,P,Z){function re(){y.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected")}function Q(Pt){return Pt===y.getBody()}function $(Pt,Ut){return Pt?(Ut=ne.map(Ut.split(","),function(tn){return tn.toLowerCase()}),ne.grep(Pt.childNodes,function(tn){return-1!==ne.inArray(Ut,tn.nodeName.toLowerCase())})):[]}function fe(){var Pt=0;Ft=[],gn=0,M(["thead","tbody","tfoot"],function(Ut){var tn=$(P,Ut)[0],yn=$(tn,"tr");M(yn,function(cn,$t){$t+=Pt,M($(cn,"td,th"),function(_n,Mn){var Rn,On,oi,Wi;if(Ft[$t])for(;Ft[$t][Mn];)Mn++;for(oi=H(_n,"rowspan"),Wi=H(_n,"colspan"),On=$t;On<$t+oi;On++)for(Ft[On]||(Ft[On]=[]),Rn=Mn;Rn<Mn+Wi;Rn++)Ft[On][Rn]={part:Ut,real:On==$t&&Rn==Mn,elm:_n,rowspan:oi,colspan:Wi};gn=Math.max(gn,Mn+1)})}),Pt+=yn.length})}function pe(Pt){return y.fire("newrow",{node:Pt}),Pt}function Ce(Pt){return y.fire("newcell",{node:Pt}),Pt}function ue(Pt,Ut){return(Pt=Pt.cloneNode(Ut)).removeAttribute("id"),Pt}function Te(Pt,Ut){var tn;if(tn=Ft[Ut])return tn[Pt]}function se(Pt,Ut){return Pt[Ut]?Pt[Ut]:null}function ve(Pt,Ut){for(var tn=[],yn=0;yn<Pt.length;yn++)tn.push(Te(Ut,yn));return tn}function _e(Pt){return Pt&&(!!En.getAttrib(Pt.elm,"data-mce-selected")||Pt==Z)}function Me(){var Pt=[];return M(P.rows,function(Ut){M(Ut.cells,function(tn){if(En.getAttrib(tn,"data-mce-selected")||Z&&tn==Z.elm)return Pt.push(Ut),!1})}),Pt}function Le(Pt){var Ut,tn={};return!1!==y.settings.table_clone_elements&&(tn=ne.makeMap((y.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),ne.walk(Pt,function(yn){var cn;if(3==yn.nodeType)return M(En.getParents(yn.parentNode,null,Pt).reverse(),function($t){tn[$t.nodeName]&&($t=ue($t,!1),Ut?cn&&cn.appendChild($t):Ut=cn=$t,cn=$t)}),cn&&(cn.innerHTML=V.ie&&V.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'),!1},"childNodes"),Ce(Pt=ue(Pt,!1)),m(Pt,"rowSpan",1),m(Pt,"colSpan",1),Ut?Pt.appendChild(Ut):A.paddCell(Pt),Pt}function Ue(){var Pt,Ut=En.createRng();return M(En.select("tr",P),function(tn){0===tn.cells.length&&En.remove(tn)}),0===En.select("tr",P).length?(Ut.setStartBefore(P),Ut.setEndBefore(P),Un.setRng(Ut),void En.remove(P)):(M(En.select("thead,tbody,tfoot",P),function(tn){0===tn.rows.length&&En.remove(tn)}),fe(),void(An&&(Pt=Ft[Math.min(Ft.length-1,An.y)],Pt&&(Un.select(Pt[Math.min(Pt.length-1,An.x)].elm,!0),Un.collapse(!0)))))}function Qe(Pt,Ut,tn,yn){var cn,$t,_n,Mn,Rn;for(cn=Ft[Ut][Pt].elm.parentNode,_n=1;_n<=tn;_n++)if(cn=En.getNext(cn,"tr")){for($t=Pt;$t>=0;$t--)if((Rn=Ft[Ut+_n][$t].elm).parentNode==cn){for(Mn=1;Mn<=yn;Mn++)En.insertAfter(Le(Rn),Rn);break}if(-1==$t)for(Mn=1;Mn<=yn;Mn++)cn.insertBefore(Le(cn.cells[0]),cn.cells[0])}}function Tt(){M(Ft,function(Pt,Ut){M(Pt,function(tn,yn){var cn,$t,_n;if(_e(tn)&&(cn=H(tn=tn.elm,"colspan"),$t=H(tn,"rowspan"),cn>1||$t>1)){for(m(tn,"rowSpan",1),m(tn,"colSpan",1),_n=0;_n<cn-1;_n++)En.insertAfter(Le(tn),tn);Qe(yn,Ut,$t-1,cn)}})})}function _t(Pt,Ut,tn){for(var yn=[],cn=0;cn<Pt.length;cn++)(cn<Ut||cn>tn)&&yn.push(Pt[cn]);return yn}function Ht(Pt){return ne.grep(Pt,function(Ut){return!1===Ut.real})}function tt(Pt){for(var Ut=[],tn=0;tn<Pt.length;tn++){var yn=Pt[tn].elm;Ut[Ut.length-1]!==yn&&Ut.push(yn)}return Ut}function ct(Pt){var Ut,tn,yn,cn,$t,_n,Mn,Rn,On,oi;if(M(Ft,function(Wi,Ei){if(M(Wi,function(Ri){if(_e(Ri)&&(_n=pe(ue($t=(Ri=Ri.elm).parentNode,!1)),Ut=Ei,Pt))return!1}),Pt)return Ut===ht}),Ut!==ht){for(cn=0,oi=0;cn<Ft[0].length;cn+=oi)if(Ft[Ut][cn]&&(oi=H(tn=Ft[Ut][cn].elm,"colspan"),tn!=yn)){if(Pt){if(Ut>0&&Ft[Ut-1][cn]&&(On=H(Rn=Ft[Ut-1][cn].elm,"rowSpan"))>1){m(Rn,"rowSpan",On+1);continue}}else if((On=H(tn,"rowspan"))>1){m(tn,"rowSpan",On+1);continue}Mn=Le(tn),m(Mn,"colSpan",tn.colSpan),_n.appendChild(Mn),yn=tn}_n.hasChildNodes()&&(Pt?$t.parentNode.insertBefore(_n,$t):En.insertAfter(_n,$t))}}function ln(Pt){var Ut,tn;M(Ft,function(yn){if(M(yn,function(cn,$t){if(_e(cn)&&(Ut=$t,Pt))return!1}),Pt)return Ut===ht}),M(Ft,function(yn,cn){var $t,_n,Mn;yn[Ut]&&($t=yn[Ut].elm)!=tn&&(Mn=H($t,"colspan"),_n=H($t,"rowspan"),1==Mn?Pt?($t.parentNode.insertBefore(Le($t),$t),Qe(Ut,cn,_n-1,Mn)):(En.insertAfter(Le($t),$t),Qe(Ut,cn,_n-1,Mn)):m($t,"colSpan",$t.colSpan+1),tn=$t)})}function Nt(Pt){var Ut=[];return M(Pt,function(tn){M(tn,function(yn){Ut.push(yn)})}),Ut}function Jn(Pt){var Ut;return M(Ft,function(tn,yn){return M(tn,function(cn,$t){if(cn.elm==Pt)return Ut={x:$t,y:yn},!1}),!Ut}),Ut}var Ft,gn,An,Gn,Pt,Ut,Un=y.selection,En=Un.dom;P=P||En.getParent(Un.getStart(!0),"table"),fe(),(Z=Z||En.getParent(Un.getStart(!0),"th,td"))&&(An=Jn(Z),Pt=Ut=0,M(Ft,function(tn,yn){M(tn,function(cn,$t){var _n,Mn;_e(cn)&&($t>Pt&&(Pt=$t),yn>Ut&&(Ut=yn),(cn=Ft[yn][$t]).real&&((_n=cn.colspan-1)&&$t+_n>Pt&&(Pt=$t+_n),(Mn=cn.rowspan-1)&&yn+Mn>Ut&&(Ut=yn+Mn)))})}),Gn={x:Pt,y:Ut},Z=Te(An.x,An.y)),ne.extend(this,{deleteTable:function(){var Pt=En.createRng();Q(P)||(Pt.setStartAfter(P),Pt.setEndAfter(P),Un.setRng(Pt),En.remove(P))},split:Tt,merge:function(Pt,Ut,tn){var yn,cn,$t,_n,Mn,Rn,On,oi,Wi,Ei,Ri,Or,Gi;if(Pt?(_n=(cn=(yn=Jn(Pt)).x)+(Ut-1),Mn=($t=yn.y)+(tn-1)):(An=Gn=null,M(Ft,function(Ui,Fi){M(Ui,function(zr,Tr){_e(zr)&&(An||(An={x:Tr,y:Fi}),Gn={x:Tr,y:Fi})})}),An&&(cn=An.x,$t=An.y,_n=Gn.x,Mn=Gn.y)),oi=Te(cn,$t),Wi=Te(_n,Mn),oi&&Wi&&oi.part==Wi.part){Tt(),fe(),Or=function(Pt,Ut,tn,yn,cn){var $t=0;if(cn-tn<1)return 0;for(var _n=tn+1;_n<=cn;_n++){var Mn=_t(se(Pt,_n),Ut,yn),Rn=Ht(Mn);Mn.length===Rn.length&&(ne.each(tt(Rn),function(On){A.setRowSpan(On,A.getRowSpan(On)-1)}),$t++)}return $t}(Ft,cn,$t,_n,Mn),Gi=function(Pt,Ut,tn,yn,cn){var $t=0;if(yn-Ut<1)return 0;for(var _n=Ut+1;_n<=yn;_n++){var Mn=_t(ve(Pt,_n),tn,cn),Rn=Ht(Mn);Mn.length===Rn.length&&(ne.each(tt(Rn),function(On){A.setColSpan(On,A.getColSpan(On)-1)}),$t++)}return $t}(Ft,cn,$t,_n,Mn),oi=Te(cn,$t).elm;var Ii=_n-cn-Gi+1,or=Mn-$t-Or+1;for(Ii===gn&&or===Ft.length&&(Ii=1,or=1),Ii===gn&&or>1&&(or=1),m(oi,"colSpan",Ii),m(oi,"rowSpan",or),On=$t;On<=Mn;On++)for(Rn=cn;Rn<=_n;Rn++)Ft[On]&&Ft[On][Rn]&&(Pt=Ft[On][Rn].elm)!=oi&&(Ei=ne.grep(Pt.childNodes),M(Ei,function(Ui){oi.appendChild(Ui)}),Ei.length&&(Ei=ne.grep(oi.childNodes),Ri=0,M(Ei,function(Ui){"BR"==Ui.nodeName&&Ri++<Ei.length-1&&oi.removeChild(Ui)})),En.remove(Pt));Ue()}},insertRow:ct,insertRows:function(Pt,Ut){Ut=Ut||Me().length||1;for(var tn=0;tn<Ut;tn++)ct(Pt)},insertCol:ln,insertCols:function(Pt,Ut){Ut=Ut||function(){var Pt=0;return M(Ft,function(Ut){if(M(Ut,function(tn){_e(tn)&&Pt++}),Pt)return!1}),Pt}()||1;for(var tn=0;tn<Ut;tn++)ln(Pt)},splitCols:function(Pt){if(An){var Ut=k.splitAt(Ft,An.x,An.y,Pt);ne.each(Ut.cells,Ce)}},deleteCols:function(){var Pt=[];Q(P)&&(1==Ft[0].length||function(Pt){return ne.grep(Nt(Pt),_e)}(Ft).length==Nt(Ft).length)||(M(Ft,function(Ut){M(Ut,function(tn,yn){_e(tn)&&-1===ne.inArray(Pt,yn)&&(M(Ft,function(cn){var $t,_n=cn[yn].elm;($t=H(_n,"colSpan"))>1?m(_n,"colSpan",$t-1):En.remove(_n)}),Pt.push(yn))})}),Ue())},deleteRows:function(){var Ut;Ut=Me(),Q(P)&&Ut.length==P.rows.length||(M(Ut.reverse(),function(tn){!function(tn){var yn,cn;M(tn.cells,function($t){var _n=H($t,"rowSpan");_n>1&&(m($t,"rowSpan",_n-1),Qe((yn=Jn($t)).x,yn.y,1,1))}),yn=Jn(tn.cells[0]),M(Ft[yn.y],function($t){var _n;($t=$t.elm)!=cn&&((_n=H($t,"rowSpan"))<=1?En.remove($t):m($t,"rowSpan",_n-1),cn=$t)})}(tn)}),Ue())},cutRows:function(){var Pt=Me();if(!Q(P)||Pt.length!=P.rows.length)return En.remove(Pt),Ue(),Pt},copyRows:function(){var Pt=Me();return M(Pt,function(Ut,tn){Pt[tn]=ue(Ut,!0)}),Pt},pasteRows:function(Pt,Ut){var tn,yn,cn;Pt&&(tn=k.splitAt(Ft,An.x,An.y,Ut),yn=tn.row,ne.each(tn.cells,Ce),cn=ne.map(Pt,function($t){return $t.cloneNode(!0)}),Ut||cn.reverse(),M(cn,function($t){var _n,Mn,Rn=$t.cells.length;for(pe($t),_n=0;_n<Rn;_n++)Ce(Mn=$t.cells[_n]),m(Mn,"colSpan",1),m(Mn,"rowSpan",1);for(_n=Rn;_n<gn;_n++)$t.appendChild(Ce(Le($t.cells[Rn-1])));for(_n=gn;_n<Rn;_n++)En.remove($t.cells[_n]);Ut?yn.parentNode.insertBefore($t,yn):En.insertAfter($t,yn)}),re())},getPos:Jn,setStartCell:function(Pt){An=Jn(Pt)},setEndCell:function(Pt){var Ut,tn,yn,cn,$t,_n,Mn,Rn,On,oi;if(Gn=Jn(Pt),An&&Gn){for(Ut=Math.min(An.x,Gn.x),tn=Math.min(An.y,Gn.y),$t=yn=Math.max(An.x,Gn.x),_n=cn=Math.max(An.y,Gn.y),oi=tn;oi<=cn;oi++)for(On=Ut;On<=yn;On++)(Pt=Ft[oi][On]).real&&((Mn=Pt.colspan-1)&&On+Mn>$t&&($t=On+Mn),(Rn=Pt.rowspan-1)&&oi+Rn>_n&&(_n=oi+Rn));for(re(),oi=tn;oi<=_n;oi++)for(On=Ut;On<=$t;On++)Ft[oi][On]&&En.setAttrib(Ft[oi][On].elm,"data-mce-selected","1")}},moveRelIdx:function(Pt,Ut){var tn,yn,cn;yn=(tn=Jn(Pt)).y*gn+tn.x;do{if(!(cn=Te((yn+=Ut)%gn,Math.floor(yn/gn))))break;if(cn.elm!=Pt)return Un.select(cn.elm,!0),En.isEmpty(cn.elm)&&Un.collapse(!0),!0}while(cn.elm==Pt);return!1},refresh:fe})}}),he("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/util/Delay","tinymce/Env","tinymce/util/Tools","tinymce/tableplugin/Utils"],function(ne,V,A,k,M){var H=k.each,m=M.getSpanVal;return function(y){function Z(){y.on("KeyDown",function(Ce){var ue,Te,se=y.dom;37!=Ce.keyCode&&38!=Ce.keyCode||(ue=y.selection.getRng(),(Te=se.getParent(ue.startContainer,"table"))&&y.getBody().firstChild==Te&&function(Ce,ue){var Te,se=ue.ownerDocument,ve=se.createRange();return ve.setStartBefore(ue),ve.setEnd(Ce.endContainer,Ce.endOffset),(Te=se.createElement("body")).appendChild(ve.cloneContents()),0===Te.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}(ue,Te)&&((ue=se.createRng()).setStartBefore(Te),ue.setEndBefore(Te),y.selection.setRng(ue),Ce.preventDefault()))})}function re(){y.on("KeyDown SetContent VisualAid",function(){var pe;for(pe=y.getBody().lastChild;pe;pe=pe.previousSibling)if(3==pe.nodeType){if(pe.nodeValue.length>0)break}else if(1==pe.nodeType&&("BR"==pe.tagName||!pe.getAttribute("data-mce-bogus")))break;pe&&"TABLE"==pe.nodeName&&(y.settings.forced_root_block?y.dom.add(y.getBody(),y.settings.forced_root_block,y.settings.forced_root_block_attrs,A.ie&&A.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'):y.dom.add(y.getBody(),"br",{"data-mce-bogus":"1"}))}),y.on("PreProcess",function(pe){var Ce=pe.node.lastChild;Ce&&("BR"==Ce.nodeName||1==Ce.childNodes.length&&("BR"==Ce.firstChild.nodeName||"\xa0"==Ce.firstChild.nodeValue))&&Ce.previousSibling&&"TABLE"==Ce.previousSibling.nodeName&&y.dom.remove(Ce)})}var Ce,Te,se,ve,Me,Ne;(function(){function pe(ue){y.selection.select(ue,!0),y.selection.collapse(!0)}function Ce(ue){y.$(ue).empty(),M.paddCell(ue)}y.on("keydown",function(ue){var Te,se,ve,_e;if((ue.keyCode==ne.DELETE||ue.keyCode==ne.BACKSPACE)&&!ue.isDefaultPrevented()&&(Te=y.dom.getParent(y.selection.getStart(),"table"))){if(se=y.dom.select("td,th",Te),0===(ve=k.grep(se,function(Me){return!!y.dom.getAttrib(Me,"data-mce-selected")})).length)return _e=y.dom.getParent(y.selection.getStart(),"td,th"),void(y.selection.isCollapsed()&&_e&&y.dom.isEmpty(_e)&&(ue.preventDefault(),Ce(_e),pe(_e)));ue.preventDefault(),y.undoManager.transact(function(){se.length==ve.length?y.execCommand("mceTableDelete"):(k.each(ve,Ce),pe(ve[0]))})}})})(),Ce=function(Se,Le){var Ue=y.selection.getRng(),Qe=Se.ownerDocument.createTextNode("\xa0");Ue.startOffset?Se.insertBefore(Qe,Se.firstChild):Se.appendChild(Qe),Le&&(y.selection.select(Qe,!0),y.selection.collapse(!0))},Te=function(Se){return Se.firstChild===Se.lastChild&&Se.firstChild},se=function(Se){return Se&&3===Se.nodeType},ve=function(Se){var Le=Te(Se);return se(Le)&&1===Le.data.length?Le.data:null},Me=function(Se){return y.dom.isEmpty(Se)||Ne(ve(Se))},Ne=function(Se){return"\xa0"===Se},y.on("keydown",function(Se){if(function(Se){return(Se.keyCode==ne.DELETE||Se.keyCode==ne.BACKSPACE)&&!Se.isDefaultPrevented()}(Se)){var Le=y.dom.getParent(y.selection.getStart(),"caption");(function(Se){return Se&&"CAPTION"==Se.nodeName&&"TABLE"==Se.parentNode.nodeName})(Le)&&(A.ie&&(y.selection.isCollapsed()?function(Se){var Le=Te(Se),Ue=ve(Se);return Le&&!se(Le)||Ue&&!Ne(Ue)}(Le)&&Ce(Le):(y.undoManager.transact(function(){y.execCommand("Delete"),Me(Le)&&Ce(Le,!0)}),Se.preventDefault())),Me(Le)&&Se.preventDefault())}}),A.webkit&&(function(){function pe(Ce){function ue(It,nn){var ct=It?"previousSibling":"nextSibling",Lt=y.dom.getParent(nn,"tr"),ln=Lt[ct];if(ln)return Tt(0,nn,ln,It),Ce.preventDefault(),!0;var Dt=y.dom.getParent(Lt,"table"),dn=Lt.parentNode,Nt=dn.nodeName.toLowerCase();if("tbody"===Nt||Nt===(It?"tfoot":"thead")){var hn=function(It,nn,ct,Lt){var ln=y.dom.select(">tbody",nn),Dt=ln.indexOf(ct);return It&&0===Dt||!It&&Dt===ln.length-1?function(It,nn){var Lt=y.dom.select(">"+(It?"thead":"tfoot"),nn);return 0!==Lt.length?Lt[0]:null}(It,nn):-1===Dt?ln["thead"===ct.tagName.toLowerCase()?0:ln.length-1]:ln[Dt+(It?-1:1)]}(It,Dt,dn);if(null!==hn)return function(It,nn,ct){var Lt=Me(nn,It);return Lt&&Tt(0,ct,Lt,It),Ce.preventDefault(),!0}(It,hn,nn)}return function(It,nn,ct,Lt){var ln=Lt[ct];if(ln)return Ne(ln),!0;var Dt=y.dom.getParent(Lt,"td,th");return Dt?ue(It,Dt):(Ne(Me(nn,!It)),Ce.preventDefault(),!1)}(It,Lt,ct,Dt)}function Me(It,nn){var ct=It&&It[nn?"lastChild":"firstChild"];return ct&&"BR"===ct.nodeName?y.dom.getParent(ct,"td,th"):ct}function Ne(It){y.selection.setCursorLocation(It,0)}function Tt(It,nn,ct,Lt){var ln=function(It){for(var nn=0,ct=It;ct.previousSibling;)nn+=m(ct=ct.previousSibling,"colspan");return nn}(y.dom.getParent(nn,"td,th")),Dt=function(It,nn){var ct=0,Lt=0;return H(It.children,function(ln,Dt){if(ct+=m(ln,"colspan"),Lt=Dt,ct>nn)return!1}),Lt}(ct,ln),dn=ct.childNodes[Dt];Ne(Me(dn,Lt)||dn)}var It,nn,tt=Ce.keyCode;if((tt==ne.UP||tt==ne.DOWN)&&(nn=(It=y).selection.getNode(),null!==It.dom.getParent(nn,"tr"))){var kt=y.selection.getNode();V.setEditorTimeout(y,function(){(function(It){var nn=y.selection.getNode(),ct=y.dom.getParent(nn,"td,th"),Lt=y.dom.getParent(It,"td,th");return ct&&ct!==Lt&&function(It,nn){return y.dom.getParent(It,"TABLE")===y.dom.getParent(nn,"TABLE")}(ct,Lt)})(kt)&&ue(!Ce.shiftKey&&tt===ne.UP,kt)},0)}}y.on("KeyDown",function(Ce){pe(Ce)})}(),function(){function Ce(){var ue=y.selection.getRng(),Te=y.selection.getNode(),se=y.dom.getParent(ue.startContainer,"TD,TH");if(function(ue,Te,se,ve){var _e,Le=ue.dom.getParent(Te.startContainer,"TABLE");return Le&&(_e=Le.parentNode),3==Te.startContainer.nodeType&&0===Te.startOffset&&0===Te.endOffset&&ve&&("TR"==se.nodeName||se==_e)||("TD"==se.nodeName||"TH"==se.nodeName)&&!ve}(y,ue,Te,se)){se||(se=Te);for(var ve=se.lastChild;ve.lastChild;)ve=ve.lastChild;3==ve.nodeType&&(ue.setEnd(ve,ve.data.length),y.selection.setRng(ue))}}y.on("KeyDown",function(){Ce()}),y.on("MouseDown",function(ue){2!=ue.button&&Ce()})}()),A.gecko&&(Z(),re()),A.ie>9&&(Z(),re())}}),he("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],function(ne,V,A){return function(k,M){function H(Te){k.getBody().style.webkitUserSelect="",(Te||Ce)&&(k.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected"),Ce=!1)}function m(Te,se){return!(!Te||!se)&&Te===pe.getParent(se,"table")}function y(Te){var se,ve,_e=Te.target;if(!$&&!fe&&_e!==Q&&(Q=_e,re&&Z)){if(ve=pe.getParent(_e,"td,th"),m(re,ve)||(ve=pe.getParent(re,"td,th")),Z===ve&&!Ce)return;if(M(!0),m(re,ve)){Te.preventDefault(),P||(P=new ne(k,re,Z),k.getBody().style.webkitUserSelect="none"),P.setEndCell(ve),Ce=!0,se=k.selection.getSel();try{se.removeAllRanges?se.removeAllRanges():se.empty()}catch(Me){}}}}var P,Z,re,Q,$,fe,pe=k.dom,Ce=!0,ue=function(){Z=P=re=Q=null,M(!1)};return k.on("SelectionChange",function(Te){Ce&&Te.stopImmediatePropagation()},!0),k.on("MouseDown",function(Te){2==Te.button||$||fe||(H(),Z=pe.getParent(Te.target,"td,th"),re=pe.getParent(Z,"table"))}),k.on("mouseover",y),k.on("remove",function(){pe.unbind(k.getDoc(),"mouseover",y),H()}),k.on("MouseUp",function(){function Te(Le,Ue){var Qe=new V(Le,Le);do{if(3==Le.nodeType&&0!==A.trim(Le.nodeValue).length)return void(Ue?se.setStart(Le,0):se.setEnd(Le,Le.nodeValue.length));if("BR"==Le.nodeName)return void(Ue?se.setStartBefore(Le):se.setEndBefore(Le))}while(Le=Ue?Qe.next():Qe.prev())}var se,ve,_e,Me,Ne,Se=k.selection;if(Z){if(P&&(k.getBody().style.webkitUserSelect=""),(ve=pe.select("td[data-mce-selected],th[data-mce-selected]")).length>0){(se=pe.createRng()).setStartBefore(Me=ve[0]),se.setEndAfter(Me),Te(Me,1),_e=new V(Me,pe.getParent(ve[0],"table"));do{if("TD"==Me.nodeName||"TH"==Me.nodeName){if(!pe.getAttrib(Me,"data-mce-selected"))break;Ne=Me}}while(Me=_e.next());Te(Ne),Se.setRng(se)}k.nodeChanged(),ue()}}),k.on("KeyUp Drop SetContent",function(Te){H("setcontent"==Te.type),ue(),$=!1}),k.on("ObjectResizeStart ObjectResized",function(Te){$="objectresized"!=Te.type}),k.on("dragstart",function(){fe=!0}),k.on("drop dragend",function(){fe=!1}),{clear:H}}}),he("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],function(ne,V){var A=ne.each;return function(k){function M(){var Ce=k.settings.color_picker_callback;if(Ce)return function(){var ue=this;Ce.call(k,function(Te){ue.value(Te).fire("change")},ue.value())}}function H(Ce){return{title:"Advanced",type:"form",defaults:{onchange:function(){Q(Ce,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:M()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:M()}]}]}}function m(Ce){return Ce?Ce.replace(/px$/,""):""}function y(Ce){return/^[0-9]+$/.test(Ce)&&(Ce+="px"),Ce}function P(Ce){A("left center right".split(" "),function(ue){k.formatter.remove("align"+ue,{},Ce)})}function re(Ce,ue,Te){return function se(ve,_e){return _e=_e||[],ne.each(ve,function(Me){var Ne={text:Me.text||Me.title};Me.menu?Ne.menu=se(Me.menu):(Ne.value=Me.value,ue&&ue(Ne)),_e.push(Ne)}),_e}(Ce,Te||[])}function Q(Ce,ue,Te){var se=ue.toJSON(),ve=Ce.parseStyle(se.style);Te?(ue.find("#borderColor").value(ve["border-color"]||"")[0].fire("change"),ue.find("#backgroundColor").value(ve["background-color"]||"")[0].fire("change")):(ve["border-color"]=se.borderColor,ve["background-color"]=se.backgroundColor),ue.find("#style").value(Ce.serializeStyle(Ce.parseStyle(Ce.serializeStyle(ve))))}function $(Ce,ue,Te){var se=Ce.parseStyle(Ce.getAttrib(Te,"style"));se["border-color"]&&(ue.borderColor=se["border-color"]),se["background-color"]&&(ue.backgroundColor=se["background-color"]),ue.style=Ce.serializeStyle(se)}var pe=this;pe.tableProps=function(){pe.table(!0)},pe.table=function(Ce){function ue(){function Qe(_t,Ht,tt){if("TD"===_t.tagName||"TH"===_t.tagName)Le.setStyle(_t,Ht,tt);else if(_t.children)for(var kt=0;kt<_t.children.length;kt++)Qe(_t.children[kt],Ht,tt)}var Tt;Q(Le,this),!1===(Ue=ne.extend(Ue,this.toJSON())).class&&delete Ue.class,k.undoManager.transact(function(){if(se||(se=k.plugins.table.insertTable(Ue.cols||1,Ue.rows||1)),k.dom.setAttribs(se,{style:Ue.style,class:Ue.class}),k.settings.table_style_by_css){if((Se=[]).push({name:"border",value:Ue.border}),Se.push({name:"border-spacing",value:y(Ue.cellspacing)}),function(Ce,ue,Te){var se=Ce.parseStyle(Ce.getAttrib(ue,"style"));A(Te,function(ve){se[ve.name]=ve.value}),Ce.setAttrib(ue,"style",Ce.serializeStyle(Ce.parseStyle(Ce.serializeStyle(se))))}(Le,se,Se),Le.setAttribs(se,{"data-mce-border-color":Ue.borderColor,"data-mce-cell-padding":Ue.cellpadding,"data-mce-border":Ue.border}),se.children)for(var _t=0;_t<se.children.length;_t++)Qe(se.children[_t],"border",Ue.border),Qe(se.children[_t],"padding",y(Ue.cellpadding))}else k.dom.setAttribs(se,{border:Ue.border,cellpadding:Ue.cellpadding,cellspacing:Ue.cellspacing});Le.getAttrib(se,"width")&&!k.settings.table_style_by_css?Le.setAttrib(se,"width",m(Ue.width)):Le.setStyle(se,"width",y(Ue.width)),Le.setStyle(se,"height",y(Ue.height)),(Tt=Le.select("caption",se)[0])&&!Ue.caption&&Le.remove(Tt),!Tt&&Ue.caption&&((Tt=Le.create("caption")).innerHTML=V.ie?"\xa0":'<br data-mce-bogus="1"/>',se.insertBefore(Tt,se.firstChild)),P(se),Ue.align&&k.formatter.apply("align"+Ue.align,{},se),k.focus(),k.addVisual()})}function Te(Qe,Tt){return function(kt,It){for(var nn=0;nn<It.length;nn++){var ct=Le.getStyle(It[nn],Tt);if(void 0===kt&&(kt=ct),kt!=ct)return""}return kt}(undefined,k.dom.select("td,th",Qe))}var se,ve,_e,Me,Ne,Se,Le=k.dom,Ue={};!0===Ce?(se=Le.getParent(k.selection.getStart(),"table"))&&(Ue={width:m(Le.getStyle(se,"width")||Le.getAttrib(se,"width")),height:m(Le.getStyle(se,"height")||Le.getAttrib(se,"height")),cellspacing:m(Le.getStyle(se,"border-spacing")||Le.getAttrib(se,"cellspacing")),cellpadding:Le.getAttrib(se,"data-mce-cell-padding")||Le.getAttrib(se,"cellpadding")||Te(se,"padding"),border:Le.getAttrib(se,"data-mce-border")||Le.getAttrib(se,"border")||Te(se,"border"),borderColor:Le.getAttrib(se,"data-mce-border-color"),caption:!!Le.select("caption",se)[0],class:Le.getAttrib(se,"class")},A("left center right".split(" "),function(Qe){k.formatter.matchNode(se,"align"+Qe)&&(Ue.align=Qe)})):(ve={label:"Cols",name:"cols"},_e={label:"Rows",name:"rows"}),k.settings.table_class_list&&(Ue.class&&(Ue.class=Ue.class.replace(/\s*mce\-item\-table\s*/g,"")),Me={name:"class",type:"listbox",label:"Class",values:re(k.settings.table_class_list,function(Qe){Qe.value&&(Qe.textStyle=function(){return k.formatter.getCssText({block:"table",classes:[Qe.value]})})})}),Ne={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:!1!==k.settings.table_appearance_options?[ve,_e,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[ve,_e,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},Me]},!1!==k.settings.table_advtab?($(Le,Ue,se),k.windowManager.open({title:"Table properties",data:Ue,bodyType:"tabpanel",body:[{title:"General",type:"form",items:Ne},H(Le)],onsubmit:ue})):k.windowManager.open({title:"Table properties",data:Ue,body:Ne,onsubmit:ue})},pe.merge=function(Ce,ue){k.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var Te=this.toJSON();k.undoManager.transact(function(){Ce.merge(ue,Te.cols,Te.rows)})}})},pe.cell=function(){function Ce(Le,Ue,Qe){(1===Ne.length||Qe)&&Me.setAttrib(Le,Ue,Qe)}function ue(Le,Ue,Qe){(1===Ne.length||Qe)&&Me.setStyle(Le,Ue,Qe)}function Te(){Q(Me,this),ve=ne.extend(ve,this.toJSON()),k.undoManager.transact(function(){A(Ne,function(Le){Ce(Le,"scope",ve.scope),Ce(Le,"style",ve.style),Ce(Le,"class",ve.class),ue(Le,"width",y(ve.width)),ue(Le,"height",y(ve.height)),ve.type&&Le.nodeName.toLowerCase()!==ve.type&&(Le=Me.rename(Le,ve.type)),1===Ne.length&&(P(Le),function(Ce){A("top middle bottom".split(" "),function(ue){k.formatter.remove("valign"+ue,{},Ce)})}(Le)),ve.align&&k.formatter.apply("align"+ve.align,{},Le),ve.valign&&k.formatter.apply("valign"+ve.valign,{},Le)}),k.focus()})}var se,ve,_e,Me=k.dom,Ne=[];if(Ne=k.dom.select("td[data-mce-selected],th[data-mce-selected]"),se=k.dom.getParent(k.selection.getStart(),"td,th"),!Ne.length&&se&&Ne.push(se),se=se||Ne[0]){Ne.length>1?ve={width:"",height:"",scope:"",class:"",align:"",style:"",type:se.nodeName.toLowerCase()}:((ve={width:m(Me.getStyle(se,"width")||Me.getAttrib(se,"width")),height:m(Me.getStyle(se,"height")||Me.getAttrib(se,"height")),scope:Me.getAttrib(se,"scope"),class:Me.getAttrib(se,"class")}).type=se.nodeName.toLowerCase(),A("left center right".split(" "),function(Le){k.formatter.matchNode(se,"align"+Le)&&(ve.align=Le)}),A("top middle bottom".split(" "),function(Le){k.formatter.matchNode(se,"valign"+Le)&&(ve.valign=Le)}),$(Me,ve,se)),k.settings.table_cell_class_list&&(_e={name:"class",type:"listbox",label:"Class",values:re(k.settings.table_cell_class_list,function(Le){Le.value&&(Le.textStyle=function(){return k.formatter.getCssText({block:"td",classes:[Le.value]})})})});var Se={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},_e]};k.windowManager.open(!1!==k.settings.table_cell_advtab?{title:"Cell properties",bodyType:"tabpanel",data:ve,body:[{title:"General",type:"form",items:Se},H(Me)],onsubmit:Te}:{title:"Cell properties",data:ve,body:Se,onsubmit:Te})}},pe.row=function(){function Ce(Qe,Tt,_t){(1===Ue.length||_t)&&Le.setAttrib(Qe,Tt,_t)}function Te(){var Qe,Tt,_t;Q(Le,this),Ne=ne.extend(Ne,this.toJSON()),k.undoManager.transact(function(){var Ht=Ne.type;A(Ue,function(tt){Ce(tt,"scope",Ne.scope),Ce(tt,"style",Ne.style),Ce(tt,"class",Ne.class),function(Qe,Tt,_t){(1===Ue.length||_t)&&Le.setStyle(Qe,"height",_t)}(tt,0,y(Ne.height)),Ht!==tt.parentNode.nodeName.toLowerCase()&&(Qe=Le.getParent(tt,"table"),Tt=tt.parentNode,(_t=Le.select(Ht,Qe)[0])||(_t=Le.create(Ht),Qe.firstChild?Qe.insertBefore(_t,Qe.firstChild):Qe.appendChild(_t)),_t.appendChild(tt),Tt.hasChildNodes()||Le.remove(Tt)),1===Ue.length&&P(tt),Ne.align&&k.formatter.apply("align"+Ne.align,{},tt)}),k.focus()})}var se,ve,_e,Me,Ne,Se,Le=k.dom,Ue=[];se=k.dom.getParent(k.selection.getStart(),"table"),ve=k.dom.getParent(k.selection.getStart(),"td,th"),A(se.rows,function(Qe){A(Qe.cells,function(Tt){if(Le.getAttrib(Tt,"data-mce-selected")||Tt==ve)return Ue.push(Qe),!1})}),(_e=Ue[0])&&(Ue.length>1?Ne={height:"",scope:"",class:"",align:"",type:_e.parentNode.nodeName.toLowerCase()}:((Ne={height:m(Le.getStyle(_e,"height")||Le.getAttrib(_e,"height")),scope:Le.getAttrib(_e,"scope"),class:Le.getAttrib(_e,"class")}).type=_e.parentNode.nodeName.toLowerCase(),A("left center right".split(" "),function(Qe){k.formatter.matchNode(_e,"align"+Qe)&&(Ne.align=Qe)}),$(Le,Ne,_e)),k.settings.table_row_class_list&&(Me={name:"class",type:"listbox",label:"Class",values:re(k.settings.table_row_class_list,function(Qe){Qe.value&&(Qe.textStyle=function(){return k.formatter.getCssText({block:"tr",classes:[Qe.value]})})})}),Se={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},Me]},k.windowManager.open(!1!==k.settings.table_row_advtab?{title:"Row properties",data:Ne,bodyType:"tabpanel",body:[{title:"General",type:"form",items:Se},H(Le)],onsubmit:Te}:{title:"Row properties",data:Ne,body:Se,onsubmit:Te}))}}}),he("tinymce/tableplugin/ResizeBars",["tinymce/util/Tools","tinymce/util/VK"],function(ne,V){var A;return function(k){function M(At,Wt){return{index:At,y:k.dom.getPos(Wt).y}}function H(At,Wt){return{index:At,y:k.dom.getPos(Wt).y+Wt.offsetHeight}}function m(At,Wt){return{index:At,x:k.dom.getPos(Wt).x}}function y(At,Wt){return{index:At,x:k.dom.getPos(Wt).x+Wt.offsetWidth}}function P(){return"rtl"===k.getBody().dir}function Z(){return k.inline}function re(){return Z?k.getBody().ownerDocument.body:k.getBody()}function Q(At,Wt){return P()?y(At,Wt):m(At,Wt)}function $(At,Wt){return P()?m(At,Wt):y(At,Wt)}function pe(At,Wt){var mn=k.dom.getStyle(At,Wt,!0);return parseInt(mn,10)}function Ce(At){return pe(At,"width")/pe(At.parentElement,"width")*100}function se(At,Wt,mn){for(var on=[],Sn=1;Sn<mn.length;Sn++)on.push(At(Sn-1,mn[Sn].element));return on.push(Wt(mn.length-1,mn[mn.length-1].element)),on}function ve(){var At=k.dom.select("."+Rn,re());ne.each(At,function(Wt){k.dom.remove(Wt)})}function _e(At){ve(),tt(At)}function Me(At,Wt,mn,on,Sn,Bn,Yn,Zn){var Xn={"data-mce-bogus":"all",class:Rn+" "+At,unselectable:"on","data-mce-resize":!1,style:"cursor: "+Wt+"; margin: 0; padding: 0; position: absolute; left: "+mn+"px; top: "+on+"px; height: "+Sn+"px; width: "+Bn+"px; "};return Xn[Yn]=Zn,Xn}function Le(At){return ne.map(At.rows,function(Wt){return{element:Wt,cells:ne.map(Wt.cells,function(on){var Sn=on.hasAttribute("rowspan")?parseInt(on.getAttribute("rowspan"),10):1,Bn=on.hasAttribute("colspan")?parseInt(on.getAttribute("colspan"),10):1;return{element:on,rowspan:Sn,colspan:Bn}})}})}function Ue(At){function Wt(ti,di){return ti+","+di}var Bn={},Yn=[],Zn=0,Xn=0;return ne.each(At,function(ti,di){var pi=[];ne.each(ti.cells,function(Hi){for(var Yi=0;Bn[Wt(di,Yi)]!==ht;)Yi++;for(var Ji={element:Hi.element,colspan:Hi.colspan,rowspan:Hi.rowspan,rowIndex:di,colIndex:Yi},gr=0;gr<Hi.colspan;gr++)for(var xr=0;xr<Hi.rowspan;xr++){var kr=di+xr,Ar=Yi+gr;Bn[Wt(kr,Ar)]=Ji,Zn=Math.max(Zn,kr+1),Xn=Math.max(Xn,Ar+1)}pi.push(Ji)}),Yn.push({element:ti.element,cells:pi})}),{grid:{maxRows:Zn,maxCols:Xn},getAt:function(ti,di){return Bn[Wt(ti,di)]},getAllCells:function(){var ti=[];return ne.each(Yn,function(di){ti=ti.concat(di.cells)}),ti},getAllRows:function(){return Yn}}}function Qe(At,Wt){for(var mn=[],on=At;on<Wt;on++)mn.push(on);return mn}function Tt(At,Wt,mn){for(var on,Sn=At(),Bn=0;Bn<Sn.length;Bn++)Wt(Sn[Bn])&&(on=Sn[Bn]);return on||mn()}function _t(At){var Wt=Qe(0,At.grid.maxCols),mn=Qe(0,At.grid.maxRows);return ne.map(Wt,function(on){return Tt(function(){for(var Zn=[],Xn=0;Xn<mn.length;Xn++){var ti=At.getAt(Xn,on);ti&&ti.colIndex===on&&Zn.push(ti)}return Zn},function(Zn){return 1===Zn.colspan},function(){for(var Zn,Xn=0;Xn<mn.length;Xn++)if(Zn=At.getAt(Xn,on))return Zn;return null})})}function Ht(At){var Wt=Qe(0,At.grid.maxCols),mn=Qe(0,At.grid.maxRows);return ne.map(mn,function(on){return Tt(function(){for(var Zn=[],Xn=0;Xn<Wt.length;Xn++){var ti=At.getAt(on,Xn);ti&&ti.rowIndex===on&&Zn.push(ti)}return Zn},function(Zn){return 1===Zn.rowspan},function(){return At.getAt(on,0)})})}function tt(At){var mn=Ue(Le(At)),on=Ht(mn),Sn=_t(mn),Bn=k.dom.getPos(At),Yn=on.length>0?se(M,H,on):[],Zn=Sn.length>0?se(Q,$,Sn):[];(function(At,Wt,mn){ne.each(At,function(on){var Sn=mn.x,Bn=on.y-or/2,Yn=or,Zn=Wt;k.dom.add(re(),"div",Me(On,oi,Sn,Bn,Yn,Zn,Wi,on.index))})})(Yn,At.offsetWidth,Bn),function(At,Wt,mn){ne.each(At,function(on){var Sn=on.x-or/2,Bn=mn.y,Yn=Wt,Zn=or;k.dom.add(re(),"div",Me(Ri,Or,Sn,Bn,Yn,Zn,Gi,on.index))})}(Zn,At.offsetHeight,Bn)}function kt(At,Wt,mn,on){if(Wt<0||Wt>=At.length-1)return"";var Sn=At[Wt];if(Sn)Sn={value:Sn,delta:0};else for(var Bn=At.slice(0,Wt).reverse(),Yn=0;Yn<Bn.length;Yn++)Bn[Yn]&&(Sn={value:Bn[Yn],delta:Yn+1});var Zn=At[Wt+1];if(Zn)Zn={value:Zn,delta:1};else for(var Xn=At.slice(Wt+1),ti=0;ti<Xn.length;ti++)Xn[ti]&&(Zn={value:Xn[ti],delta:ti+1});var di=Zn.delta-Sn.delta,pi=Math.abs(Zn.value-Sn.value)/di;return mn?pi/pe(on,"width")*100:pi}function It(At,Wt){var mn=k.dom.getStyle(At,Wt);return mn||(mn=k.dom.getAttrib(At,Wt)),mn||(mn=k.dom.getStyle(At,Wt,!0)),mn}function nn(At,Wt,mn){var on=It(At,"width"),Sn=parseInt(on,10),Bn=Wt?function(At,Wt){return pe(At,"width")/pe(Wt,"width")*100}(At,mn):pe(At,"width");return(Wt&&!Wn(on)||!Wt&&!kn(on))&&(Sn=0),!isNaN(Sn)&&Sn>0?Sn:Bn}function ct(At,Wt,mn){for(var on=_t(At),Sn=ne.map(on,function(ti){return Q(ti.colIndex,ti.element).x}),Bn=[],Yn=0;Yn<on.length;Yn++){var Xn=(on[Yn].element.hasAttribute("colspan")?parseInt(on[Yn].element.getAttribute("colspan"),10):1)>1?kt(Sn,Yn):nn(on[Yn].element,Wt,mn);Bn.push(Xn=Xn||Ui)}return Bn}function Lt(At){var Wt=It(At,"height"),mn=parseInt(Wt,10);return Wn(Wt)&&(mn=0),!isNaN(mn)&&mn>0?mn:pe(At,"height")}function ln(At){for(var Wt=Ht(At),mn=ne.map(Wt,function(Zn){return M(Zn.rowIndex,Zn.element).y}),on=[],Sn=0;Sn<Wt.length;Sn++){var Yn=(Wt[Sn].element.hasAttribute("rowspan")?parseInt(Wt[Sn].element.getAttribute("rowspan"),10):1)>1?kt(mn,Sn):Lt(Wt[Sn].element);on.push(Yn=Yn||Fi)}return on}function Dt(At,Wt,mn,on,Sn){function Bn(pi){return ne.map(pi,function(){return 0})}function Zn(pi,Hi){var Yi,Ji=Bn(di.slice(0,pi)),gr=Bn(di.slice(Hi+1));if(mn>=0){var xr=Math.max(on,di[Hi]-mn);Yi=Ji.concat([mn,xr-di[Hi]]).concat(gr)}else{var kr=Math.max(on,di[pi]+mn);Yi=Ji.concat([kr-di[pi],di[pi]-kr]).concat(gr)}return Yi}var di=At.slice(0);return 0===At.length?[]:1===At.length?Sn?[100-di[0]]:[Math.max(on,di[0]+mn)-di[0]]:0===Wt?Zn(0,1):Wt>0&&Wt<At.length-1?Zn(Wt,Wt+1):Wt===At.length-1?function(pi,Hi){var Yi,Ji=Bn(di.slice(0,Hi));if(mn>=0)Yi=Ji.concat([mn]);else{var gr=Math.max(on,di[Hi]+mn);Yi=Ji.concat([gr-di[Hi]])}return Yi}(0,Wt):[]}function dn(At,Wt,mn){for(var on=0,Sn=At;Sn<Wt;Sn++)on+=mn[Sn];return on}function Nt(At,Wt){var mn=At.getAllCells();return ne.map(mn,function(on){var Sn=dn(on.colIndex,on.colIndex+on.colspan,Wt);return{element:on.element,width:Sn,colspan:on.colspan}})}function hn(At,Wt){var mn=At.getAllCells();return ne.map(mn,function(on){var Sn=dn(on.rowIndex,on.rowIndex+on.rowspan,Wt);return{element:on.element,height:Sn,rowspan:on.rowspan}})}function qn(At,Wt){var mn=At.getAllRows();return ne.map(mn,function(on,Sn){return{element:on.element,height:Wt[Sn]}})}function Wn(At){return Tr.test(At)}function kn(At){return wo.test(At)}function ai(At,Wt,mn){for(var Xn=Ue(Le(At)),ti=Wn(At.width)||Wn(At.style.width),di=ct(Xn,ti,At),pi=ti?function(At,Wt){return Wt/pe(At,"width")*100}(At,Wt):Wt,Hi=Dt(di,mn,pi,Ui,ti),Yi=[],Ji=0;Ji<Hi.length;Ji++)Yi.push(Hi[Ji]+di[Ji]);var gr=Nt(Xn,Yi),xr=ti?"%":"px",kr=ti?mn<Xn.grid.maxCols-1?Ce(At):Ce(At)+function(At,Wt){return Wt/pe(At.parentElement,"width")*100}(At,Wt):mn<Xn.grid.maxCols-1?pe(At,"width"):pe(At,"width")+Wt;k.undoManager.transact(function(){var Qn;Qn=xr,ne.each(gr,function(Yr){k.dom.setStyle(Yr.element,"width",Yr.width+Qn),k.dom.setAttrib(Yr.element,"width",null)}),function(Ar,Qn,Yr){mn!=Xn.grid.maxCols-1&&Yr||(k.dom.setStyle(At,"width",Ar+Qn),k.dom.setAttrib(At,"width",null))}(kr,xr,ti)})}function Jn(At,Wt,mn){for(var Sn=Ue(Le(At)),Bn=ln(Sn),Yn=[],Zn=0,Xn=0;Xn<Bn.length;Xn++)Yn.push(Xn===mn?Wt+Bn[Xn]:Bn[Xn]),Zn+=Zn[Xn];var ti=hn(Sn,Yn),di=qn(Sn,Yn);k.undoManager.transact(function(){ne.each(di,function(pi){k.dom.setStyle(pi.element,"height",pi.height+"px"),k.dom.setAttrib(pi.element,"height",null)}),ne.each(ti,function(pi){k.dom.setStyle(pi.element,"height",pi.height+"px"),k.dom.setAttrib(pi.element,"height",null)}),k.dom.setStyle(At,"height",Zn+"px"),k.dom.setAttrib(At,"height",null)})}function un(){if(k.dom.remove(cn),yn){var At,Wt;if(k.dom.removeClass($t,zr),yn=!1,gn($t)){var mn=parseInt(k.dom.getAttrib($t,Ii),10),on=k.dom.getPos($t).x;At=parseInt(k.dom.getAttrib($t,Gi),10),Wt=P()?mn-on:on-mn,Math.abs(Wt)>=1&&ai(A,Wt,At)}else if(An($t)){var Sn=parseInt(k.dom.getAttrib($t,Ei),10),Bn=k.dom.getPos($t).y;At=parseInt(k.dom.getAttrib($t,Wi),10),Wt=Bn-Sn,Math.abs(Wt)>=1&&Jn(A,Wt,At)}_e(A),k.nodeChanged()}}function Ft(At,Wt){cn=cn||function(){var At=document.createElement("div");return At.setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"),At.setAttribute("data-mce-bogus","all"),At}(),yn=!0,k.dom.addClass(At,zr),$t=At,function(At,Wt){k.dom.bind(At,"mouseup",function(){un()}),k.dom.bind(At,"mousemove",function(mn){clearTimeout(tn),yn&&Wt(mn)}),k.dom.bind(At,"mouseout",function(){tn=setTimeout(function(){un()},200)})}(cn,Wt),k.dom.add(re(),cn)}function gn(At){return k.dom.hasClass(At,Ri)}function An(At){return k.dom.hasClass(At,On)}function Gn(At){var Wt=At.clientX-(_n=_n!==ht?_n:At.clientX);_n=At.clientX;var mn=k.dom.getPos($t).x;k.dom.setStyle($t,"left",mn+Wt+"px")}function Un(At){var Wt=At.clientY-(Mn=Mn!==ht?Mn:At.clientY);Mn=At.clientY;var mn=k.dom.getPos($t).y;k.dom.setStyle($t,"top",mn+Wt+"px")}function Ut(At){var Wt=At.target,mn=k.getBody();if(k.$.contains(mn,A)||A===mn)if(gn(Wt)){At.preventDefault();var on=k.dom.getPos(Wt).x;k.dom.setAttrib(Wt,Ii,on),function(At){_n=ht,Ft(At,Gn)}(Wt)}else if(An(Wt)){At.preventDefault();var Sn=k.dom.getPos(Wt).y;k.dom.setAttrib(Wt,Ei,Sn),function(At){Mn=ht,Ft(At,Un)}(Wt)}else ve()}var tn,yn,cn,$t,_n,Mn,Rn="mce-resize-bar",On="mce-resize-bar-row",oi="row-resize",Wi="data-row",Ei="data-initial-top",Ri="mce-resize-bar-col",Or="col-resize",Gi="data-col",Ii="data-initial-left",or=4,Ui=10,Fi=10,zr="mce-resize-bar-dragging",Tr=new RegExp(/(\d+(\.\d+)?%)/),wo=new RegExp(/px|em/);return k.on("init",function(){k.dom.bind(re(),"mousedown",Ut)}),k.on("ObjectResized",function(At){var Wt=At.target;if("TABLE"===Wt.nodeName){var mn=[];ne.each(Wt.rows,function(on){ne.each(on.cells,function(Sn){var Bn=k.dom.getStyle(Sn,"width",!0);mn.push({cell:Sn,width:Bn})})}),ne.each(mn,function(on){k.dom.setStyle(on.cell,"width",on.width),k.dom.setAttrib(on.cell,"width",null)})}}),k.on("mouseover",function(At){if(!yn){var Wt=k.dom.getParent(At.target,"table");("TABLE"===At.target.nodeName||Wt)&&(A=Wt,_e(Wt))}}),k.on("keydown",function(At){switch(At.keyCode){case V.LEFT:case V.RIGHT:case V.UP:case V.DOWN:ve()}}),k.on("remove",function(){ve(),k.dom.unbind(re(),"mousedown",Ut)}),{adjustWidth:ai,adjustHeight:Jn,clearBars:ve,drawBars:tt,determineDeltas:Dt,getTableGrid:Ue,getTableDetails:Le,getWidths:ct,getPixelHeights:ln,isPercentageBasedSize:Wn,isPixelBasedSize:kn,recalculateWidths:Nt,recalculateCellHeights:hn,recalculateRowHeights:qn}}}),he("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Dialogs","tinymce/tableplugin/ResizeBars","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],function(ne,V,A,k,M,H,m,y,P){var re=H.each;P.add("table",function(Q){function $(tt){return function(){Q.execCommand(tt)}}function fe(tt,kt){var It,nn,ct,Lt;for(ct='<table id="__mce"><tbody>',It=0;It<kt;It++){for(ct+="<tr>",nn=0;nn<tt;nn++)ct+="<td>"+(y.ie&&y.ie<10?"&nbsp;":"<br>")+"</td>";ct+="</tr>"}return ct+="</tbody></table>",Q.undoManager.transact(function(){Q.insertContent(ct),Lt=Q.dom.get("__mce"),Q.dom.setAttrib(Lt,"id",null),Q.$("tr",Lt).each(function(ln,Dt){Q.fire("newrow",{node:Dt}),Q.$("th,td",Dt).each(function(dn,Nt){Q.fire("newcell",{node:Nt})})}),Q.dom.setAttribs(Lt,Q.settings.table_default_attributes||{}),Q.dom.setStyles(Lt,Q.settings.table_default_styles||{})}),Lt}function pe(tt,kt,It){function nn(){var ct,Lt,ln,Dt={},dn=0;(ct=(Lt=Q.dom.select("td[data-mce-selected],th[data-mce-selected]"))[0])||(ct=Q.selection.getStart()),It&&Lt.length>0?(re(Lt,function(Nt){return Dt[Nt.parentNode.parentNode.nodeName]=1}),re(Dt,function(Nt){dn+=Nt}),ln=1!==dn):ln=!Q.dom.getParent(ct,kt),tt.disabled(ln),Q.selection.selectorChanged(kt,function(Nt){tt.disabled(!Nt)})}Q.initialized?nn():Q.on("init",nn)}function Ce(){pe(this,"table")}function ue(){pe(this,"td,th")}function ve(tt,kt,It){var nn,ct,Lt,ln,Dt,dn=It.getEl().getElementsByTagName("table")[0],Nt=It.isRtl()||"tl-tr"==It.parent().rel;for(dn.nextSibling.innerHTML=tt+1+" x "+(kt+1),Nt&&(tt=9-tt),ct=0;ct<10;ct++)for(nn=0;nn<10;nn++)Q.dom.toggleClass(ln=dn.rows[ct].childNodes[nn].firstChild,"mce-active",Dt=(Nt?nn>=tt:nn<=tt)&&ct<=kt),Dt&&(Lt=ln);return Lt.parentNode}var Ue,Qe,Tt=this,_t=new k(Q);!Q.settings.object_resizing||!1===Q.settings.table_resize_bars||!0!==Q.settings.object_resizing&&"table"!==Q.settings.object_resizing||(Qe=M(Q)),Q.addMenuItem("inserttable",!1===Q.settings.table_grid?{text:"Table",icon:"table",context:"table",onclick:_t.table}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(tt){tt.aria&&(this.parent().hideAll(),tt.stopImmediatePropagation(),_t.table())},onshow:function(){ve(0,0,this.menu.items()[0])},onhide:function(){var tt=this.menu.items()[0].getEl().getElementsByTagName("a");Q.dom.removeClass(tt,"mce-active"),Q.dom.addClass(tt[0],"mce-active")},menu:[{type:"container",html:function(){var tt="";tt='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var kt=0;kt<10;kt++){tt+="<tr>";for(var It=0;It<10;It++)tt+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*kt+It)+'" href="#" data-mce-x="'+It+'" data-mce-y="'+kt+'"></a></td>';tt+="</tr>"}return(tt+="</table>")+'<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(tt){var kt,It,nn=tt.target;"A"==nn.tagName.toUpperCase()&&(kt=parseInt(nn.getAttribute("data-mce-x"),10),It=parseInt(nn.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(kt=9-kt),kt===this.lastX&&It===this.lastY||(ve(kt,It,tt.control),this.lastX=kt,this.lastY=It))},onclick:function(tt){var kt=this;"A"==tt.target.tagName.toUpperCase()&&(tt.preventDefault(),tt.stopPropagation(),kt.parent().cancel(),Q.undoManager.transact(function(){fe(kt.lastX+1,kt.lastY+1)}),Q.addVisual())}}]}),Q.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:Ce,onclick:_t.tableProps}),Q.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:Ce,cmd:"mceTableDelete"}),Q.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:$("mceTableCellProps"),onPostRender:ue},{text:"Merge cells",onclick:$("mceTableMergeCells"),onPostRender:function(){pe(this,"td,th",!0)}},{text:"Split cell",onclick:$("mceTableSplitCells"),onPostRender:ue}]}),Q.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:$("mceTableInsertRowBefore"),onPostRender:ue},{text:"Insert row after",onclick:$("mceTableInsertRowAfter"),onPostRender:ue},{text:"Delete row",onclick:$("mceTableDeleteRow"),onPostRender:ue},{text:"Row properties",onclick:$("mceTableRowProps"),onPostRender:ue},{text:"-"},{text:"Cut row",onclick:$("mceTableCutRow"),onPostRender:ue},{text:"Copy row",onclick:$("mceTableCopyRow"),onPostRender:ue},{text:"Paste row before",onclick:$("mceTablePasteRowBefore"),onPostRender:ue},{text:"Paste row after",onclick:$("mceTablePasteRowAfter"),onPostRender:ue}]}),Q.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:$("mceTableInsertColBefore"),onPostRender:ue},{text:"Insert column after",onclick:$("mceTableInsertColAfter"),onPostRender:ue},{text:"Delete column",onclick:$("mceTableDeleteCol"),onPostRender:ue}]});var tt,Ht=[];re("inserttable tableprops deletetable | cell row column".split(" "),function(tt){Ht.push("|"==tt?{text:"-"}:Q.menuItems[tt])}),Q.addButton("table",{type:"menubutton",title:"Table",menu:Ht}),y.isIE||Q.on("click",function(tt){"TABLE"===(tt=tt.target).nodeName&&(Q.selection.select(tt),Q.nodeChanged())}),Tt.quirks=new V(Q),Q.on("Init",function(){Tt.cellSelection=new A(Q,function(tt){tt&&Qe&&Qe.clearBars()}),Tt.resizeBars=Qe}),Q.on("PreInit",function(){Q.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",function(tt,kt){for(var It=tt.length;It--;)tt[It].attr(kt,null)})}),re({mceTableSplitCells:function(tt){tt.split()},mceTableMergeCells:function(tt){var kt;kt=Q.dom.getParent(Q.selection.getStart(),"th,td"),Q.dom.select("td[data-mce-selected],th[data-mce-selected]").length?tt.merge():_t.merge(tt,kt)},mceTableInsertRowBefore:function(tt){tt.insertRows(!0)},mceTableInsertRowAfter:function(tt){tt.insertRows()},mceTableInsertColBefore:function(tt){tt.insertCols(!0)},mceTableInsertColAfter:function(tt){tt.insertCols()},mceTableDeleteCol:function(tt){tt.deleteCols()},mceTableDeleteRow:function(tt){tt.deleteRows()},mceTableCutRow:function(tt){Ue=tt.cutRows()},mceTableCopyRow:function(tt){Ue=tt.copyRows()},mceTablePasteRowBefore:function(tt){tt.pasteRows(Ue,!0)},mceTablePasteRowAfter:function(tt){tt.pasteRows(Ue)},mceSplitColsBefore:function(tt){tt.splitCols(!0)},mceSplitColsAfter:function(tt){tt.splitCols(!1)},mceTableDelete:function(tt){Qe&&Qe.clearBars(),tt.deleteTable()}},function(tt,kt){Q.addCommand(kt,function(){var It=new ne(Q);It&&(tt(It),Q.execCommand("mceRepaint"),Tt.cellSelection.clear())})}),re({mceInsertTable:_t.table,mceTableProps:function(){_t.table(!0)},mceTableRowProps:_t.row,mceTableCellProps:_t.cell},function(tt,kt){Q.addCommand(kt,function(It,nn){tt(nn)})}),Q.addButton("tableprops",{title:"Table properties",onclick:_t.tableProps,icon:"table"}),Q.addButton("tabledelete",{title:"Delete table",onclick:$("mceTableDelete")}),Q.addButton("tablecellprops",{title:"Cell properties",onclick:$("mceTableCellProps")}),Q.addButton("tablemergecells",{title:"Merge cells",onclick:$("mceTableMergeCells")}),Q.addButton("tablesplitcells",{title:"Split cell",onclick:$("mceTableSplitCells")}),Q.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:$("mceTableInsertRowBefore")}),Q.addButton("tableinsertrowafter",{title:"Insert row after",onclick:$("mceTableInsertRowAfter")}),Q.addButton("tabledeleterow",{title:"Delete row",onclick:$("mceTableDeleteRow")}),Q.addButton("tablerowprops",{title:"Row properties",onclick:$("mceTableRowProps")}),Q.addButton("tablecutrow",{title:"Cut row",onclick:$("mceTableCutRow")}),Q.addButton("tablecopyrow",{title:"Copy row",onclick:$("mceTableCopyRow")}),Q.addButton("tablepasterowbefore",{title:"Paste row before",onclick:$("mceTablePasteRowBefore")}),Q.addButton("tablepasterowafter",{title:"Paste row after",onclick:$("mceTablePasteRowAfter")}),Q.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:$("mceTableInsertColBefore")}),Q.addButton("tableinsertcolafter",{title:"Insert column after",onclick:$("mceTableInsertColAfter")}),Q.addButton("tabledeletecol",{title:"Delete column",onclick:$("mceTableDeleteCol")}),""!==(tt=Q.settings.table_toolbar)&&!1!==tt&&(tt||(tt="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),Q.addContextToolbar(function(tt){return Q.dom.is(tt,"table")&&Q.getBody().contains(tt)},tt)),!1!==Q.settings.table_tab_navigation&&Q.on("keydown",function(tt){var kt,It,nn;9==tt.keyCode&&(kt=Q.dom.getParent(Q.selection.getStart(),"th,td"))&&(tt.preventDefault(),It=new ne(Q),nn=tt.shiftKey?-1:1,Q.undoManager.transact(function(){!It.moveRelIdx(kt,nn)&&nn>0&&(It.insertRow(),It.refresh(),It.moveRelIdx(kt,nn))}))}),Tt.insertTable=fe,Tt.setClipboardRows=function(tt){Ue=tt},Tt.getClipboardRows=function(){return Ue}})})}(window),function(Ge,ht){"object"==typeof exports&&"undefined"!=typeof module?ht(exports):"function"==typeof define&&define.amd?define(["exports"],ht):ht(Ge.echarts={})}(this,function(Ge){"use strict";function ht(e,t){"createCanvas"===e&&(Kc=null),kp[e]=t}function Bt(e){if(null==e||"object"!=typeof e)return e;var t=e,n=iu.call(e);if("[object Array]"===n){if(!_t(e)){t=[];for(var i=0,o=e.length;i<o;i++)t[i]=Bt(e[i])}}else if(bx[n]){if(!_t(e)){var a=e.constructor;if(e.constructor.from)t=a.from(e);else for(t=new a(e.length),i=0,o=e.length;i<o;i++)t[i]=Bt(e[i])}}else if(!xx[n]&&!_t(e)&&!se(e))for(var s in t={},e)e.hasOwnProperty(s)&&(t[s]=Bt(e[s]));return t}function he(e,t,n){if(!Ce(t)||!Ce(e))return n?Bt(t):e;for(var i in t)if(t.hasOwnProperty(i)){var o=e[i],a=t[i];!Ce(a)||!Ce(o)||$(a)||$(o)||se(a)||se(o)||ue(a)||ue(o)||_t(a)||_t(o)?!n&&i in e||(e[i]=Bt(t[i])):he(o,a,n)}return e}function ke(e,t){for(var n=e[0],i=1,o=e.length;i<o;i++)n=he(n,e[i],t);return n}function J(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function ne(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(n?null!=t[i]:null==e[i])&&(e[i]=t[i]);return e}function V(){return Kc||(Kc=Ws().getContext("2d")),Kc}function A(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1}function k(e,t){function n(){}var i=e.prototype;for(var o in n.prototype=t.prototype,e.prototype=new n,i)e.prototype[o]=i[o];e.prototype.constructor=e,e.superClass=t}function M(e,t,n){ne(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,n)}function H(e){if(e)return"string"!=typeof e&&"number"==typeof e.length}function m(e,t,n){if(e&&t)if(e.forEach&&e.forEach===Ek)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e)}function y(e,t,n){if(e&&t){if(e.map&&e.map===Bk)return e.map(t,n);for(var i=[],o=0,a=e.length;o<a;o++)i.push(t.call(n,e[o],o,e));return i}}function P(e,t,n,i){if(e&&t){if(e.reduce&&e.reduce===Ok)return e.reduce(t,n,i);for(var o=0,a=e.length;o<a;o++)n=t.call(i,n,e[o],o,e);return n}}function Z(e,t,n){if(e&&t){if(e.filter&&e.filter===Rk)return e.filter(t,n);for(var i=[],o=0,a=e.length;o<a;o++)t.call(n,e[o],o,e)&&i.push(e[o]);return i}}function re(e,t){var n=ou.call(arguments,2);return function(){return e.apply(t,n.concat(ou.call(arguments)))}}function Q(e){var t=ou.call(arguments,1);return function(){return e.apply(this,t.concat(ou.call(arguments)))}}function $(e){return"[object Array]"===iu.call(e)}function fe(e){return"function"==typeof e}function pe(e){return"[object String]"===iu.call(e)}function Ce(e){var t=typeof e;return"function"===t||!!e&&"object"==t}function ue(e){return!!xx[iu.call(e)]}function Te(e){return!!bx[iu.call(e)]}function se(e){return"object"==typeof e&&"number"==typeof e.nodeType&&"object"==typeof e.ownerDocument}function ve(e){return e!=e}function _e(e){for(var t=0,n=arguments.length;t<n;t++)if(null!=arguments[t])return arguments[t]}function Me(e,t){return null!=e?e:t}function Ne(e,t,n){return null!=e?e:null!=t?t:n}function Se(){return Function.call.apply(ou,arguments)}function Le(e){if("number"==typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function Ue(e,t){if(!e)throw new Error(t)}function Qe(e){return null==e?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function Tt(e){e[_x]=!0}function _t(e){return e[_x]}function Ht(e){function t(o,a){n?i.set(o,a):i.set(a,o)}var n=$(e),i=this;e instanceof Ht?e.each(t):e&&m(e,t)}function tt(e){return new Ht(e)}function kt(e,t){for(var n=new e.constructor(e.length+t.length),i=0;i<e.length;i++)n[i]=e[i];var o=e.length;for(i=0;i<t.length;i++)n[i+o]=t[i];return n}function It(){}function nn(e,t){var n=new Cx(2);return null==e&&(e=0),null==t&&(t=0),n[0]=e,n[1]=t,n}function ct(e,t){return e[0]=t[0],e[1]=t[1],e}function Lt(e){var t=new Cx(2);return t[0]=e[0],t[1]=e[1],t}function ln(e,t,n){return e[0]=t,e[1]=n,e}function Dt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function dn(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e}function Nt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function hn(e){return Math.sqrt(qn(e))}function qn(e){return e[0]*e[0]+e[1]*e[1]}function Wn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function kn(e,t){var n=hn(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function ai(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function Jn(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}function xi(e,t,n,i){return e[0]=t[0]+i*(n[0]-t[0]),e[1]=t[1]+i*(n[1]-t[1]),e}function Rt(e,t,n){var i=t[0],o=t[1];return e[0]=n[0]*i+n[2]*o+n[4],e[1]=n[1]*i+n[3]*o+n[5],e}function bt(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function rn(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function un(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function Ft(e,t){return{target:e,topTarget:t&&t.topTarget}}function An(){}function Gn(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var i,o=e;o;){if(o.clipPath&&!o.clipPath.contain(t,n))return!1;o.silent&&(i=!0),o=o.parent}return!i||Mx}return!1}function Un(){var e=new Gk(6);return En(e),e}function En(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Pt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Ut(e,t,n){var o=t[1]*n[0]+t[3]*n[1],a=t[0]*n[2]+t[2]*n[3],s=t[1]*n[2]+t[3]*n[3],l=t[0]*n[4]+t[2]*n[5]+t[4],u=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=t[0]*n[0]+t[2]*n[1],e[1]=o,e[2]=a,e[3]=s,e[4]=l,e[5]=u,e}function tn(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function yn(e,t,n){var i=t[0],o=t[2],a=t[4],s=t[1],l=t[3],u=t[5],c=Math.sin(n),d=Math.cos(n);return e[0]=i*d+s*c,e[1]=-i*c+s*d,e[2]=o*d+l*c,e[3]=-o*c+d*l,e[4]=d*a+c*u,e[5]=d*u-c*a,e}function cn(e,t,n){var i=n[0],o=n[1];return e[0]=t[0]*i,e[1]=t[1]*o,e[2]=t[2]*i,e[3]=t[3]*o,e[4]=t[4]*i,e[5]=t[5]*o,e}function $t(e,t){var n=t[0],i=t[2],o=t[4],a=t[1],s=t[3],l=t[5],u=n*s-a*i;return u?(e[0]=s*(u=1/u),e[1]=-a*u,e[2]=-i*u,e[3]=n*u,e[4]=(i*l-s*o)*u,e[5]=(a*o-n*l)*u,e):null}function _n(e){var t=Un();return Pt(t,e),t}function Mn(e){return e>Tx||e<-Tx}function Rn(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}function On(e){return(e=Math.round(e))<0?0:e>255?255:e}function Wi(e){return e<0?0:e>1?1:e}function Ei(e){return On(e.length&&"%"===e.charAt(e.length-1)?parseFloat(e)/100*255:parseInt(e,10))}function Ri(e){return Wi(e.length&&"%"===e.charAt(e.length-1)?parseFloat(e)/100:parseFloat(e))}function Or(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function Gi(e,t,n){return e+(t-e)*n}function Ii(e,t,n,i,o){return e[0]=t,e[1]=n,e[2]=i,e[3]=o,e}function or(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Ui(e,t){Qc&&or(Qc,t),Qc=Nx.put(e,Qc||t.slice())}function Fi(e,t){if(e){t=t||[];var n=Nx.get(e);if(n)return or(t,n);var i=(e+="").replace(/ /g,"").toLowerCase();if(i in Dx)return or(t,Dx[i]),Ui(e,t),t;if("#"!==i.charAt(0)){var o=i.indexOf("("),a=i.indexOf(")");if(-1!==o&&a+1===i.length){var s=i.substr(0,o),l=i.substr(o+1,a-(o+1)).split(","),u=1;switch(s){case"rgba":if(4!==l.length)return void Ii(t,0,0,0,1);u=Ri(l.pop());case"rgb":return 3!==l.length?void Ii(t,0,0,0,1):(Ii(t,Ei(l[0]),Ei(l[1]),Ei(l[2]),u),Ui(e,t),t);case"hsla":return 4!==l.length?void Ii(t,0,0,0,1):(l[3]=Ri(l[3]),zr(l,t),Ui(e,t),t);case"hsl":return 3!==l.length?void Ii(t,0,0,0,1):(zr(l,t),Ui(e,t),t);default:return}}Ii(t,0,0,0,1)}else{if(4===i.length)return(c=parseInt(i.substr(1),16))>=0&&c<=4095?(Ii(t,(3840&c)>>4|(3840&c)>>8,240&c|(240&c)>>4,15&c|(15&c)<<4,1),Ui(e,t),t):void Ii(t,0,0,0,1);if(7===i.length){var c=parseInt(i.substr(1),16);return c>=0&&c<=16777215?(Ii(t,(16711680&c)>>16,(65280&c)>>8,255&c,1),Ui(e,t),t):void Ii(t,0,0,0,1)}}}}function zr(e,t){var n=(parseFloat(e[0])%360+360)%360/360,i=Ri(e[1]),o=Ri(e[2]),a=o<=.5?o*(i+1):o+i-o*i,s=2*o-a;return Ii(t=t||[],On(255*Or(s,a,n+1/3)),On(255*Or(s,a,n)),On(255*Or(s,a,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function wo(e,t){var n=Fi(e);if(n){for(var i=0;i<3;i++)n[i]=t<0?n[i]*(1-t)|0:(255-n[i])*t+n[i]|0;return Bn(n,4===n.length?"rgba":"rgb")}}function At(e){var t=Fi(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function Wt(e,t,n){if(t&&t.length&&e>=0&&e<=1){n=n||[];var i=e*(t.length-1),o=Math.floor(i),a=Math.ceil(i),s=t[o],l=t[a],u=i-o;return n[0]=On(Gi(s[0],l[0],u)),n[1]=On(Gi(s[1],l[1],u)),n[2]=On(Gi(s[2],l[2],u)),n[3]=Wi(Gi(s[3],l[3],u)),n}}function mn(e,t,n){if(t&&t.length&&e>=0&&e<=1){var i=e*(t.length-1),o=Math.floor(i),a=Math.ceil(i),s=Fi(t[o]),l=Fi(t[a]),u=i-o,c=Bn([On(Gi(s[0],l[0],u)),On(Gi(s[1],l[1],u)),On(Gi(s[2],l[2],u)),Wi(Gi(s[3],l[3],u))],"rgba");return n?{color:c,leftIndex:o,rightIndex:a,value:i}:c}}function on(e,t,n,i){if(e=Fi(e))return e=function(e){if(e){var t,n,i=e[0]/255,o=e[1]/255,a=e[2]/255,s=Math.min(i,o,a),l=Math.max(i,o,a),u=l-s,c=(l+s)/2;if(0===u)t=0,n=0;else{n=c<.5?u/(l+s):u/(2-l-s);var d=((l-i)/6+u/2)/u,h=((l-o)/6+u/2)/u,f=((l-a)/6+u/2)/u;i===l?t=f-h:o===l?t=1/3+d-f:a===l&&(t=2/3+h-d),t<0&&(t+=1),t>1&&(t-=1)}var p=[360*t,n,c];return null!=e[3]&&p.push(e[3]),p}}(e),null!=t&&(e[0]=function(e){return(e=Math.round(e))<0?0:e>360?360:e}(t)),null!=n&&(e[1]=Ri(n)),null!=i&&(e[2]=Ri(i)),Bn(zr(e),"rgba")}function Sn(e,t){if((e=Fi(e))&&null!=t)return e[3]=Wi(t),Bn(e,"rgba")}function Bn(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}}function Yn(e,t){return e[t]}function Zn(e,t,n){e[t]=n}function Xn(e,t,n){return(t-e)*n+e}function ti(e,t,n){return n>.5?t:e}function di(e,t,n,i,o){var a=e.length;if(1==o)for(l=0;l<a;l++)i[l]=Xn(e[l],t[l],n);else for(var s=a&&e[0].length,l=0;l<a;l++)for(var u=0;u<s;u++)i[l][u]=Xn(e[l][u],t[l][u],n)}function pi(e,t,n){var i=e.length,o=t.length;if(i!==o)if(i>o)e.length=o;else for(s=i;s<o;s++)e.push(1===n?t[s]:Np.call(t[s]));for(var a=e[0]&&e[0].length,s=0;s<e.length;s++)if(1===n)isNaN(e[s])&&(e[s]=t[s]);else for(var l=0;l<a;l++)isNaN(e[s][l])&&(e[s][l]=t[s][l])}function Hi(e,t,n){if(e===t)return!0;var i=e.length;if(i!==t.length)return!1;if(1===n){for(a=0;a<i;a++)if(e[a]!==t[a])return!1}else for(var o=e[0].length,a=0;a<i;a++)for(var s=0;s<o;s++)if(e[a][s]!==t[a][s])return!1;return!0}function Yi(e,t,n,i,o,a,s,l,u){var c=e.length;if(1==u)for(h=0;h<c;h++)l[h]=Ji(e[h],t[h],n[h],i[h],o,a,s);else for(var d=e[0].length,h=0;h<c;h++)for(var f=0;f<d;f++)l[h][f]=Ji(e[h][f],t[h][f],n[h][f],i[h][f],o,a,s)}function Ji(e,t,n,i,o,a,s){var l=.5*(n-e),u=.5*(i-t);return(2*(t-n)+l+u)*s+(-3*(t-n)-2*l-u)*a+l*o+t}function gr(e){if(H(e)){var t=e.length;if(H(e[0])){for(var n=[],i=0;i<t;i++)n.push(Np.call(e[i]));return n}return Np.call(e)}return e}function xr(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function Ar(e,t,n,i,o,a){var s=e._getter,l=e._setter,u="spline"===t,c=i.length;if(c){var d,h=H(i[0].value),f=!1,p=!1,D=h?function(e){var t=e[e.length-1].value;return H(t&&t[0])?2:1}(i):0;i.sort(function(Dn,Hn){return Dn.time-Hn.time}),d=i[c-1].time;for(var X=[],K=[],oe=i[0].value,ce=!0,be=0;be<c;be++){X.push(i[be].time/d);var Be=i[be].value;if(h&&Hi(Be,oe,D)||!h&&Be===oe||(ce=!1),oe=Be,"string"==typeof Be){var He=Fi(Be);He?(Be=He,f=!0):p=!0}K.push(Be)}if(a||!ce){var Ye=K[c-1];for(be=0;be<c-1;be++)h?pi(K[be],Ye,D):!isNaN(K[be])||isNaN(Ye)||p||f||(K[be]=Ye);h&&pi(s(e._target,o),Ye,D);var nt,mt,Qt,Yt,sn,xn=0,pn=0;if(f)var bn=[0,0,0,0];var Pn=new Rn({target:e._target,life:d,loop:e._loop,delay:e._delay,onframe:function(Dn,Hn){var Tn;if(Hn<0)Tn=0;else if(Hn<pn){for(Tn=Math.min(xn+1,c-1);Tn>=0&&!(X[Tn]<=Hn);Tn--);Tn=Math.min(Tn,c-2)}else{for(Tn=xn;Tn<c&&!(X[Tn]>Hn);Tn++);Tn=Math.min(Tn-1,c-2)}xn=Tn,pn=Hn;var fi=X[Tn+1]-X[Tn];if(0!==fi)if(nt=(Hn-X[Tn])/fi,u)if(Qt=K[Tn],mt=K[0===Tn?Tn:Tn-1],Yt=K[Tn>c-2?c-1:Tn+1],sn=K[Tn>c-3?c-1:Tn+2],h)Yi(mt,Qt,Yt,sn,nt,nt*nt,nt*nt*nt,s(Dn,o),D);else{if(f)Kn=Yi(mt,Qt,Yt,sn,nt,nt*nt,nt*nt*nt,bn,1),Kn=xr(bn);else{if(p)return ti(Qt,Yt,nt);Kn=Ji(mt,Qt,Yt,sn,nt,nt*nt,nt*nt*nt)}l(Dn,o,Kn)}else if(h)di(K[Tn],K[Tn+1],nt,s(Dn,o),D);else{var Kn;if(f)di(K[Tn],K[Tn+1],nt,bn,1),Kn=xr(bn);else{if(p)return ti(K[Tn],K[Tn+1],nt);Kn=Xn(K[Tn],K[Tn+1],nt)}l(Dn,o,Kn)}},ondestroy:n});return t&&"spline"!==t&&(Pn.easing=t),Pn}}}function Qn(e,t,n,i){n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i),this.x=e,this.y=t,this.width=n,this.height=i}function ml(e,t,n,i){var o=t+1;if(o===n)return 1;if(i(e[o++],e[t])<0){for(;o<n&&i(e[o],e[o-1])<0;)o++;!function(e,t,n){for(n--;t<n;){var i=e[t];e[t++]=e[n],e[n--]=i}}(e,t,o)}else for(;o<n&&i(e[o],e[o-1])>=0;)o++;return o-t}function vl(e,t,n,i,o){for(i===t&&i++;i<n;i++){for(var a,s=e[i],l=t,u=i;l<u;)o(s,e[a=l+u>>>1])<0?u=a:l=a+1;var c=i-l;switch(c){case 3:e[l+3]=e[l+2];case 2:e[l+2]=e[l+1];case 1:e[l+1]=e[l];break;default:for(;c>0;)e[l+c]=e[l+c-1],c--}e[l]=s}}function ls(e,t,n,i,o,a){var s=0,l=0,u=1;if(a(e,t[n+o])>0){for(l=i-o;u<l&&a(e,t[n+o+u])>0;)s=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l),s+=o,u+=o}else{for(l=o+1;u<l&&a(e,t[n+o-u])<=0;)s=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l);var c=s;s=o-u,u=o-c}for(s++;s<u;){var d=s+(u-s>>>1);a(e,t[n+d])>0?s=d+1:u=d}return u}function us(e,t,n,i,o,a){var s=0,l=0,u=1;if(a(e,t[n+o])<0){for(l=o+1;u<l&&a(e,t[n+o-u])<0;)s=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l);var c=s;s=o-u,u=o-c}else{for(l=i-o;u<l&&a(e,t[n+o+u])>=0;)s=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l),s+=o,u+=o}for(s++;s<u;){var d=s+(u-s>>>1);a(e,t[n+d])<0?u=d:s=d+1}return u}function yl(e,t){function n(d){var h=a[d],f=s[d],p=a[d+1],D=s[d+1];s[d]=f+D,d===u-3&&(a[d+1]=a[d+2],s[d+1]=s[d+2]),u--;var X=us(e[p],e,h,f,0,t);h+=X,0!=(f-=X)&&0!==(D=ls(e[h+f-1],e,p,D,D-1,t))&&(f<=D?function(d,h,f,p){var D=0;for(D=0;D<h;D++)c[D]=e[d+D];var X=0,K=f,oe=d;if(e[oe++]=e[K++],0!=--p)if(1!==h){for(var ce,be,Be,He=l;;){ce=0,be=0,Be=!1;do{if(t(e[K],c[X])<0){if(e[oe++]=e[K++],be++,ce=0,0==--p){Be=!0;break}}else if(e[oe++]=c[X++],ce++,be=0,1==--h){Be=!0;break}}while((ce|be)<He);if(Be)break;do{if(0!==(ce=us(e[K],c,X,h,0,t))){for(D=0;D<ce;D++)e[oe+D]=c[X+D];if(oe+=ce,X+=ce,(h-=ce)<=1){Be=!0;break}}if(e[oe++]=e[K++],0==--p){Be=!0;break}if(0!==(be=ls(c[X],e,K,p,0,t))){for(D=0;D<be;D++)e[oe+D]=e[K+D];if(oe+=be,K+=be,0==(p-=be)){Be=!0;break}}if(e[oe++]=c[X++],1==--h){Be=!0;break}He--}while(ce>=su||be>=su);if(Be)break;He<0&&(He=0),He+=2}if((l=He)<1&&(l=1),1===h){for(D=0;D<p;D++)e[oe+D]=e[K+D];e[oe+p]=c[X]}else{if(0===h)throw new Error;for(D=0;D<h;D++)e[oe+D]=c[X+D]}}else{for(D=0;D<p;D++)e[oe+D]=e[K+D];e[oe+p]=c[X]}else for(D=0;D<h;D++)e[oe+D]=c[X+D]}(h,f,p,D):function(d,h,f,p){var D=0;for(D=0;D<p;D++)c[D]=e[f+D];var X=d+h-1,K=p-1,oe=f+p-1,ce=0,be=0;if(e[oe--]=e[X--],0!=--h)if(1!==p){for(var Be=l;;){var He=0,Ye=0,$e=!1;do{if(t(c[K],e[X])<0){if(e[oe--]=e[X--],He++,Ye=0,0==--h){$e=!0;break}}else if(e[oe--]=c[K--],Ye++,He=0,1==--p){$e=!0;break}}while((He|Ye)<Be);if($e)break;do{if(0!=(He=h-us(c[K],e,d,h,h-1,t))){for(h-=He,be=1+(oe-=He),ce=1+(X-=He),D=He-1;D>=0;D--)e[be+D]=e[ce+D];if(0===h){$e=!0;break}}if(e[oe--]=c[K--],1==--p){$e=!0;break}if(0!=(Ye=p-ls(e[X],c,0,p,p-1,t))){for(p-=Ye,be=1+(oe-=Ye),ce=1+(K-=Ye),D=0;D<Ye;D++)e[be+D]=c[ce+D];if(p<=1){$e=!0;break}}if(e[oe--]=e[X--],0==--h){$e=!0;break}Be--}while(He>=su||Ye>=su);if($e)break;Be<0&&(Be=0),Be+=2}if((l=Be)<1&&(l=1),1===p){for(be=1+(oe-=h),ce=1+(X-=h),D=h-1;D>=0;D--)e[be+D]=e[ce+D];e[oe]=c[K]}else{if(0===p)throw new Error;for(ce=oe-(p-1),D=0;D<p;D++)e[ce+D]=c[D]}}else{for(be=1+(oe-=h),ce=1+(X-=h),D=h-1;D>=0;D--)e[be+D]=e[ce+D];e[oe]=c[K]}else for(ce=oe-(p-1),D=0;D<p;D++)e[ce+D]=c[D]}(h,f,p,D))}var a,s,l=su,u=0,c=[];a=[],s=[],this.mergeRuns=function(){for(;u>1;){var d=u-2;if(d>=1&&s[d-1]<=s[d]+s[d+1]||d>=2&&s[d-2]<=s[d]+s[d-1])s[d-1]<s[d+1]&&d--;else if(s[d]>s[d+1])break;n(d)}},this.forceMergeRuns=function(){for(;u>1;){var d=u-2;d>0&&s[d-1]<s[d+1]&&d--,n(d)}},this.pushRun=function(d,h){a[u]=d,s[u]=h,u+=1}}function ha(e,t,n,i){n||(n=0),i||(i=e.length);var o=i-n;if(!(o<2)){var a=0;if(o<Lx)return void vl(e,n,i,n+(a=ml(e,n,i,t)),t);var s=new yl(e,t),l=function(e){for(var t=0;e>=Lx;)t|=1&e,e>>=1;return e+t}(o);do{if((a=ml(e,n,i,t))<l){var u=o;u>l&&(u=l),vl(e,n,n+u,n+a,t),a=u}s.pushRun(n,a),s.mergeRuns(),o-=a,n+=a}while(0!==o);s.forceMergeRuns()}}function cs(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}function xl(e,t,n){var i=null==t.x?0:t.x,o=null==t.x2?1:t.x2,a=null==t.y?0:t.y,s=null==t.y2?0:t.y2;return t.global||(i=i*n.width+n.x,o=o*n.width+n.x,a=a*n.height+n.y,s=s*n.height+n.y),e.createLinearGradient(i,a,o,s)}function bl(e,t,n){var i=n.width,o=n.height,a=Math.min(i,o),s=null==t.x?.5:t.x,l=null==t.y?.5:t.y,u=null==t.r?.5:t.r;return t.global||(s=s*i+n.x,l=l*o+n.y,u*=a),e.createRadialGradient(s,l,0,s,l,u)}function ds(){return!1}function Fu(e,t,n){var i=Ws(),o=t.getWidth(),a=t.getHeight(),s=i.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=o+"px",s.height=a+"px",i.setAttribute("data-zr-dom-id",e)),i.width=o*n,i.height=a*n,i}function _l(e){if("string"==typeof e){var t=Fp.get(e);return t&&t.image}return e}function hs(e,t,n,i,o){if(e){if("string"==typeof e){if(t&&t.__zrImageSrc===e||!n)return t;var a=Fp.get(e),s={hostEl:n,cb:i,cbPayload:o};return a?!fa(t=a.image)&&a.pending.push(s):(!t&&(t=new Image),t.onload=Hu,Fp.put(e,t.__cachedImgObj={image:t,pending:[s]}),t.src=t.__zrImageSrc=e),t}return e}return t}function Hu(){var e=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function fa(e){return e&&e.width&&e.height}function Ir(e,t){var n=e+":"+(t=t||uu);if(ad[n])return ad[n];for(var i=(e+"").split("\n"),o=0,a=0,s=i.length;a<s;a++)o=Math.max(Wu(i[a],t).width,o);return Hp>$k&&(Hp=0,ad={}),Hp++,ad[n]=o,o}function Fr(e,t,n,i,o,a,s){return a?function(e,t,n,i,o,a,s){var l=vs(e,{rich:a,truncate:s,font:t,textAlign:n,textPadding:o}),u=l.outerWidth,c=l.outerHeight;return new Qn(no(0,u,n),Oo(0,c,i),u,c)}(e,t,n,i,o,a,s):function(e,t,n,i,o,a){var s=ms(e,t,o,a),l=Ir(e,t);o&&(l+=o[1]+o[3]);var u=s.outerHeight,c=new Qn(no(0,l,n),Oo(0,u,i),l,u);return c.lineHeight=s.lineHeight,c}(e,t,n,i,o,s)}function no(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function Oo(e,t,n){return"middle"===n?e-=t/2:"bottom"===n&&(e-=t),e}function ga(e,t,n){var i=t.x,o=t.y,a=t.height,s=t.width,l=a/2,u="left",c="top";switch(e){case"left":i-=n,o+=l,u="right",c="middle";break;case"right":i+=n+s,o+=l,c="middle";break;case"top":i+=s/2,o-=n,u="center",c="bottom";break;case"bottom":i+=s/2,o+=a+n,u="center";break;case"inside":i+=s/2,o+=l,u="center",c="middle";break;case"insideLeft":i+=n,o+=l,c="middle";break;case"insideRight":i+=s-n,o+=l,u="right",c="middle";break;case"insideTop":i+=s/2,o+=n,u="center";break;case"insideBottom":i+=s/2,o+=a-n,u="center",c="bottom";break;case"insideTopLeft":i+=n,o+=n;break;case"insideTopRight":i+=s-n,o+=n,u="right";break;case"insideBottomLeft":i+=n,o+=a-n,c="bottom";break;case"insideBottomRight":i+=s-n,o+=a-n,u="right",c="bottom"}return{x:i,y:o,textAlign:u,textVerticalAlign:c}}function ma(e,t,n,i,o){if(!t)return"";var a=(e+"").split("\n");o=wl(t,n,i,o);for(var s=0,l=a.length;s<l;s++)a[s]=ps(a[s],o);return a.join("\n")}function wl(e,t,n,i){(i=J({},i)).font=t,n=Me(n,"..."),i.maxIterations=Me(i.maxIterations,2);var o=i.minChar=Me(i.minChar,0);i.cnCharWidth=Ir("\u56fd",t);var a=i.ascCharWidth=Ir("a",t);i.placeholder=Me(i.placeholder,"");for(var s=e=Math.max(0,e-1),l=0;l<o&&s>=a;l++)s-=a;var u=Ir(n);return u>s&&(n="",u=0),s=e-u,i.ellipsis=n,i.ellipsisWidth=u,i.contentWidth=s,i.containerWidth=e,i}function ps(e,t){var n=t.containerWidth,i=t.font,o=t.contentWidth;if(!n)return"";var a=Ir(e,i);if(a<=n)return e;for(var s=0;;s++){if(a<=o||s>=t.maxIterations){e+=t.ellipsis;break}var l=0===s?Vu(e,o,t.ascCharWidth,t.cnCharWidth):a>0?Math.floor(e.length*o/a):0;a=Ir(e=e.substr(0,l),i)}return""===e&&(e=t.placeholder),e}function Vu(e,t,n,i){for(var o=0,a=0,s=e.length;a<s&&o<t;a++){var l=e.charCodeAt(a);o+=0<=l&&l<=127?n:i}return a}function gs(e){return Ir("\u56fd",e)}function Wu(e,t){return Wp.measureText(e,t)}function ms(e,t,n,i){null!=e&&(e+="");var o=gs(t),a=e?e.split("\n"):[],s=a.length*o,l=s;if(n&&(l+=n[0]+n[2]),e&&i){var u=i.outerHeight,c=i.outerWidth;if(null!=u&&l>u)e="",a=[];else if(null!=c)for(var d=wl(c-(n?n[1]+n[3]:0),t,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),h=0,f=a.length;h<f;h++)a[h]=ps(a[h],d)}return{lines:a,height:s,outerHeight:l,lineHeight:o}}function vs(e,t){var n={lines:[],width:0,height:0};if(null!=e&&(e+=""),!e)return n;for(var i,o=Vp.lastIndex=0;null!=(i=Vp.exec(e));){var a=i.index;a>o&&va(n,e.substring(o,a)),va(n,i[2],i[1]),o=Vp.lastIndex}o<e.length&&va(n,e.substring(o,e.length));var s=n.lines,l=0,u=0,c=[],d=t.textPadding,h=t.truncate,f=h&&h.outerWidth,p=h&&h.outerHeight;for(d&&(null!=f&&(f-=d[1]+d[3]),null!=p&&(p-=d[0]+d[2])),sn=0;sn<s.length;sn++){for(var D=s[sn],X=0,K=0,oe=0;oe<D.tokens.length;oe++){var ce=(xn=D.tokens[oe]).styleName&&t.rich[xn.styleName]||{},be=xn.textPadding=ce.textPadding,Be=xn.font=ce.font||t.font,He=xn.textHeight=Me(ce.textHeight,gs(Be));if(be&&(He+=be[0]+be[2]),xn.height=He,xn.lineHeight=Ne(ce.textLineHeight,t.textLineHeight,He),xn.textAlign=ce&&ce.textAlign||t.textAlign,xn.textVerticalAlign=ce&&ce.textVerticalAlign||"middle",null!=p&&l+xn.lineHeight>p)return{lines:[],width:0,height:0};xn.textWidth=Ir(xn.text,Be);var Ye=ce.textWidth,$e=null==Ye||"auto"===Ye;if("string"==typeof Ye&&"%"===Ye.charAt(Ye.length-1))xn.percentWidth=Ye,c.push(xn),Ye=0;else{if($e){Ye=xn.textWidth;var nt=ce.textBackgroundColor,mt=nt&&nt.image;mt&&fa(mt=_l(mt))&&(Ye=Math.max(Ye,mt.width*He/mt.height))}var Qt=be?be[1]+be[3]:0;Ye+=Qt;var Yt=null!=f?f-K:null;null!=Yt&&Yt<Ye&&(!$e||Yt<Qt?(xn.text="",xn.textWidth=Ye=0):(xn.text=ma(xn.text,Yt-Qt,Be,h.ellipsis,{minChar:h.minChar}),xn.textWidth=Ir(xn.text,Be),Ye=xn.textWidth+Qt))}K+=xn.width=Ye,ce&&(X=Math.max(X,xn.lineHeight))}D.width=K,D.lineHeight=X,l+=X,u=Math.max(u,K)}n.outerWidth=n.width=Me(t.textWidth,u),n.outerHeight=n.height=Me(t.textHeight,l),d&&(n.outerWidth+=d[1]+d[3],n.outerHeight+=d[0]+d[2]);for(var sn=0;sn<c.length;sn++){var xn=c[sn];xn.width=parseInt(xn.percentWidth,10)/100*u}return n}function va(e,t,n){for(var i=""===t,o=t.split("\n"),a=e.lines,s=0;s<o.length;s++){var l=o[s],u={styleName:n,text:l,isLineHolder:!l&&!i};if(s)a.push({tokens:[u]});else{var c=(a[a.length-1]||(a[0]={tokens:[]})).tokens,d=c.length;1===d&&c[0].isLineHolder?c[0]=u:(l||!d||i)&&c.push(u)}}}function ys(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&Qe(t)||e.textFont||e.font}function Cl(e,t){var n,i,o,a,h,s=t.x,l=t.y,u=t.width,c=t.height,d=t.r;u<0&&(s+=u,u=-u),c<0&&(l+=c,c=-c),"number"==typeof d?n=i=o=a=d:d instanceof Array?1===d.length?n=i=o=a=d[0]:2===d.length?(n=o=d[0],i=a=d[1]):3===d.length?(n=d[0],i=a=d[1],o=d[2]):(n=d[0],i=d[1],o=d[2],a=d[3]):n=i=o=a=0,n+i>u&&(n*=u/(h=n+i),i*=u/h),o+a>u&&(o*=u/(h=o+a),a*=u/h),i+o>c&&(i*=c/(h=i+o),o*=c/h),n+a>c&&(n*=c/(h=n+a),a*=c/h),e.moveTo(s+n,l),e.lineTo(s+u-i,l),0!==i&&e.quadraticCurveTo(s+u,l,s+u,l+i),e.lineTo(s+u,l+c-o),0!==o&&e.quadraticCurveTo(s+u,l+c,s+u-o,l+c),e.lineTo(s+a,l+c),0!==a&&e.quadraticCurveTo(s,l+c,s,l+c-a),e.lineTo(s,l+n),0!==n&&e.quadraticCurveTo(s,l,s+n,l)}function zo(e){return Sl(e),m(e.rich,Sl),e}function Sl(e){if(e){e.font=ys(e);var t=e.textAlign;"middle"===t&&(t="center"),e.textAlign=null==t||Kk[t]?t:"left";var n=e.textVerticalAlign||e.textBaseline;"center"===n&&(n="middle"),e.textVerticalAlign=null==n||Jk[n]?n:"top",e.textPadding&&(e.textPadding=Le(e.textPadding))}}function Ml(e,t,n,i,o){i.rich?function(e,t,n,i,o){var a=e.__textCotentBlock;a&&!e.__dirty||(a=e.__textCotentBlock=vs(n,i)),function(e,t,n,i,o){var a=n.width,s=n.outerWidth,l=n.outerHeight,u=i.textPadding,c=ws(0,i,o),d=c.baseX,h=c.baseY,f=c.textAlign,p=c.textVerticalAlign;kl(t,i,o,d,h);var D=no(d,s,f),X=Oo(h,l,p),K=D,oe=X;u&&(K+=u[3],oe+=u[0]);var ce=K+a;bs(i)&&_s(e,t,i,D,X,s,l);for(var be=0;be<n.lines.length;be++){for(var Be,He=n.lines[be],Ye=He.tokens,$e=Ye.length,nt=He.lineHeight,mt=He.width,Qt=0,Yt=K,sn=ce,xn=$e-1;Qt<$e&&(!(Be=Ye[Qt]).textAlign||"left"===Be.textAlign);)xs(e,t,Be,i,nt,oe,Yt,"left"),mt-=Be.width,Yt+=Be.width,Qt++;for(;xn>=0&&"right"===(Be=Ye[xn]).textAlign;)xs(e,t,Be,i,nt,oe,sn,"right"),mt-=Be.width,sn-=Be.width,xn--;for(Yt+=(a-(Yt-K)-(ce-sn)-mt)/2;Qt<=xn;)xs(e,t,Be=Ye[Qt],i,nt,oe,Yt+Be.width/2,"center"),Yt+=Be.width,Qt++;oe+=nt}}(e,t,a,i,o)}(e,t,n,i,o):function(e,t,n,i,o){var a=Ci(t,"font",i.font||uu),s=i.textPadding,l=e.__textCotentBlock;l&&!e.__dirty||(l=e.__textCotentBlock=ms(n,a,s,i.truncate));var u=l.outerHeight,c=l.lines,d=l.lineHeight,h=ws(0,i,o),f=h.baseX,p=h.baseY,D=h.textAlign,X=h.textVerticalAlign;kl(t,i,o,f,p);var K=Oo(p,u,X),oe=f,ce=K,be=bs(i);if(be||s){var Be=Ir(n,a);s&&(Be+=s[1]+s[3]);var He=no(f,Be,D);be&&_s(e,t,i,He,K,Be,u),s&&(oe=Ms(f,D,s),ce+=s[0])}Ci(t,"textAlign",D||"left"),Ci(t,"textBaseline","middle"),Ci(t,"shadowBlur",i.textShadowBlur||0),Ci(t,"shadowColor",i.textShadowColor||"transparent"),Ci(t,"shadowOffsetX",i.textShadowOffsetX||0),Ci(t,"shadowOffsetY",i.textShadowOffsetY||0),ce+=d/2;var Ye=i.textStrokeWidth,$e=Fo(i.textStroke,Ye),nt=Cs(i.textFill);$e&&(Ci(t,"lineWidth",Ye),Ci(t,"strokeStyle",$e)),nt&&Ci(t,"fillStyle",nt);for(var mt=0;mt<c.length;mt++)$e&&t.strokeText(c[mt],oe,ce),nt&&t.fillText(c[mt],oe,ce),ce+=d}(e,t,n,i,o)}function kl(e,t,n,i,o){if(n&&t.textRotation){var a=t.textOrigin;"center"===a?(i=n.width/2+n.x,o=n.height/2+n.y):a&&(i=a[0]+n.x,o=a[1]+n.y),e.translate(i,o),e.rotate(-t.textRotation),e.translate(-i,-o)}}function xs(e,t,n,i,o,a,s,l){var u=i.rich[n.styleName]||{},c=n.textVerticalAlign,d=a+o/2;"top"===c?d=a+n.height/2:"bottom"===c&&(d=a+o-n.height/2),!n.isLineHolder&&bs(u)&&_s(e,t,u,"right"===l?s-n.width:"center"===l?s-n.width/2:s,d-n.height/2,n.width,n.height);var h=n.textPadding;h&&(s=Ms(s,l,h),d-=n.height/2-h[2]-n.textHeight/2),Ci(t,"shadowBlur",Ne(u.textShadowBlur,i.textShadowBlur,0)),Ci(t,"shadowColor",u.textShadowColor||i.textShadowColor||"transparent"),Ci(t,"shadowOffsetX",Ne(u.textShadowOffsetX,i.textShadowOffsetX,0)),Ci(t,"shadowOffsetY",Ne(u.textShadowOffsetY,i.textShadowOffsetY,0)),Ci(t,"textAlign",l),Ci(t,"textBaseline","middle"),Ci(t,"font",n.font||uu);var f=Fo(u.textStroke||i.textStroke,D),p=Cs(u.textFill||i.textFill),D=Me(u.textStrokeWidth,i.textStrokeWidth);f&&(Ci(t,"lineWidth",D),Ci(t,"strokeStyle",f),t.strokeText(n.text,s,d)),p&&(Ci(t,"fillStyle",p),t.fillText(n.text,s,d))}function bs(e){return e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor}function _s(e,t,n,i,o,a,s){var l=n.textBackgroundColor,u=n.textBorderWidth,c=n.textBorderColor,d=pe(l);if(Ci(t,"shadowBlur",n.textBoxShadowBlur||0),Ci(t,"shadowColor",n.textBoxShadowColor||"transparent"),Ci(t,"shadowOffsetX",n.textBoxShadowOffsetX||0),Ci(t,"shadowOffsetY",n.textBoxShadowOffsetY||0),d||u&&c){t.beginPath();var h=n.textBorderRadius;h?Cl(t,{x:i,y:o,width:a,height:s,r:h}):t.rect(i,o,a,s),t.closePath()}if(d)Ci(t,"fillStyle",l),t.fill();else if(Ce(l)){var f=l.image;(f=hs(f,null,e,ju,l))&&fa(f)&&t.drawImage(f,i,o,a,s)}u&&c&&(Ci(t,"lineWidth",u),Ci(t,"strokeStyle",c),t.stroke())}function ju(e,t){t.image=e}function ws(e,t,n){var i=t.x||0,o=t.y||0,a=t.textAlign,s=t.textVerticalAlign;if(n){var l=t.textPosition;if(l instanceof Array)i=n.x+Ss(l[0],n.width),o=n.y+Ss(l[1],n.height);else{var u=ga(l,n,t.textDistance);i=u.x,o=u.y,a=a||u.textAlign,s=s||u.textVerticalAlign}var c=t.textOffset;c&&(i+=c[0],o+=c[1])}return{baseX:i,baseY:o,textAlign:a,textVerticalAlign:s}}function Ci(e,t,n){return e[t]=Ex(e,t,n),e[t]}function Fo(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function Cs(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function Ss(e,t){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function Ms(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}function Al(e,t){return null!=e&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}function lr(e){for(var t in Ao.call(this,e=e||{}),e)e.hasOwnProperty(t)&&"style"!==t&&(this[t]=e[t]);this.style=new La(e.style,this),this._rect=null,this.__clipPaths=[]}function tr(e){lr.call(this,e)}function ya(e){return parseInt(e,10)}function Il(e,t,n,i){return n=n||{},i||!li.canvasSupported?le(e,t,n):li.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):le(e,t,n),n}function le(e,t,n){var i=function(e){return e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0}}(e);n.zrX=t.clientX-i.left,n.zrY=t.clientY-i.top}function ee(e,t,n){if(null!=(t=t||window.event).zrX)return t;var i=t.type;if(i&&i.indexOf("touch")>=0){var o="touchend"!=i?t.targetTouches[0]:t.changedTouches[0];o&&Il(e,o,t,n)}else Il(e,t,t,n),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;var a=t.button;return null==t.which&&void 0!==a&&Qk.test(t.type)&&(t.which=1&a?1:2&a?3:4&a?2:0),t}function W(e,t,n){Zp?e.addEventListener(t,n):e.attachEvent("on"+t,n)}function B(e,t,n){Zp?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}function C(e){return e.which>1}function I(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function w(e){return"mousewheel"===e&&li.browser.firefox?"DOMMouseScroll":e}function S(e,t,n){var i=e._gestureMgr;"start"===n&&i.clear();var o=i.recognize(t,e.handler.findHover(t.zrX,t.zrY,null).target,e.dom);if("end"===n&&i.clear(),o){var a=o.type;t.gestureEvent=a,e.handler.dispatchToElement({target:o.target},a,o.event)}}function G(e){e._touching=!0,clearTimeout(e._touchTimer),e._touchTimer=setTimeout(function(){e._touching=!1},700)}function L(e){var t=e.pointerType;return"pen"===t||"touch"===t}function F(e){function t(n,i){m(n,function(o){W(e,w(o),i._handlers[o])},i)}nr.call(this),this.dom=e,this._touching=!1,this._gestureMgr=new Yp,this._handlers={},function(e){m($p,function(n){e._handlers[n]=re(Nr[n],e)}),m(Rx,function(n){e._handlers[n]=re(Nr[n],e)}),m(ud,function(n){e._handlers[n]=function(n,i){return function(){if(!i._touching)return n.apply(i,arguments)}}(Nr[n],e)})}(this),li.pointerEventsSupported?t(Rx,this):(li.touchEventsSupported&&t($p,this),t(ud,this))}function U(e,t){var n=new Kp(yx(),e,t);return Ea[n.id]=n,n}function O(e,t){cd[e]=t}function z(e){return e instanceof Array?e:null==e?[]:[e]}function te(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var i=0,o=n.length;i<o;i++){var a=n[i];!e.emphasis[t].hasOwnProperty(a)&&e[t].hasOwnProperty(a)&&(e.emphasis[t][a]=e[t][a])}}}function N(e){return!js(e)||iA(e)||e instanceof Date?e:e.value}function T(e,t){t=(t||[]).slice();var n=y(e||[],function(i,o){return{exist:i}});return Us(t,function(i,o){if(js(i)){for(a=0;a<n.length;a++)if(!n[a].option&&null!=i.id&&n[a].exist.id===i.id+"")return n[a].option=i,void(t[o]=null);for(var a=0;a<n.length;a++){var s=n[a].exist;if(!(n[a].option||null!=s.id&&null!=i.id||null==i.name||_(i)||_(s)||s.name!==i.name+""))return n[a].option=i,void(t[o]=null)}}}),Us(t,function(i,o){if(js(i)){for(var a=0;a<n.length;a++)if(!n[a].option&&!_(n[a].exist)&&null==i.id){n[a].option=i;break}a>=n.length&&n.push({option:i})}}),n}function v(e){var t=tt();Us(e,function(n,i){var o=n.exist;o&&t.set(o.id,n)}),Us(e,function(n,i){var o=n.option;Ue(!o||null==o.id||!t.get(o.id)||t.get(o.id)===n,"id duplicates: "+(o&&o.id)),o&&null!=o.id&&t.set(o.id,n),!n.keyInfo&&(n.keyInfo={})}),Us(e,function(n,i){var o=n.exist,a=n.option,s=n.keyInfo;if(js(a)){if(s.name=null!=a.name?a.name+"":o?o.name:dd,o)s.id=o.id;else if(null!=a.id)s.id=a.id+"";else{var l=0;do{s.id="\0"+s.name+"\0"+l++}while(t.get(s.id))}t.set(s.id,n)}})}function _(e){return js(e)&&e.id&&0===(e.id+"").indexOf("\0_ec_\0")}function ie(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?$(t.dataIndex)?y(t.dataIndex,function(n){return e.indexOfRawIndex(n)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?$(t.name)?y(t.name,function(n){return e.indexOfName(n)}):e.indexOfName(t.name):void 0}function Y(){var e="__\0ec_inner_"+rA+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}function ae(e,t,n){if(pe(t)){var i={};i[t+"Index"]=0,t=i}var o=n&&n.defaultMainType;!o||ge(t,o+"Index")||ge(t,o+"Id")||ge(t,o+"Name")||(t[o+"Index"]=0);var a={};return Us(t,function(s,l){if(s=t[l],"dataIndex"!==l&&"dataIndexInside"!==l){var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],d=(u[2]||"").toLowerCase();if(!(!c||!d||null==s||"index"===d&&"none"===s||n&&n.includeMainTypes&&A(n.includeMainTypes,c)<0)){var h={mainType:c};"index"===d&&"all"===s||(h[d]=s);var f=e.queryComponents(h);a[c+"Models"]=f,a[c+"Model"]=f[0]}}else a[l]=s}),a}function ge(e,t){return e&&e.hasOwnProperty(t)}function Ee(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function Ae(e){var t={main:"",sub:""};return e&&(e=e.split(oA),t.main=e[0]||"",t.sub=e[1]||""),t}function De(e,t){e.$constructor=e,e.extend=function(n){var i=this,o=function(){n.$constructor?n.$constructor.apply(this,arguments):i.apply(this,arguments)};return J(o.prototype,n),o.extend=this.extend,o.superCall=Ve,o.superApply=de,k(o,this),o.superClass=i,o}}function ze(e){var t=["__\0is_clz",aA++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(n){return!(!n||!n[t])}}function Ve(e,t){var n=Se(arguments,2);return this.superClass.prototype[t].apply(e,n)}function de(e,t,n){return this.superClass.prototype[t].apply(e,n)}function we(e,t){t=t||{};var i={};if(e.registerClass=function(a,s){return s&&(function(e){Ue(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}(s),(s=Ae(s)).sub?s.sub!==Ra&&((function(a){var s=i[a.main];return s&&s[Ra]||((s=i[a.main]={})[Ra]=!0),s}(s))[s.sub]=a):i[s.main]=a),a},e.getClass=function(a,s,l){var u=i[a];if(u&&u[Ra]&&(u=s?u[s]:null),l&&!u)throw new Error(s?"Component "+a+"."+(s||"")+" not exists. Load it first.":a+".type should be specified.");return u},e.getClassesByMainType=function(a){a=Ae(a);var s=[],l=i[a.main];return l&&l[Ra]?m(l,function(u,c){c!==Ra&&s.push(u)}):s.push(l),s},e.hasClass=function(a){return a=Ae(a),!!i[a.main]},e.getAllClassMainTypes=function(){var a=[];return m(i,function(s,l){a.push(l)}),a},e.hasSubTypes=function(a){a=Ae(a);var s=i[a.main];return s&&s[Ra]},e.parseClassType=Ae,t.registerWhenExtend){var o=e.extend;o&&(e.extend=function(a){var s=o.call(this,a);return e.registerClass(s,a.type)})}return e}function Re(e){return e>-fd&&e<fd}function We(e){return e>fd||e<-fd}function Ze(e,t,n,i,o){var a=1-o;return a*a*(a*e+3*o*t)+o*o*(o*i+3*a*n)}function ft(e,t,n,i,o){var a=1-o;return 3*(((t-e)*a+2*(n-t)*o)*a+(i-n)*o*o)}function Vt(e,t,n,i,o){var a=6*n-12*t+6*e,s=9*t+3*i-3*e-9*n,l=3*t-3*e,u=0;if(Re(s))We(a)&&(h=-l/a)>=0&&h<=1&&(o[u++]=h);else{var c=a*a-4*s*l;if(Re(c))o[0]=-a/(2*s);else if(c>0){var d=Zo(c),h=(-a+d)/(2*s),f=(-a-d)/(2*s);h>=0&&h<=1&&(o[u++]=h),f>=0&&f<=1&&(o[u++]=f)}}return u}function Kt(e,t,n,i,o,a){var s=(t-e)*o+e,l=(n-t)*o+t,u=(i-n)*o+n,c=(l-s)*o+s,d=(u-l)*o+l,h=(d-c)*o+c;a[0]=e,a[1]=s,a[2]=c,a[3]=h,a[4]=h,a[5]=d,a[6]=u,a[7]=i}function je(e,t,n,i){var o=1-i;return o*(o*e+2*i*t)+i*i*n}function ye(e,t,n,i){return 2*((1-i)*(t-e)+i*(n-t))}function Fe(e,t,n){var i=e+n-2*t;return 0===i?.5:(e-t)/i}function Ke(e,t,n,i,o){var a=(t-e)*i+e,s=(n-t)*i+t,l=(s-a)*i+a;o[0]=e,o[1]=a,o[2]=l,o[3]=l,o[4]=s,o[5]=n}function dt(e,t,n){if(0!==e.length){var i,o=e[0],a=o[0],s=o[0],l=o[1],u=o[1];for(i=1;i<e.length;i++)a=wr(a,(o=e[i])[0]),s=Cr(s,o[0]),l=wr(l,o[1]),u=Cr(u,o[1]);t[0]=a,t[1]=l,n[0]=s,n[1]=u}}function it(e,t,n,i,o,a){o[0]=wr(e,n),o[1]=wr(t,i),a[0]=Cr(e,n),a[1]=Cr(t,i)}function Mt(e,t,n,i,o,a,s,l,u,c){var d,h=Vt,f=Ze,p=h(e,n,o,s,Hx);for(u[0]=1/0,u[1]=1/0,c[0]=-1/0,c[1]=-1/0,d=0;d<p;d++){var D=f(e,n,o,s,Hx[d]);u[0]=wr(D,u[0]),c[0]=Cr(D,c[0])}for(p=h(t,i,a,l,Vx),d=0;d<p;d++){var X=f(t,i,a,l,Vx[d]);u[1]=wr(X,u[1]),c[1]=Cr(X,c[1])}u[0]=wr(e,u[0]),c[0]=Cr(e,c[0]),u[0]=wr(s,u[0]),c[0]=Cr(s,c[0]),u[1]=wr(t,u[1]),c[1]=Cr(t,c[1]),u[1]=wr(l,u[1]),c[1]=Cr(l,c[1])}function gt(e,t,n,i,o,a,s,l){var u=Fe,c=je,d=Cr(wr(u(e,n,o),1),0),h=Cr(wr(u(t,i,a),1),0),f=c(e,n,o,d),p=c(t,i,a,h);s[0]=wr(e,o,f),s[1]=wr(t,a,p),l[0]=Cr(e,o,f),l[1]=Cr(t,a,p)}function Ct(e,t,n,i,o,a,s,l,u){var c=bt,d=rn,h=Math.abs(o-a);if(h%Ba<1e-4&&h>1e-4)return l[0]=e-n,l[1]=t-i,u[0]=e+n,void(u[1]=t+i);if(gd[0]=Qp(o)*n+e,gd[1]=Jp(o)*i+t,md[0]=Qp(a)*n+e,md[1]=Jp(a)*i+t,c(l,gd,md),d(u,gd,md),(o%=Ba)<0&&(o+=Ba),(a%=Ba)<0&&(a+=Ba),o>a&&!s?a+=Ba:o<a&&s&&(o+=Ba),s){var f=a;a=o,o=f}for(var p=0;p<a;p+=Math.PI/2)p>o&&(vd[0]=Qp(p)*n+e,vd[1]=Jp(p)*i+t,c(l,vd,l),d(u,vd,u))}function xt(e,t,n,i,o,a,s){if(0===o)return!1;var u,l=o;if(s>t+l&&s>i+l||s<t-l&&s<i-l||a>e+l&&a>n+l||a<e-l&&a<n-l)return!1;if(e===n)return Math.abs(a-e)<=l/2;var d=(u=(t-i)/(e-n))*a-s+(e*i-n*t)/(e-n);return d*d/(u*u+1)<=l/2*l/2}function vn(e,t,n,i,o,a,s,l,u,c,d){if(0===u)return!1;var h=u;return!(d>t+h&&d>i+h&&d>a+h&&d>l+h||d<t-h&&d<i-h&&d<a-h&&d<l-h||c>e+h&&c>n+h&&c>o+h&&c>s+h||c<e-h&&c<n-h&&c<o-h&&c<s-h)&&function(e,t,n,i,o,a,s,l,u,c,d){var h,f,p,D,X,K=.005,oe=1/0;so[0]=u,so[1]=c;for(var ce=0;ce<1;ce+=.05)Ur[0]=Ze(e,n,o,s,ce),Ur[1]=Ze(t,i,a,l,ce),(D=Uo(so,Ur))<oe&&(h=ce,oe=D);oe=1/0;for(var be=0;be<32&&!(K<zx);be++)p=h+K,Ur[0]=Ze(e,n,o,s,f=h-K),Ur[1]=Ze(t,i,a,l,f),D=Uo(Ur,so),f>=0&&D<oe?(h=f,oe=D):(Zs[0]=Ze(e,n,o,s,p),Zs[1]=Ze(t,i,a,l,p),X=Uo(Zs,so),p<=1&&X<oe?(h=p,oe=X):K*=.5);return Zo(oe)}(e,t,n,i,o,a,s,l,c,d)<=h/2}function zn(e,t,n,i,o,a,s,l,u){if(0===s)return!1;var c=s;return!(u>t+c&&u>i+c&&u>a+c||u<t-c&&u<i-c&&u<a-c||l>e+c&&l>n+c&&l>o+c||l<e-c&&l<n-c&&l<o-c)&&function(e,t,n,i,o,a,s,l,u){var c,d=.005,h=1/0;so[0]=s,so[1]=l;for(var f=0;f<1;f+=.05)Ur[0]=je(e,n,o,f),Ur[1]=je(t,i,a,f),(K=Uo(so,Ur))<h&&(c=f,h=K);h=1/0;for(var p=0;p<32&&!(d<zx);p++){var D=c-d,X=c+d;Ur[0]=je(e,n,o,D),Ur[1]=je(t,i,a,D);var K=Uo(Ur,so);if(D>=0&&K<h)c=D,h=K;else{Zs[0]=je(e,n,o,X),Zs[1]=je(t,i,a,X);var oe=Uo(Zs,so);X<=1&&oe<h?(c=X,h=oe):d*=.5}}return Zo(h)}(e,t,n,i,o,a,l,u)<=c/2}function jn(e){return(e%=Ux)<0&&(e+=Ux),e}function Mi(e,t,n,i,o,a,s,l,u){if(0===s)return!1;var c=s;l-=e,u-=t;var d=Math.sqrt(l*l+u*u);if(d-c>n||d+c<n)return!1;if(Math.abs(i-o)%hu<1e-4)return!0;if(a){var h=i;i=jn(o),o=jn(h)}else i=jn(i),o=jn(o);i>o&&(o+=hu);var f=Math.atan2(u,l);return f<0&&(f+=hu),f>=i&&f<=o||f+hu>=i&&f+hu<=o}function ei(e,t,n,i,o,a){if(a>t&&a>i||a<t&&a<i||i===t)return 0;var s=i<t?1:-1,l=(a-t)/(i-t);return 1!==l&&0!==l||(s=i<t?.5:-.5),l*(n-e)+e>o?s:0}function Ai(){var e=jr[0];jr[0]=jr[1],jr[1]=e}function gi(e,t,n,i,o,a,s,l,u,c){if(c>t&&c>i&&c>a&&c>l||c<t&&c<i&&c<a&&c<l)return 0;var d=function(e,t,n,i,o,a){var s=i+3*(t-n)-e,l=3*(n-2*t+e),u=3*(t-e),c=e-o,d=l*l-3*s*u,h=l*u-9*s*c,f=u*u-3*l*c,p=0;if(Re(d)&&Re(h))Re(l)?a[0]=0:(nt=-u/l)>=0&&nt<=1&&(a[p++]=nt);else{var D=h*h-4*d*f;if(Re(D)){var X=h/d,K=-X/2;(nt=-l/s+X)>=0&&nt<=1&&(a[p++]=nt),K>=0&&K<=1&&(a[p++]=K)}else if(D>0){var oe=Zo(D),ce=d*l+1.5*s*(-h+oe),be=d*l+1.5*s*(-h-oe);(nt=(-l-((ce=ce<0?-hd(-ce,pd):hd(ce,pd))+(be=be<0?-hd(-be,pd):hd(be,pd))))/(3*s))>=0&&nt<=1&&(a[p++]=nt)}else{var Be=(2*d*l-3*s*h)/(2*Zo(d*d*d)),He=Math.acos(Be)/3,Ye=Zo(d),$e=Math.cos(He),nt=(-l-2*Ye*$e)/(3*s),mt=(K=(-l+Ye*($e+Fx*Math.sin(He)))/(3*s),(-l+Ye*($e-Fx*Math.sin(He)))/(3*s));nt>=0&&nt<=1&&(a[p++]=nt),K>=0&&K<=1&&(a[p++]=K),mt>=0&&mt<=1&&(a[p++]=mt)}}return p}(t,i,a,l,c,yr);if(0===d)return 0;for(var h,f,p=0,D=-1,X=0;X<d;X++){var K=yr[X],oe=0===K||1===K?.5:1;Ze(e,n,o,s,K)<u||(D<0&&(D=Vt(t,i,a,l,jr),jr[1]<jr[0]&&D>1&&Ai(),h=Ze(t,i,a,l,jr[0]),D>1&&(f=Ze(t,i,a,l,jr[1]))),p+=2==D?K<jr[0]?h<t?oe:-oe:K<jr[1]?f<h?oe:-oe:l<f?oe:-oe:K<jr[0]?h<t?oe:-oe:l<h?oe:-oe)}return p}function mi(e,t,n,i,o,a,s,l){if(l>t&&l>i&&l>a||l<t&&l<i&&l<a)return 0;var u=function(e,t,n,i,o){var a=e-2*t+n,s=2*(t-e),l=e-i,u=0;if(Re(a))We(s)&&(h=-l/s)>=0&&h<=1&&(o[u++]=h);else{var c=s*s-4*a*l;if(Re(c))(h=-s/(2*a))>=0&&h<=1&&(o[u++]=h);else if(c>0){var d=Zo(c),h=(-s+d)/(2*a),f=(-s-d)/(2*a);h>=0&&h<=1&&(o[u++]=h),f>=0&&f<=1&&(o[u++]=f)}}return u}(t,i,a,l,yr);if(0===u)return 0;var c=Fe(t,i,a);if(c>=0&&c<=1){for(var d=0,h=je(t,i,a,c),f=0;f<u;f++)p=0===yr[f]||1===yr[f]?.5:1,(D=je(e,n,o,yr[f]))<s||(d+=yr[f]<c?h<t?p:-p:a<h?p:-p);return d}var p=0===yr[0]||1===yr[0]?.5:1,D=je(e,n,o,yr[0]);return D<s?0:a<t?p:-p}function Ot(e,t,n,i,o,a,s,l){if((l-=t)>n||l<-n)return 0;c=Math.sqrt(n*n-l*l),yr[0]=-c,yr[1]=c;var u=Math.abs(i-o);if(u<1e-4)return 0;if(u%Xs<1e-4)return i=0,o=Xs,D=a?1:-1,s>=yr[0]+e&&s<=yr[1]+e?D:0;if(a){var c=i;i=jn(o),o=jn(c)}else i=jn(i),o=jn(o);i>o&&(o+=Xs);for(var d=0,h=0;h<2;h++){var f=yr[h];if(f+e>s){var p=Math.atan2(l,f),D=a?1:-1;p<0&&(p=Xs+p),(p>=i&&p<=o||p+Xs>=i&&p+Xs<=o)&&(p>Math.PI/2&&p<1.5*Math.PI&&(D=-D),d+=D)}}return d}function Xt(e,t,n,i,o){for(var a=0,s=0,l=0,u=0,c=0,d=0;d<e.length;){var h=e[d++];switch(h===Xo.M&&d>1&&(n||(a+=ei(s,l,u,c,i,o))),1==d&&(u=s=e[d],c=l=e[d+1]),h){case Xo.M:s=u=e[d++],l=c=e[d++];break;case Xo.L:if(n){if(xt(s,l,e[d],e[d+1],t,i,o))return!0}else a+=ei(s,l,e[d],e[d+1],i,o)||0;s=e[d++],l=e[d++];break;case Xo.C:if(n){if(vn(s,l,e[d++],e[d++],e[d++],e[d++],e[d],e[d+1],t,i,o))return!0}else a+=gi(s,l,e[d++],e[d++],e[d++],e[d++],e[d],e[d+1],i,o)||0;s=e[d++],l=e[d++];break;case Xo.Q:if(n){if(zn(s,l,e[d++],e[d++],e[d],e[d+1],t,i,o))return!0}else a+=mi(s,l,e[d++],e[d++],e[d],e[d+1],i,o)||0;s=e[d++],l=e[d++];break;case Xo.A:var f=e[d++],p=e[d++],D=e[d++],X=e[d++],K=e[d++],oe=e[d++],ce=(d++,1-e[d++]),be=Math.cos(K)*D+f,Be=Math.sin(K)*X+p;d>1?a+=ei(s,l,be,Be,i,o):(u=be,c=Be);var He=(i-f)*X/D+f;if(n){if(Mi(f,p,X,K,K+oe,ce,t,He,o))return!0}else a+=Ot(f,p,X,K,K+oe,ce,He,o);s=Math.cos(K+oe)*D+f,l=Math.sin(K+oe)*X+p;break;case Xo.R:if(u=s=e[d++],c=l=e[d++],be=u+e[d++],Be=c+e[d++],n){if(xt(u,c,be,c,t,i,o)||xt(be,c,be,Be,t,i,o)||xt(be,Be,u,Be,t,i,o)||xt(u,Be,u,c,t,i,o))return!0}else a+=ei(be,c,be,Be,i,o),a+=ei(u,Be,u,c,i,o);break;case Xo.Z:if(n){if(xt(s,l,u,c,t,i,o))return!0}else a+=ei(s,l,u,c,i,o);s=u,l=c}}return n||function(e,t){return Math.abs(e-t)<dA}(l,c)||(a+=ei(s,l,u,c,i,o)||0),0!==a}function an(e){lr.call(this,e),this.path=null}function fn(e,t,n,i,o,a,s,l,u,c,d){var h=u*(_d/180),f=bd(h)*(e-n)/2+xd(h)*(t-i)/2,p=-1*xd(h)*(e-n)/2+bd(h)*(t-i)/2,D=f*f/(s*s)+p*p/(l*l);D>1&&(s*=ig(D),l*=ig(D));var X=(o===a?-1:1)*ig((s*s*(l*l)-s*s*(p*p)-l*l*(f*f))/(s*s*(p*p)+l*l*(f*f)))||0,K=X*s*p/l,oe=X*-l*f/s,ce=(e+n)/2+bd(h)*K-xd(h)*oe,be=(t+i)/2+xd(h)*K+bd(h)*oe,Be=Yx([1,0],[(f-K)/s,(p-oe)/l]),He=[(f-K)/s,(p-oe)/l],Ye=[(-1*f-K)/s,(-1*p-oe)/l],$e=Yx(He,Ye);rg(He,Ye)<=-1&&($e=_d),rg(He,Ye)>=1&&($e=0),0===a&&$e>0&&($e-=2*_d),1===a&&$e<0&&($e+=2*_d),d.addData(c,ce,be,s,l,Be,$e,h,a)}function Xe(e,t){var n=function(e){if(!e)return[];var t,n=e.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(t=0;t<ng.length;t++)n=n.replace(new RegExp(ng[t],"g"),"|"+ng[t]);var i,o=n.split("|"),a=0,s=0,l=new Pr,u=Pr.CMD;for(t=1;t<o.length;t++){var c,d=o[t],h=d.charAt(0),f=0,p=d.slice(1).replace(/e,-/g,"e-").split(",");p.length>0&&""===p[0]&&p.shift();for(var D=0;D<p.length;D++)p[D]=parseFloat(p[D]);for(;f<p.length&&!isNaN(p[f])&&!isNaN(p[0]);){var X,K,oe,ce,be,Be,He,Ye=a,$e=s;switch(h){case"l":a+=p[f++],s+=p[f++],l.addData(c=u.L,a,s);break;case"L":a=p[f++],s=p[f++],l.addData(c=u.L,a,s);break;case"m":a+=p[f++],s+=p[f++],l.addData(c=u.M,a,s),h="l";break;case"M":a=p[f++],s=p[f++],l.addData(c=u.M,a,s),h="L";break;case"h":a+=p[f++],l.addData(c=u.L,a,s);break;case"H":a=p[f++],l.addData(c=u.L,a,s);break;case"v":s+=p[f++],l.addData(c=u.L,a,s);break;case"V":s=p[f++],l.addData(c=u.L,a,s);break;case"C":l.addData(c=u.C,p[f++],p[f++],p[f++],p[f++],p[f++],p[f++]),a=p[f-2],s=p[f-1];break;case"c":l.addData(c=u.C,p[f++]+a,p[f++]+s,p[f++]+a,p[f++]+s,p[f++]+a,p[f++]+s),a+=p[f-2],s+=p[f-1];break;case"S":X=a,K=s;var nt=l.len(),mt=l.data;i===u.C&&(X+=a-mt[nt-4],K+=s-mt[nt-3]),Ye=p[f++],$e=p[f++],a=p[f++],s=p[f++],l.addData(c=u.C,X,K,Ye,$e,a,s);break;case"s":X=a,K=s,nt=l.len(),mt=l.data,i===u.C&&(X+=a-mt[nt-4],K+=s-mt[nt-3]),Ye=a+p[f++],$e=s+p[f++],a+=p[f++],s+=p[f++],l.addData(c=u.C,X,K,Ye,$e,a,s);break;case"Q":Ye=p[f++],$e=p[f++],a=p[f++],s=p[f++],l.addData(c=u.Q,Ye,$e,a,s);break;case"q":Ye=p[f++]+a,$e=p[f++]+s,a+=p[f++],s+=p[f++],l.addData(c=u.Q,Ye,$e,a,s);break;case"T":X=a,K=s,nt=l.len(),mt=l.data,i===u.Q&&(X+=a-mt[nt-4],K+=s-mt[nt-3]),a=p[f++],s=p[f++],l.addData(c=u.Q,X,K,a,s);break;case"t":X=a,K=s,nt=l.len(),mt=l.data,i===u.Q&&(X+=a-mt[nt-4],K+=s-mt[nt-3]),a+=p[f++],s+=p[f++],l.addData(c=u.Q,X,K,a,s);break;case"A":oe=p[f++],ce=p[f++],be=p[f++],Be=p[f++],He=p[f++],fn(Ye=a,$e=s,a=p[f++],s=p[f++],Be,He,oe,ce,be,c=u.A,l);break;case"a":oe=p[f++],ce=p[f++],be=p[f++],Be=p[f++],He=p[f++],fn(Ye=a,$e=s,a+=p[f++],s+=p[f++],Be,He,oe,ce,be,c=u.A,l)}}"z"!==h&&"Z"!==h||l.addData(c=u.Z),i=c}return l.toStatic(),l}(e);return(t=t||{}).buildPath=function(i){if(i.setData)i.setData(n.data),(o=i.getContext())&&i.rebuildPath(o);else{var o=i;n.rebuildPath(o)}},t.applyTransform=function(i){gA(n,i),this.dirty(!0)},t}function Oe(e,t,n,i,o,a,s){var l=.5*(n-e),u=.5*(i-t);return(2*(t-n)+l+u)*s+(-3*(t-n)-2*l-u)*a+l*o+t}function Je(e,t,n){var i=t.points,o=t.smooth;if(i&&i.length>=2){if(o&&"spline"!==o){var a=vA(i,o,n,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var s=i.length,l=0;l<(n?s:s-1);l++){var u=a[2*l],c=a[2*l+1],d=i[(l+1)%s];e.bezierCurveTo(u[0],u[1],c[0],c[1],d[0],d[1])}}else{"spline"===o&&(i=mA(i,n)),e.moveTo(i[0][0],i[0][1]),l=1;for(var h=i.length;l<h;l++)e.lineTo(i[l][0],i[l][1])}n&&e.closePath()}}function lt(e,t,n){return null===e.cpx2||null===e.cpy2?[(n?ft:Ze)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?ft:Ze)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?ye:je)(e.x1,e.cpx1,e.x2,t),(n?ye:je)(e.y1,e.cpy1,e.y2,t)]}function yt(e){lr.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function ut(e){return an.extend(e)}function qe(e,t,n,i){var o=function(e,t){return new an(Xe(e,t))}(e,t),a=o.getBoundingRect();return n&&("center"===i&&(n=vt(n,a)),Zt(o,n)),o}function pt(e,t,n){var i=new tr({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(o){"center"===n&&i.setStyle(vt(t,{width:o.width,height:o.height}))}});return i}function vt(e,t){var n,i=t.width/t.height,o=e.height*i;return n=o<=e.width?e.height:(o=e.width)/i,{x:e.x+e.width/2-o/2,y:e.y+e.height/2-n/2,width:o,height:n}}function Zt(e,t){if(e.applyTransform){var n=e.getBoundingRect().calculateTransform(t);e.applyTransform(n)}}function et(e){var t=e.shape,n=e.style.lineWidth;return Js(2*t.x1)===Js(2*t.x2)&&(t.x1=t.x2=st(t.x1,n,!0)),Js(2*t.y1)===Js(2*t.y2)&&(t.y1=t.y2=st(t.y1,n,!0)),e}function St(e){var t=e.shape,n=e.style.lineWidth,i=t.x,o=t.y,a=t.width,s=t.height;return t.x=st(t.x,n,!0),t.y=st(t.y,n,!0),t.width=Math.max(st(i+a,n,!1)-t.x,0===a?0:1),t.height=Math.max(st(o+s,n,!1)-t.y,0===s?0:1),e}function st(e,t,n){var i=Js(2*e);return(i+Js(t))%2==0?i/2:(i+(n?1:-1))/2}function zt(e){return null!=e&&"none"!=e}function jt(e){return"string"==typeof e?wo(e,-.1):e}function Jt(e){if(e.__hoverStlDirty){var t=e.style.stroke,n=e.style.fill,i=e.__hoverStl;i.fill=i.fill||(zt(n)?jt(n):null),i.stroke=i.stroke||(zt(t)?jt(t):null);var o={};for(var a in i)null!=i[a]&&(o[a]=e.style[a]);e.__normalStl=o,e.__hoverStlDirty=!1}}function qt(e){if(!e.__isHover){if(Jt(e),e.useHoverLayer)e.__zr&&e.__zr.addHover(e,e.__hoverStl);else{var t=e.style,n=t.insideRollbackOpt;n&&function(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth)}(t),t.extendFrom(e.__hoverStl),n&&(Vm(t,t.insideOriginalTextPosition,n),null==t.textFill&&(t.textFill=n.autoColor)),e.dirty(!1),e.z2+=1}e.__isHover=!0}}function en(e){if(e.__isHover){var t=e.__normalStl;e.useHoverLayer?e.__zr&&e.__zr.removeHover(e):(t&&e.setStyle(t),e.z2-=1),e.__isHover=!1}}function Cn(e){"group"===e.type?e.traverse(function(t){"group"!==t.type&&qt(t)}):qt(e)}function Fn(e){"group"===e.type?e.traverse(function(t){"group"!==t.type&&en(t)}):en(e)}function In(e,t){e.__hoverStl=e.hoverStyle||t||{},e.__hoverStlDirty=!0,e.__isHover&&Jt(e)}function ri(e){this.__hoverSilentOnTouch&&e.zrByTouch||!this.__isEmphasis&&Cn(this)}function Si(e){this.__hoverSilentOnTouch&&e.zrByTouch||!this.__isEmphasis&&Fn(this)}function ci(){this.__isEmphasis=!0,Cn(this)}function Bi(){this.__isEmphasis=!1,Fn(this)}function ii(e,t,n){e.__hoverSilentOnTouch=n&&n.hoverSilentOnTouch,"group"===e.type?e.traverse(function(i){"group"!==i.type&&In(i,t)}):In(e,t),e.on("mouseover",ri).on("mouseout",Si),e.on("emphasis",ci).on("normal",Bi)}function Ni(e,t,n,i,o,a,s){var l,u=(o=o||Md).labelFetcher,c=o.labelDataIndex,d=o.labelDimIndex,h=n.getShallow("show"),f=i.getShallow("show");(h||f)&&(u&&(l=u.getFormattedLabel(c,"normal",null,d)),null==l&&(l=fe(o.defaultText)?o.defaultText(c,o):o.defaultText));var p=h?l:null,D=f?Me(u?u.getFormattedLabel(c,"emphasis",null,d):null,l):null;null==p&&null==D||($n(e,n,a,o),$n(t,i,s,o,!0)),e.text=p,t.text=D}function $n(e,t,n,i,o){return Vi(e,t,i,o),n&&J(e,n),e.host&&e.host.dirty&&e.host.dirty(!1),e}function Vi(e,t,n,i){if((n=n||Md).isRectText){var o=t.getShallow("position")||(i?null:"inside");"outside"===o&&(o="top"),e.textPosition=o,e.textOffset=t.getShallow("offset");var a=t.getShallow("rotate");null!=a&&(a*=Math.PI/180),e.textRotation=a,e.textDistance=Me(t.getShallow("distance"),i?null:5)}var s,l=t.ecModel,u=l&&l.option.textStyle,c=function(e){for(var t;e&&e!==e.ecModel;){var n=(e.option||Md).rich;if(n)for(var i in t=t||{},n)n.hasOwnProperty(i)&&(t[i]=1);e=e.parentModel}return t}(t);if(c)for(var d in s={},c)if(c.hasOwnProperty(d)){var h=t.getModel(["rich",d]);Hm(s[d]={},h,u,n,i)}return e.rich=s,Hm(e,t,u,n,i,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),e}function Hm(e,t,n,i,o,a){if(n=!o&&n||Md,e.textFill=Ju(t.getShallow("color"),i)||n.color,e.textStroke=Ju(t.getShallow("textBorderColor"),i)||n.textBorderColor,e.textStrokeWidth=Me(t.getShallow("textBorderWidth"),n.textBorderWidth),!o){if(a){var s=e.textPosition;e.insideRollback=Vm(e,s,i),e.insideOriginalTextPosition=s,e.insideRollbackOpt=i}null==e.textFill&&(e.textFill=i.autoColor)}e.fontStyle=t.getShallow("fontStyle")||n.fontStyle,e.fontWeight=t.getShallow("fontWeight")||n.fontWeight,e.fontSize=t.getShallow("fontSize")||n.fontSize,e.fontFamily=t.getShallow("fontFamily")||n.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),a&&i.disableBox||(e.textBackgroundColor=Ju(t.getShallow("backgroundColor"),i),e.textPadding=t.getShallow("padding"),e.textBorderColor=Ju(t.getShallow("borderColor"),i),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||n.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||n.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||n.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function Ju(e,t){return"auto"!==e?e:t&&t.autoColor?t.autoColor:null}function Vm(e,t,n){var i,o=n.useInsideStyle;return null==e.textFill&&!1!==o&&(!0===o||n.isRectText&&t&&"string"==typeof t&&t.indexOf("inside")>=0)&&(i={textFill:null,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth},e.textFill="#fff",null==e.textStroke&&(e.textStroke=n.autoColor,null==e.textStrokeWidth&&(e.textStrokeWidth=2))),i}function Ch(e,t){var n=t||t.getModel("textStyle");return Qe([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}function Wm(e,t,n,i,o,a){if("function"==typeof o&&(a=o,o=null),i&&i.isAnimationEnabled()){var s=e?"Update":"",l=i.getShallow("animationDuration"+s),u=i.getShallow("animationEasing"+s),c=i.getShallow("animationDelay"+s);"function"==typeof c&&(c=c(o,i.getAnimationDelayParams?i.getAnimationDelayParams(t,o):null)),"function"==typeof l&&(l=l(o)),l>0?t.animateTo(n,l,c||0,u,a,!!a):(t.stopAnimation(),t.attr(n),a&&a())}else t.stopAnimation(),t.attr(n),a&&a()}function si(e,t,n,i,o){Wm(!0,e,t,n,i,o)}function mr(e,t,n,i,o){Wm(!1,e,t,n,i,o)}function xa(e,t){for(var n=En([]);e&&e!==t;)Ut(n,e.getLocalTransform(),n),e=e.parent;return n}function io(e,t,n){return t&&!H(t)&&(t=oo.getLocalTransform(t)),n&&(t=$t([],t)),Rt([],e,t)}function Sh(e,t,n){var i=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),o=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),a=["left"===e?-i:"right"===e?i:0,"top"===e?-o:"bottom"===e?o:0];return a=io(a,t,n),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function Mh(e,t,n,i){function o(s){var l={position:Lt(s.position),rotation:s.rotation};return s.shape&&(l.shape=J({},s.shape)),l}if(e&&t){var a=(l={},e.traverse(function(u){!u.isGroup&&u.anid&&(l[u.anid]=u)}),l);t.traverse(function(s){if(!s.isGroup&&s.anid){var l=a[s.anid];if(l){var u=o(s);s.attr(o(l)),si(s,u,n,s.dataIndex)}}})}var l}function Gm(e,t){return y(e,function(n){var i=n[0];i=Cd(i,t.x),i=Sd(i,t.x+t.width);var o=n[1];return o=Cd(o,t.y),[i,o=Sd(o,t.y+t.height)]})}function Dl(e,t,n){var i=(t=J({rectHover:!0},t)).style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(i.image=e.slice(8),ne(i,n),new tr(t)):qe(e.replace("path://",""),t,n,"center")}function vi(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}function Um(e,t,n){for(var i=0;i<t.length&&(!t[i]||null!=(e=e&&"object"==typeof e?e[t[i]]:null));i++);return null==e&&n&&(e=n.get(t)),e}function Th(e,t){var n=Jx(e).getParent;return n?n.call(e,t):e.parentModel}function Qu(e){return[e||"",CA++,Math.random().toFixed(5)].join("_")}function ji(e,t,n,i){var o=t[1]-t[0],a=n[1]-n[0];if(0===o)return 0===a?n[0]:(n[0]+n[1])/2;if(i)if(o>0){if(e<=t[0])return n[0];if(e>=t[1])return n[1]}else{if(e>=t[0])return n[0];if(e<=t[1])return n[1]}else{if(e===t[0])return n[0];if(e===t[1])return n[1]}return(e-t[0])/o*a+n[0]}function wn(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return"string"==typeof e?function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e}function br(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e}function ba(e){return e.sort(function(t,n){return t-n}),e}function jm(e){if(e=+e,isNaN(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}function ec(e){var t=e.toString(),n=t.indexOf("e");if(n>0){var i=+t.slice(n+1);return i<0?-i:0}var o=t.indexOf(".");return o<0?0:t.length-1-o}function kh(e,t){var n=Math.log,i=Math.LN10,o=Math.floor(n(e[1]-e[0])/i),a=Math.round(n(Math.abs(t[1]-t[0]))/i),s=Math.min(Math.max(-o+a,0),20);return isFinite(s)?s:20}function qm(e,t,n){if(!e[t])return 0;var i=P(e,function(D,X){return D+(isNaN(X)?0:X)},0);if(0===i)return 0;for(var o=Math.pow(10,n),a=y(e,function(D){return(isNaN(D)?0:D)/i*o*100}),s=100*o,l=y(a,function(D){return Math.floor(D)}),u=P(l,function(D,X){return D+X},0),c=y(a,function(D,X){return D-l[X]});u<s;){for(var d=Number.NEGATIVE_INFINITY,h=null,f=0,p=c.length;f<p;++f)c[f]>d&&(d=c[f],h=f);++l[h],c[h]=0,++u}return l[t]/o}function Ah(e){var t=2*Math.PI;return(e%t+t)%t}function Nl(e){return e>-Qx&&e<Qx}function Pl(e){if(e instanceof Date)return e;if("string"==typeof e){var t=SA.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(n-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,+t[7]||0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}return null==e?new Date(NaN):new Date(Math.round(e))}function Zm(e){return Math.pow(10,Ym(e))}function Ym(e){return Math.floor(Math.log(e)/Math.LN10)}function Ih(e,t){var i=Ym(e),o=Math.pow(10,i),a=e/o;return e=(t?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10)*o,i>=-20?+e.toFixed(i<0?-i:0):e}function Dh(e){function t(u,c,d){return u.interval[d]<c.interval[d]||u.interval[d]===c.interval[d]&&(u.close[d]-c.close[d]==(d?-1:1)||!d&&t(u,c,1))}e.sort(function(u,c){return t(u,c,0)?-1:1});for(var n=-1/0,i=1,o=0;o<e.length;){for(var a=e[o].interval,s=e[o].close,l=0;l<2;l++)a[l]<=n&&(a[l]=n,s[l]=l?1:1-i),n=a[l],i=s[l];a[0]===a[1]&&s[0]*s[1]!=1?e.splice(o,1):o++}return e}function Xm(e){return e-parseFloat(e)>=0}function _a(e){return isNaN(e)?"-":(e=(e+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function $m(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(n,i){return i.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}function Oi(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Nh(e,t,n){$(t)||(t=[t]);var i=t.length;if(!i)return"";for(var o=t[0].$vars||[],a=0;a<o.length;a++){var s=eb[a];e=e.replace(lg(s),lg(s,0))}for(var l=0;l<i;l++)for(var u=0;u<o.length;u++){var c=t[l][o[u]];e=e.replace(lg(eb[u],l),n?Oi(c):c)}return e}function Km(e,t,n){return m(t,function(i,o){e=e.replace("{"+o+"}",n?Oi(i):i)}),e}function tc(e,t){var n=(e=pe(e)?{color:e,extraCssText:t}:e||{}).color;return t=e.extraCssText,n?"subItem"===e.type?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Oi(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+Oi(n)+";"+(t||"")+'"></span>':""}function Ph(e,t,n){"week"!==e&&"month"!==e&&"quarter"!==e&&"half-year"!==e&&"year"!==e||(e="MM-dd\nyyyy");var i=Pl(t),o=n?"UTC":"",a=i["get"+o+"FullYear"](),s=i["get"+o+"Month"]()+1,l=i["get"+o+"Date"](),u=i["get"+o+"Hours"](),c=i["get"+o+"Minutes"](),d=i["get"+o+"Seconds"]();return e.replace("MM",fu(s)).replace("M",s).replace("yyyy",a).replace("yy",a%100).replace("dd",fu(l)).replace("d",l).replace("hh",fu(u)).replace("h",u).replace("mm",fu(c)).replace("m",c).replace("ss",fu(d)).replace("s",d)}function nc(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)}function Lh(e,t,n,i,o){var a=0,s=0;null==i&&(i=1/0),null==o&&(o=1/0);var l=0;t.eachChild(function(u,c){var d,h,f=u.position,p=u.getBoundingRect(),D=t.childAt(c+1),X=D&&D.getBoundingRect();if("horizontal"===e){var K=p.width+(X?-X.x+p.x:0);(d=a+K)>i||u.newline?(a=0,d=K,s+=l+n,l=p.height):l=Math.max(l,p.height)}else{var oe=p.height+(X?-X.y+p.y:0);(h=s+oe)>o||u.newline?(a+=l+n,s=0,h=oe,l=p.width):l=Math.max(l,p.width)}u.newline||(f[0]=a,f[1]=s,"horizontal"===e?a=d+n:s=h+n)})}function Qi(e,t,n){n=za(n||0);var i=t.width,o=t.height,a=wn(e.left,i),s=wn(e.top,o),l=wn(e.right,i),u=wn(e.bottom,o),c=wn(e.width,i),d=wn(e.height,o),h=n[2]+n[0],f=n[1]+n[3],p=e.aspect;switch(isNaN(c)&&(c=i-l-f-a),isNaN(d)&&(d=o-u-h-s),null!=p&&(isNaN(c)&&isNaN(d)&&(p>i/o?c=.8*i:d=.8*o),isNaN(c)&&(c=p*d),isNaN(d)&&(d=c/p)),isNaN(a)&&(a=i-l-c-f),isNaN(s)&&(s=o-u-d-h),e.left||e.right){case"center":a=i/2-c/2-n[3];break;case"right":a=i-c-f}switch(e.top||e.bottom){case"middle":case"center":s=o/2-d/2-n[0];break;case"bottom":s=o-d-h}a=a||0,s=s||0,isNaN(c)&&(c=i-f-a-(l||0)),isNaN(d)&&(d=o-h-s-(u||0));var D=new Qn(a+n[3],s+n[0],c,d);return D.margin=n,D}function ic(e,t,n,i,o){var a=!o||!o.hv||o.hv[0],s=!o||!o.hv||o.hv[1],l=o&&o.boundingMode||"all";if(a||s){var u;if("raw"===l)u="group"===e.type?new Qn(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var c=e.getLocalTransform();(u=u.clone()).applyTransform(c)}t=Qi(ne({width:u.width,height:u.height},t),n,i);var d=e.position,h=a?t.x-u.x:0,f=s?t.y-u.y:0;e.attr("position","raw"===l?[h,f]:[d[0]+h,d[1]+f])}}function Ho(e,t,n){function i(d,h){var f={},p=0,D={},X=0;if(kd(d,function(ce){D[ce]=e[ce]}),kd(d,function(ce){o(t,ce)&&(f[ce]=D[ce]=t[ce]),a(f,ce)&&p++,a(D,ce)&&X++}),l[h])return a(t,d[1])?D[d[2]]=null:a(t,d[2])&&(D[d[1]]=null),D;if(2!==X&&p){if(p>=2)return f;for(var K=0;K<d.length;K++){var oe=d[K];if(!o(f,oe)&&o(e,oe)){f[oe]=e[oe];break}}return f}return D}function o(d,h){return d.hasOwnProperty(h)}function a(d,h){return null!=d[h]&&"auto"!==d[h]}function s(d,h,f){kd(d,function(p){h[p]=f[p]})}!Ce(n)&&(n={});var l=n.ignoreSize;!$(l)&&(l=[l,l]);var u=i(Fa[0],0),c=i(Fa[1],1);s(Fa[0],e,u),s(Fa[1],e,c)}function Ts(e){return Jm({},e)}function Jm(e,t){return t&&e&&kd(nb,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}function Qm(e){var t=e.get("coordinateSystem"),n={coordSysName:t,coordSysDims:[],axisMap:tt(),categoryAxisMap:tt()},i=NA[t];if(i)return i(e,n,n.axisMap,n.categoryAxisMap),n}function ks(e){return"category"===e.get("type")}function Xr(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===Dd?{}:[]),this.sourceFormat=e.sourceFormat||rb,this.seriesLayoutBy=e.seriesLayoutBy||ob,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&tt(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}function ev(e){var t=e.option,n=t.data,i=Te(n)?Nd:Ha,o=!1,a=t.seriesLayoutBy,s=t.sourceHeader,l=t.dimensions,u=function(e){var t=e.option;if(!t.data)return e.ecModel.getComponent("dataset",t.datasetIndex||0)}(e);if(u){var c=u.option;n=c.source,i=Qs(u).sourceFormat,o=!0,a=a||c.seriesLayoutBy,null==s&&(s=c.sourceHeader),l=l||c.dimensions}var d=function(e,t,n,i,o){if(!e)return{dimensionsDefine:tv(o)};var a,s,l,c;if(t===Ad)"auto"===i||null==i?nv(function(d){null!=d&&"-"!==d&&(pe(d)?null==s&&(s=1):s=0)},n,e,10):s=i?1:0,o||1!==s||(o=[],nv(function(d,h){o[h]=null!=d?d:""},n,e)),a=o?o.length:n===dg?e.length:e[0]?e[0].length:null;else if(t===Id)o||(o=function(e){for(var t,n=0;n<e.length&&!(t=e[n++]););if(t){var i=[];return m(t,function(o,a){i.push(a)}),i}}(e),l=!0);else if(t===Dd)o||(o=[],l=!0,m(e,function(d,h){o.push(h)}));else if(t===Ha){var u=N(e[0]);a=$(u)&&u.length||1}return l&&m(o,function(d,h){"name"===(Ce(d)?d.name:d)&&(c=h)}),{startIndex:s,dimensionsDefine:tv(o),dimensionsDetectCount:a,potentialNameDimIndex:c}}(n,i,a,s,l),h=t.encode;!h&&u&&(h=function(e,t,n,i,o,a){var s=Qm(e),l={},u=[],c=[],d=e.subType,h=tt(["pie","map","funnel"]),f=tt(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(s&&null!=f.get(d)){var D=Qs(e.ecModel).datasetMap,X=t.uid+"_"+o,K=D.get(X)||D.set(X,{categoryWayDim:1,valueWayDim:0});m(s.coordSysDims,function(Be){if(null==s.firstCategoryDimIndex)He=K.valueWayDim++,l[Be]=He,c.push(He);else if(s.categoryAxisMap.get(Be))l[Be]=0,u.push(0);else{var He=K.categoryWayDim++;l[Be]=He,c.push(He)}})}else if(null!=h.get(d)){for(var oe,ce=0;ce<5&&null==oe;ce++)iv(n,i,o,a.dimensionsDefine,a.startIndex,ce)||(oe=ce);if(null!=oe){l.value=oe;var be=a.potentialNameDimIndex||Math.max(oe-1,0);c.push(be),u.push(be)}}return u.length&&(l.itemName=u),c.length&&(l.seriesName=c),l}(e,u,n,i,a,d)),Qs(e).source=new Xr({data:n,fromDataset:o,seriesLayoutBy:a,sourceFormat:i,dimensionsDefine:d.dimensionsDefine,startIndex:d.startIndex,dimensionsDetectCount:d.dimensionsDetectCount,encodeDefine:h})}function tv(e){if(e){var t=tt();return y(e,function(n,i){if(null==(n=J({},Ce(n)?n:{name:n})).name)return n;n.name+="",null==n.displayName&&(n.displayName=n.name);var o=t.get(n.name);return o?n.name+="-"+o.count++:t.set(n.name,{count:1}),n})}}function nv(e,t,n,i){if(null==i&&(i=1/0),t===dg)for(a=0;a<n.length&&a<i;a++)e(n[a]?n[a][0]:null,a);else for(var o=n[0]||[],a=0;a<o.length&&a<i;a++)e(o[a],a)}function nC(e,t){return iv(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function iv(e,t,n,i,o,a){function s(D){return(null==D||!isFinite(D)||""===D)&&(!(!pe(D)||"-"===D)||void 0)}var l,u;if(Te(e))return!1;if(i&&(u=Ce(u=i[a])?u.name:u),t===Ad)if(n===dg){for(var c=e[a],d=0;d<(c||[]).length&&d<5;d++)if(null!=(l=s(c[o+d])))return l}else for(d=0;d<e.length&&d<5;d++){var h=e[o+d];if(h&&null!=(l=s(h[a])))return l}else if(t===Id){if(!u)return;for(d=0;d<e.length&&d<5;d++)if((f=e[d])&&null!=(l=s(f[u])))return l}else if(t===Dd){if(!u)return;if(!(c=e[u])||Te(c))return!1;for(d=0;d<c.length&&d<5;d++)if(null!=(l=s(c[d])))return l}else if(t===Ha)for(d=0;d<e.length&&d<5;d++){var f=e[d],p=N(f);if(!$(p))return!1;if(null!=(l=s(p[a])))return l}return!1}function oC(e){e=e,this.option={},this.option[hg]=1,this._componentsMap=tt({series:[]}),function(e,t){m(t,function(n,i){hi.hasClass(i)||("object"==typeof n?e[i]=e[i]?he(e[i],n,!1):Bt(n):null==e[i]&&(e[i]=n))})}(e,this._theme.option),he(e,DA,!1),this.mergeOption(e)}function Eh(e,t){e._seriesIndicesMap=tt(e._seriesIndices=y(t,function(n){return n.componentIndex})||[])}function rv(e,t){return t.hasOwnProperty("subType")?Z(e,function(n){return n.subType===t.subType}):e}function ov(e){m(PA,function(t){this[t]=re(e[t],e)},this)}function hr(){this._coordinateSystems=[]}function Rh(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[]}function lC(e,t,n){var i,o,a=[],s=[],l=e.timeline;return e.baseOption&&(o=e.baseOption),(l||e.options)&&(o=o||{},a=(e.options||[]).slice()),e.media&&(o=o||{},Ld(e.media,function(c){c&&c.option&&(c.query?s.push(c):i||(i=c))})),o||(o=e),o.timeline||(o.timeline=l),Ld([o].concat(a).concat(y(s,function(c){return c.option})),function(c){Ld(t,function(d){d(c,n)})}),{baseOption:o,timelineOptions:a,mediaDefault:i,mediaList:s}}function uC(e,t,n){var i={width:t,height:n,aspectratio:t/n},o=!0;return m(e,function(a,s){var l=s.match(LA);if(l&&l[1]&&l[2]){var u=l[1],c=l[2].toLowerCase();(function(e,t,n){return"min"===n?e>=t:"max"===n?e<=t:e===t})(i[c],a,u)||(o=!1)}}),o}function Bh(e){var t=e&&e.itemStyle;if(t)for(var n=0,i=sb.length;n<i;n++){var o=sb[n],a=t.normal,s=t.emphasis;a&&a[o]&&(e[o]=e[o]||{},e[o].normal?he(e[o].normal,a[o]):e[o].normal=a[o],a[o]=null),s&&s[o]&&(e[o]=e[o]||{},e[o].emphasis?he(e[o].emphasis,s[o]):e[o].emphasis=s[o],s[o]=null)}}function ur(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var i=e[t].normal,o=e[t].emphasis;i&&(n?(e[t].normal=e[t].emphasis=null,ne(e[t],i)):e[t]=i),o&&(e.emphasis=e.emphasis||{},e.emphasis[t]=o)}}function rc(e){ur(e,"itemStyle"),ur(e,"lineStyle"),ur(e,"areaStyle"),ur(e,"label"),ur(e,"labelLine"),ur(e,"upperLabel"),ur(e,"edgeLabel")}function Xi(e){var t=Rd(e)&&e.textStyle;if(t)for(var n=0,i=Ox.length;n<i;n++){var o=Ox[n];t.hasOwnProperty(o)&&(e[o]=t[o])}}function Vr(e){e&&(rc(e),Xi(e.label),e.emphasis&&Xi(e.emphasis.label))}function Co(e){return $(e)?e:e?[e]:[]}function av(e){return($(e)?e[0]:e)||{}}function sv(e){m(RA,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}function lv(e,t){Xr.isInstance(e)||(e=Xr.seriesDataToSource(e)),this._source=e;var n=this._data=e.data,i=e.sourceFormat;i===Nd&&(this._offset=0,this._dimSize=t,this._data=n),J(this,OA[i===Ad?i+"_"+e.seriesLayoutBy:i])}function uv(){return this._data.length}function cv(e){return this._data[e]}function Oh(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}function zh(e,t,n,i){return null!=n?e[n]:e}function dv(e,t,n,i){return Fh(e[i],this._dimensionInfos[t])}function Fh(e,t){var n=t&&t.type;if("ordinal"===n){var i=t&&t.ordinalMeta;return i?i.parseAndCollect(e):e}return"time"===n&&"number"!=typeof e&&null!=e&&"-"!==e&&(e=+Pl(e)),null==e||""===e?NaN:+e}function wa(e,t,n){if(e){var i=e.getRawDataItem(t);if(null!=i){var o,a,s=e.getProvider().getSource().sourceFormat,l=e.getDimensionInfo(n);return l&&(o=l.name,a=l.index),zA[s](i,t,a,o)}}}function mC(e,t,n){if(e){var i=e.getProvider().getSource().sourceFormat;if(i===Ha||i===Id){var o=e.getRawDataItem(t);return i!==Ha||Ce(o)||(o=null),o?o[n]:void 0}}}function Ll(e){return new hv(e)}function hv(e){this._reset=(e=e||{}).reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}function fv(e){var t=e.name;dd===t&&(e.name=function(e){var t=e.getRawData(),n=[];return m(t.mapDimension("seriesName",!0),function(i){var o=t.getDimensionInfo(i);o.displayName&&n.push(o.displayName)}),n.join(" ")}(e)||t)}function xC(e){return e.model.getRawData().count()}function bC(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),_C}function _C(e,t){e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function pv(e,t){m(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,Q(wC,t))})}function wC(e){var t=Hh(e);t&&t.setOutputEnd(this.count())}function Hh(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var i=n.currentTask;if(i){var o=i.agentStubMap;o&&(i=o.get(e.uid))}return i}}function ar(){this.group=new Ln,this.uid=Qu("viewChart"),this.renderTask=Ll({plan:CC,reset:SC}),this.renderTask.context={view:this}}function Vh(e,t){if(e&&(e.trigger(t),"group"===e.type))for(var n=0;n<e.childCount();n++)Vh(e.childAt(n),t)}function gv(e,t,n){var i=ie(e,t);null!=i?m(z(i),function(o){Vh(e.getItemGraphicEl(o),n)}):e.eachItemGraphicEl(function(o){Vh(o,n)})}function CC(e){return VA(e.model)}function SC(e){var t=e.model,n=e.ecModel,i=e.api,o=e.payload,a=t.pipelineContext.incrementalRender,s=e.view,l=o&&ub(o).updateMethod;return s[a&&s.incrementalPrepareRender?"incrementalPrepareRender":l&&s[l]?l:"render"](t,n,i,o),a?MC:null}function MC(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}function Wh(e,t,n){function i(){d=(new Date).getTime(),h=null,e.apply(s,l||[])}var o,a,s,l,u,c=0,d=0,h=null;t=t||0;var f=function(){o=(new Date).getTime(),s=this,l=arguments;var p=u||t,D=u||n;u=null,a=o-(D?c:d)-p,clearTimeout(h),D?h=setTimeout(i,p):a>=0?i():h=setTimeout(i,-a),c=o};return f.clear=function(){h&&(clearTimeout(h),h=null)},f.debounceNextCall=function(p){u=p},f}function El(e,t,n,i){var o=e[t];if(o){var a=o[Bd]||o;if(o[cb]!==n||o[db]!==i){if(null==n||!i)return e[t]=a;(o=e[t]=Wh(a,n,"debounce"===i))[Bd]=a,o[db]=i,o[cb]=n}return o}}function mv(e,t){var n=e[t];n&&n[Bd]&&(e[t]=n[Bd])}function oc(e,t){this.ecInstance=e,this.api=t,this._stageTaskMap=tt()}function vv(e,t,n,i,o){function a(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}var s;o=o||{},m(t,function(l,u){if(!o.visualType||o.visualType===l.visualType){var c=e._stageTaskMap.get(l.uid),d=c.seriesTaskMap,h=c.overallTask;if(h){var f,p=h.agentStubMap;p.each(function(X){a(o,X)&&(X.dirty(),f=!0)}),f&&h.dirty(),hb(h,i);var D=e.getPerformArgs(h,o.block);p.each(function(X){X.perform(D)}),s|=h.perform(D)}else d&&d.each(function(X,K){a(o,X)&&X.dirty();var oe=e.getPerformArgs(X,o.block);oe.skip=!l.performRawSeries&&n.isSeriesFiltered(X.context.model),hb(X,i),s|=X.perform(oe)})}}),e.unfinished|=s}function AC(e){e.overallReset(e.ecModel,e.api,e.payload)}function IC(e,t){return e.overallProgress&&DC}function DC(){this.agent.dirty(),this.getDownstream().dirty()}function NC(){this.agent&&this.agent.dirty()}function PC(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function LC(e){if(e.useClearVisual&&e.data.clearAllVisual(),(e.resetDefines=z(e.reset(e.model,e.ecModel,e.api,e.payload))).length)return EC}function EC(e,t){for(var n=t.data,i=t.resetDefines,o=0;o<i.length;o++){var a=i[o];if(a&&a.dataEach)for(var s=e.start;s<e.end;s++)a.dataEach(n,s);else a&&a.progress&&a.progress(e,n)}}function RC(e){return e.data.count()}function ac(e,t,n){var o=e._pipelineMap.get(t.uid);!o.head&&(o.head=n),o.tail&&o.tail.pipe(n),o.tail=n,n.__idxInPipeline=o.count++,n.__pipeline=o}function BC(e){zd=null;try{e(mu,fb)}catch(t){}return zd}function yv(e,t){for(var n in t.prototype)e[n]=It}function As(e){return function(t,n,i){t=t&&t.toLowerCase(),nr.prototype[e].call(this,t,n,i)}}function Rl(){nr.call(this)}function Bl(e,t,n){function i(s,l){return s.__prio-l.__prio}n=n||{},"string"==typeof t&&(t=Cb[t]),this._dom=e;var o=this._zr=U(e,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=Wh(re(o.flush,o),17),(t=Bt(t))&&lb(t,!0),this._theme=t,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new hr;var a=this._api=function(e){var t=e._coordSysMgr;return J(new ov(e),{getCoordinateSystems:re(t.getCoordinateSystems,t),getComponentByElement:function(n){for(;n;){var i=n.__ecComponentInfo;if(null!=i)return e._model.getComponent(i.mainType,i.index);n=n.parent}}})}(this);this._scheduler=new oc(this,a),nr.call(this),this._messageCenter=new Rl,this._initEvents(),this.resize=re(this.resize,this),this._pendingActions=[],ha(ea,i),ha(yu,i),o.animation.on("frame",this._onframe,this),Tt(this)}function xv(e,t,n){var i,o=this._model,a=this._coordSysMgr.getCoordinateSystems();t=ae(o,t);for(var s=0;s<a.length;s++){var l=a[s];if(l[e]&&null!=(i=l[e](o,t,n)))return i}}function Ol(e){var t=e._model,n=e._scheduler;n.restorePipelines(t),n.prepareStageTasks(yu),n.prepareStageTasks(ea),Cv(e,"component",t,n),Cv(e,"chart",t,n),n.plan()}function bv(e,t,n,i,o){function a(c){c&&c.__alive&&c[t]&&c[t](c.__model,s,e._api,n)}var s=e._model;if(i){var l={};l[i+"Id"]=n[i+"Id"],l[i+"Index"]=n[i+"Index"],l[i+"Name"]=n[i+"Name"];var u={mainType:i,query:l};o&&(u.subType=o),s&&s.eachComponent(u,function(c,d){a(e["series"===i?"_chartsMap":"_componentsMap"][c.__viewId])},e)}else sr(e._componentsViews.concat(e._chartsViews),a)}function _v(e,t){var n=e._chartsMap,i=e._scheduler;t.eachSeries(function(o){i.updateStreamModes(o,n[o.__viewId])})}function wv(e,t){var n=e.type,i=e.escapeConnect,o=Fd[n],a=o.actionInfo,s=(a.update||"update").split(":"),l=s.pop();s=null!=s[0]&&mb(s[0]),this[po]=!0;var u=[e],c=!1;e.batch&&(c=!0,u=y(e.batch,function(p){return(p=ne(J({},p),e)).batch=null,p}));var d,h=[],f="highlight"===n||"downplay"===n;sr(u,function(p){(d=(d=o.action(p,this._model,this._api))||J({},p)).type=a.event||d.type,h.push(d),f?bv(this,l,p,"series"):s&&bv(this,l,p,s.main,s.sub)},this),"none"===l||f||s||(this[Wa]?(Ol(this),Qo.update.call(this,e),this[Wa]=!1):Qo[l].call(this,e)),d=c?{type:a.event||n,escapeConnect:i,batch:h}:h[0],this[po]=!1,!t&&this._messageCenter.trigger(d.type,d)}function sc(e){for(var t=this._pendingActions;t.length;){var n=t.shift();wv.call(this,n,e)}}function lc(e){!e&&this.trigger("updated")}function Cv(e,t,n,i){function o(f){var p="_ec_"+f.id+"_"+f.type,D=l[p];if(!D){var X=mb(f.type);(D=new(a?No.getClass(X.main,X.sub):ar.getClass(X.sub))).init(n,c),l[p]=D,s.push(D),u.add(D.group)}f.__viewId=D.__id=p,D.__alive=!0,D.__model=f,D.group.__ecComponentInfo={mainType:f.mainType,index:f.componentIndex},!a&&i.prepareView(D,f,n,c)}for(var a="component"===t,s=a?e._componentsViews:e._chartsViews,l=a?e._componentsMap:e._chartsMap,u=e._zr,c=e._api,d=0;d<s.length;d++)s[d].__alive=!1;for(a?n.eachComponent(function(f,p){"series"!==f&&o(p)}):n.eachSeries(o),d=0;d<s.length;){var h=s[d];h.__alive?d++:(!a&&h.renderTask.dispose(),u.remove(h.group),h.dispose(n,c),s.splice(d,1),delete l[h.__id],h.__id=h.group.__ecComponentInfo=null)}}function Gh(e){e.clearColorPalette(),e.eachSeries(function(t){t.clearColorPalette()})}function Sv(e,t,n,i){(function(e,t,n,i,o){sr(e._componentsViews,function(a){var s=a.__model;a.render(s,t,n,i),Mv(s,a)})})(e,t,n,i),sr(e._chartsViews,function(o){o.__alive=!1}),Uh(e,t,0,i),sr(e._chartsViews,function(o){o.__alive||o.remove(t,n)})}function Uh(e,t,n,i,o){var a,s=e._scheduler;t.eachSeries(function(l){var u=e._chartsMap[l.__viewId];u.__alive=!0;var c=u.renderTask;s.updatePayload(c,i),o&&o.get(l.uid)&&c.dirty(),a|=c.perform(s.getPerformArgs(c)),u.group.silent=!!l.get("silent"),Mv(l,u),function(e,t){var n=e.get("blendMode")||null;t.group.traverse(function(i){i.isGroup||i.style.blend!==n&&i.setStyle("blend",n),i.eachPendingDisplayable&&i.eachPendingDisplayable(function(o){o.setStyle("blend",n)})})}(l,u)}),s.unfinished|=a,function(e,t){var n=e.storage,i=0;n.traverse(function(o){o.isGroup||i++}),i>t.get("hoverLayerThreshold")&&!li.node&&n.traverse(function(o){o.isGroup||(o.useHoverLayer=!0)})}(e._zr,t),GA(e._zr.dom,t)}function jh(e,t){sr(wb,function(n){n(e,t)})}function Mv(e,t){var n=e.get("z"),i=e.get("zlevel");t.group.traverse(function(o){"group"!==o.type&&(null!=n&&(o.z=n),null!=i&&(o.zlevel=i))})}function Tv(e){Vd[e]=!1}function qh(e){return Ga[function(e,t){return e.getAttribute?e.getAttribute(t):e[t]}(e,_g)]}function Zh(e,t){Cb[e]=t}function cr(e){_b.push(e)}function Wr(e,t){Xh(yu,e,t,vb)}function yi(e,t,n){"function"==typeof t&&(n=t,t="");var i=vu(e)?e.type:[e,e={event:t}][0];e.event=(e.event||i).toLowerCase(),t=e.event,jA(bb.test(i)&&bb.test(t)),Fd[i]||(Fd[i]={action:n,actionInfo:e}),Hd[t]=i}function Yh(e,t){hr.register(e,t)}function zi(e,t){Xh(ea,e,t,yb,"layout")}function Di(e,t){Xh(ea,e,t,xb,"visual")}function Xh(e,t,n,i,o){(qA(t)||vu(t))&&(n=t,t=i);var a=oc.wrapStageHandler(n,o);return a.__prio=t,a.__raw=n,e.push(a),a}function kv(e,t){bg[e]=t}function _r(e){return hi.extend(e)}function er(e){return No.extend(e)}function zl(e){return Zi.extend(e)}function vr(e){return ar.extend(e)}function uc(e){return Sb[e]}function Av(e){return e}function So(e,t,n,i,o){this._old=e,this._new=t,this._oldKeyGetter=n||Av,this._newKeyGetter=i||Av,this.context=o}function Iv(e,t,n,i,o){for(var a=0;a<e.length;a++){var s="_ec_"+o[i](e[a],a),l=t[s];null==l?(n.push(s),t[s]=a):(l.length||(t[s]=l=[l]),l.push(a))}}function cc(e){return"category"===e?"ordinal":"time"===e?"time":"float"}function dc(e){return e._rawCount>65535?typeof ta.Uint32Array===xu?Array:ta.Uint32Array:typeof ta.Uint16Array===xu?Array:ta.Uint16Array}function qC(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function Dv(e,t){m(tI.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods}function Fl(e){return e}function Hl(e){return e<this._count&&e>=0?this._indices[e]:-1}function $h(e,t){var n=e._idList[t];return null==n&&(n=e._getIdFromStore(t)),null==n&&(n=QA+t),n}function Kh(e){return $(e)||(e=[e]),e}function Nv(e,t){var n=e.dimensions,i=new ir(y(n,e.getDimensionInfo,e),e.hostModel);Dv(i,e);for(var o=i._storage={},a=e._storage,s=0;s<n.length;s++){var l=n[s];a[l]&&(o[l]=A(t,l)>=0?ZC(a[l]):a[l])}return i}function ZC(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=qC(e[n]);return t}function Pv(e,t,n){function i(oe,ce,be){null!=Mb.get(ce)?oe.otherDims[ce]=be:(oe.coordDim=ce,oe.coordDimIndex=be,l.set(ce,!0))}Xr.isInstance(t)||(t=Xr.seriesDataToSource(t)),n=n||{},e=(e||[]).slice();for(var o=(n.dimsDef||[]).slice(),a=tt(n.encodeDef),s=tt(),l=tt(),u=[],c=function(e,t,n,i){return null==i&&(i=Math.max(e.dimensionsDetectCount||1,t.length,n.length),m(t,function(o){var a=o.dimsDef;a&&(i=Math.max(i,a.length))})),i}(t,e,o,n.dimCount),d=0;d<c;d++){var h=o[d]=J({},Ce(o[d])?o[d]:{name:o[d]}),f=h.name,p=u[d]={otherDims:{}};null!=f&&null==s.get(f)&&(p.name=p.displayName=f,s.set(f,d)),null!=h.type&&(p.type=h.type),null!=h.displayName&&(p.displayName=h.displayName)}a.each(function(oe,ce){oe=z(oe).slice();var be=a.set(ce,[]);m(oe,function(Be,He){pe(Be)&&(Be=s.get(Be)),null!=Be&&Be<c&&(be[He]=Be,i(u[Be],ce,He))})});var D=0;m(e,function(oe,ce){var be,Be,He;if(pe(oe))be=oe,oe={};else{be=oe.name;var Ye=oe.ordinalMeta;oe.ordinalMeta=null,(oe=Bt(oe)).ordinalMeta=Ye,Be=oe.dimsDef,He=oe.otherDims,oe.name=oe.coordDim=oe.coordDimIndex=oe.dimsDef=oe.otherDims=null}var $e=z(a.get(be));if(!$e.length)for(var nt=0;nt<(Be&&Be.length||1);nt++){for(;D<u.length&&null!=u[D].coordDim;)D++;D<u.length&&$e.push(D++)}m($e,function(mt,Qt){var Yt=u[mt];i(ne(Yt,oe),be,Qt),null==Yt.name&&Be&&(Yt.name=Yt.displayName=Be[Qt]),Yt.isSysCoord=!0,He&&ne(Yt.otherDims,He)})});for(var X=n.extraPrefix||"value",K=0;K<c;K++)null==(p=u[K]=u[K]||{}).coordDim&&(p.coordDim=Lv(X,l,n.extraFromZero),p.coordDimIndex=0,p.isExtraCoord=!0),null==p.name&&(p.name=Lv(p.coordDim,s)),null==p.type&&nC(t,K)&&(p.type="ordinal");return u}function Lv(e,t,n){if(n||null!=t.get(e)){for(var i=0;null!=t.get(e+i);)i++;e+=i}return t.set(e,!0),e}function Mo(e,t){Xr.isInstance(e)||(e=Xr.seriesDataToSource(e));var n,i=t.get("coordinateSystem"),o=hr.get(i),a=Qm(t);a&&(n=y(a.coordSysDims,function(h){var f={name:h},p=a.axisMap.get(h);if(p){var D=p.get("type");f.type=cc(D),f.stackable=function(e){return"category"!==e&&"time"!==e}(D)}return f})),n||(n=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]);var s,l,u=tl(e,{coordDimensions:n});a&&m(u,function(h,f){var D=a.categoryAxisMap.get(h.coordDim);D&&(null==s&&(s=f),h.ordinalMeta=D.getOrdinalMeta()),null!=h.otherDims.itemName&&(l=!0)}),l||null==s||(u[s].otherDims.itemName=0);var c=new ir(u,t),d=null!=s&&function(e){if(e.sourceFormat===Ha){var t=function(e){for(var t=0;t<e.length&&null==e[t];)t++;return e[t]}(e.data||[]);return null!=t&&!$(N(t))}}(e)?function(h,f,p,D){return D===s?p:this.defaultDimValueGetter(h,f,p,D)}:null;return c.hasItemOption=!1,c.initData(e,null,d),c}function $i(e){this._setting=e||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function Vl(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication}function Ev(e){return e._map||(e._map=tt(e.categories))}function JC(e){return Ce(e)&&null!=e.value?e.value:e+""}function Rv(e){return ec(e)+2}function Bv(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function Ov(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),Bv(e,0,t),Bv(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function zv(e){return e.get("stack")||kg+e.seriesIndex}function Fv(e){return e.dim+e.index}function Hv(e,t){return Vv(y(e,function(n){var i=n.getData(),o=n.coordinateSystem.getBaseAxis(),a=o.getExtent(),s="category"===o.type?o.getBandWidth():Math.abs(a[1]-a[0])/i.count();return{bandWidth:s,barWidth:wn(n.get("barWidth"),s),barMaxWidth:wn(n.get("barMaxWidth"),s),barGap:n.get("barGap"),barCategoryGap:n.get("barCategoryGap"),axisKey:Fv(o),stackId:zv(n)}}))}function Vv(e,t){var n={};m(e,function(o,a){var s=o.axisKey,l=o.bandWidth,u=n[s]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},c=u.stacks;n[s]=u;var d=o.stackId;c[d]||u.autoWidthCount++,c[d]=c[d]||{width:0,maxWidth:0};var h=o.barWidth;h&&!c[d].width&&(c[d].width=h,h=Math.min(u.remainedWidth,h),u.remainedWidth-=h);var f=o.barMaxWidth;f&&(c[d].maxWidth=f);var p=o.barGap;null!=p&&(u.gap=p);var D=o.barCategoryGap;null!=D&&(u.categoryGap=D)});var i={};return m(n,function(o,a){i[a]={};var s=o.stacks,u=wn(o.categoryGap,o.bandWidth),c=wn(o.gap,1),d=o.remainedWidth,h=o.autoWidthCount,f=(d-u)/(h+(h-1)*c);f=Math.max(f,0),m(s,function(K,oe){var ce=K.maxWidth;ce&&ce<f&&(ce=Math.min(ce,d),K.width&&(ce=Math.min(ce,K.width)),d-=ce,K.width=ce,h--)}),f=(d-u)/(h+(h-1)*c),f=Math.max(f,0);var p,D=0;m(s,function(K,oe){K.width||(K.width=f),p=K,D+=K.width*(1+c)}),p&&(D-=p.width*c);var X=-D/2;m(s,function(K,oe){i[a][oe]=i[a][oe]||{offset:X,width:K.width},X+=K.width*(1+c)})}),i}function Wv(e,t,n){var i=Hv(Z(t.getSeriesByType(e),function(s){return!t.isSeriesFiltered(s)&&s.coordinateSystem&&"cartesian2d"===s.coordinateSystem.type})),o={},a={};t.eachSeriesByType(e,function(s){if("cartesian2d"===s.coordinateSystem.type){var l=s.getData(),u=s.coordinateSystem,c=u.getBaseAxis(),d=zv(s),h=i[Fv(c)][d],f=h.offset,p=h.width,D=u.getOtherAxis(c),X=s.get("barMinHeight")||0,K=c.onZero?D.toGlobalCoord(D.dataToCoord(0)):D.getGlobalExtent()[0],oe=[l.mapDimension("x"),l.mapDimension("y")],ce=l.mapArray(oe,function(be,Be){return u.dataToPoint([be,Be])},!0);o[d]=o[d]||[],a[d]=a[d]||[],l.setLayout({offset:f,size:p}),l.each(l.mapDimension(D.dim),function(be,Be){if(!isNaN(be)){o[d][Be]||(o[d][Be]={p:K,n:K},a[d][Be]={p:K,n:K});var He,Ye,$e,nt,mt=be>=0?"p":"n",Qt=ce[Be],Yt=o[d][Be][mt],sn=a[d][Be][mt];D.isHorizontal()?(He=Yt,Ye=Qt[1]+f,nt=p,a[d][Be][mt]+=$e=Qt[0]-sn,Math.abs($e)<X&&($e=($e<0?-1:1)*X),o[d][Be][mt]+=$e):(He=Qt[0]+f,Ye=Yt,$e=p,a[d][Be][mt]+=nt=Qt[1]-sn,Math.abs(nt)<X&&(nt=(nt<=0?-1:1)*X),o[d][Be][mt]+=nt),l.setItemLayout(Be,{x:He,y:Ye,width:$e,height:nt})}},!0)}},this)}function hc(e,t){return aI(e,oI(t))}function Gv(e,t){var n,i,o,a=e.type,s=t.getMin(),l=t.getMax(),u=null!=s,c=null!=l,d=e.getExtent();"ordinal"===a?n=t.getCategories().length:($(i=t.get("boundaryGap"))||(i=[i||0,i||0]),"boolean"==typeof i[0]&&(i=[0,0]),i[0]=wn(i[0],1),i[1]=wn(i[1],1),o=d[1]-d[0]||Math.abs(d[0])),null==s&&(s="ordinal"===a?n?0:NaN:d[0]-i[0]*o),null==l&&(l="ordinal"===a?n?n-1:NaN:d[1]+i[1]*o),"dataMin"===s?s=d[0]:"function"==typeof s&&(s=s({min:d[0],max:d[1]})),"dataMax"===l?l=d[1]:"function"==typeof l&&(l=l({min:d[0],max:d[1]})),(null==s||!isFinite(s))&&(s=NaN),(null==l||!isFinite(l))&&(l=NaN),e.setBlank(ve(s)||ve(l)),t.getNeedCrossZero()&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var h=t.ecModel;if(h){var f=Z(h.getSeriesByType("bar"),function(D){return D.getBaseAxis()===t.axis}).length>0;if(("time"===a||"interval"===a)&&f){var p=function(e,t,n){var i=n.ecModel,o=n.axis.getExtent(),a=o[1]-o[0],s=Hv(Z(i.getSeriesByType("bar"),function(f){return!i.isSeriesFiltered(f)&&f.coordinateSystem&&"cartesian2d"===f.coordinateSystem.type}))[n.axis.dim+n.axis.index];if(void 0===s)return{min:e,max:t};var l=1/0;m(s,function(f){l=Math.min(f.offset,l)});var u=-1/0;m(s,function(f){u=Math.max(f.offset+f.width,u)});var c=Math.abs(l)+u,d=t-e,h=d/(1-(l+u)/a)-d;return{min:e-=h*(l/c),max:t+=h*(u/c)}}(s,l,t);s=p.min,l=p.max}}return[s,l]}function Ca(e,t){var n=Gv(e,t),i=null!=t.getMin(),o=null!=t.getMax(),a=t.get("splitNumber");"log"===e.type&&(e.base=t.get("logBase"));var s=e.type;e.setExtent(n[0],n[1]),e.niceExtent({splitNumber:a,fixMin:i,fixMax:o,minInterval:"interval"===s||"time"===s?t.get("minInterval"):null,maxInterval:"interval"===s||"time"===s?t.get("maxInterval"):null});var l=t.get("interval");null!=l&&e.setInterval&&e.setInterval(l)}function Is(e,t){if(t=t||e.get("type"))switch(t){case"category":return new Sg(e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),[1/0,-1/0]);case"value":return new go;default:return($i.getClass(t)||go).create(e)}}function Uv(e,t,n,i,o){var a,s=0,l=0,u=(i-o)/180*Math.PI,c=1;t.length>40&&(c=Math.floor(t.length/40));for(var d=0;d<e.length;d+=c){var h=e[d],f=Fr(t[d],n,"center","top");f.x+=h*Math.cos(u),f.y+=h*Math.sin(u),f.width*=1.3,f.height*=1.3,a?a.intersect(f)?(l++,s=Math.max(s,l)):(a.union(f),l=0):a=f.clone()}return 0===s&&c>1?c:(s+1)*c-1}function Jh(e,t){var a,n=e.scale,i=n.getTicksLabels(),o=n.getTicks();return"string"==typeof t?(a=t,y(i,t=function(s){return a.replace("{value}",null!=s?s:"")})):"function"==typeof t?y(o,function(a,s){return t(Qh(e,a),s)},this):i}function Qh(e,t){return"category"===e.type?e.scale.getLabel(t):t}function iS(e,t){if("image"!==this.type){var n=this.style,i=this.shape;i&&"line"===i.symbolType?n.stroke=e:this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff"):(n.fill&&(n.fill=e),n.stroke&&(n.stroke=e)),this.dirty(!1)}}function Dr(e,t,n,i,o,a,s){var u,l=0===e.indexOf("empty");return l&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),(u=0===e.indexOf("image://")?pt(e.slice(8),new Qn(t,n,i,o),s?"center":"cover"):0===e.indexOf("path://")?qe(e.slice(7),{},new Qn(t,n,i,o),s?"center":"cover"):new pI({shape:{symbolType:e,x:t,y:n,width:i,height:o}})).__isEmptyBrush=l,u.setColor=iS,u.setColor(a),u}function jv(e,t){return Math.abs(e-t)<mI}function Sa(e,t,n){var i=0,o=e[0];if(!o)return!1;for(var a=1;a<e.length;a++){var s=e[a];i+=ei(o[0],o[1],s[0],s[1],t,n),o=s}var l=e[0];return jv(o[0],l[0])&&jv(o[1],l[1])||(i+=ei(o[0],o[1],l[0],l[1],t,n)),0!==i}function fc(e,t,n){if(this.name=e,this.geometries=t,n)n=[n[0],n[1]];else{var i=this.getBoundingRect();n=[i.x+i.width/2,i.y+i.height/2]}this.center=n}function qv(e,t,n){for(var i=[],o=t[0],a=t[1],s=0;s<e.length;s+=2){var l=e.charCodeAt(s)-64,u=e.charCodeAt(s+1)-64;l=l>>1^-(1&l),u=u>>1^-(1&u),o=l+=o,a=u+=a,i.push([l/n,u/n])}return i}function Zv(e,t){var n=(e[1]-e[0])/t/2;e[0]+=n,e[1]-=n}function pc(e,t){var n=e.mapDimension("defaultedLabel",!0),i=n.length;if(1===i)return wa(e,t,n[0]);if(i){for(var o=[],a=0;a<n.length;a++){var s=wa(e,t,n[a]);o.push(s)}return o.join(" ")}}function ef(e){return[e[0]/2,e[1]/2]}function Ds(e,t,n){Ln.call(this),this.updateData(e,t,n)}function aS(e,t){this.parent.drift(e,t)}function Ns(e){this.group=new Ln,this._symbolCtor=e||Ds}function tf(e,t,n,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i&&i(n))&&"none"!==e.getItemVisual(n,"symbol")}function Yv(e){var t=e.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}function Xv(e){return e>=0?1:-1}function $v(e,t,n){for(var i,o=e.getBaseAxis(),a=e.getOtherAxis(o),s=o.onZero?0:a.scale.getExtent()[0],l=a.dim,u="x"===l||"radius"===l?1:0,c=t.stackedOn,d=t.get(l,n);c&&Xv(c.get(l,n))===Xv(d);){i=c;break}var h=[];return h[u]=t.get(o.dim,n),h[1-u]=i?i.get(l,n,!0):s,e.dataToPoint(h)}function Vo(e){return isNaN(e[0])||isNaN(e[1])}function nf(e,t,n,i,o,a,s,l,u,c,d){for(var h=0,f=n,p=0;p<i;p++){var D=t[f];if(f>=o||f<0)break;if(Vo(D)){if(d){f+=a;continue}break}if(f===n)e[a>0?"moveTo":"lineTo"](D[0],D[1]),Rb(na,D);else if(u>0){var X=f+a,K=t[X];if(d)for(;K&&Vo(t[X]);)K=t[X+=a];var oe=.5,ce=t[h];if(!(K=t[X])||Vo(K))Rb(ia,D);else{var be,Be;if(Vo(K)&&!d&&(K=D),Nt(Lg,K,ce),"x"===c||"y"===c){var He="x"===c?0:1;be=Math.abs(D[He]-ce[He]),Be=Math.abs(D[He]-K[He])}else be=Pa(D,ce),Be=Pa(D,K);Eb(ia,D,Lg,-u*(1-(oe=Be/(Be+be))))}Pb(na,na,l),Lb(na,na,s),Pb(ia,ia,l),Lb(ia,ia,s),e.bezierCurveTo(na[0],na[1],ia[0],ia[1],D[0],D[1]),Eb(na,D,Lg,u*oe)}else e.lineTo(D[0],D[1]);h=f,f+=a}return p}function rf(e,t){var n=[1/0,1/0],i=[-1/0,-1/0];if(t)for(var o=0;o<e.length;o++){var a=e[o];a[0]<n[0]&&(n[0]=a[0]),a[1]<n[1]&&(n[1]=a[1]),a[0]>i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])}return{min:t?n:i,max:t?i:n}}function Kv(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++){var i=e[n],o=t[n];if(i[0]!==o[0]||i[1]!==o[1])return}return!0}}function Jv(e){return"number"==typeof e?e:e?.3:0}function Qv(e){var t=e.getGlobalExtent();if(e.onBand){var n=e.getBandWidth()/2-1,i=t[1]>t[0]?1:-1;t[0]+=i*n,t[1]-=i*n}return t}function e0(e){return e>=0?1:-1}function t0(e,t,n){return"polar"===e.type?function(e,t,n){var i=e.getAngleAxis(),o=e.getRadiusAxis().getExtent(),a=i.getExtent(),s=Math.PI/180,l=new Io({shape:{cx:e.cx,cy:e.cy,r0:o[0],r:o[1],startAngle:-a[0]*s,endAngle:-a[1]*s,clockwise:i.inverse}});return t&&(l.shape.endAngle=-a[0]*s,mr(l,{shape:{endAngle:-a[1]*s}},n)),l}(e,t,n):function(e,t,n){var i=Qv(e.getAxis("x")),o=Qv(e.getAxis("y")),a=e.getBaseAxis().isHorizontal(),s=Math.min(i[0],i[1]),l=Math.min(o[0],o[1]),u=Math.max(i[0],i[1])-s,c=Math.max(o[0],o[1])-l,d=n.get("lineStyle.width")||2,h=n.get("clipOverflow")?d/2:Math.max(u,c);a?(l-=h,c+=2*h):(s-=h,u+=2*h);var f=new Ti({shape:{x:s,y:l,width:u,height:c}});return t&&(f.shape[a?"width":"height"]=0,mr(f,{shape:{width:u,height:c}},n)),f}(e,t,n)}function Wo(e,t,n){for(var i=t.getBaseAxis(),o="x"===i.dim||"radius"===i.dim?0:1,a=[],s=0;s<e.length-1;s++){var l=e[s+1],u=e[s];a.push(u);var c=[];switch(n){case"end":c[o]=l[o],c[1-o]=u[1-o],a.push(c);break;case"middle":var h=[];c[o]=h[o]=(u[o]+l[o])/2,c[1-o]=u[1-o],h[1-o]=l[1-o],a.push(c),a.push(h);break;default:c[o]=u[o],c[1-o]=l[1-o],a.push(c)}}return e[s]&&a.push(e[s]),a}function hS(e){return this._axes[e]}function Wl(e){jd.call(this,e)}function n0(e,t){return t.type||(t.data?"category":"value")}function of(e,t,n){return e.getCoordSysModel()===t}function fS(e,t){var n=t*Math.PI/180,i=e.plain(),o=i.width,a=i.height,s=o*Math.cos(n)+a*Math.sin(n),l=o*Math.sin(n)+a*Math.cos(n);return new Qn(i.x,i.y,s,l)}function Ps(e,t,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,n),this.model=e}function i0(e,t,n){var i=e[t];if(n.onZero){var o=n.onZeroAxisIndex;if(null==o){for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];if(s&&!r0(s)){o=+a;break}}null==o&&(n.onZero=!1),n.onZeroAxisIndex=o}else(s=i[o])&&r0(s)&&(n.onZero=!1)}}function r0(e){return"category"===e.type||"time"===e.type||!kI(e)}function o0(e,t){return y(AI,function(n){return e.getReferringComponents(n)[0]})}function a0(e){return"cartesian2d"===e.get("coordinateSystem")}function s0(e){var t={componentType:e.mainType};return t[e.mainType+"Index"]=e.componentIndex,t}function l0(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)}function Gr(e){e&&(e.ignore=!0)}function u0(e,t,n){var i=e&&e.getBoundingRect().clone(),o=t&&t.getBoundingRect().clone();if(i&&o){var a=En([]);return yn(a,a,-e.rotation),i.applyTransform(Ut([],a,e.getLocalTransform())),o.applyTransform(Ut([],a,t.getLocalTransform())),i.intersect(o)}}function c0(e){return"middle"===e||"center"===e}function af(e,t){return"all"===e||$(e)&&A(e,t)>=0||e===t}function MS(e){var t=sf(e);if(t){var n=t.axisPointerModel,i=t.axis.scale,o=n.option,a=n.get("status"),s=n.get("value");null!=s&&(s=i.parse(s));var l=lf(n);null==a&&(o.status=l?"show":"hide");var u=i.getExtent().slice();u[0]>u[1]&&u.reverse(),(null==s||s>u[1])&&(s=u[1]),s<u[0]&&(s=u[0]),o.value=s,l&&(o.status=t.axis.scale.isBlank()?"hide":"show")}}function sf(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Gl(e)]}function lf(e){return!!e.get("handle.show")}function Gl(e){return e.type+"||"+e.id}function d0(e,t,n,i,o,a){var s=Lr.getAxisPointerClass(e.axisPointerClass);if(s){var l=function(e){var t=sf(e);return t&&t.axisPointerModel}(t);l?(e._axisPointer||(e._axisPointer=new s)).render(t,l,i,a):h0(e,i)}}function h0(e,t,n){var i=e._axisPointer;i&&i.dispose(t,n),e._axisPointer=null}function uf(e,t,n){n=n||{};var i=e.coordinateSystem,o=t.axis,a={},s=o.position,l=o.onZero?"onZero":s,u=o.dim,c=i.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],h={left:0,right:1,top:0,bottom:1,onZero:2},f=t.get("offset")||0,p="x"===u?[d[2]-f,d[3]+f]:[d[0]-f,d[1]+f];if(o.onZero){var D=i.getAxis("x"===u?"y":"x",o.onZeroAxisIndex),X=D.toGlobalCoord(D.dataToCoord(0));p[h.onZero]=Math.max(Math.min(X,p[1]),p[0])}a.position=["y"===u?p[h[l]]:d[0],"x"===u?p[h[l]]:d[3]],a.rotation=Math.PI/2*("x"===u?0:1),a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],a.labelOffset=o.onZero?p[h[s]]-p[h.onZero]:0,t.get("axisTick.inside")&&(a.tickDirection=-a.tickDirection),_e(n.labelInside,t.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection);var oe=t.get("axisLabel.rotate");return a.labelRotate="top"===l?-oe:oe,a.labelInterval=o.getLabelInterval(),a.z2=1,a}function f0(e,t,n,i,o,a,s){Ni(e,t,n.getModel("label"),n.getModel("emphasis.label"),{labelFetcher:o,labelDataIndex:a,defaultText:pc(o.getData(),a),isRectText:!0,autoColor:i}),p0(e),p0(t)}function p0(e,t){"outside"===e.textPosition&&(e.textPosition=t)}function g0(e,t,n){n.style.text=null,si(n,{shape:{width:0}},t,e,function(){n.parent&&n.parent.remove(n)})}function m0(e,t,n){n.style.text=null,si(n,{shape:{r:n.shape.r0}},t,e,function(){n.parent&&n.parent.remove(n)})}function v0(e,t,n,i,o,a,s,l){var u=t.getItemVisual(n,"color"),c=t.getItemVisual(n,"opacity"),d=i.getModel("itemStyle"),h=i.getModel("emphasis.itemStyle").getBarItemStyle();l||e.setShape("r",d.get("barBorderRadius")||0),e.useStyle(ne({fill:u,opacity:c},d.getBarItemStyle()));var f=i.getShallow("cursor");f&&e.attr("cursor",f),l||f0(e.style,h,i,u,a,n),ii(e,h)}function AS(e,t,n,i){var o=t.getData(),s=o.getName(this.dataIndex),l=t.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:e,name:s,seriesId:t.id}),o.each(function(u){y0(o.getItemGraphicEl(u),o.getItemLayout(u),t.isSelected(o.getName(u)),l,n)})}function y0(e,t,n,i,o){var a=(t.startAngle+t.endAngle)/2,u=n?i:0,c=[Math.cos(a)*u,Math.sin(a)*u];o?e.animate().when(200,{position:c}).start("bounceOut"):e.attr("position",c)}function cf(e,t){function n(){a.ignore=a.hoverIgnore,s.ignore=s.hoverIgnore}function i(){a.ignore=a.normalIgnore,s.ignore=s.normalIgnore}Ln.call(this);var o=new Io({z2:2}),a=new ho,s=new ui;this.add(o),this.add(a),this.add(s),this.updateData(e,t,!0),this.on("emphasis",n).on("normal",i).on("mouseover",n).on("mouseout",i)}function x0(e,t,n,i,o,a,s){function l(X,K){for(var oe=X;oe>=0&&(e[oe].y-=K,!(oe>0&&e[oe].y>e[oe-1].y+e[oe-1].height));oe--);}function u(X,K,oe,ce,be,Be){for(var He=K?Number.MAX_VALUE:0,Ye=0,$e=X.length;Ye<$e;Ye++)if("center"!==X[Ye].position){var nt=Math.abs(X[Ye].y-ce),mt=X[Ye].len,Qt=X[Ye].len2,Yt=nt<be+mt?Math.sqrt((be+mt+Qt)*(be+mt+Qt)-nt*nt):Math.abs(X[Ye].x-oe);K&&Yt>=He&&(Yt=He-10),!K&&Yt<=He&&(Yt=He+10),X[Ye].x=oe+Yt*Be,He=Yt}}e.sort(function(X,K){return X.y-K.y});for(var c,d=0,h=e.length,f=[],p=[],D=0;D<h;D++)(c=e[D].y-d)<0&&function(X,K,oe,ce){for(var be=X;be<K;be++)if(e[be].y+=oe,be>X&&be+1<K&&e[be+1].y>e[be].y+e[be].height)return void l(be,oe/2);l(K-1,oe/2)}(D,h,-c),d=e[D].y+e[D].height;for(s-d<0&&l(h-1,d-s),D=0;D<h;D++)e[D].y>=n?p.push(e[D]):f.push(e[D]);u(f,!1,t,n,i,o),u(p,!0,t,n,i,o)}function b0(){this.group=new Ln}function _0(e,t,n){Ki.call(this,e,t,n),this.type="value",this.angle=0,this.name=""}function ro(e,t,n){this._model=e,this.dimensions=[],this._indicatorAxes=y(e.getIndicatorModels(),function(i,o){var a="indicator_"+o,s=new _0(a,new go);return s.name=i.get("name"),s.model=i,i.axis=s,this.dimensions.push(a),s},this),this.resize(e,n)}function gc(e,t){return ne({show:t},e)}function w0(e,t){return!!df(e)[t]}function df(e){return e[Jb]||(e[Jb]={})}function Ul(e){this._zr=e,this._opt={};var t=re,n=t(LS,this),i=t(ES,this),o=t(RS,this),a=t(BS,this),s=t(OS,this);nr.call(this),this.setPointerChecker=function(l){this.pointerChecker=l},this.enable=function(l,u){this.disable(),this._opt=ne(Bt(u)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),null==l&&(l=!0),!0!==l&&"move"!==l&&"pan"!==l||(e.on("mousedown",n),e.on("mousemove",i),e.on("mouseup",o)),!0!==l&&"scale"!==l&&"zoom"!==l||(e.on("mousewheel",a),e.on("pinch",s))},this.disable=function(){e.off("mousedown",n),e.off("mousemove",i),e.off("mouseup",o),e.off("mousewheel",a),e.off("pinch",s)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function LS(e){if(!(C(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}}function ES(e){if(!C(e)&&S0(this,"moveOnMouseMove",e)&&this._dragging&&"pinch"!==e.gestureEvent&&!w0(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,i=this._x,o=this._y,a=t-i,s=n-o;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&qo(e.event),this.trigger("pan",a,s,i,o,t,n)}}function RS(e){C(e)||(this._dragging=!1)}function BS(e){S0(this,"zoomOnMouseWheel",e)&&0!==e.wheelDelta&&C0.call(this,e,e.wheelDelta>0?1.1:1/1.1,e.offsetX,e.offsetY)}function OS(e){w0(this._zr,"globalPan")||C0.call(this,e,e.pinchScale>1?1.1:1/1.1,e.pinchX,e.pinchY)}function C0(e,t,n,i){this.pointerChecker&&this.pointerChecker(e,n,i)&&(qo(e.event),this.trigger("zoom",t,n,i))}function S0(e,t,n){var i=e._opt[t];return i&&(!pe(i)||n.event[i+"Key"])}function M0(e,t,n){var i=e.target,o=i.position;o[0]+=t,o[1]+=n,i.dirty()}function T0(e,t,n,i){var o=e.target,a=e.zoomLimit,s=o.position,l=o.scale,u=e.zoom=e.zoom||1;if(u*=t,a){var c=a.min||0;u=Math.max(Math.min(a.max||1/0,u),c)}var h=u/e.zoom;e.zoom=u,s[0]-=(n-s[0])*(h-1),s[1]-=(i-s[1])*(h-1),l[0]*=h,l[1]*=h,o.dirty()}function hf(e,t,n){var i=t.getComponentByElement(e.topTarget),o=i&&i.coordinateSystem;return i&&i!==n&&!zI[i.mainType]&&o&&o.model!==n}function k0(e,t){var n=e.getItemStyle(),i=e.get("areaColor");return null!=i&&(n.fill=i),n}function A0(e,t){t.eachChild(function(n){m(n.__regions,function(i){n.trigger(e.isSelected(i.name)?"emphasis":"normal")})})}function mc(e,t){var n=new Ln;this._controller=new Ul(e.getZr()),this._controllerHost={target:t?n:null},this.group=n,this._updateGroup=t}function I0(e,t,n){var i=e.getZoom(),o=e.getCenter(),a=t.zoom,s=e.dataToPoint(o);if(null!=t.dx&&null!=t.dy&&(s[0]-=t.dx,s[1]-=t.dy,o=e.pointToData(s),e.setCenter(o)),null!=a){if(n){var l=n.min||0;a=Math.max(Math.min(i*a,n.max||1/0),l)/i}e.scale[0]*=a,e.scale[1]*=a;var c=e.position,h=(t.originY-c[1])*(a-1);c[0]-=(t.originX-c[0])*(a-1),c[1]-=h,e.updateTransform(),o=e.pointToData(s),e.setCenter(o),e.setZoom(a*i)}return{center:e.getCenter(),zoom:e.getZoom()}}function ff(){oo.call(this)}function Ma(e){this.name=e,oo.call(this),this._roamTransformable=new ff,this._rawTransformable=new ff}function D0(e,t,n,i){var o=n.seriesModel,a=o?o.coordinateSystem:null;return a===this?a[e](i):null}function Ls(e,t,n,i,o){Ma.call(this,e),this.map=t,this._nameCoordMap=tt(),this.loadGeoJson(n,i,o)}function N0(e,t,n,i){var o=n.geoModel,a=n.seriesModel,s=o?o.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return s===this?s[e](i):null}function P0(e,t){var n=e.get("boundingCoords");if(null!=n){var i=n[0],o=n[1];isNaN(i[0])||isNaN(i[1])||isNaN(o[0])||isNaN(o[1])||this.setBoundingRect(i[0],i[1],o[0]-i[0],o[1]-i[1])}var a,s=this.getBoundingRect(),l=e.get("layoutCenter"),u=e.get("layoutSize"),c=t.getWidth(),d=t.getHeight(),h=e.get("aspectScale")||.75,f=s.width/s.height*h,p=!1;if(l&&u&&(l=[wn(l[0],c),wn(l[1],d)],u=wn(u,Math.min(c,d)),isNaN(l[0])||isNaN(l[1])||isNaN(u)||(p=!0)),p){var D={};f>1?(D.width=u,D.height=u/f):(D.height=u,D.width=u*f),D.y=l[1]-D.height/2,D.x=l[0]-D.width/2}else(a=e.getBoxLayoutParams()).aspect=f,D=Qi(a,{width:c,height:d});this.setViewRect(D.x,D.y,D.width,D.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}function L0(e,t){m(t.get("geoCoord"),function(n,i){e.addGeoCoord(i,n)})}function E0(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,R0(t,n,e),Cu(n,function(i){Cu(t.TRANSFERABLE_METHODS,function(o){i.wrapMethod(o,Q(HS,e))})}),t.wrapMethod("cloneShallow",Q(WS,e)),Cu(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,Q(VS,e))}),Ue(n[t.dataType]===t)}function HS(e,t){if(function(e){return e[$d]===e}(this)){var n=J({},this[Su]);n[this.dataType]=t,R0(t,n,e)}else pf(t,this.dataType,this[$d],e);return t}function VS(e,t){return e.struct&&e.struct.update(this),t}function WS(e,t){return Cu(t[Su],function(n,i){n!==t&&pf(n.cloneShallow(),i,t,e)}),t}function GS(e){var t=this[$d];return null==e||null==t?t:t[Su][e]}function R0(e,t,n){e[Su]={},Cu(t,function(i,o){pf(i,o,e,n)})}function pf(e,t,n,i){n[Su][t]=e,e[$d]=n,e.dataType=t,i.struct&&(e[i.structAttr]=i.struct,i.struct[i.datasAttr[t]]=e),e.getLinkedData=GS}function Ta(e,t,n){this._nodes=[],this.hostModel=e,this.levelModels=y(t||[],function(i){return new vi(i,e,e.ecModel)}),this.leavesModel=new vi(n||{},e,e.ecModel)}function ZS(e,t){var n=e.isExpand?e.children:[],i=e.parentNode.children,o=e.hierNode.i?i[e.hierNode.i-1]:null;if(n.length){!function(e){for(var t=e.children,n=t.length,i=0,o=0;--n>=0;){var a=t[n];a.hierNode.prelim+=i,a.hierNode.modifier+=i,i+=a.hierNode.shift+(o+=a.hierNode.change)}}(e);var a=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;o?(e.hierNode.prelim=o.hierNode.prelim+t(e,o),e.hierNode.modifier=e.hierNode.prelim-a):e.hierNode.prelim=a}else o&&(e.hierNode.prelim=o.hierNode.prelim+t(e,o));e.parentNode.hierNode.defaultAncestor=function(e,t,n,i){if(t){for(var o=e,a=e,s=a.parentNode.children[0],l=t,u=o.hierNode.modifier,c=a.hierNode.modifier,d=s.hierNode.modifier,h=l.hierNode.modifier;l=gf(l),a=mf(a),l&&a;){o=gf(o),s=mf(s),o.hierNode.ancestor=e;var f=l.hierNode.prelim+h-a.hierNode.prelim-c+i(l,a);f>0&&(QS(JS(l,e,n),e,f),c+=f,u+=f),h+=l.hierNode.modifier,c+=a.hierNode.modifier,u+=o.hierNode.modifier,d+=s.hierNode.modifier}l&&!gf(o)&&(o.hierNode.thread=l,o.hierNode.modifier+=h-u),a&&!mf(s)&&(s.hierNode.thread=a,s.hierNode.modifier+=c-d,n=e)}return n}(e,o,e.parentNode.hierNode.defaultAncestor||i[0],t)}function YS(e){e.setLayout({x:e.hierNode.prelim+e.parentNode.hierNode.modifier},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function B0(e){return arguments.length?e:e2}function jl(e,t){var n={};return e-=Math.PI/2,n.x=t*Math.cos(e),n.y=t*Math.sin(e),n}function gf(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function mf(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function JS(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}function QS(e,t,n){var i=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=i}function e2(e,t){return e.parentNode===t.parentNode?1:2}function O0(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)&&"none"!==e.getItemVisual(t,"symbol")}function z0(e,t,n){return n.itemModel=t,n.itemStyle=t.getModel("itemStyle").getItemStyle(),n.hoverItemStyle=t.getModel("emphasis.itemStyle").getItemStyle(),n.lineStyle=t.getModel("lineStyle").getLineStyle(),n.labelModel=t.getModel("label"),n.hoverLabelModel=t.getModel("emphasis.label"),n.symbolInnerColor=!1===e.isExpand&&0!==e.children.length?n.itemStyle.fill:"#fff",n}function F0(e,t,n,i,o,a){var s=!n,l=e.tree.getNodeByDataIndex(t),u=(a=z0(l,l.getModel(),a),e.tree.root),c=l.parentNode===u?l:l.parentNode||l,d=e.getItemGraphicEl(c.dataIndex),h=c.getLayout(),f=d?{x:d.position[0],y:d.position[1],rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:h,p=l.getLayout();s?(n=new Ds(e,t,a)).attr("position",[f.x,f.y]):n.updateData(e,t,a),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=p.rawX,n.__radialRawY=p.rawY,i.add(n),e.setItemGraphicEl(t,n),si(n,{position:[p.x,p.y]},o);var D=n.getSymbolPath();if("radial"===a.layout){var X,K,oe=u.children[0],ce=oe.getLayout(),be=oe.children.length;if(p.x===ce.x&&!0===l.isExpand){var Be={};Be.x=(oe.children[0].getLayout().x+oe.children[be-1].getLayout().x)/2,Be.y=(oe.children[0].getLayout().y+oe.children[be-1].getLayout().y)/2,(X=Math.atan2(Be.y-ce.y,Be.x-ce.x))<0&&(X=2*Math.PI+X),(K=Be.x<ce.x)&&(X-=Math.PI)}else(X=Math.atan2(p.y-ce.y,p.x-ce.x))<0&&(X=2*Math.PI+X),0===l.children.length||0!==l.children.length&&!1===l.isExpand?(K=p.x<ce.x)&&(X-=Math.PI):(K=p.x>ce.x)||(X-=Math.PI);D.setStyle({textPosition:K?"left":"right",textRotation:-X,textOrigin:"center",verticalAlign:"middle"})}if(l.parentNode&&l.parentNode!==u){var Ye=n.__edge;Ye||(Ye=n.__edge=new ag({shape:vf(a,f,f),style:ne({opacity:0},a.lineStyle)})),si(Ye,{shape:vf(a,h,p),style:{opacity:1}},o),i.add(Ye)}}function H0(e,t,n,i,o,a){for(var s,l=e.tree.getNodeByDataIndex(t),u=e.tree.root,c=(a=z0(l,l.getModel(),a),l.parentNode===u?l:l.parentNode||l);null==(s=c.getLayout());)c=c.parentNode===u?c:c.parentNode||c;si(n,{position:[s.x+1,s.y+1]},o,function(){i.remove(n),e.setItemGraphicEl(t,null)}),n.fadeOut(null,{keepLabel:!0});var d=n.__edge;d&&si(d,{shape:vf(a,s,s),style:{opacity:0}},o,function(){i.remove(d)})}function vf(e,t,n){var i,o,a,s,l=e.orient;if("radial"===e.layout){var D=n.rawX,X=n.rawY,u=jl(f=t.rawX,p=t.rawY),c=jl(f,p+(X-p)*e.curvature),d=jl(D,X+(p-X)*e.curvature),h=jl(D,X);return{x1:u.x,y1:u.y,x2:h.x,y2:h.y,cpx1:c.x,cpy1:c.y,cpx2:d.x,cpy2:d.y}}var f=t.x,p=t.y;return D=n.x,X=n.y,"horizontal"===l&&(i=f+(D-f)*e.curvature,o=p,a=D+(f-D)*e.curvature,s=X),"vertical"===l&&(i=f,o=p+(X-p)*e.curvature,a=D,s=X+(p-X)*e.curvature),{x1:f,y1:p,x2:D,y2:X,cpx1:i,cpy1:o,cpx2:a,cpy2:s}}function ql(e,t){for(var n,i=[e];n=i.pop();)if(t(n),n.isExpand){var o=n.children;if(o.length)for(var a=o.length-1;a>=0;a--)i.push(o[a])}}function Zl(e,t,n){if(e&&A(t,e.type)>=0){var i=n.getData().tree.root,o=e.targetNode;if(o&&i.contains(o))return{node:o};var a=e.targetNodeId;if(null!=a&&(o=i.getNodeById(a)))return{node:o}}}function V0(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function yf(e,t){return A(V0(e),t)>=0}function xf(e,t){for(var n=[];e;){var i=e.dataIndex;n.push({name:e.name,dataIndex:i,value:t.getRawValue(i)}),e=e.parentNode}return n.reverse(),n}function W0(e){var t=0;m(e.children,function(i){W0(i);var o=i.value;$(o)&&(o=o[0]),t+=o});var n=e.value;$(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),$(e.value)?e.value[0]=n:e.value=n}function bf(e){this.group=new Ln,e.add(this.group)}function i2(e,t,n,i,o,a){var s=[[o?e:e-Vg,t],[e+n,t],[e+n,t+i],[o?e:e-Vg,t+i]];return!a&&s.splice(2,0,[e+n+Vg,t+i/2]),!o&&s.push([e,t+i/2]),s}function r2(e,t,n){e.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&xf(n,t)}}function a2(e,t,n,i,o,a,s,l,u,c){function d(pn,bn){be?!pn.invisible&&a.push(pn):(bn(),pn.__tmWillVisible||(pn.invisible=!1))}function h(pn,bn,Pn,Dn,Hn,Tn){var fi=s.getModel(),Kn=_e(e.getFormattedLabel(s.dataIndex,"normal",null,null,Tn?"upperLabel":"label"),fi.get("name"));if(!Tn&&X.isLeafRoot){var Pi=e.get("drillDownIcon",!0);Kn=Pi?Pi+" "+Kn:Kn}var dr=fi.getModel(Tn?jI:GI),Bo=fi.getModel(Tn?qI:UI),ss=dr.getShallow("show");Ni(pn,bn,dr,Bo,{defaultText:ss?Kn:null,autoColor:Pn,isRectText:!0}),Tn&&(pn.textRect=Bt(Tn)),pn.truncate=ss&&dr.get("ellipsis")?{outerWidth:Dn,outerHeight:Hn,minChar:2}:null}function f(pn,bn,Pn,Dn){var Hn=null!=He&&n[pn][He],Tn=o[pn];return Hn?(n[pn][He]=null,function(pn,bn,Pn){(pn[Be]={}).old="nodeGroup"===Pn?bn.position.slice():J({},bn.shape)}(Tn,Hn,pn)):be||((Hn=new bn({z:s2(Pn,Dn)})).__tmDepth=Pn,Hn.__tmStorageName=pn,function(pn,bn,Pn){var Dn=pn[Be]={},Hn=s.parentNode;if(Hn&&(!i||"drillDown"===i.direction)){var Tn=0,fi=0,Kn=o.background[Hn.getRawIndex()];!i&&Kn&&Kn.old&&(Tn=Kn.old.width,fi=Kn.old.height),Dn.old="nodeGroup"===Pn?[0,fi]:{x:Tn,y:fi,width:0,height:0}}Dn.fadein="nodeGroup"!==Pn}(Tn,0,pn)),t[pn][Be]=Hn}if(s){var X=s.getLayout();if(X&&X.isInView){var K=X.width,oe=X.height,ce=X.borderWidth,be=X.invisible,Be=s.getRawIndex(),He=l&&l.getRawIndex(),Ye=s.viewChildren,$e=X.upperHeight,nt=Ye&&Ye.length,mt=s.getModel("itemStyle"),Qt=s.getModel("emphasis.itemStyle"),Yt=f("nodeGroup",n_);if(Yt){if(u.add(Yt),Yt.attr("position",[X.x||0,X.y||0]),Yt.__tmNodeWidth=K,Yt.__tmNodeHeight=oe,X.isAboveViewRoot)return Yt;var sn=f("background",i_,c,YI);if(sn&&function(pn,bn,Pn){bn.dataIndex=s.dataIndex,bn.seriesIndex=e.seriesIndex,bn.setShape({x:0,y:0,width:K,height:oe});var Dn=s.getVisual("borderColor",!0),Hn=Qt.get("borderColor");d(bn,function(){var Tn=r_(mt);Tn.fill=Dn;var fi=Wg(Qt);if(fi.fill=Hn,Pn){var Kn=K-2*ce;h(Tn,fi,Dn,Kn,$e,{x:ce,y:0,width:Kn,height:$e})}else Tn.text=fi.text=null;bn.setStyle(Tn),ii(bn,fi)}),pn.add(bn)}(Yt,sn,nt&&X.upperHeight),!nt){var xn=f("content",i_,c,XI);xn&&function(pn,bn){bn.dataIndex=s.dataIndex,bn.seriesIndex=e.seriesIndex;var Pn=Math.max(K-2*ce,0),Dn=Math.max(oe-2*ce,0);bn.culling=!0,bn.setShape({x:ce,y:ce,width:Pn,height:Dn});var Hn=s.getVisual("color",!0);d(bn,function(){var Tn=r_(mt);Tn.fill=Hn;var fi=Wg(Qt);h(Tn,fi,Hn,Pn,Dn),bn.setStyle(Tn),ii(bn,fi)}),pn.add(bn)}(Yt,xn)}return Yt}}}}function s2(e,t){var n=e*ZI+t;return(n-1)/n}function _f(e,t){var n=e.visual,i=[];Ce(n)?Mu(n,function(a){i.push(a)}):null!=n&&i.push(n),t||1!==i.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(i[1]=i[0]),U0(e,i)}function vc(e){return{applyVisual:function(t,n,i){t=this.mapValueToVisual(t),i("color",e(n("color"),t))},_doMap:Sf([0,1])}}function G0(e){var t=this.option.visual;return t[Math.round(ji(e,[0,1],[0,t.length-1],!0))]||{}}function wf(e){return function(t,n,i){i(e,this.mapValueToVisual(t))}}function yc(e){var t=this.option.visual;return t[this.option.loop&&e!==Jd?e%t.length:e]}function Cf(){return this.option.visual[0]}function Sf(e){return{linear:function(t){return ji(t,e,this.option.visual,!0)},category:yc,piecewise:function(t,n){var i=Mf.call(this,n);return null==i&&(i=ji(t,e,this.option.visual,!0)),i},fixed:Cf}}function Mf(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var i=n[wi.findPieceIndex(e,n)];if(i&&i.visual)return i.visual[this.type]}}function U0(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=y(t,function(n){return Fi(n)})),t}function xc(e,t,n){return e?t<=n:t<n}function j0(e,t,n,i,o,a){var s=e.getModel(),l=e.getLayout();if(l&&!l.invisible&&l.isInView){var u,c=e.getModel(Ug),d=function(e,t,n,i){var o=J({},t);return m(["color","colorAlpha","colorSaturation"],function(a){var s=e.get(a,!0);null==s&&n&&(s=n[a]),null==s&&(s=t[a]),null==s&&(s=i.get(a)),null!=s&&(o[a]=s)}),o}(c,t,n[e.depth],i),h=c.get("borderColor"),f=c.get("borderColorSaturation");null!=f&&(h=function(e,t){return null!=t?on(t,null,null,e):null}(f,u=q0(d))),e.setVisual("borderColor",h);var p=e.viewChildren;if(p&&p.length){var D=function(e,t,n,i,o,a){if(a&&a.length){var s=kf(t,"color")||null!=o.color&&"none"!==o.color&&(kf(t,"colorAlpha")||kf(t,"colorSaturation"));if(s){var l=t.get("visualMin"),u=t.get("visualMax"),c=n.dataExtent.slice();null!=l&&l<c[0]&&(c[0]=l),null!=u&&u>c[1]&&(c[1]=u);var d=t.get("colorMappingBy"),h={type:s.name,dataExtent:c,visual:s.range};"color"!==h.type||"index"!==d&&"id"!==d?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var f=new wi(h);return f.__drColorMappingBy=d,f}}}(0,s,l,0,d,p);m(p,function(X,K){(X.depth>=o.length||X===o[X.depth])&&j0(X,function(e,t,n,i,o,a){var s=J({},t);if(o){var l=o.type,u="color"===l&&o.__drColorMappingBy,c="index"===u?i:"id"===u?a.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));s[l]=o.mapValueToVisual(c)}return s}(s,d,X,K,D,a),n,i,o,a)})}else u=q0(d),e.setVisual("color",u)}}function q0(e){var t=Tf(e,"color");if(t){var n=Tf(e,"colorAlpha"),i=Tf(e,"colorSaturation");return i&&(t=on(t,null,null,i)),n&&(t=Sn(t,n)),t}}function Tf(e,t){var n=e[t];if(null!=n&&"none"!==n)return n}function kf(e,t){var n=e.get(t);return KI(n)&&n.length?{name:t,range:n}:null}function Z0(e,t,n,i){var o,a;if(!e.isRemoved()){var s=e.getLayout();o=s.width,a=s.height;var l=(p=e.getModel()).get(l_),u=p.get(QI)/2,c=$0(p),d=Math.max(l,c),h=l-u,f=d-u,p=e.getModel();e.setLayout({borderWidth:l,upperHeight:d,upperLabelHeight:c},!0);var D=(o=ku(o-2*h,0))*(a=ku(a-h-f,0)),X=function(e,t,n,i,o,a){var s=e.children||[],l=i.sort;"asc"!==l&&"desc"!==l&&(l=null);var u=null!=i.leafDepth&&i.leafDepth<=a;if(o&&!u)return e.viewChildren=[];!function(e,t){t&&e.sort(function(n,i){var o="asc"===t?n.getValue()-i.getValue():i.getValue()-n.getValue();return 0===o?"asc"===t?n.dataIndex-i.dataIndex:i.dataIndex-n.dataIndex:o})}(s=Z(s,function(p){return!p.isRemoved()}),l);var c=function(e,t,n){for(var i=0,o=0,a=t.length;o<a;o++)i+=t[o].getValue();var s=e.get("visualDimension");if(t&&t.length)if("value"===s&&n)l=[t[t.length-1].getValue(),t[0].getValue()],"asc"===n&&l.reverse();else{var l=[1/0,-1/0];jg(t,function(u){var c=u.getValue(s);c<l[0]&&(l[0]=c),c>l[1]&&(l[1]=c)})}else l=[NaN,NaN];return{sum:i,dataExtent:l}}(t,s,l);if(0===c.sum)return e.viewChildren=[];if(c.sum=function(e,t,n,i,o){if(!i)return n;for(var a=e.get("visibleMin"),s=o.length,l=s,u=s-1;u>=0;u--){var c=o["asc"===i?s-u-1:u].getValue();c/n*t<a&&(l=u,n-=c)}return o.splice("asc"===i?0:l,s-l),n}(t,n,c.sum,l,s),0===c.sum)return e.viewChildren=[];for(var d=0,h=s.length;d<h;d++){var f=s[d].getValue()/c.sum*n;s[d].setLayout({area:f})}return u&&(s.length&&e.setLayout({isLeafRoot:!0},!0),s.length=0),e.viewChildren=s,e.setLayout({dataExtent:c.dataExtent},!0),s}(e,p,D,t,n,i);if(X.length){var K={x:h,y:f,width:o,height:a},oe=Qd(o,a),ce=1/0,be=[];be.area=0;for(var Be=0,He=X.length;Be<He;){var Ye=X[Be];be.push(Ye),be.area+=Ye.getLayout().area;var $e=y2(be,oe,t.squareRatio);$e<=ce?(Be++,ce=$e):(be.area-=be.pop().getLayout().area,Y0(be,oe,K,u,!1),oe=Qd(K.width,K.height),be.length=be.area=0,ce=1/0)}if(be.length&&Y0(be,oe,K,u,!0),!n){var nt=p.get("childrenVisibleMin");null!=nt&&D<nt&&(n=!0)}for(Be=0,He=X.length;Be<He;Be++)Z0(X[Be],t,n,i+1)}}}function y2(e,t,n){for(var i,o=0,a=1/0,s=0,l=e.length;s<l;s++)(i=e[s].getLayout().area)&&(i<a&&(a=i),i>o&&(o=i));var u=e.area*e.area,c=t*t*n;return u?ku(c*o/u,u/(c*a)):1/0}function Y0(e,t,n,i,o){var a=t===n.width?0:1,s=1-a,l=["x","y"],u=["width","height"],c=n[l[a]],d=t?e.area/t:0;(o||d>n[u[s]])&&(d=n[u[s]]);for(var h=0,f=e.length;h<f;h++){var p=e[h],D={},X=d?p.getLayout().area/d:0,K=D[u[s]]=ku(d-2*i,0),oe=n[l[a]]+n[u[a]]-c,ce=h===f-1||oe<X?oe:X,be=D[u[a]]=ku(ce-2*i,0);D[l[s]]=n[l[s]]+Qd(i,K/2),D[l[a]]=c+Qd(i,be/2),c+=ce,p.setLayout(D,!0)}n[l[s]]+=d,n[u[s]]-=d}function X0(e,t,n,i,o){var a=e.getLayout(),s=n[o],l=s&&s===e;if(!(s&&!l||o===n.length&&e!==i)){e.setLayout({isInView:!0,invisible:!l&&!t.intersect(a),isAboveViewRoot:l},!0);var u=new Qn(t.x-a.x,t.y-a.y,t.width,t.height);jg(e.viewChildren||[],function(c){X0(c,u,n,i,o+1)})}}function $0(e){return e.get(eD)?e.get(tD):0}function Es(e){return"_EC_"+e}function $r(e,t){this.id=null==e?"":e,this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=null==t?-1:t}function Yl(e,t,n){this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}function Af(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}function K0(e){return"_"+e+"Type"}function J0(e,t,n){var i=t.getItemVisual(n,"color"),o=t.getItemVisual(n,e),a=t.getItemVisual(n,e+"Size");if(o&&"none"!==o){$(a)||(a=[a,a]);var s=Dr(o,-a[0]/2,-a[1]/2,a[0],a[1],i);return s.name=e,s}}function If(e,t){var n=t[0],i=t[1],o=t[2];e.x1=n[0],e.y1=n[1],e.x2=i[0],e.y2=i[1],e.percent=1,o?(e.cpx1=o[0],e.cpy1=o[1]):(e.cpx1=NaN,e.cpy1=NaN)}function Xl(e,t,n){Ln.call(this),this._createLine(e,t,n)}function bc(e){this._ctor=e||Xl,this.group=new Ln}function Q0(e){var t=e.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),hoverLineStyle:t.getModel("emphasis.lineStyle").getLineStyle(),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label")}}function ey(e){return isNaN(e[0])||isNaN(e[1])}function Df(e){return!ey(e[0])&&!ey(e[1])}function ty(e,t,n){for(var i,o=e[0],a=e[1],s=e[2],l=1/0,u=n*n,c=.1,d=.1;d<=.9;d+=.1)Yg[0]=ll(o[0],a[0],s[0],d),Yg[1]=ll(o[1],a[1],s[1],d),(p=h_(Kg(Yg,t)-u))<l&&(l=p,i=d);for(var h=0;h<32;h++){var f=i+c;Xg[0]=ll(o[0],a[0],s[0],i),Xg[1]=ll(o[1],a[1],s[1],i),$g[0]=ll(o[0],a[0],s[0],f),$g[1]=ll(o[1],a[1],s[1],f);var p=Kg(Xg,t)-u;if(h_(p)<.01)break;var D=Kg($g,t)-u;c/=2,p<0?D>=0?i+=c:i-=c:D>=0?i-=c:i+=c}return i}function ny(e,t){return e.getVisual("opacity")||e.getModel().get(t)}function _c(e,t,n){var i=e.getGraphicEl(),o=ny(e,t);null!=n&&(null==o&&(o=1),o*=n),i.downplay&&i.downplay(),i.traverse(function(a){"group"!==a.type&&a.setStyle("opacity",o)})}function ka(e,t){var n=ny(e,t),i=e.getGraphicEl();i.highlight&&i.highlight(),i.traverse(function(o){"group"!==o.type&&o.setStyle("opacity",n)})}function wc(e){return e instanceof Array||(e=[e,e]),e}function iy(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode(function(i){var o=i.getModel();i.setLayout([+o.get("x"),+o.get("y")])}),ry(n)}}function ry(e){e.eachEdge(function(t){var n=t.getModel().get("lineStyle.curveness")||0,i=Lt(t.node1.getLayout()),o=Lt(t.node2.getLayout()),a=[i,o];+n&&a.push([(i[0]+o[0])/2-(i[1]-o[1])*n,(i[1]+o[1])/2-(o[0]-i[0])*n]),t.setLayout(a)})}function oy(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=t.getBoundingRect(),i=e.getData(),o=i.graph,a=0,s=i.getSum("value"),l=2*Math.PI/(s||i.count()),u=n.width/2+n.x,c=n.height/2+n.y,d=Math.min(n.width,n.height)/2;o.eachNode(function(h){var f=h.getValue("value");a+=l*(s?f:1)/2,h.setLayout([d*Math.cos(a)+u,d*Math.sin(a)+c]),a+=l*(s?f:1)/2}),i.setLayout({cx:u,cy:c}),o.eachEdge(function(h){var f,p=h.getModel().get("lineStyle.curveness")||0,D=Lt(h.node1.getLayout()),X=Lt(h.node2.getLayout());+p&&(f=[u*(p*=3)+(D[0]+X[0])/2*(1-p),c*p+(D[1]+X[1])/2*(1-p)]),h.setLayout([D,X,f])})}}function ay(e,t){return t&&("string"==typeof t?e=t.replace("{value}",null!=e?e:""):"function"==typeof t&&(e=t(e))),e}function Nf(e,t){function n(){a.ignore=a.hoverIgnore,s.ignore=s.hoverIgnore}function i(){a.ignore=a.normalIgnore,s.ignore=s.normalIgnore}Ln.call(this);var o=new qr,a=new ho,s=new ui;this.add(o),this.add(a),this.add(s),this.updateData(e,t,!0),this.on("emphasis",n).on("normal",i).on("mouseover",n).on("mouseout",i)}function Pf(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function Cc(e,t){return Math.min(t[1],Math.max(t[0],e))}function Lf(e,t,n){this._axesMap=tt(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}function Sc(e,t){return g_(m_(e,t[0]),t[1])}function P2(e,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*e,axisNameAvailableWidth:n,axisLabelShow:!0}}function L2(e,t){var n,i,a=t.axisExpandWidth,l=t.axisCollapseWidth,u=t.winInnerIndices,c=l,d=!1;return e<u[0]?(n=e*l,i=l):e<=u[1]?(n=t.axisExpandWindow0Pos+e*a-t.axisExpandWindow[0],c=a,d=!0):(n=t.layoutLength-(t.axisCount-1-e)*l,i=l),{position:n,axisNameAvailableWidth:c,axisLabelShow:d,nameTruncateMaxWidth:i}}function Rs(e){nr.call(this),this._zr=e,this.group=new Ln,this._track=[],this._covers=[],this._uid="brushController_"+vD++,this._handlers={},xo(yD,function(t,n){this._handlers[n]=re(t,this)},this)}function sy(e,t){var n=nh[t.brushType].createCover(e,t);return n.__brushOption=t,cy(n,t),e.group.add(n),n}function ly(e,t){var n=Rf(t);return n.endCreating&&(n.endCreating(e,t),cy(t,t.__brushOption)),t}function uy(e,t){var n=t.__brushOption;Rf(t).updateCoverShape(e,t,n.range,n)}function cy(e,t){var n=t.z;null==n&&(n=hD),e.traverse(function(i){i.z=n,i.z2=n})}function Ef(e,t){Rf(t).updateCommon(e,t),uy(e,t)}function Rf(e){return nh[e.__brushOption.brushType]}function Bf(e,t,n){var i=e._panels;if(!i)return!0;var o,a=e._transform;return xo(i,function(s){s.isTargetByCursor(t,n,a)&&(o=s)}),o}function dy(e,t){var n=e._panels;if(!n)return!0;var i=t.__brushOption.panelId;return null==i||n[i]}function Of(e){var t=e._covers,n=t.length;return xo(t,function(i){e.group.remove(i)},e),t.length=0,!!n}function Aa(e,t){var n=cD(e._covers,function(i){var o=i.__brushOption,a=Bt(o.range);return{brushType:o.brushType,panelId:o.panelId,range:a}});e.trigger("brush",n,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function hy(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function fy(e,t,n,i){var o=new Ln;return o.add(new Ti({name:"main",style:Ff(n),silent:!0,draggable:!0,cursor:"move",drift:la(e,t,o,"nswe"),ondragend:la(Aa,t,{isEnd:!0})})),xo(i,function(a){o.add(new Ti({name:a,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:la(e,t,o,a),ondragend:la(Aa,t,{isEnd:!0})}))}),o}function py(e,t,n,i){var o=i.brushStyle.lineWidth||0,a=dl(o,pD),s=n[0][0],l=n[1][0],u=s-o/2,c=l-o/2,d=n[0][1],h=n[1][1],f=d-a+o/2,p=h-a+o/2,D=d-s,X=h-l,K=D+o,oe=X+o;To(e,t,"main",s,l,D,X),i.transformable&&(To(e,t,"w",u,c,a,oe),To(e,t,"e",f,c,a,oe),To(e,t,"n",u,c,K,a),To(e,t,"s",u,p,K,a),To(e,t,"nw",u,c,a,a),To(e,t,"ne",f,c,a,a),To(e,t,"sw",u,p,a,a),To(e,t,"se",f,p,a,a))}function zf(e,t){var n=t.__brushOption,i=n.transformable,o=t.childAt(0);o.useStyle(Ff(n)),o.attr({silent:!i,cursor:i?"move":"default"}),xo(["w","e","n","s","se","sw","ne","nw"],function(a){var s=t.childOfName(a),l=Hf(e,a);s&&s.attr({silent:!i,invisible:!i,cursor:i?mD[l]+"-resize":null})})}function To(e,t,n,i,o,a,s){var l=t.childOfName(n);l&&l.setShape(function(e){var t=Du(e[0][0],e[1][0]),n=Du(e[0][1],e[1][1]);return{x:t,y:n,width:dl(e[0][0],e[1][0])-t,height:dl(e[0][1],e[1][1])-n}}(Vf(e,t,[[i,o],[i+a,o+s]])))}function Ff(e){return ne({strokeNoScale:!0},e.brushStyle)}function gy(e,t,n,i){var o=[Du(e,n),Du(t,i)],a=[dl(e,n),dl(t,i)];return[[o[0],a[0]],[o[1],a[1]]]}function Hf(e,t){if(t.length>1)return("e"===(i=[Hf(e,(t=t.split(""))[0]),Hf(e,t[1])])[0]||"w"===i[0])&&i.reverse(),i.join("");var i=Sh({w:"left",e:"right",n:"top",s:"bottom"}[t],function(e){return xa(e.group)}(e));return{left:"w",right:"e",top:"n",bottom:"s"}[i]}function my(e,t,n,i,o,a,s,l){var u=i.__brushOption,c=e(u.range),d=vy(n,a,s);xo(o.split(""),function(h){var f=gD[h];c[f[0]][f[1]]+=d[f[0]]}),u.range=t(gy(c[0][0],c[1][0],c[0][1],c[1][1])),Ef(n,i),Aa(n,{isEnd:!1})}function z2(e,t,n,i,o){var a=t.__brushOption.range,s=vy(e,n,i);xo(a,function(l){l[0]+=s[0],l[1]+=s[1]}),Ef(e,t),Aa(e,{isEnd:!1})}function vy(e,t,n){var i=e.group,o=i.transformCoordToLocal(t,n),a=i.transformCoordToLocal(0,0);return[o[0]-a[0],o[1]-a[1]]}function Vf(e,t,n){var i=dy(e,t);return i&&!0!==i?i.clipPath(n,e._transform):Bt(n)}function Wf(e){var t=e.event;t.preventDefault&&t.preventDefault()}function Gf(e,t,n){return e.childOfName("main").contain(t,n)}function yy(e,t,n,i){var o,a=e._creatingCover,s=e._creatingPanel,l=e._brushOption;if(e._track.push(n.slice()),function(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],i=t[0],o=n[0]-i[0],a=n[1]-i[1];return dD(o*o+a*a,.5)>fD}(e)||a){if(s&&!a){"single"===l.brushMode&&Of(e);var u=Bt(l);u.brushType=xy(u.brushType,s),u.panelId=!0===s?null:s.panelId,a=e._creatingCover=sy(e,u),e._covers.push(a)}if(a){var c=nh[xy(e._brushType,s)];a.__brushOption.range=c.getCreatingRange(Vf(e,a,e._track)),i&&(ly(e,a),c.updateCommon(e,a)),uy(e,a),o={isEnd:i}}}else i&&"single"===l.brushMode&&l.removeOnClick&&Bf(e,t,n)&&Of(e)&&(o={isEnd:i,removeOnClick:!0});return o}function xy(e,t){return"auto"===e?t.defaultBrushType:e}function by(e){if(this._dragging){Wf(e);var t=yy(this,e,this.group.transformCoordToLocal(e.offsetX,e.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,t&&Aa(this,t)}}function _y(e){return{createCover:function(t,n){return fy(la(my,function(i){var o=[i,[0,100]];return e&&o.reverse(),o},function(i){return i[e]}),t,n,[["w","e"],["n","s"]][e])},getCreatingRange:function(t){var n=hy(t);return[Du(n[0][e],n[1][e]),dl(n[0][e],n[1][e])]},updateCoverShape:function(t,n,i,o){var a,s=dy(t,n);if(!0!==s&&s.getLinearBrushOtherExtent)a=s.getLinearBrushOtherExtent(e,t._transform);else{var l=t._zr;a=[0,[l.getWidth(),l.getHeight()][1-e]]}var u=[i,a];e&&u.reverse(),py(t,n,u,o)},updateCommon:zf,contain:Gf}}function wy(e){return e=Uf(e),function(t,n){return Gm(t,e)}}function Cy(e,t){return e=Uf(e),function(n){var i=null!=t?t:n,a=i?e.x:e.y;return[a,a+((i?e.width:e.height)||0)]}}function Sy(e,t,n){return e=Uf(e),function(i,o,a){return e.contain(o[0],o[1])&&!hf(i,t,n)}}function Uf(e){return Qn.create(e)}function jf(e,t){var n=e._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}function My(e,t,n,i){for(var o=[],a=0;a<n.length;a++){var s=n[a],l=e.get(e.mapDimension(s),t);X2(l,i.getAxis(s).type)||o.push(i.dataToPoint(l,s))}return o}function X2(e,t){return"category"===t?null==e:null==e||isNaN(e)}function qf(){function e(o,a){if(a>=n.length)return o;for(var s=-1,l=o.length,u=n[a++],c={},d={};++s<l;){var h=u(o[s]),f=d[h];f?f.push(o[s]):d[h]=[o[s]]}return m(d,function(p,D){c[D]=e(p,a)}),c}function t(o,a){if(a>=n.length)return o;var s=[],l=i[a++];return m(o,function(u,c){s.push({key:c,values:t(u,a)})}),l?s.sort(function(u,c){return l(u.key,c.key)}):s}var n=[],i=[];return{key:function(o){return n.push(o),this},sortKeys:function(o){return i[n.length-1]=o,this},entries:function(o){return t(e(o,0),0)}}}function Zf(e,t,n){m(e,function(i){var o,a,s,l=0,u=i.length;for(i.sort(hM),s=0;s<u;s++)(a=l-(o=i[s]).getLayout().y)>0&&(c=o.getLayout().y+a,o.setLayout({y:c},!0)),l=o.getLayout().y+o.getLayout().dy+t;if((a=l-t-n)>0){var c=o.getLayout().y-a;for(o.setLayout({y:c},!0),l=o.getLayout().y,s=u-2;s>=0;--s)(a=(o=i[s]).getLayout().y+o.getLayout().dy+t-l)>0&&(c=o.getLayout().y-a,o.setLayout({y:c},!0)),l=o.getLayout().y}})}function oM(e,t){m(e.slice().reverse(),function(n){m(n,function(i){if(i.outEdges.length){var o=Bs(i.outEdges,aM)/Bs(i.outEdges,Tc),a=i.getLayout().y+(o-Mc(i))*t;i.setLayout({y:a},!0)}})})}function aM(e){return Mc(e.node2)*e.getValue()}function sM(e,t){m(e,function(n){m(n,function(i){if(i.inEdges.length){var o=Bs(i.inEdges,lM)/Bs(i.inEdges,Tc),a=i.getLayout().y+(o-Mc(i))*t;i.setLayout({y:a},!0)}})})}function lM(e){return Mc(e.node1)*e.getValue()}function cM(e,t){return e.node2.getLayout().y-t.node2.getLayout().y}function dM(e,t){return e.node1.getLayout().y-t.node1.getLayout().y}function Bs(e,t){for(var n=0,i=e.length,o=-1;++o<i;){var a=+t.call(e,e[o],o);isNaN(a)||(n+=a)}return n}function Mc(e){return e.getLayout().y+e.getLayout().dy/2}function hM(e,t){return e.getLayout().y-t.getLayout().y}function fM(e,t){return e<t?-1:e>t?1:e===t?0:NaN}function Tc(e){return e.getValue()}function kc(e,t,n,i){Ln.call(this),this.styleUpdater=n,this._createContent(e,t,i),this.updateData(e,t,i)}function Ty(e,t,n){return y(e,function(i){return(i=i.slice())[t]=n.initBaseline,i})}function ky(e){var t={};return m(e,function(n,i){t["ends"+i]=n}),t}function Ay(e){this.group=new Ln,this.styleUpdater=e}function pM(e,t,n){var i=t.getItemModel(n),o=i.getModel(TD),a=t.getItemVisual(n,"color"),s=o.getItemStyle(["borderColor"]),l=e.childAt(e.whiskerIndex);l.style.set(s),l.style.stroke=a,l.dirty();var u=e.childAt(e.bodyIndex);u.style.set(s),u.style.stroke=a,u.dirty(),ii(e,i.getModel(kD).getItemStyle())}function yM(e,t,n){var i=t.getItemModel(n),o=i.getModel(AD),a=t.getItemVisual(n,"color"),s=t.getItemVisual(n,"borderColor")||a,l=o.getItemStyle(["color","color0","borderColor","borderColor0"]),u=e.childAt(e.whiskerIndex);u.useStyle(l),u.style.stroke=s;var c=e.childAt(e.bodyIndex);c.useStyle(l),c.style.fill=a,c.style.stroke=s,ii(e,i.getModel(ID).getItemStyle())}function Iy(e,t){e.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?t.color:null,fill:"fill"===t.brushType?t.color:null}})})}function Yf(e,t){Ln.call(this);var n=new Ds(e,t),i=new Ln;this.add(n),this.add(i),i.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(e,t)}function Dy(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=y(t,function(n){var i={coords:[n[0].coord,n[1].coord]};return n[0].name&&(i.fromName=n[0].name),n[1].name&&(i.toName=n[1].name),ke([i,n[0],n[1]])}))}function $l(e,t,n){Ln.call(this),this.add(this.createLine(e,t,n)),this._updateEffectSymbol(e,t)}function Ac(e,t,n){Ln.call(this),this._createPolyline(e,t,n)}function Xf(e,t,n){$l.call(this,e,t,n),this._lastFrame=0,this._lastFramePercent=0}function Ny(){this.group=new Ln}function Ic(e){return e instanceof Array||(e=[e,e]),e}function Py(){var e=Ws();this.canvas=e,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}function Ly(e,t,n,i){var o=e.getItemLayout(t),a=n.get("symbolRepeat"),s=n.get("symbolClip"),l=n.get("symbolPosition")||"start",u=(n.get("symbolRotate")||0)*Math.PI/180||0,c=n.get("symbolPatternSize")||2,d=n.isAnimationEnabled(),h={dataIndex:t,layout:o,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",color:e.getItemVisual(t,"color"),symbolClip:s,symbolRepeat:a,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:d?n:null,hoverAnimation:d&&n.get("hoverAnimation"),z2:n.getShallow("z",!0)||0};(function(e,t,n,i,o){var a,s=i.valueDim,l=e.get("symbolBoundingData"),u=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),c=u.toGlobalCoord(u.dataToCoord(0)),d=1-+(n[s.wh]<=0);if($(l)){var h=[$f(u,l[0])-c,$f(u,l[1])-c];h[1]<h[0]&&h.reverse(),a=h[d]}else a=null!=l?$f(u,l)-c:t?i.coordSysExtent[s.index][d]-c:n[s.wh];o.boundingLength=a,t&&(o.repeatCutLength=n[s.wh]),o.pxSign=a>0?1:a<0?-1:0})(n,a,o,i,h),function(e,t,n,i,o,a,s,l,u,c){var d=u.valueDim,h=u.categoryDim,f=Math.abs(n[h.wh]),p=e.getItemVisual(t,"symbolSize");$(p)?p=p.slice():(null==p&&(p="100%"),p=[p,p]),p[h.index]=wn(p[h.index],f),p[d.index]=wn(p[d.index],i?f:Math.abs(a)),c.symbolSize=p,(c.symbolScale=[p[0]/l,p[1]/l])[d.index]*=(u.isHorizontal?-1:1)*s}(e,t,o,a,0,h.boundingLength,h.pxSign,c,i,h),function(e,t,n,i,o){var a=e.get(zD)||0;a&&(em.attr({scale:t.slice(),rotation:n}),em.updateTransform(),a/=em.getLineScale(),a*=t[i.valueDim.index]),o.valueLineWidth=a}(n,h.symbolScale,u,i,h);var f=h.symbolSize,p=n.get("symbolOffset");return $(p)&&(p=[wn(p[0],f[0]),wn(p[1],f[1])]),function(e,t,n,i,o,a,s,l,u,c,d,h){var f=d.categoryDim,p=d.valueDim,D=h.pxSign,X=Math.max(t[p.index]+l,0),K=X;if(i){var oe=Math.abs(u),ce=_e(e.get("symbolMargin"),"15%")+"",be=!1;ce.lastIndexOf("!")===ce.length-1&&(be=!0,ce=ce.slice(0,ce.length-1)),ce=wn(ce,t[p.index]);var Be=Math.max(X+2*ce,0),He=be?0:2*ce,Ye=Xm(i),$e=Ye?i:Uy((oe+He)/Be);Be=X+2*(ce=(oe-$e*X)/2/(be?$e:$e-1)),He=be?0:2*ce,Ye||"fixed"===i||($e=c?Uy((Math.abs(c)+He)/Be):0),K=$e*Be-He,h.repeatTimes=$e,h.symbolMargin=ce}var nt=D*(K/2),mt=h.pathPosition=[];mt[f.index]=n[f.wh]/2,mt[p.index]="start"===s?nt:"end"===s?u-nt:u/2,a&&(mt[0]+=a[0],mt[1]+=a[1]);var Qt=h.bundlePosition=[];Qt[f.index]=n[f.xy],Qt[p.index]=n[p.xy];var Yt=h.barRectShape=J({},n);Yt[p.wh]=D*Math.max(Math.abs(n[p.wh]),Math.abs(mt[p.index]+nt)),Yt[f.wh]=n[f.wh];var sn=h.clipShape={};sn[f.xy]=-n[f.xy],sn[f.wh]=d.ecSize[f.wh],sn[p.xy]=0,sn[p.wh]=n[p.wh]}(n,f,o,a,0,p,l,h.valueLineWidth,h.boundingLength,h.repeatCutLength,i,h),h}function $f(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function Ey(e){var t=e.symbolPatternSize,n=Dr(e.symbolType,-t/2,-t/2,t,t,e.color);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function Ry(e,t,n,i){function o(X){var K=u.slice(),oe=n.pxSign,ce=X;return("start"===n.symbolRepeatDirection?oe>0:oe<0)&&(ce=d-1-X),K[c.index]=f*(ce-d/2+.5)+u[c.index],{position:K,scale:n.symbolScale.slice(),rotation:n.rotation}}var a=e.__pictorialBundle,u=n.pathPosition,c=t.valueDim,d=n.repeatTimes||0,h=0,f=n.symbolSize[t.valueDim.index]+n.valueLineWidth+2*n.symbolMargin;for(Kl(e,function(X){X.__pictorialAnimationIndex=h,X.__pictorialRepeatTimes=d,h<d?Os(X,null,o(h),n,i):Os(X,null,{scale:[0,0]},n,i,function(){a.remove(X)}),Kf(X,n),h++});h<d;h++){var p=Ey(n);p.__pictorialAnimationIndex=h,p.__pictorialRepeatTimes=d,a.add(p);var D=o(h);Os(p,{position:D.position,scale:[0,0]},{scale:D.scale,rotation:D.rotation},n,i),p.on("mouseover",function(){Kl(e,function(X){X.trigger("emphasis")})}).on("mouseout",function(){Kl(e,function(X){X.trigger("normal")})}),Kf(p,n)}}function By(e,t,n,i){var o=e.__pictorialBundle,a=e.__pictorialMainPath;a?Os(a,null,{position:n.pathPosition.slice(),scale:n.symbolScale.slice(),rotation:n.rotation},n,i):(a=e.__pictorialMainPath=Ey(n),o.add(a),Os(a,{position:n.pathPosition.slice(),scale:[0,0],rotation:n.rotation},{scale:n.symbolScale.slice()},n,i),a.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")})),Kf(a,n)}function Oy(e,t,n){var i=J({},t.barRectShape),o=e.__pictorialBarRect;o?Os(o,null,{shape:i},t,n):(o=e.__pictorialBarRect=new Ti({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),e.add(o))}function zy(e,t,n,i){if(n.symbolClip){var o=e.__pictorialClipPath,a=J({},n.clipShape),s=t.valueDim,l=n.animationModel,u=n.dataIndex;if(o)si(o,{shape:a},l,u);else{a[s.wh]=0,o=new Ti({shape:a}),e.__pictorialBundle.setClipPath(o),e.__pictorialClipPath=o;var c={};c[s.wh]=n.clipShape[s.wh],Jr[i?"updateProps":"initProps"](o,{shape:c},l,u)}}}function Fy(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=AM,n.isAnimationEnabled=IM,n}function AM(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function IM(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Kf(e,t){e.off("emphasis").off("normal");var n=t.symbolScale.slice();t.hoverAnimation&&e.on("emphasis",function(){this.animateTo({scale:[1.1*n[0],1.1*n[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:n.slice()},400,"elasticOut")})}function Hy(e,t,n,i){var o=new Ln,a=new Ln;return o.add(a),o.__pictorialBundle=a,a.attr("position",n.bundlePosition.slice()),n.symbolRepeat?Ry(o,t,n):By(o,0,n),Oy(o,n,i),zy(o,t,n,i),o.__pictorialShapeStr=Wy(e,n),o.__pictorialSymbolMeta=n,o}function Vy(e,t,n,i){var o=i.__pictorialBarRect;o&&(o.style.text=null);var a=[];Kl(i,function(s){a.push(s)}),i.__pictorialMainPath&&a.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),m(a,function(s){si(s,{scale:[0,0]},n,t,function(){i.parent&&i.parent.remove(i)})}),e.setItemGraphicEl(t,null)}function Wy(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function Kl(e,t,n){m(e.__pictorialBundle.children(),function(i){i!==e.__pictorialBarRect&&t.call(n,i)})}function Os(e,t,n,i,o,a){t&&e.attr(t),i.symbolClip&&!o?n&&e.attr(n):n&&Jr[o?"updateProps":"initProps"](e,n,i.animationModel,i.dataIndex,a)}function Gy(e,t,n){var i=n.color,o=n.dataIndex,a=n.itemModel,s=a.getModel("itemStyle").getItemStyle(["color"]),l=a.getModel("emphasis.itemStyle").getItemStyle(),u=a.getShallow("cursor");Kl(e,function(f){f.setColor(i),f.setStyle(ne({fill:i,opacity:n.opacity},s)),ii(f,l),u&&(f.cursor=u),f.z2=n.z2});var c={},h=e.__pictorialBarRect;f0(h.style,c,a,i,t.seriesModel,o),ii(h,c)}function Uy(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}function Dc(e,t,n){this.dimension="single",this.dimensions=["single"],this._axis=null,this._init(e,t,n),this.model=e}function Jf(e,t){t=t||{};var i=e.axis,o={},a=i.position,s=i.orient,l=e.coordinateSystem.getRect(),u=[l.x,l.x+l.width,l.y,l.y+l.height],c={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};o.position=["vertical"===s?c.vertical[a]:u[0],"horizontal"===s?c.horizontal[a]:u[3]],o.rotation=Math.PI/2*{horizontal:0,vertical:1}[s],o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,right:1,left:-1}[a],e.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),_e(t.labelInside,e.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var f=t.rotate;return null==f&&(f=e.get("axisLabel.rotate")),o.labelRotation="top"===a?-f:f,o.labelInterval=i.getLabelInterval(),o.z2=1,o}function jy(e,t,n,i,o){var a=e.axis;if(!a.scale.isBlank()&&a.containData(t))if(e.involveSeries){var s=function(e,t){var n=t.axis,i=n.dim,o=e,a=[],s=Number.MAX_VALUE,l=-1;return bo(t.seriesModels,function(u,c){var d,h,f=u.getData().mapDimension(i,!0);if(u.getAxisTooltipData){var p=u.getAxisTooltipData(f,e,n);h=p.dataIndices,d=p.nestestValue}else{if(!(h=u.getData().indicesOfNearest(f[0],e,!1,"category"===n.type?.5:null)).length)return;d=u.getData().get(f[0],h[0])}if(null!=d&&isFinite(d)){var D=e-d,X=Math.abs(D);X<=s&&((X<s||D>=0&&l<0)&&(s=X,l=D,o=d,a.length=0),bo(h,function(K){a.push({seriesIndex:u.seriesIndex,dataIndexInside:K,dataIndex:u.getData().getRawIndex(K)})}))}}),{payloadBatch:a,snapToValue:o}}(t,e),l=s.payloadBatch,u=s.snapToValue;l[0]&&null==o.seriesIndex&&J(o,l[0]),!i&&e.snap&&a.containData(u)&&null!=u&&(t=u),n.showPointer(e,t,l,o),n.showTooltip(e,s,u)}else n.showPointer(e,t)}function PM(e,t,n,i){e[t.key]={value:n,payloadBatch:i}}function LM(e,t,n,i){var o=n.payloadBatch,a=t.axis,s=a.model,l=t.axisPointerModel;if(t.triggerTooltip&&o.length){var u=t.coordSys.model,c=Gl(u),d=e.map[c];d||(d=e.map[c]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},e.list.push(d)),d.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:i,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:o.slice()})}}function qy(e){var t=e.axis.model,n={},i=n.axisDim=e.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=t.componentIndex,n.axisName=n[i+"AxisName"]=t.name,n.axisId=n[i+"AxisId"]=t.id,n}function Nc(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}function Zy(e,t,n){if(!li.node){var i=t.getZr();Po(i).records||(Po(i).records={}),function(e,t){function n(i,o){e.on(i,function(a){var s=function(e){var t={showTip:[],hideTip:[]},n=function(i){var o=t[i.type];o?o.push(i):(i.dispatchAction=n,e.dispatchAction(i))};return{dispatchAction:n,pendings:t}}(t);UD(Po(e).records,function(l){l&&o(l,a,s.dispatchAction)}),function(e,t){var n,i=e.showTip.length,o=e.hideTip.length;i?n=e.showTip[i-1]:o&&(n=e.hideTip[o-1]),n&&(n.dispatchAction=null,t.dispatchAction(n))}(s.pendings,t)})}Po(e).initialized||(Po(e).initialized=!0,n("click",Q(Yy,"click")),n("mousemove",Q(Yy,"mousemove")),n("globalout",HM))}(i,t),(Po(i).records[e]||(Po(i).records[e]={})).handler=n}}function HM(e,t,n){e.handler("leave",null,n)}function Yy(e,t,n,i){t.handler(e,n,i)}function Qf(e,t){if(!li.node){var n=t.getZr();(Po(n).records||{})[e]&&(Po(n).records[e]=null)}}function zs(){}function Xy(e,t,n,i){$y(Ja(n).lastProp,i)||(Ja(n).lastProp=i,t?si(n,i,e):(n.stopAnimation(),n.attr(i)))}function $y(e,t){if(Ce(e)&&Ce(t)){var n=!0;return m(t,function(i,o){n=n&&$y(e[o],i)}),!!n}return e===t}function Ky(e,t){e[t.get("label.show")?"show":"hide"]()}function ep(e){return{position:e.position.slice(),rotation:e.rotation||0}}function Jy(e,t,n){var i=t.get("z"),o=t.get("zlevel");e&&e.traverse(function(a){"group"!==a.type&&(null!=i&&(a.z=i),null!=o&&(a.zlevel=o),a.silent=n)})}function tp(e){var t,n=e.get("type"),i=e.getModel(n+"Style");return"line"===n?(t=i.getLineStyle()).fill=null:"shadow"===n&&((t=i.getAreaStyle()).stroke=null),t}function Qy(e,t,n,i,o){var a=e1(n.get("value"),t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),s=n.getModel("label"),l=za(s.get("padding")||0),u=s.getFont(),c=Fr(a,u),d=o.position,h=c.width+l[1]+l[3],f=c.height+l[0]+l[2],p=o.align;"right"===p&&(d[0]-=h),"center"===p&&(d[0]-=h/2);var D=o.verticalAlign;"bottom"===D&&(d[1]-=f),"middle"===D&&(d[1]-=f/2),function(e,t,n,i){var o=i.getWidth(),a=i.getHeight();e[0]=Math.min(e[0]+t,o)-t,e[1]=Math.min(e[1]+n,a)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}(d,h,f,i);var X=s.get("backgroundColor");X&&"auto"!==X||(X=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:h,height:f,r:s.get("borderRadius")},position:d.slice(),style:{text:a,textFont:u,textFill:s.getTextColor(),textPosition:"inside",fill:X,stroke:s.get("borderColor")||"transparent",lineWidth:s.get("borderWidth")||0,shadowBlur:s.get("shadowBlur"),shadowColor:s.get("shadowColor"),shadowOffsetX:s.get("shadowOffsetX"),shadowOffsetY:s.get("shadowOffsetY")},z2:10}}function e1(e,t,n,i,o){var a=t.scale.getLabel(e,{precision:o.precision}),s=o.formatter;if(s){var l={value:Qh(t,e),seriesData:[]};m(i,function(u){var c=n.getSeriesByIndex(u.seriesIndex),h=c&&c.getDataParams(u.dataIndexInside);h&&l.seriesData.push(h)}),pe(s)?a=s.replace("{value}",a):fe(s)&&(a=s(l))}return a}function np(e,t,n){var i=Un();return yn(i,i,n.rotation),tn(i,i,n.position),io([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function t1(e,t,n,i,o,a){var s=pr.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=o.get("label.margin"),Qy(t,i,o,a,{position:np(i.axis,e,n),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function ip(e,t,n){return{x1:e[n=n||0],y1:e[1-n],x2:t[n],y2:t[1-n]}}function n1(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}function i1(e,t,n,i,o,a){return{cx:e,cy:t,r0:n,r:i,startAngle:o,endAngle:a,clockwise:!0}}function r1(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}function o1(e){return"x"===e.dim?0:1}function Pc(e){return e.isHorizontal()?0:1}function rp(e,t){var n=e.getRect();return[n[H_[t]],n[H_[t]]+n[ZD[t]]]}function a1(e,t,n){if(e.count())for(var i,o=t.coordinateSystem,a=t.getLayerSeries(),s=e.mapDimension("single"),l=e.mapDimension("value"),u=y(a,function(K){return y(K.indices,function(oe){var ce=o.dataToPoint(e.get(s,oe));return ce[1]=e.get(l,oe),ce})}),c=function(e){for(var t=e.length,n=e[0].length,i=[],o=[],a=0,s={},l=0;l<n;++l){for(var u=0,c=0;u<t;++u)c+=e[u][l][1];c>a&&(a=c),i.push(c)}for(var d=0;d<n;++d)o[d]=(a-i[d])/2;a=0;for(var h=0;h<n;++h){var f=i[h]+o[h];f>a&&(a=f)}return s.y0=o,s.max=a,s}(u),d=c.y0,h=n/c.max,f=a.length,p=a[0].indices.length,D=0;D<p;++D){e.setItemLayout(a[0].indices[D],{layerIndex:0,x:u[0][D][0],y0:i=d[D]*h,y:u[0][D][1]*h});for(var X=1;X<f;++X)e.setItemLayout(a[X].indices[D],{layerIndex:X,x:u[X][D][0],y0:i+=u[X-1][D][1]*h,y:u[X][D][1]*h})}}function s1(e){var t=0;m(e.children,function(i){s1(i);var o=i.value;$(o)&&(o=o[0]),t+=o});var n=e.value;$(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),$(e.value)?e.value[0]=n:e.value=n}function Lc(e,t,n){function i(){s.ignore=s.hoverIgnore}function o(){s.ignore=s.normalIgnore}Ln.call(this);var a=new Io({z2:KD}),s=new ui({z2:JD,silent:e.getModel("label").get("silent")});this.add(a),this.add(s),this.updateData(!0,e,"normal",t,n),this.on("emphasis",i).on("normal",o).on("mouseover",i).on("mouseout",o)}function l1(e,t){var n=e.children||[];e.children=function(e,t){if("function"==typeof t)return e.sort(t);var n="asc"===t;return e.sort(function(i,o){var a=(i.getValue()-o.getValue())*(n?1:-1);return 0===a?(i.dataIndex-o.dataIndex)*(n?-1:1):a})}(n,t),n.length&&m(e.children,function(i){l1(i,t)})}function XM(e,t){return t=t||[0,0],y(["x","y"],function(n,i){var o=this.getAxis(n),a=t[i],s=e[i]/2;return"category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(a-s)-o.dataToCoord(a+s))},this)}function $M(e,t){return t=t||[0,0],y([0,1],function(n){var i=t[n],o=e[n]/2,a=[],s=[];return a[n]=i-o,s[n]=i+o,a[1-n]=s[1-n]=t[1-n],Math.abs(this.dataToPoint(a)[n]-this.dataToPoint(s)[n])},this)}function KM(e,t){var n=this.getAxis(),i=t instanceof Array?t[0]:t,o=(e instanceof Array?e[0]:e)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-o)-n.dataToCoord(i+o))}function JM(e,t){return y(["Radius","Angle"],function(n,i){var o=this["get"+n+"Axis"](),a=t[i],s=e[i]/2,l="dataTo"+n,u="category"===o.type?o.getBandWidth():Math.abs(o[l](a-s)-o[l](a+s));return"Angle"===n&&(u=u*Math.PI/180),u},this)}function u1(e,t,n,i,o){null==n[e]||o||(t[e]=n[e],n[e]=i[e])}function c1(e,t,n,i){function o(K){null==K&&(K=u),X&&(c=t.getItemModel(K),d=c.getModel(tN),h=c.getModel(nN),f=t.getItemVisual(K,"color"),X=!1)}var a=e.get("renderItem"),s=e.coordinateSystem,l={};s&&(l=s.prepareCustoms?s.prepareCustoms():rN[s.type](s));var u,c,d,h,f,p=ne({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(K,oe){return null==oe&&(oe=u),t.get(t.getDimension(K||0),oe)},style:function(K,oe){null==oe&&(oe=u),o(oe);var ce=c.getModel(QD).getItemStyle();null!=f&&(ce.fill=f);var be=t.getItemVisual(oe,"opacity");return null!=be&&(ce.opacity=be),$n(ce,d,null,{autoColor:f,isRectText:!0}),ce.text=d.getShallow("show")?Me(e.getFormattedLabel(oe,"normal"),pc(t,oe)):null,K&&J(ce,K),ce},styleEmphasis:function(K,oe){null==oe&&(oe=u),o(oe);var ce=c.getModel(eN).getItemStyle();return $n(ce,h,null,{isRectText:!0},!0),ce.text=h.getShallow("show")?Ne(e.getFormattedLabel(oe,"emphasis"),e.getFormattedLabel(oe,"normal"),pc(t,oe)):null,K&&J(ce,K),ce},visual:function(K,oe){return null==oe&&(oe=u),t.getItemVisual(oe,K)},barLayout:function(K){if(s.getBaseAxis)return function(e,t){var n=[],i=e.axis;if("category"===i.type){for(var o=i.getBandWidth(),a=0;a<e.count;a++)n.push(ne({bandWidth:o,axisKey:"axis0",stackId:kg+a},e));var s=Vv(n),l=[];for(a=0;a<e.count;a++){var u=s.axis0[kg+a];u.offsetCenter=u.offset+u.width/2,l.push(u)}return l}}(ne({axis:s.getBaseAxis()},K))},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(K){return Ch(K,n)}},l.api||{}),D={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:l.coordSys,dataInsideLength:t.count(),encode:tT(e.getData())},X=!0;return function(K){return u=K,X=!0,a&&a(ne({dataIndexInside:K,dataIndex:t.getRawIndex(K)},D),p)||{}}}function tT(e){var t={};return m(e.dimensions,function(n,i){var o=e.getDimensionInfo(n);if(!o.isExtraCoord){var a=o.coordDim;(t[a]=t[a]||[])[o.coordDimIndex]=i}}),t}function op(e,t,n,i,o,a){return(e=ap(e,t,n,i,o,a))&&a.setItemGraphicEl(t,e),e}function ap(e,t,n,i,o,a){var s=n.type;if(!e||s===e.__customGraphicType||"path"===s&&n.pathData===e.__customPathData||"image"===s&&n.style.image===e.__customImagePath||"text"===s&&n.style.text===e.__customText||(o.remove(e),e=null),null!=s){var l=!e;if(!e&&(e=function(e){var t,n=e.type;if("path"===n){var i=e.shape;(t=qe(i.pathData,null,{x:i.x||0,y:i.y||0,width:i.width||0,height:i.height||0},"center")).__customPathData=e.pathData}else"image"===n?(t=new tr({})).__customImagePath=e.style.image:"text"===n?(t=new ui({})).__customText=e.style.text:t=new(Jr[n.charAt(0).toUpperCase()+n.slice(1)]);return t.__customGraphicType=n,t.name=e.name,t}(n)),function(e,t,n,i,o,a){var s={},l=n.style||{};if(n.shape&&(s.shape=Bt(n.shape)),n.position&&(s.position=n.position.slice()),n.scale&&(s.scale=n.scale.slice()),n.origin&&(s.origin=n.origin.slice()),n.rotation&&(s.rotation=n.rotation),"image"===e.type&&n.style&&(u=s.style={},m(["x","y","width","height"],function(d){u1(d,u,l,e.style,a)})),"text"===e.type&&n.style){var u=s.style={};m(["x","y"],function(d){u1(d,u,l,e.style,a)}),!l.hasOwnProperty("textFill")&&l.fill&&(l.textFill=l.fill),!l.hasOwnProperty("textStroke")&&l.stroke&&(l.textStroke=l.stroke)}if("group"!==e.type&&(e.useStyle(l),a)){e.style.opacity=0;var c=l.opacity;null==c&&(c=1),mr(e,{style:{opacity:c}},i,t)}a?e.attr(s):si(e,s,i,t),e.attr({z2:n.z2||0,silent:n.silent}),!1!==n.styleEmphasis&&ii(e,n.styleEmphasis)}(e,t,n,i,0,l),"group"===s){var u=e.children()||[],c=n.children||[];if(n.diffChildrenByName)!function(e){new So(e.oldChildren,e.newChildren,d1,d1,e).add(h1).update(h1).remove(iT).execute()}({oldChildren:u,newChildren:c,dataIndex:t,animatableModel:i,group:e,data:a});else{for(var d=0;d<c.length;d++)ap(e.childAt(d),t,c[d],i,e,a);for(;d<u.length;d++)u[d]&&e.remove(u[d])}}return o.add(e),e}}function d1(e,t){var n=e&&e.name;return null!=n?n:iN+t}function h1(e,t){var n=this.context;ap(null!=t?n.oldChildren[t]:null,n.dataIndex,null!=e?n.newChildren[e]:null,n.animatableModel,n.group,n.data)}function iT(e){var t=this.context,n=t.oldChildren[e];n&&t.group.remove(n)}function f1(e,t,n,i){var o=n.type,a=new(Jr[o.charAt(0).toUpperCase()+o.slice(1)])(n);t.add(a),i.set(e,a),a.__ecGraphicId=e}function Ec(e,t){var n=e&&e.parent;n&&("group"===e.type&&e.traverse(function(i){Ec(i,t)}),t.removeKey(e.__ecGraphicId),n.remove(e))}function p1(e,t){var n;return m(t,function(i){null!=e[i]&&"auto"!==e[i]&&(n=!0)}),n}function sp(e,t,n){var i,o={},a="toggleSelected"===e;return n.eachComponent("legend",function(s){a&&null!=i?s[i?"select":"unSelect"](t.name):(s[e](t.name),i=s.isSelected(t.name)),m(s.getData(),function(l){var u=l.get("name");if("\n"!==u&&""!==u){var c=s.isSelected(u);o[u]=o.hasOwnProperty(u)?o[u]&&c:c}})}),{name:t.name,selected:o}}function g1(e,t){var n=za(t.get("padding")),i=t.getItemStyle(["color","opacity"]);return i.fill=t.get("backgroundColor"),new Ti({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1})}function m1(e,t){t.dispatchAction({type:"legendToggleSelect",name:e})}function v1(e,t,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||e.get("legendHoverLink")&&n.dispatchAction({type:"highlight",seriesName:e.name,name:t})}function y1(e,t,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||e.get("legendHoverLink")&&n.dispatchAction({type:"downplay",seriesName:e.name,name:t})}function x1(e,t,n){var i=[1,1];i[e.getOrient().index]=0,Ho(t,n,{type:"box",ignoreSize:i})}function lp(e,t){if(li.wxa)return null;var n=document.createElement("div"),i=this._zr=t.getZr();this.el=n,this._x=t.getWidth()/2,this._y=t.getHeight()/2,e.appendChild(n),this._container=e,this._show=!1;var o=this;n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(a){if(a=a||window.event,!o._enterable){var s=i.handler;ee(e,a,!0),s.dispatch("mousemove",a)}},n.onmouseleave=function(){o._enterable&&o._show&&o.hideLater(o._hideDelay),o._inContent=!1}}function up(e){for(var t=e.pop();e.length;){var n=e.pop();n&&(vi.isInstance(n)&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),t=new vi(n,t,t.ecModel))}return t}function b1(e,t){return e.dispatchAction||re(t.dispatchAction,t)}function _1(e){var t=e.clientWidth,n=e.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(e);i&&(t+=parseInt(i.paddingLeft,10)+parseInt(i.paddingRight,10)+parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10),n+=parseInt(i.paddingTop,10)+parseInt(i.paddingBottom,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10))}return{width:t,height:n}}function w1(e){return"center"===e||"middle"===e}function C1(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function cp(e){return e.dim}function Rc(e,t){Ki.call(this,"radius",e,t),this.type="category"}function Bc(e,t){Ki.call(this,"angle",e,t=t||[0,360]),this.type="category"}function S1(e,t){return t.type||(t.data?"category":"value")}function vT(e,t){var n=this,i=n.getAngleAxis(),o=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),e.eachSeries(function(l){if(l.coordinateSystem===n){var u=l.getData();m(u.mapDimension("radius",!0),function(c){o.scale.unionExtentFromData(u,c)}),m(u.mapDimension("angle",!0),function(c){i.scale.unionExtentFromData(u,c)})}}),Ca(i.scale,i.model),Ca(o.scale,o.model),"category"===i.type&&!i.onBand){var a=i.getExtent(),s=360/i.scale.count();i.inverse?a[1]+=s:a[1]-=s,i.setExtent(a[0],a[1])}}function M1(e,t){if(e.type=t.get("type"),e.scale=Is(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),"angleAxis"===t.mainType){e.inverse^=t.get("clockwise");var n=t.get("startAngle");e.setExtent(n,n+(e.inverse?-360:360))}t.axis=e,e.model=t}function T1(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var i=e.coordToPoint([t[0],n]),o=e.coordToPoint([t[1],n]);return{x1:i[0],y1:i[1],x2:o[0],y2:o[1]}}function dp(e){return e.getRadiusAxis().inverse?0:1}function hp(e,t){t.update="updateView",yi(t,function(n,i){var o={};return i.eachComponent({mainType:"geo",query:n},function(a){a[e](n.name),m(a.coordinateSystem.regions,function(s){o[s.name]=a.isSelected(s.name)||!1})}),{selected:o,name:n.name}})}function k1(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function fp(e,t,n){var o={};return J_(t,function(a){var s=o[a]=function(){var a=function(){};return a.prototype.__hidden=a.prototype,new a}();J_(e[a],function(l,u){if(wi.isValidType(u)){var c={type:u,visual:l};n&&n(c,a),s[u]=new wi(c),"opacity"===u&&((c=Bt(c)).type="colorAlpha",s.__hidden.__alphaForOpacity=new wi(c))}})}),o}function A1(e,t,n){var i;m(n,function(o){t.hasOwnProperty(o)&&k1(t[o])&&(i=!0)}),i&&m(n,function(o){t.hasOwnProperty(o)&&k1(t[o])?e[o]=Bt(t[o]):delete e[o]})}function I1(e){var t=["x","y"],n=["width","height"];return{point:function(i,o,a){if(i)return Jl(i[e],a.range)},rect:function(i,o,a){if(i){var s=a.range,l=[i[t[e]],i[t[e]]+i[n[e]]];return l[1]<l[0]&&l.reverse(),Jl(l[0],s)||Jl(l[1],s)||Jl(s[0],l)||Jl(s[1],l)}}}}function Jl(e,t){return t[0]<=e&&e<=t[1]}function Oc(e,t,n,i,o){for(var a=0,s=o[o.length-1];a<o.length;a++){var l=o[a];if(CT(e,t,n,i,l[0],l[1],s[0],s[1]))return!0;s=l}}function CT(e,t,n,i,o,a,s,l){var u=pp(n-e,o-s,i-t,a-l);if(function(e){return e<=1e-6&&e>=-1e-6}(u))return!1;var c=pp(o-e,o-s,a-t,a-l)/u;if(c<0||c>1)return!1;var d=pp(n-e,o-e,i-t,a-t)/u;return!(d<0||d>1)}function pp(e,t,n,i){return e*i-t*n}function zc(e,t,n){var i=this._targetInfoList=[],o={},a=D1(t,e);ca(xN,function(s,l){(!n||!n.include||uh(n.include,l)>=0)&&s(a,i,o)})}function gp(e){return e[0]>e[1]&&e.reverse(),e}function D1(e,t){return ae(e,t,{includeMainTypes:yN})}function N1(e,t,n,i){var o=n.getAxis(["x","y"][e]),a=gp(y([0,1],function(l){return t?o.coordToData(o.toLocalCoord(i[l])):o.toGlobalCoord(o.dataToCoord(i[l]))})),s=[];return s[e]=a,s[1-e]=[NaN,NaN],{values:a,xyMinMax:s}}function P1(e,t,n,i){return[t[0]-i[e]*n[0],t[1]-i[e]*n[1]]}function L1(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}function kT(e,t){if(!e.isDisposed()){var n=e.getZr();n[um]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[um]=!1}}function E1(e,t,n,i){for(var o=0,a=t.length;o<a;o++){var s=t[o];if(e[s.brushType](i,n,s.selectors,s))return!0}}function R1(e){var t=e.brushSelector;if(pe(t)){var n=[];return m(om,function(o,a){n[a]=function(s,l,u,c){var d=l.getItemLayout(s);return o[t](d,u,c)}}),n}if(fe(t)){var i={};return m(om,function(o,a){i[a]=t}),i}return t}function B1(e){return new Qn(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}function O1(e,t){return he({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new vi(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}function z1(e,t,n,i){(!i||i.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(n)).enableBrush(e.brushOption).updateCovers(e.areas.slice())}function Fs(e,t){rw[e]=t}function F1(e){return rw[e]}function mp(e,t,n){this.model=e,this.ecModel=t,this.api=n}function ko(e,t,n){this._model=e}function H1(e,t,n,i){var o=n.calendarModel,a=n.seriesModel,s=o?o.coordinateSystem:a?a.coordinateSystem:null;return s===this?s[e](i):null}function V1(e,t){var n=e.cellSize;$(n)?1===n.length&&(n[1]=n[0]):n=e.cellSize=[n,n];var i=y([0,1],function(o){return function(e,t){return null!=e[Fa[t][0]]||null!=e[Fa[t][1]]&&null!=e[Fa[t][2]]}(t,o)&&(n[o]="auto"),null!=n[o]&&"auto"!==n[o]});Ho(e,t,{type:"box",ignoreSize:i})}function W1(e,t){var n=e.getAxisModel(),i=e._percentWindow,o=e._valueWindow;if(i){var a=kh(o,[0,500]);a=Math.min(a,20);var s=t||0===i[0]&&100===i[1];n.setRange(s?null:+o[0].toFixed(a),s?null:+o[1].toFixed(a))}}function G1(e){var t={};return pl(["start","end","startValue","endValue","throttle"],function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function U1(e,t){var n=e._rangePropMode,i=e.get("rangeMode");pl([["start","startValue"],["end","endValue"]],function(o,a){var s=null!=t[o[0]],l=null!=t[o[1]];s&&!l?n[a]="percent":!s&&l?n[a]="value":i?n[a]=i[a]:s&&(n[a]="percent")})}function j1(e){return"vertical"===e?"ns-resize":"ew-resize"}function BT(e,t){var n=Z1(e),i=t.dataZoomId,o=t.coordId;m(n,function(l,u){var c=l.dataZoomInfos;c[i]&&A(t.allCoordIds,o)<0&&(delete c[i],l.count--)}),Y1(n);var a=n[o];a||((a=n[o]={coordId:o,dataZoomInfos:{},count:0}).controller=function(e,t){var n=new Ul(e.getZr());return n.on("pan",lw(HT,t)),n.on("zoom",lw(VT,t)),n}(e,a),a.dispatchAction=Q(WT,e)),!a.dataZoomInfos[i]&&a.count++,a.dataZoomInfos[i]=t;var s=function(e){var t,n={},i={type_true:2,type_move:1,type_false:0,type_undefined:-1};return m(e,function(o){var a=!o.disabled&&(!o.zoomLock||"move");i["type_"+a]>i["type_"+t]&&(t=a),J(n,o.roamControllerOpt)}),{controlType:t,opt:n}}(a.dataZoomInfos);a.controller.enable(s.controlType,s.opt),a.controller.setPointerChecker(t.containsPoint),El(a,"dispatchAction",t.throttleRate,"fixRate")}function OT(e,t){var n=Z1(e);m(n,function(i){i.controller.dispose();var o=i.dataZoomInfos;o[t]&&(delete o[t],i.count--)}),Y1(n)}function zT(e,t){if(e&&"dataZoom"===e.type&&e.batch)for(var n=0,i=e.batch.length;n<i;n++)if(e.batch[n].dataZoomId===t)return!1;return!0}function q1(e){return e.type+"\0_"+e.id}function Z1(e){var t=e.getZr();return t[uw]||(t[uw]={})}function Y1(e){m(e,function(t,n){t.count||(t.controller.dispose(),delete e[n])})}function HT(e,t,n,i,o,a,s){X1(e,function(l){return l.panGetRange(e.controller,t,n,i,o,a,s)})}function VT(e,t,n,i){X1(e,function(o){return o.zoomGetRange(e.controller,t,n,i)})}function X1(e,t){var n=[];m(e.dataZoomInfos,function(i){var o=t(i);!i.disabled&&o&&n.push({dataZoomId:i.dataZoomId,start:o[0],end:o[1]})}),e.dispatchAction(n)}function WT(e,t){e.dispatchAction({type:"dataZoom",batch:t})}function Hs(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}function UT(e,t,n,i){for(var o=t.targetVisuals[i],a=wi.prepareVisualTypes(o),s={color:e.getData().getVisual("color")},l=0,u=a.length;l<u;l++){var c=a[l],d=o["opacity"===c?"__alphaForOpacity":c];d&&d.applyVisual(n,function(h){return s[h]},function(h,f){s[h]=f})}return s.color}function $1(e,t,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,o=n[0],a=[],s=0;s<=200&&o<n[1];s++)a.push(o),o+=i;return a.push(n[1]),a}function K1(e,t,n){var i=e.option,o=i.align;if(null!=o&&"auto"!==o)return o;for(var a={width:t.getWidth(),height:t.getHeight()},s="horizontal"===i.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],u=l[s],c=[0,null,10],d={},h=0;h<3;h++)d[l[1-s][h]]=c[h],d[u[h]]=2===h?n[0]:i[u[h]];var f=[["x","width",3],["y","height",0]][s],p=Qi(d,a,i.padding);return u[(p.margin[f[2]]||0)+p[f[0]]+.5*p[f[1]]<.5*a[f[1]]?0:1]}function Fc(e){return m(e||[],function(t){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null)}),e}function Hc(e,t,n,i){return new qr({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(o){qo(o.event)},ondragend:i})}function J1(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function Q1(e){return"vertical"===e?"ns-resize":"ew-resize"}function ex(e,t){var n=e.inverse;("vertical"===e.orient?!n:n)&&t.reverse()}function Vc(e){te(e,"label",["show"])}function vp(e,t,n,i,o,a){var s=[],l=yp(t,i,e),u=t.indicesOfNearest(i,l,!0)[0];s[o]=t.get(n,u,!0),s[a]=t.get(i,u,!0);var c=function(e,t,n){var i=-1;do{i=Math.max(jm(e.get(t,n)),i),e=e.stackedOn}while(e);return i}(t,i,u);return(c=Math.min(c,20))>=0&&(s[a]=+s[a].toFixed(c)),s}function Ql(e,t){var n=e.getData(),i=e.coordinateSystem;if(t&&!function(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}(t)&&!$(t.coord)&&i){var o=i.dimensions,a=tx(t,n,i,e);if((t=Bt(t)).type&&_m[t.type]&&a.baseAxis&&a.valueAxis){var s=ww(o,a.baseAxis.dim),l=ww(o,a.valueAxis.dim);t.coord=_m[t.type](n,a.baseDataDim,a.valueDataDim,s,l),t.value=t.coord[l]}else{for(var u=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],c=0;c<2;c++)_m[u[c]]&&(u[c]=yp(n,n.mapDimension(o[c]),u[c]));t.coord=u}}return t}function tx(e,t,n,i){var o={};return null!=e.valueIndex||null!=e.valueDim?(o.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,o.valueAxis=n.getAxis(function(e,t){var n=e.getData(),i=n.dimensions;t=n.getDimension(t);for(var o=0;o<i.length;o++){var a=n.getDimensionInfo(i[o]);if(a.name===t)return a.coordDim}}(i,o.valueDataDim)),o.baseAxis=n.getOtherAxis(o.valueAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim)):(o.baseAxis=i.getBaseAxis(),o.valueAxis=n.getOtherAxis(o.baseAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim),o.valueDataDim=t.mapDimension(o.valueAxis.dim)),o}function eu(e,t){return!(e&&e.containData&&t.coord&&!function(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}(t))||e.containData(t.coord)}function nx(e,t,n,i){return i<2?e.coord&&e.coord[i]:e.value}function yp(e,t,n){if("average"===n){var i=0,o=0;return e.each(t,function(a,s){isNaN(a)||(i+=a,o++)},!0),i/o}return e.getDataExtent(t,!0)["max"===n?1:0]}function ix(e,t,n){var i=t.coordinateSystem;e.each(function(o){var a,s=e.getItemModel(o),l=wn(s.get("x"),n.getWidth()),u=wn(s.get("y"),n.getHeight());if(isNaN(l)||isNaN(u)){if(t.getMarkerPosition)a=t.getMarkerPosition(e.getValues(e.dimensions,o));else if(i){var c=e.get(i.dimensions[0],o),d=e.get(i.dimensions[1],o);a=i.dataToPoint([c,d])}}else a=[l,u];isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u),e.setItemLayout(o,a)})}function Wc(e){return!isNaN(e)&&!isFinite(e)}function rx(e,t,n,i){var o=1-e,a=i.dimensions[e];return Wc(t[o])&&Wc(n[o])&&t[e]===n[e]&&i.getAxis(a).containData(t[e])}function QT(e,t){if("cartesian2d"===e.type){var n=t[0].coord,i=t[1].coord;if(n&&i&&(rx(1,n,i,e)||rx(0,n,i,e)))return!0}return eu(e,t[0])&&eu(e,t[1])}function xp(e,t,n,i,o){var a,s=i.coordinateSystem,l=e.getItemModel(t),u=wn(l.get("x"),o.getWidth()),c=wn(l.get("y"),o.getHeight());if(isNaN(u)||isNaN(c)){if(i.getMarkerPosition)a=i.getMarkerPosition(e.getValues(e.dimensions,t));else{var h=e.get((d=s.dimensions)[0],t),f=e.get(d[1],t);a=s.dataToPoint([h,f])}if("cartesian2d"===s.type){var d,p=s.getAxis("x"),D=s.getAxis("y");Wc(e.get((d=s.dimensions)[0],t))?a[0]=p.toGlobalCoord(p.getExtent()[n?0:1]):Wc(e.get(d[1],t))&&(a[1]=D.toGlobalCoord(D.getExtent()[n?0:1]))}isNaN(u)||(a[0]=u),isNaN(c)||(a[1]=c)}else a=[u,c];e.setItemLayout(t,a)}function Gc(e){return!isNaN(e)&&!isFinite(e)}function ox(e,t,n,i){var o=1-e;return Gc(t[o])&&Gc(n[o])}function tk(e,t){var n=t.coord[0],i=t.coord[1];return!("cartesian2d"!==e.type||!n||!i||!ox(1,n,i)&&!ox(0,n,i))||eu(e,{coord:n,x:t.x0,y:t.y0})||eu(e,{coord:i,x:t.x1,y:t.y1})}function ax(e,t,n,i,o){var a,s=i.coordinateSystem,l=e.getItemModel(t),u=wn(l.get(n[0]),o.getWidth()),c=wn(l.get(n[1]),o.getHeight());if(isNaN(u)||isNaN(c)){if(i.getMarkerPosition)a=i.getMarkerPosition(e.getValues(n,t));else{var d=[p=e.get(n[0],t),D=e.get(n[1],t)];s.clampData&&s.clampData(d,d),a=s.dataToPoint(d,!0)}if("cartesian2d"===s.type){var h=s.getAxis("x"),f=s.getAxis("y"),p=e.get(n[0],t),D=e.get(n[1],t);Gc(p)?a[0]=h.toGlobalCoord(h.getExtent()["x0"===n[0]?0:1]):Gc(D)&&(a[1]=f.toGlobalCoord(f.getExtent()["y0"===n[1]?0:1]))}isNaN(u)||(a[0]=u),isNaN(c)||(a[1]=c)}else a=[u,c];return a}function sx(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),i=e.label||e.label||{},o=i.normal||(i.normal={}),a={normal:1,emphasis:1};m(i,function(s,l){a[l]||Ia(o,l)||(o[l]=s)}),n.label&&!Ia(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function Ia(e,t){return e.hasOwnProperty(t)}function lx(e,t,n,i,o,a){var s=t.get("color");o?(o.setColor(s),n.add(o),a&&a.onUpdate(o)):((o=Dr(e.get("symbol"),-1,-1,2,2,s)).setStyle("strokeNoScale",!0),n.add(o),a&&a.onCreate(o));var l=t.getItemStyle(["color","symbol","symbolSize"]);o.setStyle(l),i=he({rectHover:!0,z2:100},i,!0);var u=e.get("symbolSize");(u=u instanceof Array?u.slice():[+u,+u])[0]/=2,u[1]/=2,i.scale=u;var c=e.get("symbolOffset");if(c){var d=i.position=i.position||[0,0];d[0]+=wn(c[0],u[0]),d[1]+=wn(c[1],u[1])}var h=e.get("symbolRotate");return i.rotation=(h||0)*Math.PI/180||0,o.attr(i),o.updateTransform(),o}function ux(e,t,n,i,o){if(!e.dragging){var a=i.getModel("checkpointStyle"),s=n.dataToCoord(i.getData().get(["value"],t));o||!a.get("animation",!0)?e.attr({position:[s,0]}):(e.stopAnimation(!0),e.animateTo({position:[s,0]},a.get("animationDuration",!0),a.get("animationEasing",!0)))}}function Uc(e){this.model=e}function bp(e){this.model=e}function lk(e){var t=[];return m(e,function(n,i){var o=n.categoryAxis,a=n.valueAxis.dim,s=[" "].concat(y(n.series,function(f){return f.name})),l=[o.model.getCategories()];m(n.series,function(f){l.push(f.getRawData().mapArray(a,function(p){return p}))});for(var u=[s.join(ns)],c=0;c<l[0].length;c++){for(var d=[],h=0;h<l.length;h++)d.push(l[h][c]);u.push(d.join(ns))}t.push(u.join("\n"))}),t.join("\n\n"+vh+"\n\n")}function uk(e){return y(e,function(t){var n=t.getRawData(),i=[t.name],o=[];return n.each(n.dimensions,function(){for(var a=arguments.length,s=arguments[a-1],l=n.getName(s),u=0;u<a-1;u++)o[u]=arguments[u];i.push((l?l+ns:"")+o.join(ns))}),i.join("\n")}).join("\n\n"+vh+"\n\n")}function jc(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function tu(e){this._dom=null,this.model=e}function gk(e,t){return y(e,function(n,i){var o=t&&t[i];return Ce(o)&&!$(o)?(Ce(n)&&!$(n)&&(n=n.value),ne({value:n},o)):n})}function _p(e){var t=e[Tm];return t||(t=e[Tm]=[{}]),t}function wp(e,t,n){(this._brushController=new Rs(n.getZr())).on("brush",re(this._onBrush,this)).mount()}function cx(e){var t={};return m(["xAxisIndex","yAxisIndex"],function(n){t[n]=e[n],null==t[n]&&(t[n]="all"),(!1===t[n]||"none"===t[n])&&(t[n]=[])}),t}function Cp(e){this.model=e}function Sp(e){return km(e)}function Vs(e){return parseInt(e,10)}function qc(e,t){(function(){if(!Lw&&Rr){Lw=!0;var e=Rr.styleSheets;e.length<31?Rr.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):e[0].addRule(".zrvml","behavior:url(#default#VML)")}})(),this.root=e,this.storage=t;var n=document.createElement("div"),i=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",i.style.cssText="position:absolute;left:0;top:0;",e.appendChild(n),this._vmlRoot=i,this._vmlViewport=n,this.resize();var o=t.delFromStorage,a=t.addToStorage;t.delFromStorage=function(s){o.call(t,s),s&&s.onRemove&&s.onRemove(i)},t.addToStorage=function(s){s.onAdd&&s.onAdd(i),a.call(t,s)},this._firstPaint=!0}function Da(e){return document.createElementNS(iP,e)}function Kr(e){return Bm(1e4*e)/1e4}function Mp(e){return e<Ww&&e>-Ww}function Tp(e,t){t&&ki(e,"transform","matrix("+rP.call(t,",")+")")}function ki(e,t,n){(!n||"linear"!==n.type&&"radial"!==n.type)&&e.setAttribute(t,n)}function dx(e,t,n){if(function(e,t){var n=t?e.textFill:e.fill;return null!=n&&n!==as}(t,n)){var i=n?t.textFill:t.fill;i="transparent"===i?as:i,"none"!==e.getAttribute("clip-path")&&i===as&&(i="rgba(0, 0, 0, 0.002)"),ki(e,"fill",i),ki(e,"fill-opacity",t.opacity)}else ki(e,"fill",as);if(function(e,t){var n=t?e.textStroke:e.stroke;return null!=n&&n!==as}(t,n)){var o=n?t.textStroke:t.stroke;ki(e,"stroke",o="transparent"===o?as:o),ki(e,"stroke-width",(n?t.textStrokeWidth:t.lineWidth)/(!n&&t.strokeNoScale?t.host.getLineScale():1)),ki(e,"paint-order",n?"stroke":"fill"),ki(e,"stroke-opacity",t.opacity),t.lineDash?(ki(e,"stroke-dasharray",t.lineDash.join(",")),ki(e,"stroke-dashoffset",Bm(t.lineDashOffset||0))):ki(e,"stroke-dasharray",""),t.lineCap&&ki(e,"stroke-linecap",t.lineCap),t.lineJoin&&ki(e,"stroke-linejoin",t.lineJoin),t.miterLimit&&ki(e,"stroke-miterlimit",t.miterLimit)}else ki(e,"stroke",as)}function hx(e){return"middle"===e?"middle":"bottom"===e?"baseline":"hanging"}function fx(){}function Ak(e,t,n,i){for(var o=0,a=t.length,s=0,l=0;o<a;o++){var u=t[o];if(u.removed){for(var c=[],d=l;d<l+u.count;d++)c.push(d);u.indices=c,l+=u.count}else{for(c=[],d=s;d<s+u.count;d++)c.push(d);u.indices=c,s+=u.count,u.added||(l+=u.count)}}return t}function Ik(e){return{newPos:e.newPos,components:e.components.slice(0)}}function Li(e,t,n,i,o){this._zrId=e,this._svgRoot=t,this._tagNames="string"==typeof n?[n]:n,this._markLabel=i,this._domName=o||"_dom",this.nextId=0}function Na(e,t){Li.call(this,e,t,["linearGradient","radialGradient"],"__gradient_in_use__")}function nu(e,t){Li.call(this,e,t,"clipPath","__clippath_in_use__")}function Go(e,t){Li.call(this,e,t,["filter"],"__filter_in_use__","_shadowDom")}function px(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY||e.textShadowBlur||e.textShadowOffsetX||e.textShadowOffsetY)}function Zc(e){return parseInt(e,10)}function Dk(e){return e instanceof an?Ou:e instanceof tr?zm:e instanceof ui?bh:Ou}function gx(e,t){return t&&e&&t.parentNode!==e}function Yc(e,t,n){if(gx(e,t)&&n){var i=n.nextSibling;i?e.insertBefore(t,i):e.appendChild(t)}}function mx(e,t){if(gx(e,t)){var n=e.firstChild;n?e.insertBefore(t,n):e.appendChild(t)}}function vx(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)}function Xc(e){return e.__textSvgEl}function $c(e){return e.__svgEl}var e,n,i,o,a,s,Pk=2311,yx=function(){return Pk++},li="undefined"!=typeof wx?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0}:(n={},i=(e=navigator.userAgent).match(/Firefox\/([\d.]+)/),o=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),a=e.match(/Edge\/([\d.]+)/),s=/micromessenger/i.test(e),i&&(n.firefox=!0,n.version=i[1]),o&&(n.ie=!0,n.version=o[1]),a&&(n.edge=!0,n.version=a[1]),s&&(n.weChat=!0),{browser:n,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=11)}),xx={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},bx={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},iu=Object.prototype.toString,ru=Array.prototype,Ek=ru.forEach,Rk=ru.filter,ou=ru.slice,Bk=ru.map,Ok=ru.reduce,kp={},Ws=function(){return kp.createCanvas()};kp.createCanvas=function(){return document.createElement("canvas")};var Kc,_x="__ec_primitive__";Ht.prototype={constructor:Ht,get:function(e){return this.hasOwnProperty(e)?this[e]:null},set:function(e,t){return this[e]=t},each:function(e,t){for(var n in void 0!==t&&(e=re(e,t)),this)this.hasOwnProperty(n)&&e(this[n],n)},removeKey:function(e){delete this[e]}};var zk=(Object.freeze||Object)({$override:ht,clone:Bt,merge:he,mergeAll:ke,extend:J,defaults:ne,createCanvas:Ws,getContext:V,indexOf:A,inherits:k,mixin:M,isArrayLike:H,each:m,map:y,reduce:P,filter:Z,find:function(e,t,n){if(e&&t)for(var i=0,o=e.length;i<o;i++)if(t.call(n,e[i],i,e))return e[i]},bind:re,curry:Q,isArray:$,isFunction:fe,isString:pe,isObject:Ce,isBuiltInObject:ue,isTypedArray:Te,isDom:se,eqNaN:ve,retrieve:_e,retrieve2:Me,retrieve3:Ne,slice:Se,normalizeCssArray:Le,assert:Ue,trim:Qe,setAsPrimitive:Tt,isPrimitive:_t,createHashMap:tt,concatArray:kt,noop:It}),Cx="undefined"==typeof Float32Array?Array:Float32Array,Pa=ai,Uo=Jn,Vk=(Object.freeze||Object)({create:nn,copy:ct,clone:Lt,set:ln,add:Dt,scaleAndAdd:dn,sub:Nt,len:hn,length:hn,lenSquare:qn,lengthSquare:qn,mul:function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},div:function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]},scale:Wn,normalize:kn,distance:ai,dist:Pa,distanceSquare:Jn,distSquare:Uo,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e},lerp:xi,applyTransform:Rt,min:bt,max:rn});un.prototype={constructor:un,_dragStart:function(e){var t=e.target;t&&t.draggable&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(Ft(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,o=n-this._x,a=i-this._y;this._x=n,this._y=i,t.drift(o,a,e),this.dispatchToElement(Ft(t,e),"drag",e.event);var s=this.findHover(n,i,t).target,l=this._dropTarget;this._dropTarget=s,t!==s&&(l&&s!==l&&this.dispatchToElement(Ft(l,e),"dragleave",e.event),s&&s!==l&&this.dispatchToElement(Ft(s,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(Ft(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(Ft(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};var Sx=Array.prototype.slice,nr=function(){this._$handlers={}};nr.prototype={constructor:nr,one:function(e,t,n){var i=this._$handlers;if(!t||!e)return this;i[e]||(i[e]=[]);for(var o=0;o<i[e].length;o++)if(i[e][o].h===t)return this;return i[e].push({h:t,one:!0,ctx:n||this}),this},on:function(e,t,n){var i=this._$handlers;if(!t||!e)return this;i[e]||(i[e]=[]);for(var o=0;o<i[e].length;o++)if(i[e][o].h===t)return this;return i[e].push({h:t,one:!1,ctx:n||this}),this},isSilent:function(e){var t=this._$handlers;return t[e]&&t[e].length},off:function(e,t){var n=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],o=0,a=n[e].length;o<a;o++)n[e][o].h!=t&&i.push(n[e][o]);n[e]=i}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},trigger:function(e){if(this._$handlers[e]){var t=arguments,n=t.length;n>3&&(t=Sx.call(t,1));for(var i=this._$handlers[e],o=i.length,a=0;a<o;){switch(n){case 1:i[a].h.call(i[a].ctx);break;case 2:i[a].h.call(i[a].ctx,t[1]);break;case 3:i[a].h.call(i[a].ctx,t[1],t[2]);break;default:i[a].h.apply(i[a].ctx,t)}i[a].one?(i.splice(a,1),o--):a++}}return this},triggerWithContext:function(e){if(this._$handlers[e]){var t=arguments,n=t.length;n>4&&(t=Sx.call(t,1,t.length-1));for(var i=t[t.length-1],o=this._$handlers[e],a=o.length,s=0;s<a;){switch(n){case 1:o[s].h.call(i);break;case 2:o[s].h.call(i,t[1]);break;case 3:o[s].h.call(i,t[1],t[2]);break;default:o[s].h.apply(i,t)}o[s].one?(o.splice(s,1),a--):s++}}return this}};var Mx="silent";An.prototype.dispose=function(){};var Wk=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Gs=function(e,t,n,i){nr.call(this),this.storage=e,this.painter=t,this.painterRoot=i,n=n||new An,this.proxy=null,this._hovered={},un.call(this),this.setHandlerProxy(n)};Gs.prototype={constructor:Gs,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(m(Wk,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,n=e.zrY,i=this._hovered,o=i.target;o&&!o.__zr&&(o=(i=this.findHover(i.x,i.y)).target);var a=this._hovered=this.findHover(t,n),s=a.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),o&&s!==o&&this.dispatchToElement(i,"mouseout",e),this.dispatchToElement(a,"mousemove",e),s&&s!==o&&this.dispatchToElement(a,"mouseover",e)},mouseout:function(e){this.dispatchToElement(this._hovered,"mouseout",e);var t,n=e.toElement||e.relatedTarget;do{n=n&&n.parentNode}while(n&&9!=n.nodeType&&!(t=n===this.painterRoot));!t&&this.trigger("globalout",{event:e})},resize:function(e){this._hovered={}},dispatch:function(e,t){var n=this[e];n&&n.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,n){var i=(e=e||{}).target;if(!i||!i.silent){for(var o="on"+t,a=function(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which}}(t,e,n);i&&(i[o]&&(a.cancelBubble=i[o].call(i,a)),i.trigger(t,a),i=i.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(t,a),this.painter&&this.painter.eachOtherLayer(function(s){"function"==typeof s[o]&&s[o].call(s,a),s.trigger&&s.trigger(t,a)}))}},findHover:function(e,t,n){for(var i=this.storage.getDisplayList(),o={x:e,y:t},a=i.length-1;a>=0;a--){var s;if(i[a]!==n&&!i[a].ignore&&(s=Gn(i[a],e,t))&&(!o.topTarget&&(o.topTarget=i[a]),s!==Mx)){o.target=i[a];break}}return o}},m(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Gs.prototype[e]=function(t){var n=this.findHover(t.zrX,t.zrY),i=n.target;if("mousedown"===e)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===e)this._upEl=i;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||Pa(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,e,t)}}),M(Gs,nr),M(Gs,un);var Gk="undefined"==typeof Float32Array?Array:Float32Array,Uk=(Object.freeze||Object)({create:Un,identity:En,copy:Pt,mul:Ut,translate:tn,rotate:yn,scale:cn,invert:$t,clone:_n}),Ap=En,Tx=5e-5,oo=function(e){(e=e||{}).position||(this.position=[0,0]),null==e.rotation&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},ao=oo.prototype;ao.transform=null,ao.needLocalTransform=function(){return Mn(this.rotation)||Mn(this.position[0])||Mn(this.position[1])||Mn(this.scale[0]-1)||Mn(this.scale[1]-1)},ao.updateTransform=function(){var e=this.parent,t=e&&e.transform,n=this.needLocalTransform(),i=this.transform;n||t?(i=i||Un(),n?this.getLocalTransform(i):Ap(i),t&&(n?Ut(i,e.transform,i):Pt(i,e.transform)),this.transform=i,this.invTransform=this.invTransform||Un(),$t(this.invTransform,i)):i&&Ap(i)},ao.getLocalTransform=function(e){return oo.getLocalTransform(this,e)},ao.setTransform=function(e){var t=this.transform,n=e.dpr||1;t?e.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):e.setTransform(n,0,0,n,0,0)},ao.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var kx=[];ao.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(Ut(kx,e.invTransform,t),t=kx);var n=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],o=this.position,a=this.scale;Mn(n-1)&&(n=Math.sqrt(n)),Mn(i-1)&&(i=Math.sqrt(i)),t[0]<0&&(n=-n),t[3]<0&&(i=-i),o[0]=t[4],o[1]=t[5],a[0]=n,a[1]=i,this.rotation=Math.atan2(-t[1]/i,t[0]/n)}},ao.getGlobalScale=function(){var e=this.transform;if(!e)return[1,1];var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]),n=Math.sqrt(e[2]*e[2]+e[3]*e[3]);return e[0]<0&&(t=-t),e[3]<0&&(n=-n),[t,n]},ao.transformCoordToLocal=function(e,t){var n=[e,t],i=this.invTransform;return i&&Rt(n,n,i),n},ao.transformCoordToGlobal=function(e,t){var n=[e,t],i=this.transform;return i&&Rt(n,n,i),n},oo.getLocalTransform=function(e,t){Ap(t=t||[]);var n=e.origin,i=e.scale||[1,1],o=e.rotation||0,a=e.position||[0,0];return n&&(t[4]-=n[0],t[5]-=n[1]),cn(t,t,i),o&&yn(t,t,o),n&&(t[4]+=n[0],t[5]+=n[1]),t[4]+=a[0],t[5]+=a[1],t};var Jc={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},elasticOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-Jc.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*Jc.bounceIn(2*e):.5*Jc.bounceOut(2*e-1)+.5}};Rn.prototype={constructor:Rn,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused)this._pausedTime+=t;else{var n=(e-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var i=this.easing,o="string"==typeof i?Jc[i]:i,a="function"==typeof o?o(n):n;return this.fire("frame",a),1==n?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(e){this._startTime=e-(e-this._startTime-this._pausedTime)%this._life+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){this[e="on"+e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var Ax=function(){this.head=null,this.tail=null,this._len=0},au=Ax.prototype;au.insert=function(e){var t=new Ix(e);return this.insertEntry(t),t},au.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},au.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},au.len=function(){return this._len},au.clear=function(){this.head=this.tail=null,this._len=0};var Ix=function(e){this.value=e},Ip=function(e){this._list=new Ax,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},Dp=Ip.prototype;Dp.put=function(e,t){var n=this._list,i=this._map,o=null;if(null==i[e]){var a=n.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=n.head;n.remove(l),delete i[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=t:s=new Ix(t),s.key=e,n.insertEntry(s),i[e]=s}return o},Dp.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},Dp.clear=function(){this._list.clear(),this._map={}};var Dx={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},Nx=new Ip(20),Qc=null,Zk=(Object.freeze||Object)({parse:Fi,lift:wo,toHex:At,fastLerp:Wt,fastMapToColor:Wt,lerp:mn,mapToColor:mn,modifyHSL:on,modifyAlpha:Sn,stringify:Bn}),Np=Array.prototype.slice,Pp=function(e,t,n,i){this._tracks={},this._target=e,this._loop=t||!1,this._getter=n||Yn,this._setter=i||Zn,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Pp.prototype={when:function(e,t){var n=this._tracks;for(var i in t)if(t.hasOwnProperty(i)){if(!n[i]){n[i]=[];var o=this._getter(this._target,i);if(null==o)continue;0!==e&&n[i].push({time:0,value:gr(o)})}n[i].push({time:e,value:t[i]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,n=0;n<t;n++)e[n].call(this)},start:function(e,t){var n,i=this,o=0;for(var a in this._tracks)if(this._tracks.hasOwnProperty(a)){var s=Ar(this,e,function(){--o||i._doneCallback()},this._tracks[a],a,t);s&&(this._clipList.push(s),o++,this.animation&&this.animation.addClip(s),n=s)}if(n){var l=n.onframe;n.onframe=function(u,c){l(u,c);for(var d=0;d<i._onframeList.length;d++)i._onframeList[d](u,c)}}return o||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,n=this.animation,i=0;i<t.length;i++){var o=t[i];e&&o.onframe(this._target,1),n&&n.removeClip(o)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var Px=1;"undefined"!=typeof window&&(Px=Math.max(window.devicePixelRatio||1,1));var ed=Px,td=function(){this.animators=[]};td.prototype={constructor:td,animate:function(e,t){var n,i=!1,o=this,a=this.__zr;if(e){var s=e.split("."),l=o;i="shape"===s[0];for(var u=0,c=s.length;u<c;u++)l&&(l=l[s[u]]);l&&(n=l)}else n=o;if(n){var d=o.animators,h=new Pp(n,t);return h.during(function(f){o.dirty(i)}).done(function(){d.splice(A(d,h),1)}),d.push(h),a&&a.animation.addAnimator(h),h}},stopAnimation:function(e){for(var t=this.animators,n=t.length,i=0;i<n;i++)t[i].stop(e);return t.length=0,this},animateTo:function(e,t,n,i,o,a){pe(n)?(o=i,i=n,n=0):fe(i)?(o=i,i="linear",n=0):fe(n)?(o=n,n=0):fe(t)?(o=t,t=500):t||(t=500),this.stopAnimation(),this._animateToShallow("",this,e,t,n);var s=this.animators.slice(),l=s.length;l||o&&o();for(var u=0;u<s.length;u++)s[u].done(function(){--l||o&&o()}).start(i,a)},_animateToShallow:function(e,t,n,i,o){var a={},s=0;for(var l in n)if(n.hasOwnProperty(l))if(null!=t[l])Ce(n[l])&&!H(n[l])?this._animateToShallow(e?e+"."+l:l,t[l],n[l],i,o):(a[l]=n[l],s++);else if(null!=n[l])if(e){var u={};u[e]={},u[e][l]=n[l],this.attr(u)}else this.attr(l,n[l]);return s>0&&this.animate(e,!1).when(null==i?500:i,a).delay(o||0),this}};var Ao=function(e){oo.call(this,e),nr.call(this,e),td.call(this,e),this.id=e.id||yx()};Ao.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=e,n[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if("position"===e||"scale"===e||"origin"===e){if(t){var n=this[e];n||(n=this[e]=[]),n[0]=t[0],n[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(Ce(e))for(var n in e)e.hasOwnProperty(n)&&this.attrKV(n,e[n]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}},M(Ao,td),M(Ao,oo),M(Ao,nr);var nd=Rt,id=Math.min,rd=Math.max;Qn.prototype={constructor:Qn,union:function(e){var t=id(e.x,this.x),n=id(e.y,this.y);this.width=rd(e.x+e.width,this.x+this.width)-t,this.height=rd(e.y+e.height,this.y+this.height)-n,this.x=t,this.y=n},applyTransform:function(){var e=[],t=[],n=[],i=[];return function(o){if(o){e[0]=n[0]=this.x,e[1]=i[1]=this.y,t[0]=i[0]=this.x+this.width,t[1]=n[1]=this.y+this.height,nd(e,e,o),nd(t,t,o),nd(n,n,o),nd(i,i,o),this.x=id(e[0],t[0],n[0],i[0]),this.y=id(e[1],t[1],n[1],i[1]);var a=rd(e[0],t[0],n[0],i[0]),s=rd(e[1],t[1],n[1],i[1]);this.width=a-this.x,this.height=s-this.y}}}(),calculateTransform:function(e){var t=this,n=e.width/t.width,i=e.height/t.height,o=Un();return tn(o,o,[-t.x,-t.y]),cn(o,o,[n,i]),tn(o,o,[e.x,e.y]),o},intersect:function(e){if(!e)return!1;e instanceof Qn||(e=Qn.create(e));var t=this;return!(t.x+t.width<e.x||e.x+e.width<t.x||t.y+t.height<e.y||e.y+e.height<t.y)},contain:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},clone:function(){return new Qn(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Qn.create=function(e){return new Qn(e.x,e.y,e.width,e.height)};var Ln=function(e){for(var t in Ao.call(this,e=e||{}),e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};Ln.prototype={constructor:Ln,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,i=n.indexOf(t);i>=0&&(n.splice(i,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,n=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof Ln&&e.addChildrenToStorage(t)),n&&n.refresh()},remove:function(e){var t=this.__zr,n=this.__storage,i=this._children,o=A(i,e);return o<0||(i.splice(o,1),e.parent=null,n&&(n.delFromStorage(e),e instanceof Ln&&e.delChildrenFromStorage(n)),t&&t.refresh()),this},removeAll:function(){var e,t,n=this._children,i=this.__storage;for(t=0;t<n.length;t++)e=n[t],i&&(i.delFromStorage(e),e instanceof Ln&&e.delChildrenFromStorage(i)),e.parent=null;return n.length=0,this},eachChild:function(e,t){for(var n=this._children,i=0;i<n.length;i++)e.call(t,n[i],i);return this},traverse:function(e,t){for(var n=0;n<this._children.length;n++){var i=this._children[n];e.call(t,i),"group"===i.type&&i.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToStorage(n),n instanceof Ln&&n.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromStorage(n),n instanceof Ln&&n.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,n=new Qn(0,0,0,0),i=e||this._children,o=[],a=0;a<i.length;a++){var s=i[a];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),u=s.getLocalTransform(o);u?(n.copy(l),n.applyTransform(u),(t=t||n.clone()).union(n)):(t=t||l.clone()).union(l)}}return t||n}},k(Ln,Ao);var Lx=32,su=7,Lp=function(){this._roots=[],this._displayList=[],this._displayListLen=0};Lp.prototype={constructor:Lp,traverse:function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,i=0,o=t.length;i<o;i++)this._updateAndAddDisplayable(t[i],null,e);n.length=this._displayListLen,li.canvasSupported&&ha(n,cs)},_updateAndAddDisplayable:function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var i=e.clipPath;if(i){t=t?t.slice():[];for(var o=i,a=e;o;)o.parent=a,o.updateTransform(),t.push(o),a=o,o=o.clipPath}if(e.isGroup){for(var s=e._children,l=0;l<s.length;l++){var u=s[l];e.__dirty&&(u.__dirty=!0),this._updateAndAddDisplayable(u,t,n)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof Ln&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(null==e){for(n=0;n<this._roots.length;n++){var t=this._roots[n];t instanceof Ln&&t.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(e instanceof Array)for(var n=0,i=e.length;n<i;n++)this.delRoot(e[n]);else{var o=A(this._roots,e);o>=0&&(this.delFromStorage(e),this._roots.splice(o,1),e instanceof Ln&&e.delChildrenFromStorage(this))}},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:cs};var Xk={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},Ex=function(e,t,n){return Xk.hasOwnProperty(t)?n*=e.dpr:n},od=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],La=function(e,t){this.extendFrom(e,!1),this.host=t};La.prototype={constructor:La,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,n){for(var i=this,o=n&&n.style,a=!o,s=0;s<od.length;s++){var l=od[s],u=l[0];(a||i[u]!==o[u])&&(e[u]=Ex(e,u,i[u]||l[1]))}(a||i.fill!==o.fill)&&(e.fillStyle=i.fill),(a||i.stroke!==o.stroke)&&(e.strokeStyle=i.stroke),(a||i.opacity!==o.opacity)&&(e.globalAlpha=null==i.opacity?1:i.opacity),(a||i.blend!==o.blend)&&(e.globalCompositeOperation=i.blend||"source-over"),this.hasStroke()&&(e.lineWidth=i.lineWidth/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1))},hasFill:function(){var e=this.fill;return null!=e&&"none"!==e},hasStroke:function(){var e=this.stroke;return null!=e&&"none"!==e&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var n in e)!e.hasOwnProperty(n)||!0!==t&&(!1===t?this.hasOwnProperty(n):null==e[n])||(this[n]=e[n])},set:function(e,t){"string"==typeof e?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,n){for(var i=("radial"===t.type?bl:xl)(e,t,n),o=t.colorStops,a=0;a<o.length;a++)i.addColorStop(o[a].offset,o[a].color);return i}};for(var Ep=La.prototype,Rp=0;Rp<od.length;Rp++){var Bp=od[Rp];Bp[0]in Ep||(Ep[Bp[0]]=Bp[1])}La.getGradient=Ep.getGradient;var Op=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};Op.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};var lu=function(e,t,n){var i;n=n||ed,"string"==typeof e?i=Fu(e,t,n):Ce(e)&&(e=(i=e).id),this.id=e,this.dom=i;var o=i.style;o&&(i.onselectstart=ds,o["-webkit-user-select"]="none",o["user-select"]="none",o["-webkit-touch-callout"]="none",o["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",o.padding=0,o.margin=0,o["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};lu.prototype={constructor:lu,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=Fu("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!=e&&this.ctxBack.scale(e,e)},resize:function(e,t){var n=this.dpr,i=this.dom,o=i.style,a=this.domBack;o.width=e+"px",o.height=t+"px",i.width=e*n,i.height=t*n,a&&(a.width=e*n,a.height=t*n,1!=n&&this.ctxBack.scale(n,n))},clear:function(e){var c,t=this.dom,n=this.ctx,i=t.width,o=t.height,a=this.clearColor,s=this.motionBlur&&!e,l=this.lastFrameAlpha,u=this.dpr;if(s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(t,0,0,i/u,o/u)),n.clearRect(0,0,i,o),a&&(a.colorStops?(c=a.__canvasGradient||La.getGradient(n,a,{x:0,y:0,width:i,height:o}),a.__canvasGradient=c):a.image&&(c=Op.prototype.getCanvasPattern.call(a,n)),n.save(),n.fillStyle=c||a,n.fillRect(0,0,i,o),n.restore()),s){var d=this.domBack;n.save(),n.globalAlpha=l,n.drawImage(d,0,0,i,o),n.restore()}}};var zp="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},Fp=new Ip(50),ad={},Hp=0,$k=5e3,Vp=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,uu="12px sans-serif",Wp={measureText:function(e,t){var n=V();return n.font=t||uu,n.measureText(e)}},Kk={left:1,right:1,center:1},Jk={top:1,bottom:1,middle:1},Gp=new Qn,sd=function(){};sd.prototype={constructor:sd,drawRectText:function(e,t){var n=this.style;t=n.textRect||t,this.__dirty&&zo(n);var i=n.text;if(null!=i&&(i+=""),Al(i,n)){e.save();var o=this.transform;n.transformText?this.setTransform(e):o&&(Gp.copy(t),Gp.applyTransform(o),t=Gp),Ml(this,e,i,n,t),e.restore()}}},lr.prototype={constructor:lr,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,inplace:!1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var n=this.transformCoordToLocal(e,t);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){"style"!==e?Ao.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new La(e,this),this.dirty(!1),this}},k(lr,Ao),M(lr,sd),tr.prototype={constructor:tr,type:"image",brush:function(e,t){var n=this.style,i=n.image;n.bind(e,this,t);var o=this._image=hs(i,this._image,this,this.onload);if(o&&fa(o)){var a=n.x||0,s=n.y||0,l=n.width,u=n.height,c=o.width/o.height;if(null==l&&null!=u?l=u*c:null==u&&null!=l?u=l/c:null==l&&null==u&&(l=o.width,u=o.height),this.setTransform(e),n.sWidth&&n.sHeight){var d=n.sx||0,h=n.sy||0;e.drawImage(o,d,h,n.sWidth,n.sHeight,a,s,l,u)}else if(n.sx&&n.sy){var f=l-(d=n.sx),p=u-(h=n.sy);e.drawImage(o,d,h,f,p,a,s,l,u)}else e.drawImage(o,a,s,l,u);null!=n.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new Qn(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}},k(tr,lr);var Up=new Qn(0,0,0,0),jp=new Qn(0,0,0,0),qp=function(e,t,n){this.type="canvas";var i=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=n=J({},n||{}),this.dpr=n.devicePixelRatio||ed,this._singleCanvas=i,this.root=e;var o=e.style;o&&(o["-webkit-tap-highlight-color"]="transparent",o["-webkit-user-select"]=o["user-select"]=o["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var a=this._zlevelList=[],s=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,i){null!=n.width&&(e.width=n.width),null!=n.height&&(e.height=n.height);var u=e.height;this._width=e.width,this._height=u;var c=new lu(e,this,1);c.__builtin__=!0,c.initContext(),s[314159]=c,a.push(314159),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var d=this._domRoot=function(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","overflow:hidden","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);e.appendChild(d)}this._hoverlayer=null,this._hoverElements=[]};qp.prototype={constructor:qp,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var i=0;i<n.length;i++){var a=this._layers[n[i]];!a.__builtin__&&a.refresh&&a.refresh()}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var n=new e.constructor({style:e.style,shape:e.shape});n.__from=e,e.__hoverMir=n,n.setStyle(t),this._hoverElements.push(n)}},removeHover:function(e){var n=this._hoverElements,i=A(n,e.__hoverMir);i>=0&&n.splice(i,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,n=0;n<t.length;n++){var i=t[n].__from;i&&(i.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){ha(e,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var i={};n.ctx.save();for(var o=0;o<t;){var a=e[o],s=a.__from;s&&s.__zr?(o++,s.invisible||(a.transform=s.transform,a.invTransform=s.invTransform,a.__clipPaths=s.__clipPaths,this._doPaintEl(a,n,!0,i))):(e.splice(o,1),s.__hoverMir=null,t--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(e,t,n){if(this._redrawId===n){t=t||!1,this._updateLayerStatus(e);var i=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!i){var o=this;zp(function(){o._paintList(e,t,n)})}}},_compositeManually:function(){var e=this.getLayer(314159).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,n)})},_doPaintList:function(e,t){for(var n=[],i=0;i<this._zlevelList.length;i++)(l=this._layers[this._zlevelList[i]]).__builtin__&&l!==this._hoverlayer&&(l.__dirty||t)&&n.push(l);for(var a=!0,s=0;s<n.length;s++){var l=n[s],u=l.ctx,c={};u.save();var d=t?l.__startIndex:l.__drawIndex,h=!t&&l.incremental&&Date.now,f=h&&Date.now();if(l.__startIndex===l.__endIndex)l.clear();else if(d===l.__startIndex){var p=e[d];p.incremental&&p.notClear&&!t||l.clear()}-1===d&&(console.error("For some unknown reason. drawIndex is -1"),d=l.__startIndex);for(var D=d;D<l.__endIndex;D++){var X=e[D];if(this._doPaintEl(X,l,t,c),X.__dirty=!1,h&&Date.now()-f>15)break}l.__drawIndex=D,l.__drawIndex<l.__endIndex&&(a=!1),c.prevElClipPaths&&u.restore(),u.restore()}return li.wxa&&m(this._layers,function(K){K&&K.ctx&&K.ctx.draw&&K.ctx.draw()}),a},_doPaintEl:function(e,t,n,i){var o=t.ctx,a=e.transform;if((t.__dirty||n)&&!e.invisible&&0!==e.style.opacity&&(!a||a[0]||a[3])&&(!e.culling||!function(e,t,n){return Up.copy(e.getBoundingRect()),e.transform&&Up.applyTransform(e.transform),jp.width=t,jp.height=n,!Up.intersect(jp)}(e,this._width,this._height))){var s=e.__clipPaths;i.prevElClipPaths&&!function(e,t){if(e==t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0}(s,i.prevElClipPaths)||(i.prevElClipPaths&&(t.ctx.restore(),i.prevElClipPaths=null,i.prevEl=null),s&&(o.save(),function(e,t){for(var n=0;n<e.length;n++){var i=e[n];i.setTransform(t),t.beginPath(),i.buildPath(t,i.shape),t.clip(),i.restoreTransform(t)}}(s,o),i.prevElClipPaths=s)),e.beforeBrush&&e.beforeBrush(o),e.brush(o,i.prevEl||null),i.prevEl=e,e.afterBrush&&e.afterBrush(o)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=314159);var n=this._layers[e];return n||((n=new lu("zr_"+e,this,this.dpr)).zlevel=e,n.__builtin__=!0,this._layerConfig[e]&&he(n,this._layerConfig[e],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},insertLayer:function(e,t){var n=this._layers,i=this._zlevelList,o=i.length,a=null,s=-1,l=this._domRoot;if(n[e]);else if(function(e){return!!e&&(!!e.__builtin__||"function"==typeof e.resize&&"function"==typeof e.refresh)}(t)){if(o>0&&e>i[0]){for(s=0;s<o-1&&!(i[s]<e&&i[s+1]>e);s++);a=n[i[s]]}if(i.splice(s+1,0,e),n[e]=t,!t.virtual)if(a){var u=a.dom;u.nextSibling?l.insertBefore(t.dom,u.nextSibling):l.appendChild(t.dom)}else l.firstChild?l.insertBefore(t.dom,l.firstChild):l.appendChild(t.dom)}},eachLayer:function(e,t){var n,i,o=this._zlevelList;for(i=0;i<o.length;i++)e.call(t,this._layers[n=o[i]],n)},eachBuiltinLayer:function(e,t){var n,i,o,a=this._zlevelList;for(o=0;o<a.length;o++)(n=this._layers[i=a[o]]).__builtin__&&e.call(t,n,i)},eachOtherLayer:function(e,t){var n,i,o,a=this._zlevelList;for(o=0;o<a.length;o++)(n=this._layers[i=a[o]]).__builtin__||e.call(t,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){function t(u){n&&(n.__endIndex!==u&&(n.__dirty=!0),n.__endIndex=u)}if(this.eachBuiltinLayer(function(u,c){u.__dirty=u.__used=!1}),this._singleCanvas)for(o=1;o<e.length;o++)if((s=e[o]).zlevel!==e[o-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}for(var n=null,i=0,o=0;o<e.length;o++){var a,s=e[o],l=s.zlevel;s.incremental?((a=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,i=1):a=this.getLayer(l+(i>0?.01:0),this._needsManuallyCompositing),a!==n&&(a.__used=!0,a.__startIndex!==o&&(a.__dirty=!0),a.__startIndex=o,a.__drawIndex=a.incremental?-1:o,t(o),n=a),s.__dirty&&(a.__dirty=!0,a.incremental&&a.__drawIndex<0&&(a.__drawIndex=o))}t(o),this.eachBuiltinLayer(function(u,c){!u.__used&&u.getElementCount()>0&&(u.__dirty=!0,u.__startIndex=u.__endIndex=u.__drawIndex=0),u.__dirty&&u.__drawIndex<0&&(u.__drawIndex=u.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},configLayer:function(e,t){if(t){var n=this._layerConfig;n[e]?he(n[e],t,!0):n[e]=t;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];o!==e&&o!==e+.01||he(this._layers[o],n[e],!0)}}},delLayer:function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n.splice(A(n,e),1))},resize:function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!=e||t!=this._height){for(var o in n.style.width=e+"px",n.style.height=t+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);m(this._progressiveLayers,function(a){a.resize(e,t)}),this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(314159).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var t=new lu("image",this,(e=e||{}).pixelRatio||this.dpr);if(t.initContext(),t.clearColor=e.backgroundColor,t.clear(),e.pixelRatio<=this.dpr){this.refresh();var n=t.dom.width,i=t.dom.height,o=t.ctx;this.eachLayer(function(c){c.__builtin__?o.drawImage(c.dom,0,0,n,i):c.renderToCanvas&&(t.ctx.save(),c.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var a={},s=this.storage.getDisplayList(!0),l=0;l<s.length;l++)this._doPaintEl(s[l],t,!0,a);return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],i=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var s=this.root,l=document.defaultView.getComputedStyle(s);return(s[i]||ya(l[n])||ya(s.style[n]))-(ya(l[o])||0)-(ya(l[a])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var n=document.createElement("canvas"),i=n.getContext("2d"),o=e.getBoundingRect(),a=e.style,s=a.shadowBlur*t,l=a.shadowOffsetX*t,u=a.shadowOffsetY*t,c=a.hasStroke()?a.lineWidth:0,d=Math.max(c/2,-l+s),h=Math.max(c/2,l+s),f=Math.max(c/2,-u+s),p=Math.max(c/2,u+s),D=o.width+d+h,X=o.height+f+p;n.width=D*t,n.height=X*t,i.scale(t,t),i.clearRect(0,0,D,X),i.dpr=t;var K={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[d-o.x,f-o.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(i);var oe=new tr({style:{x:0,y:0,image:n}});return null!=K.position&&(oe.position=e.position=K.position),null!=K.rotation&&(oe.rotation=e.rotation=K.rotation),null!=K.scale&&(oe.scale=e.scale=K.scale),oe}};var Zp="undefined"!=typeof window&&!!window.addEventListener,Qk=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,qo=Zp?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0},ld=function(e){this.stage=(e=e||{}).stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._paused=!1,nr.call(this)};ld.prototype={constructor:ld,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),n=0;n<t.length;n++)this.addClip(t[n])},removeClip:function(e){var t=A(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),n=0;n<t.length;n++)this.removeClip(t[n]);e.animation=null},_update:function(){for(var e=(new Date).getTime()-this._pausedTime,t=e-this._time,n=this._clips,i=n.length,o=[],a=[],s=0;s<i;s++){var l=n[s],u=l.step(e,t);u&&(o.push(u),a.push(l))}for(s=0;s<i;)n[s]._needsRemove?(n[s]=n[i-1],n.pop(),i--):s++;for(i=o.length,s=0;s<i;s++)a[s].fire(o[s]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;this._running=!0,zp(function e(){t._running&&(zp(e),!t._paused&&t._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(e,t){var n=new Pp(e,(t=t||{}).loop,t.getter,t.setter);return this.addAnimator(n),n}},M(ld,nr);var Yp=function(){this._track=[]};Yp.prototype={constructor:Yp,recognize:function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,n){var i=e.touches;if(i){for(var o={points:[],touches:[],target:t,event:e},a=0,s=i.length;a<s;a++){var l=i[a],u=Il(n,l,{});o.points.push([u.zrX,u.zrY]),o.touches.push(l)}this._track.push(o)}},_recognize:function(e){for(var t in Xp)if(Xp.hasOwnProperty(t)){var n=Xp[t](this._track,e);if(n)return n}}};var Xp={pinch:function(e,t){var n=e.length;if(n){var i=(e[n-1]||{}).points,o=(e[n-2]||{}).points||i;if(o&&o.length>1&&i&&i.length>1){var a=I(i)/I(o);!isFinite(a)&&(a=1),t.pinchScale=a;var s=function(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}(i);return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:e[0].target,event:t}}}}},ud=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],$p=["touchstart","touchend","touchmove"],eA={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},Rx=y(ud,function(e){var t=e.replace("mouse","pointer");return eA[t]?t:e}),Nr={mousemove:function(e){e=ee(this.dom,e),this.trigger("mousemove",e)},mouseout:function(e){var t=(e=ee(this.dom,e)).toElement||e.relatedTarget;if(t!=this.dom)for(;t&&9!=t.nodeType;){if(t===this.dom)return;t=t.parentNode}this.trigger("mouseout",e)},touchstart:function(e){(e=ee(this.dom,e)).zrByTouch=!0,this._lastTouchMoment=new Date,S(this,e,"start"),Nr.mousemove.call(this,e),Nr.mousedown.call(this,e),G(this)},touchmove:function(e){(e=ee(this.dom,e)).zrByTouch=!0,S(this,e,"change"),Nr.mousemove.call(this,e),G(this)},touchend:function(e){(e=ee(this.dom,e)).zrByTouch=!0,S(this,e,"end"),Nr.mouseup.call(this,e),+new Date-this._lastTouchMoment<300&&Nr.click.call(this,e),G(this)},pointerdown:function(e){Nr.mousedown.call(this,e)},pointermove:function(e){L(e)||Nr.mousemove.call(this,e)},pointerup:function(e){Nr.mouseup.call(this,e)},pointerout:function(e){L(e)||Nr.mouseout.call(this,e)}};m(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Nr[e]=function(t){t=ee(this.dom,t),this.trigger(e,t)}});var Bx=F.prototype;Bx.dispose=function(){for(var e=ud.concat($p),t=0;t<e.length;t++){var n=e[t];B(this.dom,w(n),this._handlers[n])}},Bx.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},M(F,nr);var tA=!li.canvasSupported,cd={canvas:qp},Ea={},Kp=function(e,t,n){n=n||{},this.dom=t,this.id=e;var i=this,o=new Lp,a=n.renderer;if(tA){if(!cd.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");a="vml"}else a&&cd[a]||(a="canvas");var s=new cd[a](t,o,n,e);this.storage=o,this.painter=s;var l=li.node||li.worker?null:new F(s.getViewportRoot());this.handler=new Gs(o,s,l,s.root),this.animation=new ld({stage:{update:re(this.flush,this)}}),this.animation.start();var u=o.delFromStorage,c=o.addToStorage;o.delFromStorage=function(d){u.call(o,d),d&&d.removeSelfFromZr(i)},o.addToStorage=function(d){c.call(o,d),d.addSelfToZr(i)}};Kp.prototype={constructor:Kp,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer(e,t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately(),this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(e,t){this.painter.addHover&&(this.painter.addHover(e,t),this.refreshHover())},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){this.painter.resize((e=e||{}).width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,n){this.handler.on(e,t,n)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function(e){delete Ea[e]}(this.id)}};var nA=(Object.freeze||Object)({version:"4.0.1",init:U,dispose:function(e){if(e)e.dispose();else{for(var t in Ea)Ea.hasOwnProperty(t)&&Ea[t].dispose();Ea={}}return this},getInstance:function(e){return Ea[e]},registerPainter:O}),Us=m,js=Ce,iA=$,dd="\0-",Ox=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],rA=0,oA=".",Ra="___EC__COMPONENT__CONTAINER___",aA=0,qs=function(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(n,i,o){for(var a={},s=0;s<e.length;s++){var l=e[s][1];if(!(i&&A(i,l)>=0||o&&A(o,l)<0)){var u=n.getShallow(l);null!=u&&(a[e[s][0]]=u)}}return a}},sA=qs([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),lA={getLineStyle:function(e){var t=sA(this,e),n=this.getLineDash(t.lineWidth);return n&&(t.lineDash=n),t},getLineDash:function(e){null==e&&(e=1);var t=this.get("type"),n=Math.max(e,2),i=4*e;return"solid"===t||null==t?null:"dashed"===t?[i,i]:[n,n]}},uA=qs([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),cA={getAreaStyle:function(e,t){return uA(this,e,t)}},hd=Math.pow,Zo=Math.sqrt,fd=1e-8,zx=1e-4,Fx=Zo(3),pd=1/3,so=nn(),Ur=nn(),Zs=nn(),wr=Math.min,Cr=Math.max,Jp=Math.sin,Qp=Math.cos,Ba=2*Math.PI,gd=nn(),md=nn(),vd=nn(),Hx=[],Vx=[],qi={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},lo=[],Yo=[],uo=[],co=[],Wx=Math.min,Gx=Math.max,cu=Math.cos,du=Math.sin,yd=Math.sqrt,Ys=Math.abs,eg="undefined"!=typeof Float32Array,Pr=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};Pr.prototype={constructor:Pr,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t){this._ux=Ys(1/ed/e)||0,this._uy=Ys(1/ed/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(qi.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var n=Ys(e-this._xi)>this._ux||Ys(t-this._yi)>this._uy||this._len<5;return this.addData(qi.L,e,t),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),n&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,n,i,o,a){return this.addData(qi.C,e,t,n,i,o,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,n,i,o,a):this._ctx.bezierCurveTo(e,t,n,i,o,a)),this._xi=o,this._yi=a,this},quadraticCurveTo:function(e,t,n,i){return this.addData(qi.Q,e,t,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,n,i):this._ctx.quadraticCurveTo(e,t,n,i)),this._xi=n,this._yi=i,this},arc:function(e,t,n,i,o,a){return this.addData(qi.A,e,t,n,n,i,o-i,0,a?0:1),this._ctx&&this._ctx.arc(e,t,n,i,o,a),this._xi=cu(o)*n+e,this._yi=du(o)*n+e,this},arcTo:function(e,t,n,i,o){return this._ctx&&this._ctx.arcTo(e,t,n,i,o),this},rect:function(e,t,n,i){return this._ctx&&this._ctx.rect(e,t,n,i),this.addData(qi.R,e,t,n,i),this},closePath:function(){this.addData(qi.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,n),e.closePath()),this._xi=t,this._yi=n,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,n=0;n<e.length;n++)t+=e[n];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;this.data&&this.data.length==t||!eg||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,i=this._len,o=0;o<t;o++)n+=e[o].len();for(eg&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n)),o=0;o<t;o++)for(var a=e[o].data,s=0;s<a.length;s++)this.data[i++]=a[s];this._len=i},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var n=0;n<arguments.length;n++)t[this._len++]=arguments[n];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var n,i,o=this._dashSum,a=this._dashOffset,s=this._lineDash,l=this._ctx,u=this._xi,c=this._yi,d=e-u,h=t-c,f=yd(d*d+h*h),p=u,D=c,X=s.length;for(a<0&&(a=o+a),p-=(a%=o)*(d/=f),D-=a*(h/=f);d>0&&p<=e||d<0&&p>=e||0==d&&(h>0&&D<=t||h<0&&D>=t);)p+=d*(n=s[i=this._dashIdx]),D+=h*n,this._dashIdx=(i+1)%X,d>0&&p<u||d<0&&p>u||h>0&&D<c||h<0&&D>c||l[i%2?"moveTo":"lineTo"](d>=0?Wx(p,e):Gx(p,e),h>=0?Wx(D,t):Gx(D,t));this._dashOffset=-yd((d=p-e)*d+(h=D-t)*h)},_dashedBezierTo:function(e,t,n,i,o,a){var s,l,u,c,d,h=this._dashSum,f=this._dashOffset,p=this._lineDash,D=this._ctx,X=this._xi,K=this._yi,oe=Ze,ce=0,be=this._dashIdx,Be=p.length,He=0;for(f<0&&(f=h+f),f%=h,s=0;s<1;s+=.1)l=oe(X,e,n,o,s+.1)-oe(X,e,n,o,s),u=oe(K,t,i,a,s+.1)-oe(K,t,i,a,s),ce+=yd(l*l+u*u);for(;be<Be&&!((He+=p[be])>f);be++);for(s=(He-f)/ce;s<=1;)c=oe(X,e,n,o,s),d=oe(K,t,i,a,s),be%2?D.moveTo(c,d):D.lineTo(c,d),s+=p[be]/ce,be=(be+1)%Be;be%2!=0&&D.lineTo(o,a),this._dashOffset=-yd((l=o-c)*l+(u=a-d)*u)},_dashedQuadraticTo:function(e,t,n,i){var o=n,a=i;n=(n+2*e)/3,i=(i+2*t)/3,this._dashedBezierTo(e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,n,i,o,a)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,eg&&(this.data=new Float32Array(e)))},getBoundingRect:function(){lo[0]=lo[1]=uo[0]=uo[1]=Number.MAX_VALUE,Yo[0]=Yo[1]=co[0]=co[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,n=0,i=0,o=0,a=0;a<e.length;){var s=e[a++];switch(1==a&&(i=t=e[a],o=n=e[a+1]),s){case qi.M:t=i=e[a++],n=o=e[a++],uo[0]=i,uo[1]=o,co[0]=i,co[1]=o;break;case qi.L:it(t,n,e[a],e[a+1],uo,co),t=e[a++],n=e[a++];break;case qi.C:Mt(t,n,e[a++],e[a++],e[a++],e[a++],e[a],e[a+1],uo,co),t=e[a++],n=e[a++];break;case qi.Q:gt(t,n,e[a++],e[a++],e[a],e[a+1],uo,co),t=e[a++],n=e[a++];break;case qi.A:var l=e[a++],u=e[a++],c=e[a++],d=e[a++],h=e[a++],f=e[a++]+h,p=(a++,1-e[a++]);1==a&&(i=cu(h)*c+l,o=du(h)*d+u),Ct(l,u,c,d,h,f,p,uo,co),t=cu(f)*c+l,n=du(f)*d+u;break;case qi.R:it(i=t=e[a++],o=n=e[a++],i+e[a++],o+e[a++],uo,co);break;case qi.Z:t=i,n=o}bt(lo,lo,uo),rn(Yo,Yo,co)}return 0===a&&(lo[0]=lo[1]=Yo[0]=Yo[1]=0),new Qn(lo[0],lo[1],Yo[0]-lo[0],Yo[1]-lo[1])},rebuildPath:function(e){for(var t,n,i,o,a,s,l=this.data,u=this._ux,c=this._uy,d=this._len,h=0;h<d;){var f=l[h++];switch(1==h&&(t=i=l[h],n=o=l[h+1]),f){case qi.M:t=i=l[h++],n=o=l[h++],e.moveTo(i,o);break;case qi.L:a=l[h++],s=l[h++],(Ys(a-i)>u||Ys(s-o)>c||h===d-1)&&(e.lineTo(a,s),i=a,o=s);break;case qi.C:e.bezierCurveTo(l[h++],l[h++],l[h++],l[h++],l[h++],l[h++]),i=l[h-2],o=l[h-1];break;case qi.Q:e.quadraticCurveTo(l[h++],l[h++],l[h++],l[h++]),i=l[h-2],o=l[h-1];break;case qi.A:var p=l[h++],D=l[h++],X=l[h++],K=l[h++],oe=l[h++],ce=l[h++],be=l[h++],Be=l[h++],He=X>K?X:K,Ye=X>K?1:X/K,$e=X>K?K/X:1,nt=oe+ce;Math.abs(X-K)>.001?(e.translate(p,D),e.rotate(be),e.scale(Ye,$e),e.arc(0,0,He,oe,nt,1-Be),e.scale(1/Ye,1/$e),e.rotate(-be),e.translate(-p,-D)):e.arc(p,D,He,oe,nt,1-Be),1==h&&(t=cu(oe)*X+p,n=du(oe)*K+D),i=cu(nt)*X+p,o=du(nt)*K+D;break;case qi.R:t=i=l[h],n=o=l[h+1],e.rect(l[h++],l[h++],l[h++],l[h++]);break;case qi.Z:e.closePath(),i=t,o=n}}}},Pr.CMD=qi;var Ux=2*Math.PI,hu=2*Math.PI,Xo=Pr.CMD,Xs=2*Math.PI,dA=1e-4,yr=[-1,-1,-1],jr=[-1,-1],jx=Op.prototype.getCanvasPattern,tg=Math.abs,hA=new Pr(!0);an.prototype={constructor:an,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(e,t){var f,n=this.style,i=this.path||hA,o=n.hasStroke(),a=n.hasFill(),s=n.fill,l=n.stroke,u=a&&!!s.colorStops,c=o&&!!l.colorStops,d=a&&!!s.image,h=o&&!!l.image;n.bind(e,this,t),this.setTransform(e),this.__dirty&&(u&&(f=f||this.getBoundingRect(),this._fillGradient=n.getGradient(e,s,f)),c&&(f=f||this.getBoundingRect(),this._strokeGradient=n.getGradient(e,l,f))),u?e.fillStyle=this._fillGradient:d&&(e.fillStyle=jx.call(s,e)),c?e.strokeStyle=this._strokeGradient:h&&(e.strokeStyle=jx.call(l,e));var p=n.lineDash,D=n.lineDashOffset,X=!!e.setLineDash,K=this.getGlobalScale();i.setScale(K[0],K[1]),this.__dirtyPath||p&&!X&&o?(i.beginPath(e),p&&!X&&(i.setLineDash(p),i.setLineDashOffset(D)),this.buildPath(i,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),a&&i.fill(e),p&&X&&(e.setLineDash(p),e.lineDashOffset=D),o&&i.stroke(e),p&&X&&e.setLineDash([]),null!=n.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,n){},createPathProxy:function(){this.path=new Pr},getBoundingRect:function(){var e=this._rect,t=this.style,n=!e;if(n){var i=this.path;i||(i=this.path=new Pr),this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),e=i.getBoundingRect()}if(this._rect=e,t.hasStroke()){var o=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||n){o.copy(e);var a=t.lineWidth,s=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),s>1e-10&&(o.width+=a/s,o.height+=a/s,o.x-=a/s/2,o.y-=a/s/2)}return o}return e},contain:function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect(),o=this.style;if(i.contain(e=n[0],t=n[1])){var a=this.path.data;if(o.hasStroke()){var s=o.lineWidth,l=o.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(o.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),function(e,t,n,i){return Xt(e,t,!0,n,i)}(a,s/l,e,t)))return!0}if(o.hasFill())return function(e,t,n){return Xt(e,0,!1,t,n)}(a,e,t)}return!1},dirty:function(e){null==e&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){"shape"===e?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):lr.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var n=this.shape;if(n){if(Ce(e))for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);else n[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&tg(e[0]-1)>1e-10&&tg(e[3]-1)>1e-10?Math.sqrt(tg(e[0]*e[3]-e[2]*e[1])):1}},an.extend=function(e){var t=function(i){an.call(this,i),e.style&&this.style.extendFrom(e.style,!1);var o=e.shape;if(o){this.shape=this.shape||{};var a=this.shape;for(var s in o)!a.hasOwnProperty(s)&&o.hasOwnProperty(s)&&(a[s]=o[s])}e.init&&e.init.call(this,i)};for(var n in k(t,an),e)"style"!==n&&"shape"!==n&&(t.prototype[n]=e[n]);return t},k(an,lr);var $s=Pr.CMD,fA=[[],[],[]],qx=Math.sqrt,pA=Math.atan2,gA=function(e,t){var n,i,o,a,s,l,u=e.data,c=$s.M,d=$s.C,h=$s.L,f=$s.R,p=$s.A,D=$s.Q;for(o=0,a=0;o<u.length;){switch(n=u[o++],a=o,i=0,n){case c:case h:i=1;break;case d:i=3;break;case D:i=2;break;case p:var X=t[4],K=t[5],oe=qx(t[0]*t[0]+t[1]*t[1]),ce=qx(t[2]*t[2]+t[3]*t[3]),be=pA(-t[1]/ce,t[0]/oe);u[o]*=oe,u[o++]+=X,u[o]*=ce,u[o++]+=K,u[o++]*=oe,u[o++]*=ce,u[o++]+=be,u[o++]+=be,a=o+=2;break;case f:l[0]=u[o++],l[1]=u[o++],Rt(l,l,t),u[a++]=l[0],u[a++]=l[1],l[0]+=u[o++],l[1]+=u[o++],Rt(l,l,t),u[a++]=l[0],u[a++]=l[1]}for(s=0;s<i;s++)(l=fA[s])[0]=u[o++],l[1]=u[o++],Rt(l,l,t),u[a++]=l[0],u[a++]=l[1]}},ng=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],ig=Math.sqrt,xd=Math.sin,bd=Math.cos,_d=Math.PI,Zx=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},rg=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(Zx(e)*Zx(t))},Yx=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(rg(e,t))},ui=function(e){lr.call(this,e)};ui.prototype={constructor:ui,type:"text",brush:function(e,t){var n=this.style;this.__dirty&&zo(n),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var i=n.text;null!=i&&(i+=""),n.bind(e,this,t),Al(i,n)&&(this.setTransform(e),Ml(this,e,i,n),this.restoreTransform(e))},getBoundingRect:function(){var e=this.style;if(this.__dirty&&zo(e),!this._rect){var t=e.text;null!=t?t+="":t="";var n=Fr(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.rich);if(n.x+=e.x||0,n.y+=e.y||0,Fo(e.textStroke,e.textStrokeWidth)){var i=e.textStrokeWidth;n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i}this._rect=n}return this._rect}},k(ui,lr);var Oa=an.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,n){n&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}}),$o=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],og=function(e){return li.browser.ie&&li.browser.version>=11?function(){var t,n=this.__clipPaths,i=this.style;if(n)for(var o=0;o<n.length;o++){var a=n[o],s=a&&a.shape,l=a&&a.type;if(s&&("sector"===l&&s.startAngle===s.endAngle||"rect"===l&&(!s.width||!s.height))){for(u=0;u<$o.length;u++)$o[u][2]=i[$o[u][0]],i[$o[u][0]]=$o[u][1];t=!0;break}}if(e.apply(this,arguments),t)for(var u=0;u<$o.length;u++)i[$o[u][0]]=$o[u][2]}:e},Io=an.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:og(an.prototype.brush),buildPath:function(e,t){var n=t.cx,i=t.cy,o=Math.max(t.r0||0,0),a=Math.max(t.r,0),s=t.startAngle,l=t.endAngle,u=t.clockwise,c=Math.cos(s),d=Math.sin(s);e.moveTo(c*o+n,d*o+i),e.lineTo(c*a+n,d*a+i),e.arc(n,i,a,s,l,!u),e.lineTo(Math.cos(l)*o+n,Math.sin(l)*o+i),0!==o&&e.arc(n,i,o,l,s,u),e.closePath()}}),Xx=an.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=2*Math.PI;e.moveTo(n+t.r,i),e.arc(n,i,t.r,0,o,!1),e.moveTo(n+t.r0,i),e.arc(n,i,t.r0,0,o,!0)}}),mA=function(e,t){for(var n=e.length,i=[],o=0,a=1;a<n;a++)o+=ai(e[a-1],e[a]);var s=o/2;for(s=s<n?n:s,a=0;a<s;a++){var l,u,c,d=a/(s-1)*(t?n:n-1),h=Math.floor(d),f=d-h,p=e[h%n];t?(l=e[(h-1+n)%n],u=e[(h+1)%n],c=e[(h+2)%n]):(l=e[0===h?h:h-1],u=e[h>n-2?n-1:h+1],c=e[h>n-3?n-1:h+2]);var D=f*f,X=f*D;i.push([Oe(l[0],p[0],u[0],c[0],f,D,X),Oe(l[1],p[1],u[1],c[1],f,D,X)])}return i},vA=function(e,t,n,i){var o,a,s,l,u=[],c=[],d=[],h=[];if(i){s=[1/0,1/0],l=[-1/0,-1/0];for(var f=0,p=e.length;f<p;f++)bt(s,s,e[f]),rn(l,l,e[f]);bt(s,s,i[0]),rn(l,l,i[1])}for(f=0,p=e.length;f<p;f++){var D=e[f];if(n)o=e[f?f-1:p-1],a=e[(f+1)%p];else{if(0===f||f===p-1){u.push(Lt(e[f]));continue}o=e[f-1],a=e[f+1]}Nt(c,a,o),Wn(c,c,t);var X=ai(D,o),K=ai(D,a),oe=X+K;0!==oe&&(X/=oe,K/=oe),Wn(d,c,-X),Wn(h,c,K);var ce=Dt([],D,d),be=Dt([],D,h);i&&(rn(ce,ce,s),bt(ce,ce,l),rn(be,be,s),bt(be,be,l)),u.push(ce),u.push(be)}return n&&u.push(u.shift()),u},qr=an.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){Je(e,t,!0)}}),ho=an.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){Je(e,t,!1)}}),Ti=an.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,o=t.width,a=t.height;t.r?Cl(e,t):e.rect(n,i,o,a),e.closePath()}}),Zr=an.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.percent;0!==s&&(e.moveTo(n,i),s<1&&(o=n*(1-s)+o*s,a=i*(1-s)+a*s),e.lineTo(o,a))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}}),Sr=[],ag=an.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.cpx1,l=t.cpy1,u=t.cpx2,c=t.cpy2,d=t.percent;0!==d&&(e.moveTo(n,i),null==u||null==c?(d<1&&(Ke(n,s,o,d,Sr),s=Sr[1],o=Sr[2],Ke(i,l,a,d,Sr),l=Sr[1],a=Sr[2]),e.quadraticCurveTo(s,l,o,a)):(d<1&&(Kt(n,s,u,o,d,Sr),s=Sr[1],u=Sr[2],o=Sr[3],Kt(i,l,c,a,d,Sr),l=Sr[1],c=Sr[2],a=Sr[3]),e.bezierCurveTo(s,l,u,c,o,a)))},pointAt:function(e){return lt(this.shape,e,!1)},tangentAt:function(e){var t=lt(this.shape,e,!0);return kn(t,t)}}),$x=an.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.cx,i=t.cy,o=Math.max(t.r,0),a=t.startAngle,s=t.endAngle,l=t.clockwise,u=Math.cos(a),c=Math.sin(a);e.moveTo(u*o+n,c*o+i),e.arc(n,i,o,a,s,!l)}}),Kx=an.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,n=0;n<t.length;n++)e=e||t[n].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1])},buildPath:function(e,t){for(var n=t.paths||[],i=0;i<n.length;i++)n[i].buildPath(e,n[i].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),an.prototype.getBoundingRect.call(this)}}),fo=function(e){this.colorStops=e||[]};fo.prototype={constructor:fo,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}};var Ks=function(e,t,n,i,o,a){this.x=null==e?0:e,this.y=null==t?0:t,this.x2=null==n?1:n,this.y2=null==i?0:i,this.type="linear",this.global=a||!1,fo.call(this,o)};Ks.prototype={constructor:Ks},k(Ks,fo);var wd=function(e,t,n,i,o){this.x=null==e?.5:e,this.y=null==t?.5:t,this.r=null==n?.5:n,this.type="radial",this.global=o||!1,fo.call(this,i)};wd.prototype={constructor:wd},k(wd,fo),yt.prototype.incremental=!0,yt.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},yt.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()},yt.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},yt.prototype.eachPendingDisplayable=function(e){for(t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(var t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},yt.prototype.update=function(){for(this.updateTransform(),e=this._cursor;e<this._displayables.length;e++)(t=this._displayables[e]).parent=this,t.update(),t.parent=null;for(var e=0;e<this._temporaryDisplayables.length;e++){var t=this._temporaryDisplayables[e];t.parent=this,t.update(),t.parent=null}},yt.prototype.brush=function(e,t){for(n=this._cursor;n<this._displayables.length;n++)(i=this._temporaryDisplayables[n]).beforeBrush&&i.beforeBrush(e),i.brush(e,n===this._cursor?null:this._displayables[n-1]),i.afterBrush&&i.afterBrush(e);this._cursor=n;for(var n=0;n<this._temporaryDisplayables.length;n++){var i=this._temporaryDisplayables[n];i.beforeBrush&&i.beforeBrush(e),i.brush(e,0===n?null:this._temporaryDisplayables[n-1]),i.afterBrush&&i.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var yA=[];yt.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Qn(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(yA)),e.union(i)}this._rect=e}return this._rect},yt.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++)if(this._displayables[i].contain(e,t))return!0;return!1},k(yt,lr);var Js=Math.round,Cd=Math.max,Sd=Math.min,Md={},Do=function(e,t){for(var n=[],i=e.length,o=0;o<i;o++){var a=e[o];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),n.push(a.path)}var s=new an(t);return s.createPathProxy(),s.buildPath=function(l){l.appendPath(n);var u=l.getContext();u&&l.rebuildPath(u)},s},Jr=(Object.freeze||Object)({extendShape:ut,extendPath:function(e,t){return function(e,t){return an.extend(Xe(e,t))}(e,t)},makePath:qe,makeImage:pt,mergePath:Do,resizePath:Zt,subPixelOptimizeLine:et,subPixelOptimizeRect:St,subPixelOptimize:st,setHoverStyle:ii,setLabelStyle:Ni,setTextStyle:$n,setText:function(e,t,n){var i,o={isRectText:!0};!1===n?i=!0:o.autoColor=n,Vi(e,t,o,i),e.host&&e.host.dirty&&e.host.dirty(!1)},getFont:Ch,updateProps:si,initProps:mr,getTransform:xa,applyTransform:io,transformDirection:Sh,groupTransition:Mh,clipPointsByRect:Gm,clipRectByRect:function(e,t){var n=Cd(e.x,t.x),i=Sd(e.x+e.width,t.x+t.width),o=Cd(e.y,t.y),a=Sd(e.y+e.height,t.y+t.height);if(i>=n&&a>=o)return{x:n,y:o,width:i-n,height:a-o}},createIcon:Dl,Group:Ln,Image:tr,Text:ui,Circle:Oa,Sector:Io,Ring:Xx,Polygon:qr,Polyline:ho,Rect:Ti,Line:Zr,BezierCurve:ag,Arc:$x,IncrementalDisplayable:yt,CompoundPath:Kx,LinearGradient:Ks,RadialGradient:wd,BoundingRect:Qn}),xA=["textStyle","color"],bA={getTextColor:function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(xA):null)},getFont:function(){return Ch({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return Fr(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},_A=qs([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),wA={getItemStyle:function(e,t){var n=_A(this,e,t),i=this.getBorderLineDash();return i&&(n.lineDash=i),n},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}},Td=M,Jx=Y();vi.prototype={constructor:vi,init:null,mergeOption:function(e){he(this.option,e,!0)},get:function(e,t){return null==e?this.option:Um(this.option,this.parsePath(e),!t&&Th(this,e))},getShallow:function(e,t){var n=this.option,i=null==n?n:n[e],o=!t&&Th(this,e);return null==i&&o&&(i=o.getShallow(e)),i},getModel:function(e,t){var n;return new vi(null==e?this.option:Um(this.option,e=this.parsePath(e)),t=t||(n=Th(this,e))&&n.getModel(e),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(Bt(this.option))},setReadOnly:function(e){},parsePath:function(e){return"string"==typeof e&&(e=e.split(".")),e},customizeGetParent:function(e){Jx(this).getParent=e},isAnimationEnabled:function(){if(!li.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},De(vi),ze(vi),Td(vi,lA),Td(vi,cA),Td(vi,bA),Td(vi,wA);var CA=0,Qx=1e-4,sg=9007199254740991,SA=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,MA=(Object.freeze||Object)({linearMap:ji,parsePercent:wn,round:br,asc:ba,getPrecision:jm,getPrecisionSafe:ec,getPixelPrecision:kh,getPercentWithPrecision:qm,MAX_SAFE_INTEGER:sg,remRadian:Ah,isRadianAroundZero:Nl,parseDate:Pl,quantity:Zm,nice:Ih,reformIntervals:Dh,isNumeric:Xm}),za=Le,eb=["a","b","c","d","e","f","g"],lg=function(e,t){return"{"+e+(null==t?"":t)+"}"},fu=function(e){return e<10?"0"+e:e},tb=ma,kA=(Object.freeze||Object)({addCommas:_a,toCamelCase:$m,normalizeCssArray:za,encodeHTML:Oi,formatTpl:Nh,formatTplSimple:Km,getTooltipMarker:tc,formatTime:Ph,capitalFirst:nc,truncateText:tb,getTextRect:Fr}),kd=m,nb=["left","right","top","bottom","width","height"],Fa=[["width","left","right"],["height","top","bottom"]],pu=Lh,AA=(Q(Lh,"vertical"),Q(Lh,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),IA=Y(),hi=vi.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,n,i){vi.call(this,e,t,n,i),this.uid=Qu("ec_cpt_model")},init:function(e,t,n,i){this.mergeDefaultAndTheme(e,n)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,i=n?Ts(e):{};he(e,t.getTheme().get(this.mainType)),he(e,this.getDefaultOption()),n&&Ho(e,i,n)},mergeOption:function(e,t){he(this.option,e,!0);var n=this.layoutMode;n&&Ho(this.option,e,n)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=IA(this);if(!e.defaultOption){for(var t=[],n=this.constructor;n;){var i=n.prototype.defaultOption;i&&t.push(i),n=n.superClass}for(var o={},a=t.length-1;a>=0;a--)o=he(o,t[a],!0);e.defaultOption=o}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});we(hi,{registerWhenExtend:!0}),function(e){var t={};e.registerSubTypeDefaulter=function(n,i){n=Ae(n),t[n.main]=i},e.determineSubType=function(n,i){var o=i.type;if(!o){var a=Ae(n).main;e.hasSubTypes(n)&&t[a]&&(o=t[a](i))}return o}}(hi),function(e,t){function i(a,s){return a[s]||(a[s]={predecessor:[],successor:[]}),a[s]}e.topologicalTravel=function(a,s,l,u){function c(oe){h[oe].entryCount--,0===h[oe].entryCount&&f.push(oe)}if(a.length){var d=function(a){var s={},l=[];return m(a,function(u){var c=i(s,u),d=function(a,s){var l=[];return m(a,function(u){A(s,u)>=0&&l.push(u)}),l}(c.originalDeps=function(e){var t=[];return m(hi.getClassesByMainType(e),function(n){t=t.concat(n.prototype.dependencies||[])}),t=y(t,function(n){return Ae(n).main}),"dataset"!==e&&A(t,"dataset")<=0&&t.unshift("dataset"),t}(u),a);c.entryCount=d.length,0===c.entryCount&&l.push(u),m(d,function(h){A(c.predecessor,h)<0&&c.predecessor.push(h);var f=i(s,h);A(f.successor,h)<0&&f.successor.push(u)})}),{graph:s,noEntryList:l}}(s),h=d.graph,f=d.noEntryList,p={};for(m(a,function(oe){p[oe]=!0});f.length;){var D=f.pop(),X=h[D],K=!!p[D];K&&(l.call(u,D,X.originalDeps.slice()),delete p[D]),m(X.successor,K?function(oe){p[oe]=!0,c(oe)}:c)}m(p,function(){throw new Error("Circle dependency may exists")})}}}(hi),M(hi,AA);var ib="";"undefined"!=typeof navigator&&(ib=navigator.platform||"");var DA={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:ib.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},ug=Y(),cg={clearColorPalette:function(){ug(this).colorIdx=0,ug(this).colorNameMap={}},getColorFromPalette:function(e,t,n){var i=ug(t=t||this),o=i.colorIdx||0,a=i.colorNameMap=i.colorNameMap||{};if(a.hasOwnProperty(e))return a[e];var s=z(this.get("color",!0)),l=this.get("colorLayer",!0),u=null!=n&&l?function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i].length>t)return e[i];return e[n-1]}(l,n):s;if((u=u||s)&&u.length){var c=u[o];return e&&(a[e]=c),i.colorIdx=(o+1)%u.length,c}}},NA={cartesian2d:function(e,t,n,i){var o=e.getReferringComponents("xAxis")[0],a=e.getReferringComponents("yAxis")[0];t.coordSysDims=["x","y"],n.set("x",o),n.set("y",a),ks(o)&&(i.set("x",o),t.firstCategoryDimIndex=0),ks(a)&&(i.set("y",a),t.firstCategoryDimIndex=1)},singleAxis:function(e,t,n,i){var o=e.getReferringComponents("singleAxis")[0];t.coordSysDims=["single"],n.set("single",o),ks(o)&&(i.set("single",o),t.firstCategoryDimIndex=0)},polar:function(e,t,n,i){var o=e.getReferringComponents("polar")[0],a=o.findAxisModel("radiusAxis"),s=o.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",a),n.set("angle",s),ks(a)&&(i.set("radius",a),t.firstCategoryDimIndex=0),ks(s)&&(i.set("angle",s),t.firstCategoryDimIndex=1)},geo:function(e,t,n,i){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,i){var o=e.ecModel,a=o.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=a.dimensions.slice();m(a.parallelAxisIndex,function(l,u){var c=o.getComponent("parallelAxis",l),d=s[u];n.set(d,c),ks(c)&&null==t.firstCategoryDimIndex&&(i.set(d,c),t.firstCategoryDimIndex=u)})}},Ha="original",Ad="arrayRows",Id="objectRows",Dd="keyedColumns",rb="unknown",Nd="typedArray",ob="column",dg="row";Xr.seriesDataToSource=function(e){return new Xr({data:e,sourceFormat:Te(e)?Nd:Ha,fromDataset:!1})},ze(Xr);var Qs=Y(),hg="\0_ec_inner",Pd=vi.extend({constructor:Pd,init:function(e,t,n,i){n=n||{},this.option=null,this._theme=new vi(n),this._optionManager=i},setOption:function(e,t){Ue(!(hg in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,n=this._optionManager;if(!e||"recreate"===e){var i=n.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this.mergeOption(i)):oC.call(this,i),t=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var o=n.getTimelineOption(this);o&&(this.mergeOption(o),t=!0)}if(!e||"recreate"===e||"media"===e){var a=n.getMediaOption(this,this._api);a.length&&m(a,function(s){this.mergeOption(s,t=!0)},this)}return t},mergeOption:function(e){var t=this.option,n=this._componentsMap,i=[];(function(e){Qs(e).datasetMap=tt()})(this),m(e,function(o,a){null!=o&&(hi.hasClass(a)?a&&i.push(a):t[a]=null==t[a]?Bt(o):he(t[a],o,!0))}),hi.topologicalTravel(i,hi.getAllClassMainTypes(),function(o,a){var s=z(e[o]),l=T(n.get(o),s);v(l),m(l,function(c,d){var h=c.option;Ce(h)&&(c.keyInfo.mainType=o,c.keyInfo.subType=function(e,t,n){return t.type?t.type:n?n.subType:hi.determineSubType(e,t)}(o,h,c.exist))});var u=function(e,t){$(t)||(t=t?[t]:[]);var n={};return m(t,function(i){n[i]=(e.get(i)||[]).slice()}),n}(n,a);t[o]=[],n.set(o,[]),m(l,function(c,d){var h=c.exist,f=c.option;if(Ue(Ce(f)||h,"Empty component definition"),f){var p=hi.getClass(o,c.keyInfo.subType,!0);if(h&&h instanceof p)h.name=c.keyInfo.name,h.mergeOption(f,this),h.optionUpdated(f,!1);else{var D=J({dependentModels:u,componentIndex:d},c.keyInfo);J(h=new p(f,this,this,D),D),h.init(f,this,this,D),h.optionUpdated(null,!0)}}else h.mergeOption({},this),h.optionUpdated({},!1);n.get(o)[d]=h,t[o][d]=h.option},this),"series"===o&&Eh(this,n.get("series"))},this),this._seriesIndicesMap=tt(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=Bt(this.option);return m(e,function(t,n){if(hi.hasClass(n)){for(var i=(t=z(t)).length-1;i>=0;i--)_(t[i])&&t.splice(i,1);e[n]=t}}),delete e[hg],e},getTheme:function(){return this._theme},getComponent:function(e,t){var n=this._componentsMap.get(e);if(n)return n[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var s,n=e.index,i=e.id,o=e.name,a=this._componentsMap.get(t);if(!a||!a.length)return[];if(null!=n)$(n)||(n=[n]),s=Z(y(n,function(c){return a[c]}),function(c){return!!c});else if(null!=i){var l=$(i);s=Z(a,function(c){return l&&A(i,c.id)>=0||!l&&c.id===i})}else if(null!=o){var u=$(o);s=Z(a,function(c){return u&&A(o,c.name)>=0||!u&&c.name===o})}else s=a.slice();return rv(s,e)},findComponents:function(e){var n=e.mainType,i=function(o){var a=n+"Index",s=n+"Id",l=n+"Name";return!o||null==o[a]&&null==o[s]&&null==o[l]?null:{mainType:n,index:o[a],id:o[s],name:o[l]}}(e.query);return function(o){return e.filter?Z(o,e.filter):o}(rv(i?this.queryComponents(i):this._componentsMap.get(n),e))},eachComponent:function(e,t,n){var i=this._componentsMap;"function"==typeof e?(n=t,t=e,i.each(function(o,a){m(o,function(s,l){t.call(n,a,s,l)})})):pe(e)?m(i.get(e),t,n):Ce(e)&&m(this.findComponents(e),t,n)},getSeriesByName:function(e){return Z(this._componentsMap.get("series"),function(t){return t.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){return Z(this._componentsMap.get("series"),function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){m(this._seriesIndices,function(n){var i=this._componentsMap.get("series")[n];e.call(t,i,n)},this)},eachRawSeries:function(e,t){m(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,n){m(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];o.subType===e&&t.call(n,o,i)},this)},eachRawSeriesByType:function(e,t,n){return m(this.getSeriesByType(e),t,n)},isSeriesFiltered:function(e){return null==this._seriesIndicesMap.get(e.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){Eh(this,Z(this._componentsMap.get("series"),e,t))},restoreData:function(e){var t=this._componentsMap;Eh(this,t.get("series"));var n=[];t.each(function(i,o){n.push(o)}),hi.topologicalTravel(n,hi.getAllClassMainTypes(),function(i,o){m(t.get(i),function(a){("series"!==i||!function(e,t){if(t){var n=t.seiresIndex,i=t.seriesId,o=t.seriesName;return null!=n&&e.componentIndex!==n||null!=i&&e.id!==i||null!=o&&e.name!==o}}(a,e))&&a.restoreData()})})}});M(Pd,cg);var PA=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],fg={};hr.prototype={constructor:hr,create:function(e,t){var n=[];m(fg,function(i,o){var a=i.create(e,t);n=n.concat(a||[])}),this._coordinateSystems=n},update:function(e,t){m(this._coordinateSystems,function(n){n.update&&n.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},hr.register=function(e,t){fg[e]=t},hr.get=function(e){return fg[e]};var Ld=m,Va=Bt,Ed=y,ab=he,LA=/^(min|max)?(.+)$/;Rh.prototype={constructor:Rh,setOption:function(e,t){e&&m(z(e.series),function(o){o&&o.data&&Te(o.data)&&Tt(o.data)}),e=Va(e,!0);var n=this._optionBackup,i=lC.call(this,e,t,!n);this._newBaseOption=i.baseOption,n?(function(e,t){Ld(t=t||{},function(n,i){if(null!=n){var o=e[i];if(hi.hasClass(i)){n=z(n);var a=T(o=z(o),n);e[i]=Ed(a,function(s){return s.option&&s.exist?ab(s.exist,s.option,!0):s.exist||s.option})}else e[i]=ab(o,n,!0)}})}(n.baseOption,i.baseOption),i.timelineOptions.length&&(n.timelineOptions=i.timelineOptions),i.mediaList.length&&(n.mediaList=i.mediaList),i.mediaDefault&&(n.mediaDefault=i.mediaDefault)):this._optionBackup=i},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=Ed(t.timelineOptions,Va),this._mediaList=Ed(t.mediaList,Va),this._mediaDefault=Va(t.mediaDefault),this._currentMediaIndices=[],Va(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(t=Va(n[i.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,o=this._mediaDefault,a=[],s=[];if(!i.length&&!o)return s;for(var l=0,u=i.length;l<u;l++)uC(i[l].query,t,n)&&a.push(l);return!a.length&&o&&(a=[-1]),a.length&&!function(e,t){return e.join(",")===t.join(",")}(a,this._currentMediaIndices)&&(s=Ed(a,function(c){return Va(-1===c?o.option:i[c].option)})),this._currentMediaIndices=a,s}};var Qr=m,Rd=Ce,sb=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],RA=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],BA=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],lb=function(e,t){(function(e,t){Qr(Co(e.series),function(i){Rd(i)&&function(e){if(Rd(e)){Bh(e),rc(e),Xi(e.label),Xi(e.upperLabel),Xi(e.edgeLabel),e.emphasis&&(Xi(e.emphasis.label),Xi(e.emphasis.upperLabel),Xi(e.emphasis.edgeLabel));var t=e.markPoint;t&&(Bh(t),Vr(t));var n=e.markLine;n&&(Bh(n),Vr(n));var i=e.markArea;i&&Vr(i);var o=e.data;if("graph"===e.type){o=o||e.nodes;var a=e.links||e.edges;if(a&&!Te(a))for(l=0;l<a.length;l++)Vr(a[l]);m(e.categories,function(c){rc(c)})}if(o&&!Te(o))for(l=0;l<o.length;l++)Vr(o[l]);if((t=e.markPoint)&&t.data)for(var s=t.data,l=0;l<s.length;l++)Vr(s[l]);if((n=e.markLine)&&n.data){var u=n.data;for(l=0;l<u.length;l++)$(u[l])?(Vr(u[l][0]),Vr(u[l][1])):Vr(u[l])}"gauge"===e.type?(Xi(e),Xi(e),Xi(e)):"treemap"===e.type&&(ur(e.breadcrumb,"itemStyle"),m(e.levels,function(c){rc(c)}))}}(i)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Qr(n,function(i){Qr(Co(e[i]),function(o){o&&(Xi(o),Xi(o.axisPointer))})}),Qr(Co(e.parallel),function(i){var o=i&&i.parallelAxisDefault;Xi(o),Xi(o&&o.axisPointer)}),Qr(Co(e.calendar),function(i){ur(i,"itemStyle"),Xi(i),Xi(i),Xi(i)}),Qr(Co(e.radar),function(i){Xi(i)}),Qr(Co(e.geo),function(i){Rd(i)&&(Vr(i),Qr(Co(i.regions),function(o){Vr(o)}))}),Qr(Co(e.timeline),function(i){Vr(i),ur(i,"label"),ur(i,"itemStyle"),ur(i,"controlStyle",!0),ur(i,"checkpointStyle");var o=i.data;$(o)&&m(o,function(a){Ce(a)&&(ur(a,"label"),ur(a,"itemStyle"))})}),Qr(Co(e.toolbox),function(i){ur(i,"iconStyle"),Qr(i.feature,function(o){ur(o,"iconStyle")})}),Xi(av(e.axisPointer)),Xi(av(e.tooltip).axisPointer)})(e,t),e.series=z(e.series),m(e.series,function(n){if(Ce(n)){var i=n.type;if("pie"!==i&&"gauge"!==i||null!=n.clockWise&&(n.clockwise=n.clockWise),"gauge"===i){var o=function(e,t){t=t.split(",");for(var n=e,i=0;i<t.length&&null!=(n=n&&n[t[i]]);i++);return n}(n,"pointer.color");null!=o&&function(e,t,n,i){t=t.split(",");for(var o,a=e,s=0;s<t.length-1;s++)null==a[o=t[s]]&&(a[o]={}),a=a[o];null==a[t[s]]&&(a[t[s]]=n)}(n,"itemStyle.normal.color",o)}sv(n)}}),e.dataRange&&(e.visualMap=e.dataRange),m(BA,function(n){var i=e[n];i&&($(i)||(i=[i]),m(i,function(o){sv(o)}))})},pg=lv.prototype;pg.pure=!1,pg.persistent=!0,pg.getSource=function(){return this._source};var OA={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:Oh},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],n=this._data,i=0;i<n.length;i++){var o=n[i];t.push(o?o[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:uv,getItem:cv,appendData:Oh},keyedColumns:{pure:!0,count:function(){var t=this._data[this._source.dimensionsDefine[0].name];return t?t.length:0},getItem:function(e){for(var t=[],n=this._source.dimensionsDefine,i=0;i<n.length;i++){var o=this._data[n[i].name];t.push(o?o[e]:null)}return t},appendData:function(e){var t=this._data;m(e,function(n,i){for(var o=t[i]||(t[i]=[]),a=0;a<(n||[]).length;a++)o.push(n[a])})}},original:{count:uv,getItem:cv,appendData:Oh},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e){for(var t=[],n=this._dimSize*(e-=this._offset),i=0;i<this._dimSize;i++)t[i]=this._data[n+i];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}},zA={arrayRows:zh,objectRows:function(e,t,n,i){return null!=n?e[i]:e},keyedColumns:zh,original:function(e,t,n,i){var o=N(e);return null!=n&&o instanceof Array?o[n]:o},typedArray:zh},FA={arrayRows:dv,objectRows:function(e,t,n,i){return Fh(e[t],this._dimensionInfos[t])},keyedColumns:dv,original:function(e,t,n,i){var o=e&&(null==e.value?e:e.value);return!this._rawData.pure&&function(e){return js(e)&&!(e instanceof Array)}(e)&&(this.hasItemOption=!0),Fh(o instanceof Array?o[i]:o,this._dimensionInfos[t])},typedArray:function(e,t,n,i){return e[i]}},HA=/\{@(.+?)\}/g,gg={getDataParams:function(e,t){var n=this.getData(t),i=this.getRawValue(e,t),o=n.getRawIndex(e),a=n.getName(e,!0),s=n.getRawDataItem(e),l=n.getItemVisual(e,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:a,dataIndex:o,data:s,dataType:t,value:i,color:l,marker:tc(l),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,n,i,o){t=t||"normal";var a=this.getData(n),s=a.getItemModel(e),l=this.getDataParams(e,n);null!=i&&l.value instanceof Array&&(l.value=l.value[i]);var u=s.get("normal"===t?[o||"label","formatter"]:[t,o||"label","formatter"]);return"function"==typeof u?(l.status=t,u(l)):"string"==typeof u?Nh(u,l).replace(HA,function(c,d){var h=d.length;return"["===d.charAt(0)&&"]"===d.charAt(h-1)&&(d=+d.slice(1,h-1)),wa(a,e,d)}):void 0},getRawValue:function(e,t){return wa(this.getData(t),e)},formatTooltip:function(){}},Ko=hv.prototype;Ko.perform=function(e){var o,t=this._upstream,n=e&&e.skip;if(this._dirty&&t){var i=this.context;i.data=i.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!n&&(o=this._plan(this.context)),(this._dirty||"reset"===o)&&(this._dirty=!1,function(e,t){e._dueIndex=e._outputDueEnd=e._dueEnd=0,e._settedOutputEnd=null,e._progress=!t&&e._reset&&e._reset(e.context);var n=e._downstream;n&&n.dirty()}(this,n));var a=e&&e.step;if(this._dueEnd=t?t._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var s=this._dueIndex,l=Math.min(null!=a?this._dueIndex+a:1/0,this._dueEnd);!n&&s<l&&this._progress({start:s,end:l},this.context),this._dueIndex=l,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:l}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},Ko.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},Ko.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},Ko.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},Ko.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},Ko.getUpstream=function(){return this._upstream},Ko.getDownstream=function(){return this._downstream},Ko.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};var gu=Y(),Zi=hi.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(e,t,n,i){this.seriesIndex=this.componentIndex,this.dataTask=Ll({count:xC,reset:bC}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n),ev(this);var o=this.getInitialData(e,n);pv(o,this),this.dataTask.context.data=o,gu(this).dataBeforeProcessed=o,fv(this)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,i=n?Ts(e):{},o=this.subType;hi.hasClass(o)&&(o+="Series"),he(e,t.getTheme().get(this.subType)),he(e,this.getDefaultOption()),te(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&Ho(e,i,n)},mergeOption:function(e,t){e=he(this.option,e,!0),this.fillDataTextStyle(e.data);var n=this.layoutMode;n&&Ho(this.option,e,n),ev(this);var i=this.getInitialData(e,t);pv(i,this),this.dataTask.dirty(),this.dataTask.context.data=i,gu(this).dataBeforeProcessed=i,fv(this)},fillDataTextStyle:function(e){if(e)for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&te(e[n],"label",t)},getInitialData:function(){},appendData:function(e){this.getRawData().appendData(e.data)},getData:function(e){var t=Hh(this);if(t){var n=t.context.data;return null==e?n:n.getLinkedData(e)}return gu(this).data},setData:function(e){var t=Hh(this);if(t){var n=t.context;n.data!==e&&t.isOverallFilter&&t.setOutputEnd(e.count()),n.outputData=e,t!==this.dataTask&&(n.data=e)}gu(this).data=e},getSource:function(){return function(e){return Qs(e).source}(this)},getRawData:function(){return gu(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,n){var o=this.getData(),a=o.mapDimension("defaultedTooltip",!0),s=a.length,l=this.getRawValue(e),u=$(l),c=o.getItemVisual(e,"color");Ce(c)&&c.colorStops&&(c=(c.colorStops[0]||{}).color),c=c||"transparent";var d=s>1||u&&!s?function(D){function X(ce,be){var Be=o.getDimensionInfo(be);if(Be&&!1!==Be.otherDims.tooltip){var He=Be.type,Ye=tc({color:c,type:"subItem"}),$e=(K?Ye+Oi(Be.displayName||"-")+": ":"")+Oi("ordinal"===He?ce+"":"time"===He?t?"":Ph("yyyy/MM/dd hh:mm:ss",ce):_a(ce));$e&&oe.push($e)}}var K=P(D,function(ce,be,Be){var He=o.getDimensionInfo(Be);return ce|(He&&!1!==He.tooltip&&null!=He.displayName)},0),oe=[];return a.length?m(a,function(ce){X(wa(o,e,ce),ce)}):m(D,X),(K?"<br/>":"")+oe.join(K?"<br/>":", ")}(l):Oi(_a(s?wa(o,e,a[0]):u?l[0]:l)),h=tc(c),f=o.getName(e),p=this.name;return p===dd&&(p=""),p=p?Oi(p)+(t?": ":"<br/>"):"",t?h+p+d:p+h+(f?Oi(f)+": "+d:d)},isAnimationEnabled:function(){if(li.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,n){var i=this.ecModel,o=cg.getColorFromPalette.call(this,e,t,n);return o||(o=i.getColorFromPalette(e,t,n)),o},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});M(Zi,gg),M(Zi,cg);var No=function(){this.group=new Ln,this.uid=Qu("viewComponent")};No.prototype={constructor:No,init:function(e,t){},render:function(e,t,n,i){},dispose:function(){}};var mg=No.prototype;mg.updateView=mg.updateLayout=mg.updateVisual=function(e,t,n,i){},De(No),we(No,{registerWhenExtend:!0});var vg=function(){var e=Y();return function(t){var n=e(t),i=t.pipelineContext,o=n.large,a=n.incrementalRender,s=n.large=i.large,l=n.incrementalRender=i.incrementalRender;return(o^s||a^l)&&"reset"}},ub=Y(),VA=vg(),yg=ar.prototype={type:"chart",init:function(e,t){},render:function(e,t,n,i){},highlight:function(e,t,n,i){gv(e.getData(),i,"emphasis")},downplay:function(e,t,n,i){gv(e.getData(),i,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null};yg.updateView=yg.updateLayout=yg.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},De(ar),we(ar,{registerWhenExtend:!0}),ar.markUpdateMethod=function(e,t){ub(e).updateMethod=t};var Bd="\0__throttleOriginMethod",cb="\0__throttleRate",db="\0__throttleType",WA={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),i=(e.visualColorAccessPath||"itemStyle.color").split("."),o=e.get(i)||e.getColorFromPalette(e.get("name"),null,t.getSeriesCount());if(n.setVisual("color",o),!t.isSeriesFiltered(e))return"function"!=typeof o||o instanceof fo||n.each(function(a){n.setItemVisual(a,"color",o(e.getDataParams(a)))}),{dataEach:n.hasItemOption?function(a,s){var l=a.getItemModel(s).get(i,!0);null!=l&&a.setItemVisual(s,"color",l)}:null}}},Jo={toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}},GA=function(e,t){function n(p,D){if("string"!=typeof p)return p;var X=p;return m(D,function(K,oe){X=X.replace(new RegExp("\\{\\s*"+oe+"\\s*\\}","g"),K)}),X}function i(p){var D=a.get(p);if(null==D){for(var X=p.split("."),K=Jo.aria,oe=0;oe<X.length;++oe)K=K[X[oe]];return K}return D}function o(p){return Jo.series.typeNames[p]||"\u81ea\u5b9a\u4e49\u56fe"}var p,a=t.getModel("aria");if(a.get("show"))if(a.get("description"))e.setAttribute("aria-label",a.get("description"));else{var s=0;t.eachSeries(function(p,D){++s},this);var l,u=a.get("data.maxCount")||10,c=a.get("series.maxCount")||10,d=Math.min(s,c);if(!(s<1)){var h=((p=t.getModel("title").option)&&p.length&&(p=p[0]),p&&p.text);l=h?n(i("general.withTitle"),{title:h}):i("general.withoutTitle");var f=[];l+=n(i(s>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:s}),t.eachSeries(function(p,D){if(D<d){var X,K=p.get("name"),oe="series."+(s>1?"multiple":"single")+".";X=n(X=i(K?oe+"withName":oe+"withoutName"),{seriesId:p.seriesIndex,seriesName:p.get("name"),seriesType:o(p.subType)});var ce=p.getData();window.data=ce,ce.count()>u?X+=n(i("data.partialData"),{displayCnt:u}):X+=i("data.allData");for(var be=[],Be=0;Be<ce.count();Be++)if(Be<u){var He=ce.getName(Be),Ye=wa(ce,Be);be.push(n(i(He?"data.withName":"data.withoutName"),{name:He,value:Ye}))}X+=be.join(i("data.separator.middle"))+i("data.separator.end"),f.push(X)}}),l+=f.join(i("series.multiple.separator.middle"))+i("series.multiple.separator.end"),e.setAttribute("aria-label",l)}}},Od=Math.PI,eo=oc.prototype;eo.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context;return{step:!t&&n.progressiveEnabled&&(!i||i.incrementalRender)&&e.__idxInPipeline>n.bockIndex?n.step:null}}},eo.getPipeline=function(e){return this._pipelineMap.get(e)},eo.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),i=e.getData().count(),o=n.progressiveEnabled&&t.incrementalPrepareRender&&i>=n.threshold,a=e.get("large")&&i>=e.get("largeThreshold");e.pipelineContext=n.context={incrementalRender:o,large:a}},eo.restorePipelines=function(e){var t=this,n=t._pipelineMap=tt();e.eachSeries(function(i){var o=i.getProgressive(),a=i.uid;n.set(a,{id:a,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:o&&!(i.preventIncremental&&i.preventIncremental()),bockIndex:-1,step:o||700,count:0}),ac(t,i,i.dataTask)})},eo.prepareStageTasks=function(e,t){var n=this._stageTaskMap,i=this.ecInstance.getModel(),o=this.api;m(e,function(a){var s=n.get(a.uid)||n.set(a.uid,[]);a.reset&&function(e,t,n,i,o){function a(d){var h=d.uid,f=s.get(h)||s.set(h,Ll({plan:PC,reset:LC,count:RC}));f.context={model:d,ecModel:i,api:o,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},ac(e,d,f)}var s=n.seriesTaskMap||(n.seriesTaskMap=tt()),l=t.seriesType,u=t.getTargetSeries;t.createOnAllSeries?i.eachRawSeries(a):l?i.eachRawSeriesByType(l,a):u&&u(i,o).each(a);var c=e._pipelineMap;s.each(function(d,h){c.get(h)||(d.dispose(),s.removeKey(h))})}(this,a,s,i,o),a.overallReset&&function(e,t,n,i,o){function a(p){var D=p.uid,X=l.get(D)||l.set(D,Ll({reset:IC,onDirty:NC}));X.context={model:p,overallProgress:d,isOverallFilter:h},X.agent=s,X.__block=d,ac(e,p,X)}var s=n.overallTask=n.overallTask||Ll({reset:AC});s.context={ecModel:i,api:o,overallReset:t.overallReset,scheduler:e};var l=s.agentStubMap=s.agentStubMap||tt(),u=t.seriesType,c=t.getTargetSeries,d=!0,h=t.isOverallFilter;u?i.eachRawSeriesByType(u,a):c?c(i,o).each(a):(d=!1,m(i.getSeries(),a));var f=e._pipelineMap;l.each(function(p,D){f.get(D)||(p.dispose(),l.removeKey(D))})}(this,a,s,i,o)},this)},eo.prepareView=function(e,t,n,i){var o=e.renderTask,a=o.context;a.model=t,a.ecModel=n,a.api=i,o.__block=!e.incrementalPrepareRender,ac(this,t,o)},eo.performDataProcessorTasks=function(e,t,n){vv(this,e,t,n,{block:!0})},eo.performVisualTasks=function(e,t,n,i){vv(this,e,t,n,i)},eo.performSeriesTasks=function(e){var t;e.eachSeries(function(n){t|=n.dataTask.perform()}),this.unfinished|=t},eo.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.bockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};var hb=eo.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)};oc.wrapStageHandler=function(e,t){return fe(e)&&(e={overallReset:e,seriesType:BC(e)}),e.uid=Qu("stageHandler"),t&&(e.visualType=t),e};var zd,mu={},fb={};yv(mu,Pd),yv(fb,ov),mu.eachSeriesByType=mu.eachRawSeriesByType=function(e){zd=e},mu.eachComponent=function(e){"series"===e.mainType&&e.subType&&(zd=e.subType)};var pb=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],UA={color:pb,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],pb]},xg=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],gb={color:xg,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:xg[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},logAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},valueAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},categoryAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},line:{symbol:"circle"},graph:{color:xg},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};gb.categoryAxis.splitLine.show=!1;var jA=Ue,sr=m,qA=fe,vu=Ce,mb=hi.parseClassType,vb=1e3,yb=1e3,xb=3e3,el={PROCESSOR:{FILTER:vb,STATISTIC:5e3},VISUAL:{LAYOUT:yb,GLOBAL:2e3,CHART:xb,COMPONENT:4e3,BRUSH:5e3}},po="__flagInMainProcess",Wa="__optionUpdated",bb=/^[a-zA-Z0-9_]+$/;Rl.prototype.on=As("on"),Rl.prototype.off=As("off"),Rl.prototype.one=As("one"),M(Rl,nr);var bi=Bl.prototype;bi._onframe=function(){if(!this._disposed){var e=this._scheduler;if(this[Wa]){var t=this[Wa].silent;this[po]=!0,Ol(this),Qo.update.call(this),this[po]=!1,this[Wa]=!1,sc.call(this,t),lc.call(this,t)}else if(e.unfinished){var n=1,i=this._model;e.unfinished=!1;do{var o=+new Date;e.performSeriesTasks(i),e.performDataProcessorTasks(yu,i),_v(this,i),e.performVisualTasks(ea,i),Uh(this,this._model,0,"remain"),n-=+new Date-o}while(n>0&&e.unfinished);e.unfinished||(this._zr&&this._zr.flush(),this.trigger("finished"))}}},bi.getDom=function(){return this._dom},bi.getZr=function(){return this._zr},bi.setOption=function(e,t,n){var i;if(vu(t)&&(n=t.lazyUpdate,i=t.silent,t=t.notMerge),this[po]=!0,!this._model||t){var o=new Rh(this._api),a=this._theme,s=this._model=new Pd(null,null,a,o);s.scheduler=this._scheduler,s.init(null,null,a,o)}this._model.setOption(e,_b),n?(this[Wa]={silent:i},this[po]=!1):(Ol(this),Qo.update.call(this),this._zr.flush(),this[Wa]=!1,this[po]=!1,sc.call(this,i),lc.call(this,i))},bi.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},bi.getModel=function(){return this._model},bi.getOption=function(){return this._model&&this._model.getOption()},bi.getWidth=function(){return this._zr.getWidth()},bi.getHeight=function(){return this._zr.getHeight()},bi.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},bi.getRenderedCanvas=function(e){if(li.canvasSupported){(e=e||{}).pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var t=this._zr;return m(t.storage.getDisplayList(),function(n){n.stopAnimation(!0)}),t.painter.getRenderedCanvas(e)}},bi.getSvgDataUrl=function(){if(li.svgSupported){var e=this._zr;return m(e.storage.getDisplayList(),function(t){t.stopAnimation(!0)}),e.painter.pathToSvg()}},bi.getDataURL=function(e){var t=(e=e||{}).excludeComponents,n=this._model,i=[],o=this;sr(t,function(s){n.eachComponent({mainType:s},function(l){var u=o._componentsMap[l.__viewId];u.group.ignore||(i.push(u),u.group.ignore=!0)})});var a="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return sr(i,function(s){s.group.ignore=!1}),a},bi.getConnectedDataURL=function(e){if(li.canvasSupported){var t=this.group,n=Math.min,i=Math.max;if(Vd[t]){var o=1/0,a=1/0,s=-1/0,l=-1/0,u=[],c=e&&e.pixelRatio||1;m(Ga,function(D,X){if(D.group===t){var K=D.getRenderedCanvas(Bt(e)),oe=D.getDom().getBoundingClientRect();o=n(oe.left,o),a=n(oe.top,a),s=i(oe.right,s),l=i(oe.bottom,l),u.push({dom:K,left:oe.left,top:oe.top})}});var d=(s*=c)-(o*=c),h=(l*=c)-(a*=c),f=Ws();f.width=d,f.height=h;var p=U(f);return sr(u,function(D){var X=new tr({style:{x:D.left*c-o,y:D.top*c-a,image:D.dom}});p.add(X)}),p.refreshImmediately(),f.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},bi.convertToPixel=Q(xv,"convertToPixel"),bi.convertFromPixel=Q(xv,"convertFromPixel"),bi.containPixel=function(e,t){var n;return m(e=ae(this._model,e),function(i,o){o.indexOf("Models")>=0&&m(i,function(a){var s=a.coordinateSystem;if(s&&s.containPoint)n|=!!s.containPoint(t);else if("seriesModels"===o){var l=this._chartsMap[a.__viewId];l&&l.containPoint&&(n|=l.containPoint(t,a))}},this)},this),!!n},bi.getVisual=function(e,t){var n=(e=ae(this._model,e,{defaultMainType:"series"})).seriesModel.getData(),i=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?n.indexOfRawIndex(e.dataIndex):null;return null!=i?n.getItemVisual(i,t):n.getVisual(t)},bi.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},bi.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var Qo={prepareAndUpdate:function(e){Ol(this),Qo.update.call(this,e)},update:function(e){var t=this._model,n=this._api,i=this._zr,o=this._coordSysMgr,a=this._scheduler;if(t){t.restoreData(e),a.performSeriesTasks(t),o.create(t,n),a.performDataProcessorTasks(yu,t,e),_v(this,t),function(e){var t={};e.eachSeries(function(n){var i=n.get("stack"),o=n.getData();if(i&&"list"===o.type){var a=t[i];t.hasOwnProperty(i)&&a&&(o.stackedOn=a),t[i]=o}})}(t),o.update(t,n),Gh(t),a.performVisualTasks(ea,t,e),Sv(this,t,n,e);var s=t.get("backgroundColor")||"transparent",l=i.painter;if(l.isSingleCanvas&&l.isSingleCanvas())i.configLayer(0,{clearColor:s});else{if(!li.canvasSupported){var u=Fi(s);s=Bn(u,"rgb"),0===u[3]&&(s="transparent")}s.colorStops||s.image?(i.configLayer(0,{clearColor:s}),this.__hasGradientOrPatternBg=!0,this._dom.style.background="transparent"):(this.__hasGradientOrPatternBg&&i.configLayer(0,{clearColor:null}),this.__hasGradientOrPatternBg=!1,this._dom.style.background=s)}jh(t,n)}},updateTransform:function(e){var t=this._model,n=this,i=this._api;if(t){var o=[];t.eachComponent(function(s,l){var u=n.getViewOfComponentModel(l);if(u&&u.__alive)if(u.updateTransform){var c=u.updateTransform(l,t,i,e);c&&c.update&&o.push(u)}else o.push(u)});var a=tt();t.eachSeries(function(s){var l=n._chartsMap[s.__viewId];if(l.updateTransform){var u=l.updateTransform(s,t,i,e);u&&u.update&&a.set(s.uid,1)}else a.set(s.uid,1)}),Gh(t),this._scheduler.performVisualTasks(ea,t,e,{setDirty:!0,dirtyMap:a}),Uh(n,t,0,e,a),jh(t,this._api)}},updateView:function(e){var t=this._model;t&&(ar.markUpdateMethod(e,"updateView"),Gh(t),this._scheduler.performVisualTasks(ea,t,e,{setDirty:!0}),Sv(this,this._model,this._api,e),jh(t,this._api))},updateVisual:function(e){Qo.update.call(this,e)},updateLayout:function(e){Qo.update.call(this,e)}};bi.resize=function(e){this._zr.resize(e);var t=this._model;this._loadingFX&&this._loadingFX.resize(),t&&function(e,t,n){e[po]=!0,t&&Ol(e),Qo.update.call(e),e[po]=!1,sc.call(e,n),lc.call(e,n)}(this,t.resetOption("media"),e&&e.silent)},bi.showLoading=function(e,t){if(vu(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),bg[e]){var n=bg[e](this._api,t),i=this._zr;this._loadingFX=n,i.add(n)}},bi.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},bi.makeActionFromEvent=function(e){var t=J({},e);return t.type=Hd[e.type],t},bi.dispatchAction=function(e,t){vu(t)||(t={silent:!!t}),Fd[e.type]&&this._model&&(this[po]?this._pendingActions.push(e):(wv.call(this,e,t.silent),t.flush?this._zr.flush(!0):!1!==t.flush&&li.browser.weChat&&this._throttledZrFlush(),sc.call(this,t.silent),lc.call(this,t.silent)))},bi.appendData=function(e){var t=e.seriesIndex;this.getModel().getSeriesByIndex(t).appendData(e),this._scheduler.unfinished=!0},bi.on=As("on"),bi.off=As("off"),bi.one=As("one");var YA=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];bi._initEvents=function(){sr(YA,function(e){this._zr.on(e,function(t){var n,i=this.getModel(),o=t.target;if("globalout"===e)n={};else if(o&&null!=o.dataIndex){var a=o.dataModel||i.getSeriesByIndex(o.seriesIndex);n=a&&a.getDataParams(o.dataIndex,o.dataType)||{}}else o&&o.eventData&&(n=J({},o.eventData));n&&(n.event=t,n.type=e,this.trigger(e,n))},this)},this),sr(Hd,function(e,t){this._messageCenter.on(t,function(n){this.trigger(t,n)},this)},this)},bi.isDisposed=function(){return this._disposed},bi.clear=function(){this.setOption({series:[]},!0)},bi.dispose=function(){if(!this._disposed){this._disposed=!0,Ee(this.getDom(),_g,"");var e=this._api,t=this._model;sr(this._componentsViews,function(n){n.dispose(t,e)}),sr(this._chartsViews,function(n){n.dispose(t,e)}),this._zr.dispose(),delete Ga[this.id]}},M(Bl,nr);var Fd={},Hd={},yu=[],_b=[],wb=[],ea=[],Cb={},bg={},Ga={},Vd={},XA=new Date-0,$A=new Date-0,_g="_echarts_instance_",Sb={},KA=Tv;Di(2e3,WA),cr(lb),kv("default",function(e,t){ne(t=t||{},{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var n=new Ti({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),i=new $x({shape:{startAngle:-Od/2,endAngle:-Od/2+.1,r:10},style:{stroke:t.color,lineCap:"round",lineWidth:5},zlevel:t.zlevel,z:10001}),o=new Ti({style:{fill:"none",text:t.text,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});i.animateShape(!0).when(1e3,{endAngle:3*Od/2}).start("circularInOut"),i.animateShape(!0).when(1e3,{startAngle:3*Od/2}).delay(300).start("circularInOut");var a=new Ln;return a.add(i),a.add(o),a.add(n),a.resize=function(){var s=e.getWidth()/2,l=e.getHeight()/2;i.setShape({cx:s,cy:l});var u=i.shape.r;o.setShape({x:s-u,y:l-u,width:2*u,height:2*u}),n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},a.resize(),a}),yi({type:"highlight",event:"highlight",update:"highlight"},It),yi({type:"downplay",event:"downplay",update:"downplay"},It),Zh("light",UA),Zh("dark",gb),So.prototype={constructor:So,add:function(e){return this._add=e,this},update:function(e){return this._update=e,this},remove:function(e){return this._remove=e,this},execute:function(){var e=this._old,t=this._new,n={},i=[],o=[];for(Iv(e,{},i,"_oldKeyGetter",this),Iv(t,n,o,"_newKeyGetter",this),a=0;a<e.length;a++)null!=(l=n[s=i[a]])?((c=l.length)?(1===c&&(n[s]=null),l=l.unshift()):n[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a);for(var a=0;a<o.length;a++){var s=o[a];if(n.hasOwnProperty(s)){var l=n[s];if(null==l)continue;if(l.length)for(var u=0,c=l.length;u<c;u++)this._add&&this._add(l[u]);else this._add&&this._add(l)}}}};var Mb=tt(["tooltip","label","itemName","itemId","seriesName"]),wg=Ce,xu="undefined",ta=typeof window===xu?global:window,QA="e\0\0",eI={float:typeof ta.Float64Array===xu?Array:ta.Float64Array,int:typeof ta.Int32Array===xu?Array:ta.Int32Array,ordinal:Array,number:Array,time:Array},tI=["stackedOn","hasItemOption","_nameList","_idList","_rawData","_rawExtent","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],ir=function(e,t){e=e||["x","y"];for(var n={},i=[],o=0;o<e.length;o++){var a,s={};"string"==typeof e[o]?s={name:a=e[o],coordDim:a,coordDimIndex:0,stackable:!1,type:"float"}:(a=(s=e[o]).name,s.type=s.type||"float",s.coordDim||(s.coordDim=a,s.coordDimIndex=0)),s.otherDims=s.otherDims||{},i.push(a),n[a]=s,s.index=o}this.dimensions=i,this._dimensionInfos=n,this.hostModel=t,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=function(e){var t={},n=t.encode={},i=t.coordDimMap=tt(),o=[];m(e.dimensions,function(c){var d=e.getDimensionInfo(c),h=d.coordDim;if(h){var f=n[h];n.hasOwnProperty(h)||(f=n[h]=[]),f[d.coordDimIndex]=c,d.isSysCoord&&function(e){return!("ordinal"===e||"time"===e)}(d.type)&&(o[0]=c),i.set(h,1)}Mb.each(function(p,D){var X=n[D];n.hasOwnProperty(D)||(X=n[D]=[]);var K=d.otherDims[D];null!=K&&!1!==K&&(X[K]=d.name)})});var a=[];i.each(function(c,d){a=a.concat(n[d])}),t.dataDimsOnCoord=a;var s=n.label;s&&s.length&&(o=s.slice());var l=o.slice(),u=n.tooltip;return u&&u.length&&(l=u.slice()),n.defaultedLabel=o,n.defaultedTooltip=l,t}(this)},Vn=ir.prototype;Vn.type="list",Vn.hasItemOption=!0,Vn.getDimension=function(e){return isNaN(e)||(e=this.dimensions[e]||e),e},Vn.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]},Vn.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},Vn.mapDimension=function(e,t){var n=this._dimensionsSummary.encode[e];return!0===t?n&&n.slice()||[]:n?n[t||0]:null},Vn.initData=function(e,t,n){(Xr.isInstance(e)||H(e))&&(e=new lv(e,this.dimensions.length)),this._rawData=e,this._storage={},this._indices=null,this._nameList=t||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=FA[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._rawExtent={},this._initDataFromProvider(0,e.count()),e.pure&&(this.hasItemOption=!1)},Vn.getProvider=function(){return this._rawData},Vn.appendData=function(e){var t=this._rawData,n=this.count();t.appendData(e);var i=t.count();t.persistent||(i+=n),this._initDataFromProvider(n,i)},Vn._initDataFromProvider=function(e,t){if(!(e>=t)){for(var n,i=this._chunkSize,o=this._rawData,a=this._storage,s=this.dimensions,l=this._dimensionInfos,u=this._nameList,c=this._idList,d=this._rawExtent,h=this._nameRepeatCount={},f=this._chunkCount,p=f-1,D=0;D<s.length;D++){d[mt=s[D]]||(d[mt]=[1/0,-1/0]);var X=l[mt];0===X.otherDims.itemName&&(n=this._nameDimIdx=D),0===X.otherDims.itemId&&(this._idDimIdx=D);var K=eI[X.type];a[mt]||(a[mt]=[]);var oe=a[mt][p];if(oe&&oe.length<i){for(var ce=new K(Math.min(t-p*i,i)),be=0;be<oe.length;be++)ce[be]=oe[be];a[mt][p]=ce}for(nt=f*i;nt<t;nt+=i)a[mt].push(new K(Math.min(t-nt,i)));this._chunkCount=a[mt].length}for(var Be=e;Be<t;Be++){for(var He=o.getItem(Be),Ye=Math.floor(Be/i),$e=Be%i,nt=0;nt<s.length;nt++){var mt=s[nt],Qt=a[mt][Ye],Yt=this._dimValueGetter(He,mt,Be,nt);Qt[$e]=Yt,Yt<d[mt][0]&&(d[mt][0]=Yt),Yt>d[mt][1]&&(d[mt][1]=Yt)}if(!o.pure){var sn=u[Be];He&&!sn&&(null!=n?sn=this._getNameFromStore(Be):null!=He.name&&(u[Be]=sn=He.name));var xn=null==He?null:He.id;null==xn&&null!=sn&&(h[sn]=h[sn]||0,xn=sn,h[sn]>0&&(xn+="__ec__"+h[sn]),h[sn]++),null!=xn&&(c[Be]=xn)}}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=t,this._extent={}}},Vn._getNameFromStore=function(e){var t=this._nameDimIdx;if(null!=t){var n=this._chunkSize,i=Math.floor(e/n),a=this.dimensions[t],s=this._dimensionInfos[a].ordinalMeta;if(s)return s.categories[e];var l=this._storage[a][i];return l&&l[e%n]}},Vn._getIdFromStore=function(e){var t=this._idDimIdx;if(null!=t){var n=this._chunkSize,i=Math.floor(e/n),a=this.dimensions[t],s=this._dimensionInfos[a].ordinalMeta;if(s)return s.categories[e];var l=this._storage[a][i];return l&&l[e%n]}},Vn.count=function(){return this._count},Vn.getIndices=function(){if(this._indices)return new(e=this._indices.constructor)(this._indices.buffer,0,this._count);for(var e=dc(this),t=new e(this.count()),n=0;n<t.length;n++)t[n]=n;return t},Vn.get=function(e,t,n){if(!(t>=0&&t<this._count))return NaN;var i=this._storage;if(!i[e])return NaN;t=this.getRawIndex(t);var o=Math.floor(t/this._chunkSize),s=i[e][o][t%this._chunkSize];if(n){var l=this._dimensionInfos[e];if(l&&l.stackable)for(var u=this.stackedOn;u;){var c=u.get(e,t);(s>=0&&c>0||s<=0&&c<0)&&(s+=c),u=u.stackedOn}}return s},Vn._getFast=function(e,t){var n=Math.floor(t/this._chunkSize);return this._storage[e][n][t%this._chunkSize]},Vn.getValues=function(e,t,n){var i=[];$(e)||(n=t,t=e,e=this.dimensions);for(var o=0,a=e.length;o<a;o++)i.push(this.get(e[o],t,n));return i},Vn.hasValue=function(e){for(var t=this._dimensionsSummary.dataDimsOnCoord,n=this._dimensionInfos,i=0,o=t.length;i<o;i++)if("ordinal"!==n[t[i]].type&&isNaN(this.get(t[i],e)))return!1;return!0},Vn.getDataExtent=function(e,t){e=this.getDimension(e);var n=this._storage[e],i=[1/0,-1/0];if(t=!!t&&this.isStacked(e),!n)return i;var o,a=this.count(),s=[e,!!t].join("_");if(!this._indices&&!t)return this._rawExtent[e].slice();if(o=this._extent[s])return o.slice();for(var l=(o=i)[0],u=o[1],c=0;c<a;c++){var d=t?this.get(e,c,!0):this._getFast(e,this.getRawIndex(c));d<l&&(l=d),d>u&&(u=d)}return this._extent[s]=o=[l,u],o},Vn.getApproximateExtent=function(e,t){return e=this.getDimension(e),this._approximateExtent[e]||this.getDataExtent(e,t)},Vn.setApproximateExtent=function(e,t,n){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},Vn.isStacked=function(e){var t=this._dimensionInfos[e];return t&&t.stackable&&this.stackedOn},Vn.getSum=function(e,t){var n=0;if(this._storage[e])for(var i=0,o=this.count();i<o;i++){var a=this.get(e,i,t);isNaN(a)||(n+=a)}return n},Vn.indexOf=function(e,t){var n=this._storage[e],i=this._chunkSize;if(n)for(var o=0,a=this.count();o<a;o++){var s=o%i;if(n[Math.floor(o/i)][s]===t)return o}return-1},Vn.indexOfName=function(e){for(var t=0,n=this.count();t<n;t++)if(this.getName(t)===e)return t;return-1},Vn.indexOfRawIndex=function(e){if(!this._indices)return e;if(e>=this._rawCount||e<0)return-1;var t=this._indices,n=t[e];if(null!=n&&n<this._count&&n===e)return e;for(var i=0,o=this._count-1;i<=o;){var a=(i+o)/2|0;if(t[a]<e)i=a+1;else{if(!(t[a]>e))return a;o=a-1}}return-1},Vn.indicesOfNearest=function(e,t,n,i){var o=[];if(!this._storage[e])return o;null==i&&(i=1/0);for(var a=Number.MAX_VALUE,s=-1,l=0,u=this.count();l<u;l++){var c=t-this.get(e,l,n),d=Math.abs(c);c<=i&&d<=a&&((d<a||c>=0&&s<0)&&(a=d,s=c,o.length=0),o.push(l))}return o},Vn.getRawIndex=Fl,Vn.getRawDataItem=function(e){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(e));for(var t=[],n=0;n<this.dimensions.length;n++)t.push(this.get(this.dimensions[n],e));return t},Vn.getName=function(e){var t=this.getRawIndex(e);return this._nameList[t]||this._getNameFromStore(t)||""},Vn.getId=function(e){return $h(this,this.getRawIndex(e))},Vn.each=function(e,t,n,i){if(this._count){"function"==typeof e&&(i=n,n=t,t=e,e=[]);var o=(e=y(Kh(e),this.getDimension,this)).length;i=i||this;for(var a=0;a<this.count();a++)switch(o){case 0:t.call(i,a);break;case 1:t.call(i,this.get(e[0],a,n),a);break;case 2:t.call(i,this.get(e[0],a,n),this.get(e[1],a,n),a);break;default:for(var s=0,l=[];s<o;s++)l[s]=this.get(e[s],a,n);l[s]=a,t.apply(i,l)}}},Vn.filterSelf=function(e,t,n,i){if(this._count){"function"==typeof e&&(i=n,n=t,t=e,e=[]),n=n||!1,i=i||this,e=y(Kh(e),this.getDimension,this);for(var o=this.count(),a=new(dc(this))(o),s=[],l=e.length,u=0,c=e[0],d=0;d<o;d++){var h,f=this.getRawIndex(d);if(0===l)h=t.call(i,d);else if(1===l){var p=n?this.get(c,d,!0):this._getFast(c,f);h=t.call(i,p,d)}else{for(var D=0;D<l;D++)s[D]=n?this.get(e[D],d,!0):this._getFast(c,f);s[D]=d,h=t.apply(i,s)}h&&(a[u++]=f)}return u<o&&(this._indices=a),this._count=u,this._extent={},this.getRawIndex=this._indices?Hl:Fl,this}},Vn.selectRange=function(e,t){if(this._count){t=t||!1;var n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(i);var o=n.length;if(o){var a=this.count(),s=new(dc(this))(a),l=0,u=n[0],c=e[u][0],d=e[u][1],h=!1;if(!this._indices&&!t){var f=0;if(1===o){for(var p=this._storage[n[0]],D=0;D<this._chunkCount;D++)for(var X=p[D],K=Math.min(this._count-D*this._chunkSize,this._chunkSize),oe=0;oe<K;oe++)(Ye=X[oe])>=c&&Ye<=d&&(s[l++]=f),f++;h=!0}else if(2===o){p=this._storage[u];var ce=this._storage[n[1]],be=e[n[1]][0],Be=e[n[1]][1];for(D=0;D<this._chunkCount;D++){X=p[D];var He=ce[D];for(K=Math.min(this._count-D*this._chunkSize,this._chunkSize),oe=0;oe<K;oe++){var Ye=X[oe],$e=He[oe];Ye>=c&&Ye<=d&&$e>=be&&$e<=Be&&(s[l++]=f),f++}}h=!0}}if(!h)if(1===o)for(t=t||this.isStacked(u),oe=0;oe<a;oe++)mt=this.getRawIndex(oe),(Ye=t?this.get(u,oe,!0):this._getFast(u,mt))>=c&&Ye<=d&&(s[l++]=mt);else for(oe=0;oe<a;oe++){var nt=!0,mt=this.getRawIndex(oe);for(D=0;D<o;D++){var Qt=n[D];((Ye=t?this.get(Qt,oe,!0):this._getFast(i,mt))<e[Qt][0]||Ye>e[Qt][1])&&(nt=!1)}nt&&(s[l++]=this.getRawIndex(oe))}return l<a&&(this._indices=s),this._count=l,this._extent={},this.getRawIndex=this._indices?Hl:Fl,this}}},Vn.mapArray=function(e,t,n,i){"function"==typeof e&&(i=n,n=t,t=e,e=[]);var o=[];return this.each(e,function(){o.push(t&&t.apply(this,arguments))},n,i),o},Vn.map=function(e,t,n,i){var o=Nv(this,e=y(Kh(e),this.getDimension,this));o._indices=this._indices,o.getRawIndex=o._indices?Hl:Fl;for(var a=o._storage,s=[],l=this._chunkSize,u=e.length,c=this.count(),d=[],h=0;h<c;h++){for(var f=0;f<u;f++)d[f]=this.get(e[f],h,n);d[u]=h;var p=t&&t.apply(i,d);if(null!=p){"object"!=typeof p&&(s[0]=p,p=s);for(var D=this.getRawIndex(h),X=Math.floor(D/l),K=D%l,oe=0;oe<p.length;oe++){var ce=a[e[oe]];ce&&(ce[X][K]=p[oe])}}}return o},Vn.downSample=function(e,t,n,i){for(var o=Nv(this,[e]),a=o._storage,s=[],l=Math.floor(1/t),u=a[e],c=this.count(),d=this._chunkSize,h=new(dc(this))(c),f=0,p=0;p<c;p+=l){l>c-p&&(s.length=l=c-p);for(var D=0;D<l;D++){var X=this.getRawIndex(p+D),K=Math.floor(X/d);s[D]=u[K][X%d]}var ce=n(s),be=this.getRawIndex(Math.min(p+i(s,ce)||0,c-1)),Be=be%d;u[Math.floor(be/d)][Be]=ce,h[f++]=be}return o._count=f,o._indices=h,o.getRawIndex=Hl,o},Vn.getItemModel=function(e){var t=this.hostModel;return new vi(this.getRawDataItem(e),t,t&&t.ecModel)},Vn.diff=function(e){var t=this;return new So(e?e.getIndices():[],this.getIndices(),function(n){return $h(e,n)},function(n){return $h(t,n)})},Vn.getVisual=function(e){var t=this._visual;return t&&t[e]},Vn.setVisual=function(e,t){if(wg(e))for(var n in e)e.hasOwnProperty(n)&&this.setVisual(n,e[n]);else this._visual=this._visual||{},this._visual[e]=t},Vn.setLayout=function(e,t){if(wg(e))for(var n in e)e.hasOwnProperty(n)&&this.setLayout(n,e[n]);else this._layout[e]=t},Vn.getLayout=function(e){return this._layout[e]},Vn.getItemLayout=function(e){return this._itemLayouts[e]},Vn.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?J(this._itemLayouts[e]||{},t):t},Vn.clearItemLayouts=function(){this._itemLayouts.length=0},Vn.getItemVisual=function(e,t,n){var i=this._itemVisuals[e],o=i&&i[t];return null!=o||n?o:this.getVisual(t)},Vn.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{},o=this.hasItemVisual;if(this._itemVisuals[e]=i,wg(t))for(var a in t)t.hasOwnProperty(a)&&(i[a]=t[a],o[a]=!0);else i[t]=n,o[t]=!0},Vn.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var nI=function(e){e.seriesIndex=this.seriesIndex,e.dataIndex=this.dataIndex,e.dataType=this.dataType};Vn.setItemGraphicEl=function(e,t){var n=this.hostModel;t&&(t.dataIndex=e,t.dataType=this.dataType,t.seriesIndex=n&&n.seriesIndex,"group"===t.type&&t.traverse(nI,t)),this._graphicEls[e]=t},Vn.getItemGraphicEl=function(e){return this._graphicEls[e]},Vn.eachItemGraphicEl=function(e,t){m(this._graphicEls,function(n,i){n&&e&&e.call(t,n,i)})},Vn.cloneShallow=function(e){if(!e){var t=y(this.dimensions,this.getDimensionInfo,this);e=new ir(t,this.hostModel)}return e._storage=this._storage,Dv(e,this),e._indices=this._indices?new(0,this._indices.constructor)(this._indices):null,e.getRawIndex=e._indices?Hl:Fl,e._extent=Bt(this._extent),e._approximateExtent=Bt(this._approximateExtent),e},Vn.wrapMethod=function(e,t){var n=this[e];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=n.apply(this,arguments);return t.apply(this,[i].concat(Se(arguments)))})},Vn.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],Vn.CHANGABLE_METHODS=["filterSelf","selectRange"];var tl=function(e,t){return Pv((t=t||{}).coordDimensions||[],e,{dimsDef:t.dimensionsDefine||e.dimensionsDefine,encodeDef:t.encodeDefine||e.encodeDefine,dimCount:t.dimensionsCount,extraPrefix:t.extraPrefix,extraFromZero:t.extraFromZero})};$i.prototype.parse=function(e){return e},$i.prototype.getSetting=function(e){return this._setting[e]},$i.prototype.contain=function(e){var t=this._extent;return e>=t[0]&&e<=t[1]},$i.prototype.normalize=function(e){var t=this._extent;return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])},$i.prototype.scale=function(e){var t=this._extent;return e*(t[1]-t[0])+t[0]},$i.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},$i.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t,!0))},$i.prototype.getExtent=function(){return this._extent.slice()},$i.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},$i.prototype.getTicksLabels=function(){for(var e=[],t=this.getTicks(),n=0;n<t.length;n++)e.push(this.getLabel(t[n]));return e},$i.prototype.isBlank=function(){return this._isBlank},$i.prototype.setBlank=function(e){this._isBlank=e},De($i),we($i,{registerWhenExtend:!0}),Vl.createByAxisModel=function(e){var t=e.option,n=t.data,i=n&&y(n,JC);return new Vl({categories:i,needCollect:!i,deduplication:!1!==t.dedplication})};var Tb=Vl.prototype;Tb.getOrdinal=function(e){return Ev(this).get(e)},Tb.parseAndCollect=function(e){var t,n=this._needCollect;if("string"!=typeof e&&!n)return e;if(n&&!this._deduplication)return this.categories[t=this.categories.length]=e,t;var i=Ev(this);return null==(t=i.get(e))&&(n?(this.categories[t=this.categories.length]=e,i.set(e,t)):t=NaN),t};var Cg=$i.prototype,Sg=$i.extend({type:"ordinal",init:function(e,t){e&&!$(e)||(e=new Vl({categories:e})),this._ordinalMeta=e,this._extent=t||[0,e.categories.length-1]},parse:function(e){return"string"==typeof e?this._ordinalMeta.getOrdinal(e):Math.round(e)},contain:function(e){return e=this.parse(e),Cg.contain.call(this,e)&&null!=this._ordinalMeta.categories[e]},normalize:function(e){return Cg.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(Cg.scale.call(this,e))},getTicks:function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push(n),n++;return e},getLabel:function(e){return this._ordinalMeta.categories[e]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t,!1))},niceTicks:It,niceExtent:It});Sg.create=function(){return new Sg};var Mg=br,Tg=br,go=$i.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},unionExtent:function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),go.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=Rv(e)},getTicks:function(){return function(e,t,n,i){var o=[];if(!e)return o;t[0]<n[0]&&o.push(t[0]);for(var a=n[0];a<=n[1]&&(o.push(a),(a=Mg(a+e,i))!==o[o.length-1]);)if(o.length>1e4)return[];return t[1]>(o.length?o[o.length-1]:n[1])&&o.push(t[1]),o}(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){for(var e=[],t=this.getTicks(),n=0;n<t.length;n++)e.push(this.getLabel(t[n]));return e},getLabel:function(e,t){if(null==e)return"";var n=t&&t.precision;return null==n?n=ec(e)||0:"auto"===n&&(n=this._intervalPrecision),_a(e=Tg(e,n,!0))},niceTicks:function(e,t,n){e=e||5;var i=this._extent,o=i[1]-i[0];if(isFinite(o)){o<0&&(o=-o,i.reverse());var a=function(e,t,n,i){var o={},s=o.interval=Ih((e[1]-e[0])/t,!0);null!=n&&s<n&&(s=o.interval=n),null!=i&&s>i&&(s=o.interval=i);var l=o.intervalPrecision=Rv(s);return Ov(o.niceTickExtent=[Mg(Math.ceil(e[0]/s)*s,l),Mg(Math.floor(e[1]/s)*s,l)],e),o}(i,e,t,n);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},niceExtent:function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var n=t[0];e.fixMax||(t[1]+=n/2),t[0]-=n/2}else t[1]=1;isFinite(t[1]-t[0])||(t[0]=0,t[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var o=this._interval;e.fixMin||(t[0]=Tg(Math.floor(t[0]/o)*o)),e.fixMax||(t[1]=Tg(Math.ceil(t[1]/o)*o))}});go.create=function(){return new go};var kg="__ec_stack_",iI=go.prototype,kb=Math.ceil,Ab=Math.floor,Ag=go.extend({type:"time",getLabel:function(e){var t=this._stepLvl,n=new Date(e);return Ph(t[0],n,this.getSetting("useUTC"))},niceExtent:function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=864e5,t[1]+=864e5),t[1]===-1/0&&t[0]===1/0){var n=new Date;t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-864e5}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;e.fixMin||(t[0]=br(Ab(t[0]/i)*i)),e.fixMax||(t[1]=br(kb(t[1]/i)*i))},niceTicks:function(e,t,n){var i=this._extent,o=i[1]-i[0],a=o/(e=e||10);null!=t&&a<t&&(a=t),null!=n&&a>n&&(a=n);var s=Ig.length,l=function(e,t,n,i){for(;n<i;){var o=n+i>>>1;e[o][1]<t?n=o+1:i=o}return n}(Ig,a,0,s),u=Ig[Math.min(l,s-1)],c=u[1];"year"===u[0]&&(c*=Ih(o/c/e,!0));var d=this.getSetting("useUTC")?0:60*new Date(+i[0]||+i[1]).getTimezoneOffset()*1e3,h=[Math.round(kb((i[0]-d)/c)*c+d),Math.round(Ab((i[1]-d)/c)*c+d)];Ov(h,i),this._stepLvl=u,this._interval=c,this._niceExtent=h},parse:function(e){return+Pl(e)}});m(["contain","normalize"],function(e){Ag.prototype[e]=function(t){return iI[e].call(this,this.parse(t))}});var Ig=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",864e5],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",36288e5],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];Ag.create=function(e){return new Ag({useUTC:e.ecModel.get("useUTC")})};var Wd=$i.prototype,Gd=go.prototype,oI=ec,aI=br,sI=Math.floor,lI=Math.ceil,Ud=Math.pow,mo=Math.log,Dg=$i.extend({type:"log",base:10,$constructor:function(){$i.apply(this,arguments),this._originalScale=new go},getTicks:function(){var e=this._originalScale,t=this._extent,n=e.getExtent();return y(Gd.getTicks.call(this),function(i){var o=br(Ud(this.base,i));return o=i===t[0]&&e.__fixMin?hc(o,n[0]):o,i===t[1]&&e.__fixMax?hc(o,n[1]):o},this)},getLabel:Gd.getLabel,scale:function(e){return e=Wd.scale.call(this,e),Ud(this.base,e)},setExtent:function(e,t){var n=this.base;e=mo(e)/mo(n),t=mo(t)/mo(n),Gd.setExtent.call(this,e,t)},getExtent:function(){var e=this.base,t=Wd.getExtent.call(this);t[0]=Ud(e,t[0]),t[1]=Ud(e,t[1]);var n=this._originalScale,i=n.getExtent();return n.__fixMin&&(t[0]=hc(t[0],i[0])),n.__fixMax&&(t[1]=hc(t[1],i[1])),t},unionExtent:function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=mo(e[0])/mo(t),e[1]=mo(e[1])/mo(t),Wd.unionExtent.call(this,e)},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t,!0,function(n){return n>0}))},niceTicks:function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n===1/0||n<=0)){var i=Zm(n);for(e/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var o=[br(lI(t[0]/i)*i),br(sI(t[1]/i)*i)];this._interval=i,this._niceExtent=o}},niceExtent:function(e){Gd.niceExtent.call(this,e);var t=this._originalScale;t.__fixMin=e.fixMin,t.__fixMax=e.fixMax}});m(["contain","normalize"],function(e){Dg.prototype[e]=function(t){return t=mo(t)/mo(this.base),Wd[e].call(this,t)}}),Dg.create=function(){return new Dg};var Ua={getFormattedLabels:function(){return Jh(this.axis,this.get("axisLabel.formatter"))},getMin:function(e){var t=this.option,n=e||null==t.rangeStart?t.min:t.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&"function"!=typeof n&&!ve(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(e){var t=this.option,n=e||null==t.rangeEnd?t.max:t.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&"function"!=typeof n&&!ve(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var e=this.option;return null==e.rangeStart&&null==e.rangeEnd&&!e.scale},getCoordSysModel:It,setRange:function(e,t){this.option.rangeStart=e,this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},uI=ut({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=t.width/2,a=t.height/2;e.moveTo(n,i-a),e.lineTo(n+o,i+a),e.lineTo(n-o,i+a),e.closePath()}}),cI=ut({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=t.width/2,a=t.height/2;e.moveTo(n,i-a),e.lineTo(n+o,i),e.lineTo(n,i+a),e.lineTo(n-o,i),e.closePath()}}),dI=ut({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,o=t.width/5*3,a=Math.max(o,t.height),s=o/2,l=s*s/(a-s),u=i-a+s+l,c=Math.asin(l/s),d=Math.cos(c)*s,h=Math.sin(c),f=Math.cos(c),p=.6*s,D=.7*s;e.moveTo(n-d,u+l),e.arc(n,u,s,Math.PI-c,2*Math.PI+c),e.bezierCurveTo(n+d-h*p,u+l+f*p,n,i-D,n,i),e.bezierCurveTo(n,i-D,n-d+h*p,u+l+f*p,n-d,u+l),e.closePath()}}),hI=ut({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,o=t.x,a=t.y,s=t.width/3*2;e.moveTo(o,a),e.lineTo(o+s,a+n),e.lineTo(o,a+n/4*3),e.lineTo(o-s,a+n),e.lineTo(o,a),e.closePath()}}),fI={line:function(e,t,n,i,o){o.x1=e,o.y1=t+i/2,o.x2=e+n,o.y2=t+i/2},rect:function(e,t,n,i,o){o.x=e,o.y=t,o.width=n,o.height=i},roundRect:function(e,t,n,i,o){o.x=e,o.y=t,o.width=n,o.height=i,o.r=Math.min(n,i)/4},square:function(e,t,n,i,o){var a=Math.min(n,i);o.x=e,o.y=t,o.width=a,o.height=a},circle:function(e,t,n,i,o){o.cx=e+n/2,o.cy=t+i/2,o.r=Math.min(n,i)/2},diamond:function(e,t,n,i,o){o.cx=e+n/2,o.cy=t+i/2,o.width=n,o.height=i},pin:function(e,t,n,i,o){o.x=e+n/2,o.y=t+i/2,o.width=n,o.height=i},arrow:function(e,t,n,i,o){o.x=e+n/2,o.y=t+i/2,o.width=n,o.height=i},triangle:function(e,t,n,i,o){o.cx=e+n/2,o.cy=t+i/2,o.width=n,o.height=i}},Ng={};m({line:Zr,rect:Ti,roundRect:Ti,square:Ti,circle:Oa,diamond:cI,pin:dI,arrow:hI,triangle:uI},function(e,t){Ng[t]=new e});var pI=ut({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var e=this.style;"pin"===this.shape.symbolType&&"inside"===e.textPosition&&(e.textPosition=["50%","40%"],e.textAlign="center",e.textVerticalAlign="middle")},buildPath:function(e,t,n){var i=t.symbolType,o=Ng[i];"none"!==t.symbolType&&(o||(o=Ng[i="rect"]),fI[i](t.x,t.y,t.width,t.height,o.shape),o.buildPath(e,o.shape,n))}}),gI=(Object.freeze||Object)({createList:function(e){return Mo(e.getSource(),e)},getLayoutRect:Qi,createScale:function(e,t){var n=t;vi.isInstance(t)||M(n=new vi(t),Ua);var i=Is(n);return i.setExtent(e[0],e[1]),Ca(i,n),i},mixinAxisModelCommonMethods:function(e){M(e,Ua)},completeDimensions:Pv,createDimensions:tl,createSymbol:Dr}),mI=1e-8;fc.prototype={constructor:fc,properties:null,getBoundingRect:function(){var e=this._rect;if(e)return e;for(var t=Number.MAX_VALUE,n=[t,t],i=[-t,-t],o=[],a=[],s=this.geometries,l=0;l<s.length;l++)"polygon"===s[l].type&&(dt(s[l].exterior,o,a),bt(n,n,o),rn(i,i,a));return 0===l&&(n[0]=n[1]=i[0]=i[1]=0),this._rect=new Qn(n[0],n[1],i[0]-n[0],i[1]-n[1])},contain:function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var i=0,o=n.length;i<o;i++)if("polygon"===n[i].type){var s=n[i].interiors;if(Sa(n[i].exterior,e[0],e[1])){for(var l=0;l<(s?s.length:0);l++)if(Sa(s[l]))continue e;return!0}}return!1},transformTo:function(e,t,n,i){var o=this.getBoundingRect(),a=o.width/o.height;n?i||(i=n/a):n=a*i;for(var s=new Qn(e,t,n,i),l=o.calculateTransform(s),u=this.geometries,c=0;c<u.length;c++)if("polygon"===u[c].type){for(var d=u[c].exterior,h=u[c].interiors,f=0;f<d.length;f++)Rt(d[f],d[f],l);for(var p=0;p<(h?h.length:0);p++)for(f=0;f<h[p].length;f++)Rt(h[p][f],h[p][f],l)}(o=this._rect).copy(s),this.center=[o.x+o.width/2,o.y+o.height/2]}};var Pg=function(e){return function(e){if(!e.UTF8Encoding)return e;var t=e.UTF8Scale;null==t&&(t=1024);for(var n=e.features,i=0;i<n.length;i++)for(var o=n[i].geometry,a=o.coordinates,s=o.encodeOffsets,l=0;l<a.length;l++){var u=a[l];if("Polygon"===o.type)a[l]=qv(u,s[l],t);else if("MultiPolygon"===o.type)for(var c=0;c<u.length;c++)u[c]=qv(u[c],s[l][c],t)}e.UTF8Encoding=!1}(e),y(Z(e.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var n=t.properties,i=t.geometry,o=i.coordinates,a=[];"Polygon"===i.type&&a.push({type:"polygon",exterior:o[0],interiors:o.slice(1)}),"MultiPolygon"===i.type&&m(o,function(l){l[0]&&a.push({type:"polygon",exterior:l[0],interiors:l.slice(1)})});var s=new fc(n.name,a,n.cp);return s.properties=n,s})},Ib=ji,Db=[0,1],Ki=function(e,t,n){this.dim=e,this.scale=t,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};Ki.prototype={constructor:Ki,contain:function(e){var t=this._extent,n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=n&&e<=i},containData:function(e){return this.contain(this.dataToCoord(e))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return kh(e||this.scale.getExtent(),this._extent)},setExtent:function(e,t){var n=this._extent;n[0]=e,n[1]=t},dataToCoord:function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&"ordinal"===i.type&&Zv(n=n.slice(),i.count()),Ib(e,Db,n,t)},coordToData:function(e,t){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&Zv(n=n.slice(),i.count());var o=Ib(e,n,Db,t);return this.scale.scale(o)},pointToData:function(e,t){},getTicksCoords:function(e){if(this.onBand&&!e){for(var t=this.getBands(),n=[],i=0;i<t.length;i++)n.push(t[i][0]);return t[i-1]&&n.push(t[i-1][1]),n}return y(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return y(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var e=this.getExtent(),t=[],n=this.scale.count(),i=e[0],o=e[1]-i,a=0;a<n;a++)t.push([o*a/n+i,o*(a+1)/n+i]);return t},getBandWidth:function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},isHorizontal:null,getRotate:null,getLabelInterval:function(){var e=this._labelInterval;if(!e){var t=this.model,n=t.getModel("axisLabel");e=n.get("interval"),"category"!==this.type||null!=e&&"auto"!==e||(e=Uv(y(this.scale.getTicks(),this.dataToCoord,this),t.getFormattedLabels(),n.getFont(),this.getRotate?this.getRotate():this.isHorizontal&&!this.isHorizontal()?90:0,n.get("rotate"))),this._labelInterval=e}return e}};var vI=Pg,Nb={};m(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(e){Nb[e]=zk[e]}),_r({type:"dataset",defaultOption:{seriesLayoutBy:ob,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){!function(e){var t=e.option.source,n=rb;if(Te(t))n=Nd;else if($(t))for(var i=0,o=t.length;i<o;i++){var a=t[i];if(null!=a){if($(a)){n=Ad;break}if(Ce(a)){n=Id;break}}}else if(Ce(t)){for(var s in t)if(t.hasOwnProperty(s)&&H(t[s])){n=Dd;break}}else if(null!=t)throw new Error("Invalid data");Qs(e).sourceFormat=n}(this)}}),er({type:"dataset"}),Zi.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,t){return Mo(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var to=Ds.prototype;to._createSymbol=function(e,t,n,i){this.removeAll();var o=Dr(e,-1,-1,2,2,t.getItemVisual(n,"color"));o.attr({z2:100,culling:!0,scale:ef(i)}),o.drift=aS,this._symbolType=e,this.add(o)},to.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},to.getSymbolPath=function(){return this.childAt(0)},to.getScale=function(){return this.childAt(0).scale},to.highlight=function(){this.childAt(0).trigger("emphasis")},to.downplay=function(){this.childAt(0).trigger("normal")},to.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},to.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":"pointer"},to.updateData=function(e,t,n){this.silent=!1;var i=e.getItemVisual(t,"symbol")||"circle",o=e.hostModel,a=function(e,t){var n=e.getItemVisual(t,"symbolSize");return n instanceof Array?n.slice():[+n,+n]}(e,t),s=i!==this._symbolType;if(s?this._createSymbol(i,e,t,a):((l=this.childAt(0)).silent=!1,si(l,{scale:ef(a)},o,t)),this._updateCommon(e,t,a,n),s){var l=this.childAt(0),u=n&&n.fadeIn,c={scale:l.scale.slice()};u&&(c.style={opacity:l.style.opacity}),l.scale=[0,0],u&&(l.style.opacity=0),mr(l,c,o,t)}this._seriesModel=o};var yI=["itemStyle"],xI=["emphasis","itemStyle"],bI=["label"],_I=["emphasis","label"];to._updateCommon=function(e,t,n,i){var o=this.childAt(0),a=e.hostModel,s=e.getItemVisual(t,"color");"image"!==o.type&&o.useStyle({strokeNoScale:!0});var l=i&&i.itemStyle,u=i&&i.hoverItemStyle,c=i&&i.symbolRotate,d=i&&i.symbolOffset,h=i&&i.labelModel,f=i&&i.hoverLabelModel,p=i&&i.hoverAnimation,D=i&&i.cursorStyle;if(!i||e.hasItemOption){var X=i&&i.itemModel?i.itemModel:e.getItemModel(t);l=X.getModel(yI).getItemStyle(["color"]),u=X.getModel(xI).getItemStyle(),c=X.getShallow("symbolRotate"),d=X.getShallow("symbolOffset"),h=X.getModel(bI),f=X.getModel(_I),p=X.getShallow("hoverAnimation"),D=X.getShallow("cursor")}else u=J({},u);var K=o.style;o.attr("rotation",(c||0)*Math.PI/180||0),d&&o.attr("position",[wn(d[0],n[0]),wn(d[1],n[1])]),D&&o.attr("cursor",D),o.setColor(s,i&&i.symbolInnerColor),o.setStyle(l);var oe=e.getItemVisual(t,"opacity");null!=oe&&(K.opacity=oe);var ce=i&&i.useNameLabel;Ni(K,u,h,f,{labelFetcher:a,labelDataIndex:t,defaultText:function(Ye,$e){return ce?e.getName(Ye):pc(e,Ye)},isRectText:!0,autoColor:s}),o.off("mouseover").off("mouseout").off("emphasis").off("normal"),o.hoverStyle=u,ii(o);var be=ef(n);if(p&&a.isAnimationEnabled()){var Be=function(){var Ye=be[1]/be[0];this.animateTo({scale:[Math.max(1.1*be[0],be[0]+3),Math.max(1.1*be[1],be[1]+3*Ye)]},400,"elasticOut")},He=function(){this.animateTo({scale:be},400,"elasticOut")};o.on("mouseover",Be).on("mouseout",He).on("emphasis",Be).on("normal",He)}},to.fadeOut=function(e,t){var n=this.childAt(0);this.silent=n.silent=!0,!(t&&t.keepLabel)&&(n.style.text=null),si(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},k(Ds,Ln);var nl=Ns.prototype;nl.updateData=function(e,t){var n=this.group,i=e.hostModel,o=this._data,a=this._symbolCtor,s=Yv(e);o||n.removeAll(),e.diff(o).add(function(l){var u=e.getItemLayout(l);if(tf(e,u,l,t)){var c=new a(e,l,s);c.attr("position",u),e.setItemGraphicEl(l,c),n.add(c)}}).update(function(l,u){var c=o.getItemGraphicEl(u),d=e.getItemLayout(l);tf(e,d,l,t)?(c?(c.updateData(e,l,s),si(c,{position:d},i)):(c=new a(e,l)).attr("position",d),n.add(c),e.setItemGraphicEl(l,c)):n.remove(c)}).remove(function(l){var u=o.getItemGraphicEl(l);u&&u.fadeOut(function(){n.remove(u)})}).execute(),this._data=e},nl.isPersistent=function(){return!0},nl.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl(function(t,n){var i=e.getItemLayout(n);t.attr("position",i)})},nl.incrementalPrepareUpdate=function(e){this._seriesScope=Yv(e),this._data=null,this.group.removeAll()},nl.incrementalUpdate=function(e,t,n){for(var i=e.start;i<e.end;i++){var o=t.getItemLayout(i);if(tf(t,o,i,n)){var a=new this._symbolCtor(t,i,this._seriesScope);a.traverse(function(s){s.isGroup||(s.incremental=s.useHoverLayer=!0)}),a.attr("position",o),this.group.add(a),t.setItemGraphicEl(i,a)}}},nl.remove=function(e){var t=this.group,n=this._data;n&&(e?n.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)})}):t.removeAll())};var Pb=bt,Lb=rn,Eb=dn,Rb=ct,Lg=[],na=[],ia=[],CI=an.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:og(an.prototype.brush),buildPath:function(e,t){var n=t.points,i=0,o=n.length,a=rf(n,t.smoothConstraint);if(t.connectNulls){for(;o>0&&Vo(n[o-1]);o--);for(;i<o&&Vo(n[i]);i++);}for(;i<o;)i+=nf(e,n,i,o,o,1,a.min,a.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),Bb=an.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:og(an.prototype.brush),buildPath:function(e,t){var n=t.points,i=t.stackedOnPoints,o=0,a=n.length,s=t.smoothMonotone,l=rf(n,t.smoothConstraint),u=rf(i,t.smoothConstraint);if(t.connectNulls){for(;a>0&&Vo(n[a-1]);a--);for(;o<a&&Vo(n[o]);o++);}for(;o<a;){var c=nf(e,n,o,a,a,1,l.min,l.max,t.smooth,s,t.connectNulls);nf(e,i,o+c-1,c,a,-1,u.min,u.max,t.stackedOnSmooth,s,t.connectNulls),o+=c+1,e.closePath()}}});ar.extend({type:"line",init:function(){var e=new Ln,t=new Ns;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,t,n){var i=e.coordinateSystem,o=this.group,a=e.getData(),s=e.getModel("lineStyle"),l=e.getModel("areaStyle"),u=a.mapArray(a.getItemLayout,!0),c="polar"===i.type,d=this._coordSys,h=this._symbolDraw,f=this._polyline,p=this._polygon,D=this._lineGroup,X=e.get("animation"),K=!l.isEmpty(),oe=function(e,t,n,i){var o=t.getBaseAxis(),a=t.getOtherAxis(o),s=0,l=a.scale.getExtent();"start"===i?s=l[0]:"end"===i?s=l[1]:(l=a.scale.getExtent())[0]>0?s=l[0]:l[1]<0&&(s=l[1]);var u=a.dim,c="x"===u||"radius"===u?1:0,d=n.mapDimension(u);return n.mapArray(d?[d]:[],function(h,f){for(var p,D=n.stackedOn;D&&e0(D.get(d,f))===e0(h);){p=D;break}var X=[];return X[c]=n.get(o.dim,f),X[1-c]=p?p.get(d,f,!0):s,t.dataToPoint(X)},!0)}(0,i,a,l.get("origin")),ce=e.get("showSymbol"),be=ce&&!c&&!e.get("showAllSymbol")&&this._getSymbolIgnoreFunc(a,i),Be=this._data;Be&&Be.eachItemGraphicEl(function(Qt,Yt){Qt.__temp&&(o.remove(Qt),Be.setItemGraphicEl(Yt,null))}),ce||h.remove(),o.add(D);var He=!c&&e.get("step");f&&d.type===i.type&&He===this._step?(K&&!p?p=this._newPolygon(u,oe,i,X):p&&!K&&(D.remove(p),p=this._polygon=null),D.setClipPath(t0(i,!1,e)),ce&&h.updateData(a,be),a.eachItemGraphicEl(function(Qt){Qt.stopAnimation(!0)}),Kv(this._stackedOnPoints,oe)&&Kv(this._points,u)||(X?this._updateAnimation(a,oe,i,n,He):(He&&(u=Wo(u,i,He),oe=Wo(oe,i,He)),f.setShape({points:u}),p&&p.setShape({points:u,stackedOnPoints:oe})))):(ce&&h.updateData(a,be),He&&(u=Wo(u,i,He),oe=Wo(oe,i,He)),f=this._newPolyline(u,i,X),K&&(p=this._newPolygon(u,oe,i,X)),D.setClipPath(t0(i,!0,e)));var Ye=function(e,t){var n=e.getVisual("visualMeta");if(n&&n.length&&e.count()){for(var i,o=n.length-1;o>=0;o--)if(n[o].dimension<2){i=n[o];break}if(i&&"cartesian2d"===t.type){var s=e.dimensions[i.dimension],l=t.getAxis(s),u=y(i.stops,function(X){return{coord:l.toGlobalCoord(l.dataToCoord(X.value)),color:X.color}}),c=u.length,d=i.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),d.reverse());var h=u[0].coord-10,f=u[c-1].coord+10,p=f-h;if(p<.001)return"transparent";m(u,function(X){X.offset=(X.coord-h)/p}),u.push({offset:c?u[c-1].offset:.5,color:d[1]||"transparent"}),u.unshift({offset:c?u[0].offset:.5,color:d[0]||"transparent"});var D=new Ks(0,0,0,0,u,!0);return D[s]=h,D[s+"2"]=f,D}}}(a,i)||a.getVisual("color");f.useStyle(ne(s.getLineStyle(),{fill:"none",stroke:Ye,lineJoin:"bevel"}));var $e=e.get("smooth");if($e=Jv(e.get("smooth")),f.setShape({smooth:$e,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),p){var nt=a.stackedOn,mt=0;p.useStyle(ne(l.getAreaStyle(),{fill:Ye,opacity:.7,lineJoin:"bevel"})),nt&&(mt=Jv(nt.hostModel.get("smooth"))),p.setShape({smooth:$e,stackedOnSmooth:mt,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=a,this._coordSys=i,this._stackedOnPoints=oe,this._points=u,this._step=He},dispose:function(){},highlight:function(e,t,n,i){var o=e.getData(),a=ie(o,i);if(!(a instanceof Array)&&null!=a&&a>=0){var s=o.getItemGraphicEl(a);if(!s){var l=o.getItemLayout(a);if(!l)return;(s=new Ds(o,a)).position=l,s.setZ(e.get("zlevel"),e.get("z")),s.ignore=isNaN(l[0])||isNaN(l[1]),s.__temp=!0,o.setItemGraphicEl(a,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else ar.prototype.highlight.call(this,e,t,n,i)},downplay:function(e,t,n,i){var o=e.getData(),a=ie(o,i);if(null!=a&&a>=0){var s=o.getItemGraphicEl(a);s&&(s.__temp?(o.setItemGraphicEl(a,null),this.group.remove(s)):s.downplay())}else ar.prototype.downplay.call(this,e,t,n,i)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new CI({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new Bb({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_getSymbolIgnoreFunc:function(e,t){var n=t.getAxesByScale("ordinal")[0];if(n&&n.isLabelIgnored)return re(n.isLabelIgnored,n)},_updateAnimation:function(e,t,n,i,o){var a=this._polyline,s=this._polygon,l=e.hostModel,u=function(e,t,n,i,o,a){for(var s=function(e,t){var n=[];return t.diff(e).add(function(i){n.push({cmd:"+",idx:i})}).update(function(i,o){n.push({cmd:"=",idx:o,idx1:i})}).remove(function(i){n.push({cmd:"-",idx:i})}).execute(),n}(e,t),l=[],u=[],c=[],d=[],h=[],f=[],p=[],D=a.dimensions,X=0;X<s.length;X++){var K=s[X],oe=!0;switch(K.cmd){case"=":var ce=e.getItemLayout(K.idx),be=t.getItemLayout(K.idx1);(isNaN(ce[0])||isNaN(ce[1]))&&(ce=be.slice()),l.push(ce),u.push(be),c.push(n[K.idx]),d.push(i[K.idx1]),p.push(t.getRawIndex(K.idx1));break;case"+":l.push(o.dataToPoint([t.get(D[0],Be=K.idx,!0),t.get(D[1],Be,!0)])),u.push(t.getItemLayout(Be).slice()),c.push($v(o,t,Be)),d.push(i[Be]),p.push(t.getRawIndex(Be));break;case"-":var Be=K.idx,He=e.getRawIndex(Be);He!==Be?(l.push(e.getItemLayout(Be)),u.push(a.dataToPoint([e.get(D[0],Be,!0),e.get(D[1],Be,!0)])),c.push(n[Be]),d.push($v(a,e,Be)),p.push(He)):oe=!1}oe&&(h.push(K),f.push(f.length))}f.sort(function(Yt,sn){return p[Yt]-p[sn]});var Ye=[],$e=[],nt=[],mt=[],Qt=[];for(X=0;X<f.length;X++)Ye[X]=l[Be=f[X]],$e[X]=u[Be],nt[X]=c[Be],mt[X]=d[Be],Qt[X]=h[Be];return{current:Ye,next:$e,stackedOnCurrent:nt,stackedOnNext:mt,status:Qt}}(this._data,e,this._stackedOnPoints,t,this._coordSys,n),c=u.current,d=u.stackedOnCurrent,h=u.next,f=u.stackedOnNext;o&&(c=Wo(u.current,n,o),d=Wo(u.stackedOnCurrent,n,o),h=Wo(u.next,n,o),f=Wo(u.stackedOnNext,n,o)),a.shape.__points=u.current,a.shape.points=c,si(a,{shape:{points:h}},l),s&&(s.setShape({points:c,stackedOnPoints:d}),si(s,{shape:{points:h,stackedOnPoints:f}},l));for(var p=[],D=u.status,X=0;X<D.length;X++)if("="===D[X].cmd){var K=e.getItemGraphicEl(D[X].idx1);K&&p.push({el:K,ptIdx:X})}a.animators&&a.animators.length&&a.animators[0].during(function(){for(var oe=0;oe<p.length;oe++)p[oe].el.attr("position",a.shape.__points[p[oe].ptIdx])})},remove:function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(i,o){i.__temp&&(t.remove(i),n.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var ja=function(e,t,n){return{seriesType:e,performRawSeries:!0,reset:function(i,o,a){var s=i.getData(),l=i.get("symbol")||t,u=i.get("symbolSize");if(s.setVisual({legendSymbol:n||l,symbol:l,symbolSize:u}),!o.isSeriesFiltered(i))return{dataEach:s.hasItemOption||"function"==typeof u?function(d,h){if("function"==typeof u){var f=i.getRawValue(h),p=i.getDataParams(h);d.setItemVisual(h,"symbolSize",u(f,p))}if(d.hasItemOption){var D=d.getItemModel(h),X=D.getShallow("symbol",!0),K=D.getShallow("symbolSize",!0);null!=X&&d.setItemVisual(h,"symbol",X),null!=K&&d.setItemVisual(h,"symbolSize",K)}}:null}}}},bu=function(e){return{seriesType:e,plan:vg(),reset:function(t){var n=t.getData(),i=t.coordinateSystem,o=t.pipelineContext.large;if(i){var a=y(i.dimensions,function(l){return n.getDimension(n.mapDimension(l))}).slice(0,2),s=a.length;return s&&{progress:function(l,u){for(var d=o&&new Float32Array((l.end-l.start)*s),h=l.start,f=0,p=[],D=[];h<l.end;h++){var X;if(1===s)K=u.get(a[0],h,!0),X=!isNaN(K)&&i.dataToPoint(K,null,D);else{var K=p[0]=u.get(a[0],h,!0),oe=p[1]=u.get(a[1],h,!0);X=!isNaN(K)&&!isNaN(oe)&&i.dataToPoint(p,null,D)}o?(d[f++]=X?X[0]:NaN,d[f++]=X?X[1]:NaN):u.setItemLayout(h,X&&X.slice()||[NaN,NaN])}o&&u.setLayout("symbolPoints",d)}}}}}},SI={average:function(e){for(var t=0,n=0,i=0;i<e.length;i++)isNaN(e[i])||(t+=e[i],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return t},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return t},nearest:function(e){return e[0]}},MI=function(e,t){return Math.round(e.length/2)},jd=function(e){this._axes={},this._dimList=[],this.name=e||""};jd.prototype={constructor:jd,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return y(this._dimList,hS,this)},getAxesByScale:function(e){return e=e.toLowerCase(),Z(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){for(var n=this._dimList,i=e instanceof Array?[]:{},o=0;o<n.length;o++){var a=n[o];i[a]=this._axes[a][t](e[a])}return i}},Wl.prototype={constructor:Wl,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoint:function(e,t,n){var i=this.getAxis("x"),o=this.getAxis("y");return(n=n||[])[0]=i.toGlobalCoord(i.dataToCoord(e[0])),n[1]=o.toGlobalCoord(o.dataToCoord(e[1])),n},clampData:function(e,t){var n=this.getAxis("x").scale.getExtent(),i=this.getAxis("y").scale.getExtent();return(t=t||[])[0]=Math.min(Math.max(Math.min(n[0],n[1]),e[0]),Math.max(n[0],n[1])),t[1]=Math.min(Math.max(Math.min(i[0],i[1]),e[1]),Math.max(i[0],i[1])),t},pointToData:function(e,t){var n=this.getAxis("x"),i=this.getAxis("y");return(t=t||[])[0]=n.coordToData(n.toLocalCoord(e[0])),t[1]=i.coordToData(i.toLocalCoord(e[1])),t},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")}},k(Wl,jd);var qd=function(e,t,n,i,o){Ki.call(this,e,t,n),this.type=i||"value",this.position=o||"bottom"};qd.prototype={constructor:qd,index:0,onZero:!1,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getGlobalExtent:function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(e){if("category"===this.type){var t=this.getLabelInterval();return"function"==typeof t&&!t(e,this.scale.getLabel(e))||e%(t+1)}},pointToData:function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null},k(qd,Ki);var Ob={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},ra={};ra.categoryAxis=he({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Ob),ra.valueAxis=he({boundaryGap:[0,0],splitNumber:5},Ob),ra.timeAxis=ne({scale:!0,min:"dataMin",max:"dataMax"},ra.valueAxis),ra.logAxis=ne({scale:!0,logBase:10},ra.valueAxis);var TI=["value","category","time","log"],il=function(e,t,n,i){m(TI,function(o){t.extend({type:e+"Axis."+o,mergeDefaultAndTheme:function(a,s){var l=this.layoutMode,u=l?Ts(a):{};he(a,s.getTheme().get(o+"Axis")),he(a,this.getDefaultOption()),a.type=n(e,a),l&&Ho(a,u,l)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=Vl.createByAxisModel(this))},getCategories:function(){if("category"===this.option.type)return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:ke([{},ra[o+"Axis"],i],!0)})}),hi.registerSubTypeDefaulter(e+"Axis",Q(n,e))},rl=hi.extend({type:"cartesian2dAxis",axis:null,init:function(){rl.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){rl.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){rl.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});he(rl.prototype,Ua);var zb={offset:0};il("x",rl,n0,zb),il("y",rl,n0,zb),hi.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var vo=m,kI=function(e){var t=e.scale.getExtent(),n=t[0],i=t[1];return!(n>0&&i>0||n<0&&i<0)},Fb=Ca,fr=Ps.prototype;fr.type="grid",fr.axisPointerEnabled=!0,fr.getRect=function(){return this._rect},fr.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model),vo(n.x,function(i){Fb(i.scale,i.model)}),vo(n.y,function(i){Fb(i.scale,i.model)}),vo(n.x,function(i){i0(n,"y",i)}),vo(n.y,function(i){i0(n,"x",i)}),this.resize(this.model,t)},fr.resize=function(e,t,n){function i(){vo(a,function(s){var l=s.isHorizontal(),u=l?[0,o.width]:[0,o.height],c=s.inverse?1:0;s.setExtent(u[c],u[1-c]),function(e,t){var n=e.getExtent(),i=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(o){return o+t}:function(o){return i-o+t},e.toLocalCoord="x"===e.dim?function(o){return o-t}:function(o){return i-o+t}}(s,l?o.x:o.y)})}var o=Qi(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=o;var a=this._axesList;i(),!n&&e.get("containLabel")&&(vo(a,function(s){if(!s.model.get("axisLabel.inside")){var l=function(e){var t,n=e.model,i=n.get("axisLabel.show")?n.getFormattedLabels():[],o=n.getModel("axisLabel"),a=1,s=i.length;s>40&&(a=Math.ceil(s/40));for(var l=0;l<s;l+=a)if(!e.isLabelIgnored(l)){var u=fS(o.getTextRect(i[l]),o.get("rotate")||0);t?t.union(u):t=u}return t}(s);if(l){var u=s.isHorizontal()?"height":"width",c=s.model.get("axisLabel.margin");o[u]-=l[u]+c,"top"===s.position?o.y+=l.height+c:"left"===s.position&&(o.x+=l.width+c)}}}),i())},fr.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n){if(null==t)for(var i in n)if(n.hasOwnProperty(i))return n[i];return n[t]}},fr.getAxes=function(){return this._axesList.slice()},fr.getCartesian=function(e,t){if(null!=e&&null!=t)return this._coordsMap["x"+e+"y"+t];Ce(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===e||o[i].getAxis("y").index===t)return o[i]},fr.getCartesians=function(){return this._coordsList.slice()},fr.convertToPixel=function(e,t,n){var i=this._findConvertTarget(e,t);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},fr.convertFromPixel=function(e,t,n){var i=this._findConvertTarget(e,t);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},fr._findConvertTarget=function(e,t){var n,i,o=t.seriesModel,a=t.xAxisModel||o&&o.getReferringComponents("xAxis")[0],s=t.yAxisModel||o&&o.getReferringComponents("yAxis")[0],l=t.gridModel;return o?A(this._coordsList,n=o.coordinateSystem)<0&&(n=null):a&&s?n=this.getCartesian(a.componentIndex,s.componentIndex):a?i=this.getAxis("x",a.componentIndex):s?i=this.getAxis("y",s.componentIndex):l&&l.coordinateSystem===this&&(n=this._coordsList[0]),{cartesian:n,axis:i}},fr.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},fr._initCartesian=function(e,t,n){function i(l){return function(u,c){if(of(u,e)){var d=u.get("position");"x"===l?"top"!==d&&"bottom"!==d&&o[d="bottom"]&&(d="top"===d?"bottom":"top"):"left"!==d&&"right"!==d&&o[d="left"]&&(d="left"===d?"right":"left"),o[d]=!0;var h=new qd(l,Is(u),[0,0],u.get("type"),d);h.onBand="category"===h.type&&u.get("boundaryGap"),h.inverse=u.get("inverse"),h.onZero=u.get("axisLine.onZero"),h.onZeroAxisIndex=u.get("axisLine.onZeroAxisIndex"),u.axis=h,h.model=u,h.grid=this,h.index=c,this._axesList.push(h),a[l][c]=h,s[l]++}}}var o={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},s={x:0,y:0};if(t.eachComponent("xAxis",i("x"),this),t.eachComponent("yAxis",i("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=a,vo(a.x,function(l,u){vo(a.y,function(c,d){var h="x"+u+"y"+d,f=new Wl(h);f.grid=this,f.model=e,this._coordsMap[h]=f,this._coordsList.push(f),f.addAxis(l),f.addAxis(c)},this)},this)},fr._updateScale=function(e,t){function n(i,o,a){vo(i.mapDimension(o.dim,!0),function(s){o.scale.unionExtentFromData(i,s)})}m(this._axesList,function(i){i.scale.setExtent(1/0,-1/0)}),e.eachSeries(function(i){if(a0(i)){var o=o0(i),a=o[0],s=o[1];if(!of(a,t)||!of(s,t))return;var l=this.getCartesian(a.componentIndex,s.componentIndex),u=i.getData(),c=l.getAxis("x"),d=l.getAxis("y");"list"===u.type&&(n(u,c),n(u,d))}},this)},fr.getTooltipAxes=function(e){var t=[],n=[];return vo(this.getCartesians(),function(i){var o=null!=e&&"auto"!==e?i.getAxis(e):i.getBaseAxis(),a=i.getOtherAxis(o);A(t,o)<0&&t.push(o),A(n,a)<0&&n.push(a)}),{baseAxes:t,otherAxes:n}};var AI=["xAxis","yAxis"];Ps.create=function(e,t){var n=[];return e.eachComponent("grid",function(i,o){var a=new Ps(i,e,t);a.name="grid_"+o,a.resize(i,t,!0),i.coordinateSystem=a,n.push(a)}),e.eachSeries(function(i){if(a0(i)){var o=o0(i),a=o[0],s=o[1],l=a.getCoordSysModel().coordinateSystem;i.coordinateSystem=l.getCartesian(a.componentIndex,s.componentIndex)}}),n},Ps.dimensions=Ps.prototype.dimensions=Wl.prototype.dimensions,hr.register("cartesian2d",Ps);var oa=Math.PI,pr=function(e,t){this.opt=t,this.axisModel=e,ne(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new Ln;var n=new Ln({position:t.position.slice(),rotation:t.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};pr.prototype={constructor:pr,hasBuilder:function(e){return!!Hb[e]},add:function(e){Hb[e].call(this)},getGroup:function(){return this.group}};var Hb={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),i=this._transform,o=[n[0],0],a=[n[1],0];i&&(Rt(o,o,i),Rt(a,a,i));var s=J({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new Zr(et({anid:"line",shape:{x1:o[0],y1:o[1],x2:a[0],y2:a[1]},style:s,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1})));var l=t.get("axisLine.symbol"),u=t.get("axisLine.symbolSize");if(null!=l){"string"==typeof l&&(l=[l,l]),"string"!=typeof u&&"number"!=typeof u||(u=[u,u]);var c=u[0],d=u[1];m([[e.rotation+Math.PI/2,o],[e.rotation-Math.PI/2,a]],function(h,f){if("none"!==l[f]&&null!=l[f]){var p=Dr(l[f],-c/2,-d/2,c,d,s.stroke,!0);p.attr({rotation:h[0],position:h[1],silent:!0}),this.group.add(p)}},this)}}},axisTickLabel:function(){var e=this.axisModel,t=this.opt,n=function(e,t,n){var i=t.axis;if(t.get("axisTick.show")&&!i.scale.isBlank()){for(var o=t.getModel("axisTick"),a=o.getModel("lineStyle"),s=o.get("length"),l=II(o,n.labelInterval),u=i.getTicksCoords(o.get("alignWithLabel")),c=i.scale.getTicks(),d=t.get("axisLabel.showMinLabel"),h=t.get("axisLabel.showMaxLabel"),f=[],p=[],D=e._transform,X=[],K=u.length,oe=0;oe<K;oe++)if(!Wb(i,oe,l,K,d,h)){var ce=u[oe];f[0]=ce,f[1]=0,p[0]=ce,p[1]=n.tickDirection*s,D&&(Rt(f,f,D),Rt(p,p,D));var be=new Zr(et({anid:"tick_"+c[oe],shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},style:ne(a.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));e.group.add(be),X.push(be)}return X}}(this,e,t);!function(e,t,n){var i=e.get("axisLabel.showMinLabel"),o=e.get("axisLabel.showMaxLabel"),a=(t=t||[])[0],s=t[1],l=t[t.length-1],u=t[t.length-2],c=(n=n||[])[0],d=n[1],h=n[n.length-1],f=n[n.length-2];!1===i?(Gr(a),Gr(c)):u0(a,s)&&(i?(Gr(s),Gr(d)):(Gr(a),Gr(c))),!1===o?(Gr(l),Gr(h)):u0(u,l)&&(o?(Gr(u),Gr(f)):(Gr(l),Gr(h)))}(e,function(e,t,n){var i=t.axis;if(_e(n.axisLabelShow,t.get("axisLabel.show"))&&!i.scale.isBlank()){var o=t.getModel("axisLabel"),a=o.get("margin"),s=i.scale.getTicks(),l=t.getFormattedLabels(),u=(_e(n.labelRotate,o.get("rotate"))||0)*oa/180,c=Vb(n.rotation,u,n.labelDirection),d=t.getCategories(),h=[],f=l0(t),p=t.get("triggerEvent"),D=t.get("axisLabel.showMinLabel"),X=t.get("axisLabel.showMaxLabel");return m(s,function(K,oe){if(!Wb(i,oe,n.labelInterval,s.length,D,X)){var ce=o;d&&d[K]&&d[K].textStyle&&(ce=new vi(d[K].textStyle,o,t.ecModel));var be=ce.getTextColor()||t.get("axisLine.lineStyle.color"),Be=[i.dataToCoord(K),n.labelOffset+n.labelDirection*a],He=i.scale.getLabel(K),Ye=new ui({anid:"label_"+K,position:Be,rotation:c.rotation,silent:f,z2:10});$n(Ye.style,ce,{text:l[oe],textAlign:ce.getShallow("align",!0)||c.textAlign,textVerticalAlign:ce.getShallow("verticalAlign",!0)||ce.getShallow("baseline",!0)||c.textVerticalAlign,textFill:"function"==typeof be?be("category"===i.type?He:"value"===i.type?K+"":K,oe):be}),p&&(Ye.eventData=s0(t),Ye.eventData.targetType="axisLabel",Ye.eventData.value=He),e._dumbGroup.add(Ye),Ye.updateTransform(),h.push(Ye),e.group.add(Ye),Ye.decomposeTransform()}}),h}}(this,e,t),n)},axisName:function(){var e=this.opt,t=this.axisModel,n=_e(e.axisName,t.get("name"));if(n){var i,f,o=t.get("nameLocation"),a=e.nameDirection,s=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,u=this.axisModel.axis.getExtent(),c=u[0]>u[1]?-1:1,d=["start"===o?u[0]-c*l:"end"===o?u[1]+c*l:(u[0]+u[1])/2,c0(o)?e.labelOffset+a*l:0],h=t.get("nameRotate");null!=h&&(h=h*oa/180),c0(o)?i=Vb(e.rotation,null!=h?h:e.rotation,a):(i=function(e,t,n,i){var o,a,s=Ah(n-e.rotation),l=i[0]>i[1],u="start"===t&&!l||"start"!==t&&l;return Nl(s-oa/2)?(a=u?"bottom":"top",o="center"):Nl(s-1.5*oa)?(a=u?"top":"bottom",o="center"):(a="middle",o=s<1.5*oa&&s>oa/2?u?"left":"right":u?"right":"left"),{rotation:s,textAlign:o,textVerticalAlign:a}}(e,o,h||0,u),null!=(f=e.axisNameAvailableWidth)&&(f=Math.abs(f/Math.sin(i.rotation)),!isFinite(f)&&(f=null)));var p=s.getFont(),D=t.get("nameTruncate",!0)||{},X=D.ellipsis,K=_e(e.nameTruncateMaxWidth,D.maxWidth,f),oe=null!=X&&null!=K?tb(n,K,p,X,{minChar:2,placeholder:D.placeholder}):n,ce=t.get("tooltip",!0),be=t.mainType,Be={componentType:be,name:n,$vars:["name"]};Be[be+"Index"]=t.componentIndex;var He=new ui({anid:"name",__fullText:n,__truncatedText:oe,position:d,rotation:i.rotation,silent:l0(t),z2:1,tooltip:ce&&ce.show?J({content:n,formatter:function(){return n},formatterParams:Be},ce):null});$n(He.style,s,{text:oe,textFont:p,textFill:s.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:i.textAlign,textVerticalAlign:i.textVerticalAlign}),t.get("triggerEvent")&&(He.eventData=s0(t),He.eventData.targetType="axisName",He.eventData.name=n),this._dumbGroup.add(He),He.updateTransform(),this.group.add(He),He.decomposeTransform()}}},Vb=pr.innerTextLayout=function(e,t,n){var i,o,a=Ah(t-e);return Nl(a)?(o=n>0?"top":"bottom",i="center"):Nl(a-oa)?(o=n>0?"bottom":"top",i="center"):(o="middle",i=a>0&&a<oa?n>0?"right":"left":n>0?"left":"right"),{rotation:a,textAlign:i,textVerticalAlign:o}},Wb=pr.ifIgnoreOnTick=function(e,t,n,i,o,a){if(0===t&&o||t===i-1&&a)return!1;var s,l=e.scale;return"ordinal"===l.type&&("function"==typeof n?!n(s=l.getTicks()[t],l.getLabel(s)):t%(n+1))},II=pr.getInterval=function(e,t){var n=e.get("interval");return null!=n&&"auto"!=n||(n=t),n},ol=m,Eg=Q,Lr=er({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,t,n,i){this.axisPointerClass&&MS(e),Lr.superApply(this,"render",arguments),d0(this,e,0,n,0,!0)},updateAxisPointer:function(e,t,n,i,o){d0(this,e,0,n,0,!1)},remove:function(e,t){var n=this._axisPointer;n&&n.remove(t),Lr.superApply(this,"remove",arguments)},dispose:function(e,t){h0(this,t),Lr.superApply(this,"dispose",arguments)}}),Gb=[];Lr.registerAxisPointerClass=function(e,t){Gb[e]=t},Lr.getAxisPointerClass=function(e){return e&&Gb[e]};var Ub=pr.ifIgnoreOnTick,jb=pr.getInterval,DI=["axisLine","axisTickLabel","axisName"],NI=["splitArea","splitLine"],Rg=Lr.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,n,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Ln,this.group.add(this._axisGroup),e.get("show")){var a=e.getCoordSysModel(),s=uf(a,e),l=new pr(e,s);m(DI,l.add,l),this._axisGroup.add(l.getGroup()),m(NI,function(u){e.get(u+".show")&&this["_"+u](e,a,s.labelInterval)},this),Mh(o,this._axisGroup,e),Rg.superCall(this,"render",e,t,n,i)}},_splitLine:function(e,t,n){var i=e.axis;if(!i.scale.isBlank()){var o=e.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color"),l=jb(o,n);s=$(s)?s:[s];for(var u=t.coordinateSystem.getRect(),c=i.isHorizontal(),d=0,h=i.getTicksCoords(),f=i.scale.getTicks(),p=e.get("axisLabel.showMinLabel"),D=e.get("axisLabel.showMaxLabel"),X=[],K=[],oe=a.getLineStyle(),ce=0;ce<h.length;ce++)if(!Ub(i,ce,l,h.length,p,D)){var be=i.toGlobalCoord(h[ce]);c?(X[0]=be,X[1]=u.y,K[0]=be,K[1]=u.y+u.height):(X[0]=u.x,X[1]=be,K[0]=u.x+u.width,K[1]=be);var Be=d++%s.length;this._axisGroup.add(new Zr(et({anid:"line_"+f[ce],shape:{x1:X[0],y1:X[1],x2:K[0],y2:K[1]},style:ne({stroke:s[Be]},oe),silent:!0})))}}},_splitArea:function(e,t,n){var i=e.axis;if(!i.scale.isBlank()){var o=e.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=t.coordinateSystem.getRect(),u=i.getTicksCoords(),c=i.scale.getTicks(),d=i.toGlobalCoord(u[0]),h=i.toGlobalCoord(u[0]),f=0,p=jb(o,n),D=a.getAreaStyle();s=$(s)?s:[s];for(var X=e.get("axisLabel.showMinLabel"),K=e.get("axisLabel.showMaxLabel"),oe=1;oe<u.length;oe++)if(!Ub(i,oe,p,u.length,X,K)){var ce,be,Be,He,Ye=i.toGlobalCoord(u[oe]);i.isHorizontal()?(be=l.y,Be=Ye-(ce=d),He=l.height):(ce=l.x,Be=l.width,He=Ye-(be=h));var $e=f++%s.length;this._axisGroup.add(new Ti({anid:"area_"+c[oe],shape:{x:ce,y:be,width:Be,height:He},style:ne({fill:s[$e]},D),silent:!0})),d=ce+Be,h=be+He}}}});Rg.extend({type:"xAxis"}),Rg.extend({type:"yAxis"}),er({type:"grid",render:function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new Ti({shape:e.coordinateSystem.getRect(),style:ne({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),cr(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}),Di(ja("line","circle","line")),zi(bu("line")),Wr(el.PROCESSOR.STATISTIC,{seriesType:"line",reset:function(t,n,i){var o=t.getData(),a=t.get("sampling"),s=t.coordinateSystem;if("cartesian2d"===s.type&&a){var f,l=s.getBaseAxis(),u=s.getOtherAxis(l),c=l.getExtent(),d=c[1]-c[0],h=Math.round(o.count()/d);h>1&&("string"==typeof a?f=SI[a]:"function"==typeof a&&(f=a),f&&t.setData(o.downSample(u.dim,1/h,f,MI)))}}});var qb=Zi.extend({type:"series.__base_bar__",getInitialData:function(e,t){return Mo(this.getSource(),this)},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(t.clampData(e)),i=this.getData(),o=i.getLayout("offset"),a=i.getLayout("size");return n[t.getBaseAxis().isHorizontal()?0:1]+=o+a/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{},emphasis:{}}});qb.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});var PI=qs([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),LI={getBarItemStyle:function(e){var t=PI(this,e);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(t.lineDash=n)}return t}},EI=["itemStyle","barBorderWidth"];J(vi.prototype,LI),vr({type:"bar",render:function(e,t,n){var i=e.get("coordinateSystem");return"cartesian2d"!==i&&"polar"!==i||this._render(e,t,n),this.group},dispose:It,_render:function(e,t,n){var i,o=this.group,a=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?i=u.isHorizontal():"polar"===l.type&&(i="angle"===u.dim);var c=e.isAnimationEnabled()?e:null;a.diff(s).add(function(d){if(a.hasValue(d)){var h=a.getItemModel(d),f=Yb[l.type](a,d,h),p=Zb[l.type](a,d,h,f,i,c);a.setItemGraphicEl(d,p),o.add(p),v0(p,a,d,h,0,e,0,"polar"===l.type)}}).update(function(d,h){var f=s.getItemGraphicEl(h);if(a.hasValue(d)){var p=a.getItemModel(d),D=Yb[l.type](a,d,p);f?si(f,{shape:D},c,d):f=Zb[l.type](a,d,p,D,i,c,!0),a.setItemGraphicEl(d,f),o.add(f),v0(f,a,d,p,0,e,0,"polar"===l.type)}else o.remove(f)}).remove(function(d){var h=s.getItemGraphicEl(d);"cartesian2d"===l.type?h&&g0(d,c,h):h&&m0(d,c,h)}).execute(),this._data=a},remove:function(e,t){var n=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl(function(o){"sector"===o.type?m0(o.dataIndex,e,o):g0(o.dataIndex,e,o)}):n.removeAll()}});var Zb={cartesian2d:function(e,t,n,i,o,a,s){var l=new Ti({shape:J({},i)});if(a){var c=o?"height":"width",d={};l.shape[c]=0,d[c]=i[c],Jr[s?"updateProps":"initProps"](l,{shape:d},a,t)}return l},polar:function(e,t,n,i,o,a,s){var l=new Io({shape:J({},i)});if(a){var c=o?"r":"endAngle",d={};l.shape[c]=o?0:i.startAngle,d[c]=i[c],Jr[s?"updateProps":"initProps"](l,{shape:d},a,t)}return l}},Yb={cartesian2d:function(e,t,n){var i=e.getItemLayout(t),o=function(e,t){var n=e.get(EI)||0;return Math.min(n,Math.abs(t.width),Math.abs(t.height))}(n,i),a=i.width>0?1:-1,s=i.height>0?1:-1;return{x:i.x+a*o/2,y:i.y+s*o/2,width:i.width-a*o,height:i.height-s*o}},polar:function(e,t,n){var i=e.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}};zi(Q(Wv,"bar")),Di(function(e){e.eachSeriesByType("bar",function(t){t.getData().setVisual("legendSymbol","roundRect")})});var al=function(e,t,n){t=$(t)&&{coordDimensions:t}||J({},t);var i=e.getSource(),o=tl(i,t),a=new ir(o,e);return a.initData(i,n),a},Bg={updateSelectedMap:function(e){if($(e))this._targetList=e.slice();else for(var t=e,n=t.mapDimension("value"),i=(e=this._targetList=[],0),o=t.count();i<o;i++)e.push({name:t.getName(i),value:t.get(n,i),selected:mC(t,i,"selected")});this._selectTargetMap=P(e||[],function(a,s){return a.set(s.name,s),a},tt())},select:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(i){i.selected=!1}),n&&(n.selected=!0)},unSelect:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);n&&(n.selected=!1)},toggleSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=n)return this[n.selected?"unSelect":"select"](e,t),n.selected},isSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return n&&n.selected}},Zd=zl({type:"series.pie",init:function(e){Zd.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this.getRawData()),this._defaultLabelLine(e)},mergeOption:function(e){Zd.superCall(this,"mergeOption",e),this.updateSelectedMap(this.getRawData())},getInitialData:function(e,t){return al(this,["value"])},getDataParams:function(e){var t=this.getData(),n=Zd.superCall(this,"getDataParams",e),i=[];return t.each(t.mapDimension("value"),function(o){i.push(o)}),n.percent=qm(i,e,t.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},_defaultLabelLine:function(e){te(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});M(Zd,Bg);var Xb=cf.prototype;Xb.updateData=function(e,t,n){function i(){a.stopAnimation(!0),a.animateTo({shape:{r:u.r+s.get("hoverOffset")}},300,"elasticOut")}function o(){a.stopAnimation(!0),a.animateTo({shape:{r:u.r}},300,"elasticOut")}var a=this.childAt(0),s=e.hostModel,l=e.getItemModel(t),u=e.getItemLayout(t),c=J({},u);c.label=null,n?(a.setShape(c),"scale"===s.getShallow("animationType")?(a.shape.r=u.r0,mr(a,{shape:{r:u.r}},s,t)):(a.shape.endAngle=u.startAngle,si(a,{shape:{endAngle:u.endAngle}},s,t))):si(a,{shape:c},s,t);var d=e.getItemVisual(t,"color");a.useStyle(ne({lineJoin:"bevel",fill:d},l.getModel("itemStyle").getItemStyle())),a.hoverStyle=l.getModel("emphasis.itemStyle").getItemStyle();var h=l.getShallow("cursor");h&&a.attr("cursor",h),y0(this,e.getItemLayout(t),s.isSelected(null,t),s.get("selectedOffset"),s.get("animation")),a.off("mouseover").off("mouseout").off("emphasis").off("normal"),l.get("hoverAnimation")&&s.isAnimationEnabled()&&a.on("mouseover",i).on("mouseout",o).on("emphasis",i).on("normal",o),this._updateLabel(e,t),ii(this)},Xb._updateLabel=function(e,t){var n=this.childAt(1),i=this.childAt(2),o=e.hostModel,a=e.getItemModel(t),s=e.getItemLayout(t).label,l=e.getItemVisual(t,"color");si(n,{shape:{points:s.linePoints||[[s.x,s.y],[s.x,s.y],[s.x,s.y]]}},o,t),si(i,{style:{x:s.x,y:s.y}},o,t),i.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var u=a.getModel("label"),c=a.getModel("emphasis.label"),d=a.getModel("labelLine"),h=a.getModel("emphasis.labelLine");l=e.getItemVisual(t,"color"),Ni(i.style,i.hoverStyle={},u,c,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:l,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!c.get("show"),n.ignore=n.normalIgnore=!d.get("show"),n.hoverIgnore=!h.get("show"),n.setStyle({stroke:l,opacity:e.getItemVisual(t,"opacity")}),n.setStyle(d.getModel("lineStyle").getLineStyle()),n.hoverStyle=h.getModel("lineStyle").getLineStyle();var f=d.get("smooth");f&&!0===f&&(f=.4),n.setShape({smooth:f})},k(cf,Ln),ar.extend({type:"pie",init:function(){var e=new Ln;this._sectorGroup=e},render:function(e,t,n,i){if(!i||i.from!==this.uid){var o=e.getData(),a=this._data,s=this.group,l=t.get("animation"),u=!a,c=e.get("animationType"),d=Q(AS,this.uid,e,l,n),h=e.get("selectedMode");if(o.diff(a).add(function(X){var K=new cf(o,X);u&&"scale"!==c&&K.eachChild(function(oe){oe.stopAnimation(!0)}),h&&K.on("click",d),o.setItemGraphicEl(X,K),s.add(K)}).update(function(X,K){var oe=a.getItemGraphicEl(K);oe.updateData(o,X),oe.off("click"),h&&oe.on("click",d),s.add(oe),o.setItemGraphicEl(X,oe)}).remove(function(X){var K=a.getItemGraphicEl(X);s.remove(K)}).execute(),l&&u&&o.count()>0&&"scale"!==c){var f=o.getItemLayout(0),p=Math.max(n.getWidth(),n.getHeight())/2,D=re(s.removeClipPath,s);s.setClipPath(this._createClipPath(f.cx,f.cy,p,f.startAngle,f.clockwise,D,e))}this._data=o}},dispose:function(){},_createClipPath:function(e,t,n,i,o,a,s){var l=new Io({shape:{cx:e,cy:t,r0:0,r:n,startAngle:i,endAngle:i,clockwise:o}});return mr(l,{shape:{endAngle:i+(o?1:-1)*Math.PI*2}},s,a),l},containPoint:function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,o=e[1]-n.cy,a=Math.sqrt(i*i+o*o);return a<=n.r&&a>=n.r0}}});var $b=function(e,t){m(t,function(n){n.update="updateView",yi(n,function(i,o){var a={};return o.eachComponent({mainType:"series",subType:e,query:i},function(s){s[n.method]&&s[n.method](i.name,i.dataIndex);var l=s.getData();l.each(function(u){var c=l.getName(u);a[c]=s.isSelected(c)||!1})}),{name:i.name,selected:a}})})},Yd=function(e){return{getTargetSeries:function(t){var n={},i=tt();return t.eachSeriesByType(e,function(o){o.__paletteScope=n,i.set(o.uid,o)}),i},reset:function(t,n){var i=t.getRawData(),o={},a=t.getData();a.each(function(s){var l=a.getRawIndex(s);o[l]=s}),i.each(function(s){var l=o[s],u=null!=l&&a.getItemVisual(l,"color",!0);if(u)i.setItemVisual(s,"color",u);else{var c=i.getItemModel(s).get("itemStyle.color")||t.getColorFromPalette(i.getName(s),t.__paletteScope,i.count());i.setItemVisual(s,"color",c),null!=l&&a.setItemVisual(l,"color",c)}})}}},Xd=2*Math.PI,Kb=Math.PI/180,_u=function(e){return{seriesType:e,reset:function(t,n){var i=n.findComponents({mainType:"legend"});if(i&&i.length){var o=t.getData();o.filterSelf(function(a){for(var s=o.getName(a),l=0;l<i.length;l++)if(!i[l].isSelected(s))return!1;return!0},this)}}}};$b("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),Di(Yd("pie")),zi(Q(function(e,t,n,i){t.eachSeriesByType(e,function(o){var a=o.getData(),s=a.mapDimension("value"),l=o.get("center"),u=o.get("radius");$(u)||(u=[0,u]),$(l)||(l=[l,l]);var c=n.getWidth(),d=n.getHeight(),h=Math.min(c,d),f=wn(l[0],c),p=wn(l[1],d),D=wn(u[0],h/2),X=wn(u[1],h/2),K=-o.get("startAngle")*Kb,oe=o.get("minAngle")*Kb,ce=0;a.each(s,function(pn){!isNaN(pn)&&ce++});var be=a.getSum(s),Be=Math.PI/(be||ce)*2,He=o.get("clockwise"),Ye=o.get("roseType"),$e=o.get("stillShowZeroSum"),nt=a.getDataExtent(s);nt[0]=0;var mt=Xd,Qt=0,Yt=K,sn=He?1:-1;if(a.each(s,function(pn,bn){var Pn;if(isNaN(pn))a.setItemLayout(bn,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:He,cx:f,cy:p,r0:D,r:Ye?NaN:X});else{(Pn="area"!==Ye?0===be&&$e?Be:pn*Be:Xd/ce)<oe?(Pn=oe,mt-=oe):Qt+=pn;var Dn=Yt+sn*Pn;a.setItemLayout(bn,{angle:Pn,startAngle:Yt,endAngle:Dn,clockwise:He,cx:f,cy:p,r0:D,r:Ye?ji(pn,nt,[D,X]):X}),Yt=Dn}},!0),mt<Xd&&ce)if(mt<=.001){var xn=Xd/ce;a.each(s,function(pn,bn){if(!isNaN(pn)){var Pn=a.getItemLayout(bn);Pn.angle=xn,Pn.startAngle=K+sn*bn*xn,Pn.endAngle=K+sn*(bn+1)*xn}})}else Be=mt/Qt,Yt=K,a.each(s,function(pn,bn){if(!isNaN(pn)){var Pn=a.getItemLayout(bn),Dn=Pn.angle===oe?oe:pn*Be;Pn.startAngle=Yt,Pn.endAngle=Yt+sn*Dn,Yt+=sn*Dn}});!function(e,t,n,i){var o,a,s=e.getData(),l=[],u=!1;s.each(function(c){var d,h,f,p,D=s.getItemLayout(c),X=s.getItemModel(c),K=X.getModel("label"),oe=K.get("position")||X.get("emphasis.label.position"),ce=X.getModel("labelLine"),be=ce.get("length"),Be=ce.get("length2"),He=(D.startAngle+D.endAngle)/2,Ye=Math.cos(He),$e=Math.sin(He);o=D.cx,a=D.cy;var nt="inside"===oe||"inner"===oe;if("center"===oe)d=D.cx,h=D.cy,p="center";else{var mt=(nt?(D.r+D.r0)/2*Ye:D.r*Ye)+o,Qt=(nt?(D.r+D.r0)/2*$e:D.r*$e)+a;if(d=mt+3*Ye,h=Qt+3*$e,!nt){var Yt=mt+Ye*(be+t-D.r),sn=Qt+$e*(be+t-D.r),xn=Yt+(Ye<0?-1:1)*Be;d=xn+(Ye<0?-5:5),h=sn,f=[[mt,Qt],[Yt,sn],[xn,sn]]}p=nt?"center":Ye>0?"left":"right"}var bn=K.getFont(),Pn=K.get("rotate")?Ye<0?-He+Math.PI:-He:0,Dn=Fr(e.getFormattedLabel(c,"normal")||s.getName(c),bn,p,"top");u=!!Pn,D.label={x:d,y:h,position:oe,height:Dn.height,len:be,len2:Be,linePoints:f,textAlign:p,verticalAlign:"middle",rotation:Pn,inside:nt},nt||l.push(D.label)}),!u&&e.get("avoidLabelOverlap")&&function(e,t,n,i,o,a){for(var s=[],l=[],u=0;u<e.length;u++)e[u].x<t?s.push(e[u]):l.push(e[u]);for(x0(l,t,n,i,1,0,a),x0(s,t,n,i,-1,0,a),u=0;u<e.length;u++){var c=e[u].linePoints;if(c){var d=c[1][0]-c[2][0];c[2][0]=e[u].x<t?e[u].x+3:e[u].x-3,c[1][1]=c[2][1]=e[u].y,c[1][0]=c[2][0]+d}}}(l,o,a,t,0,i)}(o,X,0,d)})},"pie")),Wr(_u("pie")),Zi.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(e,t){return Mo(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},progressive:null}});var Og=ut({shape:{points:null},symbolProxy:null,buildPath:function(e,t){var n=t.points,i=t.size,o=this.symbolProxy,a=o.shape;if(!((e.getContext?e.getContext():e)&&i[0]<4))for(var s=0;s<n.length;){var l=n[s++],u=n[s++];isNaN(l)||isNaN(u)||(a.x=l-i[0]/2,a.y=u-i[1]/2,a.width=i[0],a.height=i[1],o.buildPath(e,a,!0))}},afterBrush:function(e){var t=this.shape,n=t.points,i=t.size;if(i[0]<4){this.setTransform(e);for(var o=0;o<n.length;){var a=n[o++],s=n[o++];isNaN(a)||isNaN(s)||e.fillRect(a-i[0]/2,s-i[1]/2,i[0],i[1])}this.restoreTransform(e)}},findDataIndex:function(e,t){for(var n=this.shape,i=n.points,o=n.size,a=Math.max(o[0],4),s=Math.max(o[1],4),l=i.length/2-1;l>=0;l--){var u=2*l,c=i[u]-a/2,d=i[u+1]-s/2;if(e>=c&&t>=d&&e<=c+a&&t<=d+s)return l}return-1}}),aa=b0.prototype;aa.isPersistent=function(){return!this._incremental},aa.updateData=function(e){this.group.removeAll();var t=new Og({rectHover:!0,cursor:"default"});t.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(t,e),this.group.add(t),this._incremental=null},aa.updateLayout=function(e){if(!this._incremental){var t=e.getLayout("symbolPoints");this.group.eachChild(function(n){null!=n.startIndex&&(t=new Float32Array(t.buffer,4*n.startIndex*2,2*(n.endIndex-n.startIndex))),n.setShape("points",t)})}},aa.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>2e6?(this._incremental||(this._incremental=new yt({silent:!0})),this.group.add(this._incremental)):this._incremental=null},aa.incrementalUpdate=function(e,t){var n;this._incremental?(n=new Og,this._incremental.addDisplayable(n,!0)):((n=new Og({rectHover:!0,cursor:"default",startIndex:e.start,endIndex:e.end})).incremental=!0,this.group.add(n)),n.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(n,t,!!this._incremental)},aa._setCommon=function(e,t,n){var i=t.hostModel,o=t.getVisual("symbolSize");e.setShape("size",o instanceof Array?o:[o,o]),e.symbolProxy=Dr(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var a=e.shape.size[0]<4;e.useStyle(i.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var s=t.getVisual("color");s&&e.setColor(s),n||(e.seriesIndex=i.seriesIndex,e.on("mousemove",function(l){e.dataIndex=null;var u=e.findDataIndex(l.offsetX,l.offsetY);u>=0&&(e.dataIndex=u+(e.startIndex||0))}))},aa.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},aa._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()},vr({type:"scatter",render:function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).updateData(i),this._finished=!0},incrementalPrepareRender:function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).incrementalPrepareUpdate(i),this._finished=!1},incrementalRender:function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,n){var i=e.getData();if(this.group.dirty(),!this._finished||i.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var o=bu().reset(e);o.progress&&o.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_updateSymbolDraw:function(e,t){var n=this._symbolDraw,i=t.pipelineContext.large;return n&&i===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=i?new b0:new Ns,this._isLargeDraw=i,this.group.removeAll()),this.group.add(n.group),n},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),Di(ja("scatter","circle")),zi(bu("scatter")),k(_0,Ki),ro.prototype.getIndicatorAxes=function(){return this._indicatorAxes},ro.prototype.dataToPoint=function(e,t){return this.coordToPoint(this._indicatorAxes[t].dataToCoord(e),t)},ro.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(n),this.cy-e*Math.sin(n)]},ro.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=Math.sqrt(t*t+n*n);t/=i,n/=i;for(var o,a=Math.atan2(-n,t),s=1/0,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],d=Math.abs(a-c.angle);d<s&&(o=c,l=u,s=d)}return[l,+(o&&o.coodToData(i))]},ro.prototype.resize=function(e,t){var n=e.get("center"),i=t.getWidth(),o=t.getHeight(),a=Math.min(i,o)/2;this.cx=wn(n[0],i),this.cy=wn(n[1],o),this.startAngle=e.get("startAngle")*Math.PI/180,this.r=wn(e.get("radius"),a),m(this._indicatorAxes,function(s,l){s.setExtent(0,this.r);var u=this.startAngle+l*Math.PI*2/this._indicatorAxes.length;u=Math.atan2(Math.sin(u),Math.cos(u)),s.angle=u},this)},ro.prototype.update=function(e,t){function n(s){var l=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),u=s/l;return 2===u?u=5:u*=2,u*l}var i=this._indicatorAxes,o=this._model;m(i,function(s){s.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(s,l){if("radar"===s.get("coordinateSystem")&&e.getComponent("radar",s.get("radarIndex"))===o){var u=s.getData();m(i,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var a=o.get("splitNumber");m(i,function(s,l){var u=Gv(s.scale,s.model);Ca(s.scale,s.model);var c=s.model,d=s.scale,h=c.getMin(),f=c.getMax(),p=d.getInterval();if(null!=h&&null!=f)d.setExtent(+h,+f),d.setInterval((f-h)/a);else if(null!=h){var D;do{d.setExtent(+h,D=h+p*a),d.setInterval(p),p=n(p)}while(D<u[1]&&isFinite(D)&&isFinite(u[1]))}else if(null!=f){var X;do{d.setExtent(X=f-p*a,+f),d.setInterval(p),p=n(p)}while(X>u[0]&&isFinite(X)&&isFinite(u[0]))}else{d.getTicks().length-1>a&&(p=n(p));var K=Math.round((u[0]+u[1])/2/p)*p,oe=Math.round(a/2);d.setExtent(br(K-oe*p),br(K+(a-oe)*p)),d.setInterval(p)}})},ro.dimensions=[],ro.create=function(e,t){var n=[];return e.eachComponent("radar",function(i){var o=new ro(i,e,t);n.push(o),i.coordinateSystem=o}),e.eachSeriesByType("radar",function(i){"radar"===i.get("coordinateSystem")&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},hr.register("radar",ro);var wu=ra.valueAxis,BI=(_r({type:"radar",optionUpdated:function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),o=this.get("axisTick"),a=this.get("axisLabel"),s=this.get("name"),l=this.get("name.show"),u=this.get("name.formatter"),c=this.get("nameGap"),d=this.get("triggerEvent"),h=y(this.get("indicator")||[],function(f){null!=f.max&&f.max>0&&!f.min?f.min=0:null!=f.min&&f.min<0&&!f.max&&(f.max=0);var p=s;if(null!=f.color&&(p=ne({color:f.color},s)),f=he(Bt(f),{boundaryGap:e,splitNumber:t,scale:n,axisLine:i,axisTick:o,axisLabel:a,name:f.text,nameLocation:"end",nameGap:c,nameTextStyle:p,triggerEvent:d},!1),l||(f.name=""),"string"==typeof u){var D=f.name;f.name=u.replace("{value}",null!=D?D:"")}else"function"==typeof u&&(f.name=u(f.name,f));var X=J(new vi(f,null,this.ecModel),Ua);return X.mainType="radar",X.componentIndex=this.componentIndex,X},this);this.getIndicatorModels=function(){return h}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:he({lineStyle:{color:"#bbb"}},wu.axisLine),axisLabel:gc(wu.axisLabel,!1),axisTick:gc(wu.axisTick,!1),splitLine:gc(wu.splitLine,!0),splitArea:gc(wu.splitArea,!0),indicator:[]}}),["axisLine","axisTickLabel","axisName"]);er({type:"radar",render:function(e,t,n){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},_buildAxes:function(e){var t=e.coordinateSystem;m(y(t.getIndicatorAxes(),function(n){return new pr(n.model,{position:[t.cx,t.cy],rotation:n.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(n){m(BI,n.add,n),this.group.add(n.getGroup())},this)},_buildSplitLineAndArea:function(e){function t(Yt,sn,xn){var pn=xn%sn.length;return Yt[pn]=Yt[pn]||[],pn}var n=e.coordinateSystem,i=n.getIndicatorAxes();if(i.length){var o=e.get("shape"),a=e.getModel("splitLine"),s=e.getModel("splitArea"),l=a.getModel("lineStyle"),u=s.getModel("areaStyle"),c=a.get("show"),d=s.get("show"),h=l.get("color"),f=u.get("color");h=$(h)?h:[h],f=$(f)?f:[f];var p=[],D=[];if("circle"===o)for(var X=i[0].getTicksCoords(),K=n.cx,oe=n.cy,ce=0;ce<X.length;ce++)c&&p[nt=t(p,h,ce)].push(new Oa({shape:{cx:K,cy:oe,r:X[ce]}})),d&&ce<X.length-1&&D[nt=t(D,f,ce)].push(new Xx({shape:{cx:K,cy:oe,r0:X[ce],r:X[ce+1]}}));else{var be,Be=y(i,function(sn,xn){var pn=sn.getTicksCoords();return be=null==be?pn.length-1:Math.min(pn.length-1,be),y(pn,function(bn){return n.coordToPoint(bn,xn)})}),He=[];for(ce=0;ce<=be;ce++){for(var Ye=[],$e=0;$e<i.length;$e++)Ye.push(Be[$e][ce]);if(Ye[0]&&Ye.push(Ye[0].slice()),c&&p[nt=t(p,h,ce)].push(new ho({shape:{points:Ye}})),d&&He){var nt=t(D,f,ce-1);D[nt].push(new qr({shape:{points:Ye.concat(He)}}))}He=Ye.slice().reverse()}}var mt=l.getLineStyle(),Qt=u.getAreaStyle();m(D,function(Yt,sn){this.group.add(Do(Yt,{style:ne({stroke:"none",fill:f[sn%f.length]},Qt),silent:!0}))},this),m(p,function(Yt,sn){this.group.add(Do(Yt,{style:ne({fill:"none",stroke:h[sn%h.length]},mt),silent:!0}))},this)}}});var OI=Zi.extend({type:"series.radar",dependencies:["radar"],init:function(e){OI.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(e,t){return al(this,{extraPrefix:"indicator_",extraFromZero:!0})},formatTooltip:function(e){var t=this.getData(),n=this.coordinateSystem.getIndicatorAxes(),i=this.getData().getName(e);return Oi(""===i?this.name:i)+"<br/>"+y(n,function(o,a){var s=t.get(t.mapDimension(o.dim),e);return Oi(o.name+" : "+s)}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});vr({type:"radar",render:function(e,t,n){function i(d,h){var f=d.getItemVisual(h,"symbol")||"circle",p=d.getItemVisual(h,"color");if("none"!==f){var D=function(e){return $(e)||(e=[+e,+e]),e}(d.getItemVisual(h,"symbolSize")),X=Dr(f,-1,-1,2,2,p);return X.attr({style:{strokeNoScale:!0},z2:100,scale:[D[0]/2,D[1]/2]}),X}}function o(d,h,f,p,D,X){f.removeAll();for(var K=0;K<h.length-1;K++){var oe=i(p,D);oe&&(oe.__dimIdx=K,d[K]?(oe.attr("position",d[K]),Jr[X?"initProps":"updateProps"](oe,{position:h[K]},e,D)):oe.attr("position",h[K]),f.add(oe))}}function a(d){return y(d,function(h){return[s.cx,s.cy]})}var s=e.coordinateSystem,l=this.group,u=e.getData(),c=this._data;u.diff(c).add(function(d){var h=u.getItemLayout(d);if(h){var f=new qr,p=new ho,D={shape:{points:h}};f.shape.points=a(h),p.shape.points=a(h),mr(f,D,e,d),mr(p,D,e,d);var X=new Ln,K=new Ln;X.add(p),X.add(f),X.add(K),o(p.shape.points,h,K,u,d,!0),u.setItemGraphicEl(d,X)}}).update(function(d,h){var f=c.getItemGraphicEl(h),p=f.childAt(0),D=f.childAt(1),X=f.childAt(2),K={shape:{points:u.getItemLayout(d)}};K.shape.points&&(o(p.shape.points,K.shape.points,X,u,d,!1),si(p,K,e),si(D,K,e),u.setItemGraphicEl(d,f))}).remove(function(d){l.remove(c.getItemGraphicEl(d))}).execute(),u.eachItemGraphicEl(function(d,h){function f(){K.attr("ignore",Ye)}function p(){K.attr("ignore",He)}var D=u.getItemModel(h),X=d.childAt(0),K=d.childAt(1),oe=d.childAt(2),ce=u.getItemVisual(h,"color");l.add(d),X.useStyle(ne(D.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:ce})),X.hoverStyle=D.getModel("emphasis.lineStyle").getLineStyle();var be=D.getModel("areaStyle"),Be=D.getModel("emphasis.areaStyle"),He=be.isEmpty()&&be.parentModel.isEmpty(),Ye=Be.isEmpty()&&Be.parentModel.isEmpty();Ye=Ye&&He,K.ignore=He,K.useStyle(ne(be.getAreaStyle(),{fill:ce,opacity:.7})),K.hoverStyle=Be.getAreaStyle();var $e=D.getModel("itemStyle").getItemStyle(["color"]),nt=D.getModel("emphasis.itemStyle").getItemStyle(),mt=D.getModel("label"),Qt=D.getModel("emphasis.label");oe.eachChild(function(Yt){Yt.setStyle($e),Yt.hoverStyle=Bt(nt),Ni(Yt.style,Yt.hoverStyle,mt,Qt,{labelFetcher:u.hostModel,labelDataIndex:h,labelDimIndex:Yt.__dimIdx,defaultText:u.get(u.dimensions[Yt.__dimIdx],h),autoColor:ce,isRectText:!0})}),d.off("mouseover").off("mouseout").off("normal").off("emphasis"),d.on("emphasis",f).on("mouseover",f).on("normal",p).on("mouseout",p),ii(d)}),this._data=u},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),Di(Yd("radar")),Di(ja("radar","circle")),zi(function(e){e.eachSeriesByType("radar",function(t){var n=t.getData(),i=[],o=t.coordinateSystem;if(o){for(var a=o.getIndicatorAxes(),s=0;s<o.getIndicatorAxes().length;s++)n.each(n.mapDimension(a[s].dim),function(l,u){i[u]=i[u]||[],i[u][s]=o.dataToPoint(l,s)});n.each(function(l){i[l][0]&&i[l].push(i[l][0].slice()),n.setItemLayout(l,i[l])})}})}),Wr(_u("radar")),cr(function(e){var t=e.polar;if(t){$(t)||(t=[t]);var n=[];m(t,function(i,o){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),e.radar=e.radar||[],$(e.radar)||(e.radar=[e.radar]),e.radar.push(i)):n.push(i)}),e.polar=n}m(e.series,function(i){i&&"radar"===i.type&&i.polarIndex&&(i.radarIndex=i.polarIndex)})});var zg=Zi.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(e){this._fillOption(e,this.getMapType()),zg.superApply(this,"init",arguments),this.updateSelectedMap(this.getRawData())},getInitialData:function(e){return al(this,["value"])},mergeOption:function(e){this._fillOption(e,this.getMapType()),zg.superApply(this,"mergeOption",arguments),this.updateSelectedMap(this.getRawData())},getHostGeoModel:function(){var e=this.option.geoIndex;return null!=e?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(e,t){},getRawValue:function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},getRegionModel:function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},formatTooltip:function(e){for(var t=this.getData(),n=_a(this.getRawValue(e)),i=t.getName(e),o=this.seriesGroup,a=[],s=0;s<o.length;s++){var l=o[s].originalData.indexOfName(i),u=t.mapDimension("value");isNaN(o[s].originalData.get(u,l))||a.push(Oi(o[s].name))}return a.join(", ")+"<br />"+Oi(i+" : "+n)},getTooltipPosition:function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,i=n.getRegion(t);return i&&n.dataToPoint(i.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});M(zg,Bg);var Jb="\0_ec_interaction_mutex";yi({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),M(Ul,nr);var zI={axisPointer:1,tooltip:1,brush:1};mc.prototype={constructor:mc,draw:function(e,t,n,i,o){var a="geo"===e.mainType,s=e.getData&&e.getData();a&&t.eachComponent({mainType:"series",subType:"map"},function(K){s||K.getHostGeoModel()!==e||(s=K.getData())});var l=e.coordinateSystem,u=this.group,c=l.scale,d={position:l.position,scale:c};!u.childAt(0)||o?u.attr(d):si(u,d,e),u.removeAll();var h=["itemStyle"],f=["emphasis","itemStyle"],p=["label"],D=["emphasis","label"],X=tt();m(l.regions,function(K){var oe=X.get(K.name)||X.set(K.name,new Ln),ce=new Kx({shape:{paths:[]}});oe.add(ce);var be,Be=(Hn=e.getRegionModel(K.name)||e).getModel(h),He=Hn.getModel(f),Ye=k0(Be),$e=k0(He),nt=Hn.getModel(p),mt=Hn.getModel(D);if(s){be=s.indexOfName(K.name);var Qt=s.getItemVisual(be,"color",!0);Qt&&(Ye.fill=Qt)}m(K.geometries,function(Tn){if("polygon"===Tn.type){ce.shape.paths.push(new qr({shape:{points:Tn.exterior}}));for(var fi=0;fi<(Tn.interiors?Tn.interiors.length:0);fi++)ce.shape.paths.push(new qr({shape:{points:Tn.interiors[fi]}}))}}),ce.setStyle(Ye),ce.style.strokeNoScale=!0,ce.culling=!0;var Yt=nt.get("show"),sn=mt.get("show"),xn=s&&isNaN(s.get(s.mapDimension("value"),be)),pn=s&&s.getItemLayout(be);if(a||xn&&(Yt||sn)||pn&&pn.showLabel){var bn,Pn=a?K.name:be;(!s||be>=0)&&(bn=e);var Dn=new ui({position:K.center.slice(),scale:[1/c[0],1/c[1]],z2:10,silent:!0});Ni(Dn.style,Dn.hoverStyle={},nt,mt,{labelFetcher:bn,labelDataIndex:Pn,defaultText:K.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),oe.add(Dn)}if(s)s.setItemGraphicEl(be,oe);else{var Hn=e.getRegionModel(K.name);ce.eventData={componentType:"geo",geoIndex:e.componentIndex,name:K.name,region:Hn&&Hn.option||{}}}(oe.__regions||(oe.__regions=[])).push(K),ii(oe,$e,{hoverSilentOnTouch:!!e.get("selectedMode")}),u.add(oe)}),this._updateController(e,t,n),function(e,t,n,i,o){n.off("click"),n.off("mousedown"),t.get("selectedMode")&&(n.on("mousedown",function(){e._mouseDownFlag=!0}),n.on("click",function(a){if(e._mouseDownFlag){e._mouseDownFlag=!1;for(var s=a.target;!s.__regions;)s=s.parent;if(s){var l={type:("geo"===t.mainType?"geo":"map")+"ToggleSelect",batch:y(s.__regions,function(u){return{name:u.name,from:o.uid}})};l[t.mainType+"Id"]=t.id,i.dispatchAction(l),A0(t,n)}}}))}(this,e,u,n,i),A0(e,u)},remove:function(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={}},_updateController:function(e,t,n){function i(){var u={type:"geoRoam",componentType:l};return u[l+"Id"]=e.id,u}var o=e.coordinateSystem,a=this._controller,s=this._controllerHost;s.zoomLimit=e.get("scaleLimit"),s.zoom=o.getZoom(),a.enable(e.get("roam")||!1);var l=e.mainType;a.off("pan").on("pan",function(u,c){this._mouseDownFlag=!1,M0(s,u,c),n.dispatchAction(J(i(),{dx:u,dy:c}))},this),a.off("zoom").on("zoom",function(u,c,d){if(this._mouseDownFlag=!1,T0(s,u,c,d),n.dispatchAction(J(i(),{zoom:u,originX:c,originY:d})),this._updateGroup){var h=this.group,f=h.scale;h.traverse(function(p){"text"===p.type&&p.attr("scale",[1/f[0],1/f[1]])})}},this),a.setPointerChecker(function(u,c,d){return o.getViewRectAfterRoam().contain(c,d)&&!hf(u,n,e)})}},vr({type:"map",render:function(e,t,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===e.id)(a=this._mapDraw)&&o.add(a.group);else if(e.needsDrawMap){var a=this._mapDraw||new mc(n,!0);o.add(a.group),a.draw(e,t,n,this,i),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(e,t,n){var i=e.originalData,o=this.group;i.each(i.mapDimension("value"),function(a,s){if(!isNaN(a)){var l=i.getItemLayout(s);if(l&&l.point){var u=l.point,c=l.offset,d=new Oa({style:{fill:e.getData().getVisual("color")},shape:{cx:u[0]+9*c,cy:u[1],r:3},silent:!0,z2:c?8:10});if(!c){var h=e.mainSeries.getData(),f=i.getName(s),p=h.indexOfName(f),D=i.getItemModel(s),X=D.getModel("label"),K=D.getModel("emphasis.label"),oe=h.getItemGraphicEl(p),ce=Me(e.getFormattedLabel(s,"normal"),f),be=Me(e.getFormattedLabel(s,"emphasis"),ce),Be=function(){var Ye=$n({},K,{text:K.get("show")?be:null},{isRectText:!0,useInsideStyle:!1},!0);d.style.extendFrom(Ye),d.__mapOriginalZ2=d.z2,d.z2+=1},He=function(){$n(d.style,X,{text:X.get("show")?ce:null,textPosition:X.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),null!=d.__mapOriginalZ2&&(d.z2=d.__mapOriginalZ2,d.__mapOriginalZ2=null)};oe.on("mouseover",Be).on("mouseout",He).on("emphasis",Be).on("normal",He),He()}o.add(d)}}})}}),yi({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(i){var o=i.coordinateSystem;if("geo"===o.type){var a=I0(o,e,i.get("scaleLimit"));i.setCenter&&i.setCenter(a.center),i.setZoom&&i.setZoom(a.zoom),"series"===n&&m(i.seriesGroup,function(s){s.setCenter(a.center),s.setZoom(a.zoom)})}})});var Qb=Rt;M(ff,oo),Ma.prototype={constructor:Ma,type:"view",dimensions:["x","y"],setBoundingRect:function(e,t,n,i){return this._rect=new Qn(e,t,n,i),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,t,n,i){this.transformTo(e,t,n,i),this._viewRect=new Qn(e,t,n,i)},transformTo:function(e,t,n,i){var o=this.getBoundingRect(),a=this._rawTransformable;a.transform=o.calculateTransform(new Qn(e,t,n,i)),a.decomposeTransform(),this._updateTransform()},setCenter:function(e){e&&(this._center=e,this._updateCenterAndZoom())},setZoom:function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},getDefaultCenter:function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),o=this.getZoom();i=Rt([],i,e),n=Rt([],n,e),t.origin=i,t.position=[n[0]-i[0],n[1]-i[1]],t.scale=[o,o],this._updateTransform()},_updateTransform:function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),Pt(this.transform||(this.transform=[]),t.transform||Un()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],$t(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},dataToPoint:function(e,t,n){var i=t?this._rawTransform:this.transform;return n=n||[],i?Qb(n,e,i):ct(n,e)},pointToData:function(e){var t=this.invTransform;return t?Qb([],e,t):[e[0],e[1]]},convertToPixel:Q(D0,"dataToPoint"),convertFromPixel:Q(D0,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}},M(Ma,oo);for(var Fg=[126,25],qa=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Za=0;Za<qa.length;Za++)for(var sl=0;sl<qa[Za].length;sl++)qa[Za][sl][0]/=10.5,qa[Za][sl][1]/=-14,qa[Za][sl][0]+=Fg[0],qa[Za][sl][1]+=Fg[1];var FI={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},HI={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},VI=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],WI=[function(e){"china"===e.map&&e.regions.push(new fc("\u5357\u6d77\u8bf8\u5c9b",y(qa,function(t){return{type:"polygon",exterior:t}}),Fg))},function(e){m(e.regions,function(t){var n=FI[t.name];if(n){var i=t.center;i[0]+=n[0]/10.5,i[1]+=-n[1]/14}})},function(e){m(e.regions,function(t){var n=HI[t.name];if(n){var i=t.center;i[0]=n[0],i[1]=n[1]}})},function(e){if("china"===e.map)for(var t=0,n=e.regions.length;t<n;++t)"\u53f0\u6e7e"===e.regions[t].name&&e.regions[t].geometries.push({type:"polygon",exterior:VI[0]})}];Ls.prototype={constructor:Ls,type:"geo",dimensions:["lng","lat"],containCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return!0;return!1},loadGeoJson:function(e,t,n){try{this.regions=e?Pg(e):[]}catch(u){throw"Invalid geoJson format\n"+u.message}t=t||{},n=n||{};for(var i=this.regions,o=tt(),a=0;a<i.length;a++){var s=i[a].name;s=n.hasOwnProperty(s)?n[s]:s,i[a].name=s,o.set(s,i[a]),this.addGeoCoord(s,i[a].center);var l=t[s];l&&i[a].transformTo(l.left,l.top,l.width,l.height)}this._regionsMap=o,this._rect=null,m(WI,function(u){u(this)},this)},transformTo:function(e,t,n,i){var o=this.getBoundingRect();(o=o.clone()).y=-o.y-o.height;var a=this._rawTransformable;a.transform=o.calculateTransform(new Qn(e,t,n,i)),a.decomposeTransform();var s=a.scale;s[1]=-s[1],a.updateTransform(),this._updateTransform()},getRegion:function(e){return this._regionsMap.get(e)},getRegionByCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return t[n]},addGeoCoord:function(e,t){this._nameCoordMap.set(e,t)},getGeoCoord:function(e){return this._nameCoordMap.get(e)},getBoundingRect:function(){if(this._rect)return this._rect;for(var e,t=this.regions,n=0;n<t.length;n++){var i=t[n].getBoundingRect();(e=e||i.clone()).union(i)}return this._rect=e||new Qn(0,0,0,0)},dataToPoint:function(e,t,n){if("string"==typeof e&&(e=this.getGeoCoord(e)),e)return Ma.prototype.dataToPoint.call(this,e,t,n)},convertToPixel:Q(N0,"dataToPoint"),convertFromPixel:Q(N0,"pointToData")},M(Ls,Ma);var e_={dimensions:Ls.prototype.dimensions,create:function(e,t){var n=[];e.eachComponent("geo",function(o,a){var s=o.get("map"),l=uc(s),u=new Ls(s+a,s,l&&l.geoJson,l&&l.specialAreas,o.get("nameMap"));u.zoomLimit=o.get("scaleLimit"),n.push(u),L0(u,o),o.coordinateSystem=u,u.model=o,u.resize=P0,u.resize(o,t)}),e.eachSeries(function(o){if("geo"===o.get("coordinateSystem")){var a=o.get("geoIndex")||0;o.coordinateSystem=n[a]}});var i={};return e.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var a=o.getMapType();i[a]=i[a]||[],i[a].push(o)}}),m(i,function(o,a){var s=uc(a),l=y(o,function(c){return c.get("nameMap")}),u=new Ls(a,a,s&&s.geoJson,s&&s.specialAreas,ke(l));u.zoomLimit=_e.apply(null,y(o,function(c){return c.get("scaleLimit")})),n.push(u),u.resize=P0,u.resize(o[0],t),m(o,function(c){c.coordinateSystem=u,L0(u,c)})}),n},getFilledRegions:function(e,t,n){var i=(e||[]).slice();n=n||{};var o=uc(t),a=o&&o.geoJson;if(!a)return e;for(var s=tt(),l=a.features,u=0;u<i.length;u++)s.set(i[u].name,i[u]);for(u=0;u<l.length;u++){var c=l[u].properties.name;s.get(c)||(n.hasOwnProperty(c)&&(c=n[c]),i.push({name:c}))}return i}};Yh("geo",e_),zi(function(e){var t={};e.eachSeriesByType("map",function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!t[i]){var o={};m(n.seriesGroup,function(s){var l=s.coordinateSystem,u=s.originalData;s.get("showLegendSymbol")&&e.getComponent("legend")&&u.each(u.mapDimension("value"),function(c,d){var h=u.getName(d),f=l.getRegion(h);if(f&&!isNaN(c)){var p=o[h]||0,D=l.dataToPoint(f.center);o[h]=p+1,u.setItemLayout(d,{point:D,offset:p})}})});var a=n.getData();a.each(function(s){var l=a.getName(s),u=a.getItemLayout(s)||{};u.showLabel=!o[l],a.setItemLayout(s,u)}),t[i]=!0}})}),Di(function(e){e.eachSeriesByType("map",function(t){var n=t.get("color"),i=t.getModel("itemStyle"),o=i.get("areaColor"),a=i.get("color")||n[t.seriesIndex%n.length];t.getData().setVisual({areaColor:o,color:a})})}),Wr(el.PROCESSOR.STATISTIC,function(e){var t={};e.eachSeriesByType("map",function(n){var i=n.getHostGeoModel(),o=i?"o"+i.id:"i"+n.getMapType();(t[o]=t[o]||[]).push(n)}),m(t,function(n,i){for(var o=function(e,t){var n={};return m(e,function(i){i.each(i.mapDimension("value"),function(o,a){var s="ec-"+i.getName(a);n[s]=n[s]||[],isNaN(o)||n[s].push(o)})}),e[0].map(e[0].mapDimension("value"),function(i,o){for(var a="ec-"+e[0].getName(o),s=0,l=1/0,u=-1/0,c=n[a].length,d=0;d<c;d++)l=Math.min(l,n[a][d]),u=Math.max(u,n[a][d]),s+=n[a][d];return 0===c?NaN:"min"===t?l:"max"===t?u:"average"===t?s/c:s})}(y(n,function(s){return s.getData()}),n[0].get("mapValueCalculation")),a=0;a<n.length;a++)n[a].originalData=n[a].getData();for(a=0;a<n.length;a++)n[a].seriesGroup=n,n[a].needsDrawMap=0===a&&!n[a].getHostGeoModel(),n[a].setData(o.cloneShallow()),n[a].mainSeries=n[0]})}),cr(function(e){var t=[];m(e.series,function(n){n&&"map"===n.type&&(t.push(n),n.map=n.map||n.mapType,ne(n,n.mapLocation))})}),$b("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var Cu=m,Su="\0__link_datas",$d="\0__link_mainData",Hg=function(e,t){this.name=e||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=t};Hg.prototype={constructor:Hg,isRemoved:function(){return this.dataIndex<0},eachNode:function(e,t,n){"function"==typeof e&&(n=t,t=e,e=null),pe(e=e||{})&&(e={order:e});var i,o=e.order||"preorder",a=this[e.attr||"children"];"preorder"===o&&(i=t.call(n,this));for(var s=0;!i&&s<a.length;s++)a[s].eachNode(e,t,n);"postorder"===o&&t.call(n,this)},updateDepthAndHeight:function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},getNodeById:function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,i=n.length;t<i;t++){var o=n[t].getNodeById(e);if(o)return o}},contains:function(e){if(e===this)return!0;for(var t=0,n=this.children,i=n.length;t<i;t++){var o=n[t].contains(e);if(o)return o}},getAncestors:function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},getValue:function(e){var t=this.hostTree.data;return t.get(t.getDimension(e||"value"),this.dataIndex)},setLayout:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(e){if(!(this.dataIndex<0)){var t,n=this.hostTree,i=n.data.getItemModel(this.dataIndex),o=this.getLevelModel();return o||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(t=this.getLeavesModel()),i.getModel(e,(o||t||n.hostModel).getModel(e))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},getVisual:function(e,t){return this.hostTree.data.getItemVisual(this.dataIndex,e,t)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},isDescendantOf:function(e){return e!==this&&e.isAncestorOf(this)}},Ta.prototype={constructor:Ta,type:"tree",eachNode:function(e,t,n){this.root.eachNode(e,t,n)},getNodeByDataIndex:function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},getNodeByName:function(e){return this.root.getNodeByName(e)},update:function(){for(var e=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(n=0,i=e.count();n<i;n++)t[e.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},Ta.createTree=function(e,t,n){var o=new Ta(t,n.levels,n.leaves),a=[],s=1;(function i(c,d){var h=c.value;s=Math.max(s,$(h)?h.length:1),a.push(c);var f=new Hg(c.name,o);d?function(e,t){e.parentNode!==t&&(t.children.push(e),e.parentNode=t)}(f,d):o.root=f,o._nodes.push(f);var p=c.children;if(p)for(var D=0;D<p.length;D++)i(p[D],f)})(e),o.root.updateDepthAndHeight(0);var l=tl(a,{coordDimensions:["value"],dimensionsCount:s}),u=new ir(l,t);return u.initData(a),E0({mainData:u,struct:o,structAttr:"tree"}),o.update(),o},Zi.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(e){var t={name:e.name,children:e.data},i={};i.leaves=e.leaves||{};var o=Ta.createTree(t,this,i),a=0;o.eachNode("preorder",function(l){l.depth>a&&(a=l.depth)});var s=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:a;return o.root.eachNode("preorder",function(l){var u=l.hostTree.data.getRawDataItem(l.dataIndex);l.isExpand=u&&null!=u.collapsed?!u.collapsed:l.depth<=s}),o.data},formatTooltip:function(e){for(var t=this.getData().tree,n=t.root.children[0],i=t.getNodeByDataIndex(e),o=i.getValue(),a=i.name;i&&i!==n;)a=i.parentNode.name+"."+a,i=i.parentNode;return Oi(a+(isNaN(o)||null==o?"":" : "+o))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"horizontal",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}}),vr({type:"tree",init:function(e,t){this._mainGroup=new Ln,this.group.add(this._mainGroup)},render:function(e,t,n,i){var o=e.getData(),a=e.layoutInfo,s=this._mainGroup,l=e.get("layout");s.attr("position","radial"===l?[a.x+a.width/2,a.y+a.height/2]:[a.x,a.y]);var u=this._data,c={expandAndCollapse:e.get("expandAndCollapse"),layout:l,orient:e.get("orient"),curvature:e.get("lineStyle.curveness"),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};o.diff(u).add(function(d){O0(o,d)&&F0(o,d,null,s,e,c)}).update(function(d,h){var f=u.getItemGraphicEl(h);O0(o,d)?F0(o,d,f,s,e,c):f&&H0(o,d,f,s,e,c)}).remove(function(d){var h=u.getItemGraphicEl(d);H0(o,d,h,s,e,c)}).execute(),!0===c.expandAndCollapse&&o.eachItemGraphicEl(function(d,h){d.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:h})})}),this._data=o},dispose:function(){},remove:function(){this._mainGroup.removeAll(),this._data=null}}),yi({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(n){var i=e.dataIndex,o=n.getData().tree.getNodeByDataIndex(i);o.isExpand=!o.isExpand})});var t_=function(e,t){var n=function(e,t){return Qi(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=n;var i=e.get("layout"),o=0,a=0,s=null;"radial"===i?(o=2*Math.PI,a=Math.min(n.height,n.width)/2,s=B0(function(ce,be){return(ce.parentNode===be.parentNode?1:2)/ce.depth})):(o=n.width,a=n.height,s=B0());var l=e.getData().tree.root,u=l.children[0];(function(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t,n,i=[e];t=i.pop();)if(n=t.children,t.isExpand&&n.length)for(var o=n.length-1;o>=0;o--){var a=n[o];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},i.push(a)}})(l),function(e,t,n){for(var i,o=[e],a=[];i=o.pop();)if(a.push(i),i.isExpand){var s=i.children;if(s.length)for(var l=0;l<s.length;l++)o.push(s[l])}for(;i=a.pop();)t(i,n)}(u,ZS,s),l.hierNode.modifier=-u.hierNode.prelim,ql(u,YS);var c=u,d=u,h=u;ql(u,function(ce){var be=ce.getLayout().x;be<c.getLayout().x&&(c=ce),be>d.getLayout().x&&(d=ce),ce.depth>h.depth&&(h=ce)});var f=c===d?1:s(c,d)/2,p=f-c.getLayout().x,D=0,X=0,K=0,oe=0;"radial"===i?(D=o/(d.getLayout().x+f+p),X=a/(h.depth-1||1),ql(u,function(ce){var be=jl(K=(ce.getLayout().x+p)*D,oe=(ce.depth-1)*X);ce.setLayout({x:be.x,y:be.y,rawX:K,rawY:oe},!0)})):"horizontal"===e.get("orient")?(X=a/(d.getLayout().x+f+p),D=o/(h.depth-1||1),ql(u,function(ce){oe=(ce.getLayout().x+p)*X,ce.setLayout({x:K=(ce.depth-1)*D,y:oe},!0)})):(D=o/(d.getLayout().x+f+p),X=a/(h.depth-1||1),ql(u,function(ce){K=(ce.getLayout().x+p)*D,ce.setLayout({x:K,y:oe=(ce.depth-1)*X},!0)}))};Di(ja("tree","circle")),zi(function(e,t){e.eachSeriesByType("tree",function(n){t_(n,t)})}),zi(function(e,t){e.eachSeriesByType("tree",function(n){t_(n,t)})}),Zi.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,t){var n={name:e.name,children:e.data};W0(n);var i=e.levels||[];i=e.levels=function(e,t){var i,n=t.get("color");if(n)return m(e=e||[],function(o){var a=new vi(o),s=a.get("color");(a.get("itemStyle.color")||s&&"none"!==s)&&(i=!0)}),i||((e[0]||(e[0]={})).color=n.slice()),e}(i,t);var o={};return o.levels=i,Ta.createTree(n,this,o).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var t=this.getData(),n=this.getRawValue(e),i=_a($(n)?n[0]:n);return Oi(t.getName(e)+": "+i)},getDataParams:function(e){var t=Zi.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=xf(n,this),t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},J(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=tt(),this._idIndexMapCount=0);var n=t.get(e);return null==n&&t.set(e,n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});var Vg=5;bf.prototype={constructor:bf,render:function(e,t,n,i){var o=e.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&n){var s=o.getModel("itemStyle"),l=s.getModel("textStyle"),u={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,u,l),this._renderContent(e,u,s,l,i),ic(a,u.pos,u.box)}},_prepare:function(e,t,n){for(var i=e;i;i=i.parentNode){var o=i.getModel().get("name"),a=n.getTextRect(o),s=Math.max(a.width+16,t.emptyItemWidth);t.totalWidth+=s+8,t.renderList.push({node:i,text:o,width:s})}},_renderContent:function(e,t,n,i,o){for(var a=0,s=t.emptyItemWidth,l=e.get("breadcrumb.height"),u=function(e,t,n){var i=t.width,o=t.height,a=wn(e.x,i),s=wn(e.y,o),l=wn(e.x2,i),u=wn(e.y2,o);return(isNaN(a)||isNaN(parseFloat(e.x)))&&(a=0),(isNaN(l)||isNaN(parseFloat(e.x2)))&&(l=i),(isNaN(s)||isNaN(parseFloat(e.y)))&&(s=0),(isNaN(u)||isNaN(parseFloat(e.y2)))&&(u=o),n=za(n||0),{width:Math.max(l-a-n[1]-n[3],0),height:Math.max(u-s-n[0]-n[2],0)}}(t.pos,t.box),c=t.totalWidth,d=t.renderList,h=d.length-1;h>=0;h--){var f=d[h],p=f.node,D=f.width,X=f.text;c>u.width&&(c-=D-s,D=s,X=null);var K=new qr({shape:{points:i2(a,0,D,l,h===d.length-1,0===h)},style:ne(n.getItemStyle(),{lineJoin:"bevel",text:X,textFill:i.getTextColor(),textFont:i.getFont()}),z:10,onclick:Q(o,p)});this.group.add(K),r2(K,e,p),a+=D+8}},remove:function(){this.group.removeAll()}};var Kd=re,n_=Ln,i_=Ti,yo=m,GI=["label"],UI=["emphasis","label"],jI=["upperLabel"],qI=["emphasis","upperLabel"],ZI=10,YI=1,XI=2,Wg=qs([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r_=function(e){var t=Wg(e);return t.stroke=t.fill=t.lineWidth=null,t};vr({type:"treemap",init:function(e,t){this._storage={nodeGroup:[],background:[],content:[]},this._state="ready"},render:function(e,t,n,i){if(!(A(t.findComponents({mainType:"series",subType:"treemap",query:i}),e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var o=Zl(i,["treemapZoomToNode","treemapRootToNode"],e),a=i&&i.type,s=e.layoutInfo,l=!this._oldTree,u=this._storage,c="treemapRootToNode"===a&&o&&u?{rootNodeGroup:u.nodeGroup[o.node.getRawIndex()],direction:i.direction}:null,d=this._giveContainerGroup(s),h=this._doRender(d,e,c);l||a&&"treemapZoomToNode"!==a&&"treemapRootToNode"!==a?h.renderFinally():this._doAnimation(d,h,e,c),this._resetController(n),this._renderBreadcrumb(e,n,o)}},_giveContainerGroup:function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new n_,this._initEvents(t),this.group.add(t)),t.attr("position",[e.x,e.y]),t},_doRender:function(e,t,n){var o=t.getData().tree,a=this._oldTree,s={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},u=this._storage,c=[],d=Q(a2,t,l,u,n,s,c);!function i(f,p,D,X,K){function oe(be){return be.getId()}function ce(be,Be){var He=null!=be?f[be]:null,Ye=null!=Be?p[Be]:null,$e=d(He,Ye,D,K);$e&&i(He&&He.viewChildren||[],Ye&&Ye.viewChildren||[],$e,X,K+1)}X?(p=f,yo(f,function(be,Be){!be.isRemoved()&&ce(Be,Be)})):new So(p,f,oe,oe).add(ce).update(ce).remove(Q(ce,null)).execute()}(o.root?[o.root]:[],a&&a.root?[a.root]:[],e,o===a||!a,0);var f,p,h=(p={nodeGroup:[],background:[],content:[]},(f=u)&&yo(f,function(D,X){var K=p[X];yo(D,function(oe){oe&&(K.push(oe),oe.__tmWillDelete=1)})}),p);return this._oldTree=o,this._storage=l,{lastsForAnimation:s,willDeleteEls:h,renderFinally:function(){yo(h,function(f){yo(f,function(p){p.parent&&p.parent.remove(p)})}),yo(c,function(f){f.invisible=!0,f.dirty()})}}},_doAnimation:function(e,t,n,i){if(n.get("animation")){var o=n.get("animationDurationUpdate"),a=n.get("animationEasing"),s=function(){var e,t=[],n={};return{add:function(i,o,a,s,l){return pe(s)&&(l=s,s=0),!n[i.id]&&(n[i.id]=1,t.push({el:i,target:o,time:a,delay:s,easing:l}),!0)},done:function(i){return e=i,this},start:function(){for(var i=t.length,o=0,a=t.length;o<a;o++){var s=t[o];s.el.animateTo(s.target,s.time,s.delay,s.easing,function(){--i||(t.length=0,n={},e&&e())})}return this}}}();yo(t.willDeleteEls,function(l,u){yo(l,function(c,d){if(!c.invisible){var h,f=c.parent;if(i&&"drillDown"===i.direction)h=f===i.rootNodeGroup?{shape:{x:0,y:0,width:f.__tmNodeWidth,height:f.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var p=0,D=0;f.__tmWillDelete||(p=f.__tmNodeWidth/2,D=f.__tmNodeHeight/2),h="nodeGroup"===u?{position:[p,D],style:{opacity:0}}:{shape:{x:p,y:D,width:0,height:0},style:{opacity:0}}}h&&s.add(c,h,o,a)}})}),yo(this._storage,function(l,u){yo(l,function(c,d){var h=t.lastsForAnimation[u][d],f={};h&&("nodeGroup"===u?h.old&&(f.position=c.position.slice(),c.attr("position",h.old)):(h.old&&(f.shape=J({},c.shape),c.setShape(h.old)),h.fadein?(c.setStyle("opacity",0),f.style={opacity:1}):1!==c.style.opacity&&(f.style={opacity:1})),s.add(c,f,o,a))})},this),this._state="animating",s.done(Kd(function(){this._state="ready",t.renderFinally()},this)).start()}},_resetController:function(e){var t=this._controller;t||((t=this._controller=new Ul(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",Kd(this._onPan,this)),t.on("zoom",Kd(this._onZoom,this)));var n=new Qn(0,0,e.getWidth(),e.getHeight());t.setPointerChecker(function(i,o,a){return n.contain(o,a)})},_clearController:function(){var e=this._controller;e&&(e.dispose(),e=null)},_onPan:function(e,t){if("animating"!==this._state&&(Math.abs(e)>3||Math.abs(t)>3)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e,y:i.y+t,width:i.width,height:i.height}})}},_onZoom:function(e,t,n){if("animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var o=i.getLayout();if(!o)return;var a=new Qn(o.x,o.y,o.width,o.height),s=this.seriesModel.layoutInfo;t-=s.x,n-=s.y;var l=Un();tn(l,l,[-t,-n]),cn(l,l,[e,e]),tn(l,l,[t,n]),a.applyTransform(l),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},_initEvents:function(e){e.on("click",function(t){if("ready"===this._state){var n=this.seriesModel.get("nodeClick",!0);if(n){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var o=i.node;if(o.getLayout().isLeafRoot)this._rootToNode(i);else if("zoomToNode"===n)this._zoomToNode(i);else if("link"===n){var a=o.hostTree.data.getItemModel(o.dataIndex),s=a.get("link",!0),l=a.get("target",!0)||"blank";s&&window.open(s,l)}}}}},this)},_renderBreadcrumb:function(e,t,n){n||(n=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(n={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new bf(this.group))).render(e,t,n.node,Kd(function(i){"animating"!==this._state&&(yf(e.getViewRoot(),i)?this._rootToNode({node:i}):this._zoomToNode({node:i}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(i){var o=this._storage.background[i.getRawIndex()];if(o){var a=o.transformCoordToLocal(e,t),s=o.shape;if(!(s.x<=a[0]&&a[0]<=s.x+s.width&&s.y<=a[1]&&a[1]<=s.y+s.height))return!1;n={node:i,offsetX:a[0],offsetY:a[1]}}},this),n}});for(var o_=["treemapZoomToNode","treemapRender","treemapMove"],Gg=0;Gg<o_.length;Gg++)yi({type:o_[Gg],update:"updateView"},function(){});yi({type:"treemapRootToNode",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},function(n,i){var o=Zl(e,["treemapZoomToNode","treemapRootToNode"],n);if(o){var a=n.getViewRoot();a&&(e.direction=yf(a,o.node)?"rollUp":"drillDown"),n.resetViewRoot(o.node)}})});var Mu=m,a_=Ce,Jd=-1,wi=function(e){var t=e.mappingMethod,n=e.type,i=this.option=Bt(e);this.type=n,this.mappingMethod=t,this._normalizeData=$I[t];var o=Tu[n];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._doMap=o._doMap[t],"piecewise"===t?(_f(i),function(e){var t=e.pieceList;e.hasSpecialVisual=!1,m(t,function(n,i){n.originIndex=i,null!=n.visual&&(e.hasSpecialVisual=!0)})}(i)):"category"===t?i.categories?function(e){var t=e.categories,n=e.visual,i=e.categoryMap={};if(Mu(t,function(s,l){i[s]=l}),!$(n)){var o=[];Ce(n)?Mu(n,function(s,l){var u=i[l];o[null!=u?u:Jd]=s}):o[Jd]=n,n=U0(e,o)}for(var a=t.length-1;a>=0;a--)null==n[a]&&(delete i[t[a]],t.pop())}(i):_f(i,!0):(Ue("linear"!==t||i.dataExtent),_f(i))};wi.prototype={constructor:wi,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return re(this._normalizeData,this)}};var Tu=wi.visualHandlers={color:{applyVisual:wf("color"),getColorMapper:function(){var e=this.option;return re("category"===e.mappingMethod?function(t,n){return!n&&(t=this._normalizeData(t)),yc.call(this,t)}:function(t,n,i){var o=!!i;return!n&&(t=this._normalizeData(t)),i=Wt(t,e.parsedVisual,i),o?i:Bn(i,"rgba")},this)},_doMap:{linear:function(e){return Bn(Wt(e,this.option.parsedVisual),"rgba")},category:yc,piecewise:function(e,t){var n=Mf.call(this,t);return null==n&&(n=Bn(Wt(e,this.option.parsedVisual),"rgba")),n},fixed:Cf}},colorHue:vc(function(e,t){return on(e,t)}),colorSaturation:vc(function(e,t){return on(e,null,t)}),colorLightness:vc(function(e,t){return on(e,null,null,t)}),colorAlpha:vc(function(e,t){return Sn(e,t)}),opacity:{applyVisual:wf("opacity"),_doMap:Sf([0,1])},symbol:{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);if(pe(i))n("symbol",i);else if(a_(i))for(var o in i)i.hasOwnProperty(o)&&n(o,i[o])},_doMap:{linear:G0,category:yc,piecewise:function(e,t){var n=Mf.call(this,t);return null==n&&(n=G0.call(this,e)),n},fixed:Cf}},symbolSize:{applyVisual:wf("symbolSize"),_doMap:Sf([0,1])}},$I={linear:function(e){return ji(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=wi.findPieceIndex(e,t,!0);if(null!=n)return ji(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?Jd:t},fixed:It};wi.listVisualTypes=function(){var e=[];return m(Tu,function(t,n){e.push(n)}),e},wi.addVisualHandler=function(e,t){Tu[e]=t},wi.isValidType=function(e){return Tu.hasOwnProperty(e)},wi.eachVisual=function(e,t,n){Ce(e)?m(e,t,n):t.call(n,e)},wi.mapVisual=function(e,t,n){var i,o=$(e)?[]:Ce(e)?{}:(i=!0,null);return wi.eachVisual(e,function(a,s){var l=t.call(n,a,s);i?o=l:o[s]=l}),o},wi.retrieveVisuals=function(e){var t,n={};return e&&Mu(Tu,function(i,o){e.hasOwnProperty(o)&&(n[o]=e[o],t=!0)}),t?n:null},wi.prepareVisualTypes=function(e){if(a_(e)){var t=[];Mu(e,function(n,i){t.push(i)}),e=t}else{if(!$(e))return[];e=e.slice()}return e.sort(function(n,i){return"color"===i&&"color"!==n&&0===n.indexOf("color")?1:-1}),e},wi.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},wi.findPieceIndex=function(e,t,n){function i(f,p){var D=Math.abs(f-e);D<a&&(a=D,o=p)}for(var o,a=1/0,s=0,l=t.length;s<l;s++){var u=t[s].value;if(null!=u){if(u===e||"string"==typeof u&&u===e+"")return s;n&&i(u,s)}}for(s=0,l=t.length;s<l;s++){var c=t[s],d=c.interval,h=c.close;if(d){if(d[0]===-1/0){if(xc(h[1],e,d[1]))return s}else if(d[1]===1/0){if(xc(h[0],d[0],e))return s}else if(xc(h[0],d[0],e)&&xc(h[1],e,d[1]))return s;n&&i(d[0],s),n&&i(d[1],s)}}if(n)return e===1/0?t.length-1:e===-1/0?0:o};var KI=$,Ug="itemStyle",JI={seriesType:"treemap",reset:function(e,t,n,i){var o=e.getData().tree,a=o.root,s=e.getModel(Ug);a.isRemoved()||j0(a,{},y(o.levelModels,function(l){return l?l.get(Ug):null}),s,e.getViewRoot().getAncestors(),e)}},ku=Math.max,Qd=Math.min,s_=_e,jg=m,l_=["itemStyle","borderWidth"],QI=["itemStyle","gapWidth"],eD=["upperLabel","show"],tD=["upperLabel","height"],nD={seriesType:"treemap",reset:function(e,t,n,i){var o=n.getWidth(),a=n.getHeight(),s=e.option,l=Qi(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),u=s.size||[],c=wn(s_(l.width,u[0]),o),d=wn(s_(l.height,u[1]),a),h=i&&i.type,f=Zl(i,["treemapZoomToNode","treemapRootToNode"],e),p="treemapRender"===h||"treemapMove"===h?i.rootRect:null,D=e.getViewRoot(),X=V0(D);if("treemapMove"!==h){var K="treemapZoomToNode"===h?function(e,t,n,i,o){var a=(t||{}).node,s=[i,o];if(!a||a===n)return s;for(var l,u=i*o,c=u*e.option.zoomToNodeRatio;l=a.parentNode;){for(var d=0,h=l.children,f=0,p=h.length;f<p;f++)d+=h[f].getValue();var D=a.getValue();if(0===D)return s;c*=d/D;var X=l.getModel(),K=X.get(l_);(c+=4*K*K+(3*K+Math.max(K,$0(X)))*Math.pow(c,.5))>sg&&(c=sg),a=l}c<u&&(c=u);var oe=Math.pow(c/u,.5);return[i*oe,o*oe]}(e,f,D,c,d):p?[p.width,p.height]:[c,d],oe=s.sort;oe&&"asc"!==oe&&"desc"!==oe&&(oe="desc");var ce={squareRatio:s.squareRatio,sort:oe,leafDepth:s.leafDepth};D.hostTree.clearLayouts(),D.setLayout({x:0,y:0,width:K[0],height:K[1],area:K[0]*K[1]}),Z0(D,ce,!1,0);var be=D.getLayout();jg(X,function(He,Ye){var $e=(X[Ye+1]||D).getValue();He.setLayout(J({dataExtent:[$e,$e],borderWidth:0,upperHeight:0},be))})}var Be=e.getData().tree.root;Be.setLayout(function(e,t,n){if(t)return{x:t.x,y:t.y};var i={x:0,y:0};if(!n)return i;var o=n.node,a=o.getLayout();if(!a)return i;for(var s=[a.width/2,a.height/2],l=o;l;){var u=l.getLayout();s[0]+=u.x,s[1]+=u.y,l=l.parentNode}return{x:e.width/2-s[0],y:e.height/2-s[1]}}(l,p,f),!0),e.setLayoutInfo(l),X0(Be,new Qn(-l.x,-l.y,o,a),X,D,0)}};Di(JI),zi(nD);var Au=function(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={}},Er=Au.prototype;Er.type="graph",Er.isDirected=function(){return this._directed},Er.addNode=function(e,t){var n=this._nodesMap;if(!n[Es(e=e||""+t)]){var i=new $r(e,t);return i.hostGraph=this,this.nodes.push(i),n[Es(e)]=i,i}},Er.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},Er.getNodeById=function(e){return this._nodesMap[Es(e)]},Er.addEdge=function(e,t,n){var i=this._nodesMap,o=this._edgesMap;if("number"==typeof e&&(e=this.nodes[e]),"number"==typeof t&&(t=this.nodes[t]),$r.isInstance(e)||(e=i[Es(e)]),$r.isInstance(t)||(t=i[Es(t)]),e&&t){var a=e.id+"-"+t.id;if(!o[a]){var s=new Yl(e,t,n);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),o[a]=s,s}}},Er.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},Er.getEdge=function(e,t){$r.isInstance(e)&&(e=e.id),$r.isInstance(t)&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},Er.eachNode=function(e,t){for(var n=this.nodes,i=n.length,o=0;o<i;o++)n[o].dataIndex>=0&&e.call(t,n[o],o)},Er.eachEdge=function(e,t){for(var n=this.edges,i=n.length,o=0;o<i;o++)n[o].dataIndex>=0&&n[o].node1.dataIndex>=0&&n[o].node2.dataIndex>=0&&e.call(t,n[o],o)},Er.breadthFirstTraverse=function(e,t,n,i){if($r.isInstance(t)||(t=this._nodesMap[Es(t)]),t){for(var o="out"===n?"outEdges":"in"===n?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!e.call(i,t,null))for(var s=[t];s.length;){var l=s.shift(),u=l[o];for(a=0;a<u.length;a++){var c=u[a],d=c.node1===l?c.node2:c.node1;if(!d.__visited){if(e.call(i,d,l))return;s.push(d),d.__visited=!0}}}}},Er.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,i=this.edges,o=0,a=n.length;o<a;o++)n[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)n[e.getRawIndex(o)].dataIndex=o;for(t.filterSelf(function(s){var l=i[t.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0}),o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)i[t.getRawIndex(o)].dataIndex=o},Er.clone=function(){for(var e=new Au(this._directed),t=this.nodes,n=this.edges,i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(i=0;i<n.length;i++){var o=n[i];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},$r.prototype={constructor:$r,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)}},Yl.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)};var u_=function(e,t){return{getValue:function(n){var i=this[e][t];return i.get(i.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,i)},getVisual:function(n,i){return this[e][t].getItemVisual(this.dataIndex,n,i)},setLayout:function(n,i){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}};M($r,u_("hostGraph","data")),M(Yl,u_("hostGraph","edgeData")),Au.Node=$r,Au.Edge=Yl,ze($r),ze(Yl);var c_=function(e,t,n,i,o){for(var a=new Au(i),s=0;s<e.length;s++)a.addNode(_e(e[s].id,e[s].name,s),s);var l=[],u=[],c=0;for(s=0;s<t.length;s++){var d=t[s],h=d.source,f=d.target;a.addEdge(h,f,c)&&(u.push(d),l.push(_e(d.id,h+" > "+f)),c++)}var p,D=n.get("coordinateSystem");if("cartesian2d"===D||"polar"===D)p=Mo(e,n);else{var X=hr.get(D),K=tl(e,{coordDimensions:(X&&"view"!==X.type&&X.dimensions||[]).concat(["value"])});(p=new ir(K,n)).initData(e)}var oe=new ir(["value"],n);return oe.initData(u,l),o&&o(p,oe),E0({mainData:p,struct:a,structAttr:"graph",datas:{node:p,edge:oe},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a},Iu=zl({type:"series.graph",init:function(e){Iu.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeOption:function(e){Iu.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(e){Iu.superApply(this,"mergeDefaultAndTheme",arguments),te(e,["edgeLabel"],["show"])},getInitialData:function(e,t){var n=e.edges||e.links||[],i=e.data||e.nodes||[],o=this;if(i&&n)return c_(i,n,this,!0,function(a,s){function l(d){return(d=this.parsePath(d))&&"label"===d[0]?c:this.parentModel}a.wrapMethod("getItemModel",function(d){var h=o._categoriesModels[d.getShallow("category")];return h&&(h.parentModel=d.parentModel,d.parentModel=h),d});var u=o.getModel("edgeLabel"),c=new vi({label:u.option},u.parentModel,t);s.wrapMethod("getItemModel",function(d){return d.customizeGetParent(l),d})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,n){if("edge"===n){var i=this.getData(),o=this.getDataParams(e,n),a=i.graph.getEdgeByIndex(e),s=i.getName(a.node1.dataIndex),l=i.getName(a.node2.dataIndex),u=[];return null!=s&&u.push(s),null!=l&&u.push(l),u=Oi(u.join(" > ")),o.value&&(u+=" : "+Oi(o.value)),u}return Iu.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=y(this.option.categories||[],function(n){return null!=n.value?n:J({value:0},n)}),t=new ir(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(n){return t.getItemModel(n,!0)})},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return Iu.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),d_=Zr.prototype,qg=ag.prototype,iD=ut({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,t){(Af(t)?d_:qg).buildPath(e,t)},pointAt:function(e){return Af(this.shape)?d_.pointAt.call(this,e):qg.pointAt.call(this,e)},tangentAt:function(e){var t=this.shape,n=Af(t)?[t.x2-t.x1,t.y2-t.y1]:qg.tangentAt.call(this,e);return kn(n,n)}}),Zg=["fromSymbol","toSymbol"],sa=Xl.prototype;sa.beforeUpdate=function(){var e=this,t=e.childOfName("fromSymbol"),n=e.childOfName("toSymbol"),i=e.childOfName("label");if(t||n||!i.ignore){for(var o=1,a=this.parent;a;)a.scale&&(o/=a.scale[0]),a=a.parent;var s=e.childOfName("line");if(this.__dirty||s.__dirty){var l=s.shape.percent,u=s.pointAt(0),c=s.pointAt(l),d=Nt([],c,u);if(kn(d,d),t&&(t.attr("position",u),h=s.tangentAt(0),t.attr("rotation",Math.PI/2-Math.atan2(h[1],h[0])),t.attr("scale",[o*l,o*l])),n){n.attr("position",c);var h=s.tangentAt(1);n.attr("rotation",-Math.PI/2-Math.atan2(h[1],h[0])),n.attr("scale",[o*l,o*l])}if(!i.ignore){i.attr("position",c);var f,p,D,X=5*o;if("end"===i.__position)f=[d[0]*X+c[0],d[1]*X+c[1]],p=d[0]>.8?"left":d[0]<-.8?"right":"center",D=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";else if("middle"===i.__position){var K=l/2,oe=[(h=s.tangentAt(K))[1],-h[0]],ce=s.pointAt(K);oe[1]>0&&(oe[0]=-oe[0],oe[1]=-oe[1]),f=[ce[0]+oe[0]*X,ce[1]+oe[1]*X],p="center",D="bottom";var be=-Math.atan2(h[1],h[0]);c[0]<u[0]&&(be=Math.PI+be),i.attr("rotation",be)}else f=[-d[0]*X+u[0],-d[1]*X+u[1]],p=d[0]>.8?"right":d[0]<-.8?"left":"center",D=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";i.attr({style:{textVerticalAlign:i.__verticalAlign||D,textAlign:i.__textAlign||p},position:f,scale:[o,o]})}}}},sa._createLine=function(e,t,n){var i=e.hostModel,o=function(e){var t=new iD({name:"line"});return If(t.shape,e),t}(e.getItemLayout(t));o.shape.percent=0,mr(o,{shape:{percent:1}},i,t),this.add(o);var a=new ui({name:"label"});this.add(a),m(Zg,function(s){var l=J0(s,e,t);this.add(l),this[K0(s)]=e.getItemVisual(t,s)},this),this._updateCommonStl(e,t,n)},sa.updateData=function(e,t,n){var i=e.hostModel,o=this.childOfName("line"),a=e.getItemLayout(t),s={shape:{}};If(s.shape,a),si(o,s,i,t),m(Zg,function(l){var u=e.getItemVisual(t,l),c=K0(l);if(this[c]!==u){this.remove(this.childOfName(l));var d=J0(l,e,t);this.add(d)}this[c]=u},this),this._updateCommonStl(e,t,n)},sa._updateCommonStl=function(e,t,n){var i=e.hostModel,o=this.childOfName("line"),a=n&&n.lineStyle,s=n&&n.hoverLineStyle,l=n&&n.labelModel,u=n&&n.hoverLabelModel;if(!n||e.hasItemOption){var c=e.getItemModel(t);a=c.getModel("lineStyle").getLineStyle(),s=c.getModel("emphasis.lineStyle").getLineStyle(),l=c.getModel("label"),u=c.getModel("emphasis.label")}var d=e.getItemVisual(t,"color"),h=Ne(e.getItemVisual(t,"opacity"),a.opacity,1);o.useStyle(ne({strokeNoScale:!0,fill:"none",stroke:d,opacity:h},a)),o.hoverStyle=s,m(Zg,function(Be){var He=this.childOfName(Be);He&&(He.setColor(d),He.setStyle({opacity:h}))},this);var f,p,D,X=l.getShallow("show"),K=u.getShallow("show"),oe=this.childOfName("label");if(X||K){if(f=d||"#000",null==(p=i.getFormattedLabel(t,"normal",e.dataType))){var ce=i.getRawValue(t);p=null==ce?e.getName(t):isFinite(ce)?br(ce):ce}D=Me(i.getFormattedLabel(t,"emphasis",e.dataType),p)}if(X){var be=$n(oe.style,l,{text:p},{autoColor:f});oe.__textAlign=be.textAlign,oe.__verticalAlign=be.textVerticalAlign,oe.__position=l.get("position")||"middle"}else oe.setStyle("text",null);oe.hoverStyle=K?{text:D,textFill:u.getTextColor(!0),fontStyle:u.getShallow("fontStyle"),fontWeight:u.getShallow("fontWeight"),fontSize:u.getShallow("fontSize"),fontFamily:u.getShallow("fontFamily")}:{text:null},oe.ignore=!X&&!K,ii(this)},sa.highlight=function(){this.trigger("emphasis")},sa.downplay=function(){this.trigger("normal")},sa.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},sa.setLinePoints=function(e){var t=this.childOfName("line");If(t.shape,e),t.dirty()},k(Xl,Ln);var Ya=bc.prototype;Ya.isPersistent=function(){return!0},Ya.updateData=function(e){var t=this,n=t.group,i=t._lineData;t._lineData=e,i||n.removeAll();var o=Q0(e);e.diff(i).add(function(a){!function(e,t,n,i){if(Df(t.getItemLayout(n))){var o=new e._ctor(t,n,i);t.setItemGraphicEl(n,o),e.group.add(o)}}(t,e,a,o)}).update(function(a,s){!function(e,t,n,i,o,a){var s=t.getItemGraphicEl(i);Df(n.getItemLayout(o))?(s?s.updateData(n,o,a):s=new e._ctor(n,o,a),n.setItemGraphicEl(o,s),e.group.add(s)):e.group.remove(s)}(t,i,e,s,a,o)}).remove(function(a){n.remove(i.getItemGraphicEl(a))}).execute()},Ya.updateLayout=function(){var e=this._lineData;e.eachItemGraphicEl(function(t,n){t.updateLayout(e,n)},this)},Ya.incrementalPrepareUpdate=function(e){this._seriesScope=Q0(e),this._lineData=null,this.group.removeAll()},Ya.incrementalUpdate=function(e,t){for(var n=e.start;n<e.end;n++)if(Df(t.getItemLayout(n))){var i=new this._ctor(t,n,this._seriesScope);i.traverse(function(o){o.isGroup||(o.incremental=o.useHoverLayer=!0)}),this.group.add(i)}},Ya.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Ya._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var Yg=[],Xg=[],$g=[],ll=je,Kg=Uo,h_=Math.abs,Jg=function(e,t){function n(u){var c=u.getVisual("symbolSize");return c instanceof Array&&(c=(c[0]+c[1])/2),c}var i=[],o=Ke,a=[[],[],[]],s=[[],[]],l=[];t/=2,e.eachEdge(function(u,c){var d=u.getLayout(),h=u.getVisual("fromSymbol"),f=u.getVisual("toSymbol");d.__original||(d.__original=[Lt(d[0]),Lt(d[1])],d[2]&&d.__original.push(Lt(d[2])));var p=d.__original;if(null!=d[2]){if(ct(a[0],p[0]),ct(a[1],p[2]),ct(a[2],p[1]),h&&"none"!=h){var D=n(u.node1),X=ty(a,p[0],D*t);o(a[0][0],a[1][0],a[2][0],X,i),a[0][0]=i[3],a[1][0]=i[4],o(a[0][1],a[1][1],a[2][1],X,i),a[0][1]=i[3],a[1][1]=i[4]}f&&"none"!=f&&(D=n(u.node2),X=ty(a,p[1],D*t),o(a[0][0],a[1][0],a[2][0],X,i),a[1][0]=i[1],a[2][0]=i[2],o(a[0][1],a[1][1],a[2][1],X,i),a[1][1]=i[1],a[2][1]=i[2]),ct(d[0],a[0]),ct(d[1],a[2]),ct(d[2],a[1])}else ct(s[0],p[0]),ct(s[1],p[1]),Nt(l,s[1],s[0]),kn(l,l),h&&"none"!=h&&(D=n(u.node1),dn(s[0],s[0],l,D*t)),f&&"none"!=f&&(D=n(u.node2),dn(s[1],s[1],l,-D*t)),ct(d[0],s[0]),ct(d[1],s[1])})},Xa=["itemStyle","opacity"],eh=["lineStyle","opacity"];vr({type:"graph",init:function(e,t){var n=new Ns,i=new bc,o=this.group;this._controller=new Ul(t.getZr()),this._controllerHost={target:o},o.add(n.group),o.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},render:function(e,t,n){var i=e.coordinateSystem;this._model=e,this._nodeScaleRatio=e.get("nodeScaleRatio");var o=this._symbolDraw,a=this._lineDraw,s=this.group;if("view"===i.type){var l={position:i.position,scale:i.scale};this._firstRender?s.attr(l):si(s,l,e)}Jg(e.getGraph(),this._getNodeGlobalScale(e));var u=e.getData();o.updateData(u);var c=e.getEdgeData();a.updateData(c),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var d=e.forceLayout,h=e.get("force.layoutAnimation");d&&this._startForceLayoutIteration(d,h),u.eachItemGraphicEl(function(X,K){var oe=u.getItemModel(K);X.off("drag").off("dragend");var ce=u.getItemModel(K).get("draggable");ce&&X.on("drag",function(){d&&(d.warmUp(),!this._layouting&&this._startForceLayoutIteration(d,h),d.setFixed(K),u.setItemLayout(K,X.position))},this).on("dragend",function(){d&&d.setUnfixed(K)},this),X.setDraggable(ce&&d),X.off("mouseover",X.__focusNodeAdjacency),X.off("mouseout",X.__unfocusNodeAdjacency),oe.get("focusNodeAdjacency")&&(X.on("mouseover",X.__focusNodeAdjacency=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:X.dataIndex})}),X.on("mouseout",X.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))},this),u.graph.eachEdge(function(X){var K=X.getGraphicEl();K.off("mouseover",K.__focusNodeAdjacency),K.off("mouseout",K.__unfocusNodeAdjacency),X.getModel().get("focusNodeAdjacency")&&(K.on("mouseover",K.__focusNodeAdjacency=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:X.dataIndex})}),K.on("mouseout",K.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))});var f="circular"===e.get("layout")&&e.get("circular.rotateLabel"),p=u.getLayout("cx"),D=u.getLayout("cy");u.eachItemGraphicEl(function(X,K){var oe=X.getSymbolPath();if(f){var ce=u.getItemLayout(K),be=Math.atan2(ce[1]-D,ce[0]-p);be<0&&(be=2*Math.PI+be);var Be=ce[0]<p;Be&&(be-=Math.PI);var He=Be?"left":"right";oe.setStyle({textRotation:-be,textPosition:He,textOrigin:"center"}),oe.hoverStyle&&(oe.hoverStyle.textPosition=He)}else oe.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(e,t,n,i){var o=this._model.getData().graph,s=i.edgeDataIndex,l=o.getNodeByIndex(i.dataIndex),u=o.getEdgeByIndex(s);(l||u)&&(o.eachNode(function(c){_c(c,Xa,.1)}),o.eachEdge(function(c){_c(c,eh,.1)}),l&&(ka(l,Xa),m(l.edges,function(c){c.dataIndex<0||(ka(c,eh),ka(c.node1,Xa),ka(c.node2,Xa))})),u&&(ka(u,eh),ka(u.node1,Xa),ka(u.node2,Xa)))},unfocusNodeAdjacency:function(e,t,n,i){var o=this._model.getData().graph;o.eachNode(function(a){_c(a,Xa)}),o.eachEdge(function(a){_c(a,eh)})},_startForceLayoutIteration:function(e,t){var n=this;!function i(){e.step(function(o){n.updateLayout(n._model),(n._layouting=!o)&&(t?n._layoutTimeout=setTimeout(i,16):i())})}()},_updateController:function(e,t,n){var i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker(function(s,l,u){var c=a.getBoundingRect();return c.applyTransform(a.transform),c.contain(l,u)&&!hf(s,n,e)}),"view"===e.coordinateSystem.type?(i.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",function(s,l){M0(o,s,l),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:s,dy:l})}).on("zoom",function(s,l,u){T0(o,s,l,u),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:s,originX:l,originY:u}),this._updateNodeAndLinkScale(),Jg(e.getGraph(),this._getNodeGlobalScale(e)),this._lineDraw.updateLayout()},this)):i.disable()},_updateNodeAndLinkScale:function(){var e=this._model,t=e.getData(),n=this._getNodeGlobalScale(e),i=[n,n];t.eachItemGraphicEl(function(o,a){o.attr("scale",i)})},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio,i=t.scale,o=i&&i[0]||1;return((t.getZoom()-1)*n+1)/o},updateLayout:function(e){Jg(e.getGraph(),this._getNodeGlobalScale(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}}),yi({type:"graphRoam",event:"graphRoam",update:"none"},function(e,t){t.eachComponent({mainType:"series",query:e},function(n){var i=I0(n.coordinateSystem,e);n.setCenter&&n.setCenter(i.center),n.setZoom&&n.setZoom(i.zoom)})}),yi({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){}),yi({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){});var ul=dn;Wr(function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),o=n.getGraph().data,a=i.mapArray(i.getName);o.filterSelf(function(s){var l=o.getItemModel(s).getShallow("category");if(null!=l){"number"==typeof l&&(l=a[l]);for(var u=0;u<t.length;u++)if(!t[u].isSelected(l))return!1}return!0})},this)}),Di(ja("graph","circle",null)),Di(function(e){var t={};e.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),o=n.getData(),a={};i.each(function(s){var l=i.getName(s);a["ec-"+l]=s;var u=i.getItemModel(s).get("itemStyle.color")||n.getColorFromPalette(l,t);i.setItemVisual(s,"color",u)}),i.count()&&o.each(function(s){var l=o.getItemModel(s).getShallow("category");null!=l&&("string"==typeof l&&(l=a["ec-"+l]),o.getItemVisual(s,"color",!0)||o.setItemVisual(s,"color",i.getItemVisual(l,"color")))})})}),Di(function(e){e.eachSeriesByType("graph",function(t){var n=t.getGraph(),i=t.getEdgeData(),o=wc(t.get("edgeSymbol")),a=wc(t.get("edgeSymbolSize")),s="lineStyle.color".split("."),l="lineStyle.opacity".split(".");i.setVisual("fromSymbol",o&&o[0]),i.setVisual("toSymbol",o&&o[1]),i.setVisual("fromSymbolSize",a&&a[0]),i.setVisual("toSymbolSize",a&&a[1]),i.setVisual("color",t.get(s)),i.setVisual("opacity",t.get(l)),i.each(function(u){var c=i.getItemModel(u),d=n.getEdgeByIndex(u),h=wc(c.getShallow("symbol",!0)),f=wc(c.getShallow("symbolSize",!0)),p=c.get(s),D=c.get(l);switch(p){case"source":p=d.node1.getVisual("color");break;case"target":p=d.node2.getVisual("color")}h[0]&&d.setVisual("fromSymbol",h[0]),h[1]&&d.setVisual("toSymbol",h[1]),f[0]&&d.setVisual("fromSymbolSize",f[0]),f[1]&&d.setVisual("toSymbolSize",f[1]),d.setVisual("color",p),d.setVisual("opacity",D)})})}),zi(function(e,t){e.eachSeriesByType("graph",function(n){var i=n.get("layout"),o=n.coordinateSystem;if(o&&"view"!==o.type){var a=n.getData(),s=[];m(o.dimensions,function(f){s=s.concat(a.mapDimension(f,!0))});for(var l=0;l<a.count();l++){for(var u=[],c=!1,d=0;d<s.length;d++){var h=a.get(s[d],l);isNaN(h)||(c=!0),u.push(h)}a.setItemLayout(l,c?o.dataToPoint(u):[NaN,NaN])}ry(a.graph)}else i&&"none"!==i||iy(n)})}),zi(function(e){e.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&oy(t)})}),zi(function(e){e.eachSeriesByType("graph",function(t){var n=t.coordinateSystem;if(!n||"view"===n.type)if("force"===t.get("layout")){var i=t.preservedPoints||{},o=t.getGraph(),a=o.data,s=o.edgeData,l=t.getModel("force"),u=l.get("initLayout");t.preservedPoints?a.each(function(ce){var be=a.getId(ce);a.setItemLayout(ce,i[be]||[NaN,NaN])}):u&&"none"!==u?"circular"===u&&oy(t):iy(t);var c=a.getDataExtent("value"),d=s.getDataExtent("value"),h=l.get("repulsion"),f=l.get("edgeLength");$(h)||(h=[h,h]),$(f)||(f=[f,f]),f=[f[1],f[0]];var p=a.mapArray("value",function(ce,be){var Be=a.getItemLayout(be),He=ji(ce,c,h);return isNaN(He)&&(He=(h[0]+h[1])/2),{w:He,rep:He,fixed:a.getItemModel(be).get("fixed"),p:!Be||isNaN(Be[0])||isNaN(Be[1])?null:Be}}),D=s.mapArray("value",function(ce,be){var Be=o.getEdgeByIndex(be),He=ji(ce,d,f);return isNaN(He)&&(He=(f[0]+f[1])/2),{n1:p[Be.node1.dataIndex],n2:p[Be.node2.dataIndex],d:He,curveness:Be.getModel().get("lineStyle.curveness")||0}}),X=(n=t.coordinateSystem).getBoundingRect(),K=function(e,t,n){for(var i=n.rect,o=i.width,a=i.height,s=[i.x+o/2,i.y+a/2],l=null==n.gravity?.1:n.gravity,u=0;u<e.length;u++){var c=e[u];c.p||(c.p=nn(o*(Math.random()-.5)+s[0],a*(Math.random()-.5)+s[1])),c.pp=Lt(c.p),c.edges=null}var d=.6;return{warmUp:function(){d=.5},setFixed:function(h){e[h].fixed=!0},setUnfixed:function(h){e[h].fixed=!1},step:function(h){for(var f=[],p=e.length,D=0;D<t.length;D++){var X=t[D];Nt(f,(Be=X.n2).p,(K=X.n1).p);var oe=hn(f)-X.d,ce=Be.w/(K.w+Be.w);isNaN(ce)&&(ce=0),kn(f,f),!K.fixed&&ul(K.p,K.p,f,ce*oe*d),!Be.fixed&&ul(Be.p,Be.p,f,-(1-ce)*oe*d)}for(D=0;D<p;D++)($e=e[D]).fixed||(Nt(f,s,$e.p),ul($e.p,$e.p,f,l*d));for(D=0;D<p;D++)for(var K=e[D],be=D+1;be<p;be++){var Be=e[be];Nt(f,Be.p,K.p),0===(oe=hn(f))&&(ln(f,Math.random()-.5,Math.random()-.5),oe=1);var He=(K.rep+Be.rep)/oe/oe;!K.fixed&&ul(K.pp,K.pp,f,He),!Be.fixed&&ul(Be.pp,Be.pp,f,-He)}var Ye=[];for(D=0;D<p;D++){var $e=e[D];$e.fixed||(Nt(Ye,$e.p,$e.pp),ul($e.p,$e.p,Ye,d),ct($e.pp,$e.p))}d*=.992,h&&h(e,t,d<.01)}}}(p,D,{rect:X,gravity:l.get("gravity")}),oe=K.step;K.step=function(ce){for(var be=0,Be=p.length;be<Be;be++)p[be].fixed&&ct(p[be].p,o.getNodeByIndex(be).getLayout());oe(function(He,Ye,$e){for(var nt=0,mt=He.length;nt<mt;nt++)He[nt].fixed||o.getNodeByIndex(nt).setLayout(He[nt].p),i[a.getId(nt)]=He[nt].p;for(nt=0,mt=Ye.length;nt<mt;nt++){var Qt=Ye[nt],Yt=o.getEdgeByIndex(nt),sn=Qt.n1.p,xn=Qt.n2.p,pn=Yt.getLayout();(pn=pn?pn.slice():[])[0]=pn[0]||[],pn[1]=pn[1]||[],ct(pn[0],sn),ct(pn[1],xn),+Qt.curveness&&(pn[2]=[(sn[0]+xn[0])/2-(sn[1]-xn[1])*Qt.curveness,(sn[1]+xn[1])/2-(xn[0]-sn[0])*Qt.curveness]),Yt.setLayout(pn)}ce&&ce($e)})},t.forceLayout=K,t.preservedPoints=i,K.step()}else t.forceLayout=null})}),Yh("graphView",{create:function(e,t){var n=[];return e.eachSeriesByType("graph",function(i){var o=i.get("coordinateSystem");if(!o||"view"===o){var a=i.getData(),s=[],l=[];dt(a.mapArray(function(X){var K=a.getItemModel(X);return[+K.get("x"),+K.get("y")]}),s,l),l[0]-s[0]==0&&(l[0]+=1,s[0]-=1),l[1]-s[1]==0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=function(e,t,n){var i=e.getBoxLayoutParams();return i.aspect=n,Qi(i,{width:t.getWidth(),height:t.getHeight()})}(i,t,u);isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var d=l[0]-s[0],h=l[1]-s[1],f=c.width,p=c.height,D=i.coordinateSystem=new Ma;D.zoomLimit=i.get("scaleLimit"),D.setBoundingRect(s[0],s[1],d,h),D.setViewRect(c.x,c.y,f,p),D.setCenter(i.get("center")),D.setZoom(i.get("zoom")),n.push(D)}}),n}}),Zi.extend({type:"series.gauge",getInitialData:function(e,t){var n=e.data||[];return $(n)||(n=[n]),e.data=n,al(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var rD=an.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,t){var n=Math.cos,i=Math.sin,o=t.r,a=t.width,s=t.angle,l=t.x-n(s)*a*(a>=o/3?1:2),u=t.y-i(s)*a*(a>=o/3?1:2);s=t.angle-Math.PI/2,e.moveTo(l,u),e.lineTo(t.x+n(s)*a,t.y+i(s)*a),e.lineTo(t.x+n(t.angle)*o,t.y+i(t.angle)*o),e.lineTo(t.x-n(s)*a,t.y-i(s)*a),e.lineTo(l,u)}}),oD=2*Math.PI,f_=(ar.extend({type:"gauge",render:function(e,t,n){this.group.removeAll();var i=e.get("axisLine.lineStyle.color"),o=function(e,t){var n=e.get("center"),i=t.getWidth(),o=t.getHeight(),a=Math.min(i,o);return{cx:wn(n[0],t.getWidth()),cy:wn(n[1],t.getHeight()),r:wn(e.get("radius"),a/2)}}(e,n);this._renderMain(e,t,n,i,o)},dispose:function(){},_renderMain:function(e,t,n,i,o){for(var a=this.group,s=e.getModel("axisLine").getModel("lineStyle"),l=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,c=-e.get("endAngle")/180*Math.PI,d=(c-u)%oD,h=u,f=s.get("width"),p=0;p<i.length;p++){var D=Math.min(Math.max(i[p][0],0),1),X=new Io({shape:{startAngle:h,endAngle:c=u+d*D,cx:o.cx,cy:o.cy,clockwise:l,r0:o.r-f,r:o.r},silent:!0});X.setStyle({fill:i[p][1]}),X.setStyle(s.getLineStyle(["color","borderWidth","borderColor"])),a.add(X),h=c}var K=function(ce){if(ce<=0)return i[0][1];for(var be=0;be<i.length;be++)if(i[be][0]>=ce&&(0===be?0:i[be-1][0])<ce)return i[be][1];return i[be-1][1]};if(!l){var oe=u;u=c,c=oe}this._renderTicks(e,t,n,K,o,u,c,l),this._renderPointer(e,t,n,K,o,u,c,l),this._renderTitle(e,t,n,K,o),this._renderDetail(e,t,n,K,o)},_renderTicks:function(e,t,n,i,o,a,s,l){for(var u=this.group,c=o.cx,d=o.cy,h=o.r,f=+e.get("min"),p=+e.get("max"),D=e.getModel("splitLine"),X=e.getModel("axisTick"),K=e.getModel("axisLabel"),oe=e.get("splitNumber"),ce=X.get("splitNumber"),be=wn(D.get("length"),h),Be=wn(X.get("length"),h),He=a,Ye=(s-a)/oe,$e=Ye/ce,nt=D.getModel("lineStyle").getLineStyle(),mt=X.getModel("lineStyle").getLineStyle(),Qt=0;Qt<=oe;Qt++){var Yt=Math.cos(He),sn=Math.sin(He);if(D.get("show")){var xn=new Zr({shape:{x1:Yt*h+c,y1:sn*h+d,x2:Yt*(h-be)+c,y2:sn*(h-be)+d},style:nt,silent:!0});"auto"===nt.stroke&&xn.setStyle({stroke:i(Qt/oe)}),u.add(xn)}if(K.get("show")){var pn=ay(br(Qt/oe*(p-f)+f),K.get("formatter")),bn=K.get("distance"),Pn=i(Qt/oe);u.add(new ui({style:$n({},K,{text:pn,x:Yt*(h-be-bn)+c,y:sn*(h-be-bn)+d,textVerticalAlign:sn<-.4?"top":sn>.4?"bottom":"middle",textAlign:Yt<-.4?"left":Yt>.4?"right":"center"},{autoColor:Pn}),silent:!0}))}if(X.get("show")&&Qt!==oe){for(var Dn=0;Dn<=ce;Dn++){Yt=Math.cos(He),sn=Math.sin(He);var Hn=new Zr({shape:{x1:Yt*h+c,y1:sn*h+d,x2:Yt*(h-Be)+c,y2:sn*(h-Be)+d},silent:!0,style:mt});"auto"===mt.stroke&&Hn.setStyle({stroke:i((Qt+Dn/ce)/oe)}),u.add(Hn),He+=$e}He-=$e}else He+=Ye}},_renderPointer:function(e,t,n,i,o,a,s,l){var u=this.group,c=this._data;if(e.get("pointer.show")){var d=[+e.get("min"),+e.get("max")],h=[a,s],f=e.getData(),p=f.mapDimension("value");f.diff(c).add(function(D){var X=new rD({shape:{angle:a}});mr(X,{shape:{angle:ji(f.get(p,D),d,h,!0)}},e),u.add(X),f.setItemGraphicEl(D,X)}).update(function(D,X){var K=c.getItemGraphicEl(X);si(K,{shape:{angle:ji(f.get(p,D),d,h,!0)}},e),u.add(K),f.setItemGraphicEl(D,K)}).remove(function(D){var X=c.getItemGraphicEl(D);u.remove(X)}).execute(),f.eachItemGraphicEl(function(D,X){var K=f.getItemModel(X),oe=K.getModel("pointer");D.setShape({x:o.cx,y:o.cy,width:wn(oe.get("width"),o.r),r:wn(oe.get("length"),o.r)}),D.useStyle(K.getModel("itemStyle").getItemStyle()),"auto"===D.style.fill&&D.setStyle("fill",i(ji(f.get(p,X),d,[0,1],!0))),ii(D,K.getModel("emphasis.itemStyle").getItemStyle())}),this._data=f}else c&&c.eachItemGraphicEl(function(D){u.remove(D)})},_renderTitle:function(e,t,n,i,o){var a=e.getData(),s=a.mapDimension("value"),l=e.getModel("title");if(l.get("show")){var u=l.get("offsetCenter"),c=o.cx+wn(u[0],o.r),d=o.cy+wn(u[1],o.r),h=+e.get("min"),f=+e.get("max"),p=i(ji(e.getData().get(s,0),[h,f],[0,1],!0));this.group.add(new ui({silent:!0,style:$n({},l,{x:c,y:d,text:a.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:p,forceRich:!0})}))}},_renderDetail:function(e,t,n,i,o){var a=e.getModel("detail"),s=+e.get("min"),l=+e.get("max");if(a.get("show")){var u=a.get("offsetCenter"),c=o.cx+wn(u[0],o.r),d=o.cy+wn(u[1],o.r),h=wn(a.get("width"),o.r),f=wn(a.get("height"),o.r),p=e.getData(),D=p.get(p.mapDimension("value"),0),X=i(ji(D,[s,l],[0,1],!0));this.group.add(new ui({silent:!0,style:$n({},a,{x:c,y:d,text:ay(D,a.get("formatter")),textWidth:isNaN(h)?null:h,textHeight:isNaN(f)?null:f,textAlign:"center",textVerticalAlign:"middle"},{autoColor:X,forceRich:!0})}))}}}),zl({type:"series.funnel",init:function(e){f_.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(e)},getInitialData:function(e,t){return al(this,["value"])},_defaultLabelLine:function(e){te(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},getDataParams:function(e){var t=this.getData(),n=f_.superCall(this,"getDataParams",e),i=t.mapDimension("value"),o=t.getSum(i);return n.percent=o?+(t.get(i,e)/o*100).toFixed(2):0,n.$vars.push("percent"),n},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}})),p_=Nf.prototype,aD=["itemStyle","opacity"];p_.updateData=function(e,t,n){var i=this.childAt(0),o=e.hostModel,a=e.getItemModel(t),s=e.getItemLayout(t),l=e.getItemModel(t).get(aD);l=null==l?1:l,i.useStyle({}),n?(i.setShape({points:s.points}),i.setStyle({opacity:0}),mr(i,{style:{opacity:l}},o,t)):si(i,{style:{opacity:l},shape:{points:s.points}},o,t);var u=a.getModel("itemStyle"),c=e.getItemVisual(t,"color");i.setStyle(ne({lineJoin:"round",fill:c},u.getItemStyle(["opacity"]))),i.hoverStyle=u.getModel("emphasis").getItemStyle(),this._updateLabel(e,t),ii(this)},p_._updateLabel=function(e,t){var n=this.childAt(1),i=this.childAt(2),o=e.hostModel,a=e.getItemModel(t),s=e.getItemLayout(t).label,l=e.getItemVisual(t,"color");si(n,{shape:{points:s.linePoints||s.linePoints}},o,t),si(i,{style:{x:s.x,y:s.y}},o,t),i.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var u=a.getModel("label"),c=a.getModel("emphasis.label"),d=a.getModel("labelLine"),h=a.getModel("emphasis.labelLine");l=e.getItemVisual(t,"color"),Ni(i.style,i.hoverStyle={},u,c,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:l,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign}),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!c.get("show"),n.ignore=n.normalIgnore=!d.get("show"),n.hoverIgnore=!h.get("show"),n.setStyle({stroke:l}),n.setStyle(d.getModel("lineStyle").getLineStyle()),n.hoverStyle=h.getModel("lineStyle").getLineStyle()},k(Nf,Ln),ar.extend({type:"funnel",render:function(e,t,n){var i=e.getData(),o=this._data,a=this.group;i.diff(o).add(function(s){var l=new Nf(i,s);i.setItemGraphicEl(s,l),a.add(l)}).update(function(s,l){var u=o.getItemGraphicEl(l);u.updateData(i,s),a.add(u),i.setItemGraphicEl(s,u)}).remove(function(s){var l=o.getItemGraphicEl(s);a.remove(l)}).execute(),this._data=i},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),Di(Yd("funnel")),zi(function(e,t,n){e.eachSeriesByType("funnel",function(i){var o=i.getData(),a=o.mapDimension("value"),s=i.get("sort"),l=function(e,t){return Qi(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(i,t),u=function(e,t){for(var n=e.mapDimension("value"),i=e.mapArray(n,function(u){return u}),o=[],a="ascending"===t,s=0,l=e.count();s<l;s++)o[s]=s;return"function"==typeof t?o.sort(t):"none"!==t&&o.sort(function(u,c){return a?i[u]-i[c]:i[c]-i[u]}),o}(o,s),c=[wn(i.get("minSize"),l.width),wn(i.get("maxSize"),l.width)],d=o.getDataExtent(a),h=i.get("min"),f=i.get("max");null==h&&(h=Math.min(d[0],0)),null==f&&(f=d[1]);var p=i.get("funnelAlign"),D=i.get("gap"),X=(l.height-D*(o.count()-1))/o.count(),K=l.y,oe=function(nt,mt){var Qt,Yt=ji(o.get(a,nt)||0,[h,f],c,!0);switch(p){case"left":Qt=l.x;break;case"center":Qt=l.x+(l.width-Yt)/2;break;case"right":Qt=l.x+l.width-Yt}return[[Qt,mt],[Qt+Yt,mt]]};"ascending"===s&&(X=-X,D=-D,K+=l.height,u=u.reverse());for(var ce=0;ce<u.length;ce++){var be=u[ce],Be=u[ce+1],He=o.getItemModel(be).get("itemStyle.height");null==He?He=X:(He=wn(He,l.height),"ascending"===s&&(He=-He));var Ye=oe(be,K),$e=oe(Be,K+He);K+=He+D,o.setItemLayout(be,{points:Ye.concat($e.slice().reverse())})}!function(e){e.each(function(t){var n,i,o,a,s=e.getItemModel(t),l=s.getModel("label").get("position"),u=s.getModel("labelLine"),c=e.getItemLayout(t),d=c.points,h="inner"===l||"inside"===l||"center"===l;if(h)n="center",a=[[i=(d[0][0]+d[1][0]+d[2][0]+d[3][0])/4,o=(d[0][1]+d[1][1]+d[2][1]+d[3][1])/4],[i,o]];else{var f,p,D,X=u.get("length");"left"===l?(p=(d[3][1]+d[0][1])/2,i=(D=(f=(d[3][0]+d[0][0])/2)-X)-5,n="right"):(p=(d[1][1]+d[2][1])/2,i=(D=(f=(d[1][0]+d[2][0])/2)+X)+5,n="left"),a=[[f,p],[D,p]],o=p}c.label={linePoints:a,x:i,y:o,verticalAlign:"middle",textAlign:n,inside:h}})}(o)})}),Wr(_u("funnel"));var th=function(e,t,n,i,o){Ki.call(this,e,t,n),this.type=i||"value",this.axisIndex=o};th.prototype={constructor:th,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},k(th,Ki);var cl=function(e,t,n,i,o,a){t[0]=Cc(t[0],n),t[1]=Cc(t[1],n),e=e||0,null!=o&&(o=Cc(o,[0,n[1]-n[0]])),null!=a&&(a=Math.max(a,null!=o?o:0)),"all"===i&&(o=a=Math.abs(t[1]-t[0]),i=0);var l=Pf(t,i);t[i]+=e;var u=o||0,c=n.slice();l.sign<0?c[0]+=u:c[1]-=u,t[i]=Cc(t[i],c),d=Pf(t,i),null!=o&&(d.sign!==l.sign||d.span<o)&&(t[1-i]=t[i]+l.sign*o);var d=Pf(t,i);return null!=a&&d.span>a&&(t[1-i]=t[i]+d.sign*a),t},Qg=m,g_=Math.min,m_=Math.max,v_=Math.floor,sD=Math.ceil,y_=br,lD=Math.PI;Lf.prototype={type:"parallel",constructor:Lf,_init:function(e,t,n){var o=e.parallelAxisIndex;Qg(e.dimensions,function(a,s){var l=o[s],u=t.getComponent("parallelAxis",l),c=this._axesMap.set(a,new th(a,Is(u),[0,0],u.get("type"),l));c.onBand="category"===c.type&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},update:function(e,t){this._updateAxesFromSeries(this._model,e)},containPoint:function(e){var t=this._makeLayoutInfo(),n=t.axisBase,i=t.layoutBase,o=t.pixelDimIndex,a=e[1-o],s=e[o];return a>=n&&a<=n+t.axisLength&&s>=i&&s<=i+t.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(e,t){t.eachSeries(function(n){if(e.contains(n,t)){var i=n.getData();Qg(this.dimensions,function(o){var a=this._axesMap.get(o);a.scale.unionExtentFromData(i,i.mapDimension(o)),Ca(a.scale,a.model)},this)}},this)},resize:function(e,t){this._rect=Qi(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var e,t=this._model,n=this._rect,i=["x","y"],o=["width","height"],a=t.get("layout"),s="horizontal"===a?0:1,l=n[o[s]],u=[0,l],c=this.dimensions.length,d=Sc(t.get("axisExpandWidth"),u),h=Sc(t.get("axisExpandCount")||0,[0,c]),f=t.get("axisExpandable")&&c>3&&c>h&&h>1&&d>0&&l>0,p=t.get("axisExpandWindow");p?(e=Sc(p[1]-p[0],u),p[1]=p[0]+e):(e=Sc(d*(h-1),u),(p=[d*(t.get("axisExpandCenter")||v_(c/2))-e/2])[1]=p[0]+e);var D=(l-e)/(c-h);D<3&&(D=0);var X=[v_(y_(p[0]/d,1))+1,sD(y_(p[1]/d,1))-1];return{layout:a,pixelDimIndex:s,layoutBase:n[i[s]],layoutLength:l,axisBase:n[i[1-s]],axisLength:n[o[1-s]],axisExpandable:f,axisExpandWidth:d,axisCollapseWidth:D,axisExpandWindow:p,axisCount:c,winInnerIndices:X,axisExpandWindow0Pos:D/d*p[0]}},_layoutAxes:function(){var e=this._rect,t=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),o=i.layout;t.each(function(a){var s=[0,i.axisLength],l=a.inverse?1:0;a.setExtent(s[l],s[1-l])}),Qg(n,function(a,s){var l=(i.axisExpandable?L2:P2)(s,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},d=[u[o].x+e.x,u[o].y+e.y],h={horizontal:lD/2,vertical:0}[o],f=Un();yn(f,f,h),tn(f,f,d),this._axesLayout[a]={position:d,rotation:h,transform:f,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:t.get(a).getLabelInterval()}},this)},getAxis:function(e){return this._axesMap.get(e)},dataToPoint:function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},eachActiveState:function(e,t,n){for(var i=this.dimensions,o=y(i,function(D){return e.mapDimension(D)}),a=this._axesMap,s=this.hasAxisBrushed(),l=0,u=e.count();l<u;l++){var c,d=e.getValues(o,l);if(s){c="active";for(var h=0,f=i.length;h<f;h++)if("inactive"===a.get(i[h]).model.getActiveState(d[h],h)){c="inactive";break}}else c="normal";t.call(n,c,l)}},hasAxisBrushed:function(){for(var e=this.dimensions,t=this._axesMap,n=!1,i=0,o=e.length;i<o;i++)"normal"!==t.get(e[i]).model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(e,t){return io([e,0],this._axesLayout[t].transform)},getAxisLayout:function(e){return Bt(this._axesLayout[e])},getSlidedAxisExpandWindow:function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,i=t.axisExpandWindow.slice(),o=i[1]-i[0],a=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var s,l=e[n]-t.layoutBase-t.axisExpandWindow0Pos,u="slide",c=t.axisCollapseWidth,d=this._model.get("axisExpandSlideTriggerArea"),h=null!=d[0];return c?(h&&c&&l<o*d[0]?(u="jump",s=l-o*d[2]):h&&c&&l>o*(1-d[0])?(u="jump",s=l-o*(1-d[2])):(s=l-o*d[1])>=0&&(s=l-o*(1-d[1]))<=0&&(s=0),(s*=t.axisExpandWidth/c)?cl(s,i,a,"all"):u="none"):((i=[m_(0,a[1]*l/(o=i[1]-i[0])-o/2)])[1]=g_(a[1],i[0]+o),i[0]=i[1]-o),{axisExpandWindow:i,behavior:u}}},hr.register("parallel",{create:function(e,t){var n=[];return e.eachComponent("parallel",function(i,o){var a=new Lf(i,e,t);a.name="parallel_"+o,a.resize(i,t),i.coordinateSystem=a,a.model=i,n.push(a)}),e.eachSeries(function(i){if("parallel"===i.get("coordinateSystem")){var o=e.queryComponents({mainType:"parallel",index:i.get("parallelIndex"),id:i.get("parallelId")})[0];i.coordinateSystem=o.coordinateSystem}}),n}});var x_=hi.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return qs([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(e){var t=this.activeIntervals=Bt(e);if(t)for(var n=t.length-1;n>=0;n--)ba(t[n])},getActiveState:function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e)return"inactive";for(var n=0,i=t.length;n<i;n++)if(t[n][0]<=e&&e<=t[n][1])return"active";return"inactive"}});he(x_.prototype,Ua),il("parallel",x_,function(e,t){return t.type||(t.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10}),hi.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){hi.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(e){e&&he(this.option,e,!0),this._initDimensions()},contains:function(e,t){var n=e.get("parallelIndex");return null!=n&&t.getComponent("parallel",n)===this},setAxisExpand:function(e){m(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])},this)},_initDimensions:function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[];m(Z(this.dependentModels.parallelAxis,function(n){return(n.get("parallelIndex")||0)===this.componentIndex},this),function(n){e.push("dim"+n.get("dim")),t.push(n.componentIndex)})}}),yi({type:"axisAreaSelect",event:"axisAreaSelected"},function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(n){n.axis.model.setActiveIntervals(e.intervals)})}),yi("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(n){n.setAxisExpand(e)})});var la=Q,xo=m,cD=y,Du=Math.min,dl=Math.max,dD=Math.pow,hD=1e4,fD=6,pD=6,b_="globalPan",gD={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},mD={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},__={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},vD=0;Rs.prototype={constructor:Rs,enableBrush:function(e){return this._brushType&&function(e){var t=e._zr;(function(e,t,n){var i=df(e);i[t]===n&&(i[t]=null)})(t,b_,e._uid),xo(e._handlers,function(n,i){t.off(i,n)}),e._brushType=e._brushOption=null}(this),e.brushType&&function(e,t){var n=e._zr;e._enableGlobalPan||function(e,t,n){df(e)[t]=n}(n,b_,e._uid),xo(e._handlers,function(i,o){n.on(o,i)}),e._brushType=t.brushType,e._brushOption=he(Bt(__),t,!0)}(this,e),this},setPanels:function(e){if(e&&e.length){var t=this._panels={};m(e,function(n){t[n.panelId]=Bt(n)})}else this._panels=null;return this},mount:function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({position:e.position||[0,0],rotation:e.rotation||0,scale:e.scale||[1,1]}),this._transform=t.getLocalTransform(),this},eachCover:function(e,t){xo(this._covers,e,t)},updateCovers:function(e){function t(u,c){return(null!=u.id?u.id:i+c)+"-"+u.brushType}function n(u,c){var d=e[u];if(null!=c&&o[c]===l)a[u]=o[c];else{var h=a[u]=null!=c?(o[c].__brushOption=d,o[c]):ly(s,sy(s,d));Ef(s,h)}}e=y(e,function(u){return he(Bt(__),u,!0)});var i="\0-brush-index-",o=this._covers,a=this._covers=[],s=this,l=this._creatingCover;return new So(o,e,function(u,c){return t(u.__brushOption,c)},t).add(n).update(n).remove(function(u){o[u]!==l&&s.group.remove(o[u])}).execute(),this},unmount:function(){return this.enableBrush(!1),Of(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},M(Rs,nr);var yD={mousedown:function(e){if(this._dragging)by.call(this,e);else if(!e.target||!e.target.draggable){Wf(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=Bf(this,e,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);if(function(e,t,n){if(e._brushType){var i=e._zr,o=e._covers,a=Bf(e,t,n);if(!e._dragging)for(var s=0;s<o.length;s++){var l=o[s].__brushOption;if(a&&(!0===a||l.panelId===a.panelId)&&nh[l.brushType].contain(o[s],n[0],n[1]))return}a&&i.setCursorStyle("crosshair")}}(this,e,t),this._dragging){Wf(e);var n=yy(this,e,t,!1);n&&Aa(this,n)}},mouseup:by},nh={lineX:_y(0),lineY:_y(1),rect:{createCover:function(e,t){return fy(la(my,function(n){return n},function(n){return n}),e,t,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(e){var t=hy(e);return gy(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,i){py(e,t,n,i)},updateCommon:zf,contain:Gf},polygon:{createCover:function(e,t){var n=new Ln;return n.add(new ho({name:"main",style:Ff(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new qr({name:"main",draggable:!0,drift:la(z2,e,t),ondragend:la(Aa,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,i){t.childAt(0).setShape({points:Vf(e,t,n)})},updateCommon:zf,contain:Gf}},xD=["axisLine","axisTickLabel","axisName"],bD=er({type:"parallelAxis",init:function(e,t){bD.superApply(this,"init",arguments),(this._brushController=new Rs(t.getZr())).on("brush",re(this._onBrush,this))},render:function(e,t,n,i){if(!function(e,t,n){return n&&"axisAreaSelect"===n.type&&t.findComponents({mainType:"parallelAxis",query:n})[0]===e}(e,t,i)){this.axisModel=e,this.api=n,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Ln,this.group.add(this._axisGroup),e.get("show")){var a=function(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}(e,t),s=a.coordinateSystem,l=e.getAreaSelectStyle(),u=l.width,d=J({strokeContainThreshold:u},s.getAxisLayout(e.axis.dim)),h=new pr(e,d);m(xD,h.add,h),this._axisGroup.add(h.getGroup()),this._refreshBrushController(d,l,e,a,u,n),Mh(o,this._axisGroup,i&&!1===i.animation?null:e)}}},_refreshBrushController:function(e,t,n,i,o,a){var s=n.axis.getExtent(),l=s[1]-s[0],u=Math.min(30,.1*Math.abs(l)),c=Qn.create({x:s[0],y:-o/2,width:l,height:o});c.x-=u,c.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,position:e.position}).setPanels([{panelId:"pl",clipPath:wy(c),isTargetByCursor:Sy(c,a,i),getLinearBrushOtherExtent:Cy(c,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(function(e){var t=e.axis;return y(e.activeIntervals,function(n){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(n[0],!0),t.dataToCoord(n[1],!0)]}})}(n))},_onBrush:function(e,t){var n=this.axisModel,i=n.axis,o=y(e,function(a){return[i.coordToData(a.range[0],!0),i.coordToData(a.range[1],!0)]});(!n.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:o})},dispose:function(){this._brushController.dispose()}});er({type:"parallel",render:function(e,t,n){this._model=e,this._api=n,this._handlers||(this._handlers={},m(_D,function(i,o){n.getZr().on(o,this._handlers[o]=re(i,this))},this)),El(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},dispose:function(e,t){m(this._handlers,function(n,i){t.getZr().off(i,n)}),this._handlers=null},_throttledDispatchExpand:function(e){this._dispatchExpand(e)},_dispatchExpand:function(e){e&&this._api.dispatchAction(J({type:"parallelAxisExpand"},e))}});var _D={mousedown:function(e){jf(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(jf(this,"click")&&t){var n=[e.offsetX,e.offsetY];if(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&jf(this,"mousemove")){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),i=n.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===i&&null})}}};cr(function(e){(function(e){if(!e.parallel){var t=!1;m(e.series,function(n){n&&"parallel"===n.type&&(t=!0)}),t&&(e.parallel=[{}])}})(e),function(e){m(z(e.parallelAxis),function(t){if(Ce(t)){var n=t.parallelIndex||0,i=z(e.parallel)[n];i&&i.parallelAxisDefault&&he(t,i.parallelAxisDefault,!1)}})}(e)}),Zi.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(e,t){this.option.progressive&&(this.option.animation=!1);var n=this.getSource();return function(e,t){if(!e.encodeDefine){var n=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(n){var i=e.encodeDefine=tt();m(n.dimensions,function(o){var a=function(e){return+e.replace("dim","")}(o);i.set(o,a)})}}}(n,this),Mo(n,this)},getRawIndicesByActiveState:function(e){var t=this.coordinateSystem,n=this.getData(),i=[];return t.eachActiveState(n,function(o,a){e===o&&i.push(n.getRawIndex(a))}),i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:!1,smooth:!1,animationEasing:"linear"}}),ar.extend({type:"parallel",init:function(){this._dataGroup=new Ln,this.group.add(this._dataGroup)},render:function(e,t,n,i){this._renderForNormal(e,i)},dispose:function(){},_renderForNormal:function(e,t){var n=this._dataGroup,i=e.getData(),o=this._data,a=e.coordinateSystem,s=a.dimensions,l=e.option.smooth?.3:null;if(i.diff(o).add(function(c){!function(e,t,n,i,o){var a=My(e,n,i,o),s=new ho({shape:{points:a},silent:!0,z2:10});t.add(s),e.setItemGraphicEl(n,s)}(i,n,c,s,a)}).update(function(c,d){var h=o.getItemGraphicEl(d),f=My(i,c,s,a);i.setItemGraphicEl(c,h),si(h,{shape:{points:f}},t&&!1===t.animation?null:e,c)}).remove(function(c){var d=o.getItemGraphicEl(c);n.remove(d)}).execute(),function(e,t){var n=e.hostModel.getModel("lineStyle"),i=n.getLineStyle();e.eachItemGraphicEl(function(o,a){if(e.hasItemOption){var s=e.getItemModel(a).getModel("lineStyle",n);i=s.getLineStyle(["color","stroke"])}o.useStyle(J(i,{fill:null,stroke:e.getItemVisual(a,"color"),opacity:e.getItemVisual(a,"opacity")})),o.shape.smooth=t})}(i,l),!this._data){var u=function(e,t,n){var i=e.model,o=e.getRect(),a=new Ti({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),s="horizontal"===i.get("layout")?"width":"height";return a.setShape(s,0),mr(a,{shape:{width:o.width,height:o.height}},t,n),a}(a,e,function(){setTimeout(function(){n.removeClipPath()})});n.setClipPath(u)}this._data=i},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});var wD=["lineStyle","normal","opacity"];Di(function(e){e.eachSeriesByType("parallel",function(t){var n=t.getModel("itemStyle"),i=t.getModel("lineStyle"),o=e.get("color"),a=i.get("color")||n.get("color")||o[t.seriesIndex%o.length],s=t.get("inactiveOpacity"),l=t.get("activeOpacity"),u=t.getModel("lineStyle").getLineStyle(),c=t.coordinateSystem,d=t.getData(),h={normal:u.opacity,active:l,inactive:s};c.eachActiveState(d,function(f,p){var D=d.getItemModel(p),X=h[f];if("normal"===f){var K=D.get(wD,!0);null!=K&&(X=K)}d.setItemVisual(p,"opacity",X)}),d.setVisual("color",a)})});var CD=Zi.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(e){var t=e.edges||e.links,n=e.data||e.nodes;if(n&&t)return c_(n,t,this,!0).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,t,n){if("edge"===n){var i=this.getDataParams(e,n),o=i.data,a=o.source+" -- "+o.target;return i.value&&(a+=" : "+i.value),Oi(a)}return CD.superCall(this,"formatTooltip",e,t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}}),SD=ut({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(e,t){var n=t.extent/2;e.moveTo(t.x1,t.y1-n),e.bezierCurveTo(t.cpx1,t.cpy1-n,t.cpx2,t.cpy2-n,t.x2,t.y2-n),e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n),e.closePath()}});vr({type:"sankey",_model:null,render:function(e,t,n){var i=e.getGraph(),o=this.group,a=e.layoutInfo,s=e.getData(),l=e.getData("edge");this._model=e,o.removeAll(),o.attr("position",[a.x,a.y]),i.eachEdge(function(u){var c=new SD;c.dataIndex=u.dataIndex,c.seriesIndex=e.seriesIndex,c.dataType="edge";var d=u.getModel("lineStyle"),h=d.get("curveness"),f=u.node1.getLayout(),p=u.node2.getLayout(),D=u.getLayout();c.shape.extent=Math.max(1,D.dy);var X=f.x+f.dx,K=f.y+D.sy+D.dy/2,oe=p.x,ce=p.y+D.ty+D.dy/2;switch(c.setShape({x1:X,y1:K,x2:oe,y2:ce,cpx1:X*(1-h)+oe*h,cpy1:K,cpx2:X*h+oe*(1-h),cpy2:ce}),c.setStyle(d.getItemStyle()),c.style.fill){case"source":c.style.fill=u.node1.getVisual("color");break;case"target":c.style.fill=u.node2.getVisual("color")}ii(c,u.getModel("emphasis.lineStyle").getItemStyle()),o.add(c),l.setItemGraphicEl(u.dataIndex,c)}),i.eachNode(function(u){var c=u.getLayout(),d=u.getModel(),h=d.getModel("label"),f=d.getModel("emphasis.label"),p=new Ti({shape:{x:c.x,y:c.y,width:u.getLayout().dx,height:u.getLayout().dy},style:d.getModel("itemStyle").getItemStyle()}),D=u.getModel("emphasis.itemStyle").getItemStyle();Ni(p.style,D,h,f,{labelFetcher:e,labelDataIndex:u.dataIndex,defaultText:u.id,isRectText:!0}),p.setStyle("fill",u.getVisual("color")),ii(p,D),o.add(p),s.setItemGraphicEl(u.dataIndex,p),p.dataType="node"}),!this._data&&e.get("animation")&&o.setClipPath(function(e,t,n){var i=new Ti({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return mr(i,{shape:{width:e.width+20,height:e.height+20}},t,function(){o.removeClipPath()}),i}(o.getBoundingRect(),e)),this._data=e.getData()},dispose:function(){}}),zi(function(e,t,n){e.eachSeriesByType("sankey",function(i){var o=i.get("nodeWidth"),a=i.get("nodeGap"),s=function(e,t){return Qi(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(i,t);i.layoutInfo=s;var l=s.width,u=s.height,c=i.getGraph(),d=c.nodes,h=c.edges;(function(e){m(e,function(t){var n=Bs(t.outEdges,Tc),i=Bs(t.inEdges,Tc),o=Math.max(n,i);t.setLayout({value:o},!0)})})(d),function(e,t,n,i,o,a,s){(function(e,t,n){for(var i=e,o=null,a=0;i.length;){o=[];for(var s=0,l=i.length;s<l;s++){var u=i[s];u.setLayout({x:a},!0),u.setLayout({dx:t},!0);for(var c=0,d=u.outEdges.length;c<d;c++)o.push(u.outEdges[c].node2)}i=o,++a}(function(e,t){m(e,function(n){n.outEdges.length||n.setLayout({x:t-1},!0)})})(e,a),function(e,t){m(e,function(n){var i=n.getLayout().x*t;n.setLayout({x:i},!0)})}(e,(n-t)/(a-1))})(e,n,o),function(e,t,n,i,o){var a=qf().key(function(l){return l.getLayout().x}).sortKeys(fM).entries(e).map(function(l){return l.values});(function(e,t,n,i,o){var a=[];m(t,function(l){var u=l.length,c=0;m(l,function(h){c+=h.getLayout().value}),a.push((i-(u-1)*o)/c)}),a.sort(function(l,u){return l-u});var s=a[0];m(t,function(l){m(l,function(u,c){u.setLayout({y:c},!0);var d=u.getLayout().value*s;u.setLayout({dy:d},!0)})}),m(n,function(l){var u=+l.getValue()*s;l.setLayout({dy:u},!0)})})(0,a,t,n,i),Zf(a,i,n);for(var s=1;o>0;o--)oM(a,s*=.99),Zf(a,i,n),sM(a,s),Zf(a,i,n)}(e,t,a,i,s),function(e){m(e,function(t){t.outEdges.sort(cM),t.inEdges.sort(dM)}),m(e,function(t){var n=0,i=0;m(t.outEdges,function(o){o.setLayout({sy:n},!0),n+=o.getLayout().dy}),m(t.inEdges,function(o){o.setLayout({ty:i},!0),i+=o.getLayout().dy})})}(e)}(d,h,o,a,l,u,0!==Z(d,function(f){return 0===f.getLayout().value}).length?0:i.get("layoutIterations"))})}),Di(function(e,t){e.eachSeriesByType("sankey",function(n){var i=n.getGraph().nodes;i.sort(function(s,l){return s.getLayout().value-l.getLayout().value});var o=i[0].getLayout().value,a=i[i.length-1].getLayout().value;m(i,function(s){var l=new wi({type:"color",mappingMethod:"linear",dataExtent:[o,a],visual:n.get("color")}).mapValueToVisual(s.getLayout().value);s.setVisual("color",l);var u=s.getModel().get("itemStyle.color");null!=u&&s.setVisual("color",u)})})});var MD=an.extend({type:"whiskerInBox",shape:{},buildPath:function(e,t){for(var n in t)if(t.hasOwnProperty(n)&&0===n.indexOf("ends")){var i=t[n];e.moveTo(i[0][0],i[0][1]),e.lineTo(i[1][0],i[1][1])}}}),w_=kc.prototype;w_._createContent=function(e,t,n){var i=e.getItemLayout(t),o="horizontal"===i.chartLayout?1:0,a=0;this.add(new qr({shape:{points:n?Ty(i.bodyEnds,o,i):i.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=a++;var s=y(i.whiskerEnds,function(l){return n?Ty(l,o,i):l});this.add(new MD({shape:ky(s),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=a++},w_.updateData=function(e,t,n){var i=this._seriesModel=e.hostModel,o=e.getItemLayout(t),a=Jr[n?"initProps":"updateProps"];a(this.childAt(this.bodyIndex),{shape:{points:o.bodyEnds}},i,t),a(this.childAt(this.whiskerIndex),{shape:ky(o.whiskerEnds)},i,t),this.styleUpdater.call(null,this,e,t)},k(kc,Ln);var C_=Ay.prototype;C_.updateData=function(e){var t=this.group,n=this._data,i=this.styleUpdater;e.diff(n).add(function(o){if(e.hasValue(o)){var a=new kc(e,o,i,!0);e.setItemGraphicEl(o,a),t.add(a)}}).update(function(o,a){var s=n.getItemGraphicEl(a);e.hasValue(o)?(s?s.updateData(e,o):s=new kc(e,o,i),t.add(s),e.setItemGraphicEl(o,s)):t.remove(s)}).remove(function(o){var a=n.getItemGraphicEl(o);a&&t.remove(a)}).execute(),this._data=e},C_.remove=function(){var e=this.group,t=this._data;this._data=null,t&&t.eachItemGraphicEl(function(n){n&&e.remove(n)})};var S_={_baseAxisDim:null,getInitialData:function(e,t){var n,i,o=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),s=o.get("type"),l=a.get("type");"category"===s?(e.layout="horizontal",n=o.getOrdinalMeta(),i=!0):"category"===l?(e.layout="vertical",n=a.getOrdinalMeta(),i=!0):e.layout=e.layout||"horizontal";var u=["x","y"],c="horizontal"===e.layout?0:1,d=this._baseAxisDim=u[c],h=u[1-c],f=[o,a],p=f[c].get("type"),D=f[1-c].get("type"),X=e.data;if(X&&i){var K=[];m(X,function(ce,be){var Be;ce.value&&$(ce.value)?(Be=ce.value.slice(),ce.value.unshift(be)):$(ce)?(Be=ce.slice(),ce.unshift(be)):Be=ce,K.push(Be)}),e.data=K}var oe=this.defaultValueDimensions;return al(this,{coordDimensions:[{name:d,type:cc(p),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:cc(D),dimsDef:oe.slice()}],dimensionsCount:oe.length+1})},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}},M_={init:function(){var e=this._whiskerBoxDraw=new Ay(this.getStyleUpdater());this.group.add(e.group)},render:function(e,t,n){this._whiskerBoxDraw.updateData(e.getData())},remove:function(e){this._whiskerBoxDraw.remove()}};M(Zi.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}}),S_,!0),M(ar.extend({type:"boxplot",getStyleUpdater:function(){return pM},dispose:It}),M_,!0);var TD=["itemStyle"],kD=["emphasis","itemStyle"],T_=["itemStyle","borderColor"],Nu=m;Di(function(e,t){var n=e.get("color");e.eachRawSeriesByType("boxplot",function(i){var o=n[i.seriesIndex%n.length],a=i.getData();a.setVisual({legendSymbol:"roundRect",color:i.get(T_)||o}),e.isSeriesFiltered(i)||a.each(function(s){var l=a.getItemModel(s);a.setItemVisual(s,{color:l.get(T_,!0)})})})}),zi(function(e){var t=function(e){var t=[],n=[];return e.eachSeriesByType("boxplot",function(i){var o=i.getBaseAxis(),a=A(n,o);a<0&&(n[a=n.length]=o,t[a]={axis:o,seriesModels:[]}),t[a].seriesModels.push(i)}),t}(e);Nu(t,function(n){var i=n.seriesModels;i.length&&(function(e){var t,n,i=e.axis,o=e.seriesModels,a=o.length,s=e.boxWidthList=[],l=e.boxOffsetList=[],u=[];if("category"===i.type)n=i.getBandWidth();else{var c=0;Nu(o,function(D){c=Math.max(c,D.getData().count())}),t=i.getExtent(),Math.abs(t[1]-t[0])}Nu(o,function(D){var X=D.get("boxWidth");$(X)||(X=[X,X]),u.push([wn(X[0],n)||0,wn(X[1],n)||0])});var d=.8*n-2,h=d/a*.3,f=(d-h*(a-1))/a,p=f/2-d/2;Nu(o,function(D,X){l.push(p),p+=h+f,s.push(Math.min(Math.max(f,u[X][0]),u[X][1]))})}(n),Nu(i,function(o,a){!function(e,t,n){var i,o=e.coordinateSystem,a=e.getData(),s=n/2,l=e.get("layout"),u="horizontal"===l?0:1,c=1-u,d=["x","y"],h=[];m(a.dimensions,function(f){var p=a.getDimensionInfo(f).coordDim;p===d[c]?h.push(f):p===d[u]&&(i=f)}),null==i||h.length<5||a.each([i].concat(h),function(){function f($e){var mt,nt=[];return nt[u]=K,nt[c]=$e,isNaN(K)||isNaN($e)?mt=[NaN,NaN]:(mt=o.dataToPoint(nt))[u]+=t,mt}function p($e,nt){var mt=$e.slice(),Qt=$e.slice();mt[u]+=s,Qt[u]-=s,nt?Ye.push(mt,Qt):Ye.push(Qt,mt)}function D($e){var nt=[$e.slice(),$e.slice()];nt[0][u]-=s,nt[1][u]+=s,He.push(nt)}var X=arguments,K=X[0],oe=X[h.length+1],ce=f(X[3]),be=f(X[1]),Be=f(X[5]),He=[[be,f(X[2])],[Be,f(X[4])]];D(be),D(Be),D(ce);var Ye=[];p(He[0][1],0),p(He[1][1],1),a.setItemLayout(oe,{chartLayout:l,initBaseline:ce[c],median:ce,bodyEnds:Ye,whiskerEnds:He})})}(o,n.boxOffsetList[a],n.boxWidthList[a])}))})}),M(Zi.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(e,t,n){var i=t.getItemLayout(e);return n.rect(i.brushRect)}}),S_,!0),M(ar.extend({type:"candlestick",getStyleUpdater:function(){return yM},dispose:It}),M_,!0);var AD=["itemStyle"],ID=["emphasis","itemStyle"],DD=["itemStyle","borderColor"],ND=["itemStyle","borderColor0"],PD=["itemStyle","color"],LD=["itemStyle","color0"],k_=Me;cr(function(e){e&&$(e.series)&&m(e.series,function(t){Ce(t)&&"k"===t.type&&(t.type="candlestick")})}),Di(function(e,t){e.eachRawSeriesByType("candlestick",function(n){var i=n.getData();i.setVisual({legendSymbol:"roundRect"}),e.isSeriesFiltered(n)||i.each(function(o){var a=i.getItemModel(o),s=i.getItemLayout(o).sign;i.setItemVisual(o,{color:a.get(s>0?PD:LD),borderColor:a.get(s>0?DD:ND)})})})}),zi(function(e){e.eachSeriesByType("candlestick",function(t){var n,i=t.coordinateSystem,o=t.getData(),a=function(e,t){var n,i=e.getBaseAxis(),o="category"===i.type?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/t.count()),a=wn(k_(e.get("barMaxWidth"),o),o),s=wn(k_(e.get("barMinWidth"),1),o),l=e.get("barWidth");return null!=l?wn(l,o):Math.max(Math.min(o/2,a),s)}(t,o),s=t.get("layout"),l="horizontal"===s?0:1,u=1-l,c=["x","y"],d=[];if(m(o.dimensions,function(f){var p=o.getDimensionInfo(f).coordDim;p===c[u]?d.push(f):p===c[l]&&(n=f)}),!(null==n||d.length<4)){var h=0;o.each([n].concat(d),function(){function f(pn){var bn=[];return bn[l]=K,bn[u]=pn,isNaN(K)||isNaN(pn)?[NaN,NaN]:i.dataToPoint(bn)}function p(pn,bn){var Pn=pn.slice(),Dn=pn.slice();Pn[l]=st(Pn[l]+a/2,1,!1),Dn[l]=st(Dn[l]-a/2,1,!0),bn?sn.push(Pn,Dn):sn.push(Dn,Pn)}function D(pn){return pn[l]=st(pn[l],1),pn}var xn,pn,bn,X=arguments,K=X[0],oe=X[d.length+1],ce=X[1],be=X[2],Be=X[3],He=X[4],Ye=Math.min(ce,be),$e=Math.max(ce,be),nt=f(Ye),mt=f($e),Qt=f(Be),Yt=[[D(f(He)),D(mt)],[D(Qt),D(nt)]],sn=[];p(mt,0),p(nt,1),xn=ce>be?-1:ce<be?1:h>0?o.getItemModel(h-1).get()[2]<=be?1:-1:1,o.setItemLayout(oe,{chartLayout:s,sign:xn,initBaseline:ce>be?mt[u]:nt[u],bodyEnds:sn,whiskerEnds:Yt,brushRect:(pn=f(Math.min(ce,be,Be,He)),bn=f(Math.max(ce,be,Be,He)),pn[l]-=a/2,bn[l]-=a/2,{x:pn[0],y:pn[1],width:u?a:bn[0]-pn[0],height:u?bn[1]-pn[1]:a})}),++h},!0)}})}),Zi.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(e,t){return Mo(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var $a=Yf.prototype;$a.stopEffectAnimation=function(){this.childAt(1).removeAll()},$a.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,i=this.childAt(1),o=0;o<3;o++){var a=Dr(t,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var s=-o/3*e.period+e.effectOffset;a.animate("",!0).when(e.period,{scale:[e.rippleScale/2,e.rippleScale/2]}).delay(s).start(),a.animateStyle(!0).when(e.period,{opacity:0}).delay(s).start(),i.add(a)}Iy(i,e)},$a.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale"],o=0;o<i.length;o++){var a=i[o];if(t[a]!==e[a])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}Iy(n,e)},$a.highlight=function(){this.trigger("emphasis")},$a.downplay=function(){this.trigger("normal")},$a.updateData=function(e,t){var n=e.hostModel;this.childAt(0).updateData(e,t);var i=this.childAt(1),o=e.getItemModel(t),a=e.getItemVisual(t,"symbol"),s=function(e){return $(e)||(e=[+e,+e]),e}(e.getItemVisual(t,"symbolSize")),l=e.getItemVisual(t,"color");i.attr("scale",s),i.traverse(function(D){D.attr({fill:l})});var u=o.getShallow("symbolOffset");if(u){var c=i.position;c[0]=wn(u[0],s[0]),c[1]=wn(u[1],s[1])}i.rotation=(o.getShallow("symbolRotate")||0)*Math.PI/180||0;var d={};if(d.showEffectOn=n.get("showEffectOn"),d.rippleScale=o.get("rippleEffect.scale"),d.brushType=o.get("rippleEffect.brushType"),d.period=1e3*o.get("rippleEffect.period"),d.effectOffset=t/e.count(),d.z=o.getShallow("z")||0,d.zlevel=o.getShallow("zlevel")||0,d.symbolType=a,d.color=l,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===d.showEffectOn)this._effectCfg?this.updateEffectAnimation(d):this.startEffectAnimation(d),this._effectCfg=d;else{this._effectCfg=null,this.stopEffectAnimation();var h=this.childAt(0),f=function(){h.highlight(),"render"!==d.showEffectOn&&this.startEffectAnimation(d)},p=function(){h.downplay(),"render"!==d.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",f,this).on("mouseout",p,this).on("emphasis",f,this).on("normal",p,this)}this._effectCfg=d},$a.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),e&&e()},k(Yf,Ln),vr({type:"effectScatter",init:function(){this._symbolDraw=new Ns(Yf)},render:function(e,t,n){var i=e.getData(),o=this._symbolDraw;o.updateData(i),this.group.add(o.group)},updateTransform:function(e,t,n){var i=e.getData();this.group.dirty();var o=bu().reset(e);o.progress&&o.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_updateGroupTransform:function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=_n(t.getRoamTransform()),this.group.decomposeTransform())},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}}),Di(ja("effectScatter","circle")),zi(bu("effectScatter"));var A_="undefined"==typeof window?global:window,ED=A_.Uint32Array||Array,RD=A_.Float64Array||Array,I_=Zi.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(e){Dy(e);var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),I_.superApply(this,"init",arguments)},mergeOption:function(e){if(Dy(e),e.data){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count))}I_.superApply(this,"mergeOption",arguments)},appendData:function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=kt(this._flatCoords,t.flatCoords),this._flatCoordsOffset=kt(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],i=this._flatCoordsOffset[2*e+1],o=0;o<i;o++)t[o]=t[o]||[],t[o][0]=this._flatCoords[n+2*o],t[o][1]=this._flatCoords[n+2*o+1];return i}var a=this._getCoordsFromItemModel(e);for(o=0;o<a.length;o++)t[o]=t[o]||[],t[o][0]=a[o][0],t[o][1]=a[o][1];return a.length},_processFlatCoordsArray:function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),"number"==typeof e[0]){for(var n=e.length,i=new ED(n),o=new RD(n),a=0,s=0,l=0,u=0;u<n;){l++;var c=e[u++];i[s++]=a+t,i[s++]=c;for(var d=0;d<c;d++){var h=e[u++],f=e[u++];o[a++]=h,o[a++]=f}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,s),flatCoords:o,count:l}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},getInitialData:function(e,t){var n=new ir(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],function(i,o,a,s){if(i instanceof Array)return NaN;n.hasItemOption=!0;var l=i.value;return null!=l?l instanceof Array?l[s]:l:void 0}),n},formatTooltip:function(e){var t=this.getData().getItemModel(e),n=t.get("name");if(n)return n;var i=t.get("fromName"),o=t.get("toName"),a=[];return null!=i&&a.push(i),null!=o&&a.push(o),Oi(a.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,incremental:!1,incrementalThreshold:3e3,polyline:!1,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),ua=$l.prototype;ua.createLine=function(e,t,n){return new Xl(e,t,n)},ua._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel("effect"),i=n.get("symbolSize"),o=n.get("symbol");$(i)||(i=[i,i]);var a=n.get("color")||e.getItemVisual(t,"color"),s=this.childAt(1);this._symbolType!==o&&(this.remove(s),(s=Dr(o,-.5,-.5,1,1,a)).z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle("shadowColor",a),s.setStyle(n.getItemStyle(["color"])),s.attr("scale",i),s.setColor(a),s.attr("scale",i),this._symbolType=o,this._updateEffectAnimation(e,n,t))},ua._updateEffectAnimation=function(e,t,n){var i=this.childAt(1);if(i){var o=this,a=e.getItemLayout(n),s=1e3*t.get("period"),l=t.get("loop"),u=t.get("constantSpeed"),c=_e(t.get("delay"),function(p){return p/e.count()*s/3}),d="function"==typeof c;if(i.ignore=!0,this.updateAnimationPoints(i,a),u>0&&(s=this.getLineLength(i)/u*1e3),s!==this._period||l!==this._loop){i.stopAnimation();var h=c;d&&(h=c(n)),i.__t>0&&(h=-s*i.__t),i.__t=0;var f=i.animate("",l).when(s,{__t:1}).delay(h).during(function(){o.updateSymbolPosition(i)});l||f.done(function(){o.remove(i)}),f.start()}this._period=s,this._loop=l}},ua.getLineLength=function(e){return Pa(e.__p1,e.__cp1)+Pa(e.__cp1,e.__p2)},ua.updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},ua.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},ua.updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,i=e.__cp1,o=e.__t,a=e.position,s=je,l=ye;a[0]=s(t[0],i[0],n[0],o),a[1]=s(t[1],i[1],n[1],o);var u=l(t[0],i[0],n[0],o),c=l(t[1],i[1],n[1],o);e.rotation=-Math.atan2(c,u)-Math.PI/2,e.ignore=!1},ua.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},k($l,Ln);var ih=Ac.prototype;ih._createPolyline=function(e,t,n){var i=e.getItemLayout(t),o=new ho({shape:{points:i}});this.add(o),this._updateCommonStl(e,t,n)},ih.updateData=function(e,t,n){var i=e.hostModel;si(this.childAt(0),{shape:{points:e.getItemLayout(t)}},i,t),this._updateCommonStl(e,t,n)},ih._updateCommonStl=function(e,t,n){var i=this.childAt(0),o=e.getItemModel(t),a=e.getItemVisual(t,"color"),s=n&&n.lineStyle,l=n&&n.hoverLineStyle;n&&!e.hasItemOption||(s=o.getModel("lineStyle").getLineStyle(),l=o.getModel("emphasis.lineStyle").getLineStyle()),i.useStyle(ne({strokeNoScale:!0,fill:"none",stroke:a},s)),i.hoverStyle=l,ii(this)},ih.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},k(Ac,Ln);var rh=Xf.prototype;rh.createLine=function(e,t,n){return new Ac(e,t,n)},rh.updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],i=0,o=1;o<t.length;o++)i+=Pa(t[o-1],t[o]),n.push(i);if(0!==i){for(o=0;o<n.length;o++)n[o]/=i;this._offsets=n,this._length=i}},rh.getLineLength=function(e){return this._length},rh.updateSymbolPosition=function(e){var t=e.__t,n=this._points,i=this._offsets,o=n.length;if(i){var a=this._lastFrame;if(t<this._lastFramePercent){for(s=Math.min(a+1,o-1);s>=0&&!(i[s]<=t);s--);s=Math.min(s,o-2)}else{for(var s=a;s<o&&!(i[s]>t);s++);s=Math.min(s-1,o-2)}xi(e.position,n[s],n[s+1],(t-i[s])/(i[s+1]-i[s])),e.rotation=-Math.atan2(n[s+1][1]-n[s][1],n[s+1][0]-n[s][0])-Math.PI/2,this._lastFrame=s,this._lastFramePercent=t,e.ignore=!1}},k(Xf,$l);var D_=ut({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(e,t){var n=t.segs,i=t.curveness;if(t.polyline)for(s=0;s<n.length;){var o=n[s++];if(o>0){e.moveTo(n[s++],n[s++]);for(var a=1;a<o;a++)e.lineTo(n[s++],n[s++])}}else for(var s=0;s<n.length;){var l=n[s++],u=n[s++],c=n[s++],d=n[s++];e.moveTo(l,u),i>0?e.quadraticCurveTo((l+c)/2-(u-d)*i,(u+d)/2-(c-l)*i,c,d):e.lineTo(c,d)}},findDataIndex:function(e,t){var n=this.shape,i=n.segs,o=n.curveness;if(n.polyline)for(var a=0,s=0;s<i.length;){var l=i[s++];if(l>0)for(var u=i[s++],c=i[s++],d=1;d<l;d++)if(xt(u,c,h=i[s++],f=i[s++]))return a;a++}else for(a=0,s=0;s<i.length;){u=i[s++],c=i[s++];var h=i[s++],f=i[s++];if(o>0){if(zn(u,c,(u+h)/2-(c-f)*o,(c+f)/2-(h-u)*o,h,f))return a}else if(xt(u,c,h,f))return a;a++}return-1}}),Ka=Ny.prototype;Ka.isPersistent=function(){return!this._incremental},Ka.updateData=function(e){this.group.removeAll();var t=new D_({rectHover:!0,cursor:"default"});t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e),this.group.add(t),this._incremental=null},Ka.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>5e5?(this._incremental||(this._incremental=new yt({silent:!0})),this.group.add(this._incremental)):this._incremental=null},Ka.incrementalUpdate=function(e,t){var n=new D_;n.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(n,t,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=e.start,this.group.add(n))},Ka.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Ka._setCommon=function(e,t,n){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get("lineStyle.curveness")}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var o=t.getVisual("color");o&&e.setStyle("stroke",o),e.setStyle("fill"),n||(e.seriesIndex=i.seriesIndex,e.on("mousemove",function(a){e.dataIndex=null;var s=e.findDataIndex(a.offsetX,a.offsetY);s>0&&(e.dataIndex=s+e.__startIndex)}))},Ka._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var N_={seriesType:"lines",plan:vg(),reset:function(e){var t=e.coordinateSystem,n=e.get("polyline"),i=e.pipelineContext.large;return{progress:function(o,a){var s=[];if(i){var l,u=o.end-o.start;if(n){for(var c=0,d=o.start;d<o.end;d++)c+=e.getLineCoordsCount(d);l=new Float32Array(u+2*c)}else l=new Float32Array(2*u);var h=0,f=[];for(d=o.start;d<o.end;d++){X=e.getLineCoords(d,s),n&&(l[h++]=X);for(var p=0;p<X;p++)f=t.dataToPoint(s[p],!1,f),l[h++]=f[0],l[h++]=f[1]}a.setLayout("linesPoints",l)}else for(d=o.start;d<o.end;d++){var D=a.getItemModel(d),X=e.getLineCoords(d,s),K=[];if(n)for(var oe=0;oe<X;oe++)K.push(t.dataToPoint(s[oe]));else{K[0]=t.dataToPoint(s[0]),K[1]=t.dataToPoint(s[1]);var ce=D.get("lineStyle.curveness");+ce&&(K[2]=[(K[0][0]+K[1][0])/2-(K[0][1]-K[1][1])*ce,(K[0][1]+K[1][1])/2-(K[1][0]-K[0][0])*ce])}a.setItemLayout(d,K)}}}}};vr({type:"lines",init:function(){},render:function(e,t,n){var i=e.getData(),o=this._updateLineDraw(i,e),a=e.get("zlevel"),s=e.get("effect.trailLength"),l=n.getZr(),u="svg"===l.painter.getType();u||l.painter.getLayer(a).clear(!0),null==this._lastZlevel||u||l.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&s&&(u||l.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(s/10+.9,1),0)})),o.updateData(i),this._lastZlevel=a,this._finished=!0},incrementalPrepareRender:function(e,t,n){var i=e.getData();this._updateLineDraw(i,e).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},incrementalRender:function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,n){var i=e.getData();if(!this._finished||e.pipelineContext.large)return{update:!0};var o=N_.reset(e);o.progress&&o.progress({start:0,end:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},_updateLineDraw:function(e,t){var n=this._lineDraw,i=this._showEffect(t),o=!!t.get("polyline"),a=t.pipelineContext.large;return n&&i===this._hasEffet&&o===this._isPolyline&&a===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=a?new Ny:new bc(o?i?Xf:Ac:i?$l:Xl),this._hasEffet=i,this._isPolyline=o,this._isLargeDraw=a,this.group.removeAll()),this.group.add(n.group),n},_showEffect:function(e){return!!e.get("effect.show")},_clearLayer:function(e){var t=e.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},dispose:function(){}});var P_="lineStyle.opacity".split("."),BD={seriesType:"lines",reset:function(e,t,n){var i=Ic(e.get("symbol")),o=Ic(e.get("symbolSize")),a=e.getData();return a.setVisual("fromSymbol",i&&i[0]),a.setVisual("toSymbol",i&&i[1]),a.setVisual("fromSymbolSize",o&&o[0]),a.setVisual("toSymbolSize",o&&o[1]),a.setVisual("opacity",e.get(P_)),{dataEach:a.hasItemOption?function(s,l){var u=s.getItemModel(l),c=Ic(u.getShallow("symbol",!0)),d=Ic(u.getShallow("symbolSize",!0)),h=u.get(P_);c[0]&&s.setItemVisual(l,"fromSymbol",c[0]),c[1]&&s.setItemVisual(l,"toSymbol",c[1]),d[0]&&s.setItemVisual(l,"fromSymbolSize",d[0]),d[1]&&s.setItemVisual(l,"toSymbolSize",d[1]),s.setItemVisual(l,"opacity",h)}:null}}};zi(N_),Di(BD),Zi.extend({type:"series.heatmap",getInitialData:function(e,t){return Mo(this.getSource(),this)},preventIncremental:function(){var e=hr.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}}),Py.prototype={update:function(e,t,n,i,o,a){var s=this._getBrush(),l=this._getGradient(e,o,"inRange"),u=this._getGradient(e,o,"outOfRange"),c=this.pointSize+this.blurSize,d=this.canvas,h=d.getContext("2d"),f=e.length;d.width=t,d.height=n;for(var p=0;p<f;++p){var D=e[p],X=D[0],K=D[1],oe=i(D[2]);h.globalAlpha=oe,h.drawImage(s,X-c,K-c)}if(!d.width||!d.height)return d;for(var ce=h.getImageData(0,0,d.width,d.height),be=ce.data,Be=0,He=be.length,Ye=this.minOpacity,$e=this.maxOpacity-Ye;Be<He;){oe=be[Be+3]/256;var nt=4*Math.floor(255*oe);if(oe>0){var mt=a(oe)?l:u;oe>0&&(oe=oe*$e+Ye),be[Be++]=mt[nt],be[Be++]=mt[nt+1],be[Be++]=mt[nt+2],be[Be++]=mt[nt+3]*oe*256}else Be+=4}return h.putImageData(ce,0,0),d},_getBrush:function(){var e=this._brushCanvas||(this._brushCanvas=Ws()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var i=e.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),e},_getGradient:function(e,t,n){for(var i=this._gradientPixels,o=i[n]||(i[n]=new Uint8ClampedArray(1024)),a=[0,0,0,0],s=0,l=0;l<256;l++)t[n](l/255,!0,a),o[s++]=a[0],o[s++]=a[1],o[s++]=a[2],o[s++]=a[3];return o}},vr({type:"heatmap",render:function(e,t,n){var i;t.eachComponent("visualMap",function(a){a.eachTargetSeries(function(s){s===e&&(i=a)})}),this.group.removeAll(),this._incrementalDisplayable=null;var o=e.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):function(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}(o)&&this._renderOnGeo(o,e,i,n)},incrementalPrepareRender:function(e,t,n){this.group.removeAll()},incrementalRender:function(e,t,n,i){t.coordinateSystem&&this._renderOnCartesianAndCalendar(t,i,e.start,e.end,!0)},_renderOnCartesianAndCalendar:function(e,t,n,i,o){var a,s,l=e.coordinateSystem;if("cartesian2d"===l.type){var u=l.getAxis("x"),c=l.getAxis("y");a=u.getBandWidth(),s=c.getBandWidth()}for(var d=this.group,h=e.getData(),f=e.getModel("itemStyle").getItemStyle(["color"]),p=e.getModel("emphasis.itemStyle").getItemStyle(),D=e.getModel("label"),X=e.getModel("emphasis.label"),K=l.type,oe="cartesian2d"===K?[h.mapDimension("x"),h.mapDimension("y"),h.mapDimension("value")]:[h.mapDimension("time"),h.mapDimension("value")],ce=n;ce<i;ce++){var be;if("cartesian2d"===K){if(isNaN(h.get(oe[2],ce)))continue;var Be=l.dataToPoint([h.get(oe[0],ce),h.get(oe[1],ce)]);be=new Ti({shape:{x:Be[0]-a/2,y:Be[1]-s/2,width:a,height:s},style:{fill:h.getItemVisual(ce,"color"),opacity:h.getItemVisual(ce,"opacity")}})}else{if(isNaN(h.get(oe[1],ce)))continue;be=new Ti({z2:1,shape:l.dataToRect([h.get(oe[0],ce)]).contentShape,style:{fill:h.getItemVisual(ce,"color"),opacity:h.getItemVisual(ce,"opacity")}})}var He=h.getItemModel(ce);h.hasItemOption&&(f=He.getModel("itemStyle").getItemStyle(["color"]),p=He.getModel("emphasis.itemStyle").getItemStyle(),D=He.getModel("label"),X=He.getModel("emphasis.label"));var Ye=e.getRawValue(ce),$e="-";Ye&&null!=Ye[2]&&($e=Ye[2]),Ni(f,p,D,X,{labelFetcher:e,labelDataIndex:ce,defaultText:$e,isRectText:!0}),be.setStyle(f),ii(be,h.hasItemOption?p:J({},p)),be.incremental=o,o&&(be.useHoverLayer=!0),d.add(be),h.setItemGraphicEl(ce,be)}},_renderOnGeo:function(e,t,n,i){var o=n.targetVisuals.inRange,a=n.targetVisuals.outOfRange,s=t.getData(),l=this._hmLayer||this._hmLayer||new Py;l.blurSize=t.get("blurSize"),l.pointSize=t.get("pointSize"),l.minOpacity=t.get("minOpacity"),l.maxOpacity=t.get("maxOpacity");var u=e.getViewRect().clone(),c=e.getRoamTransform();u.applyTransform(c);var d=Math.max(u.x,0),h=Math.max(u.y,0),f=Math.min(u.width+u.x,i.getWidth()),p=Math.min(u.height+u.y,i.getHeight()),D=f-d,X=p-h,K=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],oe=s.mapArray(K,function(He,Ye,$e){var nt=e.dataToPoint([He,Ye]);return nt[0]-=d,nt[1]-=h,nt.push($e),nt}),ce=n.getExtent(),be="visualMap.continuous"===n.type?function(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(i){return i>=t[0]&&i<=t[1]}}(ce,n.option.range):function(e,t,n){var i=e[1]-e[0],o=(t=y(t,function(s){return{interval:[(s.interval[0]-e[0])/i,(s.interval[1]-e[0])/i]}})).length,a=0;return function(s){for(l=a;l<o;l++)if((u=t[l].interval)[0]<=s&&s<=u[1]){a=l;break}if(l===o)for(var l=a-1;l>=0;l--){var u=t[l].interval;if(u[0]<=s&&s<=u[1]){a=l;break}}return l>=0&&l<o&&n[l]}}(ce,n.getPieceList(),n.option.selected);l.update(oe,D,X,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:a.color.getColorMapper()},be);var Be=new tr({style:{width:D,height:X,x:d,y:h,image:l.canvas},silent:!0});this.group.add(Be)},dispose:function(){}});var OD=qb.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(e){return e.stack=null,OD.superApply(this,"getInitialData",arguments)}}),zD=["itemStyle","borderWidth"],L_=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],em=new Oa;vr({type:"pictorialBar",render:function(e,t,n){var i=this.group,o=e.getData(),a=this._data,s=e.coordinateSystem,l=!!s.getBaseAxis().isHorizontal(),u=s.grid.getRect(),c={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:s,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:l,valueDim:L_[+l],categoryDim:L_[1-l]};return o.diff(a).add(function(d){if(o.hasValue(d)){var h=Fy(o,d),f=Ly(o,d,h,c),p=Hy(o,c,f);o.setItemGraphicEl(d,p),i.add(p),Gy(p,c,f)}}).update(function(d,h){var f=a.getItemGraphicEl(h);if(o.hasValue(d)){var p=Fy(o,d),D=Ly(o,d,p,c),X=Wy(o,D);f&&X!==f.__pictorialShapeStr&&(i.remove(f),o.setItemGraphicEl(d,null),f=null),f?function(e,t,n){var i=n.animationModel,o=n.dataIndex;si(e.__pictorialBundle,{position:n.bundlePosition.slice()},i,o),n.symbolRepeat?Ry(e,t,n,!0):By(e,0,n,!0),Oy(e,n,!0),zy(e,t,n,!0)}(f,c,D):f=Hy(o,c,D,!0),o.setItemGraphicEl(d,f),f.__pictorialSymbolMeta=D,i.add(f),Gy(f,c,D)}else i.remove(f)}).remove(function(d){var h=a.getItemGraphicEl(d);h&&Vy(a,d,h.__pictorialSymbolMeta.animationModel,h)}).execute(),this._data=o,this.group},dispose:It,remove:function(e,t){var n=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl(function(o){Vy(i,o.dataIndex,e,o)}):n.removeAll()}}),zi(Q(Wv,"pictorialBar")),Di(ja("pictorialBar","roundRect"));var oh=function(e,t,n,i,o){Ki.call(this,e,t,n),this.type=i||"value",this.position=o||"bottom",this.orient=null,this._labelInterval=null};oh.prototype={constructor:oh,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},pointToData:function(e,t){return this.coordinateSystem.pointToData(e,t)[0]},toGlobalCoord:null,toLocalCoord:null},k(oh,Ki),hr.register("single",{create:function(e,t){var n=[];return e.eachComponent("singleAxis",function(i,o){var a=new Dc(i,e,t);a.name="single_"+o,a.resize(i,t),i.coordinateSystem=a,n.push(a)}),e.eachSeries(function(i){if("singleAxis"===i.get("coordinateSystem")){var o=e.queryComponents({mainType:"singleAxis",index:i.get("singleAxisIndex"),id:i.get("singleAxisId")})[0];i.coordinateSystem=o&&o.coordinateSystem}}),n},dimensions:(Dc.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:Dc,_init:function(e,t,n){var o=new oh(this.dimension,Is(e),[0,0],e.get("type"),e.get("position"));o.onBand="category"===o.type&&e.get("boundaryGap"),o.inverse=e.get("inverse"),o.orient=e.get("orient"),e.axis=o,o.model=e,o.coordinateSystem=this,this._axis=o},update:function(e,t){e.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();m(i.mapDimension(this.dimension,!0),function(o){this._axis.scale.unionExtentFromData(i,o)},this),Ca(this._axis.scale,this._axis.model)}},this)},resize:function(e,t){this._rect=Qi({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),i=n?[0,e.width]:[0,e.height],o=t.reverse?1:0;t.setExtent(i[o],i[1-o]),this._updateAxisTransform(t,n?e.x:e.y)},_updateAxisTransform:function(e,t){var n=e.getExtent(),i=n[0]+n[1],o=e.isHorizontal();e.toGlobalCoord=o?function(a){return a+t}:function(a){return i-a+t},e.toLocalCoord=o?function(a){return a-t}:function(a){return i-a+t}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(e){var t=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},pointToData:function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},dataToPoint:function(e){var t=this.getAxis(),n=this.getRect(),i=[],o="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),i[o]=t.toGlobalCoord(t.dataToCoord(+e)),i[1-o]=0===o?n.y+n.height/2:n.x+n.width/2,i}}).dimensions});var FD=pr.getInterval,HD=pr.ifIgnoreOnTick,VD=["axisLine","axisTickLabel","axisName"],WD=Lr.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(e,t,n,i){var o=this.group;o.removeAll();var a=Jf(e),s=new pr(e,a);m(VD,s.add,s),o.add(s.getGroup()),e.get("splitLine.show")&&this._splitLine(e,a.labelInterval),WD.superCall(this,"render",e,t,n,i)},_splitLine:function(e,t){var n=e.axis;if(!n.scale.isBlank()){var i=e.getModel("splitLine"),o=i.getModel("lineStyle"),a=o.get("width"),s=o.get("color"),l=FD(i,t);s=s instanceof Array?s:[s];for(var u=e.coordinateSystem.getRect(),c=n.isHorizontal(),d=[],h=0,f=n.getTicksCoords(),p=[],D=[],X=e.get("axisLabel.showMinLabel"),K=e.get("axisLabel.showMaxLabel"),oe=0;oe<f.length;++oe)if(!HD(n,oe,l,f.length,X,K)){var ce=n.toGlobalCoord(f[oe]);c?(p[0]=ce,p[1]=u.y,D[0]=ce,D[1]=u.y+u.height):(p[0]=u.x,p[1]=ce,D[0]=u.x+u.width,D[1]=ce);var be=h++%s.length;d[be]=d[be]||[],d[be].push(new Zr(et({shape:{x1:p[0],y1:p[1],x2:D[0],y2:D[1]},style:{lineWidth:a},silent:!0})))}for(oe=0;oe<d.length;++oe)this.group.add(Do(d[oe],{style:{stroke:s[oe%s.length],lineDash:o.getLineDash(a),lineWidth:a},silent:!0}))}}}),E_=hi.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});he(E_.prototype,Ua),il("single",E_,function(e,t){return t.type||(t.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var R_=function(e,t){var n,i=[],o=e.seriesIndex;if(null==o||!(n=t.getSeriesByIndex(o)))return{point:[]};var a=n.getData(),s=ie(a,e);if(null==s||s<0||$(s))return{point:[]};var l=a.getItemGraphicEl(s),u=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(s)||[];else if(u&&u.dataToPoint)i=u.dataToPoint(a.getValues(y(u.dimensions,function(d){return a.mapDimension(d)}),s,!0))||[];else if(l){var c=l.getBoundingRect().clone();c.applyTransform(l.transform),i=[c.x+c.width/2,c.y+c.height/2]}return{point:i,el:l}},bo=m,B_=Q,O_=Y(),Po=(_r({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),Y()),UD=m,z_=er({type:"axisPointer",render:function(e,t,n){var i=t.getComponent("tooltip"),o=e.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";Zy("axisPointer",n,function(a,s,l){"none"!==o&&("leave"===a||o.indexOf(a)>=0)&&l({type:"updateAxisPointer",currTrigger:a,x:s&&s.offsetX,y:s&&s.offsetY})})},remove:function(e,t){Qf(t.getZr(),"axisPointer"),z_.superApply(this._model,"remove",arguments)},dispose:function(e,t){Qf("axisPointer",t),z_.superApply(this._model,"dispose",arguments)}}),Ja=Y(),F_=Bt,tm=re;(zs.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,n,i){var o=t.get("value"),a=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,i||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||"hide"===a)return s&&s.hide(),void(l&&l.hide());s&&s.show(),l&&l.show();var u={};this.makeElOption(u,o,e,t,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var d=this._moveAnimation=this.determineAnimation(e,t);if(s){var h=Q(Xy,t,d);this.updatePointerEl(s,u,h,t),this.updateLabelEl(s,u,h,t)}else s=this._group=new Ln,this.createPointerEl(s,u,e,t),this.createLabelEl(s,u,e,t),n.getZr().add(s);Jy(s,t,!0),this._renderHandle(o)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var n=t.get("animation"),i=e.axis,o="category"===i.type,a=t.get("snap");if(!a&&!o)return!1;if("auto"===n||null==n){var s=this.animationThreshold;if(o&&i.getBandWidth()>s)return!0;if(a){var l=sf(e).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return!0===n},makeElOption:function(e,t,n,i,o){},createPointerEl:function(e,t,n,i){var o=t.pointer;if(o){var a=Ja(e).pointerEl=new Jr[o.type](F_(t.pointer));e.add(a)}},createLabelEl:function(e,t,n,i){if(t.label){var o=Ja(e).labelEl=new Ti(F_(t.label));e.add(o),Ky(o,i)}},updatePointerEl:function(e,t,n){var i=Ja(e).pointerEl;i&&(i.setStyle(t.pointer.style),n(i,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,n,i){var o=Ja(e).labelEl;o&&(o.setStyle(t.label.style),n(o,{shape:t.label.shape,position:t.label.position}),Ky(o,i))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var s,t=this._axisPointerModel,n=this._api.getZr(),i=this._handle,o=t.getModel("handle"),a=t.get("status");if(!o.get("show")||!a||"hide"===a)return i&&n.remove(i),void(this._handle=null);this._handle||(s=!0,i=this._handle=Dl(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){qo(c.event)},onmousedown:tm(this._onHandleDragMove,this,0,0),drift:tm(this._onHandleDragMove,this),ondragend:tm(this._onHandleDragEnd,this)}),n.add(i)),Jy(i,t,!1),i.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=o.get("size");$(u)||(u=[u,u]),i.attr("scale",[u[0]/2,u[1]/2]),El(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},_moveHandleToValue:function(e,t){Xy(this._axisPointerModel,!t&&this._moveAnimation,this._handle,ep(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(ep(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(ep(i)),Ja(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},_onHandleDragEnd:function(e){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,i=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}}).constructor=zs,De(zs);var jD=zs.extend({makeElOption:function(e,t,n,i,o){var a=n.axis,s=a.grid,l=i.get("type"),u=r1(s,a).getOtherAxis(a).getGlobalExtent(),c=a.toGlobalCoord(a.dataToCoord(t,!0));if(l&&"none"!==l){var d=tp(i),h=qD[l](a,c,u,d);h.style=d,e.graphicKey=h.type,e.pointer=h}t1(t,e,uf(s.model,n),n,i,o)},getHandleTransform:function(e,t,n){var i=uf(t.axis.grid.model,t,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:np(t.axis,e,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,i){var o=n.axis,a=o.grid,s=o.getGlobalExtent(!0),l=r1(a,o).getOtherAxis(o).getGlobalExtent(),u="x"===o.dim?0:1,c=e.position;c[u]+=t[u],c[u]=Math.min(s[1],c[u]),c[u]=Math.max(s[0],c[u]);var d=(l[1]+l[0])/2,h=[d,d];return h[u]=c[u],{position:c,rotation:e.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][u]}}}),qD={line:function(e,t,n,i){var o=ip([t,n[0]],[t,n[1]],o1(e));return et({shape:o,style:i}),{type:"Line",shape:o}},shadow:function(e,t,n,i){var o=e.getBandWidth();return{type:"Rect",shape:n1([t-o/2,n[0]],[o,n[1]-n[0]],o1(e))}}};Lr.registerAxisPointerClass("CartesianAxisPointer",jD),cr(function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!$(t)&&(e.axisPointer.link=[t])}}),Wr(el.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=function(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(e,t,n){var i=t.getComponent("tooltip"),o=t.getComponent("axisPointer"),a=o.get("link",!0)||[],s=[];ol(n.getCoordinateSystems(),function(l){function u(X,K,oe){var ce=oe.model.getModel("axisPointer",o),be=ce.get("show");if(be&&("auto"!==be||X||lf(ce))){null==K&&(K=ce.get("triggerTooltip"));var Be=(ce=X?function(e,t,n,i,o,a){var s=t.getModel("axisPointer"),l={};ol(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(d){l[d]=Bt(s.get(d))}),l.snap="category"!==e.type&&!!a,"cross"===s.get("type")&&(l.type="line");var u=l.label||(l.label={});if(null==u.show&&(u.show=!1),"cross"===o&&(u.show=!0,!a)){var c=l.lineStyle=s.get("crossStyle");c&&ne(u,c.textStyle)}return e.model.getModel("axisPointer",new vi(l,n,i))}(oe,h,o,t,X,K):ce).get("snap"),He=Gl(oe.model),Ye=K||Be||"category"===oe.type,$e=e.axesInfo[He]={key:He,axis:oe,coordSys:l,axisPointerModel:ce,triggerTooltip:K,involveSeries:Ye,snap:Be,useHandle:lf(ce),seriesModels:[]};d[He]=$e,e.seriesInvolved|=Ye;var nt=function(e,t){for(var n=t.model,i=t.dim,o=0;o<e.length;o++){var a=e[o]||{};if(af(a[i+"AxisId"],n.id)||af(a[i+"AxisIndex"],n.componentIndex)||af(a[i+"AxisName"],n.name))return o}}(a,oe);if(null!=nt){var mt=s[nt]||(s[nt]={axesInfo:{}});mt.axesInfo[He]=$e,mt.mapper=a[nt].mapper,$e.linkGroup=mt}}}if(l.axisPointerEnabled){var c=Gl(l.model),d=e.coordSysAxesInfo[c]={};e.coordSysMap[c]=l;var h=l.model.getModel("tooltip",i);if(ol(l.getAxes(),Eg(u,!1,null)),l.getTooltipAxes&&i&&h.get("show")){var f="axis"===h.get("trigger"),p="cross"===h.get("axisPointer.type"),D=l.getTooltipAxes(h.get("axisPointer.axis"));(f||p)&&ol(D.baseAxes,Eg(u,!p||"cross",f)),p&&ol(D.otherAxes,Eg(u,"cross",!1))}}})}(n,e,t),n.seriesInvolved&&function(e,t){t.eachSeries(function(n){var i=n.coordinateSystem,o=n.get("tooltip.trigger",!0),a=n.get("tooltip.show",!0);i&&"none"!==o&&!1!==o&&"item"!==o&&!1!==a&&!1!==n.get("axisPointer.show",!0)&&ol(e.coordSysAxesInfo[Gl(i.model)],function(s){var l=s.axis;i.getAxis(l.dim)===l&&(s.seriesModels.push(n),null==s.seriesDataCount&&(s.seriesDataCount=0),s.seriesDataCount+=n.getData().count())})},this)}(n,e),n}(e,t)}),yi({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(e,t,n){var i=e.currTrigger,o=[e.x,e.y],a=e,s=e.dispatchAction||re(n.dispatchAction,n),l=t.getComponent("axisPointer").coordSysAxesInfo;if(l){Nc(o)&&(o=R_({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var u=Nc(o),c=a.axesInfo,d=l.axesInfo,h="leave"===i||Nc(o),f={},p={},D={list:[],map:{}},X={showPointer:B_(PM,p),showTooltip:B_(LM,D)};bo(l.coordSysMap,function(oe,ce){var be=u||oe.containPoint(o);bo(l.coordSysAxesInfo[ce],function(Be,He){var Ye=Be.axis,$e=function(e,t){for(var n=0;n<(e||[]).length;n++){var i=e[n];if(t.axis.dim===i.axisDim&&t.axis.model.componentIndex===i.axisIndex)return i}}(c,Be);if(!h&&be&&(!c||$e)){var nt=$e&&$e.value;null!=nt||u||(nt=Ye.pointToData(o)),null!=nt&&jy(Be,nt,X,!1,f)}})});var K={};return bo(d,function(oe,ce){var be=oe.linkGroup;be&&!p[ce]&&bo(be.axesInfo,function(Be,He){var Ye=p[He];if(Be!==oe&&Ye){var $e=Ye.value;be.mapper&&($e=oe.axis.scale.parse(be.mapper($e,qy(Be),qy(oe)))),K[oe.key]=$e}})}),bo(K,function(oe,ce){jy(d[ce],oe,X,!0,f)}),function(e,t,n){var i=n.axesInfo=[];bo(t,function(o,a){var s=o.axisPointerModel.option,l=e[a];l?(!o.useHandle&&(s.status="show"),s.value=l.value,s.seriesDataIndices=(l.payloadBatch||[]).slice()):!o.useHandle&&(s.status="hide"),"show"===s.status&&i.push({axisDim:o.axis.dim,axisIndex:o.axis.model.componentIndex,value:s.value})})}(p,d,f),function(e,t,n,i){if(!Nc(t)&&e.list.length){var o=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:e.list})}else i({type:"hideTip"})}(D,o,e,s),function(e,t,n){var i=n.getZr(),o=O_(i).axisPointerLastHighlights||{},a=O_(i).axisPointerLastHighlights={};bo(e,function(u,c){var d=u.axisPointerModel.option;"show"===d.status&&bo(d.seriesDataIndices,function(h){a[h.seriesIndex+" | "+h.dataIndex]=h})});var s=[],l=[];m(o,function(u,c){!a[c]&&l.push(u)}),m(a,function(u,c){!o[c]&&s.push(u)}),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:l}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:s})}(d,0,n),f}});var H_=["x","y"],ZD=["width","height"],YD=zs.extend({makeElOption:function(e,t,n,i,o){var a=n.axis,s=a.coordinateSystem,l=rp(s,1-Pc(a)),u=s.dataToPoint(t)[0],c=i.get("type");if(c&&"none"!==c){var d=tp(i),h=XD[c](a,u,l,d);h.style=d,e.graphicKey=h.type,e.pointer=h}t1(t,e,Jf(n),n,i,o)},getHandleTransform:function(e,t,n){var i=Jf(t,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:np(t.axis,e,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,i){var o=n.axis,a=o.coordinateSystem,s=Pc(o),l=rp(a,s),u=e.position;u[s]+=t[s],u[s]=Math.min(l[1],u[s]),u[s]=Math.max(l[0],u[s]);var c=rp(a,1-s),d=(c[1]+c[0])/2,h=[d,d];return h[s]=u[s],{position:u,rotation:e.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}}}),XD={line:function(e,t,n,i){var o=ip([t,n[0]],[t,n[1]],Pc(e));return et({shape:o,style:i}),{type:"Line",shape:o}},shadow:function(e,t,n,i){var o=e.getBandWidth();return{type:"Rect",shape:n1([t-o/2,n[0]],[o,n[1]-n[0]],Pc(e))}}};Lr.registerAxisPointerClass("SingleAxisPointer",YD),er({type:"single"});var $D=Zi.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){$D.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(e){for(var t=e.length,n=y(qf().key(function(X){return X[2]}).entries(e),function(X){return{name:X.key,dataList:X.values}}),i=n.length,o=-1,a=-1,s=0;s<i;++s){var l=n[s].dataList.length;l>o&&(o=l,a=s)}for(var u=0;u<i;++u)if(u!==a)for(var c=n[u].name,d=0;d<o;++d){for(var h=n[a].dataList[d][0],f=n[u].dataList.length,p=-1,D=0;D<f;++D)if(n[u].dataList[D][0]===h){p=D;break}-1===p&&(e[t]=[],e[t][0]=h,e[t][1]=0,e[t][2]=c,t++)}return e},getInitialData:function(e,t){for(var n=t.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),i=Z(e.data,function(h){return void 0!==h[2]}),o=this.fixData(i||[]),a=[],s=this.nameMap=tt(),l=0,u=0;u<o.length;++u)a.push(o[u][2]),s.get(o[u][2])||(s.set(o[u][2],l),l++);var c=tl(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:cc(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),d=new ir(c,this);return d.initData(o),d},getLayerSeries:function(){for(var e=this.getData(),t=e.count(),n=[],i=0;i<t;++i)n[i]=i;for(var o=y(qf().key(function(l){return e.get("name",l)}).entries(n),function(l){return{name:l.key,indices:l.values}}),a=e.mapDimension("single"),s=0;s<o.length;++s)o[s].indices.sort(function(l,u){return e.get(a,l)-e.get(a,u)});return o},getAxisTooltipData:function(e,t,n){$(e)||(e=e?[e]:[]);for(var i,o=this.getData(),a=this.getLayerSeries(),s=[],l=a.length,u=0;u<l;++u){for(var c=Number.MAX_VALUE,d=-1,h=a[u].indices.length,f=0;f<h;++f){var p=o.get(e[0],a[u].indices[f]),D=Math.abs(p-t);D<=c&&(i=p,c=D,d=a[u].indices[f])}s.push(d)}return{dataIndices:s,nestestValue:i}},formatTooltip:function(e){var t=this.getData(),n=t.getName(e),i=t.get(t.mapDimension("value"),e);return(isNaN(i)||null==i)&&(i="-"),Oi(n+" : "+i)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,textAlign:"right",show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}});vr({type:"themeRiver",init:function(){this._layers=[]},render:function(e,t,n){function i(f){return f.name}function o(f,p,D){var X=this._layers;if("remove"!==f){for(var K,oe=[],ce=[],be=l[p].indices,Be=0;Be<be.length;Be++){var He=a.getItemLayout(be[Be]),Ye=He.x,$e=He.y0,nt=He.y;oe.push([Ye,$e]),ce.push([Ye,$e+nt]),K=a.getItemVisual(be[Be],"color")}var mt,Qt,Yt=a.getItemLayout(be[0]),sn=a.getItemModel(be[Be-1]),xn=sn.getModel("label"),pn=xn.get("margin");if("add"===f)bn=h[p]=new Ln,mt=new Bb({shape:{points:oe,stackedOnPoints:ce,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Qt=new ui({style:{x:Yt.x-pn,y:Yt.y0+Yt.y/2}}),bn.add(mt),bn.add(Qt),s.add(bn),mt.setClipPath(function(e,t,n){var i=new Ti({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return mr(i,{shape:{width:e.width+20,height:e.height+20}},t,function(){mt.removeClipPath()}),i}(mt.getBoundingRect(),e));else{var bn=X[D];mt=bn.childAt(0),Qt=bn.childAt(1),s.add(bn),h[p]=bn,si(mt,{shape:{points:oe,stackedOnPoints:ce}},e),si(Qt,{style:{x:Yt.x-pn,y:Yt.y0+Yt.y/2}},e)}var Pn=sn.getModel("emphasis.itemStyle"),Dn=sn.getModel("itemStyle");$n(Qt.style,xn,{text:xn.get("show")?e.getFormattedLabel(be[Be-1],"normal")||a.getName(be[Be-1]):null,textVerticalAlign:"middle"}),mt.setStyle(J({fill:K},Dn.getItemStyle(["color"]))),ii(mt,Pn.getItemStyle())}else s.remove(X[p])}var a=e.getData(),s=this.group,l=e.getLayerSeries(),u=a.getLayout("layoutInfo");s.attr("position",[0,u.rect.y+u.boundaryGap[0]]);var h={};new So(this._layersSeries||[],l,i,i).add(re(o,this,"add")).update(re(o,this,"update")).remove(re(o,this,"remove")).execute(),this._layersSeries=l,this._layers=h},dispose:function(){}}),zi(function(e,t){e.eachSeriesByType("themeRiver",function(n){var i=n.getData(),o=n.coordinateSystem,a={},s=o.getRect();a.rect=s;var l=n.get("boundaryGap"),u=o.getAxis();a.boundaryGap=l,"horizontal"===u.orient?(l[0]=wn(l[0],s.height),l[1]=wn(l[1],s.height),a1(i,n,s.height-l[0]-l[1])):(l[0]=wn(l[0],s.width),l[1]=wn(l[1],s.width),a1(i,n,s.width-l[0]-l[1])),i.setLayout("layoutInfo",a)})}),Di(function(e){e.eachSeriesByType("themeRiver",function(t){var n=t.getData(),i=t.getRawData(),o=t.get("color"),a=tt();n.each(function(s){a.set(n.getRawIndex(s),s)}),i.each(function(s){var l=i.getName(s),u=o[(t.nameMap.get(l)-1)%o.length];i.setItemVisual(s,"color",u);var c=a.get(s);null!=c&&n.setItemVisual(c,"color",u)})})}),Wr(_u("themeRiver")),Zi.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(e,t){var n={name:e.name,children:e.data};s1(n);var o={};return o.levels=e.levels||[],Ta.createTree(n,this,o).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(e){var t=Zi.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=xf(n,this),t},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});var ah_NONE="none",ah_ANCESTOR="ancestor",ah_SELF="self",KD=2,JD=4,Qa=Lc.prototype;Qa.updateData=function(e,t,n,i,o){this.node=t,t.piece=this,i=i||this._seriesModel,o=o||this._ecModel;var a=this.childAt(0);a.dataIndex=t.dataIndex;var s=t.getModel(),l=t.getLayout(),u=J({},l);u.label=null;var c,d=function(e,t,n){var i=e.getVisual("color");0===e.getVisual("visualMeta").length&&(i=null);var o=e.getModel("itemStyle").get("color");if(o)return o;if(i)return i;if(0===e.depth)return n.option.color[0];var a=n.option.color.length;return n.option.color[function(e){for(var t=e;t.depth>1;)t=t.parentNode;return A(e.getAncestors()[0].children,t)}(e)%a]}(t,0,o),h=s.getModel("itemStyle").getItemStyle();c=ne({lineJoin:"bevel",fill:(c="normal"===n?h:he(s.getModel(n+".itemStyle").getItemStyle(),h)).fill||d},c),e?(a.setShape(u),a.shape.r=l.r0,si(a,{shape:{r:l.r}},i,t.dataIndex),a.useStyle(c)):si(a,{shape:u,style:c},i),"normal"===n&&(a.hoverStyle=s.getModel("emphasis.itemStyle").getItemStyle(),ii(this)),this._updateLabel(i,o,d);var f=s.getShallow("cursor");if(f&&a.attr("cursor",f),e){var p=i.getShallow("highlightPolicy");this._initEvents(a,t,i,p)}this._seriesModel=i||this._seriesModel,this._ecModel=o||this._ecModel},Qa.onEmphasis=function(e){var t=this;this.node.hostTree.root.eachNode(function(n){n.piece&&(t.node===n?n.piece.updateData(!1,n,"emphasis"):function(e,t,n){return n!==ah_NONE&&(n===ah_SELF?e===t:n===ah_ANCESTOR?e===t||e.isAncestorOf(t):e===t||e.isDescendantOf(t))}(n,t.node,e)?n.piece.childAt(0).trigger("highlight"):e!==ah_NONE&&n.piece.childAt(0).trigger("downplay"))})},Qa.onNormal=function(){this.node.hostTree.root.eachNode(function(e){e.piece&&e.piece.updateData(!1,e,"normal")})},Qa.onHighlight=function(){this.updateData(!1,this.node,"highlight")},Qa.onDownplay=function(){this.updateData(!1,this.node,"downplay")},Qa._updateLabel=function(e,t,n){var i=this.node.getModel(),o=i.getModel("label"),a=i.getModel("label.emphasis"),s=_e(e.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name);o.get("show")||(s="");var l=this.childAt(1);Ni(l.style,l.hoverStyle={},o,a,{defaultText:o.getShallow("show")?s:null,autoColor:n,useInsideStyle:!0});var u,c=this.node.getLayout(),d=(c.startAngle+c.endAngle)/2,h=Math.cos(d),f=Math.sin(d),p=o.get("position"),D=o.get("distance")||0,X=o.get("align");"outside"===p?(u=c.r+D,X=d>Math.PI/2?"right":"left"):X&&"center"!==X?"left"===X?(u=c.r0+D,d>Math.PI/2&&(X="right")):"right"===X&&(u=c.r-D,d>Math.PI/2&&(X="left")):(u=(c.r+c.r0)/2,X="center"),l.attr("style",{text:s,textAlign:X,textVerticalAlign:o.get("verticalAlign")||"middle",opacity:o.get("opacity")}),l.attr("position",[u*h+c.cx,u*f+c.cy]);var ce=o.getShallow("rotate"),be=0;"radial"===ce?(be=-d)<-Math.PI/2&&(be+=Math.PI):"tangential"===ce?(be=Math.PI/2-d)>Math.PI/2?be-=Math.PI:be<-Math.PI/2&&(be+=Math.PI):"number"==typeof ce&&(be=ce*Math.PI/180),l.attr("rotation",be)},Qa._initEvents=function(e,t,n,i){e.off("mouseover").off("mouseout").off("emphasis").off("normal");var o=this,a=function(){o.onEmphasis(i)},s=function(){o.onNormal()};n.isAnimationEnabled()&&e.on("mouseover",a).on("mouseout",s).on("emphasis",a).on("normal",s).on("downplay",function(){o.onDownplay()}).on("highlight",function(){o.onHighlight()})},k(Lc,Ln),ar.extend({type:"sunburst",init:function(){},render:function(e,t,n,i){var s=this;this.seriesModel=e,this.api=n,this.ecModel=t;var l=e.getData().tree.root,u=e.getViewRoot(),c=this.group,d=e.get("renderLabelForZeroData"),h=[];if(u.eachNode(function(X){h.push(X)}),function(X,K){function oe(be){return be.getId()}function ce(be,Be){!function(X,K){if(d||!X||X.getValue()||(X=null),X!==l&&K!==l)if(K&&K.piece)X?K.piece.updateData(!1,X,"normal",e,t):function(X){X&&X.piece&&(c.remove(X.piece),X.piece=null)}(K);else if(X){var oe=new Lc(X,e,t);c.add(oe)}}(null==be?null:X[be],null==Be?null:K[Be])}0===X.length&&0===K.length||new So(K,X,oe,oe).add(ce).update(ce).remove(Q(ce,null)).execute()}(h,this._oldChildren||[]),function(X,K){if(K.depth>0){X.piece?X.piece.updateData(!1,X,"normal",e,t):(X.piece=new Lc(X,e,t),c.add(X.piece)),K.piece._onclickEvent&&K.piece.off("click",K.piece._onclickEvent);var oe=function(ce){s._rootToNode(K.parentNode)};K.piece._onclickEvent=oe,X.piece.on("click",oe)}else X.piece&&(c.remove(X.piece),X.piece=null)}(l,u),i&&i.highlight&&i.highlight.piece){var p=e.getShallow("highlightPolicy");i.highlight.piece.onEmphasis(p)}else if(i&&i.unhighlight){var D=l.piece;!D&&l.children.length&&(D=l.children[0].piece),D&&D.onNormal()}this._initEvents(),this._oldChildren=h},dispose:function(){},_initEvents:function(){var e=this,t=function(n){var i=e.seriesModel.get("nodeClick",!0);if(i){var o=!1;e.seriesModel.getViewRoot().eachNode(function(a){if(!o&&a.piece&&a.piece.childAt(0)===n.target){if("rootToNode"===i)e._rootToNode(a);else if("link"===i){var s=a.getModel(),l=s.get("link",!0);if(l){var u=s.get("target",!0)||"_blank";l&&window.open(l,u)}}o=!0}})}};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",t),this.group._onclickEvent=t},_rootToNode:function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},containPoint:function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,o=e[1]-n.cy,a=Math.sqrt(i*i+o*o);return a<=n.r&&a>=n.r0}}});var V_="sunburstRootToNode";yi({type:V_,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(n,i){var o=Zl(e,[V_],n);if(o){var a=n.getViewRoot();a&&(e.direction=yf(a,o.node)?"rollUp":"drillDown"),n.resetViewRoot(o.node)}})});var W_="sunburstHighlight";yi({type:W_,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(n,i){var o=Zl(e,[W_],n);o&&(e.highlight=o.node)})}),yi({type:"sunburstUnhighlight",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(n,i){e.unhighlight=!0})});var G_=Math.PI/180;Di(Q(Yd,"sunburst")),zi(Q(function(e,t,n,i){t.eachSeriesByType(e,function(o){var a=o.get("center"),s=o.get("radius");$(s)||(s=[0,s]),$(a)||(a=[a,a]);var l=n.getWidth(),u=n.getHeight(),c=Math.min(l,u),d=wn(a[0],l),h=wn(a[1],u),f=wn(s[0],c/2),p=wn(s[1],c/2),D=-o.get("startAngle")*G_,X=o.get("minAngle")*G_,K=o.getData().tree.root,oe=o.getViewRoot(),ce=oe.depth,be=o.get("sort");null!=be&&l1(oe,be);var Be=0;m(oe.children,function(Dn){!isNaN(Dn.getValue())&&Be++});var He=oe.getValue(),Ye=Math.PI/(He||Be)*2,$e=oe.depth>0,mt=(p-f)/(oe.height-($e?-1:1)||1),Qt=o.get("clockwise"),Yt=o.get("stillShowZeroSum"),sn=Qt?1:-1,xn=function(Dn,Hn){if(Dn){var Tn=Hn;if(Dn!==K){var fi=Dn.getValue(),Kn=0===He&&Yt?Ye:fi*Ye;Kn<X&&(Kn=X),Tn=Hn+sn*Kn;var Pi=Dn.depth-ce-($e?-1:1),dr=f+mt*Pi,Bo=f+mt*(Pi+1),ss=Dn.getModel();null!=ss.get("r0")&&(dr=wn(ss.get("r0"),c/2)),null!=ss.get("r")&&(Bo=wn(ss.get("r"),c/2)),Dn.setLayout({angle:Kn,startAngle:Hn,endAngle:Tn,clockwise:Qt,cx:d,cy:h,r0:dr,r:Bo})}if(Dn.children&&Dn.children.length){var Gw=0;m(Dn.children,function(lP){Gw+=xn(lP,Hn+Gw)})}return Tn-Hn}};if($e){var Pn=2*Math.PI;K.setLayout({angle:Pn,startAngle:D,endAngle:D+Pn,clockwise:Qt,cx:d,cy:h,r0:f,r:f+mt})}xn(oe,D)})},"sunburst")),Wr(Q(_u,"sunburst"));var QD=["itemStyle"],eN=["emphasis","itemStyle"],tN=["label"],nN=["emphasis","label"],iN="e\0\0",rN={cartesian2d:function(e){var t=e.grid.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:re(XM,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n,i){return e.dataToPoint(n,i)},size:re($M,e)}}},singleAxis:function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:re(KM,e)}}},polar:function(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),i=t.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:i[1],r0:i[0]},api:{coord:re(function(o){var a=t.dataToRadius(o[0]),s=n.dataToAngle(o[1]),l=e.coordToPoint([a,s]);return l.push(a,s*Math.PI/180),l}),size:re(JM,e)}}},calendar:function(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(i,o){return e.dataToPoint(i,o)}}}}};zl({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(e,t){return Mo(this.getSource(),this)}}),vr({type:"custom",_data:null,render:function(e,t,n){var i=this._data,o=e.getData(),a=this.group,s=c1(e,o,t,n);this.group.removeAll(),o.diff(i).add(function(l){o.hasValue(l)&&op(null,l,s(l),e,a,o)}).update(function(l,u){var c=i.getItemGraphicEl(u);o.hasValue(l)?op(c,l,s(l),e,a,o):c&&a.remove(c)}).remove(function(l){var u=i.getItemGraphicEl(l);u&&a.remove(u)}).execute(),this._data=o},incrementalPrepareRender:function(e,t,n){this.group.removeAll(),this._data=null},incrementalRender:function(e,t,n,i){for(var o=t.getData(),a=c1(t,o,n,i),s=e.start;s<e.end;s++)op(null,s,a(s),t,this.group,o).traverse(function(l){l.isGroup||(l.incremental=!0,l.useHoverLayer=!0)})},dispose:It}),cr(function(e){var t=e.graphic;$(t)?e.graphic=t[0]&&t[0].elements?[e.graphic[0]]:[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])});var oN=_r({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(e){var t=this.option.elements;this.option.elements=null,oN.superApply(this,"mergeOption",arguments),this.option.elements=t},optionUpdated:function(e,t){var n=this.option,i=(t?n:e).elements,o=n.elements=t?[]:n.elements,a=[];this._flatten(i,a);var s=T(o,a);v(s);var l=this._elOptionsToUpdate=[];m(s,function(c,d){var h=c.option;h&&(l.push(h),function(e,t){var n=e.exist;if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),null==t.parentId){var i=t.parentOption;i?t.parentId=i.id:n&&(t.parentId=n.parentId)}t.parentOption=null}(c,h),function(e,t,n){var i=J({},n),o=e[t],a=n.$action||"merge";"merge"===a?o?(he(o,i,!0),Ho(o,i,{ignoreSize:!0}),Jm(n,o)):e[t]=i:"replace"===a?e[t]=i:"remove"===a&&o&&(e[t]=null)}(o,d,h),function(e,t){e&&(e.hv=t.hv=[p1(t,["left","right"]),p1(t,["top","bottom"])],"group"===e.type&&(null==e.width&&(e.width=t.width=0),null==e.height&&(e.height=t.height=0)))}(o[d],h))},this);for(var u=o.length-1;u>=0;u--)null==o[u]?o.splice(u,1):delete o[u].$action},_flatten:function(e,t,n){m(e,function(i){if(i){n&&(i.parentOption=n),t.push(i);var o=i.children;"group"===i.type&&o&&this._flatten(o,t,i),delete i.children}},this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e}});er({type:"graphic",init:function(e,t){this._elMap=tt()},render:function(e,t,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e,n),this._relocate(e,n)},_updateElements:function(e,t){var n=e.useElOptionsToUpdate();if(n){var i=this._elMap,o=this.group;m(n,function(a){var s=a.$action,l=a.id,u=i.get(l),c=a.parentId,d=null!=c?i.get(c):o;if("text"===a.type){var h=a.style;a.hv&&a.hv[1]&&(h.textVerticalAlign=h.textBaseline=null),!h.hasOwnProperty("textFill")&&h.fill&&(h.textFill=h.fill),!h.hasOwnProperty("textStroke")&&h.stroke&&(h.textStroke=h.stroke)}var f=function(e){return e=J({},e),m(["id","parentId","$action","hv","bounding"].concat(nb),function(t){delete e[t]}),e}(a);s&&"merge"!==s?"replace"===s?(Ec(u,i),f1(l,d,f,i)):"remove"===s&&Ec(u,i):u?u.attr(f):f1(l,d,f,i);var p=i.get(l);p&&(p.__ecGraphicWidth=a.width,p.__ecGraphicHeight=a.height)})}},_relocate:function(e,t){for(var n=e.option.elements,i=this.group,o=this._elMap,a=n.length-1;a>=0;a--){var s=n[a],l=o.get(s.id);if(l){var u=l.parent;ic(l,s,u===i?{width:t.getWidth(),height:t.getHeight()}:{width:u.__ecGraphicWidth||0,height:u.__ecGraphicHeight||0},null,{hv:s.hv,boundingMode:s.bounding})}}},_clear:function(){var e=this._elMap;e.each(function(t){Ec(t,e)}),this._elMap=tt()},dispose:function(){this._clear()}});var U_=_r({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{}},mergeOption:function(e){U_.superCall(this,"mergeOption",e)},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,n=0;n<e.length;n++){var i=e[n].get("name");if(this.isSelected(i)){this.select(i),t=!0;break}}!t&&this.select(e[0].get("name"))}},_updateData:function(e){var t=[],n=[];e.eachRawSeries(function(o){var s,a=o.name;if(n.push(a),o.legendDataProvider){var l=o.legendDataProvider(),u=l.mapArray(l.getName);e.isSeriesFiltered(o)||(n=n.concat(u)),u.length?t=t.concat(u):s=a}else s=a;s&&s!==dd&&t.push(s)}),this._availableNames=n;var i=y(this.get("data")||t,function(o){return"string"!=typeof o&&"number"!=typeof o||(o={name:o}),new vi(o,this,this.ecModel)},this);this._data=i},getData:function(){return this._data},select:function(e){var t=this.option.selected;"single"===this.get("selectedMode")&&m(this._data,function(n){t[n.get("name")]=!1}),t[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},isSelected:function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&A(this._availableNames,e)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});yi("legendToggleSelect","legendselectchanged",Q(sp,"toggleSelected")),yi("legendSelect","legendselected",Q(sp,"select")),yi("legendUnSelect","legendunselected",Q(sp,"unSelect"));var hl=Q,aN=m,nm=Ln,sN=er({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new nm)},getContentGroup:function(){return this._contentGroup},render:function(e,t,n){if(this.resetInner(),e.get("show",!0)){var i=e.get("align");i&&"auto"!==i||(i="right"===e.get("left")&&"vertical"===e.get("orient")?"right":"left"),this.renderInner(i,e,t,n);var o=e.getBoxLayoutParams(),a={width:n.getWidth(),height:n.getHeight()},s=e.get("padding"),l=Qi(o,a,s),u=this.layoutInner(e,i,l),c=Qi(ne({width:u.width,height:u.height},o),a,s);this.group.attr("position",[c.x-u.x,c.y-u.y]),this.group.add(this._backgroundEl=g1(u,e))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(e,t,n,i){var o=this.getContentGroup(),a=tt(),s=t.get("selectedMode");aN(t.getData(),function(l,u){var c=l.get("name");if(this.newlineDisabled||""!==c&&"\n"!==c){var d=n.getSeriesByName(c)[0];if(!a.get(c))if(d){var h=d.getData(),f=h.getVisual("color");"function"==typeof f&&(f=f(d.getDataParams(0)));var p=h.getVisual("legendSymbol")||"roundRect",D=h.getVisual("symbol");this._createItem(c,u,l,t,p,D,e,f,s).on("click",hl(m1,c,i)).on("mouseover",hl(v1,d,null,i)).on("mouseout",hl(y1,d,null,i)),a.set(c,!0)}else n.eachRawSeries(function(X){if(!a.get(c)&&X.legendDataProvider){var K=X.legendDataProvider(),oe=K.indexOfName(c);if(oe<0)return;var ce=K.getItemVisual(oe,"color");this._createItem(c,u,l,t,"roundRect",null,e,ce,s).on("click",hl(m1,c,i)).on("mouseover",hl(v1,X,c,i)).on("mouseout",hl(y1,X,c,i)),a.set(c,!0)}},this)}else o.add(new nm({newline:!0}))},this)},_createItem:function(e,t,n,i,o,a,s,l,u){var c=i.get("itemWidth"),d=i.get("itemHeight"),h=i.get("inactiveColor"),f=i.isSelected(e),p=new nm,D=n.getModel("textStyle"),X=n.get("icon"),K=n.getModel("tooltip"),oe=K.parentModel;if(p.add(Dr(o=X||o,0,0,c,d,f?l:h,!0)),!X&&a&&(a!==o||"none"==a)){var ce=.8*d;"none"===a&&(a="circle"),p.add(Dr(a,(c-ce)/2,(d-ce)/2,ce,ce,f?l:h))}var be="left"===s?c+5:-5,Be=s,He=i.get("formatter"),Ye=e;"string"==typeof He&&He?Ye=He.replace("{name}",null!=e?e:""):"function"==typeof He&&(Ye=He(e)),p.add(new ui({style:$n({},D,{text:Ye,x:be,y:d/2,textFill:f?D.getTextColor():h,textAlign:Be,textVerticalAlign:"middle"})}));var $e=new Ti({shape:p.getBoundingRect(),invisible:!0,tooltip:K.get("show")?J({content:e,formatter:oe.get("formatter",!0)||function(){return e},formatterParams:{componentType:"legend",legendIndex:i.componentIndex,name:e,$vars:["name"]}},K.option):null});return p.add($e),p.eachChild(function(nt){nt.silent=!0}),$e.silent=!u,this.getContentGroup().add(p),ii(p),p.__legendDataIndex=t,p},layoutInner:function(e,t,n){var i=this.getContentGroup();pu(e.get("orient"),i,e.get("itemGap"),n.width,n.height);var o=i.getBoundingRect();return i.attr("position",[-o.x,-o.y]),this.group.getBoundingRect()}});Wr(function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(n){for(var i=0;i<t.length;i++)if(!t[i].isSelected(n.name))return!1;return!0})}),hi.registerSubTypeDefaulter("legend",function(){return"plain"});var j_=U_.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(e,t,n,i){var o=Ts(e);j_.superCall(this,"init",e,t,n,i),x1(this,e,o)},mergeOption:function(e,t){j_.superCall(this,"mergeOption",e,t),x1(this,this.option,e)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),q_=Ln,sh=["width","height"],Z_=["x","y"],im=sN.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){im.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new q_),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new q_)},resetInner:function(){im.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(e,t,n,i){function o(c,d){var h=c+"DataIndex",f=Dl(t.get("pageIcons",!0)[t.getOrient().name][d],{onclick:re(a._pageGo,a,h,t,i)},{x:-l[0]/2,y:-l[1]/2,width:l[0],height:l[1]});f.name=c,s.add(f)}var a=this;im.superCall(this,"renderInner",e,t,n,i);var s=this._controllerGroup,l=t.get("pageIconSize",!0);$(l)||(l=[l,l]),o("pagePrev",0);var u=t.getModel("pageTextStyle");s.add(new ui({name:"pageText",style:{textFill:u.getTextColor(),font:u.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),o("pageNext",1)},layoutInner:function(e,t,n){var i=this.getContentGroup(),o=this._containerGroup,a=this._controllerGroup,s=e.getOrient().index,l=sh[s],u=sh[1-s],c=Z_[1-s];pu(e.get("orient"),i,e.get("itemGap"),s?n.width:null,s?null:n.height),pu("horizontal",a,e.get("pageButtonItemGap",!0));var d=i.getBoundingRect(),h=a.getBoundingRect(),f=this._showController=d[l]>n[l],p=[-d.x,-d.y];p[s]=i.position[s];var D=[0,0],X=[-h.x,-h.y],K=Me(e.get("pageButtonGap",!0),e.get("itemGap",!0));f&&("end"===e.get("pageButtonPosition",!0)?X[s]+=n[l]-h[l]:D[s]+=h[l]+K),X[1-s]+=d[u]/2-h[u]/2,i.attr("position",p),o.attr("position",D),a.attr("position",X);var oe=this.group.getBoundingRect();if((oe={x:0,y:0})[l]=f?n[l]:d[l],oe[u]=Math.max(d[u],h[u]),oe[c]=Math.min(0,h[c]+X[1-s]),o.__rectSize=n[l],f){var ce={x:0,y:0};ce[l]=Math.max(n[l]-h[l]-K,0),ce[u]=oe[u],o.setClipPath(new Ti({shape:ce})),o.__rectSize=ce[l]}else a.eachChild(function(Be){Be.attr({invisible:!0,silent:!0})});var be=this._getPageInfo(e);return null!=be.pageIndex&&si(i,{position:be.contentPosition},!!f&&e),this._updatePageInfoView(e,be),oe},_pageGo:function(e,t,n){var i=this._getPageInfo(t)[e];null!=i&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:t.id})},_updatePageInfoView:function(e,t){var n=this._controllerGroup;m(["pagePrev","pageNext"],function(u){var c=null!=t[u+"DataIndex"],d=n.childOfName(u);d&&(d.setStyle("fill",e.get(c?"pageIconColor":"pageIconInactiveColor",!0)),d.cursor=c?"pointer":"default")});var i=n.childOfName("pageText"),o=e.get("pageFormatter"),a=t.pageIndex,s=null!=a?a+1:0,l=t.pageCount;i&&o&&i.setStyle("text",pe(o)?o.replace("{current}",s).replace("{total}",l):o({current:s,total:l}))},_getPageInfo:function(e){function t(Ye){var $e=Ye.getBoundingRect().clone();return $e[p]+=Ye.position[d],$e}var n,i,o,a,s=e.get("scrollDataIndex",!0),l=this.getContentGroup(),u=l.getBoundingRect(),c=this._containerGroup.__rectSize,d=e.getOrient().index,h=sh[d],f=sh[1-d],p=Z_[d],D=l.position.slice();this._showController?l.eachChild(function(Ye){Ye.__legendDataIndex===s&&(a=Ye)}):a=l.childAt(0);var X=c?Math.ceil(u[h]/c):0;if(a){var K=a.getBoundingRect(),oe=a.position[d]+K[p];D[d]=-oe-u[p],n=Math.floor(X*(oe+K[p]+c/2)/u[h]),n=u[h]&&X?Math.max(0,Math.min(X-1,n)):-1;var ce={x:0,y:0};ce[h]=c,ce[f]=u[f],ce[p]=-D[d]-u[p];var be,Be=l.children();if(l.eachChild(function(Ye,$e){var nt=t(Ye);nt.intersect(ce)&&(null==be&&(be=$e),o=Ye.__legendDataIndex),$e===Be.length-1&&nt[p]+nt[h]<=ce[p]+ce[h]&&(o=null)}),null!=be){var He=t(Be[be]);if(ce[p]=He[p]+He[h]-ce[h],be<=0&&He[p]>=ce[p])i=null;else{for(;be>0&&t(Be[be-1]).intersect(ce);)be--;i=Be[be].__legendDataIndex}}}return{contentPosition:D,pageIndex:n,pageCount:X,pagePrevDataIndex:i,pageNextDataIndex:o}}});yi("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(n)})}),_r({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var Y_=m,lN=$m,uN=["","-webkit-","-moz-","-o-"];lp.prototype={constructor:lp,_enterable:!0,update:function(){var e=this._container,t=e.currentStyle||document.defaultView.getComputedStyle(e),n=e.style;"absolute"!==n.position&&"absolute"!==t.position&&(n.position="relative")},show:function(e){clearTimeout(this._hideTimeout);var t=this.el;t.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+function(e){var t=[],n=e.get("transitionDuration"),i=e.get("backgroundColor"),o=e.getModel("textStyle"),a=e.get("padding");return n&&t.push(function(e){var t="left "+e+"s cubic-bezier(0.23, 1, 0.32, 1),top "+e+"s cubic-bezier(0.23, 1, 0.32, 1)";return y(uN,function(n){return n+"transition:"+t}).join(";")}(n)),i&&(li.canvasSupported?t.push("background-Color:"+i):(t.push("background-Color:#"+At(i)),t.push("filter:alpha(opacity=70)"))),Y_(["width","color","radius"],function(s){var l="border-"+s,u=lN(l),c=e.get(u);null!=c&&t.push(l+":"+c+("color"===s?"":"px"))}),t.push(function(e){var t=[],n=e.get("fontSize"),i=e.getTextColor();return i&&t.push("color:"+i),t.push("font:"+e.getFont()),n&&t.push("line-height:"+Math.round(3*n/2)+"px"),Y_(["decoration","align"],function(o){var a=e.get(o);a&&t.push("text-"+o+":"+a)}),t.join(";")}(o)),null!=a&&t.push("padding:"+za(a).join("px ")+"px"),t.join(";")+";"}(e)+";left:"+this._x+"px;top:"+this._y+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",this._show=!0},setContent:function(e){this.el.innerHTML=null==e?"":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var n,i=this._zr;i&&i.painter&&(n=i.painter.getViewportRootOffset())&&(e+=n.offsetLeft,t+=n.offsetTop);var o=this.el.style;o.left=e+"px",o.top=t+"px",this._x=e,this._y=t},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(re(this.hide,this),e)):this.hide())},isShow:function(){return this._show}};var X_=re,Pu=m,$_=wn,cN=new Ti({shape:{x:-1,y:-1,width:2,height:2}});er({type:"tooltip",init:function(e,t){if(!li.node){var n=new lp(t.getDom(),t);this._tooltipContent=n}},render:function(e,t,n){if(!li.node&&!li.wxa){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=e.get("alwaysShowContent");var i=this._tooltipContent;i.update(),i.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel.get("triggerOn");Zy("itemTooltip",this._api,X_(function(t,n,i){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(n,i):"leave"===t&&this._hide(i))},this))},_keepShow:function(){var e=this._tooltipModel,t=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){i.manuallyShowTip(e,t,n,{x:i._lastX,y:i._lastY})})}},manuallyShowTip:function(e,t,n,i){if(i.from!==this.uid&&!li.node){var o=b1(i,n);this._ticket="";var a=i.dataByCoordSys;if(i.tooltip&&null!=i.x&&null!=i.y){var s=cN;s.position=[i.x,i.y],s.update(),s.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:s},o)}else if(a)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,event:{},dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},o);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(e,t,n,i))return;var l=R_(i,t),u=l.point[0],c=l.point[1];null!=u&&null!=c&&this._tryShow({offsetX:u,offsetY:c,position:i.position,target:l.el,event:{}},o)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target,event:{}},o))}},manuallyHideTip:function(e,t,n,i){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,i.from!==this.uid&&this._hide(b1(i,n))},_manuallyAxisShowTip:function(e,t,n,i){var o=i.seriesIndex,a=i.dataIndex,s=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=a&&null!=s){var l=t.getSeriesByIndex(o);if(l&&"axis"===(e=up([l.getData().getItemModel(a),l,(l.coordinateSystem||{}).model,e])).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:a,position:i.position}),!0}},_tryShow:function(e,t){var n=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var i=e.dataByCoordSys;i&&i.length?this._showAxisTooltip(i,e):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,n,t)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,n,t)):(this._lastDataByCoordSys=null,this._hide(t))}},_showOrMove:function(e,t){var n=e.get("showDelay");t=re(t,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(t,n):t()},_showAxisTooltip:function(e,t){var n=this._ecModel,o=[t.offsetX,t.offsetY],a=[],s=[],l=up([t.tooltipOption,this._tooltipModel]);Pu(e,function(c){Pu(c.dataByAxis,function(d){var h=n.getComponent(d.axisDim+"Axis",d.axisIndex),f=d.value,p=[];if(h&&null!=f){var D=e1(f,h.axis,n,d.seriesDataIndices,d.valueLabelOpt);m(d.seriesDataIndices,function(K){var oe=n.getSeriesByIndex(K.seriesIndex),ce=K.dataIndexInside,be=oe&&oe.getDataParams(ce);be.axisDim=d.axisDim,be.axisIndex=d.axisIndex,be.axisType=d.axisType,be.axisId=d.axisId,be.axisValue=Qh(h.axis,f),be.axisValueLabel=D,be&&(s.push(be),p.push(oe.formatTooltip(ce,!0)))}),a.push((D?Oi(D)+"<br />":"")+p.join("<br />"))}})},this),a.reverse(),a=a.join("<br /><br />");var u=t.position;this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(l,u,o[0],o[1],this._tooltipContent,s):this._showTooltipContent(l,a,s,Math.random(),o[0],o[1],u)})},_showSeriesItemTooltip:function(e,t,n){var o=t.seriesIndex,a=this._ecModel.getSeriesByIndex(o),s=t.dataModel||a,l=t.dataIndex,u=t.dataType,c=s.getData(),d=up([c.getItemModel(l),s,a&&(a.coordinateSystem||{}).model,this._tooltipModel]),h=d.get("trigger");if(null==h||"item"===h){var f=s.getDataParams(l,u),p=s.formatTooltip(l,!1,u),D="item_"+s.name+"_"+l;this._showOrMove(d,function(){this._showTooltipContent(d,p,f,D,e.offsetX,e.offsetY,e.position,e.target)}),n({type:"showTip",dataIndexInside:l,dataIndex:c.getRawIndex(l),seriesIndex:o,from:this.uid})}},_showComponentItemTooltip:function(e,t,n){var i=t.tooltip;"string"==typeof i&&(i={content:i,formatter:i});var a=new vi(i,this._tooltipModel,this._ecModel),s=a.get("content"),l=Math.random();this._showOrMove(a,function(){this._showTooltipContent(a,s,a.get("formatterParams")||{},l,e.offsetX,e.offsetY,e.position,t)}),n({type:"showTip",from:this.uid})},_showTooltipContent:function(e,t,n,i,o,a,s,l){if(this._ticket="",e.get("showContent")&&e.get("show")){var u=this._tooltipContent,c=e.get("formatter");s=s||e.get("position");var d=t;if(c&&"string"==typeof c)d=Nh(c,n,!0);else if("function"==typeof c){var h=X_(function(f,p){f===this._ticket&&(u.setContent(p),this._updatePosition(e,s,o,a,u,n,l))},this);this._ticket=i,d=c(n,i,h)}u.setContent(d),u.show(e),this._updatePosition(e,s,o,a,u,n,l)}},_updatePosition:function(e,t,n,i,o,a,s){var l=this._api.getWidth(),u=this._api.getHeight();t=t||e.get("position");var c=o.getSize(),d=e.get("align"),h=e.get("verticalAlign"),f=s&&s.getBoundingRect().clone();if(s&&f.applyTransform(s.transform),"function"==typeof t&&(t=t([n,i],a,o.el,f,{viewSize:[l,u],contentSize:c.slice()})),$(t))n=$_(t[0],l),i=$_(t[1],u);else if(Ce(t)){t.width=c[0],t.height=c[1];var p=Qi(t,{width:l,height:u});n=p.x,i=p.y,d=null,h=null}else"string"==typeof t&&s?(n=(D=function(e,t,n){var i=n[0],o=n[1],a=0,s=0,l=t.width,u=t.height;switch(e){case"inside":a=t.x+l/2-i/2,s=t.y+u/2-o/2;break;case"top":a=t.x+l/2-i/2,s=t.y-o-5;break;case"bottom":a=t.x+l/2-i/2,s=t.y+u+5;break;case"left":a=t.x-i-5,s=t.y+u/2-o/2;break;case"right":a=t.x+l+5,s=t.y+u/2-o/2}return[a,s]}(t,f,c))[0],i=D[1]):(n=(D=function(e,t,n,i,o,a,s){var l=_1(n),u=l.width,c=l.height;return null!=a&&(e+u+a>i?e-=u+a:e+=a),null!=s&&(t+c+s>o?t-=c+s:t+=s),[e,t]}(n,i,o.el,l,u,d?null:20,h?null:20))[0],i=D[1]);if(d&&(n-=w1(d)?c[0]/2:"right"===d?c[0]:0),h&&(i-=w1(h)?c[1]/2:"bottom"===h?c[1]:0),e.get("confine")){var D=function(e,t,n,i,o){var a=_1(n),s=a.width,l=a.height;return e=Math.min(e+s,i)-s,t=Math.min(t+l,o)-l,[e=Math.max(e,0),t=Math.max(t,0)]}(n,i,o.el,l,u);n=D[0],i=D[1]}o.moveTo(n,i)},_updateContentNotChangedOnAxis:function(e){var t=this._lastDataByCoordSys,n=!!t&&t.length===e.length;return n&&Pu(t,function(i,o){var a=i.dataByAxis||{},s=(e[o]||{}).dataByAxis||[];(n&=a.length===s.length)&&Pu(a,function(l,u){var c=s[u]||{},d=l.seriesDataIndices||[],h=c.seriesDataIndices||[];(n&=l.value===c.value&&l.axisType===c.axisType&&l.axisId===c.axisId&&d.length===h.length)&&Pu(d,function(f,p){var D=h[p];n&=f.seriesIndex===D.seriesIndex&&f.dataIndex===D.dataIndex})})}),this._lastDataByCoordSys=e,!!n},_hide:function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},dispose:function(e,t){li.node||(this._tooltipContent.hide(),Qf("itemTooltip",t))}}),yi({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),yi({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),Rc.prototype={constructor:Rc,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToRadius:Ki.prototype.dataToCoord,radiusToData:Ki.prototype.coordToData},k(Rc,Ki),Bc.prototype={constructor:Bc,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToAngle:Ki.prototype.dataToCoord,angleToData:Ki.prototype.coordToData},k(Bc,Ki);var lh=function(e){this.name=e||"",this.cx=0,this.cy=0,this._radiusAxis=new Rc,this._angleAxis=new Bc,this._radiusAxis.polar=this._angleAxis.polar=this};lh.prototype={type:"polar",axisPointerEnabled:!0,constructor:lh,dimensions:["radius","angle"],model:null,containPoint:function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},getAxis:function(e){return this["_"+e+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var t=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&t.push(n),i.scale.type===e&&t.push(i),t},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},dataToPoint:function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},pointToData:function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},pointToCoord:function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=this.getAngleAxis(),o=i.getExtent(),a=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]);i.inverse?a=s-360:s=a+360;var l=Math.sqrt(t*t+n*n);t/=l,n/=l;for(var u=Math.atan2(-n,t)/Math.PI*180,c=u<a?1:-1;u<a||u>s;)u+=360*c;return[l,u]},coordToPoint:function(e){var t=e[0],n=e[1]/180*Math.PI;return[Math.cos(n)*t+this.cx,-Math.sin(n)*t+this.cy]}};var rm=hi.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});he(rm.prototype,Ua);il("angle",rm,S1,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),il("radius",rm,S1,{splitNumber:5}),_r({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(e){var t;return this.ecModel.eachComponent(e,function(n){n.getCoordSysModel()===this&&(t=n)},this),t},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});var dN={dimensions:lh.prototype.dimensions,create:function(e,t){var n=[];return e.eachComponent("polar",function(i,o){var a=new lh(o);a.update=vT;var s=a.getRadiusAxis(),l=a.getAngleAxis(),u=i.findAxisModel("radiusAxis"),c=i.findAxisModel("angleAxis");M1(s,u),M1(l,c),function(e,t,n){var i=t.get("center"),o=n.getWidth(),a=n.getHeight();e.cx=wn(i[0],o),e.cy=wn(i[1],a);var s=e.getRadiusAxis(),l=Math.min(o,a)/2,u=wn(t.get("radius"),l);s.inverse?s.setExtent(u,0):s.setExtent(0,u)}(a,i,t),n.push(a),i.coordinateSystem=a,a.model=i}),e.eachSeries(function(i){if("polar"===i.get("coordinateSystem")){var o=e.queryComponents({mainType:"polar",index:i.get("polarIndex"),id:i.get("polarId")})[0];i.coordinateSystem=o.coordinateSystem}}),n}};hr.register("polar",dN);var hN=["axisLine","axisLabel","axisTick","splitLine","splitArea"];Lr.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,o=i.getRadiusAxis().getExtent(),a=n.getTicksCoords();"category"!==n.type&&a.pop(),m(hN,function(s){!e.get(s+".show")||n.scale.isBlank()&&"axisLine"!==s||this["_"+s](e,i,a,o)},this)}},_axisLine:function(e,t,n,i){var o=e.getModel("axisLine.lineStyle"),a=new Oa({shape:{cx:t.cx,cy:t.cy,r:i[dp(t)]},style:o.getLineStyle(),z2:1,silent:!0});a.style.fill=null,this.group.add(a)},_axisTick:function(e,t,n,i){var o=e.getModel("axisTick"),a=(o.get("inside")?-1:1)*o.get("length"),s=i[dp(t)],l=y(n,function(u){return new Zr({shape:T1(t,[s,s+a],u)})});this.group.add(Do(l,{style:ne(o.getModel("lineStyle").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})}))},_axisLabel:function(e,t,n,i){for(var o=e.axis,a=e.getCategories(),s=e.getModel("axisLabel"),l=e.getFormattedLabels(),u=s.get("margin"),c=o.getLabelsCoords(),d=0;d<n.length;d++){var h=i[dp(t)],f=t.coordToPoint([h+u,c[d]]),p=t.cx,D=t.cy,X=Math.abs(f[0]-p)/h<.3?"center":f[0]>p?"left":"right",K=Math.abs(f[1]-D)/h<.3?"middle":f[1]>D?"top":"bottom";a&&a[d]&&a[d].textStyle&&(s=new vi(a[d].textStyle,s,s.ecModel));var oe=new ui({silent:!0});this.group.add(oe),$n(oe.style,s,{x:f[0],y:f[1],textFill:s.getTextColor()||e.get("axisLine.lineStyle.color"),text:l[d],textAlign:X,textVerticalAlign:K})}},_splitLine:function(e,t,n,i){var o=e.getModel("splitLine").getModel("lineStyle"),a=o.get("color"),s=0;a=a instanceof Array?a:[a];for(var l=[],u=0;u<n.length;u++){var c=s++%a.length;l[c]=l[c]||[],l[c].push(new Zr({shape:T1(t,i,n[u])}))}for(u=0;u<l.length;u++)this.group.add(Do(l[u],{style:ne({stroke:a[u%a.length]},o.getLineStyle()),silent:!0,z:e.get("z")}))},_splitArea:function(e,t,n,i){var o=e.getModel("splitArea").getModel("areaStyle"),a=o.get("color"),s=0;a=a instanceof Array?a:[a];for(var l=[],u=Math.PI/180,c=-n[0]*u,d=Math.min(i[0],i[1]),h=Math.max(i[0],i[1]),f=e.get("clockwise"),p=1;p<n.length;p++){var D=s++%a.length;l[D]=l[D]||[],l[D].push(new Io({shape:{cx:t.cx,cy:t.cy,r0:d,r:h,startAngle:c,endAngle:-n[p]*u,clockwise:f},silent:!0})),c=-n[p]*u}for(p=0;p<l.length;p++)this.group.add(Do(l[p],{style:ne({fill:a[p%a.length]},o.getAreaStyle()),silent:!0}))}});var fN=["axisLine","axisTickLabel","axisName"],pN=["splitLine","splitArea"];Lr.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,o=i.getAngleAxis(),a=n.getTicksCoords(),s=o.getExtent()[0],l=n.getExtent(),u=function(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}(i,e,s),c=new pr(e,u);m(fN,c.add,c),this.group.add(c.getGroup()),m(pN,function(d){e.get(d+".show")&&!n.scale.isBlank()&&this["_"+d](e,i,s,l,a)},this)}},_splitLine:function(e,t,n,i,o){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=0;c<o.length;c++){var d=l++%s.length;u[d]=u[d]||[],u[d].push(new Oa({shape:{cx:t.cx,cy:t.cy,r:o[c]},silent:!0}))}for(c=0;c<u.length;c++)this.group.add(Do(u[c],{style:ne({stroke:s[c%s.length],fill:null},a.getLineStyle()),silent:!0}))},_splitArea:function(e,t,n,i,o){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=o[0],d=1;d<o.length;d++){var h=l++%s.length;u[h]=u[h]||[],u[h].push(new Io({shape:{cx:t.cx,cy:t.cy,r0:c,r:o[d],startAngle:0,endAngle:2*Math.PI},silent:!0})),c=o[d]}for(d=0;d<u.length;d++)this.group.add(Do(u[d],{style:ne({fill:s[d%s.length]},a.getAreaStyle()),silent:!0}))}});var gN=zs.extend({makeElOption:function(e,t,n,i,o){var a=n.axis;"angle"===a.dim&&(this.animationThreshold=Math.PI/18);var s,l=a.polar,u=l.getOtherAxis(a).getExtent();s=a["dataTo"+nc(a.dim)](t);var c=i.get("type");if(c&&"none"!==c){var d=tp(i),h=mN[c](a,l,s,u,d);h.style=d,e.graphicKey=h.type,e.pointer=h}Qy(e,n,i,o,function(e,t,n,i,o){var a=t.axis,s=a.dataToCoord(e),l=i.getAngleAxis().getExtent()[0];l=l/180*Math.PI;var u,c,d,h=i.getRadiusAxis().getExtent();if("radius"===a.dim){var f=Un();yn(f,f,l),tn(f,f,[i.cx,i.cy]),u=io([s,-o],f);var p=t.getModel("axisLabel").get("rotate")||0,D=pr.innerTextLayout(l,p*Math.PI/180,-1);c=D.textAlign,d=D.textVerticalAlign}else{var X=h[1];u=i.coordToPoint([X+o,s]);var K=i.cx,oe=i.cy;c=Math.abs(u[0]-K)/X<.3?"center":u[0]>K?"left":"right",d=Math.abs(u[1]-oe)/X<.3?"middle":u[1]>oe?"top":"bottom"}return{position:u,align:c,verticalAlign:d}}(t,n,0,l,i.get("label.margin")))}}),mN={line:function(e,t,n,i,o){return"angle"===e.dim?{type:"Line",shape:ip(t.coordToPoint([i[0],n]),t.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,i,o){var a=e.getBandWidth(),s=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:i1(t.cx,t.cy,i[0],i[1],(-n-a/2)*s,(a/2-n)*s)}:{type:"Sector",shape:i1(t.cx,t.cy,n-a/2,n+a/2,0,2*Math.PI)}}};Lr.registerAxisPointerClass("PolarAxisPointer",gN),zi(Q(function(e,t,n){var i=n.getWidth(),o=n.getHeight(),a={},s={},l=function(e,t){var n={};m(e,function(o,a){var s=o.getData(),l=o.coordinateSystem.getBaseAxis(),u=l.getExtent(),c="category"===l.type?l.getBandWidth():Math.abs(u[1]-u[0])/s.count(),d=n[cp(l)]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=d.stacks;n[cp(l)]=d;var f=C1(o);h[f]||d.autoWidthCount++,h[f]=h[f]||{width:0,maxWidth:0};var p=wn(o.get("barWidth"),c),D=wn(o.get("barMaxWidth"),c),X=o.get("barGap"),K=o.get("barCategoryGap");p&&!h[f].width&&(p=Math.min(d.remainedWidth,p),h[f].width=p,d.remainedWidth-=p),D&&(h[f].maxWidth=D),null!=X&&(d.gap=X),null!=K&&(d.categoryGap=K)});var i={};return m(n,function(o,a){i[a]={};var s=o.stacks,u=wn(o.categoryGap,o.bandWidth),c=wn(o.gap,1),d=o.remainedWidth,h=o.autoWidthCount,f=(d-u)/(h+(h-1)*c);f=Math.max(f,0),m(s,function(K,oe){var ce=K.maxWidth;ce&&ce<f&&(ce=Math.min(ce,d),K.width&&(ce=Math.min(ce,K.width)),d-=ce,K.width=ce,h--)}),f=(d-u)/(h+(h-1)*c),f=Math.max(f,0);var p,D=0;m(s,function(K,oe){K.width||(K.width=f),p=K,D+=K.width*(1+c)}),p&&(D-=p.width*c);var X=-D/2;m(s,function(K,oe){i[a][oe]=i[a][oe]||{offset:X,width:K.width},X+=K.width*(1+c)})}),i}(Z(t.getSeriesByType(e),function(u){return!t.isSeriesFiltered(u)&&u.coordinateSystem&&"polar"===u.coordinateSystem.type}));t.eachSeriesByType(e,function(u){if("polar"===u.coordinateSystem.type){var c=u.getData(),d=u.coordinateSystem,h=d.getAngleAxis(),f=d.getBaseAxis(),p=C1(u),D=l[cp(f)][p],X=D.offset,K=D.width,oe=d.getOtherAxis(f),ce=u.get("center")||["50%","50%"],be=wn(ce[0],i),Be=wn(ce[1],o),He=u.get("barMinHeight")||0,Ye=u.get("barMinAngle")||0,$e=oe.getExtent()[0],nt=oe.model.get("max"),mt=oe.model.get("min"),Qt=[c.mapDimension("radius"),c.mapDimension("angle")],Yt=c.mapArray(Qt,function(sn,xn){return d.dataToPoint([sn,xn])},!0);a[p]=a[p]||[],s[p]=s[p]||[],c.each(c.mapDimension(oe.dim),function(sn,xn){if(!isNaN(sn)){a[p][xn]||(a[p][xn]={p:$e,n:$e},s[p][xn]={p:$e,n:$e});var pn,bn,Pn,Dn,Hn=sn>=0?"p":"n",Tn=d.pointToCoord(Yt[xn]),fi=s[p][xn][Hn];if("radius"===oe.dim)pn=fi,bn=Tn[0],Dn=(Pn=(-Tn[1]+X)*Math.PI/180)+K*Math.PI/180,Math.abs(bn)<He&&(bn=pn+(bn<0?-1:1)*He),s[p][xn][Hn]=bn;else{bn=(pn=Tn[0]+X)+K,null!=nt&&(sn=Math.min(sn,nt)),null!=mt&&(sn=Math.max(sn,mt));var Kn=h.dataToAngle(sn);Math.abs(Kn-fi)<Ye&&(Kn=fi-(sn<0?-1:1)*Ye),Pn=-fi*Math.PI/180,Dn=-Kn*Math.PI/180;var Pi=h.getExtent(),dr=Kn;dr===Pi[0]&&sn>0?dr=Pi[1]:dr===Pi[1]&&sn<0&&(dr=Pi[0]),s[p][xn][Hn]=dr}c.setItemLayout(xn,{cx:be,cy:Be,r0:pn,r:bn,startAngle:Pn,endAngle:Dn})}},!0)}},this)},"bar")),er({type:"polar"}),M(hi.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(e){hi.prototype.init.apply(this,arguments),te(e,"label",["show"])},optionUpdated:function(){var e=this.option,t=this;e.regions=e_.getFilledRegions(e.regions,e.map,e.nameMap),this._optionModelMap=P(e.regions||[],function(n,i){return i.name&&n.set(i.name,new vi(i,t)),n},tt()),this.updateSelectedMap(e.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap.get(e)||new vi(null,this,this.ecModel)},getFormattedLabel:function(e,t){var n=this.getRegionModel(e).get("label."+t+".formatter"),i={name:e};return"function"==typeof n?(i.status=t,n(i)):"string"==typeof n?n.replace("{a}",null!=e?e:""):void 0},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}}),Bg),er({type:"geo",init:function(e,t){var n=new mc(t,!0);this._mapDraw=n,this.group.add(n.group)},render:function(e,t,n,i){if(!i||"geoToggleSelect"!==i.type||i.from!==this.uid){var o=this._mapDraw;e.get("show")?o.draw(e,t,n,this,i):this._mapDraw.group.removeAll(),this.group.silent=e.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),hp("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),hp("select",{type:"geoSelect",event:"geoselected"}),hp("unSelect",{type:"geoUnSelect",event:"geounselected"});var vN=["rect","polygon","keep","clear"],J_=m,om={lineX:I1(0),lineY:I1(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&Sa(n.range,e[0],e[1])},rect:function(e,t,n){var i=n.range;if(!e||i.length<=1)return!1;var o=e.x,a=e.y,s=e.width,l=e.height,u=i[0];return!!(Sa(i,o,a)||Sa(i,o+s,a)||Sa(i,o,a+l)||Sa(i,o+s,a+l)||Qn.create(e).contain(u[0],u[1])||Oc(o,a,o+s,a,i)||Oc(o,a,o,a+l,i)||Oc(o+s,a,o+s,a+l,i)||Oc(o,a+l,o+s,a+l,i))||void 0}}},ca=m,uh=A,ch=Q,am=["dataToPoint","pointToData"],yN=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],fl=zc.prototype;fl.setOutputRanges=function(e,t){this.matchOutputRanges(e,t,function(n,i,o){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var a=sm[n.brushType](0,o,i);n.__rangeOffset={offset:tw[n.brushType](a.values,n.range,[1,1]),xyMinMax:a.xyMinMax}}})},fl.matchOutputRanges=function(e,t,n){ca(e,function(i){var o=this.findTargetInfo(i,t);o&&!0!==o&&m(o.coordSyses,function(a){var s=sm[i.brushType](1,a,i.range);n(i,s.values,a,t)})},this)},fl.setInputRanges=function(e,t){ca(e,function(n){var i=this.findTargetInfo(n,t);if(n.range=n.range||[],i&&!0!==i){n.panelId=i.panelId;var o=sm[n.brushType](0,i.coordSys,n.coordRange),a=n.__rangeOffset;n.range=a?tw[n.brushType](o.values,a.offset,function(e,t){var n=L1(e),i=L1(t),o=[n[0]/i[0],n[1]/i[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}(o.xyMinMax,a.xyMinMax)):o.values}},this)},fl.makePanelOpts=function(e,t){return y(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t&&t(n),clipPath:wy(i),isTargetByCursor:Sy(i,e,n.coordSysModel),getLinearBrushOtherExtent:Cy(i)}})},fl.controlSeries=function(e,t,n){var i=this.findTargetInfo(e,n);return!0===i||i&&uh(i.coordSyses,t.coordinateSystem)>=0},fl.findTargetInfo=function(e,t){for(var n=this._targetInfoList,i=D1(t,e),o=0;o<n.length;o++){var a=n[o],s=e.panelId;if(s){if(a.panelId===s)return a}else for(o=0;o<Q_.length;o++)if(Q_[o](i,a))return a}return!0};var xN={grid:function(e,t){var n=e.xAxisModels,i=e.yAxisModels,o=e.gridModels,a=tt(),s={},l={};(n||i||o)&&(ca(n,function(u){var c=u.axis.grid.model;a.set(c.id,c),s[c.id]=!0}),ca(i,function(u){var c=u.axis.grid.model;a.set(c.id,c),l[c.id]=!0}),ca(o,function(u){a.set(u.id,u),s[u.id]=!0,l[u.id]=!0}),a.each(function(u){var d=[];ca(u.coordinateSystem.getCartesians(),function(h,f){(uh(n,h.getAxis("x").model)>=0||uh(i,h.getAxis("y").model)>=0)&&d.push(h)}),t.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:d[0],coordSyses:d,getPanelRect:ew.grid,xAxisDeclared:s[u.id],yAxisDeclared:l[u.id]})}))},geo:function(e,t){ca(e.geoModels,function(n){var i=n.coordinateSystem;t.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:i,coordSyses:[i],getPanelRect:ew.geo})})}},Q_=[function(e,t){var n=e.xAxisModel,i=e.yAxisModel,o=e.gridModel;return!o&&n&&(o=n.axis.grid.model),!o&&i&&(o=i.axis.grid.model),o&&o===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],ew={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(xa(e)),t}},sm={lineX:ch(N1,0),lineY:ch(N1,1),rect:function(e,t,n){var i=t[am[e]]([n[0][0],n[1][0]]),o=t[am[e]]([n[0][1],n[1][1]]),a=[gp([i[0],o[0]]),gp([i[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(e,t,n){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:y(n,function(o){var a=t[am[e]](o);return i[0][0]=Math.min(i[0][0],a[0]),i[1][0]=Math.min(i[1][0],a[1]),i[0][1]=Math.max(i[0][1],a[0]),i[1][1]=Math.max(i[1][1],a[1]),a}),xyMinMax:i}}},tw={lineX:ch(P1,0),lineY:ch(P1,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return y(e,function(i,o){return[i[0]-n[0]*t[o][0],i[1]-n[1]*t[o][1]]})}},nw=["inBrush","outOfBrush"],lm="__ecBrushSelect",um="__ecInBrushSelectEvent",iw=el.VISUAL.BRUSH;zi(iw,function(e,t,n){e.eachComponent({mainType:"brush"},function(i){n&&"takeGlobalCursor"===n.type&&i.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1}),(i.brushTargetManager=new zc(i.option,e)).setInputRanges(i.areas,e)})}),Di(iw,function(e,t,n){var i,o,a=[];e.eachComponent({mainType:"brush"},function(s,l){function u(He){return"all"===D||X[He]}function c(He){return!!He.length}var f={brushId:s.id,brushIndex:l,brushName:s.name,areas:Bt(s.areas),selected:[]};a.push(f);var p=s.option,D=p.brushLink,X=[],K=[],oe=[],ce=0;l||(i=p.throttleType,o=p.throttleDelay);var be=y(s.areas,function(He){return function(e){var t=e.selectors={};return m(om[e.brushType],function(n,i){t[i]=function(o){return n(o,t,e)}}),e}(ne({boundingRect:bN[He.brushType](He)},He))}),Be=fp(s.option,nw,function(He){He.mappingMethod="fixed"});$(D)&&m(D,function(He){X[He]=1}),e.eachSeries(function(He,Ye){var $e=oe[Ye]=[];"parallel"===He.subType?function(He,Ye){var $e=He.coordinateSystem;ce|=$e.hasAxisBrushed(),u(Ye)&&$e.eachActiveState(He.getData(),function(nt,mt){"active"===nt&&(K[mt]=1)})}(He,Ye):function(He,Ye,$e){var nt=R1(He);if(nt&&!function(e,t){var n=e.option.seriesIndex;return null!=n&&"all"!==n&&($(n)?A(n,t)<0:t!==n)}(s,Ye)&&(m(be,function(Qt){nt[Qt.brushType]&&s.brushTargetManager.controlSeries(Qt,He,e)&&$e.push(Qt),ce|=c($e)}),u(Ye)&&c($e))){var mt=He.getData();mt.each(function(Qt){E1(nt,$e,mt,Qt)&&(K[Qt]=1)})}}(He,Ye,$e)}),e.eachSeries(function(He,Ye){var $e={seriesId:He.id,seriesIndex:Ye,seriesName:He.name,dataIndex:[]};f.selected.push($e);var nt=R1(He),mt=oe[Ye],Qt=He.getData(),Yt=u(Ye)?function(sn){return K[sn]?($e.dataIndex.push(Qt.getRawIndex(sn)),"inBrush"):"outOfBrush"}:function(sn){return E1(nt,mt,Qt,sn)?($e.dataIndex.push(Qt.getRawIndex(sn)),"inBrush"):"outOfBrush"};(u(Ye)?ce:c(mt))&&function(e,t,n,i,o,a){function s(h){return n.getItemVisual(d,h)}function l(h,f){n.setItemVisual(d,h,f)}function u(h,f){var p=n.getRawDataItem(d=h);if(!p||!1!==p.visualMap)for(var D=i.call(undefined,h),X=t[D],K=c[D],oe=0,ce=K.length;oe<ce;oe++){var be=K[oe];X[be]&&X[be].applyVisual(h,s,l)}}var d,c={};m(e,function(h){var f=wi.prepareVisualTypes(t[h]);c[h]=f}),n.each(u,!0)}(nw,Be,Qt,Yt)})}),function(e,t,n,i,o){if(o){var a=e.getZr();a[um]||(a[lm]||(a[lm]=kT),El(a,lm,n,t)(e,i))}}(t,i,o,a,n)});var bN={lineX:It,lineY:It,rect:function(e){return B1(e.range)},polygon:function(e){for(var t,n=e.range,i=0,o=n.length;i<o;i++){var a=n[i];a[0]<(t=t||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&B1(t)}},_N=["#ddd"];_r({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(e,t){var n=this.option;!t&&A1(n,e,["inBrush","outOfBrush"]),n.inBrush=n.inBrush||{},n.outOfBrush=n.outOfBrush||{color:_N}},setAreas:function(e){e&&(this.areas=y(e,function(t){return O1(this.option,t)},this))},setBrushOption:function(e){this.brushOption=O1(this.option,e),this.brushType=this.brushOption.brushType}}),er({type:"brush",init:function(e,t){this.ecModel=e,this.api=t,(this._brushController=new Rs(t.getZr())).on("brush",re(this._onBrush,this)).mount()},render:function(e){return this.model=e,z1.apply(this,arguments)},updateView:z1,dispose:function(){this._brushController.dispose()},_onBrush:function(e,t){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(e,this.ecModel),(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:Bt(e),$from:n})}}),yi({type:"brush",event:"brush"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(n){n.setAreas(e.areas)})}),yi({type:"brushSelect",event:"brushSelected",update:"none"},function(){});var rw={};mp.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:Bt(Jo.toolbox.brush.title)};var dh=mp.prototype;dh.render=dh.updateView=function(e,t,n){var i,o,a;t.eachComponent({mainType:"brush"},function(s){i=s.brushType,o=s.brushOption.brushMode||"single",a|=s.areas.length}),this._brushType=i,this._brushMode=o,m(e.get("type",!0),function(s){e.setIconStatus(s,("keep"===s?"multiple"===o:"clear"===s?a:s===i)?"emphasis":"normal")})},dh.getIcons=function(){var e=this.model,t=e.get("icon",!0),n={};return m(e.get("type",!0),function(i){t[i]&&(n[i]=t[i])}),n},dh.onclick=function(e,t,n){var i=this._brushType,o=this._brushMode;"clear"===n?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===o?"single":"multiple":o}})},Fs("brush",mp),cr(function(e,t){var n=e&&e.brush;if($(n)||(n=n?[n]:[]),n.length){var i=[];m(n,function(u){var c=u.hasOwnProperty("toolbox")?u.toolbox:[];c instanceof Array&&(i=i.concat(c))});var o=e&&e.toolbox;$(o)&&(o=o[0]),o||(e.toolbox=[o={feature:{}}]);var a=o.feature||(o.feature={}),s=a.brush||(a.brush={}),l=s.type||(s.type=[]);l.push.apply(l,i),function(e){var t={};m(e,function(n){t[n]=1}),e.length=0,m(t,function(n,i){e.push(i)})}(l),t&&!l.length&&l.push.apply(l,vN)}}),ko.prototype={constructor:ko,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"}]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(e){var t=(e=Pl(e)).getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var i=e.getDate();i=i<10?"0"+i:i;var o=e.getDay();return{y:t,m:n,d:i,day:o=Math.abs((o+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+n+"-"+i,date:e}},getNextNDay:function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},update:function(e,t){function n(d,h){return null!=d[h]&&"auto"!==d[h]}this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,o=["width","height"],a=this._model.get("cellSize").slice(),s=this._model.getBoxLayoutParams(),l="horizontal"===this._orient?[i,7]:[7,i];m([0,1],function(d){n(a,d)&&(s[o[d]]=a[d]*l[d])});var u={width:t.getWidth(),height:t.getHeight()},c=this._rect=Qi(s,u);m([0,1],function(d){n(a,d)||(a[d]=c[o[d]]/l[d])}),this._sw=a[0],this._sh=a[1]},dataToPoint:function(e,t){$(e)&&(e=e[0]),null==t&&(t=!0);var n=this.getDateInfo(e),i=this._rangeInfo;if(t&&!(n.time>=i.start.time&&n.time<=i.end.time))return[NaN,NaN];var a=n.day,s=this._getRangeInfo([i.start.time,n.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},pointToData:function(e){var t=this.pointToDate(e);return t&&t.time},dataToRect:function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},pointToDate:function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,t-1,i):this._getDateByWeeksAndDay(t,n-1,i)},convertToPixel:Q(H1,"dataToPoint"),convertFromPixel:Q(H1,"pointToData"),_initRangeOption:function(){var e=this._model.get("range"),t=e;if($(t)&&1===t.length&&(t=t[0]),/^\d{4}$/.test(t)&&(e=[t+"-01-01",t+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(t)){var n=this.getDateInfo(t),i=n.date;i.setMonth(i.getMonth()+1);var o=this.getNextNDay(i,-1);e=[n.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(t)&&(e=[t,t]);var a=this._getRangeInfo(e);return a.start.time>a.end.time&&e.reverse(),e},_getRangeInfo:function(e){var t;(e=[this.getDateInfo(e[0]),this.getDateInfo(e[1])])[0].time>e[1].time&&(t=!0,e.reverse());var n=Math.floor(e[1].time/864e5)-Math.floor(e[0].time/864e5)+1,i=new Date(e[0].time),o=i.getDate(),a=e[1].date.getDate();if(i.setDate(o+n-1),i.getDate()!==a)for(var s=i.getTime()-e[1].time>0?1:-1;i.getDate()!==a&&(i.getTime()-e[1].time)*s>0;)i.setDate(o+(n-=s)-1);var l=Math.floor((n+e[0].day+6)/7),u=t?1-l:l-1;return t&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:n,weeks:l,nthWeek:u,fweek:e[0].day,lweek:e[1].day}},_getDateByWeeksAndDay:function(e,t,n){var i=this._getRangeInfo(n);if(e>i.weeks||0===e&&t<i.fweek||e===i.weeks&&t>i.lweek)return!1;var o=7*(e-1)-i.fweek+t,a=new Date(i.start.time);return a.setDate(i.start.d+o),this.getDateInfo(a)}},ko.dimensions=ko.prototype.dimensions,ko.getDimensionsInfo=ko.prototype.getDimensionsInfo,ko.create=function(e,t){var n=[];return e.eachComponent("calendar",function(i){var o=new ko(i,e,t);n.push(o),i.coordinateSystem=o}),e.eachSeries(function(i){"calendar"===i.get("coordinateSystem")&&(i.coordinateSystem=n[i.get("calendarIndex")||0])}),n},hr.register("calendar",ko);var ow=hi.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(e,t,n,i){var o=Ts(e);ow.superApply(this,"init",arguments),V1(e,o)},mergeOption:function(e,t){ow.superApply(this,"mergeOption",arguments),V1(this.option,e)}}),CN={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]},SN={EN:["S","M","T","W","T","F","S"],CN:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]};er({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(e,t,n){var i=this.group;i.removeAll();var o=e.coordinateSystem,a=o.getRangeInfo(),s=o.getOrient();this._renderDayRect(e,a,i),this._renderLines(e,a,s,i),this._renderYearText(e,a,s,i),this._renderMonthText(e,s,i),this._renderWeekText(e,a,s,i)},_renderDayRect:function(e,t,n){for(var i=e.coordinateSystem,o=e.getModel("itemStyle").getItemStyle(),a=i.getCellWidth(),s=i.getCellHeight(),l=t.start.time;l<=t.end.time;l=i.getNextNDay(l,1).time){var u=i.dataToRect([l],!1).tl,c=new Ti({shape:{x:u[0],y:u[1],width:a,height:s},cursor:"default",style:o});n.add(c)}},_renderLines:function(e,t,n,i){function o(p){a._firstDayOfMonth.push(s.getDateInfo(p)),a._firstDayPoints.push(s.dataToRect([p],!1).tl);var D=a._getLinePointsOfOneWeek(e,p,n);a._tlpoints.push(D[0]),a._blpoints.push(D[D.length-1]),u&&a._drawSplitline(D,l,i)}var a=this,s=e.coordinateSystem,l=e.getModel("splitLine.lineStyle").getLineStyle(),u=e.get("splitLine.show"),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var d=t.start,h=0;d.time<=t.end.time;h++){o(d.formatedDate),0===h&&(d=s.getDateInfo(t.start.y+"-"+t.start.m));var f=d.date;f.setMonth(f.getMonth()+1),d=s.getDateInfo(f)}o(s.getNextNDay(t.end.time,1).formatedDate),u&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,c,n),l,i),u&&this._drawSplitline(a._getEdgesPoints(a._blpoints,c,n),l,i)},_getEdgesPoints:function(e,t,n){var i=[e[0].slice(),e[e.length-1].slice()],o="horizontal"===n?0:1;return i[0][o]=i[0][o]-t/2,i[1][o]=i[1][o]+t/2,i},_drawSplitline:function(e,t,n){var i=new ho({z2:20,shape:{points:e},style:t});n.add(i)},_getLinePointsOfOneWeek:function(e,t,n){var i=e.coordinateSystem;t=i.getDateInfo(t);for(var o=[],a=0;a<7;a++){var s=i.getNextNDay(t.time,a),l=i.dataToRect([s.time],!1);o[2*s.day]=l.tl,o[2*s.day+1]=l["horizontal"===n?"bl":"tr"]}return o},_formatterLabel:function(e,t){return"string"==typeof e&&e?Km(e,t):"function"==typeof e?e(t):t.nameMap},_yearTextPositionControl:function(e,t,n,i,o){t=t.slice();var a=["center","bottom"];"bottom"===i?(t[1]+=o,a=["center","top"]):"left"===i?t[0]-=o:"right"===i?(t[0]+=o,a=["center","top"]):t[1]-=o;var s=0;return"left"!==i&&"right"!==i||(s=Math.PI/2),{rotation:s,position:t,style:{textAlign:a[0],textVerticalAlign:a[1]}}},_renderYearText:function(e,t,n,i){var o=e.getModel("yearLabel");if(o.get("show")){var a=o.get("margin"),s=o.get("position");s||(s="horizontal"!==n?"top":"left");var l=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],u=(l[0][0]+l[1][0])/2,c=(l[0][1]+l[1][1])/2,d="horizontal"===n?0:1,h={top:[u,l[d][1]],bottom:[u,l[1-d][1]],left:[l[1-d][0],c],right:[l[d][0],c]},f=t.start.y;+t.end.y>+t.start.y&&(f=f+"-"+t.end.y);var p=o.get("formatter"),X=this._formatterLabel(p,{start:t.start.y,end:t.end.y,nameMap:f}),K=new ui({z2:30});$n(K.style,o,{text:X}),K.attr(this._yearTextPositionControl(K,h[s],n,s,a)),i.add(K)}},_monthTextPositionControl:function(e,t,n,i,o){var a="left",s="top",l=e[0],u=e[1];return"horizontal"===n?(u+=o,t&&(a="center"),"start"===i&&(s="bottom")):(l+=o,t&&(s="middle"),"start"===i&&(a="right")),{x:l,y:u,textAlign:a,textVerticalAlign:s}},_renderMonthText:function(e,t,n){var i=e.getModel("monthLabel");if(i.get("show")){var o=i.get("nameMap"),a=i.get("margin"),s=i.get("position"),l=i.get("align"),u=[this._tlpoints,this._blpoints];pe(o)&&(o=CN[o.toUpperCase()]||[]);var c="start"===s?0:1,d="horizontal"===t?0:1;a="start"===s?-a:a;for(var h="center"===l,f=0;f<u[c].length-1;f++){var p=u[c][f].slice(),D=this._firstDayOfMonth[f];h&&(p[d]=(this._firstDayPoints[f][d]+u[0][f+1][d])/2);var K=i.get("formatter"),oe=o[+D.m-1],ce={yyyy:D.y,yy:(D.y+"").slice(2),MM:D.m,M:+D.m,nameMap:oe},be=this._formatterLabel(K,ce),Be=new ui({z2:30});J($n(Be.style,i,{text:be}),this._monthTextPositionControl(p,h,t,s,a)),n.add(Be)}}},_weekTextPositionControl:function(e,t,n,i,o){var a="center",s="middle",l=e[0],u=e[1],c="start"===n;return"horizontal"===t?(l=l+i+(c?1:-1)*o[0]/2,a=c?"right":"left"):(u=u+i+(c?1:-1)*o[1]/2,s=c?"bottom":"top"),{x:l,y:u,textAlign:a,textVerticalAlign:s}},_renderWeekText:function(e,t,n,i){var o=e.getModel("dayLabel");if(o.get("show")){var a=e.coordinateSystem,s=o.get("position"),l=o.get("nameMap"),u=o.get("margin"),c=a.getFirstDayOfWeek();pe(l)&&(l=SN[l.toUpperCase()]||[]);var d=a.getNextNDay(t.end.time,7-t.lweek).time,h=[a.getCellWidth(),a.getCellHeight()];u=wn(u,h["horizontal"===n?0:1]),"start"===s&&(d=a.getNextNDay(t.start.time,-(7+t.fweek)).time,u=-u);for(var f=0;f<7;f++){var X,p=a.getNextNDay(d,f),D=a.dataToRect([p.time],!1).center;X=Math.abs((f+c)%7);var K=new ui({z2:30});J($n(K.style,o,{text:l[X]}),this._weekTextPositionControl(D,n,s,u,h)),i.add(K)}}}}),_r({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),er({type:"title",render:function(e,t,n){if(this.group.removeAll(),e.get("show")){var i=this.group,o=e.getModel("textStyle"),a=e.getModel("subtextStyle"),s=e.get("textAlign"),l=e.get("textBaseline"),u=new ui({style:$n({},o,{text:e.get("text"),textFill:o.getTextColor()},{disableBox:!0}),z2:10}),c=u.getBoundingRect(),d=e.get("subtext"),h=new ui({style:$n({},a,{text:d,textFill:a.getTextColor(),y:c.height+e.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),f=e.get("link"),p=e.get("sublink");u.silent=!f,h.silent=!p,f&&u.on("click",function(){window.open(f,"_"+e.get("target"))}),p&&h.on("click",function(){window.open(p,"_"+e.get("subtarget"))}),i.add(u),d&&i.add(h);var D=i.getBoundingRect(),X=e.getBoxLayoutParams();X.width=D.width,X.height=D.height;var K=Qi(X,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));s||("middle"===(s=e.get("left")||e.get("right"))&&(s="center"),"right"===s?K.x+=K.width:"center"===s&&(K.x+=K.width/2)),l||("center"===(l=e.get("top")||e.get("bottom"))&&(l="middle"),"bottom"===l?K.y+=K.height:"middle"===l&&(K.y+=K.height/2),l=l||"top"),i.attr("position",[K.x,K.y]);var oe={textAlign:s,textVerticalAlign:l};u.setStyle(oe),h.setStyle(oe),D=i.getBoundingRect();var ce=K.margin,be=e.getItemStyle(["color","opacity"]);be.fill=e.get("backgroundColor");var Be=new Ti({shape:{x:D.x-ce[3],y:D.y-ce[0],width:D.width+ce[1]+ce[3],height:D.height+ce[0]+ce[2],r:e.get("borderRadius")},style:be,silent:!0});St(Be),i.add(Be)}}}),hi.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var MN=["cartesian2d","polar","singleAxis"],aw=function(e,t){var n=y(e=e.slice(),nc),i=y(t=(t||[]).slice(),nc);return function(o,a){m(e,function(s,l){for(var u={name:s,capital:n[l]},c=0;c<t.length;c++)u[t[c]]=s+i[c];o.call(a,u)})}}(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]),Lo=m,sw=ba,cm=function(e,t,n,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=n};cm.prototype={constructor:cm,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var e=[],t=this.ecModel;return t.eachSeries(function(n){if(function(e){return A(MN,e)>=0}(n.get("coordinateSystem"))){var i=this._dimName,o=t.queryComponents({mainType:i+"Axis",index:n.get(i+"AxisIndex"),id:n.get(i+"AxisId")})[0];this._axisIndex===(o&&o.componentIndex)&&e.push(n)}},this),e},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e,t,a,n=this._dimName,i=this.ecModel,o=this.getAxisModel();return"x"===n||"y"===n?(t="gridIndex",e="x"===n?"y":"x"):(t="polarIndex",e="angle"===n?"radius":"angle"),i.eachComponent(e+"Axis",function(s){(s.get(t)||0)===(o.get(t)||0)&&(a=s)}),a},getMinMaxSpan:function(){return Bt(this._minMaxSpan)},calculateDataWindow:function(e){var t=this._dataExtent,n=this.getAxisModel().axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],a=[e.start,e.end],s=[];return Lo(["startValue","endValue"],function(l){s.push(null!=e[l]?n.parse(e[l]):null)}),Lo([0,1],function(l){var u=s[l],c=a[l];"percent"===i[l]?(null==c&&(c=o[l]),u=n.parse(ji(c,o,t,!0))):c=ji(u,t,o,!0),s[l]=u,a[l]=c}),{valueWindow:sw(s),percentWindow:sw(a)}},reset:function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function(e,t,n){var i=[1/0,-1/0];return Lo(n,function(o){var a=o.getData();a&&Lo(a.mapDimension(t,!0),function(s){var l=a.getApproximateExtent(s);l[0]<i[0]&&(i[0]=l[0]),l[1]>i[1]&&(i[1]=l[1])})}),i[1]<i[0]&&(i=[NaN,NaN]),function(e,t){var n=e.getAxisModel(),i=n.getMin(!0),o="category"===n.get("type"),a=o&&n.getCategories().length;null!=i&&"dataMin"!==i&&"function"!=typeof i?t[0]=i:o&&(t[0]=a>0?0:NaN);var s=n.getMax(!0);null!=s&&"dataMax"!==s&&"function"!=typeof s?t[1]=s:o&&(t[1]=a>0?a-1:NaN),n.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0))}(e,i),i}(this,this._dimName,t),this.hasSeriesStacked=!1,Lo(t,function(i){var o=i.getData(),a=o.mapDimension(this._dimName);o.isStacked(a)&&(this.hasSeriesStacked=!0)},this);var n=this.calculateDataWindow(e.option);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,function(e){var t=e._minMaxSpan={},n=e._dataZoomModel;Lo(["min","max"],function(i){t[i+"Span"]=n.get(i+"Span");var o=n.get(i+"ValueSpan");if(null!=o&&(t[i+"ValueSpan"]=o,null!=(o=e.getAxisModel().axis.scale.parse(o)))){var a=e._dataExtent;t[i+"Span"]=ji(a[0]+o,a,[0,100],!0)}})}(this),W1(this)}},restore:function(e){e===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,W1(this,!0))},filterData:function(e,t){if(e===this._dataZoomModel){var i=this._dimName,o=this.getTargetSeriesModels(),a=e.get("filterMode"),s=this._valueWindow;if("none"!==a){var l=this.getOtherAxisModel();e.get("$fromToolbox")&&l&&l.hasSeriesStacked&&(a="empty"),Lo(o,function(u){var c=u.getData(),d=c.mapDimension(i,!0);"weakFilter"===a?c.filterSelf(function(h){for(var f,p,D,X=0;X<d.length;X++){var K=c.get(d[X],h),oe=!isNaN(K),ce=K<s[0],be=K>s[1];if(oe&&!ce&&!be)return!0;oe&&(D=!0),ce&&(f=!0),be&&(p=!0)}return D&&f&&p}):Lo(d,function(h){if("empty"===a)u.setData(c.map(h,function(p){return function(u){return u>=s[0]&&u<=s[1]}(p)?p:NaN}));else{var f={};f[h]=s,c.selectRange(f)}}),Lo(d,function(h){c.setApproximateExtent(s,h)})})}}}};var pl=m,es=aw,dm=_r({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(e,t,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var i=G1(e);this.mergeDefaultAndTheme(e,n),this.doInit(i)},mergeOption:function(e){var t=G1(e);he(this.option,e,!0),this.doInit(t)},doInit:function(e){var t=this.option;li.canvasSupported||(t.realtime=!1),this._setDefaultThrottle(e),U1(this,e),pl([["start","startValue"],["end","endValue"]],function(n,i){"value"===this._rangePropMode[i]&&(t[n[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(t,n,i,o){var a=this.dependentModels[t.axis][n],s=a.__dzAxisProxy||(a.__dzAxisProxy=new cm(t.name,n,this,o));e[t.name+"_"+n]=s},this)},_resetTarget:function(){var e=this.option,t=this._judgeAutoMode();es(function(n){var i=n.axisIndex;e[i]=z(e[i])},this),"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,t=!1;es(function(i){null!=e[i.axisIndex]&&(t=!0)},this);var n=e.orient;return null==n&&t?"orient":t?void 0:(null==n&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var e=!0,t=this.get("orient",!0),n=this.option,i=this.dependentModels;if(e){var o="vertical"===t?"y":"x";i[o+"Axis"].length?(n[o+"AxisIndex"]=[0],e=!1):pl(i.singleAxis,function(a){e&&a.get("orient",!0)===t&&(n.singleAxisIndex=[a.componentIndex],e=!1)})}e&&es(function(a){if(e){var s=[],l=this.dependentModels[a.axis];if(l.length&&!s.length)for(var u=0,c=l.length;u<c;u++)"category"===l[u].get("type")&&s.push(u);n[a.axisIndex]=s,s.length&&(e=!1)}},this),e&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&es(function(s){var l=n[s.axisIndex],u=a.get(s.axisIndex),c=a.get(s.axisId);A(l,u=a.ecModel.queryComponents({mainType:s.axis,index:u,id:c})[0].componentIndex)<0&&l.push(u)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){!e&&(e=t.name)},this),this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(e,t){var n=!0;return es(function(i){var o=e.get(i.axisIndex),a=this.dependentModels[i.axis][o];a&&a.get("type")===t||(n=!1)},this),n},_setDefaultThrottle:function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var e;return es(function(t){if(null==e){var n=this.get(t.axisIndex);n.length&&(e=this.dependentModels[t.axis][n[0]])}},this),e},eachTargetAxis:function(e,t){var n=this.ecModel;es(function(i){pl(this.get(i.axisIndex),function(o){e.call(t,i,o,this,n)},this)},this)},getAxisProxy:function(e,t){return this._axisProxies[e+"_"+t]},getAxisModel:function(e,t){var n=this.getAxisProxy(e,t);return n&&n.getAxisModel()},setRawRange:function(e,t){var n=this.option;pl([["start","startValue"],["end","endValue"]],function(i){null==e[i[0]]&&null==e[i[1]]||(n[i[0]]=e[i[0]],n[i[1]]=e[i[1]])},this),!t&&U1(this,e)},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},getValueRange:function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(e){if(e)return e.__dzAxisProxy;var t=this._axisProxies;for(var n in t)if(t.hasOwnProperty(n)&&t[n].hostedBy(this))return t[n];for(var n in t)if(t.hasOwnProperty(n)&&!t[n].hostedBy(this))return t[n]},getRangePropMode:function(){return this._rangePropMode.slice()}}),hm=No.extend({type:"dataZoom",render:function(e,t,n,i){this.dataZoomModel=e,this.ecModel=t,this.api=n},getTargetCoordInfo:function(){var n=this.ecModel,i={};return this.dataZoomModel.eachTargetAxis(function(o,a){var s=n.getComponent(o.axis,a);if(s){var l=s.getCoordSysModel();l&&function(o,a,s,l){for(var u,c=0;c<s.length;c++)if(s[c].model===o){u=s[c];break}u||s.push(u={model:o,axisModels:[],coordIndex:l}),u.axisModels.push(a)}(l,s,i[l.mainType]||(i[l.mainType]=[]),l.componentIndex)}},this),i}}),hh=(dm.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),Ti),ts=ji,fm=ba,Eo=re,pm=m,Lu="horizontal",kN=["line","bar","candlestick","scatter"],gm=hm.extend({type:"dataZoom.slider",init:function(e,t){this._displayables={},this.api=t},render:function(e,t,n,i){gm.superApply(this,"render",arguments),El(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=e.get("orient"),!1!==this.dataZoomModel.get("show")?(i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){gm.superApply(this,"remove",arguments),mv(this,"_dispatchZoomAction")},dispose:function(){gm.superApply(this,"dispose",arguments),mv(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll(),this._resetLocation(),this._resetInterval();var t=this._displayables.barGroup=new Ln;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},_resetLocation:function(){var e=this.dataZoomModel,t=this.api,n=this._findCoordRect(),i={width:t.getWidth(),height:t.getHeight()},o=this._orient===Lu?{right:i.width-n.x-n.width,top:i.height-30-7,width:n.width,height:30}:{right:7,top:n.y,width:30,height:n.height},a=Ts(e.option);m(["right","top","width","height"],function(l){"ph"===a[l]&&(a[l]=o[l])});var s=Qi(a,i,e.padding);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var e=this.group,t=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),o=i&&i.get("inverse"),a=this._displayables.barGroup,s=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(n!==Lu||o?n===Lu&&o?{scale:s?[-1,1]:[-1,-1]}:"vertical"!==n||o?{scale:s?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:s?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:s?[1,1]:[1,-1]});var l=e.getBoundingRect([a]);e.attr("position",[t.x-l.x,t.y-l.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this._size,n=this._displayables.barGroup;n.add(new hh({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40})),n.add(new hh({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:re(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(e){var t=this._size,n=e.series,i=n.getRawData(),o=n.getShadowDim?n.getShadowDim():e.otherDim;if(null!=o){var a=i.getDataExtent(o),s=.3*(a[1]-a[0]);a=[a[0]-s,a[1]+s];var l,u=[0,t[1]],d=[[t[0],0],[0,0]],h=[],f=t[0]/(i.count()-1),p=0,D=Math.round(i.count()/t[0]);i.each([o],function(K,oe){if(D>0&&oe%D)p+=f;else{var ce=null==K||isNaN(K)||""===K,be=ce?0:ts(K,a,u,!0);ce&&!l&&oe?(d.push([d[d.length-1][0],0]),h.push([h[h.length-1][0],0])):!ce&&l&&(d.push([p,0]),h.push([p,0])),d.push([p,be]),h.push([p,be]),p+=f,l=ce}});var X=this.dataZoomModel;this._displayables.barGroup.add(new qr({shape:{points:d},style:ne({fill:X.get("dataBackgroundColor")},X.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new ho({shape:{points:h},style:X.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var n,i=this.ecModel;return e.eachTargetAxis(function(o,a){m(e.getAxisProxy(o.name,a).getTargetSeriesModels(),function(s){if(!(n||!0!==t&&A(kN,s.get("type"))<0)){var l,u=i.getComponent(o.axis,a).axis,c=function(e){return{x:"y",y:"x",radius:"angle",angle:"radius"}[e]}(o.name),d=s.coordinateSystem;null!=c&&d.getOtherAxis&&(l=d.getOtherAxis(u).inverse),c=s.getData().mapDimension(c),n={thisAxis:u,series:s,thisDim:o.name,otherDim:c,otherAxisInverse:l}}},this)},this),n}},_renderHandle:function(){var e=this._displayables,t=e.handles=[],n=e.handleLabels=[],i=this._displayables.barGroup,o=this._size,a=this.dataZoomModel;i.add(e.filler=new hh({draggable:!0,cursor:j1(this._orient),drift:Eo(this._onDragMove,this,"all"),onmousemove:function(s){qo(s.event)},ondragstart:Eo(this._showDataInfo,this,!0),ondragend:Eo(this._onDragEnd,this),onmouseover:Eo(this._showDataInfo,this,!0),onmouseout:Eo(this._showDataInfo,this,!1),style:{fill:a.get("fillerColor"),textPosition:"inside"}})),i.add(new hh(St({silent:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}))),pm([0,1],function(s){var l=Dl(a.get("handleIcon"),{cursor:j1(this._orient),draggable:!0,drift:Eo(this._onDragMove,this,s),onmousemove:function(h){qo(h.event)},ondragend:Eo(this._onDragEnd,this),onmouseover:Eo(this._showDataInfo,this,!0),onmouseout:Eo(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),u=l.getBoundingRect();this._handleHeight=wn(a.get("handleSize"),this._size[1]),this._handleWidth=u.width/u.height*this._handleHeight,l.setStyle(a.getModel("handleStyle").getItemStyle());var c=a.get("handleColor");null!=c&&(l.style.fill=c),i.add(t[s]=l);var d=a.textStyleModel;this.group.add(n[s]=new ui({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:d.getTextColor(),textFont:d.getFont()},z2:10}))},this)},_resetInterval:function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[ts(e[0],[0,100],t,!0),ts(e[1],[0,100],t,!0)]},_updateInterval:function(e,t){var n=this.dataZoomModel,i=this._handleEnds,o=this._getViewExtent(),a=n.findRepresentativeAxisProxy().getMinMaxSpan(),s=[0,100];cl(t,i,o,n.get("zoomLock")?"all":e,null!=a.minSpan?ts(a.minSpan,s,o,!0):null,null!=a.maxSpan?ts(a.maxSpan,s,o,!0):null),this._range=fm([ts(i[0],o,s,!0),ts(i[1],o,s,!0)])},_updateView:function(e){var t=this._displayables,n=this._handleEnds,i=fm(n.slice()),o=this._size;pm([0,1],function(a){var l=this._handleHeight;t.handles[a].attr({scale:[l/2,l/2],position:[n[a],o[1]/2-l/2]})},this),t.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:o[1]}),this._updateDataInfo(e)},_updateDataInfo:function(e){function t(f){var p=xa(i.handles[f].parent,this.group),D=Sh(0===f?"right":"left",p),X=this._handleWidth/2+5,K=io([h[f]+(0===f?-X:X),this._size[1]/2],p);o[f].setStyle({x:K[0],y:K[1],textVerticalAlign:a===Lu?"middle":D,textAlign:a===Lu?D:"center",text:s[f]})}var n=this.dataZoomModel,i=this._displayables,o=i.handleLabels,a=this._orient,s=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,d=e?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(d[0],u),this._formatLabel(d[1],u)]}}var h=fm(this._handleEnds.slice());t.call(this,0),t.call(this,1)},_formatLabel:function(e,t){var n=this.dataZoomModel,i=n.get("labelFormatter"),o=n.get("labelPrecision");null!=o&&"auto"!==o||(o=t.getPixelPrecision());var a=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel(Math.round(e)):e.toFixed(Math.min(o,20));return fe(i)?i(e,a):pe(i)?i.replace("{value}",a):a},_showDataInfo:function(e){var t=this._displayables.handleLabels;t[0].attr("invisible",!(e=this._dragging||e)),t[1].attr("invisible",!e)},_onDragMove:function(e,t,n){this._dragging=!0;var i=io([t,n],this._displayables.barGroup.getLocalTransform(),!0);this._updateInterval(e,i[0]);var o=this.dataZoomModel.get("realtime");this._updateView(!o),o&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(e){var t=this._size,n=this._displayables.barGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>t[0]||n[1]<0||n[1]>t[1])){var i=this._handleEnds;this._updateInterval("all",n[0]-(i[0]+i[1])/2),this._updateView(),this._dispatchZoomAction()}},_dispatchZoomAction:function(){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:e[0],end:e[1]})},_findCoordRect:function(){var e;if(pm(this.getTargetCoordInfo(),function(i){if(!e&&i.length){var o=i[0].model.coordinateSystem;e=o.getRect&&o.getRect()}}),!e){var t=this.api.getWidth(),n=this.api.getHeight();e={x:.2*t,y:.2*n,width:.6*t,height:.6*n}}return e}});dm.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});var lw=Q,uw="\0_ec_dataZoom_roams",cw=re,dw=hm.extend({type:"dataZoom.inside",init:function(e,t){},render:function(e,t,n,i){dw.superApply(this,"render",arguments),zT(i,e.id)&&(this._range=e.getPercentRange()),m(this.getTargetCoordInfo(),function(o,a){var s=y(o,function(l){return q1(l.model)});m(o,function(l){var u=l.model,c=e.option;BT(n,{coordId:q1(u),allCoordIds:s,containsPoint:function(d,h,f){return u.coordinateSystem.containPoint([h,f])},dataZoomId:e.id,throttleRate:e.get("throttle",!0),panGetRange:cw(this._onPan,this,l,a),zoomGetRange:cw(this._onZoom,this,l,a),zoomLock:c.zoomLock,disabled:c.disabled,roamControllerOpt:{zoomOnMouseWheel:c.zoomOnMouseWheel,moveOnMouseMove:c.moveOnMouseMove,preventDefaultMouseMove:c.preventDefaultMouseMove}})},this)},this)},dispose:function(){OT(this.api,this.dataZoomModel.id),dw.superApply(this,"dispose",arguments),this._range=null},_onPan:function(e,t,n,i,o,a,s,l,u){var c=this._range.slice(),d=e.axisModels[0];if(d){var h=hw[t]([a,s],[l,u],d,n,e);return cl(h.signal*(c[1]-c[0])*h.pixel/h.pixelLength,c,[0,100],"all"),this._range=c}},_onZoom:function(e,t,n,i,o,a){var s=this._range.slice(),l=e.axisModels[0];if(l){var u=hw[t](null,[o,a],l,n,e),c=(u.signal>0?u.pixelStart+u.pixelLength-u.pixel:u.pixel-u.pixelStart)/u.pixelLength*(s[1]-s[0])+s[0];i=Math.max(1/i,0),s[0]=(s[0]-c)*i+c,s[1]=(s[1]-c)*i+c;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return cl(0,s,[0,100],0,d.minSpan,d.maxSpan),this._range=s}}}),hw={grid:function(e,t,n,i,o){var a=n.axis,s={},l=o.model.coordinateSystem.getRect();return e=e||[0,0],"x"===a.dim?(s.pixel=t[0]-e[0],s.pixelLength=l.width,s.pixelStart=l.x,s.signal=a.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=l.height,s.pixelStart=l.y,s.signal=a.inverse?-1:1),s},polar:function(e,t,n,i,o){var a=n.axis,s={},l=o.model.coordinateSystem,u=l.getRadiusAxis().getExtent(),c=l.getAngleAxis().getExtent();return e=e?l.pointToCoord(e):[0,0],t=l.pointToCoord(t),"radiusAxis"===n.mainType?(s.pixel=t[0]-e[0],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=a.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=c[1]-c[0],s.pixelStart=c[0],s.signal=a.inverse?-1:1),s},singleAxis:function(e,t,n,i,o){var a=n.axis,s=o.model.coordinateSystem.getRect(),l={};return e=e||[0,0],"horizontal"===a.orient?(l.pixel=t[0]-e[0],l.pixelLength=s.width,l.pixelStart=s.x,l.signal=a.inverse?1:-1):(l.pixel=t[1]-e[1],l.pixelLength=s.height,l.pixelStart=s.y,l.signal=a.inverse?-1:1),l}};Wr({getTargetSeries:function(e){var t=tt();return e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(i,o,a){m(a.getAxisProxy(i.name,o).getTargetSeriesModels(),function(s){t.set(s.uid,s)})})}),t},isOverallFilter:!0,overallReset:function(e,t){e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(i,o,a){a.getAxisProxy(i.name,o).reset(a,t)}),n.eachTargetAxis(function(i,o,a){a.getAxisProxy(i.name,o).filterData(a,t)})}),e.eachComponent("dataZoom",function(n){var i=n.findRepresentativeAxisProxy(),o=i.getDataPercentWindow(),a=i.getDataValueWindow();n.setRawRange({start:o[0],end:o[1],startValue:a[0],endValue:a[1]},!0)})}}),yi("dataZoom",function(e,t){var n=function(e,t,n){function i(s,l){return A(l.nodes,s)>=0}function o(s,l){var u=!1;return t(function(c){m(n(s,c)||[],function(d){l.records[c.name][d]&&(u=!0)})}),u}function a(s,l){l.nodes.push(s),t(function(u){m(n(s,u)||[],function(c){l.records[u.name][c]=!0})})}return function(s){var u,l={nodes:[],records:{}};if(t(function(c){l.records[c.name]={}}),!s)return l;a(s,l);do{u=!1,e(function(c){!i(c,l)&&o(c,l)&&(a(c,l),u=!0)})}while(u);return l}}(re(t.eachComponent,t,"dataZoom"),aw,function(o,a){return o.get(a.axisIndex)}),i=[];t.eachComponent({mainType:"dataZoom",query:e},function(o,a){i.push.apply(i,n(o).nodes)}),m(i,function(o,a){o.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})});var fw=m,pw=function(e){var t=e&&e.visualMap;$(t)||(t=t?[t]:[]),fw(t,function(n){if(n){Hs(n,"splitList")&&!Hs(n,"pieces")&&(n.pieces=n.splitList,delete n.splitList);var i=n.pieces;i&&$(i)&&fw(i,function(o){Ce(o)&&(Hs(o,"start")&&!Hs(o,"min")&&(o.min=o.start),Hs(o,"end")&&!Hs(o,"max")&&(o.max=o.end))})}})};hi.registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"});var gw=el.VISUAL.COMPONENT;Di(gw,{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",function(i){i.isTargetSeries(e)&&n.push(function(e,t,n,i){var o={};return m(e,function(a){var s=wi.prepareVisualTypes(t[a]);o[a]=s}),{progress:function(a,s){null!=i&&(i=s.getDimension(i));for(var l=a.start;l<a.end;l++){var u=s.getRawDataItem(l);if(u&&!1===u.visualMap)return;for(var c=null!=i?s.get(i,l,!0):l,d=n(c),h=t[d],f=o[d],p=0,D=f.length;p<D;p++){var X=f[p];h[X]&&h[X].applyVisual(c,function(K){return s.getItemVisual(l,K)},function(K,oe){s.setItemVisual(l,K,oe)})}}}}}(i.stateList,i.targetVisuals,re(i.getValueState,i),i.getDataDimension(e.getData())))}),n}}),Di(gw,{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),i=[];t.eachComponent("visualMap",function(o){if(o.isTargetSeries(e)){var a=o.getVisualMeta(re(UT,null,e,o))||{stops:[],outerColors:[]},s=o.getDataDimension(n),l=n.getDimensionInfo(s);null!=l&&(a.dimension=l.index,i.push(a))}}),e.getData().setVisual("visualMeta",i)}});var mm_get=function(e,t,n){var i=Bt((AN[e]||{})[t]);return n&&$(i)?i[i.length-1]:i},AN={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},mw=wi.mapVisual,IN=wi.eachVisual,DN=$,vm=m,NN=ba,PN=ji,fh=_r({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,n){this.targetVisuals={},this.controllerVisuals={},this.mergeDefaultAndTheme(e,n)},optionUpdated:function(e,t){var n=this.option;li.canvasSupported||(n.realtime=!1),!t&&A1(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=re(e,this),this.controllerVisuals=fp(this.option.controller,t,e),this.targetVisuals=fp(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries(function(n,i){t.push(i)}):t=z(e),t},eachTargetSeries:function(e,t){m(this.getTargetSeriesIndices(),function(n){e.call(t,this.ecModel.getSeriesByIndex(n))},this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries(function(n){n===e&&(t=!0)}),t},formatValueText:function(e,t,n){function i(d){return d===u[0]?"min":d===u[1]?"max":(+d).toFixed(Math.min(l,20))}var o,a,s=this.option,l=s.precision,u=this.dataBound,c=s.formatter;return n=n||["<",">"],$(e)&&(e=e.slice(),o=!0),a=t?e:o?[i(e[0]),i(e[1])]:i(e),pe(c)?c.replace("{value}",o?a[0]:a).replace("{value2}",o?a[1]:a):fe(c)?o?c(e[0],e[1]):c(e):o?e[0]===u[0]?n[0]+" "+a[1]:e[1]===u[1]?n[1]+" "+a[0]:a[0]+" - "+a[1]:a},resetExtent:function(){var e=this.option,t=NN([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension,n=e.dimensions;if(null!=t||n.length)return e.getDimension(null!=t?t:n.length-1)},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function e(l){DN(n.color)&&!l.inRange&&(l.inRange={color:n.color.slice().reverse()}),l.inRange=l.inRange||{color:t.get("gradientColor")},vm(this.stateList,function(u){var c=l[u];if(pe(c)){var d=mm_get(c,"active",s);d?(l[u]={},l[u][c]=d):delete l[u]}},this)}var t=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},o=n.target||(n.target={}),a=n.controller||(n.controller={});he(o,i),he(a,i);var s=this.isCategory();e.call(this,o),e.call(this,a),function(l,u,c){var d=l[u],h=l[c];d&&!h&&(h=l[c]={},vm(d,function(f,p){if(wi.isValidType(p)){var D=mm_get(p,"inactive",s);null!=D&&(h[p]=D,"color"!==p||h.hasOwnProperty("opacity")||h.hasOwnProperty("colorAlpha")||(h.opacity=[0,0]))}}))}.call(this,o,"inRange","outOfRange"),function(l){var u=(l.inRange||{}).symbol||(l.outOfRange||{}).symbol,c=(l.inRange||{}).symbolSize||(l.outOfRange||{}).symbolSize,d=this.get("inactiveColor");vm(this.stateList,function(h){var f=this.itemSize,p=l[h];p||(p=l[h]={color:s?d:[d]}),null==p.symbol&&(p.symbol=u&&Bt(u)||(s?"roundRect":["roundRect"])),null==p.symbolSize&&(p.symbolSize=c&&Bt(c)||(s?f[0]:[f[0],f[0]])),p.symbol=mw(p.symbol,function(K){return"none"===K||"square"===K?"roundRect":K});var D=p.symbolSize;if(null!=D){var X=-1/0;IN(D,function(K){K>X&&(X=K)}),p.symbolSize=mw(D,function(K){return PN(K,[0,X],[0,f[0]],!0)})}},this)}.call(this,a)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:It,getValueState:It,getVisualMeta:It}),vw=[20,140],yw=fh.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,t){yw.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(n){n.mappingMethod="linear",n.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){yw.superApply(this,"resetItemSize",arguments);var e=this.itemSize;"horizontal"===this._orient&&e.reverse(),(null==e[0]||isNaN(e[0]))&&(e[0]=vw[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=vw[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):$(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){fh.prototype.completeVisualOption.apply(this,arguments),m(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=ba((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var i=[],o=n.getData();o.each(this.getDataDimension(o),function(a,s){e[0]<=a&&a<=e[1]&&i.push(s)},!0,this),t.push({seriesId:n.id,dataIndex:i})},this),t},getVisualMeta:function(e){function t(h,f){o.push({value:h,color:e(h,f)})}for(var n=$1(0,0,this.getExtent()),i=$1(0,0,this.option.range.slice()),o=[],a=0,s=0,l=i.length,u=n.length;s<u&&(!i.length||n[s]<=i[0]);s++)n[s]<i[a]&&t(n[s],"outOfRange");for(c=1;a<l;a++,c=0)c&&o.length&&t(i[a],"outOfRange"),t(i[a],"inRange");for(var c=1;s<u;s++)(!i.length||i[i.length-1]<n[s])&&(c&&(o.length&&t(o[o.length-1].value,"outOfRange"),c=0),t(n[s],"outOfRange"));var d=o.length;return{stops:o,outerColors:[d?o[0].color:"transparent",d?o[d-1].color:"transparent"]}}}),xw=er({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t},render:function(e,t,n,i){this.visualMapModel=e,!1!==e.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(e){var t=this.visualMapModel,n=za(t.get("padding")||0),i=e.getBoundingRect();e.add(new Ti({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,n){function i(d){return l[d]}function o(d,h){l[d]=h}var a=(n=n||{}).forceState,s=this.visualMapModel,l={};if("symbol"===t&&(l.symbol=s.get("itemSymbol")),"color"===t){var u=s.get("contentColor");l.color=u}var c=s.controllerVisuals[a||s.getValueState(e)];return m(wi.prepareVisualTypes(c),function(d){var h=c[d];n.convertOpacityToAlpha&&"opacity"===d&&(d="colorAlpha",h=c.__alphaForOpacity),wi.dependsOn(d,t)&&h&&h.applyVisual(e,i,o)}),l[t]},positionGroup:function(e){var n=this.api;ic(e,this.visualMapModel.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:It}),Ro=ji,LN=m,ph=Math.min,Eu=Math.max,RN=xw.extend({type:"visualMap.continuous",init:function(){RN.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._hoverLinkDataIndices=[]},doRender:function(e,t,n,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,n){if(t){var i=t[1-n];i=null!=i?i+"":"";var o=this.visualMapModel,a=o.get("textGap"),s=o.itemSize,l=this._shapes.barGroup,u=this._applyTransform([s[0]/2,0===n?-a:s[1]+a],l),c=this._applyTransform(0===n?"bottom":"top",l),d=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new ui({style:{x:u[0],y:u[1],textVerticalAlign:"horizontal"===d?"middle":c,textAlign:"horizontal"===d?c:"center",text:i,textFont:h.getFont(),textFill:h.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,n=this._shapes,i=t.itemSize,o=this._orient,a=this._useHandle,s=K1(t,this.api,i),l=n.barGroup=this._createBarGroup(s);l.add(n.outOfRange=Hc()),l.add(n.inRange=Hc(null,a?Q1(this._orient):null,re(this._dragHandle,this,"all",!1),re(this._dragHandle,this,"all",!0)));var u=t.textStyleModel.getTextRect("\u56fd"),c=Eu(u.width,u.height);a&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(l,0,i,c,o,s),this._createHandle(l,1,i,c,o,s)),this._createIndicator(l,i,c,o),e.add(l)},_createHandle:function(e,t,n,i,o){var a=re(this._dragHandle,this,t,!1),s=re(this._dragHandle,this,t,!0),l=Hc(function(e,t){return 0===e?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}(t,i),Q1(this._orient),a,s);l.position[0]=n[0],e.add(l);var u=this.visualMapModel.textStyleModel,c=new ui({draggable:!0,drift:a,onmousemove:function(f){qo(f.event)},ondragend:s,style:{x:0,y:0,text:"",textFont:u.getFont(),textFill:u.getTextColor()}});this.group.add(c);var d=["horizontal"===o?i/2:1.5*i,"horizontal"===o?0===t?-1.5*i:1.5*i:0===t?-i/2:i/2],h=this._shapes;h.handleThumbs[t]=l,h.handleLabelPoints[t]=d,h.handleLabels[t]=c},_createIndicator:function(e,t,n,i){var o=Hc([[0,0]],"move");o.position[0]=t[0],o.attr({invisible:!0,silent:!0}),e.add(o);var a=this.visualMapModel.textStyleModel,s=new ui({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:a.getFont(),textFill:a.getTextColor()}});this.group.add(s);var l=["horizontal"===i?n/2:9,0],u=this._shapes;u.indicator=o,u.indicatorLabel=s,u.indicatorLabelPoint=l},_dragHandle:function(e,t,n,i){if(this._useHandle){if(this._dragging=!t,!t){var o=this._applyTransform([n,i],this._shapes.barGroup,!0);this._updateInterval(e,o[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():J1(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),i=[0,e.itemSize[1]];this._handleEnds=[Ro(t[0],n,i,!0),Ro(t[1],n,i,!0)]},_updateInterval:function(e,t){var n=this.visualMapModel,i=this._handleEnds,o=[0,n.itemSize[1]];cl(t=t||0,i,o,e,0);var a=n.getExtent();this._dataInterval=[Ro(i[0],o,a,!0),Ro(i[1],o,a,!0)]},_updateView:function(e){var t=this.visualMapModel,n=t.getExtent(),i=this._shapes,o=[0,t.itemSize[1]],a=e?o:this._handleEnds,s=this._createBarVisual(this._dataInterval,n,a,"inRange"),l=this._createBarVisual(n,n,o,"outOfRange");i.inRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),i.outOfRange.setStyle({fill:l.barColor,opacity:l.opacity}).setShape("points",l.barPoints),this._updateHandle(a,s)},_createBarVisual:function(e,t,n,i){var o={forceState:i,convertOpacityToAlpha:!0},a=this._makeColorGradient(e,o),s=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],l=this._createBarPoints(n,s);return{barColor:new Ks(0,0,0,1,a),barPoints:l,handlesColor:[a[0].color,a[a.length-1].color]}},_makeColorGradient:function(e,t){var n=[],i=(e[1]-e[0])/100;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var o=1;o<100;o++){var a=e[0]+i*o;if(a>e[1])break;n.push({color:this.getControllerVisual(a,"color",t),offset:o/100})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},_createBarPoints:function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new Ln("horizontal"!==t||n?"horizontal"===t&&n?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||n?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,o=n.handleThumbs,a=n.handleLabels;LN([0,1],function(s){var l=o[s];l.setStyle("fill",t.handlesColor[s]),l.position[1]=e[s];var u=io(n.handleLabelPoints[s],xa(l,this.group));a[s].setStyle({x:u[0],y:u[1],text:i.formatValueText(this._dataInterval[s]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===s?"bottom":"top":"left",n.barGroup)})},this)}},_showIndicator:function(e,t,n,i){var o=this.visualMapModel,a=o.getExtent(),s=o.itemSize,u=Ro(e,a,[0,s[1]],!0),c=this._shapes,d=c.indicator;if(d){d.position[1]=u,d.attr("invisible",!1),d.setShape("points",function(e,t,n,i){return e?[[0,-ph(t,Eu(n,0))],[6,0],[0,ph(t,Eu(i-n,0))]]:[[0,0],[5,-5],[5,5]]}(!!n,i,u,s[1]));var f=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0});d.setStyle("fill",f);var p=io(c.indicatorLabelPoint,xa(d,this.group)),D=c.indicatorLabel;D.attr("invisible",!1);var X=this._applyTransform("left",c.barGroup),K=this._orient;D.setStyle({text:(n||"")+o.formatValueText(t),textVerticalAlign:"horizontal"===K?X:"middle",textAlign:"horizontal"===K?"center":X,x:p[0],y:p[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,i=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);i[1]=ph(Eu(0,i[1]),n[1]),e._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var n=this.visualMapModel;if(n.option.hoverLink){var o=[0,n.itemSize[1]],a=n.getExtent();e=ph(Eu(o[0],e),o[1]);var s=function(e,t,n){var i=6,o=e.get("hoverLinkDataSize");return o&&(i=Ro(o,t,n,!0)/2),i}(n,a,o),l=[e-s,e+s],u=Ro(e,o,a,!0),c=[Ro(l[0],o,a,!0),Ro(l[1],o,a,!0)];l[0]<o[0]&&(c[0]=-1/0),l[1]>o[1]&&(c[1]=1/0),t&&(c[0]===-1/0?this._showIndicator(u,c[1],"< ",s):c[1]===1/0?this._showIndicator(u,c[0],"> ",s):this._showIndicator(u,u,"\u2248 ",s));var d=this._hoverLinkDataIndices,h=[];(t||J1(n))&&(h=this._hoverLinkDataIndices=n.findTargetDataIndices(c));var f=function(e,t){function n(s,l,u){for(var c=0,d=s.length;c<d;c++)for(var h=s[c].seriesId,f=z(s[c].dataIndex),p=u&&u[h],D=0,X=f.length;D<X;D++){var K=f[D];p&&p[K]?p[K]=null:(l[h]||(l[h]={}))[K]=1}}function i(s,l){var u=[];for(var c in s)if(s.hasOwnProperty(c)&&null!=s[c])if(l)u.push(+c);else{var d=i(s[c],!0);d.length&&u.push({seriesId:c,dataIndex:d})}return u}var o={},a={};return n(e||[],o),n(t||[],a,o),[i(o),i(a)]}(d,h);this._dispatchHighDown("downplay",Fc(f[0])),this._dispatchHighDown("highlight",Fc(f[1]))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,n=this.visualMapModel;if(t&&null!=t.dataIndex){var i=this.ecModel.getSeriesByIndex(t.seriesIndex);if(n.isTargetSeries(i)){var o=i.getData(t.dataType),a=o.get(n.getDataDimension(o),t.dataIndex,!0);isNaN(a)||this._showIndicator(a,a)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Fc(e)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,n,i){var o=xa(t,i?null:this.group);return Jr[$(e)?"applyTransform":"transformDirection"](e,o,n)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});yi({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(n){n.setSelected(e.selected)})}),cr(pw);var BN=fh.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){BN.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();ON[this._mode].call(this),this._resetSelected(e,t);var i=this.option.categories;this.resetVisual(function(o,a){"categories"===n?(o.mappingMethod="category",o.categories=Bt(i)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=y(this._pieceList,function(s){return s=Bt(s),"inRange"!==a&&(s.visual=null),s}))})},completeVisualOption:function(){function e(a,s,l){return a&&a[s]&&(Ce(a[s])?a[s].hasOwnProperty(l):a[s]===l)}var t=this.option,n={},i=wi.listVisualTypes(),o=this.isCategory();m(t.pieces,function(a){m(i,function(s){a.hasOwnProperty(s)&&(n[s]=1)})}),m(n,function(a,s){var l=0;m(this.stateList,function(u){l|=e(t,u,s)||e(t.target,u,s)},this),!l&&m(this.stateList,function(u){(t[u]||(t[u]={}))[s]=mm_get(s,"inRange"===u?"active":"inactive",o)})},this),fh.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var n=this.option,i=this._pieceList,o=(t?n:e).selected||{};if(n.selected=o,m(i,function(s,l){var u=this.getSelectedMapKey(s);o.hasOwnProperty(u)||(o[u]=!0)},this),"single"===n.selectedMode){var a=!1;m(i,function(s,l){var u=this.getSelectedMapKey(s);o[u]&&(a?o[u]=!1:a=!0)},this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=Bt(e)},getValueState:function(e){var t=wi.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var i=[],o=n.getData();o.each(this.getDataDimension(o),function(a,s){wi.findPieceIndex(a,this._pieceList)===e&&i.push(s)},!0,this),t.push({seriesId:n.id,dataIndex:i})},this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},getVisualMeta:function(e){function t(u,c){var d=o.getRepresentValue({interval:u});c||(c=o.getValueState(d));var h=e(d,c);u[0]===-1/0?i[0]=h:u[1]===1/0?i[1]=h:n.push({value:u[0],color:h},{value:u[1],color:h})}if(!this.isCategory()){var n=[],i=[],o=this,a=this._pieceList.slice();if(a.length){var s=a[0].interval[0];s!==-1/0&&a.unshift({interval:[-1/0,s]}),(s=a[a.length-1].interval[1])!==1/0&&a.push({interval:[s,1/0]})}else a.push({interval:[-1/0,1/0]});var l=-1/0;return m(a,function(u){var c=u.interval;c&&(c[0]>l&&t([l,c[0]],"outOfRange"),t(c.slice()),l=c[1])},this),{stops:n,outerColors:i}}}}),ON={splitNumber:function(){var e=this.option,t=this._pieceList,n=Math.min(e.precision,20),i=this.getExtent(),o=e.splitNumber;o=Math.max(parseInt(o,10),1),e.splitNumber=o;for(var a=(i[1]-i[0])/o;+a.toFixed(n)!==a&&n<5;)n++;e.precision=n,a=+a.toFixed(n);var s=0;e.minOpen&&t.push({index:s++,interval:[-1/0,i[0]],close:[0,0]});for(var l=i[0],u=s+o;s<u;l+=a){var c=s===o-1?i[1]:l+a;t.push({index:s++,interval:[l,c],close:[1,1]})}e.maxOpen&&t.push({index:s++,interval:[i[1],1/0],close:[0,0]}),Dh(t),m(t,function(d){d.text=this.formatValueText(d.interval)},this)},categories:function(){var e=this.option;m(e.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),ex(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;m(e.pieces,function(n,i){Ce(n)||(n={value:n});var o={text:"",index:i};if(null!=n.label&&(o.text=n.label),n.hasOwnProperty("value")){var a=o.value=n.value;o.interval=[a,a],o.close=[1,1]}else{for(var s=o.interval=[],l=o.close=[0,0],u=[1,0,1],c=[-1/0,1/0],d=[],h=0;h<2;h++){for(var f=[["gte","gt","min"],["lte","lt","max"]][h],p=0;p<3&&null==s[h];p++)s[h]=n[f[p]],l[h]=u[p],d[h]=2===p;null==s[h]&&(s[h]=c[h])}d[0]&&s[1]===1/0&&(l[0]=0),d[1]&&s[0]===-1/0&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(o.value=s[0])}o.visual=wi.retrieveVisuals(n),t.push(o)},this),ex(e,t),Dh(t),m(t,function(n){var i=n.close;n.text=n.text||this.formatValueText(null!=n.value?n.value:n.interval,!1,[["<","\u2264"][i[1]],[">","\u2265"][i[0]]])},this)}};xw.extend({type:"visualMap.piecewise",doRender:function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get("textGap"),i=t.textStyleModel,o=i.getFont(),a=i.getTextColor(),s=this._getItemAlign(),l=t.itemSize,u=this._getViewData(),c=u.endsText,d=_e(t.get("showLabel",!0),!c);c&&this._renderEndsText(e,c[0],l,d,s),m(u.viewPieceList,function(h){var f=h.piece,p=new Ln;p.onclick=re(this._onItemClick,this,f),this._enableHoverLink(p,h.indexInModelPieceList);var D=t.getRepresentValue(f);if(this._createItemSymbol(p,D,[0,0,l[0],l[1]]),d){var X=this.visualMapModel.getValueState(D);p.add(new ui({style:{x:"right"===s?-n:l[0]+n,y:l[1]/2,text:f.text,textVerticalAlign:"middle",textAlign:s,textFont:o,textFill:a,opacity:"outOfRange"===X?.5:1}}))}e.add(p)},this),c&&this._renderEndsText(e,c[1],l,d,s),pu(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(e,t){function n(i){var o=this.visualMapModel;o.option.hoverLink&&this.api.dispatchAction({type:i,batch:Fc(o.findTargetDataIndices(t))})}e.on("mouseover",re(n,this,"highlight")).on("mouseout",re(n,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return K1(e,this.api,e.itemSize);var n=t.align;return n&&"auto"!==n||(n="left"),n},_renderEndsText:function(e,t,n,i,o){if(t){var a=new Ln,s=this.visualMapModel.textStyleModel;a.add(new ui({style:{x:i?"right"===o?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:i?o:"center",text:t,textFont:s.getFont(),textFill:s.getTextColor()}})),e.add(a)}},_getViewData:function(){var e=this.visualMapModel,t=y(e.getPieceList(),function(a,s){return{piece:a,indexInModelPieceList:s}}),n=e.get("text"),i=e.get("orient"),o=e.get("inverse");return("horizontal"===i?o:!o)?t.reverse():n&&(n=n.slice().reverse()),{viewPieceList:t,endsText:n}},_createItemSymbol:function(e,t,n){e.add(Dr(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel,n=t.option,i=Bt(n.selected),o=t.getSelectedMapKey(e);"single"===n.selectedMode?(i[o]=!0,m(i,function(a,s){i[s]=s===o})):i[o]=!i[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}}),cr(pw);var _w=_a,xm=Oi,gh=_r({type:"marker",dependencies:["series","grid","polar","geo"],init:function(e,t,n,i){this.mergeDefaultAndTheme(e,n),this.mergeOption(e,n,i.createdBySelf,!0)},isAnimationEnabled:function(){if(li.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},mergeOption:function(e,t,n,i){var o=this.constructor,a=this.mainType+"Model";n||t.eachSeries(function(s){var l=s.get(this.mainType),u=s[a];l&&l.data?(u?u.mergeOption(l,t,!0):(i&&Vc(l),m(l.data,function(c){c instanceof Array?(Vc(c[0]),Vc(c[1])):Vc(c)}),J(u=new o(l,this,t),{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),s[a]=u):s[a]=null},this)},formatTooltip:function(e){var t=this.getData(),n=this.getRawValue(e),i=$(n)?y(n,_w).join(", "):_w(n),o=t.getName(e),a=xm(this.name);return(null!=n||o)&&(a+="<br />"),o&&(a+=xm(o),null!=n&&(a+=" : ")),null!=n&&(a+=xm(i)),a},getData:function(){return this._data},setData:function(e){this._data=e}});M(gh,gg),gh.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var ww=A,bm=Q,_m={min:bm(vp,"min"),max:bm(vp,"max"),average:bm(vp,"average")},wm=er({type:"marker",init:function(){this.markerGroupMap=tt()},render:function(e,t,n){var i=this.markerGroupMap;i.each(function(a){a.__keep=!1});var o=this.type+"Model";t.eachSeries(function(a){var s=a[o];s&&this.renderSeries(a,s,t,n)},this),i.each(function(a){!a.__keep&&this.group.remove(a.group)},this)},renderSeries:function(){}});wm.extend({type:"markPoint",updateTransform:function(e,t,n){t.eachSeries(function(i){var o=i.markPointModel;o&&(ix(o.getData(),i,n),this.markerGroupMap.get(i.id).updateLayout(o))},this)},renderSeries:function(e,t,n,i){var o=e.coordinateSystem,a=e.id,s=e.getData(),l=this.markerGroupMap,u=l.get(a)||l.set(a,new Ns),c=function(e,t,n){var i;i=e?y(e&&e.dimensions,function(s){return ne({name:s,isSysCoord:!0},t.getData().getDimensionInfo(t.getData().mapDimension(s))||{})}):[{name:"value",type:"float",isSysCoord:!0}];var o=new ir(i,n),a=y(n.get("data"),Q(Ql,t));return e&&(a=Z(a,Q(eu,e))),o.initData(a,null,e?nx:function(s){return s.value}),o}(o,e,t);t.setData(c),ix(t.getData(),e,i),c.each(function(d){var h=c.getItemModel(d),f=h.getShallow("symbolSize");"function"==typeof f&&(f=f(t.getRawValue(d),t.getDataParams(d))),c.setItemVisual(d,{symbolSize:f,color:h.get("itemStyle.color")||s.getVisual("color"),symbol:h.getShallow("symbol")})}),u.updateData(c),this.group.add(u.group),c.eachItemGraphicEl(function(d){d.traverse(function(h){h.dataModel=t})}),u.__keep=!0,u.group.silent=t.get("silent")||e.get("silent")}}),cr(function(e){e.markPoint=e.markPoint||{}}),gh.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});var zN=function(e,t,n,i){var o=e.getData(),a=i.type;if(!$(i)&&("min"===a||"max"===a||"average"===a||null!=i.xAxis||null!=i.yAxis)){var s,l;if(null!=i.yAxis||null!=i.xAxis)t.getAxis(s=null!=i.yAxis?"y":"x"),l=_e(i.yAxis,i.xAxis);else l=yp(o,s=tx(i,o,t,e).valueDataDim,a);var c="x"===s?0:1,d=1-c,h=Bt(i),f={};h.type=null,h.coord=[],f.coord=[],h.coord[d]=-1/0,f.coord[d]=1/0;var p=n.get("precision");p>=0&&"number"==typeof l&&(l=+l.toFixed(Math.min(p,20))),h.coord[c]=f.coord[c]=l,i=[h,f,{type:a,valueIndex:i.valueIndex,value:l}]}return(i=[Ql(e,i[0]),Ql(e,i[1]),J({},i[2])])[2].type=i[2].type||"",he(i[2],i[0]),he(i[2],i[1]),i};wm.extend({type:"markLine",updateTransform:function(e,t,n){t.eachSeries(function(i){var o=i.markLineModel;if(o){var a=o.getData(),s=o.__from,l=o.__to;s.each(function(u){xp(s,u,!0,i,n),xp(l,u,!1,i,n)}),a.each(function(u){a.setItemLayout(u,[s.getItemLayout(u),l.getItemLayout(u)])}),this.markerGroupMap.get(i.id).updateLayout()}},this)},renderSeries:function(e,t,n,i){function o(K,oe,ce){var be=K.getItemModel(oe);xp(K,oe,ce,e,i),K.setItemVisual(oe,{symbolSize:be.get("symbolSize")||X[ce?0:1],symbol:be.get("symbol",!0)||D[ce?0:1],color:be.get("itemStyle.color")||l.getVisual("color")})}var a=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new bc);this.group.add(c.group);var d=function(e,t,n){var i;i=e?y(e&&e.dimensions,function(c){return ne({name:c},t.getData().getDimensionInfo(t.getData().mapDimension(c))||{})}):[{name:"value",type:"float"}];var o=new ir(i,n),a=new ir(i,n),s=new ir([],n),l=y(n.get("data"),Q(zN,t,e,n));e&&(l=Z(l,Q(QT,e)));var u=e?nx:function(c){return c.value};return o.initData(y(l,function(c){return c[0]}),null,u),a.initData(y(l,function(c){return c[1]}),null,u),s.initData(y(l,function(c){return c[2]})),s.hasItemOption=!0,{from:o,to:a,line:s}}(a,e,t),h=d.from,f=d.to,p=d.line;t.__from=h,t.__to=f,t.setData(p);var D=t.get("symbol"),X=t.get("symbolSize");$(D)||(D=[D,D]),"number"==typeof X&&(X=[X,X]),d.from.each(function(K){o(h,K,!0),o(f,K,!1)}),p.each(function(K){var oe=p.getItemModel(K).get("lineStyle.color");p.setItemVisual(K,{color:oe||h.getItemVisual(K,"color")}),p.setItemLayout(K,[h.getItemLayout(K),f.getItemLayout(K)]),p.setItemVisual(K,{fromSymbolSize:h.getItemVisual(K,"symbolSize"),fromSymbol:h.getItemVisual(K,"symbol"),toSymbolSize:f.getItemVisual(K,"symbolSize"),toSymbol:f.getItemVisual(K,"symbol")})}),c.updateData(p),d.line.eachItemGraphicEl(function(K,oe){K.traverse(function(ce){ce.dataModel=t})}),c.__keep=!0,c.group.silent=t.get("silent")||e.get("silent")}}),cr(function(e){e.markLine=e.markLine||{}}),gh.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});var FN=function(e,t,n,i){var o=Ql(e,i[0]),a=Ql(e,i[1]),s=_e,l=o.coord,u=a.coord;l[0]=s(l[0],-1/0),l[1]=s(l[1],-1/0),u[0]=s(u[0],1/0),u[1]=s(u[1],1/0);var c=ke([{},o,a]);return c.coord=[o.coord,a.coord],c.x0=o.x,c.y0=o.y,c.x1=a.x,c.y1=a.y,c},Cw=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];wm.extend({type:"markArea",updateTransform:function(e,t,n){t.eachSeries(function(i){var o=i.markAreaModel;if(o){var a=o.getData();a.each(function(s){var l=y(Cw,function(u){return ax(a,s,u,i,n)});a.setItemLayout(s,l),a.getItemGraphicEl(s).setShape("points",l)})}},this)},renderSeries:function(e,t,n,i){var o=e.coordinateSystem,a=e.name,s=e.getData(),l=this.markerGroupMap,u=l.get(a)||l.set(a,{group:new Ln});this.group.add(u.group),u.__keep=!0;var c=function(e,t,n){var i,o;e?(i=y(e&&e.dimensions,function(u){var c=t.getData();return ne({name:u},c.getDimensionInfo(c.mapDimension(u))||{})}),o=new ir(y(["x0","y0","x1","y1"],function(u,c){return{name:u,type:i[c%2].type}}),n)):o=new ir(i=[{name:"value",type:"float"}],n);var s=y(n.get("data"),Q(FN,t,e,n));return e&&(s=Z(s,Q(tk,e))),o.initData(s,null,e?function(u,c,d,h){return u.coord[Math.floor(h/2)][h%2]}:function(u){return u.value}),o.hasItemOption=!0,o}(o,e,t);t.setData(c),c.each(function(d){c.setItemLayout(d,y(Cw,function(h){return ax(c,d,h,e,i)})),c.setItemVisual(d,{color:s.getVisual("color")})}),c.diff(u.__data).add(function(d){var h=new qr({shape:{points:c.getItemLayout(d)}});c.setItemGraphicEl(d,h),u.group.add(h)}).update(function(d,h){var f=u.__data.getItemGraphicEl(h);si(f,{shape:{points:c.getItemLayout(d)}},t,d),u.group.add(f),c.setItemGraphicEl(d,f)}).remove(function(d){var h=u.__data.getItemGraphicEl(d);u.group.remove(h)}).execute(),c.eachItemGraphicEl(function(d,h){var f=c.getItemModel(h),p=f.getModel("label"),D=f.getModel("emphasis.label"),X=c.getItemVisual(h,"color");d.useStyle(ne(f.getModel("itemStyle").getItemStyle(),{fill:Sn(X,.4),stroke:X})),d.hoverStyle=f.getModel("emphasis.itemStyle").getItemStyle(),Ni(d.style,d.hoverStyle,p,D,{labelFetcher:t,labelDataIndex:h,defaultText:c.getName(h)||"",isRectText:!0,autoColor:X}),ii(d,{}),d.dataModel=t}),u.__data=c,u.group.silent=t.get("silent")||e.get("silent")}}),cr(function(e){e.markArea=e.markArea||{}}),hi.registerSubTypeDefaulter("timeline",function(){return"slider"}),yi({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t){var n=t.getComponent("timeline");return n&&null!=e.currentIndex&&(n.setCurrentIndex(e.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),t.resetOption("timeline"),ne({currentIndex:n.option.currentIndex},e)}),yi({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var n=t.getComponent("timeline");n&&null!=e.playState&&n.setPlayState(e.playState)});var Sw=hi.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),this._initData()},mergeOption:function(e){Sw.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e>=t&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(e){this.option.autoPlay=!!e},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var e=this.option,t=e.data||[],n=e.axisType,i=this._names=[];if("category"===n){var o=[];m(t,function(s,l){var u,c=N(s);Ce(s)?(u=Bt(s)).value=l:u=l,o.push(u),pe(c)||null!=c&&!isNaN(c)||(c=""),i.push(c+"")}),t=o}(this._data=new ir([{name:"value",type:{category:"ordinal",time:"time"}[n]||"number"}],this)).initData(t,i)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});M(Sw.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}}),gg);var HN=No.extend({type:"timeline"}),mh=function(e,t,n,i){Ki.call(this,e,t,n),this.type=i||"value",this.model=null};mh.prototype={constructor:mh,getLabelInterval:function(){var e=this.model,t=e.getModel("label"),n=t.get("interval");return null!=n&&"auto"!=n||(n=this._autoLabelInterval)||(n=this._autoLabelInterval=Uv(y(this.scale.getTicks(),this.dataToCoord,this),Jh(this,t.get("formatter")),t.getFont(),"horizontal"===e.get("orient")?0:90,t.get("rotate"))),n},isLabelIgnored:function(e){if("category"===this.type){var t=this.getLabelInterval();return"function"==typeof t&&!t(e,this.scale.getLabel(e))||e%(t+1)}}},k(mh,Ki);var da=re,Cm=m,Sm=Math.PI;HN.extend({type:"timeline.slider",init:function(e,t){this.api=t},render:function(e,t,n,i){if(this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var o=this._layout(e,n),a=this._createGroup("mainGroup"),s=this._createGroup("labelGroup"),l=this._axis=this._createAxis(o,e);e.formatTooltip=function(u){return Oi(l.scale.getLabel(u))},Cm(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](o,a,l,e)},this),this._renderAxisLabel(o,s,l,e),this._position(o,e)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(e,t){var n=e.get("label.position"),i=e.get("orient"),o=function(e,t){return Qi(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}(e,t);null==n||"auto"===n?n="horizontal"===i?o.y+o.height/2<t.getHeight()/2?"-":"+":o.x+o.width/2<t.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][n]);var a={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"},s={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},l={horizontal:0,vertical:Sm/2},u="vertical"===i?o.height:o.width,c=e.getModel("controlStyle"),d=c.get("show",!0),h=d?c.get("itemSize"):0,f=d?c.get("itemGap"):0,p=h+f,D=e.get("label.rotate")||0;D=D*Sm/180;var X,K,oe,ce,be=c.get("position",!0),Be=d&&c.get("showPlayBtn",!0),He=d&&c.get("showPrevBtn",!0),Ye=d&&c.get("showNextBtn",!0),$e=0,nt=u;return"left"===be||"bottom"===be?(Be&&(X=[0,0],$e+=p),He&&(K=[$e,0],$e+=p),Ye&&(oe=[nt-h,0],nt-=p)):(Be&&(X=[nt-h,0],nt-=p),He&&(K=[0,0],$e+=p),Ye&&(oe=[nt-h,0],nt-=p)),ce=[$e,nt],e.get("inverse")&&ce.reverse(),{viewRect:o,mainLength:u,orient:i,rotation:l[i],labelRotation:D,labelPosOpt:n,labelAlign:e.get("label.align")||a[i],labelBaseline:e.get("label.verticalAlign")||e.get("label.baseline")||s[i],playPosition:X,prevBtnPosition:K,nextBtnPosition:oe,axisExtent:ce,controlSize:h,controlGap:f}},_position:function(e,t){function n(ce){var be=ce.position;ce.origin=[h[0][0]-be[0],h[1][0]-be[1]]}function i(ce){return[[ce.x,ce.x+ce.width],[ce.y,ce.y+ce.height]]}function o(ce,be,Be,He,Ye){ce[He]+=Be[He][Ye]-be[He][Ye]}var a=this._mainGroup,s=this._labelGroup,l=e.viewRect;if("vertical"===e.orient){var u=Un(),c=l.x,d=l.y+l.height;tn(u,u,[-c,-d]),yn(u,u,-Sm/2),tn(u,u,[c,d]),(l=l.clone()).applyTransform(u)}var h=i(l),f=i(a.getBoundingRect()),p=i(s.getBoundingRect()),D=a.position,X=s.position;X[0]=D[0]=h[0][0];var K=e.labelPosOpt;if(isNaN(K))o(D,f,h,1,oe="+"===K?0:1),o(X,p,h,1,1-oe);else{var oe=K>=0?0:1;o(D,f,h,1,oe),X[1]=D[1]+K}a.attr("position",D),s.attr("position",X),a.rotation=s.rotation=e.rotation,n(a),n(s)},_createAxis:function(e,t){var n=t.getData(),i=t.get("axisType"),o=Is(t,i),a=n.getDataExtent("value");o.setExtent(a[0],a[1]),this._customizeScale(o,n),o.niceTicks();var s=new mh("value",o,e.axisExtent,i);return s.model=t,s},_customizeScale:function(e,t){e.getTicks=function(){return t.mapArray(["value"],function(n){return n})},e.getTicksLabels=function(){return y(this.getTicks(),e.getLabel,e)}},_createGroup:function(e){var t=this["_"+e]=new Ln;return this.group.add(t),t},_renderAxisLine:function(e,t,n,i){var o=n.getExtent();i.get("lineStyle.show")&&t.add(new Zr({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:J({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(e,t,n,i){var o=i.getData(),a=n.scale.getTicks();Cm(a,function(s,l){var u=n.dataToCoord(s),c=o.getItemModel(l),d=c.getModel("itemStyle"),h=c.getModel("emphasis.itemStyle"),f={position:[u,0],onclick:da(this._changeTimeline,this,l)},p=lx(c,d,t,f);ii(p,h.getItemStyle()),c.get("tooltip")?(p.dataIndex=l,p.dataModel=i):p.dataIndex=p.dataModel=null},this)},_renderAxisLabel:function(e,t,n,i){var o=i.getModel("label");if(o.get("show")){var a=i.getData(),s=n.scale.getTicks(),l=Jh(n,o.get("formatter")),u=n.getLabelInterval();Cm(s,function(c,d){if(!n.isLabelIgnored(d,u)){var h=a.getItemModel(d),f=h.getModel("label"),p=h.getModel("emphasis.label"),D=n.dataToCoord(c),X=new ui({position:[D,0],rotation:e.labelRotation-e.rotation,onclick:da(this._changeTimeline,this,d),silent:!1});$n(X.style,f,{text:l[d],textAlign:e.labelAlign,textVerticalAlign:e.labelBaseline}),t.add(X),ii(X,$n({},p))}},this)}},_renderControl:function(e,t,n,i){function o(f,p,D,X){if(f){var K=function(e,t,n,i){return qe(e.get(t).replace(/^path:\/\//,""),Bt(i||{}),new Qn(n[0],n[1],n[2],n[3]),"center")}(i,p,c,{position:f,origin:[a/2,0],rotation:X?-s:0,rectHover:!0,style:l,onclick:D});t.add(K),ii(K,u)}}var a=e.controlSize,s=e.rotation,l=i.getModel("controlStyle").getItemStyle(),u=i.getModel("emphasis.controlStyle").getItemStyle(),c=[0,-a/2,a,a],d=i.getPlayState(),h=i.get("inverse",!0);o(e.nextBtnPosition,"controlStyle.nextIcon",da(this._changeTimeline,this,h?"-":"+")),o(e.prevBtnPosition,"controlStyle.prevIcon",da(this._changeTimeline,this,h?"+":"-")),o(e.playPosition,"controlStyle."+(d?"stopIcon":"playIcon"),da(this._handlePlayClick,this,!d),!0)},_renderCurrentPointer:function(e,t,n,i){var o=i.getData(),a=i.getCurrentIndex(),s=o.getItemModel(a).getModel("checkpointStyle"),l=this;this._currentPointer=lx(s,s,this._mainGroup,{},this._currentPointer,{onCreate:function(c){c.draggable=!0,c.drift=da(l._handlePointerDrag,l),c.ondragend=da(l._handlePointerDragend,l),ux(c,a,n,i,!0)},onUpdate:function(c){ux(c,a,n,i)}})},_handlePlayClick:function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},_handlePointerDrag:function(e,t,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},_pointerChangeTimeline:function(e,t){var n=this._toAxisCoord(e)[0],i=ba(this._axis.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var o=this._findNearestTick(n),a=this.model;(t||o!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(o)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(da(function(){var e=this.model;this._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(e){return io(e,this._mainGroup.getLocalTransform(),!0)},_findNearestTick:function(e){var t,n=this.model.getData(),i=1/0,o=this._axis;return n.each(["value"],function(a,s){var l=o.dataToCoord(a),u=Math.abs(l-e);u<i&&(i=u,t=s)}),t},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})}}),cr(function(e){var t=e&&e.timeline;$(t)||(t=t?[t]:[]),m(t,function(n){n&&function(e){var t=e.type,n={number:"value",time:"time"};if(n[t]&&(e.axisType=n[t],delete e.type),sx(e),Ia(e,"controlPosition")){var i=e.controlStyle||(e.controlStyle={});Ia(i,"position")||(i.position=e.controlPosition),"none"!==i.position||Ia(i,"show")||(i.show=!1,delete i.position),delete e.controlPosition}m(e.data||[],function(o){Ce(o)&&!$(o)&&(!Ia(o,"value")&&Ia(o,"name")&&(o.value=o.name),sx(o))})}(n)})});var VN=_r({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(e){VN.superApply(this,"mergeDefaultAndTheme",arguments),m(this.option.feature,function(t,n){var i=F1(n);i&&he(t,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}});er({type:"toolbox",render:function(e,t,n,i){function o(h,f){var p,D=d[h],X=d[f],K=new vi(u[D],e,e.ecModel);if(D&&!X){if(function(e){return 0===e.indexOf("my")}(D))p={model:K,onclick:K.option.onclick,featureName:D};else{var oe=F1(D);if(!oe)return;p=new oe(K,t,n)}c[D]=p}else{if(!(p=c[X]))return;p.model=K,p.ecModel=t,p.api=n}D||!X?K.get("show")&&!p.unusable?(function(h,f,p){var D=h.getModel("iconStyle"),X=h.getModel("emphasis.iconStyle"),K=f.getIcons?f.getIcons():h.get("icon"),oe=h.get("title")||{};if("string"==typeof K){var ce=K,be=oe;oe={},(K={})[p]=ce,oe[p]=be}var Be=h.iconPaths={};m(K,function(He,Ye){var $e=Dl(He,{},{x:-l/2,y:-l/2,width:l,height:l});$e.setStyle(D.getItemStyle()),$e.hoverStyle=X.getItemStyle(),ii($e),e.get("showTitle")&&($e.__title=oe[Ye],$e.on("mouseover",function(){var nt=X.getItemStyle();$e.setStyle({text:oe[Ye],textPosition:nt.textPosition||"bottom",textFill:nt.fill||nt.stroke||"#000",textAlign:nt.textAlign||"center"})}).on("mouseout",function(){$e.setStyle({textFill:null})})),$e.trigger(h.get("iconStatus."+Ye)||"normal"),s.add($e),$e.on("click",re(f.onclick,f,t,n,Ye)),Be[Ye]=$e})}(K,p,D),K.setIconStatus=function(ce,be){var Be=this.option,He=this.iconPaths;Be.iconStatus=Be.iconStatus||{},Be.iconStatus[ce]=be,He[ce]&&He[ce].trigger(be)},p.render&&p.render(K,t,n,i)):p.remove&&p.remove(t,n):p.dispose&&p.dispose(t,n)}var s=this.group;if(s.removeAll(),e.get("show")){var l=+e.get("itemSize"),u=e.get("feature")||{},c=this._features||(this._features={}),d=[];m(u,function(h,f){d.push(f)}),new So(this._featureNames||[],d).add(o).update(o).remove(Q(o,null)).execute(),this._featureNames=d,function(e,t,n){var i=t.getBoxLayoutParams(),o=t.get("padding"),a={width:n.getWidth(),height:n.getHeight()},s=Qi(i,a,o);pu(t.get("orient"),e,t.get("itemGap"),s.width,s.height),ic(e,i,a,o)}(s,e,n),s.add(g1(s.getBoundingRect(),e)),s.eachChild(function(h){var f=h.__title,p=h.hoverStyle;if(p&&f){var D=Fr(f,ys(p)),X=h.position[0]+s.position[0],K=!1;h.position[1]+s.position[1]+l+D.height>n.getHeight()&&(p.textPosition="top",K=!0);var oe=K?-5-D.height:l+8;X+D.width/2>n.getWidth()?(p.textPosition=["100%",oe],p.textAlign="right"):X-D.width/2<0&&(p.textPosition=[0,oe],p.textAlign="left")}})}},updateView:function(e,t,n,i){m(this._features,function(o){o.updateView&&o.updateView(o.model,t,n,i)})},remove:function(e,t){m(this._features,function(n){n.remove&&n.remove(e,t)}),this.group.removeAll()},dispose:function(e,t){m(this._features,function(n){n.dispose&&n.dispose(e,t)})}});var Mw=Jo.toolbox.saveAsImage;Uc.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:Mw.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:Mw.lang.slice()},Uc.prototype.unusable=!li.canvasSupported,Uc.prototype.onclick=function(e,t){var n=this.model,i=n.get("name")||e.get("title.0.text")||"echarts",o=document.createElement("a"),a=n.get("type",!0)||"png";o.download=i+"."+a,o.target="_blank";var s=t.getConnectedDataURL({type:a,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if(o.href=s,"function"!=typeof MouseEvent||li.browser.ie||li.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var l=atob(s.split(",")[1]),u=l.length,c=new Uint8Array(u);u--;)c[u]=l.charCodeAt(u);var d=new Blob([c]);window.navigator.msSaveOrOpenBlob(d,i+"."+a)}else{var h=n.get("lang"),f='<body style="margin:0;"><img src="'+s+'" style="max-width:100%;" title="'+(h&&h[0]||"")+'" /></body>';window.open().document.write(f)}else{var p=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});o.dispatchEvent(p)}},Fs("saveAsImage",Uc),bp.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:Bt(Jo.toolbox.magicType.title),option:{},seriesIndex:{}};var Tw=bp.prototype;Tw.getIcons=function(){var e=this.model,t=e.get("icon"),n={};return m(e.get("type"),function(i){t[i]&&(n[i]=t[i])}),n};var kw={line:function(e,t,n,i){if("bar"===e)return he({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.line")||{},!0)},bar:function(e,t,n,i){if("line"===e)return he({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.bar")||{},!0)},stack:function(e,t,n,i){if("line"===e||"bar"===e)return he({id:t,stack:"__ec_magicType_stack__"},i.get("option.stack")||{},!0)},tiled:function(e,t,n,i){if("line"===e||"bar"===e)return he({id:t,stack:""},i.get("option.tiled")||{},!0)}},GN=[["line","bar"],["stack","tiled"]];Tw.onclick=function(e,t,n){var i=this.model,o=i.get("seriesIndex."+n);if(kw[n]){var a={series:[]};m(GN,function(s){A(s,n)>=0&&m(s,function(l){i.setIconStatus(l,"normal")})}),i.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},function(s){var c=kw[n](s.subType,s.id,s,i);c&&(ne(c,s.option),a.series.push(c));var d=s.coordinateSystem;if(d&&"cartesian2d"===d.type&&("line"===n||"bar"===n)){var h=d.getAxesByScale("ordinal")[0];if(h){var f=h.dim+"Axis",p=e.queryComponents({mainType:f,index:s.get(name+"Index"),id:s.get(name+"Id")})[0].componentIndex;a[f]=a[f]||[];for(var D=0;D<=p;D++)a[f][p]=a[f][p]||{};a[f][p].boundaryGap="bar"===n}}}),t.dispatchAction({type:"changeMagicType",currentType:n,newOption:a})}},yi({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)}),Fs("magicType",bp);var Aw=Jo.toolbox.dataView,vh=new Array(60).join("-"),ns="\t",Mm=new RegExp("["+ns+"]+","g");tu.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:Bt(Aw.title),lang:Bt(Aw.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},tu.prototype.onclick=function(e,t){function n(){i.removeChild(a),be._dom=null}var i=t.getDom(),o=this.model;this._dom&&i.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=o.get("lang")||[];s.innerHTML=l[0]||o.get("title"),s.style.cssText="margin: 10px 20px;",s.style.color=o.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="display:block;width:100%;overflow:auto;";var d=o.get("optionToContent"),h=o.get("contentToOption"),f=function(e){var t=function(e){var t={},n=[],i=[];return e.eachRawSeries(function(o){var a=o.coordinateSystem;if(!a||"cartesian2d"!==a.type&&"polar"!==a.type)n.push(o);else{var s=a.getBaseAxis();if("category"===s.type){var l=s.dim+"_"+s.index;t[l]||(t[l]={categoryAxis:s,valueAxis:a.getOtherAxis(s),series:[]},i.push({axisDim:s.dim,axisIndex:s.index})),t[l].series.push(o)}else n.push(o)}}),{seriesGroupByCategoryAxis:t,other:n,meta:i}}(e);return{value:Z([lk(t.seriesGroupByCategoryAxis),uk(t.other)],function(n){return n.replace(/[\n\t\s]/g,"")}).join("\n\n"+vh+"\n\n"),meta:t.meta}}(e);if("function"==typeof d){var p=d(t.getOption());"string"==typeof p?u.innerHTML=p:se(p)&&u.appendChild(p)}else u.appendChild(c),c.readOnly=o.get("readOnly"),c.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",c.style.color=o.get("textColor"),c.style.borderColor=o.get("textareaBorderColor"),c.style.backgroundColor=o.get("textareaColor"),c.value=f.value;var D=f.meta,X=document.createElement("div");X.style.cssText="position:absolute;bottom:0;left:0;right:0;";var K="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",oe=document.createElement("div"),ce=document.createElement("div");K+=";background-color:"+o.get("buttonColor"),K+=";color:"+o.get("buttonTextColor");var be=this;W(oe,"click",n),W(ce,"click",function(){var Be;try{Be="function"==typeof h?h(u,t.getOption()):function(e,t){var n={series:[]};return m(e.split(new RegExp("\n*"+vh+"\n*","g")),function(i,o){if(function(e){if(e.slice(0,e.indexOf("\n")).indexOf(ns)>=0)return!0}(i)){var a=function(e){for(var t=e.split(/\n+/g),n=[],i=y(jc(t.shift()).split(Mm),function(l){return{name:l,data:[]}}),o=0;o<t.length;o++){var a=jc(t[o]).split(Mm);n.push(a.shift());for(var s=0;s<a.length;s++)i[s]&&(i[s].data[o]=a[s])}return{series:i,categories:n}}(i),s=t[o],l=s.axisDim+"Axis";s&&(n[l]=n[l]||[],n[l][s.axisIndex]={data:a.categories},n.series=n.series.concat(a.series))}else a=function(e){for(var t=e.split(/\n+/g),n=jc(t.shift()),i=[],o=0;o<t.length;o++){var a,s=jc(t[o]).split(Mm),l="",u=!1;isNaN(s[0])?(u=!0,l=s[0],s=s.slice(1),i[o]={name:l,value:[]},a=i[o].value):a=i[o]=[];for(var c=0;c<s.length;c++)a.push(+s[c]);1===a.length&&(u?i[o].value=a[0]:i[o]=a[0])}return{name:n,data:i}}(i),n.series.push(a)}),n}(c.value,D)}catch(He){throw n(),new Error("Data view format error "+He)}Be&&t.dispatchAction({type:"changeDataView",newOption:Be}),n()}),oe.innerHTML=l[1],ce.innerHTML=l[2],ce.style.cssText=K,oe.style.cssText=K,!o.get("readOnly")&&X.appendChild(ce),X.appendChild(oe),W(c,"keydown",function(Be){if(9===(Be.keyCode||Be.which)){var He=this.value,Ye=this.selectionStart,$e=this.selectionEnd;this.value=He.substring(0,Ye)+ns+He.substring($e),this.selectionStart=this.selectionEnd=Ye+1,qo(Be)}}),a.appendChild(s),a.appendChild(u),a.appendChild(X),u.style.height=i.clientHeight-80+"px",i.appendChild(a),this._dom=a},tu.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},tu.prototype.dispose=function(e,t){this.remove(e,t)},Fs("dataView",tu),yi({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var n=[];m(e.newOption.series,function(i){var o=t.getSeriesByName(i.name)[0];if(o){var a=o.get("data");n.push({name:i.name,data:gk(i.data,a)})}else n.push(J({type:"scatter"},i))}),t.mergeOption(ne({series:n},e.newOption))});var Iw=m,Tm="\0_ec_hist_store";dm.extend({type:"dataZoom.select"}),hm.extend({type:"dataZoom.select"});var Dw=m;wp.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:Bt(Jo.toolbox.dataZoom.title)};var gl=wp.prototype;gl.render=function(e,t,n,i){this.model=e,this.ecModel=t,this.api=n,function(e,t,n,i,o){var a=n._isZoomActive;i&&"takeGlobalCursor"===i.type&&(a="dataZoomSelect"===i.key&&i.dataZoomSelectActive),n._isZoomActive=a,e.setIconStatus("zoom",a?"emphasis":"normal");var s=new zc(cx(e.option),t,{include:["grid"]});n._brushController.setPanels(s.makePanelOpts(o,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"})).enableBrush(!!a&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}(e,t,this,i,n),function(e,t){e.setIconStatus("back",function(e){return _p(e).length}(t)>1?"emphasis":"normal")}(e,t)},gl.onclick=function(e,t,n){qN[n].call(this)},gl.remove=function(e,t){this._brushController.unmount()},gl.dispose=function(e,t){this._brushController.dispose()};var qN={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(e){var t=_p(e),n=t[t.length-1];t.length>1&&t.pop();var i={};return Iw(n,function(o,a){for(var s=t.length-1;s>=0;s--)if(o=t[s][a]){i[a]=o;break}}),i}(this.ecModel))}};gl._onBrush=function(e,t){function n(s,l,u){var c=l.getAxis(s),d=c.model,h=function(s,l,u){var c;return u.eachComponent({mainType:"dataZoom",subType:"select"},function(d){d.getAxisModel(s,l.componentIndex)&&(c=d)}),c}(s,d,a),f=h.findRepresentativeAxisProxy(d).getMinMaxSpan();null==f.minValueSpan&&null==f.maxValueSpan||(u=cl(0,u.slice(),c.scale.getExtent(),0,f.minValueSpan,f.maxValueSpan)),h&&(o[h.id]={dataZoomId:h.id,startValue:u[0],endValue:u[1]})}if(t.isEnd&&e.length){var o={},a=this.ecModel;this._brushController.updateCovers([]),new zc(cx(this.model.option),a,{include:["grid"]}).matchOutputRanges(e,a,function(s,l,u){if("cartesian2d"===u.type){var c=s.brushType;"rect"===c?(n("x",u,l[0]),n("y",u,l[1])):n({lineX:"x",lineY:"y"}[c],u,l)}}),function(e,t){var n=_p(e);Iw(t,function(i,o){for(var a=n.length-1;a>=0&&!n[a][o];a--);if(a<0){var s=e.queryComponents({mainType:"dataZoom",subType:"select",id:o})[0];if(s){var l=s.getPercentRange();n[0][o]={dataZoomId:o,start:l[0],end:l[1]}}}}),n.push(t)}(a,o),this._dispatchZoomAction(o)}},gl._dispatchZoomAction=function(e){var t=[];Dw(e,function(n,i){t.push(Bt(n))}),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},Fs("dataZoom",wp),cr(function(e){function t(s,l){if(l){var u=s+"Index",c=l[u];null==c||"all"==c||$(c)||(c=!1===c||"none"===c?[]:[c]),function(s,l){var u=e[s];$(u)||(u=u?[u]:[]),Dw(u,l)}(s,function(d,h){if(null==c||"all"==c||-1!==A(c,h)){var f={type:"select",$fromToolbox:!0,id:"\0_ec_\0toolbox-dataZoom_"+s+h};f[u]=h,i.push(f)}})}}if(e){var i=e.dataZoom||(e.dataZoom=[]);$(i)||(e.dataZoom=i=[i]);var o=e.toolbox;if(o&&($(o)&&(o=o[0]),o&&o.feature)){var a=o.feature.dataZoom;t("xAxis",a),t("yAxis",a)}}}),Cp.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:Jo.toolbox.restore.title},Cp.prototype.onclick=function(e,t,n){(function(e){e[Tm]=null})(e),t.dispatchAction({type:"restore",from:this.uid})},Fs("restore",Cp),yi({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")});var km,Nw="urn:schemas-microsoft-com:vml",Pw="undefined"==typeof window?null:window,Lw=!1,Rr=Pw&&Pw.document;if(Rr&&!li.canvasSupported)try{!Rr.namespaces.zrvml&&Rr.namespaces.add("zrvml",Nw),km=function(e){return Rr.createElement("<zrvml:"+e+' class="zrvml">')}}catch(e){km=function(t){return Rr.createElement("<"+t+' xmlns="'+Nw+'" class="zrvml">')}}var is=Pr.CMD,_i=Math.round,Ru=Math.sqrt,YN=Math.abs,Ew=Math.cos,Rw=Math.sin,Am=Math.max;if(!li.canvasSupported){var rr=21600,Mr=rr/2,Im=function(e){e.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",e.coordsize=rr+","+rr,e.coordorigin="0,0"},XN=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},Bw=function(e,t,n){return"rgb("+[e,t,n].join(",")+")"},_o=function(e,t){t&&e&&t.parentNode!==e&&e.appendChild(t)},Bu=function(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)},Dm=function(e,t,n){return 1e5*(parseFloat(e)||0)+1e3*(parseFloat(t)||0)+n},Ow=function(e,t){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e},zw=function(e,t,n){var i=Fi(t);n=+n,isNaN(n)&&(n=1),i&&(e.color=Bw(i[0],i[1],i[2]),e.opacity=n*i[3])},$N=function(e){var t=Fi(e);return[Bw(t[0],t[1],t[2]),t[3]]},yh=function(e,t,n,i){var o="fill"==t,a=e.getElementsByTagName(t)[0];null!=n[t]&&"none"!==n[t]&&(o||!o&&n.lineWidth)?(e[o?"filled":"stroked"]="true",n[t]instanceof fo&&Bu(e,a),a||(a=Sp(t)),o?function(e,t,n){var i=t.fill;if(null!=i)if(i instanceof fo){var o,a=0,s=[0,0],l=0,u=1,c=n.getBoundingRect(),d=c.width,h=c.height;if("linear"===i.type){o="gradient";var p=[i.x*d,i.y*h],D=[i.x2*d,i.y2*h];(f=n.transform)&&(Rt(p,p,f),Rt(D,D,f)),(a=180*Math.atan2(D[0]-p[0],D[1]-p[1])/Math.PI)<0&&(a+=360),a<1e-6&&(a=0)}else{o="gradientradial";var f,oe=n.scale,ce=d,be=h;s=[((p=[i.x*d,i.y*h])[0]-c.x)/ce,(p[1]-c.y)/be],(f=n.transform)&&Rt(p,p,f);var Be=Am(ce/=oe[0]*rr,be/=oe[1]*rr);u=2*i.r/Be-(l=0/Be)}var He=i.colorStops.slice();He.sort(function(Pn,Dn){return Pn.offset-Dn.offset});for(var Ye=He.length,$e=[],nt=[],mt=0;mt<Ye;mt++){var Qt=He[mt],Yt=$N(Qt.color);nt.push(Qt.offset*u+l+" "+Yt[0]),0!==mt&&mt!==Ye-1||$e.push(Yt)}if(Ye>=2){var sn=$e[0][0],xn=$e[1][0],pn=$e[0][1]*t.opacity,bn=$e[1][1]*t.opacity;e.type=o,e.method="none",e.focus="100%",e.angle=a,e.color=sn,e.color2=xn,e.colors=nt.join(","),e.opacity=bn,e.opacity2=pn}"radial"===o&&(e.focusposition=s.join(","))}else zw(e,i,t.opacity)}(a,n,i):function(e,t){null!=t.lineDash&&(e.dashstyle=t.lineDash.join(" ")),null==t.stroke||t.stroke instanceof fo||zw(e,t.stroke,t.opacity)}(a,n),_o(e,a)):(e[o?"filled":"stroked"]="false",Bu(e,a))},Br=[[],[],[]];an.prototype.brushVML=function(e){var t=this.style,n=this._vmlEl;n||(n=Sp("shape"),Im(n),this._vmlEl=n),yh(n,"fill",t,this),yh(n,"stroke",t,this);var i=this.transform,o=null!=i,a=n.getElementsByTagName("stroke")[0];if(a){var s=t.lineWidth;o&&!t.strokeNoScale&&(s*=Ru(YN(i[0]*i[3]-i[1]*i[2]))),a.weight=s+"px"}var u=this.path||(this.path=new Pr);this.__dirtyPath&&(u.beginPath(),this.buildPath(u,this.shape),u.toStatic(),this.__dirtyPath=!1),n.path=function(e,t){var n,i,o,a,s,l,u=is.M,c=is.C,d=is.L,h=is.A,f=is.Q,p=[],D=e.data,X=e.len();for(a=0;a<X;){switch(i="",n=0,o=D[a++]){case u:i=" m ",n=1,s=D[a++],l=D[a++],Br[0][0]=s,Br[0][1]=l;break;case d:i=" l ",n=1,s=D[a++],l=D[a++],Br[0][0]=s,Br[0][1]=l;break;case f:case c:i=" c ",n=3;var K,oe,ce=D[a++],be=D[a++],Be=D[a++],He=D[a++];o===f?(K=Be,oe=He,Be=(Be+2*ce)/3,He=(He+2*be)/3,ce=(s+2*ce)/3,be=(l+2*be)/3):(K=D[a++],oe=D[a++]),Br[0][0]=ce,Br[0][1]=be,Br[1][0]=Be,Br[1][1]=He,Br[2][0]=K,Br[2][1]=oe,s=K,l=oe;break;case h:var Ye=0,$e=0,nt=1,mt=1,Qt=0;t&&(Ye=t[4],$e=t[5],nt=Ru(t[0]*t[0]+t[1]*t[1]),mt=Ru(t[2]*t[2]+t[3]*t[3]),Qt=Math.atan2(-t[1]/mt,t[0]/nt));var Yt=D[a++],sn=D[a++],xn=D[a++],pn=D[a++],bn=D[a++]+Qt,Pn=D[a++]+bn+Qt;a++;var Dn=D[a++],Hn=Yt+Ew(bn)*xn,Tn=sn+Rw(bn)*pn,fi=(ce=Yt+Ew(Pn)*xn,be=sn+Rw(Pn)*pn,Dn?" wa ":" at ");Math.abs(Hn-ce)<1e-4&&(Math.abs(Pn-bn)>.01?Dn&&(Hn+=.0125):Math.abs(Tn-sn)<1e-4?Dn&&Hn<Yt||!Dn&&Hn>Yt?be-=.0125:be+=.0125:Dn&&Tn<sn||!Dn&&Tn>sn?ce+=.0125:ce-=.0125),p.push(fi,_i(((Yt-xn)*nt+Ye)*rr-Mr),",",_i(((sn-pn)*mt+$e)*rr-Mr),",",_i(((Yt+xn)*nt+Ye)*rr-Mr),",",_i(((sn+pn)*mt+$e)*rr-Mr),",",_i((Hn*nt+Ye)*rr-Mr),",",_i((Tn*mt+$e)*rr-Mr),",",_i((ce*nt+Ye)*rr-Mr),",",_i((be*mt+$e)*rr-Mr)),s=ce,l=be;break;case is.R:var Kn=Br[0],Pi=Br[1];Kn[0]=D[a++],Kn[1]=D[a++],Pi[0]=Kn[0]+D[a++],Pi[1]=Kn[1]+D[a++],t&&(Rt(Kn,Kn,t),Rt(Pi,Pi,t)),Kn[0]=_i(Kn[0]*rr-Mr),Pi[0]=_i(Pi[0]*rr-Mr),Kn[1]=_i(Kn[1]*rr-Mr),Pi[1]=_i(Pi[1]*rr-Mr),p.push(" m ",Kn[0],",",Kn[1]," l ",Pi[0],",",Kn[1]," l ",Pi[0],",",Pi[1]," l ",Kn[0],",",Pi[1]);break;case is.Z:p.push(" x ")}if(n>0){p.push(i);for(var dr=0;dr<n;dr++){var Bo=Br[dr];t&&Rt(Bo,Bo,t),p.push(_i(Bo[0]*rr-Mr),",",_i(Bo[1]*rr-Mr),dr<n-1?",":"")}}}return p.join("")}(u,this.transform),n.style.zIndex=Dm(this.zlevel,this.z,this.z2),_o(e,n),null!=t.text?this.drawRectText(e,this.getBoundingRect()):this.removeRectText(e)},an.prototype.onRemove=function(e){Bu(e,this._vmlEl),this.removeRectText(e)},an.prototype.onAdd=function(e){_o(e,this._vmlEl),this.appendRectText(e)},tr.prototype.brushVML=function(e){var t,n,i=this.style,o=i.image;if(function(e){return"object"==typeof e&&e.tagName&&"IMG"===e.tagName.toUpperCase()}(o)){var a=o.src;if(a===this._imageSrc)t=this._imageWidth,n=this._imageHeight;else{var s=o.runtimeStyle,l=s.width,u=s.height;s.width="auto",s.height="auto",t=o.width,n=o.height,s.width=l,s.height=u,this._imageSrc=a,this._imageWidth=t,this._imageHeight=n}o=a}else o===this._imageSrc&&(t=this._imageWidth,n=this._imageHeight);if(o){var c=i.x||0,d=i.y||0,h=i.width,f=i.height,p=i.sWidth,D=i.sHeight,X=i.sx||0,K=i.sy||0,oe=p&&D,ce=this._vmlEl;ce||(ce=Rr.createElement("div"),Im(ce),this._vmlEl=ce);var be,Be=ce.style,He=!1,Ye=1,$e=1;if(this.transform&&(Ye=Ru((be=this.transform)[0]*be[0]+be[1]*be[1]),$e=Ru(be[2]*be[2]+be[3]*be[3]),He=be[1]||be[2]),He){var nt=[c,d],mt=[c+h,d],Qt=[c,d+f],Yt=[c+h,d+f];Rt(nt,nt,be),Rt(mt,mt,be),Rt(Qt,Qt,be),Rt(Yt,Yt,be);var sn=Am(nt[0],mt[0],Qt[0],Yt[0]),xn=Am(nt[1],mt[1],Qt[1],Yt[1]),pn=[];pn.push("M11=",be[0]/Ye,",","M12=",be[2]/$e,",","M21=",be[1]/Ye,",","M22=",be[3]/$e,",","Dx=",_i(c*Ye+be[4]),",","Dy=",_i(d*$e+be[5])),Be.padding="0 "+_i(sn)+"px "+_i(xn)+"px 0",Be.filter="progid:DXImageTransform.Microsoft.Matrix("+pn.join("")+", SizingMethod=clip)"}else be&&(c=c*Ye+be[4],d=d*$e+be[5]),Be.filter="",Be.left=_i(c)+"px",Be.top=_i(d)+"px";var bn=this._imageEl,Pn=this._cropEl;bn||(bn=Rr.createElement("div"),this._imageEl=bn);var Dn=bn.style;if(oe){if(t&&n)Dn.width=_i(Ye*t*h/p)+"px",Dn.height=_i($e*n*f/D)+"px";else{var Hn=new Image,Tn=this;Hn.onload=function(){Hn.onload=null,n=Hn.height,Dn.width=_i(Ye*(t=Hn.width)*h/p)+"px",Dn.height=_i($e*n*f/D)+"px",Tn._imageWidth=t,Tn._imageHeight=n,Tn._imageSrc=o},Hn.src=o}Pn||((Pn=Rr.createElement("div")).style.overflow="hidden",this._cropEl=Pn);var fi=Pn.style;fi.width=_i((h+X*h/p)*Ye),fi.height=_i((f+K*f/D)*$e),fi.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-X*h/p*Ye+",Dy="+-K*f/D*$e+")",Pn.parentNode||ce.appendChild(Pn),bn.parentNode!=Pn&&Pn.appendChild(bn)}else Dn.width=_i(Ye*h)+"px",Dn.height=_i($e*f)+"px",ce.appendChild(bn),Pn&&Pn.parentNode&&(ce.removeChild(Pn),this._cropEl=null);var Kn="",Pi=i.opacity;Pi<1&&(Kn+=".Alpha(opacity="+_i(100*Pi)+") "),Dn.filter=Kn+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+o+", SizingMethod=scale)",ce.style.zIndex=Dm(this.zlevel,this.z,this.z2),_o(e,ce),null!=i.text&&this.drawRectText(e,this.getBoundingRect())}},tr.prototype.onRemove=function(e){Bu(e,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(e)},tr.prototype.onAdd=function(e){_o(e,this._vmlEl),this.appendRectText(e)};var rs,Nm={},Pm=0,tP=document.createElement("div"),nP=function(e){var t=Nm[e];if(!t){Pm>100&&(Pm=0,Nm={});var n,i=tP.style;try{i.font=e,n=i.fontFamily.split(",")[0]}catch(o){}t={style:i.fontStyle||"normal",variant:i.fontVariant||"normal",weight:i.fontWeight||"normal",size:0|parseFloat(i.fontSize||12),family:n||"Microsoft YaHei"},Nm[e]=t,Pm++}return t};Wp.measureText=function(e,t){var n=Rr;rs||((rs=n.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",Rr.body.appendChild(rs));try{rs.style.font=t}catch(i){}return rs.innerHTML="",rs.appendChild(n.createTextNode(e)),{width:rs.offsetWidth}};for(var Lm=new Qn,Fw=[sd,lr,tr,an,ui],Em=0;Em<Fw.length;Em++){var Rm=Fw[Em].prototype;Rm.drawRectText=function(e,t,n,i){var o=this.style;this.__dirty&&zo(o);var a=o.text;if(null!=a&&(a+=""),a){if(o.rich){var s=vs(a,o);a=[];for(var l=0;l<s.lines.length;l++){for(var u=s.lines[l].tokens,c=[],d=0;d<u.length;d++)c.push(u[d].text);a.push(c.join(""))}a=a.join("\n")}var h,f,p=o.textAlign,D=o.textVerticalAlign,X=nP(o.font),K=X.style+" "+X.variant+" "+X.weight+" "+X.size+'px "'+X.family+'"';n=n||Fr(a,K,p,D);var oe=this.transform;if(oe&&!i&&(Lm.copy(t),Lm.applyTransform(oe),t=Lm),i)h=t.x,f=t.y;else{var ce=o.textPosition,be=o.textDistance;if(ce instanceof Array)h=t.x+Ow(ce[0],t.width),f=t.y+Ow(ce[1],t.height),p=p||"left";else{var Be=ga(ce,t,be);h=Be.x,f=Be.y,p=p||Be.textAlign,D=D||Be.textVerticalAlign}}h=no(h,n.width,p),f=Oo(f,n.height,D),f+=n.height/2;var He,Ye,$e,nt=Sp,mt=this._textVmlEl;mt?Ye=(He=($e=mt.firstChild).nextSibling).nextSibling:(mt=nt("line"),He=nt("path"),Ye=nt("textpath"),$e=nt("skew"),Ye.style["v-text-align"]="left",Im(mt),He.textpathok=!0,Ye.on=!0,mt.from="0 0",mt.to="1000 0.05",_o(mt,$e),_o(mt,He),_o(mt,Ye),this._textVmlEl=mt);var Qt=[h,f],Yt=mt.style;oe&&i?(Rt(Qt,Qt,oe),$e.on=!0,$e.matrix=oe[0].toFixed(3)+","+oe[2].toFixed(3)+","+oe[1].toFixed(3)+","+oe[3].toFixed(3)+",0,0",$e.offset=(_i(Qt[0])||0)+","+(_i(Qt[1])||0),$e.origin="0 0",Yt.left="0px",Yt.top="0px"):($e.on=!1,Yt.left=_i(h)+"px",Yt.top=_i(f)+"px"),Ye.string=XN(a);try{Ye.style.font=K}catch(sn){}yh(mt,"fill",{fill:o.textFill,opacity:o.opacity},this),yh(mt,"stroke",{stroke:o.textStroke,opacity:o.opacity,lineDash:o.lineDash},this),mt.style.zIndex=Dm(this.zlevel,this.z,this.z2),_o(e,mt)}},Rm.removeRectText=function(e){Bu(e,this._textVmlEl),this._textVmlEl=null},Rm.appendRectText=function(e){_o(e,this._textVmlEl)}}ui.prototype.brushVML=function(e){var t=this.style;null!=t.text?this.drawRectText(e,{x:t.x||0,y:t.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(e)},ui.prototype.onRemove=function(e){this.removeRectText(e)},ui.prototype.onAdd=function(e){this.appendRectText(e)}}qc.prototype={constructor:qc,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0,!0);this._paintList(e)},_paintList:function(e){for(var t=this._vmlRoot,n=0;n<e.length;n++){var i=e[n];i.invisible||i.ignore?(i.__alreadyNotVisible||i.onRemove(t),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(t),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,t),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(t),this._firstPaint=!1)},resize:function(e,t){if(e=null==e?this._getWidth():e,t=null==t?this._getHeight():t,this._width!=e||this._height!=t){this._width=e,this._height=t;var n=this._vmlViewport.style;n.width=e+"px",n.height=t+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var e=this.root,t=e.currentStyle;return(e.clientWidth||Vs(t.width))-Vs(t.paddingLeft)-Vs(t.paddingRight)|0},_getHeight:function(){var e=this.root,t=e.currentStyle;return(e.clientHeight||Vs(t.height))-Vs(t.paddingTop)-Vs(t.paddingBottom)|0}},m(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){qc.prototype[e]=function(){}}),O("vml",qc);var iP="http://www.w3.org/2000/svg",os=Pr.CMD,rP=Array.prototype.join,as="none",Bm=Math.round,Hw=Math.sin,Vw=Math.cos,Om=Math.PI,xh=2*Math.PI,oP=180/Om,Ww=1e-4,Ou={brush:function(e){var t=e.style,n=e.__svgEl;n||(n=Da("path"),e.__svgEl=n),e.path||e.createPathProxy();var i=e.path;if(e.__dirtyPath){i.beginPath(),e.buildPath(i,e.shape),e.__dirtyPath=!1;var o=function(e){for(var t=[],n=e.data,i=e.len(),o=0;o<i;){var a="",s=0;switch(n[o++]){case os.M:a="M",s=2;break;case os.L:a="L",s=2;break;case os.Q:a="Q",s=4;break;case os.C:a="C",s=6;break;case os.A:var l=n[o++],u=n[o++],c=n[o++],d=n[o++],h=n[o++],f=n[o++],p=n[o++],D=n[o++],X=Math.abs(f),K=Mp(X-xh)&&!Mp(X),oe=!1;oe=X>=xh||!Mp(X)&&(f>-Om&&f<0||f>Om)==!!D;var ce=Kr(l+c*Vw(h)),be=Kr(u+d*Hw(h));K&&(f=D?xh-1e-4:1e-4-xh,oe=!0,9===o&&t.push("M",ce,be));var Be=Kr(l+c*Vw(h+f)),He=Kr(u+d*Hw(h+f));t.push("A",Kr(c),Kr(d),Bm(p*oP),+oe,+D,Be,He);break;case os.Z:a="Z";break;case os.R:Be=Kr(n[o++]),He=Kr(n[o++]);var Ye=Kr(n[o++]),$e=Kr(n[o++]);t.push("M",Be,He,"L",Be+Ye,He,"L",Be+Ye,He+$e,"L",Be,He+$e,"L",Be,He)}a&&t.push(a);for(var nt=0;nt<s;nt++)t.push(Kr(n[o++]))}return t.join(" ")}(i);o.indexOf("NaN")<0&&ki(n,"d",o)}dx(n,t),Tp(n,e.transform),null!=t.text&&_h(e,e.getBoundingRect())}},zm={brush:function(e){var t=e.style,n=t.image;if(n instanceof HTMLImageElement&&(n=n.src),n){var i=t.x||0,o=t.y||0,a=t.width,s=t.height,l=e.__svgEl;l||(l=Da("image"),e.__svgEl=l),n!==e.__imageSrc&&(function(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink","href",n)}(l,0,n),e.__imageSrc=n),ki(l,"width",a),ki(l,"height",s),ki(l,"x",i),ki(l,"y",o),Tp(l,e.transform),null!=t.text&&_h(e,e.getBoundingRect())}}},bh={},Fm=new Qn,_h=function(e,t,n){var i=e.style;e.__dirty&&zo(i);var o=i.text;if(null!=o){o+="";var a=e.__textSvgEl;if(a||(a=Da("text"),e.__textSvgEl=a),dx(a,i,!0),e instanceof ui||e.style.transformText)Tp(a,e.transform);else if(e.transform)Fm.copy(t),Fm.applyTransform(e.transform),t=Fm;else{var s=e.transformCoordToGlobal(t.x,t.y);t.x=s[0],t.y=s[1]}var l,u,c=i.textPosition,d=i.textDistance,h=i.textAlign||"left";"number"==typeof i.fontSize&&(i.fontSize+="px");var f=i.font||[i.fontStyle||"",i.fontWeight||"",i.fontSize||"",i.fontFamily||""].join(" ")||uu,p=hx(i.textVerticalAlign),D=(n=Fr(o,f,h,p)).lineHeight;if(c instanceof Array)l=t.x+c[0],u=t.y+c[1];else{var X=ga(c,t,d);l=X.x,u=X.y,p=hx(X.textVerticalAlign),h=X.textAlign}ki(a,"alignment-baseline",p),f&&(a.style.font=f);var K=i.textPadding;ki(a,"x",l),ki(a,"y",u);var oe=o.split("\n"),ce=oe.length,be=h;"left"===be?(be="start",K&&(l+=K[3])):"right"===be?(be="end",K&&(l-=K[1])):"center"===be&&(be="middle",K&&(l+=(K[3]-K[1])/2));var Be=0;if("baseline"===p?(Be=-n.height+D,K&&(Be-=K[2])):"middle"===p?(Be=(-n.height+D)/2,K&&(u+=(K[0]-K[2])/2)):K&&(Be+=K[0]),e.__text!==o||e.__textFont!==f){var He=e.__tspanList||[];for(e.__tspanList=He,$e=0;$e<ce;$e++)(nt=He[$e])?nt.innerHTML="":(nt=He[$e]=Da("tspan"),a.appendChild(nt),ki(nt,"alignment-baseline",p),ki(nt,"text-anchor",be)),ki(nt,"x",l),ki(nt,"y",u+$e*D+Be),nt.appendChild(document.createTextNode(oe[$e]));for(;$e<He.length;$e++)a.removeChild(He[$e]);He.length=ce,e.__text=o,e.__textFont=f}else if(e.__tspanList.length)for(var Ye=e.__tspanList.length,$e=0;$e<Ye;++$e){var nt=e.__tspanList[$e];nt&&(ki(nt,"x",l),ki(nt,"y",u+$e*D+Be))}}};bh.drawRectText=_h,bh.brush=function(e){var t=e.style;null!=t.text&&(t.textPosition=[0,0],_h(e,{x:t.x||0,y:t.y||0,width:0,height:0},e.getBoundingRect()))},fx.prototype={diff:function(e,t,n){n||(n=function(p,D){return p===D}),this.equals=n;var i=this;e=e.slice();var o=(t=t.slice()).length,a=e.length,s=1,l=o+a,u=[{newPos:-1,components:[]}],c=this.extractCommon(u[0],t,e,0);if(u[0].newPos+1>=o&&c+1>=a){for(var d=[],h=0;h<t.length;h++)d.push(h);return[{indices:d,count:t.length}]}for(;s<=l;){var f=function(){for(var p=-1*s;p<=s;p+=2){var D,X=u[p-1],K=u[p+1],oe=(K?K.newPos:0)-p;X&&(u[p-1]=void 0);var ce=X&&X.newPos+1<o,be=K&&0<=oe&&oe<a;if(ce||be){if(!ce||be&&X.newPos<K.newPos?(D=Ik(K),i.pushComponent(D.components,void 0,!0)):((D=X).newPos++,i.pushComponent(D.components,!0,void 0)),oe=i.extractCommon(D,t,e,p),D.newPos+1>=o&&oe+1>=a)return Ak(0,D.components);u[p]=D}else u[p]=void 0}s++}();if(f)return f}},pushComponent:function(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,i){for(var o=t.length,a=n.length,s=e.newPos,l=s-i,u=0;s+1<o&&l+1<a&&this.equals(t[s+1],n[l+1]);)s++,l++,u++;return u&&e.components.push({count:u}),e.newPos=s,l},tokenize:function(e){return e.slice()},join:function(e){return e.slice()}};var aP=new fx;Li.prototype.createElement=Da,Li.prototype.getDefs=function(e){var t=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?e?((n=t.insertBefore(this.createElement("defs"),t.firstChild)).contains||(n.contains=function(i){var o=n.children;if(!o)return!1;for(var a=o.length-1;a>=0;--a)if(o[a]===i)return!0;return!1}),n):null:n[0]},Li.prototype.update=function(e,t){if(e){var n=this.getDefs(!1);if(e[this._domName]&&n.contains(e[this._domName]))"function"==typeof t&&t(e);else{var i=this.add(e);i&&(e[this._domName]=i)}}},Li.prototype.addDom=function(e){this.getDefs(!0).appendChild(e)},Li.prototype.removeDom=function(e){var t=this.getDefs(!1);t&&e[this._domName]&&(t.removeChild(e[this._domName]),e[this._domName]=null)},Li.prototype.getDoms=function(){var e=this.getDefs(!1);if(!e)return[];var t=[];return m(this._tagNames,function(n){var i=e.getElementsByTagName(n);t=t.concat([].slice.call(i))}),t},Li.prototype.markAllUnused=function(){var e=this;m(this.getDoms(),function(t){t[e._markLabel]="0"})},Li.prototype.markUsed=function(e){e&&(e[this._markLabel]="1")},Li.prototype.removeUnused=function(){var e=this.getDefs(!1);if(e){var t=this;m(this.getDoms(),function(n){"1"!==n[t._markLabel]&&e.removeChild(n)})}},Li.prototype.getSvgProxy=function(e){return e instanceof an?Ou:e instanceof tr?zm:e instanceof ui?bh:Ou},Li.prototype.getTextSvgElement=function(e){return e.__textSvgEl},Li.prototype.getSvgElement=function(e){return e.__svgEl},k(Na,Li),Na.prototype.addWithoutUpdate=function(e,t){if(t&&t.style){var n=this;m(["fill","stroke"],function(i){if(t.style[i]&&("linear"===t.style[i].type||"radial"===t.style[i].type)){var o,a=t.style[i],s=n.getDefs(!0);a._dom?(o=a._dom,s.contains(a._dom)||n.addDom(o)):o=n.add(a),n.markUsed(t);var l=o.getAttribute("id");e.setAttribute(i,"url(#"+l+")")}})}},Na.prototype.add=function(e){var t;if("linear"===e.type)t=this.createElement("linearGradient");else{if("radial"!==e.type)return null;t=this.createElement("radialGradient")}return e.id=e.id||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id),this.updateDom(e,t),this.addDom(t),t},Na.prototype.update=function(e){var t=this;Li.prototype.update.call(this,e,function(){var n=e.type,i=e._dom.tagName;"linear"===n&&"linearGradient"===i||"radial"===n&&"radialGradient"===i?t.updateDom(e,e._dom):(t.removeDom(e),t.add(e))})},Na.prototype.updateDom=function(e,t){if("linear"===e.type)t.setAttribute("x1",e.x),t.setAttribute("y1",e.y),t.setAttribute("x2",e.x2),t.setAttribute("y2",e.y2);else{if("radial"!==e.type)return;t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("r",e.r)}t.setAttribute("gradientUnits",e.global?"userSpaceOnUse":"objectBoundingBox"),t.innerHTML="";for(var n=e.colorStops,i=0,o=n.length;i<o;++i){var a=this.createElement("stop");a.setAttribute("offset",100*n[i].offset+"%"),a.setAttribute("stop-color",n[i].color),t.appendChild(a)}e._dom=t},Na.prototype.markUsed=function(e){if(e.style){var t=e.style.fill;t&&t._dom&&Li.prototype.markUsed.call(this,t._dom),(t=e.style.stroke)&&t._dom&&Li.prototype.markUsed.call(this,t._dom)}},k(nu,Li),nu.prototype.update=function(e){var t=this.getSvgElement(e);t&&this.updateDom(t,e.__clipPaths,!1);var n=this.getTextSvgElement(e);n&&this.updateDom(n,e.__clipPaths,!0),this.markUsed(e)},nu.prototype.updateDom=function(e,t,n){if(t&&t.length>0){var i,o,a=this.getDefs(!0),s=t[0],l=n?"_textDom":"_dom";s[l]?(o=s[l].getAttribute("id"),a.contains(i=s[l])||a.appendChild(i)):(o="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(i=this.createElement("clipPath")).setAttribute("id",o),a.appendChild(i),s[l]=i);var u=this.getSvgProxy(s);if(s.transform&&s.parent.invTransform&&!n){var c=Array.prototype.slice.call(s.transform);Ut(s.transform,s.parent.invTransform,s.transform),u.brush(s),s.transform=c}else u.brush(s);var d=this.getSvgElement(s);i.innerHTML="",i.appendChild(d.cloneNode()),e.setAttribute("clip-path","url(#"+o+")"),t.length>1&&this.updateDom(i,t.slice(1),n)}else e&&e.setAttribute("clip-path","none")},nu.prototype.markUsed=function(e){var t=this;e.__clipPaths&&e.__clipPaths.length>0&&m(e.__clipPaths,function(n){n._dom&&Li.prototype.markUsed.call(t,n._dom),n._textDom&&Li.prototype.markUsed.call(t,n._textDom)})},k(Go,Li),Go.prototype.addWithoutUpdate=function(e,t){if(t&&px(t.style)){var n,i=t.style;i._shadowDom?(n=i._shadowDom,this.getDefs(!0).contains(i._shadowDom)||this.addDom(n)):n=this.add(t),this.markUsed(t);var o=n.getAttribute("id");e.style.filter="url(#"+o+")"}},Go.prototype.add=function(e){var t=this.createElement("filter"),n=e.style;return n._shadowDomId=n._shadowDomId||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-shadow-"+n._shadowDomId),this.updateDom(e,t),this.addDom(t),t},Go.prototype.update=function(e,t){var n=t.style;if(px(n)){var i=this;Li.prototype.update.call(this,t,function(o){i.updateDom(t,o._shadowDom)})}else this.remove(e,n)},Go.prototype.remove=function(e,t){null!=t._shadowDomId&&(this.removeDom(t),e.style.filter="")},Go.prototype.updateDom=function(e,t){var n=t.getElementsByTagName("feDropShadow");n=0===n.length?this.createElement("feDropShadow"):n[0];var i,o,a,s,l=e.style,u=e.scale&&e.scale[0]||1,c=e.scale&&e.scale[1]||1;if(l.shadowBlur||l.shadowOffsetX||l.shadowOffsetY)i=l.shadowOffsetX||0,o=l.shadowOffsetY||0,a=l.shadowBlur,s=l.shadowColor;else{if(!l.textShadowBlur)return void this.removeDom(t,l);i=l.textShadowOffsetX||0,o=l.textShadowOffsetY||0,a=l.textShadowBlur,s=l.textShadowColor}n.setAttribute("dx",i/u),n.setAttribute("dy",o/c),n.setAttribute("flood-color",s),n.setAttribute("stdDeviation",a/2/u+" "+a/2/c),t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width",Math.ceil(a/2*200)+"%"),t.setAttribute("height",Math.ceil(a/2*200)+"%"),t.appendChild(n),l._shadowDom=t},Go.prototype.markUsed=function(e){var t=e.style;t&&t._shadowDom&&Li.prototype.markUsed.call(this,t._shadowDom)};var wh=function(e,t,n,i){this.root=e,this.storage=t,this._opts=n=J({},n||{});var o=Da("svg");o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("version","1.1"),o.setAttribute("baseProfile","full"),o.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new Na(i,o),this.clipPathManager=new nu(i,o),this.shadowManager=new Go(i,o);var a=document.createElement("div");a.style.cssText="overflow:hidden;position:relative",this._svgRoot=o,this._viewport=a,e.appendChild(a),a.appendChild(o),this.resize(n.width,n.height),this._visibleList=[]};wh.prototype={constructor:wh,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0);this._paintList(e)},_paintList:function(e){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var t,n=this._svgRoot,i=this._visibleList,o=e.length,a=[];for(t=0;t<o;t++){var s=Dk(p=e[t]),l=$c(p)||Xc(p);p.invisible||(p.__dirty&&(s&&s.brush(p),this.clipPathManager.update(p),p.style&&(this.gradientManager.update(p.style.fill),this.gradientManager.update(p.style.stroke),this.shadowManager.update(l,p)),p.__dirty=!1),a.push(p))}var u,c=function(e,t,n){return aP.diff(e,t,void 0)}(i,a);for(t=0;t<c.length;t++)if((h=c[t]).removed)for(f=0;f<h.count;f++){l=$c(p=i[h.indices[f]]);var d=Xc(p);vx(n,l),vx(n,d)}for(t=0;t<c.length;t++){var h=c[t];if(h.added)for(f=0;f<h.count;f++)l=$c(p=a[h.indices[f]]),d=Xc(p),u?Yc(n,l,u):mx(n,l),l?Yc(n,d,l):u?Yc(n,d,u):mx(n,d),Yc(n,d,l),u=d||l||u,this.gradientManager.addWithoutUpdate(l,p),this.shadowManager.addWithoutUpdate(u,p),this.clipPathManager.markUsed(p);else if(!h.removed)for(var f=0;f<h.count;f++){var p=a[h.indices[f]];u=l=Xc(p)||$c(p)||u,this.gradientManager.markUsed(p),this.gradientManager.addWithoutUpdate(l,p),this.shadowManager.markUsed(p),this.shadowManager.addWithoutUpdate(l,p),this.clipPathManager.markUsed(p)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=a},_getDefs:function(e){var t=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?e?((n=t.insertBefore(Da("defs"),t.firstChild)).contains||(n.contains=function(i){var o=n.children;if(!o)return!1;for(var a=o.length-1;a>=0;--a)if(o[a]===i)return!0;return!1}),n):null:n[0]},resize:function(e,t){var n=this._viewport;n.style.display="none";var i=this._opts;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||this._height!==t){this._width=e,this._height=t;var o=n.style;o.width=e+"px",o.height=t+"px";var a=this._svgRoot;a.setAttribute("width",e),a.setAttribute("height",t)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],i=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var s=this.root,l=document.defaultView.getComputedStyle(s);return(s[i]||Zc(l[n])||Zc(s.style[n]))-(Zc(l[o])||0)-(Zc(l[a])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToSvg:function(){return this.refresh(),"data:img/svg+xml;utf-8,"+unescape(this._svgRoot.outerHTML)}},m(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){wh.prototype[e]=function(){}}),O("svg",wh),Ge.version="4.0.2",Ge.dependencies={zrender:"4.0.1"},Ge.PRIORITY=el,Ge.init=function(e,t,n){var i=qh(e);if(i)return i;var o=new Bl(e,t,n);return o.id="ec_"+XA++,Ga[o.id]=o,Ee(e,_g,o.id),function(e){function t(i,o){for(var a=0;a<i.length;a++)i[a][n]=o}var n="__connectUpdateStatus";sr(Hd,function(i,o){e._messageCenter.on(o,function(a){if(Vd[e.group]&&0!==e[n]){if(a&&a.escapeConnect)return;var s=e.makeActionFromEvent(a),l=[];sr(Ga,function(u){u!==e&&u.group===e.group&&l.push(u)}),t(l,0),sr(l,function(u){1!==u[n]&&u.dispatchAction(s)}),t(l,2)}})})}(o),o},Ge.connect=function(e){if($(e)){var t=e;e=null,sr(t,function(n){null!=n.group&&(e=n.group)}),e=e||"g_"+$A++,sr(t,function(n){n.group=e})}return Vd[e]=!0,e},Ge.disConnect=Tv,Ge.disconnect=KA,Ge.dispose=function(e){"string"==typeof e?e=Ga[e]:e instanceof Bl||(e=qh(e)),e instanceof Bl&&!e.isDisposed()&&e.dispose()},Ge.getInstanceByDom=qh,Ge.getInstanceById=function(e){return Ga[e]},Ge.registerTheme=Zh,Ge.registerPreprocessor=cr,Ge.registerProcessor=Wr,Ge.registerPostUpdate=function(e){wb.push(e)},Ge.registerAction=yi,Ge.registerCoordinateSystem=Yh,Ge.getCoordinateSystemDimensions=function(e){var t=hr.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},Ge.registerLayout=zi,Ge.registerVisual=Di,Ge.registerLoading=kv,Ge.extendComponentModel=_r,Ge.extendComponentView=er,Ge.extendSeriesModel=zl,Ge.extendChartView=vr,Ge.setCanvasCreator=function(e){ht("createCanvas",e)},Ge.registerMap=function(e,t,n){t.geoJson&&!t.features&&(n=t.specialAreas,t=t.geoJson),"string"==typeof t&&(t="undefined"!=typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")()),Sb[e]={geoJson:t,specialAreas:n}},Ge.getMap=uc,Ge.dataTool={},Ge.zrender=nA,Ge.graphic=Jr,Ge.number=MA,Ge.format=kA,Ge.throttle=Wh,Ge.helper=gI,Ge.matrix=Uk,Ge.vector=Vk,Ge.color=Zk,Ge.parseGeoJSON=Pg,Ge.parseGeoJson=vI,Ge.util=Nb,Ge.List=ir,Ge.Model=vi,Ge.Axis=Ki,Ge.env=li}),function(Ge,ht){"object"==typeof exports&&"undefined"!=typeof module?ht(exports,require("echarts")):"function"==typeof define&&define.amd?define(["exports","echarts"],ht):ht(Ge.bmap={},Ge.echarts)}(this,function(Ge,ht){"use strict";function Bt(V,A){this._bmap=V,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=A,this._projection=new BMap.MercatorProjection}function he(V,A){return A=A||[0,0],ht.util.map([0,1],function(k){var M=A[k],H=V[k]/2,m=[],y=[];return m[k]=M-H,y[k]=M+H,m[1-k]=y[1-k]=A[1-k],Math.abs(this.dataToPoint(m)[k]-this.dataToPoint(y)[k])},this)}var ne;Bt.prototype.dimensions=["lng","lat"],Bt.prototype.setZoom=function(V){this._zoom=V},Bt.prototype.setCenter=function(V){this._center=this._projection.lngLatToPoint(new BMap.Point(V[0],V[1]))},Bt.prototype.setMapOffset=function(V){this._mapOffset=V},Bt.prototype.getBMap=function(){return this._bmap},Bt.prototype.dataToPoint=function(V){var A=new BMap.Point(V[0],V[1]),k=this._bmap.pointToOverlayPixel(A),M=this._mapOffset;return[k.x-M[0],k.y-M[1]]},Bt.prototype.pointToData=function(V){var A=this._mapOffset;return[(V=this._bmap.overlayPixelToPoint({x:V[0]+A[0],y:V[1]+A[1]})).lng,V.lat]},Bt.prototype.getViewRect=function(){var V=this._api;return new ht.graphic.BoundingRect(0,0,V.getWidth(),V.getHeight())},Bt.prototype.getRoamTransform=function(){return ht.matrix.create()},Bt.prototype.prepareCustoms=function(V){var A=this.getViewRect();return{coordSys:{type:"bmap",x:A.x,y:A.y,width:A.width,height:A.height},api:{coord:ht.util.bind(this.dataToPoint,this),size:ht.util.bind(he,this)}}},Bt.dimensions=Bt.prototype.dimensions,Bt.create=function(V,A){var k,M=A.getDom();V.eachComponent("bmap",function(H){var m=A.getZr().painter,y=m.getViewportRoot();if("undefined"==typeof BMap)throw new Error("BMap api is not loaded");if(ne=ne||function(){function V(A){this._root=A}return(V.prototype=new BMap.Overlay).initialize=function(A){return A.getPanes().labelPane.appendChild(this._root),this._root},V.prototype.draw=function(){},V}(),k)throw new Error("Only one bmap component can exist");if(!H.__bmap){var P=M.querySelector(".ec-extension-bmap");P&&(y.style.left="0px",y.style.top="0px",M.removeChild(P)),(P=document.createElement("div")).style.cssText="width:100%;height:100%",P.classList.add("ec-extension-bmap"),M.appendChild(P);var re=H.__bmap=new BMap.Map(P),Z=new ne(y);re.addOverlay(Z),m.getViewportRootOffset=function(){return{offsetLeft:0,offsetTop:0}}}re=H.__bmap;var Q=H.get("center"),$=H.get("zoom");if(Q&&$){var fe=new BMap.Point(Q[0],Q[1]);re.centerAndZoom(fe,$)}(k=new Bt(re,A)).setMapOffset(H.__mapOffset||[0,0]),k.setZoom($),k.setCenter(Q),H.coordinateSystem=k}),V.eachSeries(function(H){"bmap"===H.get("coordinateSystem")&&(H.coordinateSystem=k)})},ht.extendComponentModel({type:"bmap",getBMap:function(){return this.__bmap},setCenterAndZoom:function(V,A){this.option.center=V,this.option.zoom=A},centerOrZoomChanged:function(V,A){var k=this.option;return!(function(V,A){return V&&A&&V[0]===A[0]&&V[1]===A[1]}(V,k.center)&&A===k.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},roam:!1}}),ht.extendComponentView({type:"bmap",render:function(V,A,k){function M(){H||k.dispatchAction({type:"bmapRoam"})}var H=!0,m=V.getBMap(),y=k.getZr().painter.getViewportRoot(),P=V.coordinateSystem,Z=function(pe,Ce){if(!H){var ue=y.parentNode.parentNode.parentNode,Te=[-parseInt(ue.style.left,10)||0,-parseInt(ue.style.top,10)||0];y.style.left=Te[0]+"px",y.style.top=Te[1]+"px",P.setMapOffset(Te),V.__mapOffset=Te,k.dispatchAction({type:"bmapRoam"})}};m.removeEventListener("moving",this._oldMoveHandler),m.removeEventListener("zoomend",this._oldZoomEndHandler),m.addEventListener("moving",Z),m.addEventListener("zoomend",M),this._oldMoveHandler=Z,this._oldZoomEndHandler=M;var re=V.get("roam");re&&"scale"!==re?m.enableDragging():m.disableDragging(),re&&"move"!==re?(m.enableScrollWheelZoom(),m.enableDoubleClickZoom(),m.enablePinchToZoom()):(m.disableScrollWheelZoom(),m.disableDoubleClickZoom(),m.disablePinchToZoom());var Q=V.__mapStyle,$=V.get("mapStyle")||{},fe=JSON.stringify($);JSON.stringify(Q)!==fe&&(Object.keys($).length&&m.setMapStyle($),V.__mapStyle=JSON.parse(fe)),H=!1}}),ht.registerCoordinateSystem("bmap",Bt),ht.registerAction({type:"bmapRoam",event:"bmapRoam",update:"updateLayout"},function(V,A){A.eachComponent("bmap",function(k){var M=k.getBMap(),H=M.getCenter();k.setCenterAndZoom([H.lng,H.lat],M.getZoom())})}),Ge.version="1.0.0"}),function(Ge){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Ge():"function"==typeof define&&define.amd?define([],Ge):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Chart=Ge()}(function(){return function Ge(ht,Bt,he){function ke(V,A){if(!Bt[V]){if(!ht[V]){var k="function"==typeof require&&require;if(!A&&k)return k(V,!0);if(J)return J(V,!0);var M=new Error("Cannot find module '"+V+"'");throw M.code="MODULE_NOT_FOUND",M}var H=Bt[V]={exports:{}};ht[V][0].call(H.exports,function(m){return ke(ht[V][1][m]||m)},H,H.exports,Ge,ht,Bt,he)}return Bt[V].exports}for(var J="function"==typeof require&&require,ne=0;ne<he.length;ne++)ke(he[ne]);return ke}({1:[function(Ge,ht,Bt){},{}],2:[function(Ge,ht,Bt){function he(P){if(P){var Z=[0,0,0],re=1,Q=P.match(/^#([a-fA-F0-9]{3})$/i);if(Q)for(Q=Q[1],$=0;$<Z.length;$++)Z[$]=parseInt(Q[$]+Q[$],16);else if(Q=P.match(/^#([a-fA-F0-9]{6})$/i))for(Q=Q[1],$=0;$<Z.length;$++)Z[$]=parseInt(Q.slice(2*$,2*$+2),16);else if(Q=P.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for($=0;$<Z.length;$++)Z[$]=parseInt(Q[$+1]);re=parseFloat(Q[4])}else if(Q=P.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for($=0;$<Z.length;$++)Z[$]=Math.round(2.55*parseFloat(Q[$+1]));re=parseFloat(Q[4])}else if(Q=P.match(/(\w+)/)){if("transparent"==Q[1])return[0,0,0,0];if(!(Z=H[Q[1]]))return}for(var $=0;$<Z.length;$++)Z[$]=k(Z[$],0,255);return re=re||0==re?k(re,0,1):1,Z[3]=re,Z}}function ke(P){if(P){var Z=P.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(Z){var re=parseFloat(Z[4]);return[k(parseInt(Z[1]),0,360),k(parseFloat(Z[2]),0,100),k(parseFloat(Z[3]),0,100),k(isNaN(re)?1:re,0,1)]}}}function J(P){if(P){var Z=P.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(Z){var re=parseFloat(Z[4]);return[k(parseInt(Z[1]),0,360),k(parseFloat(Z[2]),0,100),k(parseFloat(Z[3]),0,100),k(isNaN(re)?1:re,0,1)]}}}function ne(P,Z){return void 0===Z&&(Z=void 0!==P[3]?P[3]:1),"rgba("+P[0]+", "+P[1]+", "+P[2]+", "+Z+")"}function V(P,Z){return"rgba("+Math.round(P[0]/255*100)+"%, "+Math.round(P[1]/255*100)+"%, "+Math.round(P[2]/255*100)+"%, "+(Z||P[3]||1)+")"}function A(P,Z){return void 0===Z&&(Z=void 0!==P[3]?P[3]:1),"hsla("+P[0]+", "+P[1]+"%, "+P[2]+"%, "+Z+")"}function k(P,Z,re){return Math.min(Math.max(Z,P),re)}function M(P){var Z=P.toString(16).toUpperCase();return Z.length<2?"0"+Z:Z}var H=Ge(6);ht.exports={getRgba:he,getHsla:ke,getRgb:function(P){var Z=he(P);return Z&&Z.slice(0,3)},getHsl:function(P){var Z=ke(P);return Z&&Z.slice(0,3)},getHwb:J,getAlpha:function(P){var Z=he(P);return Z||(Z=ke(P))||(Z=J(P))?Z[3]:void 0},hexString:function(P){return"#"+M(P[0])+M(P[1])+M(P[2])},rgbString:function(P,Z){return Z<1||P[3]&&P[3]<1?ne(P,Z):"rgb("+P[0]+", "+P[1]+", "+P[2]+")"},rgbaString:ne,percentString:function(P,Z){return Z<1||P[3]&&P[3]<1?V(P,Z):"rgb("+Math.round(P[0]/255*100)+"%, "+Math.round(P[1]/255*100)+"%, "+Math.round(P[2]/255*100)+"%)"},percentaString:V,hslString:function(P,Z){return Z<1||P[3]&&P[3]<1?A(P,Z):"hsl("+P[0]+", "+P[1]+"%, "+P[2]+"%)"},hslaString:A,hwbString:function(P,Z){return void 0===Z&&(Z=void 0!==P[3]?P[3]:1),"hwb("+P[0]+", "+P[1]+"%, "+P[2]+"%"+(void 0!==Z&&1!==Z?", "+Z:"")+")"},keyword:function(P){return m[P.slice(0,3)]}};var m={};for(var y in H)m[H[y]]=y},{6:6}],3:[function(Ge,ht,Bt){var he=Ge(5),ke=Ge(2),J=function(ne){return ne instanceof J?ne:this instanceof J?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof ne?(V=ke.getRgba(ne))?this.setValues("rgb",V):(V=ke.getHsla(ne))?this.setValues("hsl",V):(V=ke.getHwb(ne))&&this.setValues("hwb",V):"object"==typeof ne&&(void 0!==(V=ne).r||void 0!==V.red?this.setValues("rgb",V):void 0!==V.l||void 0!==V.lightness?this.setValues("hsl",V):void 0!==V.v||void 0!==V.value?this.setValues("hsv",V):void 0!==V.w||void 0!==V.whiteness?this.setValues("hwb",V):void 0===V.c&&void 0===V.cyan||this.setValues("cmyk",V)))):new J(ne);var V};J.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var ne=this.values;return 1!==ne.alpha?ne.hwb.concat([ne.alpha]):ne.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var ne=this.values;return ne.rgb.concat([ne.alpha])},hslaArray:function(){var ne=this.values;return ne.hsl.concat([ne.alpha])},alpha:function(ne){return void 0===ne?this.values.alpha:(this.setValues("alpha",ne),this)},red:function(ne){return this.setChannel("rgb",0,ne)},green:function(ne){return this.setChannel("rgb",1,ne)},blue:function(ne){return this.setChannel("rgb",2,ne)},hue:function(ne){return ne&&(ne=(ne%=360)<0?360+ne:ne),this.setChannel("hsl",0,ne)},saturation:function(ne){return this.setChannel("hsl",1,ne)},lightness:function(ne){return this.setChannel("hsl",2,ne)},saturationv:function(ne){return this.setChannel("hsv",1,ne)},whiteness:function(ne){return this.setChannel("hwb",1,ne)},blackness:function(ne){return this.setChannel("hwb",2,ne)},value:function(ne){return this.setChannel("hsv",2,ne)},cyan:function(ne){return this.setChannel("cmyk",0,ne)},magenta:function(ne){return this.setChannel("cmyk",1,ne)},yellow:function(ne){return this.setChannel("cmyk",2,ne)},black:function(ne){return this.setChannel("cmyk",3,ne)},hexString:function(){return ke.hexString(this.values.rgb)},rgbString:function(){return ke.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return ke.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return ke.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return ke.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return ke.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return ke.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return ke.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var ne=this.values.rgb;return ne[0]<<16|ne[1]<<8|ne[2]},luminosity:function(){for(var ne=this.values.rgb,V=[],A=0;A<ne.length;A++){var k=ne[A]/255;V[A]=k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4)}return.2126*V[0]+.7152*V[1]+.0722*V[2]},contrast:function(ne){var V=this.luminosity(),A=ne.luminosity();return V>A?(V+.05)/(A+.05):(A+.05)/(V+.05)},level:function(ne){var V=this.contrast(ne);return V>=7.1?"AAA":V>=4.5?"AA":""},dark:function(){var ne=this.values.rgb;return(299*ne[0]+587*ne[1]+114*ne[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var ne=[],V=0;V<3;V++)ne[V]=255-this.values.rgb[V];return this.setValues("rgb",ne),this},lighten:function(ne){var V=this.values.hsl;return V[2]+=V[2]*ne,this.setValues("hsl",V),this},darken:function(ne){var V=this.values.hsl;return V[2]-=V[2]*ne,this.setValues("hsl",V),this},saturate:function(ne){var V=this.values.hsl;return V[1]+=V[1]*ne,this.setValues("hsl",V),this},desaturate:function(ne){var V=this.values.hsl;return V[1]-=V[1]*ne,this.setValues("hsl",V),this},whiten:function(ne){var V=this.values.hwb;return V[1]+=V[1]*ne,this.setValues("hwb",V),this},blacken:function(ne){var V=this.values.hwb;return V[2]+=V[2]*ne,this.setValues("hwb",V),this},greyscale:function(){var ne=this.values.rgb,V=.3*ne[0]+.59*ne[1]+.11*ne[2];return this.setValues("rgb",[V,V,V]),this},clearer:function(ne){var V=this.values.alpha;return this.setValues("alpha",V-V*ne),this},opaquer:function(ne){var V=this.values.alpha;return this.setValues("alpha",V+V*ne),this},rotate:function(ne){var V=this.values.hsl,A=(V[0]+ne)%360;return V[0]=A<0?360+A:A,this.setValues("hsl",V),this},mix:function(ne,V){var A=this,k=ne,M=void 0===V?.5:V,H=2*M-1,m=A.alpha()-k.alpha(),y=((H*m==-1?H:(H+m)/(1+H*m))+1)/2,P=1-y;return this.rgb(y*A.red()+P*k.red(),y*A.green()+P*k.green(),y*A.blue()+P*k.blue()).alpha(A.alpha()*M+k.alpha()*(1-M))},toJSON:function(){return this.rgb()},clone:function(){var ne,V,A=new J,k=this.values,M=A.values;for(var H in k)k.hasOwnProperty(H)&&("[object Array]"===(V={}.toString.call(ne=k[H]))?M[H]=ne.slice(0):"[object Number]"===V?M[H]=ne:console.error("unexpected color value:",ne));return A}},J.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},J.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},J.prototype.getValues=function(ne){for(var V=this.values,A={},k=0;k<ne.length;k++)A[ne.charAt(k)]=V[ne][k];return 1!==V.alpha&&(A.a=V.alpha),A},J.prototype.setValues=function(ne,V){var A,P,k=this.values,M=this.spaces,H=this.maxes,m=1;if(this.valid=!0,"alpha"===ne)m=V;else if(V.length)k[ne]=V.slice(0,ne.length),m=V[ne.length];else if(void 0!==V[ne.charAt(0)]){for(A=0;A<ne.length;A++)k[ne][A]=V[ne.charAt(A)];m=V.a}else if(void 0!==V[M[ne][0]]){var y=M[ne];for(A=0;A<ne.length;A++)k[ne][A]=V[y[A]];m=V.alpha}if(k.alpha=Math.max(0,Math.min(1,void 0===m?k.alpha:m)),"alpha"===ne)return!1;for(A=0;A<ne.length;A++)P=Math.max(0,Math.min(H[ne][A],k[ne][A])),k[ne][A]=Math.round(P);for(var Z in M)Z!==ne&&(k[Z]=he[ne][Z](k[ne]));return!0},J.prototype.setSpace=function(ne,V){var A=V[0];return void 0===A?this.getValues(ne):("number"==typeof A&&(A=Array.prototype.slice.call(V)),this.setValues(ne,A),this)},J.prototype.setChannel=function(ne,V,A){var k=this.values[ne];return void 0===A?k[V]:(A===k[V]||(k[V]=A,this.setValues(ne,k)),this)},"undefined"!=typeof window&&(window.Color=J),ht.exports=J},{2:2,5:5}],4:[function(Ge,ht,Bt){function he(se){var ve,Me,Ne=se[0]/255,Se=se[1]/255,Le=se[2]/255,Ue=Math.min(Ne,Se,Le),Qe=Math.max(Ne,Se,Le),Tt=Qe-Ue;return Qe==Ue?ve=0:Ne==Qe?ve=(Se-Le)/Tt:Se==Qe?ve=2+(Le-Ne)/Tt:Le==Qe&&(ve=4+(Ne-Se)/Tt),(ve=Math.min(60*ve,360))<0&&(ve+=360),Me=(Ue+Qe)/2,[ve,100*(Qe==Ue?0:Me<=.5?Tt/(Qe+Ue):Tt/(2-Qe-Ue)),100*Me]}function ke(se){var ve,_e,Ne=se[0],Se=se[1],Le=se[2],Ue=Math.min(Ne,Se,Le),Qe=Math.max(Ne,Se,Le),Tt=Qe-Ue;return _e=0==Qe?0:Tt/Qe*1e3/10,Qe==Ue?ve=0:Ne==Qe?ve=(Se-Le)/Tt:Se==Qe?ve=2+(Le-Ne)/Tt:Le==Qe&&(ve=4+(Ne-Se)/Tt),(ve=Math.min(60*ve,360))<0&&(ve+=360),[ve,_e,Qe/255*1e3/10]}function J(se){var ve=se[0],_e=se[1],Me=se[2];return[he(se)[0],1/255*Math.min(ve,Math.min(_e,Me))*100,100*(Me=1-1/255*Math.max(ve,Math.max(_e,Me)))]}function ne(se){var Ne,Se=se[0]/255,Le=se[1]/255,Ue=se[2]/255;return[100*((1-Se-(Ne=Math.min(1-Se,1-Le,1-Ue)))/(1-Ne)||0),100*((1-Le-Ne)/(1-Ne)||0),100*((1-Ue-Ne)/(1-Ne)||0),100*Ne]}function V(se){return ue[JSON.stringify(se)]}function A(se){var ve=se[0]/255,_e=se[1]/255,Me=se[2]/255;return[100*(.4124*(ve=ve>.04045?Math.pow((ve+.055)/1.055,2.4):ve/12.92)+.3576*(_e=_e>.04045?Math.pow((_e+.055)/1.055,2.4):_e/12.92)+.1805*(Me=Me>.04045?Math.pow((Me+.055)/1.055,2.4):Me/12.92)),100*(.2126*ve+.7152*_e+.0722*Me),100*(.0193*ve+.1192*_e+.9505*Me)]}function k(se){var Ne=A(se),Se=Ne[0],Le=Ne[1],Ue=Ne[2];return Le/=100,Ue/=108.883,Se=(Se/=95.047)>.008856?Math.pow(Se,1/3):7.787*Se+16/116,[116*(Le=Le>.008856?Math.pow(Le,1/3):7.787*Le+16/116)-16,500*(Se-Le),200*(Le-(Ue=Ue>.008856?Math.pow(Ue,1/3):7.787*Ue+16/116))]}function M(se){var ve,_e,Me,Ne,Se,Le=se[0]/360,Ue=se[1]/100,Qe=se[2]/100;if(0==Ue)return[Se=255*Qe,Se,Se];ve=2*Qe-(_e=Qe<.5?Qe*(1+Ue):Qe+Ue-Qe*Ue),Ne=[0,0,0];for(var Tt=0;Tt<3;Tt++)(Me=Le+1/3*-(Tt-1))<0&&Me++,Me>1&&Me--,Ne[Tt]=255*(Se=6*Me<1?ve+6*(_e-ve)*Me:2*Me<1?_e:3*Me<2?ve+(_e-ve)*(2/3-Me)*6:ve);return Ne}function H(se){var ve=se[0]/60,_e=se[1]/100,Me=se[2]/100,Ne=Math.floor(ve)%6,Se=ve-Math.floor(ve),Le=255*Me*(1-_e),Ue=255*Me*(1-_e*Se),Qe=255*Me*(1-_e*(1-Se));switch(Me*=255,Ne){case 0:return[Me,Qe,Le];case 1:return[Ue,Me,Le];case 2:return[Le,Me,Qe];case 3:return[Le,Ue,Me];case 4:return[Qe,Le,Me];case 5:return[Me,Le,Ue]}}function m(se){var ve,_e,Me,Ne,Se=se[0]/360,Le=se[1]/100,Ue=se[2]/100,Qe=Le+Ue;switch(Qe>1&&(Le/=Qe,Ue/=Qe),Me=6*Se-(ve=Math.floor(6*Se)),0!=(1&ve)&&(Me=1-Me),Ne=Le+Me*((_e=1-Ue)-Le),ve){default:r=_e,g=Ne,b=Le;break;case 1:r=Ne,g=_e,b=Le;break;case 2:r=Le,g=_e,b=Ne;break;case 3:r=Le,g=Ne,b=_e;break;case 4:r=Ne,g=Le,b=_e;break;case 5:r=_e,g=Le,b=Ne}return[255*r,255*g,255*b]}function y(se){var Se=se[1]/100,Le=se[2]/100,Ue=se[3]/100;return[255*(1-Math.min(1,se[0]/100*(1-Ue)+Ue)),255*(1-Math.min(1,Se*(1-Ue)+Ue)),255*(1-Math.min(1,Le*(1-Ue)+Ue))]}function P(se){var ve,_e,Me,Ne=se[0]/100,Se=se[1]/100,Le=se[2]/100;return _e=-.9689*Ne+1.8758*Se+.0415*Le,Me=.0557*Ne+-.204*Se+1.057*Le,ve=(ve=3.2406*Ne+-1.5372*Se+-.4986*Le)>.0031308?1.055*Math.pow(ve,1/2.4)-.055:ve*=12.92,_e=_e>.0031308?1.055*Math.pow(_e,1/2.4)-.055:_e*=12.92,Me=Me>.0031308?1.055*Math.pow(Me,1/2.4)-.055:Me*=12.92,[255*(ve=Math.min(Math.max(0,ve),1)),255*(_e=Math.min(Math.max(0,_e),1)),255*(Me=Math.min(Math.max(0,Me),1))]}function Z(se){var Ne=se[0],Se=se[1],Le=se[2];return Se/=100,Le/=108.883,Ne=(Ne/=95.047)>.008856?Math.pow(Ne,1/3):7.787*Ne+16/116,[116*(Se=Se>.008856?Math.pow(Se,1/3):7.787*Se+16/116)-16,500*(Ne-Se),200*(Se-(Le=Le>.008856?Math.pow(Le,1/3):7.787*Le+16/116))]}function re(se){var ve,_e,Me,Ne,Se=se[0],Le=se[1],Ue=se[2];return Se<=8?Ne=(_e=100*Se/903.3)/100*7.787+16/116:(_e=100*Math.pow((Se+16)/116,3),Ne=Math.pow(_e/100,1/3)),[ve=ve/95.047<=.008856?ve=95.047*(Le/500+Ne-16/116)/7.787:95.047*Math.pow(Le/500+Ne,3),_e,Me=Me/108.883<=.008859?Me=108.883*(Ne-Ue/200-16/116)/7.787:108.883*Math.pow(Ne-Ue/200,3)]}function Q(se){var _e,Ne=se[0],Se=se[1],Le=se[2];return(_e=360*Math.atan2(Le,Se)/2/Math.PI)<0&&(_e+=360),[Ne,Math.sqrt(Se*Se+Le*Le),_e]}function $(se){return P(re(se))}function fe(se){var Me,Se=se[1];return Me=se[2]/360*2*Math.PI,[se[0],Se*Math.cos(Me),Se*Math.sin(Me)]}function pe(se){return Ce[se]}ht.exports={rgb2hsl:he,rgb2hsv:ke,rgb2hwb:J,rgb2cmyk:ne,rgb2keyword:V,rgb2xyz:A,rgb2lab:k,rgb2lch:function(se){return Q(k(se))},hsl2rgb:M,hsl2hsv:function(se){var Ne=se[1]/100,Se=se[2]/100;return 0===Se?[0,0,0]:[se[0],2*(Ne*=(Se*=2)<=1?Se:2-Se)/(Se+Ne)*100,(Se+Ne)/2*100]},hsl2hwb:function(se){return J(M(se))},hsl2cmyk:function(se){return ne(M(se))},hsl2keyword:function(se){return V(M(se))},hsv2rgb:H,hsv2hsl:function(se){var ve,_e,Ne=se[1]/100,Se=se[2]/100;return ve=Ne*Se,[se[0],100*(ve=(ve/=(_e=(2-Ne)*Se)<=1?_e:2-_e)||0),100*(_e/=2)]},hsv2hwb:function(se){return J(H(se))},hsv2cmyk:function(se){return ne(H(se))},hsv2keyword:function(se){return V(H(se))},hwb2rgb:m,hwb2hsl:function(se){return he(m(se))},hwb2hsv:function(se){return ke(m(se))},hwb2cmyk:function(se){return ne(m(se))},hwb2keyword:function(se){return V(m(se))},cmyk2rgb:y,cmyk2hsl:function(se){return he(y(se))},cmyk2hsv:function(se){return ke(y(se))},cmyk2hwb:function(se){return J(y(se))},cmyk2keyword:function(se){return V(y(se))},keyword2rgb:pe,keyword2hsl:function(se){return he(pe(se))},keyword2hsv:function(se){return ke(pe(se))},keyword2hwb:function(se){return J(pe(se))},keyword2cmyk:function(se){return ne(pe(se))},keyword2lab:function(se){return k(pe(se))},keyword2xyz:function(se){return A(pe(se))},xyz2rgb:P,xyz2lab:Z,xyz2lch:function(se){return Q(Z(se))},lab2xyz:re,lab2rgb:$,lab2lch:Q,lch2lab:fe,lch2xyz:function(se){return re(fe(se))},lch2rgb:function(se){return $(fe(se))}};var Ce={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ue={};for(var Te in Ce)ue[JSON.stringify(Ce[Te])]=Te},{}],5:[function(Ge,ht,Bt){var he=Ge(4),ke=function(){return new k};for(var J in he){ke[J+"Raw"]=function(M){return function(H){return"number"==typeof H&&(H=Array.prototype.slice.call(arguments)),he[M](H)}}(J);var ne=/(\w+)2(\w+)/.exec(J),V=ne[1],A=ne[2];(ke[V]=ke[V]||{})[A]=ke[J]=function(M){return function(H){"number"==typeof H&&(H=Array.prototype.slice.call(arguments));var m=he[M](H);if("string"==typeof m||void 0===m)return m;for(var y=0;y<m.length;y++)m[y]=Math.round(m[y]);return m}}(J)}var k=function(){this.convs={}};k.prototype.routeSpace=function(M,H){var m=H[0];return void 0===m?this.getValues(M):("number"==typeof m&&(m=Array.prototype.slice.call(H)),this.setValues(M,m))},k.prototype.setValues=function(M,H){return this.space=M,this.convs={},this.convs[M]=H,this},k.prototype.getValues=function(M){var H=this.convs[M];if(!H){var m=this.space;H=ke[m][M](this.convs[m]),this.convs[M]=H}return H},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(M){k.prototype[M]=function(H){return this.routeSpace(M,arguments)}}),ht.exports=ke},{4:4}],6:[function(Ge,ht,Bt){"use strict";ht.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(Ge,ht,Bt){var he=Ge(29)();he.helpers=Ge(45),Ge(27)(he),he.defaults=Ge(25),he.Element=Ge(26),he.elements=Ge(40),he.Interaction=Ge(28),he.platform=Ge(48),Ge(31)(he),Ge(22)(he),Ge(23)(he),Ge(24)(he),Ge(30)(he),Ge(33)(he),Ge(32)(he),Ge(35)(he),Ge(54)(he),Ge(52)(he),Ge(53)(he),Ge(55)(he),Ge(56)(he),Ge(57)(he),Ge(15)(he),Ge(16)(he),Ge(17)(he),Ge(18)(he),Ge(19)(he),Ge(20)(he),Ge(21)(he),Ge(8)(he),Ge(9)(he),Ge(10)(he),Ge(11)(he),Ge(12)(he),Ge(13)(he),Ge(14)(he);var ke=[];ke.push(Ge(49)(he),Ge(50)(he),Ge(51)(he)),he.plugins.register(ke),he.platform.initialize(),ht.exports=he,"undefined"!=typeof window&&(window.Chart=he),he.canvasHelpers=he.helpers.canvas},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,35:35,40:40,45:45,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,8:8,9:9}],8:[function(Ge,ht,Bt){"use strict";ht.exports=function(he){he.Bar=function(ke,J){return J.type="bar",new he(ke,J)}}},{}],9:[function(Ge,ht,Bt){"use strict";ht.exports=function(he){he.Bubble=function(ke,J){return J.type="bubble",new he(ke,J)}}},{}],10:[function(Ge,ht,Bt){"use strict";ht.exports=function(he){he.Doughnut=function(ke,J){return J.type="doughnut",new he(ke,J)}}},{}],11:[function(Ge,ht,Bt){"use strict";ht.exports=function(he){he.Line=function(ke,J){return J.type="line",new he(ke,J)}}},{}],12:[function(Ge,ht,Bt){"use strict";ht.exports=function(he){he.PolarArea=function(ke,J){return J.type="polarArea",new he(ke,J)}}},{}],13:[function(Ge,ht,Bt){"use strict";ht.exports=function(he){he.Radar=function(ke,J){return J.type="radar",new he(ke,J)}}},{}],14:[function(Ge,ht,Bt){"use strict";ht.exports=function(he){he.Scatter=function(ke,J){return J.type="scatter",new he(ke,J)}}},{}],15:[function(Ge,ht,Bt){"use strict";var he=Ge(25),ke=Ge(40),J=Ge(45);he._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),he._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(ne,V){var A="";return ne.length>0&&(ne[0].yLabel?A=ne[0].yLabel:V.labels.length>0&&ne[0].index<V.labels.length&&(A=V.labels[ne[0].index])),A},label:function(ne,V){return(V.datasets[ne.datasetIndex].label||"")+": "+ne.xLabel}},mode:"index",axis:"y"}}),ht.exports=function(ne){ne.controllers.bar=ne.DatasetController.extend({dataElementType:ke.Rectangle,initialize:function(){var V,A=this;ne.DatasetController.prototype.initialize.apply(A,arguments),(V=A.getMeta()).stack=A.getDataset().stack,V.bar=!0},update:function(V){var A,k,M=this,H=M.getMeta().data;for(M._ruler=M.getRuler(),A=0,k=H.length;A<k;++A)M.updateElement(H[A],A,V)},updateElement:function(V,A,k){var M=this,H=M.chart,m=M.getMeta(),y=M.getDataset(),P=V.custom||{},Z=H.options.elements.rectangle;V._xScale=M.getScaleForId(m.xAxisID),V._yScale=M.getScaleForId(m.yAxisID),V._datasetIndex=M.index,V._index=A,V._model={datasetLabel:y.label,label:H.data.labels[A],borderSkipped:P.borderSkipped?P.borderSkipped:Z.borderSkipped,backgroundColor:P.backgroundColor?P.backgroundColor:J.valueAtIndexOrDefault(y.backgroundColor,A,Z.backgroundColor),borderColor:P.borderColor?P.borderColor:J.valueAtIndexOrDefault(y.borderColor,A,Z.borderColor),borderWidth:P.borderWidth?P.borderWidth:J.valueAtIndexOrDefault(y.borderWidth,A,Z.borderWidth)},M.updateElementGeometry(V,A,k),V.pivot()},updateElementGeometry:function(V,A,k){var M=this,H=V._model,m=M.getValueScale(),y=m.getBasePixel(),P=m.isHorizontal(),Z=M._ruler||M.getRuler(),re=M.calculateBarValuePixels(M.index,A),Q=M.calculateBarIndexPixels(M.index,A,Z);H.horizontal=P,H.base=k?y:re.base,H.x=P?k?y:re.head:Q.center,H.y=P?Q.center:k?y:re.head,H.height=P?Q.size:void 0,H.width=P?void 0:Q.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(V){var A,k,H=this.chart,m=this.getIndexScale().options.stacked,y=void 0===V?H.data.datasets.length:V+1,P=[];for(A=0;A<y;++A)(k=H.getDatasetMeta(A)).bar&&H.isDatasetVisible(A)&&(!1===m||!0===m&&-1===P.indexOf(k.stack)||void 0===m&&(void 0===k.stack||-1===P.indexOf(k.stack)))&&P.push(k.stack);return P.length},getStackIndex:function(V){return this.getStackCount(V)-1},getRuler:function(){var V,A,k=this,M=k.getIndexScale(),H=k.getStackCount(),m=k.index,y=[],P=M.isHorizontal(),Z=P?M.left:M.top,re=Z+(P?M.width:M.height);for(V=0,A=k.getMeta().data.length;V<A;++V)y.push(M.getPixelForValue(null,V,m));return{pixels:y,start:Z,end:re,stackCount:H,scale:M}},calculateBarValuePixels:function(V,A){var k,M,H,m,y,P,Z=this,re=Z.chart,Q=Z.getMeta(),$=Z.getValueScale(),fe=re.data.datasets,pe=$.getRightValue(fe[V].data[A]),Ce=$.options.stacked,ue=Q.stack,Te=0;if(Ce||void 0===Ce&&void 0!==ue)for(k=0;k<V;++k)(M=re.getDatasetMeta(k)).bar&&M.stack===ue&&M.controller.getValueScaleId()===$.id&&re.isDatasetVisible(k)&&(H=$.getRightValue(fe[k].data[A]),(pe<0&&H<0||pe>=0&&H>0)&&(Te+=H));return m=$.getPixelForValue(Te),{size:P=((y=$.getPixelForValue(Te+pe))-m)/2,base:m,head:y,center:y+P/2}},calculateBarIndexPixels:function(V,A,k){var M,H,m,P,Z,Q=k.scale.options,$=this.getStackIndex(V),fe=k.pixels,pe=fe[A],Ce=fe.length,ue=k.start,Te=k.end;return 1===Ce?(M=pe>ue?pe-ue:Te-pe,H=pe<Te?Te-pe:pe-ue):(A>0&&(M=(pe-fe[A-1])/2,A===Ce-1&&(H=M)),A<Ce-1&&(H=(fe[A+1]-pe)/2,0===A&&(M=H))),Z=(P=((m=M*Q.categoryPercentage)+H*Q.categoryPercentage)/k.stackCount)*Q.barPercentage,pe-=m,pe+=P*$,{size:Z=Math.min(J.valueOrDefault(Q.barThickness,Z),J.valueOrDefault(Q.maxBarThickness,1/0)),base:pe+=(P-Z)/2,head:pe+Z,center:pe+Z/2}},draw:function(){var V=this,A=V.chart,k=V.getValueScale(),M=V.getMeta().data,H=V.getDataset(),m=M.length,y=0;for(J.canvas.clipArea(A.ctx,A.chartArea);y<m;++y)isNaN(k.getRightValue(H.data[y]))||M[y].draw();J.canvas.unclipArea(A.ctx)},setHoverStyle:function(V){var A=this.chart.data.datasets[V._datasetIndex],k=V._index,M=V.custom||{},H=V._model;H.backgroundColor=M.hoverBackgroundColor?M.hoverBackgroundColor:J.valueAtIndexOrDefault(A.hoverBackgroundColor,k,J.getHoverColor(H.backgroundColor)),H.borderColor=M.hoverBorderColor?M.hoverBorderColor:J.valueAtIndexOrDefault(A.hoverBorderColor,k,J.getHoverColor(H.borderColor)),H.borderWidth=M.hoverBorderWidth?M.hoverBorderWidth:J.valueAtIndexOrDefault(A.hoverBorderWidth,k,H.borderWidth)},removeHoverStyle:function(V){var A=this.chart.data.datasets[V._datasetIndex],k=V._index,M=V.custom||{},H=V._model,m=this.chart.options.elements.rectangle;H.backgroundColor=M.backgroundColor?M.backgroundColor:J.valueAtIndexOrDefault(A.backgroundColor,k,m.backgroundColor),H.borderColor=M.borderColor?M.borderColor:J.valueAtIndexOrDefault(A.borderColor,k,m.borderColor),H.borderWidth=M.borderWidth?M.borderWidth:J.valueAtIndexOrDefault(A.borderWidth,k,m.borderWidth)}}),ne.controllers.horizontalBar=ne.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{25:25,40:40,45:45}],16:[function(Ge,ht,Bt){"use strict";var he=Ge(25),ke=Ge(40),J=Ge(45);he._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(ne,V){return(V.datasets[ne.datasetIndex].label||"")+": ("+ne.xLabel+", "+ne.yLabel+", "+V.datasets[ne.datasetIndex].data[ne.index].r+")"}}}}),ht.exports=function(ne){ne.controllers.bubble=ne.DatasetController.extend({dataElementType:ke.Point,update:function(V){var A=this,k=A.getMeta().data;J.each(k,function(M,H){A.updateElement(M,H,V)})},updateElement:function(V,A,k){var M=this,H=M.getMeta(),m=V.custom||{},y=M.getScaleForId(H.xAxisID),P=M.getScaleForId(H.yAxisID),Z=M._resolveElementOptions(V,A),re=M.getDataset().data[A],Q=M.index,$=k?y.getPixelForDecimal(.5):y.getPixelForValue("object"==typeof re?re:NaN,A,Q),fe=k?P.getBasePixel():P.getPixelForValue(re,A,Q);V._xScale=y,V._yScale=P,V._options=Z,V._datasetIndex=Q,V._index=A,V._model={backgroundColor:Z.backgroundColor,borderColor:Z.borderColor,borderWidth:Z.borderWidth,hitRadius:Z.hitRadius,pointStyle:Z.pointStyle,radius:k?0:Z.radius,skip:m.skip||isNaN($)||isNaN(fe),x:$,y:fe},V.pivot()},setHoverStyle:function(V){var A=V._model,k=V._options;A.backgroundColor=J.valueOrDefault(k.hoverBackgroundColor,J.getHoverColor(k.backgroundColor)),A.borderColor=J.valueOrDefault(k.hoverBorderColor,J.getHoverColor(k.borderColor)),A.borderWidth=J.valueOrDefault(k.hoverBorderWidth,k.borderWidth),A.radius=k.radius+k.hoverRadius},removeHoverStyle:function(V){var A=V._model,k=V._options;A.backgroundColor=k.backgroundColor,A.borderColor=k.borderColor,A.borderWidth=k.borderWidth,A.radius=k.radius},_resolveElementOptions:function(V,A){var k,M,H,m=this,y=m.chart,P=y.data.datasets[m.index],Z=V.custom||{},re=y.options.elements.point,Q=J.options.resolve,$=P.data[A],fe={},pe={chart:y,dataIndex:A,dataset:P,datasetIndex:m.index},Ce=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(k=0,M=Ce.length;k<M;++k)fe[H=Ce[k]]=Q([Z[H],P[H],re[H]],pe,A);return fe.radius=Q([Z.radius,$?$.r:void 0,P.radius,re.radius],pe,A),fe}})}},{25:25,40:40,45:45}],17:[function(Ge,ht,Bt){"use strict";var he=Ge(25),ke=Ge(40),J=Ge(45);he._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(ne){var V=[];V.push('<ul class="'+ne.id+'-legend">');var A=ne.data,k=A.datasets,M=A.labels;if(k.length)for(var H=0;H<k[0].data.length;++H)V.push('<li><span style="background-color:'+k[0].backgroundColor[H]+'"></span>'),M[H]&&V.push(M[H]),V.push("</li>");return V.push("</ul>"),V.join("")},legend:{labels:{generateLabels:function(ne){var V=ne.data;return V.labels.length&&V.datasets.length?V.labels.map(function(A,k){var M=ne.getDatasetMeta(0),H=V.datasets[0],m=M.data[k],y=m&&m.custom||{},P=J.valueAtIndexOrDefault,Z=ne.options.elements.arc;return{text:A,fillStyle:y.backgroundColor?y.backgroundColor:P(H.backgroundColor,k,Z.backgroundColor),strokeStyle:y.borderColor?y.borderColor:P(H.borderColor,k,Z.borderColor),lineWidth:y.borderWidth?y.borderWidth:P(H.borderWidth,k,Z.borderWidth),hidden:isNaN(H.data[k])||M.data[k].hidden,index:k}}):[]}},onClick:function(ne,V){var A,k,M,H=V.index,m=this.chart;for(A=0,k=(m.data.datasets||[]).length;A<k;++A)(M=m.getDatasetMeta(A)).data[H]&&(M.data[H].hidden=!M.data[H].hidden);m.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(ne,V){var A=V.labels[ne.index],k=": "+V.datasets[ne.datasetIndex].data[ne.index];return J.isArray(A)?(A=A.slice())[0]+=k:A+=k,A}}}}),he._set("pie",J.clone(he.doughnut)),he._set("pie",{cutoutPercentage:0}),ht.exports=function(ne){ne.controllers.doughnut=ne.controllers.pie=ne.DatasetController.extend({dataElementType:ke.Arc,linkScales:J.noop,getRingIndex:function(V){for(var A=0,k=0;k<V;++k)this.chart.isDatasetVisible(k)&&++A;return A},update:function(V){var A=this,k=A.chart,M=k.chartArea,H=k.options,m=H.elements.arc,y=M.right-M.left-m.borderWidth,P=M.bottom-M.top-m.borderWidth,Z=Math.min(y,P),re={x:0,y:0},Q=A.getMeta(),$=H.cutoutPercentage,fe=H.circumference;if(fe<2*Math.PI){var pe=H.rotation%(2*Math.PI),Ce=(pe+=2*Math.PI*(pe>=Math.PI?-1:pe<-Math.PI?1:0))+fe,ue={x:Math.cos(pe),y:Math.sin(pe)},Te={x:Math.cos(Ce),y:Math.sin(Ce)},se=pe<=0&&Ce>=0||pe<=2*Math.PI&&2*Math.PI<=Ce,ve=pe<=.5*Math.PI&&.5*Math.PI<=Ce||pe<=2.5*Math.PI&&2.5*Math.PI<=Ce,_e=pe<=-Math.PI&&-Math.PI<=Ce||pe<=Math.PI&&Math.PI<=Ce,Me=pe<=.5*-Math.PI&&.5*-Math.PI<=Ce||pe<=1.5*Math.PI&&1.5*Math.PI<=Ce,Ne=$/100,Se={x:_e?-1:Math.min(ue.x*(ue.x<0?1:Ne),Te.x*(Te.x<0?1:Ne)),y:Me?-1:Math.min(ue.y*(ue.y<0?1:Ne),Te.y*(Te.y<0?1:Ne))},Le={x:se?1:Math.max(ue.x*(ue.x>0?1:Ne),Te.x*(Te.x>0?1:Ne)),y:ve?1:Math.max(ue.y*(ue.y>0?1:Ne),Te.y*(Te.y>0?1:Ne))},Ue={width:.5*(Le.x-Se.x),height:.5*(Le.y-Se.y)};Z=Math.min(y/Ue.width,P/Ue.height),re={x:-.5*(Le.x+Se.x),y:-.5*(Le.y+Se.y)}}k.borderWidth=A.getMaxBorderWidth(Q.data),k.outerRadius=Math.max((Z-k.borderWidth)/2,0),k.innerRadius=Math.max($?k.outerRadius/100*$:0,0),k.radiusLength=(k.outerRadius-k.innerRadius)/k.getVisibleDatasetCount(),k.offsetX=re.x*k.outerRadius,k.offsetY=re.y*k.outerRadius,Q.total=A.calculateTotal(),A.outerRadius=k.outerRadius-k.radiusLength*A.getRingIndex(A.index),A.innerRadius=Math.max(A.outerRadius-k.radiusLength,0),J.each(Q.data,function(Qe,Tt){A.updateElement(Qe,Tt,V)})},updateElement:function(V,A,k){var M=this,H=M.chart,m=H.chartArea,y=H.options,P=y.animation,Z=(m.left+m.right)/2,re=(m.top+m.bottom)/2,Q=y.rotation,$=y.rotation,fe=M.getDataset(),pe=k&&P.animateRotate||V.hidden?0:M.calculateCircumference(fe.data[A])*(y.circumference/(2*Math.PI));J.extend(V,{_datasetIndex:M.index,_index:A,_model:{x:Z+H.offsetX,y:re+H.offsetY,startAngle:Q,endAngle:$,circumference:pe,outerRadius:k&&P.animateScale?0:M.outerRadius,innerRadius:k&&P.animateScale?0:M.innerRadius,label:(0,J.valueAtIndexOrDefault)(fe.label,A,H.data.labels[A])}});var se=V._model;this.removeHoverStyle(V),k&&P.animateRotate||(se.startAngle=0===A?y.rotation:M.getMeta().data[A-1]._model.endAngle,se.endAngle=se.startAngle+se.circumference),V.pivot()},removeHoverStyle:function(V){ne.DatasetController.prototype.removeHoverStyle.call(this,V,this.chart.options.elements.arc)},calculateTotal:function(){var V,A=this.getDataset(),k=this.getMeta(),M=0;return J.each(k.data,function(H,m){V=A.data[m],isNaN(V)||H.hidden||(M+=Math.abs(V))}),M},calculateCircumference:function(V){var A=this.getMeta().total;return A>0&&!isNaN(V)?2*Math.PI*(V/A):0},getMaxBorderWidth:function(V){for(var A,k,M=0,H=this.index,m=V.length,y=0;y<m;y++)M=(k=V[y]._chart?V[y]._chart.config.data.datasets[H].hoverBorderWidth:0)>(M=(A=V[y]._model?V[y]._model.borderWidth:0)>M?A:M)?k:M;return M}})}},{25:25,40:40,45:45}],18:[function(Ge,ht,Bt){"use strict";var he=Ge(25),ke=Ge(40),J=Ge(45);he._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),ht.exports=function(ne){function V(A,k){return J.valueOrDefault(A.showLine,k.showLines)}ne.controllers.line=ne.DatasetController.extend({datasetElementType:ke.Line,dataElementType:ke.Point,update:function(A){var k,M,H,m=this,y=m.getMeta(),P=y.dataset,Z=y.data||[],re=m.chart.options,Q=re.elements.line,$=m.getScaleForId(y.yAxisID),fe=m.getDataset(),pe=V(fe,re);for(pe&&(H=P.custom||{},void 0!==fe.tension&&void 0===fe.lineTension&&(fe.lineTension=fe.tension),P._scale=$,P._datasetIndex=m.index,P._children=Z,P._model={spanGaps:fe.spanGaps?fe.spanGaps:re.spanGaps,tension:H.tension?H.tension:J.valueOrDefault(fe.lineTension,Q.tension),backgroundColor:H.backgroundColor?H.backgroundColor:fe.backgroundColor||Q.backgroundColor,borderWidth:H.borderWidth?H.borderWidth:fe.borderWidth||Q.borderWidth,borderColor:H.borderColor?H.borderColor:fe.borderColor||Q.borderColor,borderCapStyle:H.borderCapStyle?H.borderCapStyle:fe.borderCapStyle||Q.borderCapStyle,borderDash:H.borderDash?H.borderDash:fe.borderDash||Q.borderDash,borderDashOffset:H.borderDashOffset?H.borderDashOffset:fe.borderDashOffset||Q.borderDashOffset,borderJoinStyle:H.borderJoinStyle?H.borderJoinStyle:fe.borderJoinStyle||Q.borderJoinStyle,fill:H.fill?H.fill:void 0!==fe.fill?fe.fill:Q.fill,steppedLine:H.steppedLine?H.steppedLine:J.valueOrDefault(fe.steppedLine,Q.stepped),cubicInterpolationMode:H.cubicInterpolationMode?H.cubicInterpolationMode:J.valueOrDefault(fe.cubicInterpolationMode,Q.cubicInterpolationMode)},P.pivot()),k=0,M=Z.length;k<M;++k)m.updateElement(Z[k],k,A);for(pe&&0!==P._model.tension&&m.updateBezierControlPoints(),k=0,M=Z.length;k<M;++k)Z[k].pivot()},getPointBackgroundColor:function(A,k){var M=this.chart.options.elements.point.backgroundColor,H=this.getDataset(),m=A.custom||{};return m.backgroundColor?M=m.backgroundColor:H.pointBackgroundColor?M=J.valueAtIndexOrDefault(H.pointBackgroundColor,k,M):H.backgroundColor&&(M=H.backgroundColor),M},getPointBorderColor:function(A,k){var M=this.chart.options.elements.point.borderColor,H=this.getDataset(),m=A.custom||{};return m.borderColor?M=m.borderColor:H.pointBorderColor?M=J.valueAtIndexOrDefault(H.pointBorderColor,k,M):H.borderColor&&(M=H.borderColor),M},getPointBorderWidth:function(A,k){var M=this.chart.options.elements.point.borderWidth,H=this.getDataset(),m=A.custom||{};return isNaN(m.borderWidth)?!isNaN(H.pointBorderWidth)||J.isArray(H.pointBorderWidth)?M=J.valueAtIndexOrDefault(H.pointBorderWidth,k,M):isNaN(H.borderWidth)||(M=H.borderWidth):M=m.borderWidth,M},updateElement:function(A,k,M){var H,m,y=this,P=y.getMeta(),Z=A.custom||{},re=y.getDataset(),Q=y.index,$=re.data[k],fe=y.getScaleForId(P.yAxisID),pe=y.getScaleForId(P.xAxisID),Ce=y.chart.options.elements.point;void 0!==re.radius&&void 0===re.pointRadius&&(re.pointRadius=re.radius),void 0!==re.hitRadius&&void 0===re.pointHitRadius&&(re.pointHitRadius=re.hitRadius),H=pe.getPixelForValue("object"==typeof $?$:NaN,k,Q),m=M?fe.getBasePixel():y.calculatePointY($,k,Q),A._xScale=pe,A._yScale=fe,A._datasetIndex=Q,A._index=k,A._model={x:H,y:m,skip:Z.skip||isNaN(H)||isNaN(m),radius:Z.radius||J.valueAtIndexOrDefault(re.pointRadius,k,Ce.radius),pointStyle:Z.pointStyle||J.valueAtIndexOrDefault(re.pointStyle,k,Ce.pointStyle),backgroundColor:y.getPointBackgroundColor(A,k),borderColor:y.getPointBorderColor(A,k),borderWidth:y.getPointBorderWidth(A,k),tension:P.dataset._model?P.dataset._model.tension:0,steppedLine:!!P.dataset._model&&P.dataset._model.steppedLine,hitRadius:Z.hitRadius||J.valueAtIndexOrDefault(re.pointHitRadius,k,Ce.hitRadius)}},calculatePointY:function(A,k,M){var H,m,y,P=this,Z=P.chart,re=P.getMeta(),Q=P.getScaleForId(re.yAxisID),$=0,fe=0;if(Q.options.stacked){for(H=0;H<M;H++)if(m=Z.data.datasets[H],"line"===(y=Z.getDatasetMeta(H)).type&&y.yAxisID===Q.id&&Z.isDatasetVisible(H)){var pe=Number(Q.getRightValue(m.data[k]));pe<0?fe+=pe||0:$+=pe||0}var Ce=Number(Q.getRightValue(A));return Q.getPixelForValue(Ce<0?fe+Ce:$+Ce)}return Q.getPixelForValue(A)},updateBezierControlPoints:function(){function A(Q,$,fe){return Math.max(Math.min(Q,fe),$)}var k,M,H,m,y=this,P=y.getMeta(),Z=y.chart.chartArea,re=P.data||[];if(P.dataset._model.spanGaps&&(re=re.filter(function(Q){return!Q._model.skip})),"monotone"===P.dataset._model.cubicInterpolationMode)J.splineCurveMonotone(re);else for(k=0,M=re.length;k<M;++k)H=re[k]._model,m=J.splineCurve(J.previousItem(re,k)._model,H,J.nextItem(re,k)._model,P.dataset._model.tension),H.controlPointPreviousX=m.previous.x,H.controlPointPreviousY=m.previous.y,H.controlPointNextX=m.next.x,H.controlPointNextY=m.next.y;if(y.chart.options.elements.line.capBezierPoints)for(k=0,M=re.length;k<M;++k)(H=re[k]._model).controlPointPreviousX=A(H.controlPointPreviousX,Z.left,Z.right),H.controlPointPreviousY=A(H.controlPointPreviousY,Z.top,Z.bottom),H.controlPointNextX=A(H.controlPointNextX,Z.left,Z.right),H.controlPointNextY=A(H.controlPointNextY,Z.top,Z.bottom)},draw:function(){var A=this,k=A.chart,M=A.getMeta(),H=M.data||[],m=k.chartArea,y=H.length,P=0;for(J.canvas.clipArea(k.ctx,m),V(A.getDataset(),k.options)&&M.dataset.draw(),J.canvas.unclipArea(k.ctx);P<y;++P)H[P].draw(m)},setHoverStyle:function(A){var k=this.chart.data.datasets[A._datasetIndex],M=A._index,H=A.custom||{},m=A._model;m.radius=H.hoverRadius||J.valueAtIndexOrDefault(k.pointHoverRadius,M,this.chart.options.elements.point.hoverRadius),m.backgroundColor=H.hoverBackgroundColor||J.valueAtIndexOrDefault(k.pointHoverBackgroundColor,M,J.getHoverColor(m.backgroundColor)),m.borderColor=H.hoverBorderColor||J.valueAtIndexOrDefault(k.pointHoverBorderColor,M,J.getHoverColor(m.borderColor)),m.borderWidth=H.hoverBorderWidth||J.valueAtIndexOrDefault(k.pointHoverBorderWidth,M,m.borderWidth)},removeHoverStyle:function(A){var k=this,M=k.chart.data.datasets[A._datasetIndex],H=A._index,m=A.custom||{},y=A._model;void 0!==M.radius&&void 0===M.pointRadius&&(M.pointRadius=M.radius),y.radius=m.radius||J.valueAtIndexOrDefault(M.pointRadius,H,k.chart.options.elements.point.radius),y.backgroundColor=k.getPointBackgroundColor(A,H),y.borderColor=k.getPointBorderColor(A,H),y.borderWidth=k.getPointBorderWidth(A,H)}})}},{25:25,40:40,45:45}],19:[function(Ge,ht,Bt){"use strict";var he=Ge(25),ke=Ge(40),J=Ge(45);he._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(ne){var V=[];V.push('<ul class="'+ne.id+'-legend">');var A=ne.data,k=A.datasets,M=A.labels;if(k.length)for(var H=0;H<k[0].data.length;++H)V.push('<li><span style="background-color:'+k[0].backgroundColor[H]+'"></span>'),M[H]&&V.push(M[H]),V.push("</li>");return V.push("</ul>"),V.join("")},legend:{labels:{generateLabels:function(ne){var V=ne.data;return V.labels.length&&V.datasets.length?V.labels.map(function(A,k){var M=ne.getDatasetMeta(0),H=V.datasets[0],m=M.data[k].custom||{},y=J.valueAtIndexOrDefault,P=ne.options.elements.arc;return{text:A,fillStyle:m.backgroundColor?m.backgroundColor:y(H.backgroundColor,k,P.backgroundColor),strokeStyle:m.borderColor?m.borderColor:y(H.borderColor,k,P.borderColor),lineWidth:m.borderWidth?m.borderWidth:y(H.borderWidth,k,P.borderWidth),hidden:isNaN(H.data[k])||M.data[k].hidden,index:k}}):[]}},onClick:function(ne,V){var A,k,M,H=V.index,m=this.chart;for(A=0,k=(m.data.datasets||[]).length;A<k;++A)(M=m.getDatasetMeta(A)).data[H].hidden=!M.data[H].hidden;m.update()}},tooltips:{callbacks:{title:function(){return""},label:function(ne,V){return V.labels[ne.index]+": "+ne.yLabel}}}}),ht.exports=function(ne){ne.controllers.polarArea=ne.DatasetController.extend({dataElementType:ke.Arc,linkScales:J.noop,update:function(V){var A=this,k=A.chart,M=k.chartArea,H=A.getMeta(),m=k.options,y=m.elements.arc,P=Math.min(M.right-M.left,M.bottom-M.top);k.outerRadius=Math.max((P-y.borderWidth/2)/2,0),k.innerRadius=Math.max(m.cutoutPercentage?k.outerRadius/100*m.cutoutPercentage:1,0),k.radiusLength=(k.outerRadius-k.innerRadius)/k.getVisibleDatasetCount(),A.outerRadius=k.outerRadius-k.radiusLength*A.index,A.innerRadius=A.outerRadius-k.radiusLength,H.count=A.countVisibleElements(),J.each(H.data,function(Z,re){A.updateElement(Z,re,V)})},updateElement:function(V,A,k){for(var M=this,H=M.chart,m=M.getDataset(),y=H.options,P=y.animation,Z=H.scale,re=H.data.labels,Q=M.calculateCircumference(m.data[A]),$=Z.xCenter,fe=Z.yCenter,pe=0,Ce=M.getMeta(),ue=0;ue<A;++ue)isNaN(m.data[ue])||Ce.data[ue].hidden||++pe;var Te=y.startAngle,se=V.hidden?0:Z.getDistanceFromCenterForValue(m.data[A]),ve=Te+Q*pe,_e=ve+(V.hidden?0:Q),Me=P.animateScale?0:Z.getDistanceFromCenterForValue(m.data[A]);J.extend(V,{_datasetIndex:M.index,_index:A,_scale:Z,_model:{x:$,y:fe,innerRadius:0,outerRadius:k?Me:se,startAngle:k&&P.animateRotate?Te:ve,endAngle:k&&P.animateRotate?Te:_e,label:J.valueAtIndexOrDefault(re,A,re[A])}}),M.removeHoverStyle(V),V.pivot()},removeHoverStyle:function(V){ne.DatasetController.prototype.removeHoverStyle.call(this,V,this.chart.options.elements.arc)},countVisibleElements:function(){var V=this.getDataset(),A=this.getMeta(),k=0;return J.each(A.data,function(M,H){isNaN(V.data[H])||M.hidden||k++}),k},calculateCircumference:function(V){var A=this.getMeta().count;return A>0&&!isNaN(V)?2*Math.PI/A:0}})}},{25:25,40:40,45:45}],20:[function(Ge,ht,Bt){"use strict";var he=Ge(25),ke=Ge(40),J=Ge(45);he._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),ht.exports=function(ne){ne.controllers.radar=ne.DatasetController.extend({datasetElementType:ke.Line,dataElementType:ke.Point,linkScales:J.noop,update:function(V){var A=this,k=A.getMeta(),H=k.data,m=k.dataset.custom||{},y=A.getDataset(),P=A.chart.options.elements.line,Z=A.chart.scale;void 0!==y.tension&&void 0===y.lineTension&&(y.lineTension=y.tension),J.extend(k.dataset,{_datasetIndex:A.index,_scale:Z,_children:H,_loop:!0,_model:{tension:m.tension?m.tension:J.valueOrDefault(y.lineTension,P.tension),backgroundColor:m.backgroundColor?m.backgroundColor:y.backgroundColor||P.backgroundColor,borderWidth:m.borderWidth?m.borderWidth:y.borderWidth||P.borderWidth,borderColor:m.borderColor?m.borderColor:y.borderColor||P.borderColor,fill:m.fill?m.fill:void 0!==y.fill?y.fill:P.fill,borderCapStyle:m.borderCapStyle?m.borderCapStyle:y.borderCapStyle||P.borderCapStyle,borderDash:m.borderDash?m.borderDash:y.borderDash||P.borderDash,borderDashOffset:m.borderDashOffset?m.borderDashOffset:y.borderDashOffset||P.borderDashOffset,borderJoinStyle:m.borderJoinStyle?m.borderJoinStyle:y.borderJoinStyle||P.borderJoinStyle}}),k.dataset.pivot(),J.each(H,function(re,Q){A.updateElement(re,Q,V)},A),A.updateBezierControlPoints()},updateElement:function(V,A,k){var M=this,H=V.custom||{},m=M.getDataset(),y=M.chart.scale,P=M.chart.options.elements.point,Z=y.getPointPositionForValue(A,m.data[A]);void 0!==m.radius&&void 0===m.pointRadius&&(m.pointRadius=m.radius),void 0!==m.hitRadius&&void 0===m.pointHitRadius&&(m.pointHitRadius=m.hitRadius),J.extend(V,{_datasetIndex:M.index,_index:A,_scale:y,_model:{x:k?y.xCenter:Z.x,y:k?y.yCenter:Z.y,tension:H.tension?H.tension:J.valueOrDefault(m.lineTension,M.chart.options.elements.line.tension),radius:H.radius?H.radius:J.valueAtIndexOrDefault(m.pointRadius,A,P.radius),backgroundColor:H.backgroundColor?H.backgroundColor:J.valueAtIndexOrDefault(m.pointBackgroundColor,A,P.backgroundColor),borderColor:H.borderColor?H.borderColor:J.valueAtIndexOrDefault(m.pointBorderColor,A,P.borderColor),borderWidth:H.borderWidth?H.borderWidth:J.valueAtIndexOrDefault(m.pointBorderWidth,A,P.borderWidth),pointStyle:H.pointStyle?H.pointStyle:J.valueAtIndexOrDefault(m.pointStyle,A,P.pointStyle),hitRadius:H.hitRadius?H.hitRadius:J.valueAtIndexOrDefault(m.pointHitRadius,A,P.hitRadius)}}),V._model.skip=H.skip?H.skip:isNaN(V._model.x)||isNaN(V._model.y)},updateBezierControlPoints:function(){var V=this.chart.chartArea,A=this.getMeta();J.each(A.data,function(k,M){var H=k._model,m=J.splineCurve(J.previousItem(A.data,M,!0)._model,H,J.nextItem(A.data,M,!0)._model,H.tension);H.controlPointPreviousX=Math.max(Math.min(m.previous.x,V.right),V.left),H.controlPointPreviousY=Math.max(Math.min(m.previous.y,V.bottom),V.top),H.controlPointNextX=Math.max(Math.min(m.next.x,V.right),V.left),H.controlPointNextY=Math.max(Math.min(m.next.y,V.bottom),V.top),k.pivot()})},setHoverStyle:function(V){var A=this.chart.data.datasets[V._datasetIndex],k=V.custom||{},M=V._index,H=V._model;H.radius=k.hoverRadius?k.hoverRadius:J.valueAtIndexOrDefault(A.pointHoverRadius,M,this.chart.options.elements.point.hoverRadius),H.backgroundColor=k.hoverBackgroundColor?k.hoverBackgroundColor:J.valueAtIndexOrDefault(A.pointHoverBackgroundColor,M,J.getHoverColor(H.backgroundColor)),H.borderColor=k.hoverBorderColor?k.hoverBorderColor:J.valueAtIndexOrDefault(A.pointHoverBorderColor,M,J.getHoverColor(H.borderColor)),H.borderWidth=k.hoverBorderWidth?k.hoverBorderWidth:J.valueAtIndexOrDefault(A.pointHoverBorderWidth,M,H.borderWidth)},removeHoverStyle:function(V){var A=this.chart.data.datasets[V._datasetIndex],k=V.custom||{},M=V._index,H=V._model,m=this.chart.options.elements.point;H.radius=k.radius?k.radius:J.valueAtIndexOrDefault(A.pointRadius,M,m.radius),H.backgroundColor=k.backgroundColor?k.backgroundColor:J.valueAtIndexOrDefault(A.pointBackgroundColor,M,m.backgroundColor),H.borderColor=k.borderColor?k.borderColor:J.valueAtIndexOrDefault(A.pointBorderColor,M,m.borderColor),H.borderWidth=k.borderWidth?k.borderWidth:J.valueAtIndexOrDefault(A.pointBorderWidth,M,m.borderWidth)}})}},{25:25,40:40,45:45}],21:[function(Ge,ht,Bt){"use strict";Ge(25)._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(he){return"("+he.xLabel+", "+he.yLabel+")"}}}}),ht.exports=function(he){he.controllers.scatter=he.controllers.line}},{25:25}],22:[function(Ge,ht,Bt){"use strict";var he=Ge(25),ke=Ge(26),J=Ge(45);he._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:J.noop,onComplete:J.noop}}),ht.exports=function(ne){ne.Animation=ke.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),ne.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(V,A,k,M){var H,m,y=this.animations;for(A.chart=V,M||(V.animating=!0),H=0,m=y.length;H<m;++H)if(y[H].chart===V)return void(y[H]=A);y.push(A),1===y.length&&this.requestAnimationFrame()},cancelAnimation:function(V){var A=J.findIndex(this.animations,function(k){return k.chart===V});-1!==A&&(this.animations.splice(A,1),V.animating=!1)},requestAnimationFrame:function(){var V=this;null===V.request&&(V.request=J.requestAnimFrame.call(window,function(){V.request=null,V.startDigest()}))},startDigest:function(){var V=this,A=Date.now(),k=0;V.dropFrames>1&&(k=Math.floor(V.dropFrames),V.dropFrames=V.dropFrames%1),V.advance(1+k);var M=Date.now();V.dropFrames+=(M-A)/V.frameDuration,V.animations.length>0&&V.requestAnimationFrame()},advance:function(V){for(var A,k,M=this.animations,H=0;H<M.length;)k=(A=M[H]).chart,A.currentStep=(A.currentStep||0)+V,A.currentStep=Math.min(A.currentStep,A.numSteps),J.callback(A.render,[k,A],k),J.callback(A.onAnimationProgress,[A],k),A.currentStep>=A.numSteps?(J.callback(A.onAnimationComplete,[A],k),k.animating=!1,M.splice(H,1)):++H}},Object.defineProperty(ne.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(ne.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(V){this.chart=V}})}},{25:25,26:26,45:45}],23:[function(Ge,ht,Bt){"use strict";var he=Ge(25),ke=Ge(45),J=Ge(28),ne=Ge(48);ht.exports=function(V){function k(m){var y=m.options;y.scale?m.scale.options=y.scale:y.scales&&y.scales.xAxes.concat(y.scales.yAxes).forEach(function(P){m.scales[P.id].options=P}),m.tooltip._options=y.tooltips}function M(m){return"top"===m||"bottom"===m}var H=V.plugins;V.types={},V.instances={},V.controllers={},ke.extend(V.prototype,{construct:function(m,y){var P=this;y=function(m){var y=(m=m||{}).data=m.data||{};return y.datasets=y.datasets||[],y.labels=y.labels||[],m.options=ke.configMerge(he.global,he[m.type],m.options||{}),m}(y);var Z=ne.acquireContext(m,y),re=Z&&Z.canvas,Q=re&&re.height,$=re&&re.width;P.id=ke.uid(),P.ctx=Z,P.canvas=re,P.config=y,P.width=$,P.height=Q,P.aspectRatio=Q?$/Q:null,P.options=y.options,P._bufferedRender=!1,P.chart=P,P.controller=P,V.instances[P.id]=P,Object.defineProperty(P,"data",{get:function(){return P.config.data},set:function(fe){P.config.data=fe}}),Z&&re?(P.initialize(),P.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var m=this;return H.notify(m,"beforeInit"),ke.retinaScale(m,m.options.devicePixelRatio),m.bindEvents(),m.options.responsive&&m.resize(!0),m.ensureScalesHaveIDs(),m.buildScales(),m.initToolTip(),H.notify(m,"afterInit"),m},clear:function(){return ke.canvas.clear(this),this},stop:function(){return V.animationService.cancelAnimation(this),this},resize:function(m){var y=this,P=y.options,Z=y.canvas,re=P.maintainAspectRatio&&y.aspectRatio||null,Q=Math.max(0,Math.floor(ke.getMaximumWidth(Z))),$=Math.max(0,Math.floor(re?Q/re:ke.getMaximumHeight(Z)));if((y.width!==Q||y.height!==$)&&(Z.width=y.width=Q,Z.height=y.height=$,Z.style.width=Q+"px",Z.style.height=$+"px",ke.retinaScale(y,P.devicePixelRatio),!m)){var fe={width:Q,height:$};H.notify(y,"resize",[fe]),y.options.onResize&&y.options.onResize(y,fe),y.stop(),y.update(y.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var m=this.options,y=m.scales||{},P=m.scale;ke.each(y.xAxes,function(Z,re){Z.id=Z.id||"x-axis-"+re}),ke.each(y.yAxes,function(Z,re){Z.id=Z.id||"y-axis-"+re}),P&&(P.id=P.id||"scale")},buildScales:function(){var m=this,y=m.options,P=m.scales={},Z=[];y.scales&&(Z=Z.concat((y.scales.xAxes||[]).map(function(re){return{options:re,dtype:"category",dposition:"bottom"}}),(y.scales.yAxes||[]).map(function(re){return{options:re,dtype:"linear",dposition:"left"}}))),y.scale&&Z.push({options:y.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),ke.each(Z,function(re){var Q=re.options,$=ke.valueOrDefault(Q.type,re.dtype),fe=V.scaleService.getScaleConstructor($);if(fe){M(Q.position)!==M(re.dposition)&&(Q.position=re.dposition);var pe=new fe({id:Q.id,options:Q,ctx:m.ctx,chart:m});P[pe.id]=pe,pe.mergeTicksOptions(),re.isDefault&&(m.scale=pe)}}),V.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var m=this,y=[],P=[];return ke.each(m.data.datasets,function(Z,re){var Q=m.getDatasetMeta(re),$=Z.type||m.config.type;if(Q.type&&Q.type!==$&&(m.destroyDatasetMeta(re),Q=m.getDatasetMeta(re)),Q.type=$,y.push(Q.type),Q.controller)Q.controller.updateIndex(re);else{var fe=V.controllers[Q.type];if(void 0===fe)throw new Error('"'+Q.type+'" is not a chart type.');Q.controller=new fe(m,re),P.push(Q.controller)}},m),P},resetElements:function(){var m=this;ke.each(m.data.datasets,function(y,P){m.getDatasetMeta(P).controller.reset()},m)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(m){var y=this;if(m&&"object"==typeof m||(m={duration:m,lazy:arguments[1]}),k(y),!1!==H.notify(y,"beforeUpdate")){y.tooltip._data=y.data;var P=y.buildOrUpdateControllers();ke.each(y.data.datasets,function(Z,re){y.getDatasetMeta(re).controller.buildOrUpdateElements()},y),y.updateLayout(),ke.each(P,function(Z){Z.reset()}),y.updateDatasets(),y.tooltip.initialize(),y.lastActive=[],H.notify(y,"afterUpdate"),y._bufferedRender?y._bufferedRequest={duration:m.duration,easing:m.easing,lazy:m.lazy}:y.render(m)}},updateLayout:function(){var m=this;!1!==H.notify(m,"beforeLayout")&&(V.layoutService.update(this,this.width,this.height),H.notify(m,"afterScaleUpdate"),H.notify(m,"afterLayout"))},updateDatasets:function(){var m=this;if(!1!==H.notify(m,"beforeDatasetsUpdate")){for(var y=0,P=m.data.datasets.length;y<P;++y)m.updateDataset(y);H.notify(m,"afterDatasetsUpdate")}},updateDataset:function(m){var y=this,P=y.getDatasetMeta(m),Z={meta:P,index:m};!1!==H.notify(y,"beforeDatasetUpdate",[Z])&&(P.controller.update(),H.notify(y,"afterDatasetUpdate",[Z]))},render:function(m){var y=this;m&&"object"==typeof m||(m={duration:m,lazy:arguments[1]});var P=m.duration,Z=m.lazy;if(!1!==H.notify(y,"beforeRender")){var re=y.options.animation,Q=function(fe){H.notify(y,"afterRender"),ke.callback(re&&re.onComplete,[fe],y)};if(re&&(void 0!==P&&0!==P||void 0===P&&0!==re.duration)){var $=new V.Animation({numSteps:(P||re.duration)/16.66,easing:m.easing||re.easing,render:function(fe,pe){var ue=pe.currentStep,Te=ue/pe.numSteps;fe.draw((0,ke.easing.effects[pe.easing])(Te),Te,ue)},onAnimationProgress:re.onProgress,onAnimationComplete:Q});V.animationService.addAnimation(y,$,P,Z)}else y.draw(),Q(new V.Animation({numSteps:0,chart:y}));return y}},draw:function(m){var y=this;y.clear(),ke.isNullOrUndef(m)&&(m=1),y.transition(m),!1!==H.notify(y,"beforeDraw",[m])&&(ke.each(y.boxes,function(P){P.draw(y.chartArea)},y),y.scale&&y.scale.draw(),y.drawDatasets(m),y._drawTooltip(m),H.notify(y,"afterDraw",[m]))},transition:function(m){for(var y=this,P=0,Z=(y.data.datasets||[]).length;P<Z;++P)y.isDatasetVisible(P)&&y.getDatasetMeta(P).controller.transition(m);y.tooltip.transition(m)},drawDatasets:function(m){var y=this;if(!1!==H.notify(y,"beforeDatasetsDraw",[m])){for(var P=(y.data.datasets||[]).length-1;P>=0;--P)y.isDatasetVisible(P)&&y.drawDataset(P,m);H.notify(y,"afterDatasetsDraw",[m])}},drawDataset:function(m,y){var P=this,Z=P.getDatasetMeta(m),re={meta:Z,index:m,easingValue:y};!1!==H.notify(P,"beforeDatasetDraw",[re])&&(Z.controller.draw(y),H.notify(P,"afterDatasetDraw",[re]))},_drawTooltip:function(m){var y=this,P=y.tooltip,Z={tooltip:P,easingValue:m};!1!==H.notify(y,"beforeTooltipDraw",[Z])&&(P.draw(),H.notify(y,"afterTooltipDraw",[Z]))},getElementAtEvent:function(m){return J.modes.single(this,m)},getElementsAtEvent:function(m){return J.modes.label(this,m,{intersect:!0})},getElementsAtXAxis:function(m){return J.modes["x-axis"](this,m,{intersect:!0})},getElementsAtEventForMode:function(m,y,P){var Z=J.modes[y];return"function"==typeof Z?Z(this,m,P):[]},getDatasetAtEvent:function(m){return J.modes.dataset(this,m,{intersect:!0})},getDatasetMeta:function(m){var y=this,P=y.data.datasets[m];P._meta||(P._meta={});var Z=P._meta[y.id];return Z||(Z=P._meta[y.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),Z},getVisibleDatasetCount:function(){for(var m=0,y=0,P=this.data.datasets.length;y<P;++y)this.isDatasetVisible(y)&&m++;return m},isDatasetVisible:function(m){var y=this.getDatasetMeta(m);return"boolean"==typeof y.hidden?!y.hidden:!this.data.datasets[m].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(m){var y=this.id,P=this.data.datasets[m],Z=P._meta&&P._meta[y];Z&&(Z.controller.destroy(),delete P._meta[y])},destroy:function(){var m,y,P=this,Z=P.canvas;for(P.stop(),m=0,y=P.data.datasets.length;m<y;++m)P.destroyDatasetMeta(m);Z&&(P.unbindEvents(),ke.canvas.clear(P),ne.releaseContext(P.ctx),P.canvas=null,P.ctx=null),H.notify(P,"destroy"),delete V.instances[P.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var m=this;m.tooltip=new V.Tooltip({_chart:m,_chartInstance:m,_data:m.data,_options:m.options.tooltips},m)},bindEvents:function(){var m=this,y=m._listeners={},P=function(){m.eventHandler.apply(m,arguments)};ke.each(m.options.events,function(Z){ne.addEventListener(m,Z,P),y[Z]=P}),m.options.responsive&&(P=function(){m.resize()},ne.addEventListener(m,"resize",P),y.resize=P)},unbindEvents:function(){var m=this,y=m._listeners;y&&(delete m._listeners,ke.each(y,function(P,Z){ne.removeEventListener(m,Z,P)}))},updateHoverStyle:function(m,y,P){var Z,re,Q,$=P?"setHoverStyle":"removeHoverStyle";for(re=0,Q=m.length;re<Q;++re)(Z=m[re])&&this.getDatasetMeta(Z._datasetIndex).controller[$](Z)},eventHandler:function(m){var y=this,P=y.tooltip;if(!1!==H.notify(y,"beforeEvent",[m])){y._bufferedRender=!0,y._bufferedRequest=null;var Z=y.handleEvent(m);Z|=P&&P.handleEvent(m),H.notify(y,"afterEvent",[m]);var re=y._bufferedRequest;return re?y.render(re):Z&&!y.animating&&(y.stop(),y.render(y.options.hover.animationDuration,!0)),y._bufferedRender=!1,y._bufferedRequest=null,y}},handleEvent:function(m){var re,y=this,P=y.options||{},Z=P.hover;return y.lastActive=y.lastActive||[],y.active="mouseout"===m.type?[]:y.getElementsAtEventForMode(m,Z.mode,Z),ke.callback(P.onHover||P.hover.onHover,[m.native,y.active],y),"mouseup"!==m.type&&"click"!==m.type||P.onClick&&P.onClick.call(y,m.native,y.active),y.lastActive.length&&y.updateHoverStyle(y.lastActive,Z.mode,!1),y.active.length&&Z.mode&&y.updateHoverStyle(y.active,Z.mode,!0),re=!ke.arrayEquals(y.active,y.lastActive),y.lastActive=y.active,re}}),V.Controller=V}},{25:25,28:28,45:45,48:48}],24:[function(Ge,ht,Bt){"use strict";var he=Ge(45);ht.exports=function(ke){function ne(A,k){var M=A._chartjs;if(M){var H=M.listeners,m=H.indexOf(k);-1!==m&&H.splice(m,1),H.length>0||(V.forEach(function(y){delete A[y]}),delete A._chartjs)}}var V=["push","pop","shift","splice","unshift"];ke.DatasetController=function(A,k){this.initialize(A,k)},he.extend(ke.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(A,k){var M=this;M.chart=A,M.index=k,M.linkScales(),M.addElements()},updateIndex:function(A){this.index=A},linkScales:function(){var A=this,k=A.getMeta(),M=A.getDataset();null===k.xAxisID&&(k.xAxisID=M.xAxisID||A.chart.options.scales.xAxes[0].id),null===k.yAxisID&&(k.yAxisID=M.yAxisID||A.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(A){return this.chart.scales[A]},reset:function(){this.update(!0)},destroy:function(){this._data&&ne(this._data,this)},createMetaDataset:function(){var A=this,k=A.datasetElementType;return k&&new k({_chart:A.chart,_datasetIndex:A.index})},createMetaData:function(A){var k=this,M=k.dataElementType;return M&&new M({_chart:k.chart,_datasetIndex:k.index,_index:A})},addElements:function(){var A,k,M=this,H=M.getMeta(),m=M.getDataset().data||[],y=H.data;for(A=0,k=m.length;A<k;++A)y[A]=y[A]||M.createMetaData(A);H.dataset=H.dataset||M.createMetaDataset()},addElementAndReset:function(A){var k=this.createMetaData(A);this.getMeta().data.splice(A,0,k),this.updateElement(k,A,!0)},buildOrUpdateElements:function(){var A=this,k=A.getDataset(),M=k.data||(k.data=[]);A._data!==M&&(A._data&&ne(A._data,A),function(A,k){A._chartjs?A._chartjs.listeners.push(k):(Object.defineProperty(A,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[k]}}),V.forEach(function(M){var H="onData"+M.charAt(0).toUpperCase()+M.slice(1),m=A[M];Object.defineProperty(A,M,{configurable:!0,enumerable:!1,value:function(){var y=Array.prototype.slice.call(arguments),P=m.apply(this,y);return he.each(A._chartjs.listeners,function(Z){"function"==typeof Z[H]&&Z[H].apply(Z,y)}),P}})}))}(M,A),A._data=M),A.resyncElements()},update:he.noop,transition:function(A){for(var k=this.getMeta(),M=k.data||[],H=M.length,m=0;m<H;++m)M[m].transition(A);k.dataset&&k.dataset.transition(A)},draw:function(){var A=this.getMeta(),k=A.data||[],M=k.length,H=0;for(A.dataset&&A.dataset.draw();H<M;++H)k[H].draw()},removeHoverStyle:function(A,k){var M=this.chart.data.datasets[A._datasetIndex],H=A._index,m=A.custom||{},y=he.valueAtIndexOrDefault,P=A._model;P.backgroundColor=m.backgroundColor?m.backgroundColor:y(M.backgroundColor,H,k.backgroundColor),P.borderColor=m.borderColor?m.borderColor:y(M.borderColor,H,k.borderColor),P.borderWidth=m.borderWidth?m.borderWidth:y(M.borderWidth,H,k.borderWidth)},setHoverStyle:function(A){var k=this.chart.data.datasets[A._datasetIndex],M=A._index,H=A.custom||{},m=he.valueAtIndexOrDefault,y=he.getHoverColor,P=A._model;P.backgroundColor=H.hoverBackgroundColor?H.hoverBackgroundColor:m(k.hoverBackgroundColor,M,y(P.backgroundColor)),P.borderColor=H.hoverBorderColor?H.hoverBorderColor:m(k.hoverBorderColor,M,y(P.borderColor)),P.borderWidth=H.hoverBorderWidth?H.hoverBorderWidth:m(k.hoverBorderWidth,M,P.borderWidth)},resyncElements:function(){var A=this,k=A.getMeta(),M=A.getDataset().data,H=k.data.length,m=M.length;m<H?k.data.splice(m,H-m):m>H&&A.insertElements(H,m-H)},insertElements:function(A,k){for(var M=0;M<k;++M)this.addElementAndReset(A+M)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(A,k){this.getMeta().data.splice(A,k),this.insertElements(A,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),ke.DatasetController.extend=he.inherits}},{45:45}],25:[function(Ge,ht,Bt){"use strict";var he=Ge(45);ht.exports={_set:function(ke,J){return he.merge(this[ke]||(this[ke]={}),J)}}},{45:45}],26:[function(Ge,ht,Bt){"use strict";var ke=Ge(3),J=Ge(45),ne=function(V){J.extend(this,V),this.initialize.apply(this,arguments)};J.extend(ne.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var V=this;return V._view||(V._view=J.clone(V._model)),V._start={},V},transition:function(V){var A=this,k=A._model,M=A._start,H=A._view;return k&&1!==V?(H||(H=A._view={}),M||(M=A._start={}),function(V,A,k,M){var H,m,y,P,Z,re,Q,$,fe,pe=Object.keys(k);for(H=0,m=pe.length;H<m;++H)if(re=k[y=pe[H]],A.hasOwnProperty(y)||(A[y]=re),(P=A[y])!==re&&"_"!==y[0]){if(V.hasOwnProperty(y)||(V[y]=P),(Q=typeof re)==typeof(Z=V[y]))if("string"===Q){if(($=ke(Z)).valid&&(fe=ke(re)).valid){A[y]=fe.mix($,M).rgbString();continue}}else if("number"===Q&&isFinite(Z)&&isFinite(re)){A[y]=Z+(re-Z)*M;continue}A[y]=re}}(M,H,k,V),A):(A._view=k,A._start=null,A)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return J.isNumber(this._model.x)&&J.isNumber(this._model.y)}}),ne.extend=J.inherits,ht.exports=ne},{3:3,45:45}],27:[function(Ge,ht,Bt){"use strict";var he=Ge(3),ke=Ge(25),J=Ge(45);ht.exports=function(ne){function V(M,H,m){var y;return"string"==typeof M?(y=parseInt(M,10),-1!==M.indexOf("%")&&(y=y/100*H.parentNode[m])):y=M,y}function A(M){return null!=M&&"none"!==M}function k(M,H,m){var y=document.defaultView,P=M.parentNode,Z=y.getComputedStyle(M)[H],re=y.getComputedStyle(P)[H],Q=A(Z),$=A(re),fe=Number.POSITIVE_INFINITY;return Q||$?Math.min(Q?V(Z,M,m):fe,$?V(re,P,m):fe):"none"}J.configMerge=function(){return J.merge(J.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(M,H,m,y){var P=H[M]||{},Z=m[M];"scales"===M?H[M]=J.scaleMerge(P,Z):"scale"===M?H[M]=J.merge(P,[ne.scaleService.getScaleDefaults(Z.type),Z]):J._merger(M,H,m,y)}})},J.scaleMerge=function(){return J.merge(J.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(M,H,m,y){if("xAxes"===M||"yAxes"===M){var P,Z,re,Q=m[M].length;for(H[M]||(H[M]=[]),P=0;P<Q;++P)Z=J.valueOrDefault((re=m[M][P]).type,"xAxes"===M?"category":"linear"),P>=H[M].length&&H[M].push({}),J.merge(H[M][P],!H[M][P].type||re.type&&re.type!==H[M][P].type?[ne.scaleService.getScaleDefaults(Z),re]:re)}else J._merger(M,H,m,y)}})},J.where=function(M,H){if(J.isArray(M)&&Array.prototype.filter)return M.filter(H);var m=[];return J.each(M,function(y){H(y)&&m.push(y)}),m},J.findIndex=Array.prototype.findIndex?function(M,H,m){return M.findIndex(H,m)}:function(M,H,m){m=void 0===m?M:m;for(var y=0,P=M.length;y<P;++y)if(H.call(m,M[y],y,M))return y;return-1},J.findNextWhere=function(M,H,m){J.isNullOrUndef(m)&&(m=-1);for(var y=m+1;y<M.length;y++){var P=M[y];if(H(P))return P}},J.findPreviousWhere=function(M,H,m){J.isNullOrUndef(m)&&(m=M.length);for(var y=m-1;y>=0;y--){var P=M[y];if(H(P))return P}},J.isNumber=function(M){return!isNaN(parseFloat(M))&&isFinite(M)},J.almostEquals=function(M,H,m){return Math.abs(M-H)<m},J.almostWhole=function(M,H){var m=Math.round(M);return m-H<M&&m+H>M},J.max=function(M){return M.reduce(function(H,m){return isNaN(m)?H:Math.max(H,m)},Number.NEGATIVE_INFINITY)},J.min=function(M){return M.reduce(function(H,m){return isNaN(m)?H:Math.min(H,m)},Number.POSITIVE_INFINITY)},J.sign=Math.sign?function(M){return Math.sign(M)}:function(M){return 0==(M=+M)||isNaN(M)?M:M>0?1:-1},J.log10=Math.log10?function(M){return Math.log10(M)}:function(M){return Math.log(M)/Math.LN10},J.toRadians=function(M){return M*(Math.PI/180)},J.toDegrees=function(M){return M*(180/Math.PI)},J.getAngleFromPoint=function(M,H){var m=H.x-M.x,y=H.y-M.y,P=Math.sqrt(m*m+y*y),Z=Math.atan2(y,m);return Z<-.5*Math.PI&&(Z+=2*Math.PI),{angle:Z,distance:P}},J.distanceBetweenPoints=function(M,H){return Math.sqrt(Math.pow(H.x-M.x,2)+Math.pow(H.y-M.y,2))},J.aliasPixel=function(M){return M%2==0?0:.5},J.splineCurve=function(M,H,m,y){var P=M.skip?H:M,Z=H,re=m.skip?H:m,Q=Math.sqrt(Math.pow(Z.x-P.x,2)+Math.pow(Z.y-P.y,2)),$=Math.sqrt(Math.pow(re.x-Z.x,2)+Math.pow(re.y-Z.y,2)),fe=Q/(Q+$),pe=$/(Q+$),Ce=y*(fe=isNaN(fe)?0:fe),ue=y*(pe=isNaN(pe)?0:pe);return{previous:{x:Z.x-Ce*(re.x-P.x),y:Z.y-Ce*(re.y-P.y)},next:{x:Z.x+ue*(re.x-P.x),y:Z.y+ue*(re.y-P.y)}}},J.EPSILON=Number.EPSILON||1e-14,J.splineCurveMonotone=function(M){var H,m,y,P,$,fe,pe,Ce,ue,Z=(M||[]).map(function(Te){return{model:Te._model,deltaK:0,mK:0}}),re=Z.length;for(H=0;H<re;++H)if(!(y=Z[H]).model.skip){if(m=H>0?Z[H-1]:null,(P=H<re-1?Z[H+1]:null)&&!P.model.skip){var Q=P.model.x-y.model.x;y.deltaK=0!==Q?(P.model.y-y.model.y)/Q:0}y.mK=!m||m.model.skip?y.deltaK:!P||P.model.skip?m.deltaK:this.sign(m.deltaK)!==this.sign(y.deltaK)?0:(m.deltaK+y.deltaK)/2}for(H=0;H<re-1;++H)P=Z[H+1],(y=Z[H]).model.skip||P.model.skip||(J.almostEquals(y.deltaK,0,this.EPSILON)?y.mK=P.mK=0:($=y.mK/y.deltaK,fe=P.mK/y.deltaK,(Ce=Math.pow($,2)+Math.pow(fe,2))<=9||(pe=3/Math.sqrt(Ce),y.mK=$*pe*y.deltaK,P.mK=fe*pe*y.deltaK)));for(H=0;H<re;++H)(y=Z[H]).model.skip||(P=H<re-1?Z[H+1]:null,(m=H>0?Z[H-1]:null)&&!m.model.skip&&(y.model.controlPointPreviousX=y.model.x-(ue=(y.model.x-m.model.x)/3),y.model.controlPointPreviousY=y.model.y-ue*y.mK),P&&!P.model.skip&&(y.model.controlPointNextX=y.model.x+(ue=(P.model.x-y.model.x)/3),y.model.controlPointNextY=y.model.y+ue*y.mK))},J.nextItem=function(M,H,m){return m?H>=M.length-1?M[0]:M[H+1]:H>=M.length-1?M[M.length-1]:M[H+1]},J.previousItem=function(M,H,m){return m?H<=0?M[M.length-1]:M[H-1]:H<=0?M[0]:M[H-1]},J.niceNum=function(M,H){var m=Math.floor(J.log10(M)),y=M/Math.pow(10,m);return(H?y<1.5?1:y<3?2:y<7?5:10:y<=1?1:y<=2?2:y<=5?5:10)*Math.pow(10,m)},J.requestAnimFrame="undefined"==typeof window?function(M){M()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(M){return window.setTimeout(M,1e3/60)},J.getRelativePosition=function(M,H){var m,y,P=M.originalEvent||M,Z=M.currentTarget||M.srcElement,re=Z.getBoundingClientRect(),Q=P.touches;Q&&Q.length>0?(m=Q[0].clientX,y=Q[0].clientY):(m=P.clientX,y=P.clientY);var $=parseFloat(J.getStyle(Z,"padding-left")),fe=parseFloat(J.getStyle(Z,"padding-top")),pe=parseFloat(J.getStyle(Z,"padding-right")),Ce=parseFloat(J.getStyle(Z,"padding-bottom")),Te=re.bottom-re.top-fe-Ce;return{x:m=Math.round((m-re.left-$)/(re.right-re.left-$-pe)*Z.width/H.currentDevicePixelRatio),y:y=Math.round((y-re.top-fe)/Te*Z.height/H.currentDevicePixelRatio)}},J.getConstraintWidth=function(M){return k(M,"max-width","clientWidth")},J.getConstraintHeight=function(M){return k(M,"max-height","clientHeight")},J.getMaximumWidth=function(M){var H=M.parentNode;if(!H)return M.clientWidth;var m=parseInt(J.getStyle(H,"padding-left"),10),y=parseInt(J.getStyle(H,"padding-right"),10),P=H.clientWidth-m-y,Z=J.getConstraintWidth(M);return isNaN(Z)?P:Math.min(P,Z)},J.getMaximumHeight=function(M){var H=M.parentNode;if(!H)return M.clientHeight;var m=parseInt(J.getStyle(H,"padding-top"),10),y=parseInt(J.getStyle(H,"padding-bottom"),10),P=H.clientHeight-m-y,Z=J.getConstraintHeight(M);return isNaN(Z)?P:Math.min(P,Z)},J.getStyle=function(M,H){return M.currentStyle?M.currentStyle[H]:document.defaultView.getComputedStyle(M,null).getPropertyValue(H)},J.retinaScale=function(M,H){var m=M.currentDevicePixelRatio=H||window.devicePixelRatio||1;if(1!==m){var y=M.canvas,P=M.height,Z=M.width;y.height=P*m,y.width=Z*m,M.ctx.scale(m,m),y.style.height=P+"px",y.style.width=Z+"px"}},J.fontString=function(M,H,m){return H+" "+M+"px "+m},J.longestText=function(M,H,m,y){var P=(y=y||{}).data=y.data||{},Z=y.garbageCollect=y.garbageCollect||[];y.font!==H&&(P=y.data={},Z=y.garbageCollect=[],y.font=H),M.font=H;var re=0;J.each(m,function(fe){null!=fe&&!0!==J.isArray(fe)?re=J.measureText(M,P,Z,re,fe):J.isArray(fe)&&J.each(fe,function(pe){null==pe||J.isArray(pe)||(re=J.measureText(M,P,Z,re,pe))})});var Q=Z.length/2;if(Q>m.length){for(var $=0;$<Q;$++)delete P[Z[$]];Z.splice(0,Q)}return re},J.measureText=function(M,H,m,y,P){var Z=H[P];return Z||(Z=H[P]=M.measureText(P).width,m.push(P)),Z>y&&(y=Z),y},J.numberOfLabelLines=function(M){var H=1;return J.each(M,function(m){J.isArray(m)&&m.length>H&&(H=m.length)}),H},J.color=he?function(M){return M instanceof CanvasGradient&&(M=ke.global.defaultColor),he(M)}:function(M){return console.error("Color.js not found!"),M},J.getHoverColor=function(M){return M instanceof CanvasPattern?M:J.color(M).saturate(.5).darken(.1).rgbString()}}},{25:25,3:3,45:45}],28:[function(Ge,ht,Bt){"use strict";function he(M,H){return M.native?{x:M.x,y:M.y}:k.getRelativePosition(M,H)}function ke(M,H){var m,y,P,Z,re;for(y=0,Z=M.data.datasets.length;y<Z;++y)if(M.isDatasetVisible(y))for(P=0,re=(m=M.getDatasetMeta(y)).data.length;P<re;++P){var Q=m.data[P];Q._view.skip||H(Q)}}function J(M,H){var m=[];return ke(M,function(y){y.inRange(H.x,H.y)&&m.push(y)}),m}function ne(M,H,m,y){var P=Number.POSITIVE_INFINITY,Z=[];return ke(M,function(re){if(!m||re.inRange(H.x,H.y)){var Q=re.getCenterPoint(),$=y(H,Q);$<P?(Z=[re],P=$):$===P&&Z.push(re)}}),Z}function V(M){var H=-1!==M.indexOf("x"),m=-1!==M.indexOf("y");return function(y,P){var Z=H?Math.abs(y.x-P.x):0,re=m?Math.abs(y.y-P.y):0;return Math.sqrt(Math.pow(Z,2)+Math.pow(re,2))}}function A(M,H,m){var y=he(H,M);m.axis=m.axis||"x";var P=V(m.axis),Z=m.intersect?J(M,y):ne(M,y,!1,P),re=[];return Z.length?(M.data.datasets.forEach(function(Q,$){if(M.isDatasetVisible($)){var fe=M.getDatasetMeta($).data[Z[0]._index];fe&&!fe._view.skip&&re.push(fe)}}),re):[]}var k=Ge(45);ht.exports={modes:{single:function(M,H){var m=he(H,M),y=[];return ke(M,function(P){if(P.inRange(m.x,m.y))return y.push(P),y}),y.slice(0,1)},label:A,index:A,dataset:function(M,H,m){var y=he(H,M);m.axis=m.axis||"xy";var P=V(m.axis),Z=m.intersect?J(M,y):ne(M,y,!1,P);return Z.length>0&&(Z=M.getDatasetMeta(Z[0]._datasetIndex).data),Z},"x-axis":function(M,H){return A(M,H,{intersect:!1})},point:function(M,H){return J(M,he(H,M))},nearest:function(M,H,m){var y=he(H,M);m.axis=m.axis||"xy";var P=V(m.axis),Z=ne(M,y,m.intersect,P);return Z.length>1&&Z.sort(function(re,Q){var $=re.getArea()-Q.getArea();return 0===$&&($=re._datasetIndex-Q._datasetIndex),$}),Z.slice(0,1)},x:function(M,H,m){var y=he(H,M),P=[],Z=!1;return ke(M,function(re){re.inXRange(y.x)&&P.push(re),re.inRange(y.x,y.y)&&(Z=!0)}),m.intersect&&!Z&&(P=[]),P},y:function(M,H,m){var y=he(H,M),P=[],Z=!1;return ke(M,function(re){re.inYRange(y.y)&&P.push(re),re.inRange(y.x,y.y)&&(Z=!0)}),m.intersect&&!Z&&(P=[]),P}}}},{45:45}],29:[function(Ge,ht,Bt){"use strict";Ge(25)._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),ht.exports=function(){var he=function(ke,J){return this.construct(ke,J),this};return he.Chart=he,he}},{25:25}],30:[function(Ge,ht,Bt){"use strict";var he=Ge(45);ht.exports=function(ke){function J(V,A){return he.where(V,function(k){return k.position===A})}function ne(V,A){V.forEach(function(k,M){return k._tmpIndex_=M,k}),V.sort(function(k,M){var H=A?M:k,m=A?k:M;return H.weight===m.weight?H._tmpIndex_-m._tmpIndex_:H.weight-m.weight}),V.forEach(function(k){delete k._tmpIndex_})}ke.layoutService={defaults:{},addBox:function(V,A){V.boxes||(V.boxes=[]),A.fullWidth=A.fullWidth||!1,A.position=A.position||"top",A.weight=A.weight||0,V.boxes.push(A)},removeBox:function(V,A){var k=V.boxes?V.boxes.indexOf(A):-1;-1!==k&&V.boxes.splice(k,1)},configure:function(V,A,k){for(var M,H=["fullWidth","position","weight"],m=H.length,y=0;y<m;++y)k.hasOwnProperty(M=H[y])&&(A[M]=k[M])},update:function(V,A,k){function M(Nt){var hn=he.findNextWhere(Le,function(Wn){return Wn.box===Nt});if(hn)if(Nt.isHorizontal()){var qn={left:Math.max(Ht,Ue),right:Math.max(tt,Qe),top:0,bottom:0};Nt.update(Nt.fullWidth?Te:Ne,se/2,qn)}else Nt.update(hn.minSize.width,Se)}function H(Nt){Nt.isHorizontal()?(Nt.left=Nt.fullWidth?P:Ht,Nt.right=Nt.fullWidth?A-Z:Ht+Ne,Nt.top=dn,Nt.bottom=dn+Nt.height,dn=Nt.bottom):(Nt.left=Dt,Nt.right=Dt+Nt.width,Nt.top=kt,Nt.bottom=kt+Se,Dt=Nt.right)}if(V){var y=he.options.toPadding((V.options.layout||{}).padding),P=y.left,Z=y.right,re=y.top,Q=y.bottom,$=J(V.boxes,"left"),fe=J(V.boxes,"right"),pe=J(V.boxes,"top"),Ce=J(V.boxes,"bottom"),ue=J(V.boxes,"chartArea");ne($,!0),ne(fe,!1),ne(pe,!0),ne(Ce,!1);var Te=A-P-Z,se=k-re-Q,ve=se/2,_e=(A-Te/2)/($.length+fe.length),Me=(k-ve)/(pe.length+Ce.length),Ne=Te,Se=se,Le=[];he.each($.concat(fe,pe,Ce),function(Nt){var hn,qn=Nt.isHorizontal();qn?(hn=Nt.update(Nt.fullWidth?Te:Ne,Me),Se-=hn.height):(hn=Nt.update(_e,ve),Ne-=hn.width),Le.push({horizontal:qn,minSize:hn,box:Nt})});var Ue=0,Qe=0,Tt=0,_t=0;he.each(pe.concat(Ce),function(Nt){if(Nt.getPadding){var hn=Nt.getPadding();Ue=Math.max(Ue,hn.left),Qe=Math.max(Qe,hn.right)}}),he.each($.concat(fe),function(Nt){if(Nt.getPadding){var hn=Nt.getPadding();Tt=Math.max(Tt,hn.top),_t=Math.max(_t,hn.bottom)}});var Ht=P,tt=Z,kt=re,It=Q;he.each($.concat(fe),M),he.each($,function(Nt){Ht+=Nt.width}),he.each(fe,function(Nt){tt+=Nt.width}),he.each(pe.concat(Ce),M),he.each(pe,function(Nt){kt+=Nt.height}),he.each(Ce,function(Nt){It+=Nt.height}),he.each($.concat(fe),function(Nt){var hn=he.findNextWhere(Le,function(Wn){return Wn.box===Nt});hn&&Nt.update(hn.minSize.width,Se,{left:0,right:0,top:kt,bottom:It})}),Ht=P,tt=Z,kt=re,It=Q,he.each($,function(Nt){Ht+=Nt.width}),he.each(fe,function(Nt){tt+=Nt.width}),he.each(pe,function(Nt){kt+=Nt.height}),he.each(Ce,function(Nt){It+=Nt.height});var nn=Math.max(Ue-Ht,0);Ht+=nn,tt+=Math.max(Qe-tt,0);var ct=Math.max(Tt-kt,0);kt+=ct,It+=Math.max(_t-It,0);var Lt=k-kt-It,ln=A-Ht-tt;ln===Ne&&Lt===Se||(he.each($,function(Nt){Nt.height=Lt}),he.each(fe,function(Nt){Nt.height=Lt}),he.each(pe,function(Nt){Nt.fullWidth||(Nt.width=ln)}),he.each(Ce,function(Nt){Nt.fullWidth||(Nt.width=ln)}),Se=Lt,Ne=ln);var Dt=P+nn,dn=re+ct;he.each($.concat(pe),H),Dt+=Ne,dn+=Se,he.each(fe,H),he.each(Ce,H),V.chartArea={left:Ht,top:kt,right:Ht+Ne,bottom:kt+Se},he.each(ue,function(Nt){Nt.left=V.chartArea.left,Nt.top=V.chartArea.top,Nt.right=V.chartArea.right,Nt.bottom=V.chartArea.bottom,Nt.update(Ne,Se)})}}}}},{45:45}],31:[function(Ge,ht,Bt){"use strict";var he=Ge(25),ke=Ge(26),J=Ge(45);he._set("global",{plugins:{}}),ht.exports=function(ne){ne.plugins={_plugins:[],_cacheId:0,register:function(V){var A=this._plugins;[].concat(V).forEach(function(k){-1===A.indexOf(k)&&A.push(k)}),this._cacheId++},unregister:function(V){var A=this._plugins;[].concat(V).forEach(function(k){var M=A.indexOf(k);-1!==M&&A.splice(M,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(V,A,k){var M,H,m,y,P,Z=this.descriptors(V),re=Z.length;for(M=0;M<re;++M)if("function"==typeof(P=(m=(H=Z[M]).plugin)[A])&&((y=[V].concat(k||[])).push(H.options),!1===P.apply(m,y)))return!1;return!0},descriptors:function(V){var A=V._plugins||(V._plugins={});if(A.id===this._cacheId)return A.descriptors;var k=[],M=[],H=V&&V.config||{},m=H.options&&H.options.plugins||{};return this._plugins.concat(H.plugins||[]).forEach(function(y){if(-1===k.indexOf(y)){var P=y.id,Z=m[P];!1!==Z&&(!0===Z&&(Z=J.clone(he.global.plugins[P])),k.push(y),M.push({plugin:y,options:Z||{}}))}}),A.descriptors=M,A.id=this._cacheId,M}},ne.pluginService=ne.plugins,ne.PluginBase=ke.extend({})}},{25:25,26:26,45:45}],32:[function(Ge,ht,Bt){"use strict";function he(k){var M,H,m=[];for(M=0,H=k.length;M<H;++M)m.push(k[M].label);return m}function ke(k,M,H){var m=k.getPixelForTick(M);return H&&(m-=0===M?(k.getPixelForTick(1)-m)/2:(m-k.getPixelForTick(M-1))/2),m}var J=Ge(25),ne=Ge(26),V=Ge(45),A=Ge(34);J._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:A.formatters.values,minor:{},major:{}}}),ht.exports=function(k){function M(y,P,Z){return V.isArray(P)?V.longestText(y,Z,P):y.measureText(P).width}function H(y){var P=V.valueOrDefault,Z=J.global,re=P(y.fontSize,Z.defaultFontSize),Q=P(y.fontStyle,Z.defaultFontStyle),$=P(y.fontFamily,Z.defaultFontFamily);return{size:re,style:Q,family:$,font:V.fontString(re,Q,$)}}function m(y){return V.options.toLineHeight(V.valueOrDefault(y.lineHeight,1.2),V.valueOrDefault(y.fontSize,J.global.defaultFontSize))}k.Scale=ne.extend({getPadding:function(){var y=this;return{left:y.paddingLeft||0,top:y.paddingTop||0,right:y.paddingRight||0,bottom:y.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var y=this.options.ticks;for(var P in!1===y.minor&&(y.minor={display:!1}),!1===y.major&&(y.major={display:!1}),y)"major"!==P&&"minor"!==P&&(void 0===y.minor[P]&&(y.minor[P]=y[P]),void 0===y.major[P]&&(y.major[P]=y[P]))},beforeUpdate:function(){V.callback(this.options.beforeUpdate,[this])},update:function(y,P,Z){var re,Q,$,fe,pe,Ce,ue=this;for(ue.beforeUpdate(),ue.maxWidth=y,ue.maxHeight=P,ue.margins=V.extend({left:0,right:0,top:0,bottom:0},Z),ue.longestTextCache=ue.longestTextCache||{},ue.beforeSetDimensions(),ue.setDimensions(),ue.afterSetDimensions(),ue.beforeDataLimits(),ue.determineDataLimits(),ue.afterDataLimits(),ue.beforeBuildTicks(),pe=ue.buildTicks()||[],ue.afterBuildTicks(),ue.beforeTickToLabelConversion(),$=ue.convertTicksToLabels(pe)||ue.ticks,ue.afterTickToLabelConversion(),ue.ticks=$,re=0,Q=$.length;re<Q;++re)fe=$[re],(Ce=pe[re])?Ce.label=fe:pe.push(Ce={label:fe,major:!1});return ue._ticks=pe,ue.beforeCalculateTickRotation(),ue.calculateTickRotation(),ue.afterCalculateTickRotation(),ue.beforeFit(),ue.fit(),ue.afterFit(),ue.afterUpdate(),ue.minSize},afterUpdate:function(){V.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){V.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var y=this;y.isHorizontal()?(y.width=y.maxWidth,y.left=0,y.right=y.width):(y.height=y.maxHeight,y.top=0,y.bottom=y.height),y.paddingLeft=0,y.paddingTop=0,y.paddingRight=0,y.paddingBottom=0},afterSetDimensions:function(){V.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){V.callback(this.options.beforeDataLimits,[this])},determineDataLimits:V.noop,afterDataLimits:function(){V.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){V.callback(this.options.beforeBuildTicks,[this])},buildTicks:V.noop,afterBuildTicks:function(){V.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){V.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var y=this,P=y.options.ticks;y.ticks=y.ticks.map(P.userCallback||P.callback,this)},afterTickToLabelConversion:function(){V.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){V.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var y=this,P=y.ctx,Z=y.options.ticks,re=he(y._ticks),Q=H(Z);P.font=Q.font;var $=Z.minRotation||0;if(re.length&&y.options.display&&y.isHorizontal())for(var fe,pe=V.longestText(P,Q.font,re,y.longestTextCache),Ce=pe,ue=y.getPixelForTick(1)-y.getPixelForTick(0)-6;Ce>ue&&$<Z.maxRotation;){var Te=V.toRadians($);if(fe=Math.cos(Te),Math.sin(Te)*pe>y.maxHeight){$--;break}$++,Ce=fe*pe}y.labelRotation=$},afterCalculateTickRotation:function(){V.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){V.callback(this.options.beforeFit,[this])},fit:function(){var y=this,P=y.minSize={width:0,height:0},Z=he(y._ticks),re=y.options,Q=re.ticks,$=re.scaleLabel,fe=re.gridLines,pe=re.display,Ce=y.isHorizontal(),ue=H(Q),Te=re.gridLines.tickMarkLength;if(P.width=Ce?y.isFullWidth()?y.maxWidth-y.margins.left-y.margins.right:y.maxWidth:pe&&fe.drawTicks?Te:0,P.height=Ce?pe&&fe.drawTicks?Te:0:y.maxHeight,$.display&&pe){var se=m($)+V.options.toPadding($.padding).height;Ce?P.height+=se:P.width+=se}if(Q.display&&pe){var ve=V.longestText(y.ctx,ue.font,Z,y.longestTextCache),_e=V.numberOfLabelLines(Z),Me=.5*ue.size,Ne=y.options.ticks.padding;if(Ce){y.longestLabelWidth=ve;var Se=V.toRadians(y.labelRotation),Le=Math.cos(Se),Ue=Math.sin(Se)*ve+ue.size*_e+Me*(_e-1)+Me;P.height=Math.min(y.maxHeight,P.height+Ue+Ne),y.ctx.font=ue.font;var Qe=M(y.ctx,Z[0],ue.font),Tt=M(y.ctx,Z[Z.length-1],ue.font);0!==y.labelRotation?(y.paddingLeft="bottom"===re.position?Le*Qe+3:Le*Me+3,y.paddingRight="bottom"===re.position?Le*Me+3:Le*Tt+3):(y.paddingLeft=Qe/2+3,y.paddingRight=Tt/2+3)}else Q.mirror?ve=0:ve+=Ne+Me,P.width=Math.min(y.maxWidth,P.width+ve),y.paddingTop=ue.size/2,y.paddingBottom=ue.size/2}y.handleMargins(),y.width=P.width,y.height=P.height},handleMargins:function(){var y=this;y.margins&&(y.paddingLeft=Math.max(y.paddingLeft-y.margins.left,0),y.paddingTop=Math.max(y.paddingTop-y.margins.top,0),y.paddingRight=Math.max(y.paddingRight-y.margins.right,0),y.paddingBottom=Math.max(y.paddingBottom-y.margins.bottom,0))},afterFit:function(){V.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(y){if(V.isNullOrUndef(y))return NaN;if("number"==typeof y&&!isFinite(y))return NaN;if(y)if(this.isHorizontal()){if(void 0!==y.x)return this.getRightValue(y.x)}else if(void 0!==y.y)return this.getRightValue(y.y);return y},getLabelForIndex:V.noop,getPixelForValue:V.noop,getValueForPixel:V.noop,getPixelForTick:function(y){var P=this,Z=P.options.offset;if(P.isHorizontal()){var re=(P.width-(P.paddingLeft+P.paddingRight))/Math.max(P._ticks.length-(Z?0:1),1),Q=re*y+P.paddingLeft;return Z&&(Q+=re/2),P.left+Math.round(Q)+(P.isFullWidth()?P.margins.left:0)}return P.top+y*((P.height-(P.paddingTop+P.paddingBottom))/(P._ticks.length-1))},getPixelForDecimal:function(y){var P=this;return P.isHorizontal()?P.left+Math.round((P.width-(P.paddingLeft+P.paddingRight))*y+P.paddingLeft)+(P.isFullWidth()?P.margins.left:0):P.top+y*P.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var y=this,P=y.min,Z=y.max;return y.beginAtZero?0:P<0&&Z<0?Z:P>0&&Z>0?P:0},_autoSkip:function(y){var P,Z,re,Q,$=this,fe=$.isHorizontal(),pe=$.options.ticks.minor,Ce=y.length,ue=V.toRadians($.labelRotation),Te=Math.cos(ue),se=$.longestLabelWidth*Te,ve=[];for(pe.maxTicksLimit&&(Q=pe.maxTicksLimit),fe&&(P=!1,(se+pe.autoSkipPadding)*Ce>$.width-($.paddingLeft+$.paddingRight)&&(P=1+Math.floor((se+pe.autoSkipPadding)*Ce/($.width-($.paddingLeft+$.paddingRight)))),Q&&Ce>Q&&(P=Math.max(P,Math.floor(Ce/Q)))),Z=0;Z<Ce;Z++)re=y[Z],(P>1&&Z%P>0||Z%P==0&&Z+P>=Ce)&&Z!==Ce-1&&delete re.label,ve.push(re);return ve},draw:function(y){var P=this,Z=P.options;if(Z.display){var re=P.ctx,Q=J.global,$=Z.ticks.minor,fe=Z.ticks.major||$,pe=Z.gridLines,Ce=Z.scaleLabel,ue=0!==P.labelRotation,Te=P.isHorizontal(),se=$.autoSkip?P._autoSkip(P.getTicks()):P.getTicks(),ve=V.valueOrDefault($.fontColor,Q.defaultFontColor),_e=H($),Me=V.valueOrDefault(fe.fontColor,Q.defaultFontColor),Ne=H(fe),Se=pe.drawTicks?pe.tickMarkLength:0,Le=V.valueOrDefault(Ce.fontColor,Q.defaultFontColor),Ue=H(Ce),Qe=V.options.toPadding(Ce.padding),Tt=V.toRadians(P.labelRotation),_t=[],Ht="right"===Z.position?P.left:P.right-Se,tt="right"===Z.position?P.left+Se:P.right,kt="bottom"===Z.position?P.top:P.bottom-Se,It="bottom"===Z.position?P.top+Se:P.bottom;if(V.each(se,function(kn,ai){if(!V.isNullOrUndef(kn.label)){var Jn,xi,Rt,bt,rn=kn.label;ai===P.zeroLineIndex&&Z.offset===pe.offsetGridLines?(Jn=pe.zeroLineWidth,xi=pe.zeroLineColor,Rt=pe.zeroLineBorderDash,bt=pe.zeroLineBorderDashOffset):(Jn=V.valueAtIndexOrDefault(pe.lineWidth,ai),xi=V.valueAtIndexOrDefault(pe.color,ai),Rt=V.valueOrDefault(pe.borderDash,Q.borderDash),bt=V.valueOrDefault(pe.borderDashOffset,Q.borderDashOffset));var un,Ft,gn,An,Gn,Un,En,Pt,Ut,tn,yn="middle",cn="middle",$t=$.padding;if(Te){var _n=Se+$t;"bottom"===Z.position?(cn=ue?"middle":"top",yn=ue?"right":"center",tn=P.top+_n):(cn=ue?"middle":"bottom",yn=ue?"left":"center",tn=P.bottom-_n);var Mn=ke(P,ai,pe.offsetGridLines&&se.length>1);Mn<P.left&&(xi="rgba(0,0,0,0)"),Mn+=V.aliasPixel(Jn),Ut=P.getPixelForTick(ai)+$.labelOffset,un=gn=Gn=En=Mn,Ft=kt,An=It,Un=y.top,Pt=y.bottom}else{var Rn,On="left"===Z.position;$.mirror?(yn=On?"left":"right",Rn=$t):(yn=On?"right":"left",Rn=Se+$t),Ut=On?P.right-Rn:P.left+Rn;var oi=ke(P,ai,pe.offsetGridLines&&se.length>1);oi<P.top&&(xi="rgba(0,0,0,0)"),oi+=V.aliasPixel(Jn),tn=P.getPixelForTick(ai)+$.labelOffset,un=Ht,gn=tt,Gn=y.left,En=y.right,Ft=An=Un=Pt=oi}_t.push({tx1:un,ty1:Ft,tx2:gn,ty2:An,x1:Gn,y1:Un,x2:En,y2:Pt,labelX:Ut,labelY:tn,glWidth:Jn,glColor:xi,glBorderDash:Rt,glBorderDashOffset:bt,rotation:-1*Tt,label:rn,major:kn.major,textBaseline:cn,textAlign:yn})}}),V.each(_t,function(kn){if(pe.display&&(re.save(),re.lineWidth=kn.glWidth,re.strokeStyle=kn.glColor,re.setLineDash&&(re.setLineDash(kn.glBorderDash),re.lineDashOffset=kn.glBorderDashOffset),re.beginPath(),pe.drawTicks&&(re.moveTo(kn.tx1,kn.ty1),re.lineTo(kn.tx2,kn.ty2)),pe.drawOnChartArea&&(re.moveTo(kn.x1,kn.y1),re.lineTo(kn.x2,kn.y2)),re.stroke(),re.restore()),$.display){re.save(),re.translate(kn.labelX,kn.labelY),re.rotate(kn.rotation),re.font=kn.major?Ne.font:_e.font,re.fillStyle=kn.major?Me:ve,re.textBaseline=kn.textBaseline,re.textAlign=kn.textAlign;var ai=kn.label;if(V.isArray(ai))for(var Jn=0,xi=0;Jn<ai.length;++Jn)re.fillText(""+ai[Jn],0,xi),xi+=1.5*_e.size;else re.fillText(ai,0,0);re.restore()}}),Ce.display){var nn,ct,Lt=0,ln=m(Ce)/2;if(Te)nn=P.left+(P.right-P.left)/2,ct="bottom"===Z.position?P.bottom-ln-Qe.bottom:P.top+ln+Qe.top;else{var Dt="left"===Z.position;nn=Dt?P.left+ln+Qe.top:P.right-ln-Qe.top,ct=P.top+(P.bottom-P.top)/2,Lt=Dt?-.5*Math.PI:.5*Math.PI}re.save(),re.translate(nn,ct),re.rotate(Lt),re.textAlign="center",re.textBaseline="middle",re.fillStyle=Le,re.font=Ue.font,re.fillText(Ce.labelString,0,0),re.restore()}if(pe.drawBorder){re.lineWidth=V.valueAtIndexOrDefault(pe.lineWidth,0),re.strokeStyle=V.valueAtIndexOrDefault(pe.color,0);var dn=P.left,Nt=P.right,hn=P.top,qn=P.bottom,Wn=V.aliasPixel(re.lineWidth);Te?(hn=qn="top"===Z.position?P.bottom:P.top,hn+=Wn,qn+=Wn):(dn=Nt="left"===Z.position?P.right:P.left,dn+=Wn,Nt+=Wn),re.beginPath(),re.moveTo(dn,hn),re.lineTo(Nt,qn),re.stroke()}}}})}},{25:25,26:26,34:34,45:45}],33:[function(Ge,ht,Bt){"use strict";var he=Ge(25),ke=Ge(45);ht.exports=function(J){J.scaleService={constructors:{},defaults:{},registerScaleType:function(ne,V,A){this.constructors[ne]=V,this.defaults[ne]=ke.clone(A)},getScaleConstructor:function(ne){return this.constructors.hasOwnProperty(ne)?this.constructors[ne]:void 0},getScaleDefaults:function(ne){return this.defaults.hasOwnProperty(ne)?ke.merge({},[he.scale,this.defaults[ne]]):{}},updateScaleDefaults:function(ne,V){var A=this;A.defaults.hasOwnProperty(ne)&&(A.defaults[ne]=ke.extend(A.defaults[ne],V))},addScalesToLayout:function(ne){ke.each(ne.scales,function(V){V.fullWidth=V.options.fullWidth,V.position=V.options.position,V.weight=V.options.weight,J.layoutService.addBox(ne,V)})}}}},{25:25,45:45}],34:[function(Ge,ht,Bt){"use strict";var he=Ge(45);ht.exports={generators:{linear:function(ke,J){var ne,V=[];if(ke.stepSize&&ke.stepSize>0)ne=ke.stepSize;else{var A=he.niceNum(J.max-J.min,!1);ne=he.niceNum(A/(ke.maxTicks-1),!0)}var k=Math.floor(J.min/ne)*ne,M=Math.ceil(J.max/ne)*ne;ke.min&&ke.max&&ke.stepSize&&he.almostWhole((ke.max-ke.min)/ke.stepSize,ne/1e3)&&(k=ke.min,M=ke.max);var H=(M-k)/ne;H=he.almostEquals(H,Math.round(H),ne/1e3)?Math.round(H):Math.ceil(H),V.push(void 0!==ke.min?ke.min:k);for(var m=1;m<H;++m)V.push(k+m*ne);return V.push(void 0!==ke.max?ke.max:M),V},logarithmic:function(ke,J){var ne,V,A=[],k=he.valueOrDefault,M=k(ke.min,Math.pow(10,Math.floor(he.log10(J.min)))),H=Math.floor(he.log10(J.max)),m=Math.ceil(J.max/Math.pow(10,H));0===M?(ne=Math.floor(he.log10(J.minNotZero)),V=Math.floor(J.minNotZero/Math.pow(10,ne)),A.push(M),M=V*Math.pow(10,ne)):(ne=Math.floor(he.log10(M)),V=Math.floor(M/Math.pow(10,ne)));do{A.push(M),10==++V&&(V=1,++ne),M=V*Math.pow(10,ne)}while(ne<H||ne===H&&V<m);var y=k(ke.max,M);return A.push(y),A}},formatters:{values:function(ke){return he.isArray(ke)?ke:""+ke},linear:function(ke,J,ne){var V=ne.length>3?ne[2]-ne[1]:ne[1]-ne[0];Math.abs(V)>1&&ke!==Math.floor(ke)&&(V=ke-Math.floor(ke));var A=he.log10(Math.abs(V)),k="";if(0!==ke){var M=-1*Math.floor(A);M=Math.max(Math.min(M,20),0),k=ke.toFixed(M)}else k="0";return k},logarithmic:function(ke,J,ne){var V=ke/Math.pow(10,Math.floor(he.log10(ke)));return 0===ke?"0":1===V||2===V||5===V||0===J||J===ne.length-1?ke.toExponential():""}}}},{45:45}],35:[function(Ge,ht,Bt){"use strict";var he=Ge(25),ke=Ge(26),J=Ge(45);he._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:J.noop,title:function(ne,V){var A="",k=V.labels,M=k?k.length:0;if(ne.length>0){var H=ne[0];H.xLabel?A=H.xLabel:M>0&&H.index<M&&(A=k[H.index])}return A},afterTitle:J.noop,beforeBody:J.noop,beforeLabel:J.noop,label:function(ne,V){var A=V.datasets[ne.datasetIndex].label||"";return A&&(A+=": "),A+ne.yLabel},labelColor:function(ne,V){var A=V.getDatasetMeta(ne.datasetIndex).data[ne.index]._view;return{borderColor:A.borderColor,backgroundColor:A.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:J.noop,afterBody:J.noop,beforeFooter:J.noop,footer:J.noop,afterFooter:J.noop}}}),ht.exports=function(ne){function V(P,Z){var re=J.color(P);return re.alpha(Z*re.alpha()).rgbaString()}function A(P,Z){return Z&&(J.isArray(Z)?Array.prototype.push.apply(P,Z):P.push(Z)),P}function k(P){var Z=P._xScale,re=P._yScale||P._scale,Q=P._index,$=P._datasetIndex;return{xLabel:Z?Z.getLabelForIndex(Q,$):"",yLabel:re?re.getLabelForIndex(Q,$):"",index:Q,datasetIndex:$,x:P._model.x,y:P._model.y}}function M(P){var Z=he.global,re=J.valueOrDefault;return{xPadding:P.xPadding,yPadding:P.yPadding,xAlign:P.xAlign,yAlign:P.yAlign,bodyFontColor:P.bodyFontColor,_bodyFontFamily:re(P.bodyFontFamily,Z.defaultFontFamily),_bodyFontStyle:re(P.bodyFontStyle,Z.defaultFontStyle),_bodyAlign:P.bodyAlign,bodyFontSize:re(P.bodyFontSize,Z.defaultFontSize),bodySpacing:P.bodySpacing,titleFontColor:P.titleFontColor,_titleFontFamily:re(P.titleFontFamily,Z.defaultFontFamily),_titleFontStyle:re(P.titleFontStyle,Z.defaultFontStyle),titleFontSize:re(P.titleFontSize,Z.defaultFontSize),_titleAlign:P.titleAlign,titleSpacing:P.titleSpacing,titleMarginBottom:P.titleMarginBottom,footerFontColor:P.footerFontColor,_footerFontFamily:re(P.footerFontFamily,Z.defaultFontFamily),_footerFontStyle:re(P.footerFontStyle,Z.defaultFontStyle),footerFontSize:re(P.footerFontSize,Z.defaultFontSize),_footerAlign:P.footerAlign,footerSpacing:P.footerSpacing,footerMarginTop:P.footerMarginTop,caretSize:P.caretSize,cornerRadius:P.cornerRadius,backgroundColor:P.backgroundColor,opacity:0,legendColorBackground:P.multiKeyBackground,displayColors:P.displayColors,borderColor:P.borderColor,borderWidth:P.borderWidth}}ne.Tooltip=ke.extend({initialize:function(){this._model=M(this._options),this._lastActive=[]},getTitle:function(){var P=this,Z=P._options.callbacks,re=Z.beforeTitle.apply(P,arguments),Q=Z.title.apply(P,arguments),$=Z.afterTitle.apply(P,arguments),fe=[];return fe=A(fe,re),fe=A(fe,Q),A(fe,$)},getBeforeBody:function(){var P=this._options.callbacks.beforeBody.apply(this,arguments);return J.isArray(P)?P:void 0!==P?[P]:[]},getBody:function(P,Z){var re=this,Q=re._options.callbacks,$=[];return J.each(P,function(fe){var pe={before:[],lines:[],after:[]};A(pe.before,Q.beforeLabel.call(re,fe,Z)),A(pe.lines,Q.label.call(re,fe,Z)),A(pe.after,Q.afterLabel.call(re,fe,Z)),$.push(pe)}),$},getAfterBody:function(){var P=this._options.callbacks.afterBody.apply(this,arguments);return J.isArray(P)?P:void 0!==P?[P]:[]},getFooter:function(){var P=this,Z=P._options.callbacks,re=Z.beforeFooter.apply(P,arguments),Q=Z.footer.apply(P,arguments),$=Z.afterFooter.apply(P,arguments),fe=[];return fe=A(fe,re),fe=A(fe,Q),A(fe,$)},update:function(P){var Z,re,Q=this,$=Q._options,fe=Q._model,pe=Q._model=M($),Ce=Q._active,ue=Q._data,Te={xAlign:fe.xAlign,yAlign:fe.yAlign},se={x:fe.x,y:fe.y},ve={width:fe.width,height:fe.height},_e={x:fe.caretX,y:fe.caretY};if(Ce.length){pe.opacity=1;var Me=[],Ne=[];_e=ne.Tooltip.positioners[$.position].call(Q,Ce,Q._eventPosition);var Se=[];for(Z=0,re=Ce.length;Z<re;++Z)Se.push(k(Ce[Z]));$.filter&&(Se=Se.filter(function(Le){return $.filter(Le,ue)})),$.itemSort&&(Se=Se.sort(function(Le,Ue){return $.itemSort(Le,Ue,ue)})),J.each(Se,function(Le){Me.push($.callbacks.labelColor.call(Q,Le,Q._chart)),Ne.push($.callbacks.labelTextColor.call(Q,Le,Q._chart))}),pe.title=Q.getTitle(Se,ue),pe.beforeBody=Q.getBeforeBody(Se,ue),pe.body=Q.getBody(Se,ue),pe.afterBody=Q.getAfterBody(Se,ue),pe.footer=Q.getFooter(Se,ue),pe.x=Math.round(_e.x),pe.y=Math.round(_e.y),pe.caretPadding=$.caretPadding,pe.labelColors=Me,pe.labelTextColors=Ne,pe.dataPoints=Se,se=function(P,Z,re){var Q=P.x,$=P.y,pe=P.caretPadding,ue=re.xAlign,Te=re.yAlign,se=P.caretSize+pe,ve=P.cornerRadius+pe;return"right"===ue?Q-=Z.width:"center"===ue&&(Q-=Z.width/2),"top"===Te?$+=se:$-="bottom"===Te?Z.height+se:Z.height/2,"center"===Te?"left"===ue?Q+=se:"right"===ue&&(Q-=se):"left"===ue?Q-=ve:"right"===ue&&(Q+=ve),{x:Q,y:$}}(pe,ve=function(P,Z){var re=P._chart.ctx,Q=2*Z.yPadding,$=0,fe=Z.body,pe=fe.reduce(function(Ne,Se){return Ne+Se.before.length+Se.lines.length+Se.after.length},0),Ce=Z.title.length,ue=Z.footer.length,Te=Z.titleFontSize,se=Z.bodyFontSize,ve=Z.footerFontSize;Q+=Ce*Te,Q+=Ce?(Ce-1)*Z.titleSpacing:0,Q+=Ce?Z.titleMarginBottom:0,Q+=(pe+=Z.beforeBody.length+Z.afterBody.length)*se,Q+=pe?(pe-1)*Z.bodySpacing:0,Q+=ue?Z.footerMarginTop:0,Q+=ue*ve,Q+=ue?(ue-1)*Z.footerSpacing:0;var _e=0,Me=function(Ne){$=Math.max($,re.measureText(Ne).width+_e)};return re.font=J.fontString(Te,Z._titleFontStyle,Z._titleFontFamily),J.each(Z.title,Me),re.font=J.fontString(se,Z._bodyFontStyle,Z._bodyFontFamily),J.each(Z.beforeBody.concat(Z.afterBody),Me),_e=Z.displayColors?se+2:0,J.each(fe,function(Ne){J.each(Ne.before,Me),J.each(Ne.lines,Me),J.each(Ne.after,Me)}),_e=0,re.font=J.fontString(ve,Z._footerFontStyle,Z._footerFontFamily),J.each(Z.footer,Me),{width:$+=2*Z.xPadding,height:Q}}(this,pe),Te=function(P,Z){var re=P._model,Q=P._chart,$=P._chart.chartArea,fe="center",pe="center";re.y<Z.height?pe="top":re.y>Q.height-Z.height&&(pe="bottom");var Ce,ue,Te,se,ve,_e=($.left+$.right)/2,Me=($.top+$.bottom)/2;"center"===pe?(Ce=function(Se){return Se<=_e},ue=function(Se){return Se>_e}):(Ce=function(Se){return Se<=Z.width/2},ue=function(Se){return Se>=Q.width-Z.width/2}),Te=function(Se){return Se+Z.width>Q.width},se=function(Se){return Se-Z.width<0},ve=function(Se){return Se<=Me?"top":"bottom"},Ce(re.x)?(fe="left",Te(re.x)&&(fe="center",pe=ve(re.y))):ue(re.x)&&(fe="right",se(re.x)&&(fe="center",pe=ve(re.y)));var Ne=P._options;return{xAlign:Ne.xAlign?Ne.xAlign:fe,yAlign:Ne.yAlign?Ne.yAlign:pe}}(this,ve))}else pe.opacity=0;return pe.xAlign=Te.xAlign,pe.yAlign=Te.yAlign,pe.x=se.x,pe.y=se.y,pe.width=ve.width,pe.height=ve.height,pe.caretX=_e.x,pe.caretY=_e.y,Q._model=pe,P&&$.custom&&$.custom.call(Q,pe),Q},drawCaret:function(P,Z){var re=this._chart.ctx,$=this.getCaretPosition(P,Z,this._view);re.lineTo($.x1,$.y1),re.lineTo($.x2,$.y2),re.lineTo($.x3,$.y3)},getCaretPosition:function(P,Z,re){var Q,$,fe,pe,Ce,ue,Te=re.caretSize,se=re.cornerRadius,ve=re.xAlign,_e=re.yAlign,Me=P.x,Ne=P.y,Se=Z.width,Le=Z.height;if("center"===_e)Ce=Ne+Le/2,"left"===ve?($=(Q=Me)-Te,fe=Q,pe=Ce+Te,ue=Ce-Te):($=(Q=Me+Se)+Te,fe=Q,pe=Ce-Te,ue=Ce+Te);else if("left"===ve?(Q=($=Me+se+Te)-Te,fe=$+Te):"right"===ve?(Q=($=Me+Se-se-Te)-Te,fe=$+Te):(Q=($=Me+Se/2)-Te,fe=$+Te),"top"===_e)Ce=(pe=Ne)-Te,ue=pe;else{Ce=(pe=Ne+Le)+Te,ue=pe;var Ue=fe;fe=Q,Q=Ue}return{x1:Q,x2:$,x3:fe,y1:pe,y2:Ce,y3:ue}},drawTitle:function(P,Z,re,Q){var $=Z.title;if($.length){re.textAlign=Z._titleAlign,re.textBaseline="top";var Ce,ue,fe=Z.titleFontSize,pe=Z.titleSpacing;for(re.fillStyle=V(Z.titleFontColor,Q),re.font=J.fontString(fe,Z._titleFontStyle,Z._titleFontFamily),Ce=0,ue=$.length;Ce<ue;++Ce)re.fillText($[Ce],P.x,P.y),P.y+=fe+pe,Ce+1===$.length&&(P.y+=Z.titleMarginBottom-pe)}},drawBody:function(P,Z,re,Q){var $=Z.bodyFontSize,fe=Z.bodySpacing,pe=Z.body;re.textAlign=Z._bodyAlign,re.textBaseline="top",re.font=J.fontString($,Z._bodyFontStyle,Z._bodyFontFamily);var Ce=0,ue=function(se){re.fillText(se,P.x+Ce,P.y),P.y+=$+fe};re.fillStyle=V(Z.bodyFontColor,Q),J.each(Z.beforeBody,ue);var Te=Z.displayColors;Ce=Te?$+2:0,J.each(pe,function(se,ve){var _e=V(Z.labelTextColors[ve],Q);re.fillStyle=_e,J.each(se.before,ue),J.each(se.lines,function(Me){Te&&(re.fillStyle=V(Z.legendColorBackground,Q),re.fillRect(P.x,P.y,$,$),re.lineWidth=1,re.strokeStyle=V(Z.labelColors[ve].borderColor,Q),re.strokeRect(P.x,P.y,$,$),re.fillStyle=V(Z.labelColors[ve].backgroundColor,Q),re.fillRect(P.x+1,P.y+1,$-2,$-2),re.fillStyle=_e),ue(Me)}),J.each(se.after,ue)}),Ce=0,J.each(Z.afterBody,ue),P.y-=fe},drawFooter:function(P,Z,re,Q){var $=Z.footer;$.length&&(P.y+=Z.footerMarginTop,re.textAlign=Z._footerAlign,re.textBaseline="top",re.fillStyle=V(Z.footerFontColor,Q),re.font=J.fontString(Z.footerFontSize,Z._footerFontStyle,Z._footerFontFamily),J.each($,function(fe){re.fillText(fe,P.x,P.y),P.y+=Z.footerFontSize+Z.footerSpacing}))},drawBackground:function(P,Z,re,Q,$){re.fillStyle=V(Z.backgroundColor,$),re.strokeStyle=V(Z.borderColor,$),re.lineWidth=Z.borderWidth;var fe=Z.xAlign,pe=Z.yAlign,Ce=P.x,ue=P.y,Te=Q.width,se=Q.height,ve=Z.cornerRadius;re.beginPath(),re.moveTo(Ce+ve,ue),"top"===pe&&this.drawCaret(P,Q),re.lineTo(Ce+Te-ve,ue),re.quadraticCurveTo(Ce+Te,ue,Ce+Te,ue+ve),"center"===pe&&"right"===fe&&this.drawCaret(P,Q),re.lineTo(Ce+Te,ue+se-ve),re.quadraticCurveTo(Ce+Te,ue+se,Ce+Te-ve,ue+se),"bottom"===pe&&this.drawCaret(P,Q),re.lineTo(Ce+ve,ue+se),re.quadraticCurveTo(Ce,ue+se,Ce,ue+se-ve),"center"===pe&&"left"===fe&&this.drawCaret(P,Q),re.lineTo(Ce,ue+ve),re.quadraticCurveTo(Ce,ue,Ce+ve,ue),re.closePath(),re.fill(),Z.borderWidth>0&&re.stroke()},draw:function(){var P=this._chart.ctx,Z=this._view;if(0!==Z.opacity){var re={width:Z.width,height:Z.height},Q={x:Z.x,y:Z.y},$=Math.abs(Z.opacity<.001)?0:Z.opacity;this._options.enabled&&(Z.title.length||Z.beforeBody.length||Z.body.length||Z.afterBody.length||Z.footer.length)&&(this.drawBackground(Q,Z,P,re,$),Q.x+=Z.xPadding,Q.y+=Z.yPadding,this.drawTitle(Q,Z,P,$),this.drawBody(Q,Z,P,$),this.drawFooter(Q,Z,P,$))}},handleEvent:function(P){var Z=this,re=Z._options,Q=!1;if(Z._lastActive=Z._lastActive||[],Z._active="mouseout"===P.type?[]:Z._chart.getElementsAtEventForMode(P,re.mode,re),!(Q=!J.arrayEquals(Z._active,Z._lastActive)))return!1;if(Z._lastActive=Z._active,re.enabled||re.custom){Z._eventPosition={x:P.x,y:P.y};var $=Z._model;Z.update(!0),Z.pivot(),Q|=$.x!==Z._model.x||$.y!==Z._model.y}return Q}}),ne.Tooltip.positioners={average:function(P){if(!P.length)return!1;var Z,re,Q=0,$=0,fe=0;for(Z=0,re=P.length;Z<re;++Z){var pe=P[Z];if(pe&&pe.hasValue()){var Ce=pe.tooltipPosition();Q+=Ce.x,$+=Ce.y,++fe}}return{x:Math.round(Q/fe),y:Math.round($/fe)}},nearest:function(P,Z){var re,Q,$,fe=Z.x,pe=Z.y,Ce=Number.POSITIVE_INFINITY;for(re=0,Q=P.length;re<Q;++re){var ue=P[re];if(ue&&ue.hasValue()){var Te=ue.getCenterPoint(),se=J.distanceBetweenPoints(Z,Te);se<Ce&&(Ce=se,$=ue)}}if($){var ve=$.tooltipPosition();fe=ve.x,pe=ve.y}return{x:fe,y:pe}}}}},{25:25,26:26,45:45}],36:[function(Ge,ht,Bt){"use strict";var he=Ge(25),ke=Ge(26),J=Ge(45);he._set("global",{elements:{arc:{backgroundColor:he.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),ht.exports=ke.extend({inLabelRange:function(ne){var V=this._view;return!!V&&Math.pow(ne-V.x,2)<Math.pow(V.radius+V.hoverRadius,2)},inRange:function(ne,V){var A=this._view;if(A){for(var k=J.getAngleFromPoint(A,{x:ne,y:V}),M=k.angle,H=k.distance,m=A.startAngle,y=A.endAngle;y<m;)y+=2*Math.PI;for(;M>y;)M-=2*Math.PI;for(;M<m;)M+=2*Math.PI;return M>=m&&M<=y&&H>=A.innerRadius&&H<=A.outerRadius}return!1},getCenterPoint:function(){var ne=this._view,V=(ne.startAngle+ne.endAngle)/2,A=(ne.innerRadius+ne.outerRadius)/2;return{x:ne.x+Math.cos(V)*A,y:ne.y+Math.sin(V)*A}},getArea:function(){var ne=this._view;return Math.PI*((ne.endAngle-ne.startAngle)/(2*Math.PI))*(Math.pow(ne.outerRadius,2)-Math.pow(ne.innerRadius,2))},tooltipPosition:function(){var ne=this._view,V=ne.startAngle+(ne.endAngle-ne.startAngle)/2,A=(ne.outerRadius-ne.innerRadius)/2+ne.innerRadius;return{x:ne.x+Math.cos(V)*A,y:ne.y+Math.sin(V)*A}},draw:function(){var ne=this._chart.ctx,V=this._view,A=V.startAngle,k=V.endAngle;ne.beginPath(),ne.arc(V.x,V.y,V.outerRadius,A,k),ne.arc(V.x,V.y,V.innerRadius,k,A,!0),ne.closePath(),ne.strokeStyle=V.borderColor,ne.lineWidth=V.borderWidth,ne.fillStyle=V.backgroundColor,ne.fill(),ne.lineJoin="bevel",V.borderWidth&&ne.stroke()}})},{25:25,26:26,45:45}],37:[function(Ge,ht,Bt){"use strict";var he=Ge(25),ke=Ge(26),J=Ge(45),ne=he.global;he._set("global",{elements:{line:{tension:.4,backgroundColor:ne.defaultColor,borderWidth:3,borderColor:ne.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),ht.exports=ke.extend({draw:function(){var V,A,k,M,H=this,m=H._view,y=H._chart.ctx,P=m.spanGaps,Z=H._children.slice(),re=ne.elements.line,Q=-1;for(H._loop&&Z.length&&Z.push(Z[0]),y.save(),y.lineCap=m.borderCapStyle||re.borderCapStyle,y.setLineDash&&y.setLineDash(m.borderDash||re.borderDash),y.lineDashOffset=m.borderDashOffset||re.borderDashOffset,y.lineJoin=m.borderJoinStyle||re.borderJoinStyle,y.lineWidth=m.borderWidth||re.borderWidth,y.strokeStyle=m.borderColor||ne.defaultColor,y.beginPath(),Q=-1,V=0;V<Z.length;++V)A=Z[V],k=J.previousItem(Z,V),M=A._view,0===V?M.skip||(y.moveTo(M.x,M.y),Q=V):(k=-1===Q?k:Z[Q],M.skip||(Q!==V-1&&!P||-1===Q?y.moveTo(M.x,M.y):J.canvas.lineTo(y,k._view,A._view),Q=V));y.stroke(),y.restore()}})},{25:25,26:26,45:45}],38:[function(Ge,ht,Bt){"use strict";function he(A){var k=this._view;return!!k&&Math.pow(A-k.x,2)<Math.pow(k.radius+k.hitRadius,2)}var ke=Ge(25),J=Ge(26),ne=Ge(45),V=ke.global.defaultColor;ke._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:V,borderColor:V,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),ht.exports=J.extend({inRange:function(A,k){var M=this._view;return!!M&&Math.pow(A-M.x,2)+Math.pow(k-M.y,2)<Math.pow(M.hitRadius+M.radius,2)},inLabelRange:he,inXRange:he,inYRange:function(A){var k=this._view;return!!k&&Math.pow(A-k.y,2)<Math.pow(k.radius+k.hitRadius,2)},getCenterPoint:function(){var A=this._view;return{x:A.x,y:A.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var A=this._view;return{x:A.x,y:A.y,padding:A.radius+A.borderWidth}},draw:function(A){var k=this._view,M=this._model,H=this._chart.ctx,m=k.pointStyle,y=k.radius,P=k.x,Z=k.y,re=ne.color,Q=0;k.skip||(H.strokeStyle=k.borderColor||V,H.lineWidth=ne.valueOrDefault(k.borderWidth,ke.global.elements.point.borderWidth),H.fillStyle=k.backgroundColor||V,void 0!==A&&(M.x<A.left||1.01*A.right<M.x||M.y<A.top||1.01*A.bottom<M.y)&&(M.x<A.left?Q=(P-M.x)/(A.left-M.x):1.01*A.right<M.x?Q=(M.x-P)/(M.x-A.right):M.y<A.top?Q=(Z-M.y)/(A.top-M.y):1.01*A.bottom<M.y&&(Q=(M.y-Z)/(M.y-A.bottom)),Q=Math.round(100*Q)/100,H.strokeStyle=re(H.strokeStyle).alpha(Q).rgbString(),H.fillStyle=re(H.fillStyle).alpha(Q).rgbString()),ne.canvas.drawPoint(H,m,y,P,Z))}})},{25:25,26:26,45:45}],39:[function(Ge,ht,Bt){"use strict";function he(V){return void 0!==V._view.width}function ke(V){var A,k,M,H,m=V._view;if(he(V)){var y=m.width/2;A=m.x-y,k=m.x+y,M=Math.min(m.y,m.base),H=Math.max(m.y,m.base)}else{var P=m.height/2;A=Math.min(m.x,m.base),k=Math.max(m.x,m.base),M=m.y-P,H=m.y+P}return{left:A,top:M,right:k,bottom:H}}var J=Ge(25),ne=Ge(26);J._set("global",{elements:{rectangle:{backgroundColor:J.global.defaultColor,borderColor:J.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),ht.exports=ne.extend({draw:function(){function V(Ne){return se[(ve+Ne)%4]}var A,k,M,H,m,y,P,Z=this._chart.ctx,re=this._view,Q=re.borderWidth;if(re.horizontal?(M=re.y-re.height/2,H=re.y+re.height/2,m=(k=re.x)>(A=re.base)?1:-1,y=1,P=re.borderSkipped||"left"):(A=re.x-re.width/2,k=re.x+re.width/2,m=1,y=(H=re.base)>(M=re.y)?1:-1,P=re.borderSkipped||"bottom"),Q){var $=Math.min(Math.abs(A-k),Math.abs(M-H)),fe=(Q=Q>$?$:Q)/2,pe=A+("left"!==P?fe*m:0),Ce=k+("right"!==P?-fe*m:0),ue=M+("top"!==P?fe*y:0),Te=H+("bottom"!==P?-fe*y:0);pe!==Ce&&(M=ue,H=Te),ue!==Te&&(A=pe,k=Ce)}Z.beginPath(),Z.fillStyle=re.backgroundColor,Z.strokeStyle=re.borderColor,Z.lineWidth=Q;var se=[[A,H],[A,M],[k,M],[k,H]],ve=["bottom","left","top","right"].indexOf(P,0);-1===ve&&(ve=0);var _e=V(0);Z.moveTo(_e[0],_e[1]);for(var Me=1;Me<4;Me++)_e=V(Me),Z.lineTo(_e[0],_e[1]);Z.fill(),Q&&Z.stroke()},height:function(){var V=this._view;return V.base-V.y},inRange:function(V,A){var k=!1;if(this._view){var M=ke(this);k=V>=M.left&&V<=M.right&&A>=M.top&&A<=M.bottom}return k},inLabelRange:function(V,A){var k=this;if(!k._view)return!1;var M=ke(k);return he(k)?V>=M.left&&V<=M.right:A>=M.top&&A<=M.bottom},inXRange:function(V){var A=ke(this);return V>=A.left&&V<=A.right},inYRange:function(V){var A=ke(this);return V>=A.top&&V<=A.bottom},getCenterPoint:function(){var V,A,k=this._view;return he(this)?(V=k.x,A=(k.y+k.base)/2):(V=(k.x+k.base)/2,A=k.y),{x:V,y:A}},getArea:function(){var V=this._view;return V.width*Math.abs(V.y-V.base)},tooltipPosition:function(){var V=this._view;return{x:V.x,y:V.y}}})},{25:25,26:26}],40:[function(Ge,ht,Bt){"use strict";ht.exports={},ht.exports.Arc=Ge(36),ht.exports.Line=Ge(37),ht.exports.Point=Ge(38),ht.exports.Rectangle=Ge(39)},{36:36,37:37,38:38,39:39}],41:[function(Ge,ht,Bt){"use strict";var he=Ge(42);Bt=ht.exports={clear:function(ke){ke.ctx.clearRect(0,0,ke.width,ke.height)},roundedRect:function(ke,J,ne,V,A,k){if(k){var M=Math.min(k,V/2),H=Math.min(k,A/2);ke.moveTo(J+M,ne),ke.lineTo(J+V-M,ne),ke.quadraticCurveTo(J+V,ne,J+V,ne+H),ke.lineTo(J+V,ne+A-H),ke.quadraticCurveTo(J+V,ne+A,J+V-M,ne+A),ke.lineTo(J+M,ne+A),ke.quadraticCurveTo(J,ne+A,J,ne+A-H),ke.lineTo(J,ne+H),ke.quadraticCurveTo(J,ne,J+M,ne)}else ke.rect(J,ne,V,A)},drawPoint:function(ke,J,ne,V,A){var k,M,H,m,y,P;if(!J||"object"!=typeof J||"[object HTMLImageElement]"!==(k=J.toString())&&"[object HTMLCanvasElement]"!==k){if(!(isNaN(ne)||ne<=0)){switch(J){default:ke.beginPath(),ke.arc(V,A,ne,0,2*Math.PI),ke.closePath(),ke.fill();break;case"triangle":ke.beginPath(),y=(M=3*ne/Math.sqrt(3))*Math.sqrt(3)/2,ke.moveTo(V-M/2,A+y/3),ke.lineTo(V+M/2,A+y/3),ke.lineTo(V,A-2*y/3),ke.closePath(),ke.fill();break;case"rect":P=1/Math.SQRT2*ne,ke.beginPath(),ke.fillRect(V-P,A-P,2*P,2*P),ke.strokeRect(V-P,A-P,2*P,2*P);break;case"rectRounded":var Z=ne/Math.SQRT2,re=V-Z,Q=A-Z,$=Math.SQRT2*ne;ke.beginPath(),this.roundedRect(ke,re,Q,$,$,ne/2),ke.closePath(),ke.fill();break;case"rectRot":P=1/Math.SQRT2*ne,ke.beginPath(),ke.moveTo(V-P,A),ke.lineTo(V,A+P),ke.lineTo(V+P,A),ke.lineTo(V,A-P),ke.closePath(),ke.fill();break;case"cross":ke.beginPath(),ke.moveTo(V,A+ne),ke.lineTo(V,A-ne),ke.moveTo(V-ne,A),ke.lineTo(V+ne,A),ke.closePath();break;case"crossRot":ke.beginPath(),H=Math.cos(Math.PI/4)*ne,m=Math.sin(Math.PI/4)*ne,ke.moveTo(V-H,A-m),ke.lineTo(V+H,A+m),ke.moveTo(V-H,A+m),ke.lineTo(V+H,A-m),ke.closePath();break;case"star":ke.beginPath(),ke.moveTo(V,A+ne),ke.lineTo(V,A-ne),ke.moveTo(V-ne,A),ke.lineTo(V+ne,A),H=Math.cos(Math.PI/4)*ne,m=Math.sin(Math.PI/4)*ne,ke.moveTo(V-H,A-m),ke.lineTo(V+H,A+m),ke.moveTo(V-H,A+m),ke.lineTo(V+H,A-m),ke.closePath();break;case"line":ke.beginPath(),ke.moveTo(V-ne,A),ke.lineTo(V+ne,A),ke.closePath();break;case"dash":ke.beginPath(),ke.moveTo(V,A),ke.lineTo(V+ne,A),ke.closePath()}ke.stroke()}}else ke.drawImage(J,V-J.width/2,A-J.height/2,J.width,J.height)},clipArea:function(ke,J){ke.save(),ke.beginPath(),ke.rect(J.left,J.top,J.right-J.left,J.bottom-J.top),ke.clip()},unclipArea:function(ke){ke.restore()},lineTo:function(ke,J,ne,V){if(ne.steppedLine)return"after"===ne.steppedLine&&!V||"after"!==ne.steppedLine&&V?ke.lineTo(J.x,ne.y):ke.lineTo(ne.x,J.y),void ke.lineTo(ne.x,ne.y);ne.tension?ke.bezierCurveTo(V?J.controlPointPreviousX:J.controlPointNextX,V?J.controlPointPreviousY:J.controlPointNextY,V?ne.controlPointNextX:ne.controlPointPreviousX,V?ne.controlPointNextY:ne.controlPointPreviousY,ne.x,ne.y):ke.lineTo(ne.x,ne.y)}},he.clear=Bt.clear,he.drawRoundedRectangle=function(ke){ke.beginPath(),Bt.roundedRect.apply(Bt,arguments),ke.closePath()}},{42:42}],42:[function(Ge,ht,Bt){"use strict";var ke,he={noop:function(){},uid:(ke=0,function(){return ke++}),isNullOrUndef:function(ke){return null==ke},isArray:Array.isArray?Array.isArray:function(ke){return"[object Array]"===Object.prototype.toString.call(ke)},isObject:function(ke){return null!==ke&&"[object Object]"===Object.prototype.toString.call(ke)},valueOrDefault:function(ke,J){return void 0===ke?J:ke},valueAtIndexOrDefault:function(ke,J,ne){return he.valueOrDefault(he.isArray(ke)?ke[J]:ke,ne)},callback:function(ke,J,ne){if(ke&&"function"==typeof ke.call)return ke.apply(ne,J)},each:function(ke,J,ne,V){var A,k,M;if(he.isArray(ke))if(k=ke.length,V)for(A=k-1;A>=0;A--)J.call(ne,ke[A],A);else for(A=0;A<k;A++)J.call(ne,ke[A],A);else if(he.isObject(ke))for(k=(M=Object.keys(ke)).length,A=0;A<k;A++)J.call(ne,ke[M[A]],M[A])},arrayEquals:function(ke,J){var ne,V,A,k;if(!ke||!J||ke.length!==J.length)return!1;for(ne=0,V=ke.length;ne<V;++ne)if(k=J[ne],(A=ke[ne])instanceof Array&&k instanceof Array){if(!he.arrayEquals(A,k))return!1}else if(A!==k)return!1;return!0},clone:function(ke){if(he.isArray(ke))return ke.map(he.clone);if(he.isObject(ke)){for(var J={},ne=Object.keys(ke),V=ne.length,A=0;A<V;++A)J[ne[A]]=he.clone(ke[ne[A]]);return J}return ke},_merger:function(ke,J,ne,V){var A=J[ke],k=ne[ke];he.isObject(A)&&he.isObject(k)?he.merge(A,k,V):J[ke]=he.clone(k)},_mergerIf:function(ke,J,ne){var V=J[ke],A=ne[ke];he.isObject(V)&&he.isObject(A)?he.mergeIf(V,A):J.hasOwnProperty(ke)||(J[ke]=he.clone(A))},merge:function(ke,J,ne){var V,A,k,M,H,m=he.isArray(J)?J:[J],y=m.length;if(!he.isObject(ke))return ke;for(V=(ne=ne||{}).merger||he._merger,A=0;A<y;++A)if(he.isObject(J=m[A]))for(H=0,M=(k=Object.keys(J)).length;H<M;++H)V(k[H],ke,J,ne);return ke},mergeIf:function(ke,J){return he.merge(ke,J,{merger:he._mergerIf})},extend:function(ke){for(var J=1,ne=arguments.length;J<ne;++J)he.each(arguments[J],function(V,A){ke[A]=V});return ke},inherits:function(ke){var J=this,ne=ke&&ke.hasOwnProperty("constructor")?ke.constructor:function(){return J.apply(this,arguments)},V=function(){this.constructor=ne};return V.prototype=J.prototype,ne.prototype=new V,ne.extend=he.inherits,ke&&he.extend(ne.prototype,ke),ne.__super__=J.prototype,ne}};ht.exports=he,he.callCallback=he.callback,he.indexOf=function(ke,J,ne){return Array.prototype.indexOf.call(ke,J,ne)},he.getValueOrDefault=he.valueOrDefault,he.getValueAtIndexOrDefault=he.valueAtIndexOrDefault},{}],43:[function(Ge,ht,Bt){"use strict";var he=Ge(42),ke={linear:function(J){return J},easeInQuad:function(J){return J*J},easeOutQuad:function(J){return-J*(J-2)},easeInOutQuad:function(J){return(J/=.5)<1?.5*J*J:-.5*(--J*(J-2)-1)},easeInCubic:function(J){return J*J*J},easeOutCubic:function(J){return(J-=1)*J*J+1},easeInOutCubic:function(J){return(J/=.5)<1?.5*J*J*J:.5*((J-=2)*J*J+2)},easeInQuart:function(J){return J*J*J*J},easeOutQuart:function(J){return-((J-=1)*J*J*J-1)},easeInOutQuart:function(J){return(J/=.5)<1?.5*J*J*J*J:-.5*((J-=2)*J*J*J-2)},easeInQuint:function(J){return J*J*J*J*J},easeOutQuint:function(J){return(J-=1)*J*J*J*J+1},easeInOutQuint:function(J){return(J/=.5)<1?.5*J*J*J*J*J:.5*((J-=2)*J*J*J*J+2)},easeInSine:function(J){return 1-Math.cos(J*(Math.PI/2))},easeOutSine:function(J){return Math.sin(J*(Math.PI/2))},easeInOutSine:function(J){return-.5*(Math.cos(Math.PI*J)-1)},easeInExpo:function(J){return 0===J?0:Math.pow(2,10*(J-1))},easeOutExpo:function(J){return 1===J?1:1-Math.pow(2,-10*J)},easeInOutExpo:function(J){return 0===J?0:1===J?1:(J/=.5)<1?.5*Math.pow(2,10*(J-1)):.5*(2-Math.pow(2,-10*--J))},easeInCirc:function(J){return J>=1?J:-(Math.sqrt(1-J*J)-1)},easeOutCirc:function(J){return Math.sqrt(1-(J-=1)*J)},easeInOutCirc:function(J){return(J/=.5)<1?-.5*(Math.sqrt(1-J*J)-1):.5*(Math.sqrt(1-(J-=2)*J)+1)},easeInElastic:function(J){var ne=1.70158,V=0,A=1;return 0===J?0:1===J?1:(V||(V=.3),A<1?(A=1,ne=V/4):ne=V/(2*Math.PI)*Math.asin(1/A),-A*Math.pow(2,10*(J-=1))*Math.sin((J-ne)*(2*Math.PI)/V))},easeOutElastic:function(J){var ne=1.70158,V=0,A=1;return 0===J?0:1===J?1:(V||(V=.3),A<1?(A=1,ne=V/4):ne=V/(2*Math.PI)*Math.asin(1/A),A*Math.pow(2,-10*J)*Math.sin((J-ne)*(2*Math.PI)/V)+1)},easeInOutElastic:function(J){var ne=1.70158,V=0,A=1;return 0===J?0:2==(J/=.5)?1:(V||(V=.45),A<1?(A=1,ne=V/4):ne=V/(2*Math.PI)*Math.asin(1/A),J<1?A*Math.pow(2,10*(J-=1))*Math.sin((J-ne)*(2*Math.PI)/V)*-.5:A*Math.pow(2,-10*(J-=1))*Math.sin((J-ne)*(2*Math.PI)/V)*.5+1)},easeInBack:function(J){return J*J*(2.70158*J-1.70158)},easeOutBack:function(J){return(J-=1)*J*(2.70158*J+1.70158)+1},easeInOutBack:function(J){var ne=1.70158;return(J/=.5)<1?J*J*((1+(ne*=1.525))*J-ne)*.5:.5*((J-=2)*J*((1+(ne*=1.525))*J+ne)+2)},easeInBounce:function(J){return 1-ke.easeOutBounce(1-J)},easeOutBounce:function(J){return J<1/2.75?7.5625*J*J:J<2/2.75?7.5625*(J-=1.5/2.75)*J+.75:J<2.5/2.75?7.5625*(J-=2.25/2.75)*J+.9375:7.5625*(J-=2.625/2.75)*J+.984375},easeInOutBounce:function(J){return J<.5?.5*ke.easeInBounce(2*J):.5*ke.easeOutBounce(2*J-1)+.5}};ht.exports={effects:ke},he.easingEffects=ke},{42:42}],44:[function(Ge,ht,Bt){"use strict";var he=Ge(42);ht.exports={toLineHeight:function(ke,J){var ne=(""+ke).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!ne||"normal"===ne[1])return 1.2*J;switch(ke=+ne[2],ne[3]){case"px":return ke;case"%":ke/=100}return J*ke},toPadding:function(ke){var J,ne,V,A;return he.isObject(ke)?(J=+ke.top||0,ne=+ke.right||0,V=+ke.bottom||0,A=+ke.left||0):J=ne=V=A=+ke||0,{top:J,right:ne,bottom:V,left:A,height:J+V,width:A+ne}},resolve:function(ke,J,ne){var V,A,k;for(V=0,A=ke.length;V<A;++V)if(void 0!==(k=ke[V])&&(void 0!==J&&"function"==typeof k&&(k=k(J)),void 0!==ne&&he.isArray(k)&&(k=k[ne]),void 0!==k))return k}}},{42:42}],45:[function(Ge,ht,Bt){"use strict";ht.exports=Ge(42),ht.exports.easing=Ge(43),ht.exports.canvas=Ge(41),ht.exports.options=Ge(44)},{41:41,42:42,43:43,44:44}],46:[function(Ge,ht,Bt){ht.exports={acquireContext:function(he){return he&&he.canvas&&(he=he.canvas),he&&he.getContext("2d")||null}}},{}],47:[function(Ge,ht,Bt){"use strict";function he(se,ve){var _e=re.getStyle(se,ve),Me=_e&&_e.match(/^(\d+)(\.\d+)?px$/);return Me?Number(Me[1]):void 0}function J(se,ve,_e){se.addEventListener(ve,_e,Te)}function ne(se,ve,_e){se.removeEventListener(ve,_e,Te)}function V(se,ve,_e,Me,Ne){return{type:se,chart:ve,native:Ne||null,x:void 0!==_e?_e:null,y:void 0!==Me?Me:null}}var re=Ge(45),Q="$chartjs",$="chartjs-",fe=$+"render-monitor",pe=$+"render-animation",Ce=["animationstart","webkitAnimationStart"],ue={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Te=!!function(){var se=!1;try{var ve=Object.defineProperty({},"passive",{get:function(){se=!0}});window.addEventListener("e",null,ve)}catch(_e){}return se}()&&{passive:!0};ht.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var se="from{opacity:0.99}to{opacity:1}";!function(se,ve){var _e=se._style||document.createElement("style");se._style||(se._style=_e,ve="/* Chart.js */\n"+ve,_e.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(_e)),_e.appendChild(document.createTextNode(ve))}(this,"@-webkit-keyframes "+pe+"{"+se+"}@keyframes "+pe+"{"+se+"}."+fe+"{-webkit-animation:"+pe+" 0.001s;animation:"+pe+" 0.001s;}")},acquireContext:function(se,ve){"string"==typeof se?se=document.getElementById(se):se.length&&(se=se[0]),se&&se.canvas&&(se=se.canvas);var _e=se&&se.getContext&&se.getContext("2d");return _e&&_e.canvas===se?(function(se,ve){var _e=se.style,Me=se.getAttribute("height"),Ne=se.getAttribute("width");if(se[Q]={initial:{height:Me,width:Ne,style:{display:_e.display,height:_e.height,width:_e.width}}},_e.display=_e.display||"block",null===Ne||""===Ne){var Se=he(se,"width");void 0!==Se&&(se.width=Se)}if(null===Me||""===Me)if(""===se.style.height)se.height=se.width/(ve.options.aspectRatio||2);else{var Le=he(se,"height");void 0!==Se&&(se.height=Le)}}(se,ve),_e):null},releaseContext:function(se){var ve=se.canvas;if(ve[Q]){var _e=ve[Q].initial;["height","width"].forEach(function(Me){var Ne=_e[Me];re.isNullOrUndef(Ne)?ve.removeAttribute(Me):ve.setAttribute(Me,Ne)}),re.each(_e.style||{},function(Me,Ne){ve.style[Ne]=Me}),ve.width=ve.width,delete ve[Q]}},addEventListener:function(se,ve,_e){var Me=se.canvas;if("resize"!==ve){var Ne=_e[Q]||(_e[Q]={});J(Me,ve,(Ne.proxies||(Ne.proxies={}))[se.id+"_"+ve]=function(Se){_e(function(se,ve){var _e=ue[se.type]||se.type,Me=re.getRelativePosition(se,ve);return V(_e,ve,Me.x,Me.y,se)}(Se,se))})}else!function(se,ve,_e){var Me=se[Q]||(se[Q]={}),Ne=Me.resizer=function(se){var ve=document.createElement("div"),_e=$+"size-monitor",Me="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";ve.style.cssText=Me,ve.className=_e,ve.innerHTML='<div class="'+_e+'-expand" style="'+Me+'"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="'+_e+'-shrink" style="'+Me+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var Ne=ve.childNodes[0],Se=ve.childNodes[1];ve._reset=function(){Ne.scrollLeft=1e6,Ne.scrollTop=1e6,Se.scrollLeft=1e6,Se.scrollTop=1e6};var Le=function(){ve._reset(),se()};return J(Ne,"scroll",Le.bind(Ne,"expand")),J(Se,"scroll",Le.bind(Se,"shrink")),ve}(function(se,ve){var _e=!1,Me=[];return function(){Me=Array.prototype.slice.call(arguments),ve=ve||this,_e||(_e=!0,re.requestAnimFrame.call(window,function(){_e=!1,se.apply(ve,Me)}))}}(function(){if(Me.resizer)return ve(V("resize",_e))}));!function(se,ve){var _e=se[Q]||(se[Q]={}),Me=_e.renderProxy=function(Ne){Ne.animationName===pe&&ve()};re.each(Ce,function(Ne){J(se,Ne,Me)}),_e.reflow=!!se.offsetParent,se.classList.add(fe)}(se,function(){if(Me.resizer){var Se=se.parentNode;Se&&Se!==Ne.parentNode&&Se.insertBefore(Ne,Se.firstChild),Ne._reset()}})}(Me,_e,se)},removeEventListener:function(se,ve,_e){var Me=se.canvas;if("resize"!==ve){var Ne=((_e[Q]||{}).proxies||{})[se.id+"_"+ve];Ne&&ne(Me,ve,Ne)}else!function(se){var ve=se[Q]||{},_e=ve.resizer;delete ve.resizer,function(se){var ve=se[Q]||{},_e=ve.renderProxy;_e&&(re.each(Ce,function(Me){ne(se,Me,_e)}),delete ve.renderProxy),se.classList.remove(fe)}(se),_e&&_e.parentNode&&_e.parentNode.removeChild(_e)}(Me)}},re.addEvent=J,re.removeEvent=ne},{45:45}],48:[function(Ge,ht,Bt){"use strict";var he=Ge(45),ke=Ge(46),J=Ge(47);ht.exports=he.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},J._enabled?J:ke)},{45:45,46:46,47:47}],49:[function(Ge,ht,Bt){"use strict";var he=Ge(25),ke=Ge(40),J=Ge(45);he._set("global",{plugins:{filler:{propagate:!0}}}),ht.exports=function(){function ne(P,Z,re){var Q,$=P._model||{},fe=$.fill;if(void 0===fe&&(fe=!!$.backgroundColor),!1===fe||null===fe)return!1;if(!0===fe)return"origin";if(Q=parseFloat(fe,10),isFinite(Q)&&Math.floor(Q)===Q)return"-"!==fe[0]&&"+"!==fe[0]||(Q=Z+Q),!(Q===Z||Q<0||Q>=re)&&Q;switch(fe){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return fe;default:return!1}}function V(P){var Z,re=P.el._model||{},Q=P.el._scale||{},$=P.fill,fe=null;if(isFinite($))return null;if("start"===$?fe=void 0===re.scaleBottom?Q.bottom:re.scaleBottom:"end"===$?fe=void 0===re.scaleTop?Q.top:re.scaleTop:void 0!==re.scaleZero?fe=re.scaleZero:Q.getBasePosition?fe=Q.getBasePosition():Q.getBasePixel&&(fe=Q.getBasePixel()),null!=fe){if(void 0!==fe.x&&void 0!==fe.y)return fe;if("number"==typeof fe&&isFinite(fe))return{x:(Z=Q.isHorizontal())?fe:null,y:Z?null:fe}}return null}function A(P,Z,re){var Q,$=P[Z].fill,fe=[Z];if(!re)return $;for(;!1!==$&&-1===fe.indexOf($);){if(!isFinite($))return $;if(!(Q=P[$]))return!1;if(Q.visible)return $;fe.push($),$=Q.fill}return!1}function k(P){var Z=P.fill,re="dataset";return!1===Z?null:(isFinite(Z)||(re="boundary"),y[re](P))}function M(P){return P&&!P.skip}function H(P,Z,re,Q,$){var fe;if(Q&&$){for(P.moveTo(Z[0].x,Z[0].y),fe=1;fe<Q;++fe)J.canvas.lineTo(P,Z[fe-1],Z[fe]);for(P.lineTo(re[$-1].x,re[$-1].y),fe=$-1;fe>0;--fe)J.canvas.lineTo(P,re[fe],re[fe-1],!0)}}var y={dataset:function(P){var Z=P.fill,re=P.chart,Q=re.getDatasetMeta(Z),$=Q&&re.isDatasetVisible(Z)&&Q.dataset._children||[],fe=$.length||0;return fe?function(pe,Ce){return Ce<fe&&$[Ce]._view||null}:null},boundary:function(P){var Z=P.boundary,re=Z?Z.x:null,Q=Z?Z.y:null;return function($){return{x:null===re?$.x:re,y:null===Q?$.y:Q}}}};return{id:"filler",afterDatasetsUpdate:function(P,Z){var re,Q,$,fe,pe=(P.data.datasets||[]).length,Ce=Z.propagate,ue=[];for(Q=0;Q<pe;++Q)fe=null,($=(re=P.getDatasetMeta(Q)).dataset)&&$._model&&$ instanceof ke.Line&&(fe={visible:P.isDatasetVisible(Q),fill:ne($,Q,pe),chart:P,el:$}),re.$filler=fe,ue.push(fe);for(Q=0;Q<pe;++Q)(fe=ue[Q])&&(fe.fill=A(ue,Q,Ce),fe.boundary=V(fe),fe.mapper=k(fe))},beforeDatasetDraw:function(P,Z){var re=Z.meta.$filler;if(re){var Q=P.ctx,$=re.el,fe=$._view,pe=$._children||[],Ce=re.mapper,ue=fe.backgroundColor||he.global.defaultColor;Ce&&ue&&pe.length&&(J.canvas.clipArea(Q,P.chartArea),function(P,Z,re,Q,$,fe){var pe,Ce,ue,Te,se,ve,_e,Me=Z.length,Ne=Q.spanGaps,Se=[],Le=[],Ue=0,Qe=0;for(P.beginPath(),pe=0,Ce=Me+!!fe;pe<Ce;++pe)se=re(Te=Z[ue=pe%Me]._view,ue,Q),ve=M(Te),_e=M(se),ve&&_e?(Ue=Se.push(Te),Qe=Le.push(se)):Ue&&Qe&&(Ne?(ve&&Se.push(Te),_e&&Le.push(se)):(H(P,Se,Le,Ue,Qe),Ue=Qe=0,Se=[],Le=[]));H(P,Se,Le,Ue,Qe),P.closePath(),P.fillStyle=$,P.fill()}(Q,pe,Ce,fe,ue,$._loop),J.canvas.unclipArea(Q))}}}}},{25:25,40:40,45:45}],50:[function(Ge,ht,Bt){"use strict";var he=Ge(25),ke=Ge(26),J=Ge(45);he._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(ne,V){var A=V.datasetIndex,k=this.chart,M=k.getDatasetMeta(A);M.hidden=null===M.hidden?!k.data.datasets[A].hidden:null,k.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(ne){var V=ne.data;return J.isArray(V.datasets)?V.datasets.map(function(A,k){return{text:A.label,fillStyle:J.isArray(A.backgroundColor)?A.backgroundColor[0]:A.backgroundColor,hidden:!ne.isDatasetVisible(k),lineCap:A.borderCapStyle,lineDash:A.borderDash,lineDashOffset:A.borderDashOffset,lineJoin:A.borderJoinStyle,lineWidth:A.borderWidth,strokeStyle:A.borderColor,pointStyle:A.pointStyle,datasetIndex:k}},this):[]}}},legendCallback:function(ne){var V=[];V.push('<ul class="'+ne.id+'-legend">');for(var A=0;A<ne.data.datasets.length;A++)V.push('<li><span style="background-color:'+ne.data.datasets[A].backgroundColor+'"></span>'),ne.data.datasets[A].label&&V.push(ne.data.datasets[A].label),V.push("</li>");return V.push("</ul>"),V.join("")}}),ht.exports=function(ne){function V(H,m){return H.usePointStyle?m*Math.SQRT2:H.boxWidth}function A(H,m){var y=new ne.Legend({ctx:H.ctx,options:m,chart:H});k.configure(H,y,m),k.addBox(H,y),H.legend=y}var k=ne.layoutService,M=J.noop;return ne.Legend=ke.extend({initialize:function(H){J.extend(this,H),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:M,update:function(H,m,y){var P=this;return P.beforeUpdate(),P.maxWidth=H,P.maxHeight=m,P.margins=y,P.beforeSetDimensions(),P.setDimensions(),P.afterSetDimensions(),P.beforeBuildLabels(),P.buildLabels(),P.afterBuildLabels(),P.beforeFit(),P.fit(),P.afterFit(),P.afterUpdate(),P.minSize},afterUpdate:M,beforeSetDimensions:M,setDimensions:function(){var H=this;H.isHorizontal()?(H.width=H.maxWidth,H.left=0,H.right=H.width):(H.height=H.maxHeight,H.top=0,H.bottom=H.height),H.paddingLeft=0,H.paddingTop=0,H.paddingRight=0,H.paddingBottom=0,H.minSize={width:0,height:0}},afterSetDimensions:M,beforeBuildLabels:M,buildLabels:function(){var H=this,m=H.options.labels||{},y=J.callback(m.generateLabels,[H.chart],H)||[];m.filter&&(y=y.filter(function(P){return m.filter(P,H.chart.data)})),H.options.reverse&&y.reverse(),H.legendItems=y},afterBuildLabels:M,beforeFit:M,fit:function(){var H=this,m=H.options,y=m.labels,P=m.display,Z=H.ctx,re=he.global,Q=J.valueOrDefault,$=Q(y.fontSize,re.defaultFontSize),fe=Q(y.fontStyle,re.defaultFontStyle),pe=Q(y.fontFamily,re.defaultFontFamily),Ce=J.fontString($,fe,pe),ue=H.legendHitBoxes=[],Te=H.minSize,se=H.isHorizontal();if(se?(Te.width=H.maxWidth,Te.height=P?10:0):(Te.width=P?10:0,Te.height=H.maxHeight),P)if(Z.font=Ce,se){var ve=H.lineWidths=[0],_e=H.legendItems.length?$+y.padding:0;Z.textAlign="left",Z.textBaseline="top",J.each(H.legendItems,function(Tt,_t){var Ht=V(y,$)+$/2+Z.measureText(Tt.text).width;ve[ve.length-1]+Ht+y.padding>=H.width&&(_e+=$+y.padding,ve[ve.length]=H.left),ue[_t]={left:0,top:0,width:Ht,height:$},ve[ve.length-1]+=Ht+y.padding}),Te.height+=_e}else{var Me=y.padding,Ne=H.columnWidths=[],Se=y.padding,Le=0,Ue=0,Qe=$+Me;J.each(H.legendItems,function(Tt,_t){var Ht=V(y,$)+$/2+Z.measureText(Tt.text).width;Ue+Qe>Te.height&&(Se+=Le+y.padding,Ne.push(Le),Le=0,Ue=0),Le=Math.max(Le,Ht),Ue+=Qe,ue[_t]={left:0,top:0,width:Ht,height:$}}),Se+=Le,Ne.push(Le),Te.width+=Se}H.width=Te.width,H.height=Te.height},afterFit:M,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var H=this,m=H.options,y=m.labels,P=he.global,Z=P.elements.line,re=H.width,Q=H.lineWidths;if(m.display){var $,fe=H.ctx,pe=J.valueOrDefault,Ce=pe(y.fontColor,P.defaultFontColor),ue=pe(y.fontSize,P.defaultFontSize),Te=pe(y.fontStyle,P.defaultFontStyle),se=pe(y.fontFamily,P.defaultFontFamily),ve=J.fontString(ue,Te,se);fe.textAlign="left",fe.textBaseline="middle",fe.lineWidth=.5,fe.strokeStyle=Ce,fe.fillStyle=Ce,fe.font=ve;var _e=V(y,ue),Me=H.legendHitBoxes,Le=H.isHorizontal();$=Le?{x:H.left+(re-Q[0])/2,y:H.top+y.padding,line:0}:{x:H.left+y.padding,y:H.top+y.padding,line:0};var Ue=ue+y.padding;J.each(H.legendItems,function(Qe,Tt){var _t=fe.measureText(Qe.text).width,Ht=_e+ue/2+_t,tt=$.x,kt=$.y;Le?tt+Ht>=re&&(kt=$.y+=Ue,$.line++,tt=$.x=H.left+(re-Q[$.line])/2):kt+Ue>H.bottom&&(tt=$.x=tt+H.columnWidths[$.line]+y.padding,kt=$.y=H.top+y.padding,$.line++),function(Qe,Tt,_t){if(!(isNaN(_e)||_e<=0)){fe.save(),fe.fillStyle=pe(_t.fillStyle,P.defaultColor),fe.lineCap=pe(_t.lineCap,Z.borderCapStyle),fe.lineDashOffset=pe(_t.lineDashOffset,Z.borderDashOffset),fe.lineJoin=pe(_t.lineJoin,Z.borderJoinStyle),fe.lineWidth=pe(_t.lineWidth,Z.borderWidth),fe.strokeStyle=pe(_t.strokeStyle,P.defaultColor);var Ht=0===pe(_t.lineWidth,Z.borderWidth);if(fe.setLineDash&&fe.setLineDash(pe(_t.lineDash,Z.borderDash)),m.labels&&m.labels.usePointStyle){var tt=ue*Math.SQRT2/2,kt=tt/Math.SQRT2;J.canvas.drawPoint(fe,_t.pointStyle,tt,Qe+kt,Tt+kt)}else Ht||fe.strokeRect(Qe,Tt,_e,ue),fe.fillRect(Qe,Tt,_e,ue);fe.restore()}}(tt,kt,Qe),Me[Tt].left=tt,Me[Tt].top=kt,function(Qe,Tt,_t,Ht){var tt=ue/2,kt=_e+tt+Qe,It=Tt+tt;fe.fillText(_t.text,kt,It),_t.hidden&&(fe.beginPath(),fe.lineWidth=2,fe.moveTo(kt,It),fe.lineTo(kt+Ht,It),fe.stroke())}(tt,kt,Qe,_t),Le?$.x+=Ht+y.padding:$.y+=Ue})}},handleEvent:function(H){var m=this,y=m.options,P="mouseup"===H.type?"click":H.type,Z=!1;if("mousemove"===P){if(!y.onHover)return}else if("click"!==P||!y.onClick)return;var re=H.x,Q=H.y;if(re>=m.left&&re<=m.right&&Q>=m.top&&Q<=m.bottom)for(var $=m.legendHitBoxes,fe=0;fe<$.length;++fe){var pe=$[fe];if(re>=pe.left&&re<=pe.left+pe.width&&Q>=pe.top&&Q<=pe.top+pe.height){if("click"===P){y.onClick.call(m,H.native,m.legendItems[fe]),Z=!0;break}if("mousemove"===P){y.onHover.call(m,H.native,m.legendItems[fe]),Z=!0;break}}}return Z}}),{id:"legend",beforeInit:function(H){var m=H.options.legend;m&&A(H,m)},beforeUpdate:function(H){var m=H.options.legend,y=H.legend;m?(J.mergeIf(m,he.global.legend),y?(k.configure(H,y,m),y.options=m):A(H,m)):y&&(k.removeBox(H,y),delete H.legend)},afterEvent:function(H,m){var y=H.legend;y&&y.handleEvent(m)}}}},{25:25,26:26,45:45}],51:[function(Ge,ht,Bt){"use strict";var he=Ge(25),ke=Ge(26),J=Ge(45);he._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}}),ht.exports=function(ne){function V(M,H){var m=new ne.Title({ctx:M.ctx,options:H,chart:M});A.configure(M,m,H),A.addBox(M,m),M.titleBlock=m}var A=ne.layoutService,k=J.noop;return ne.Title=ke.extend({initialize:function(M){J.extend(this,M),this.legendHitBoxes=[]},beforeUpdate:k,update:function(M,H,m){var y=this;return y.beforeUpdate(),y.maxWidth=M,y.maxHeight=H,y.margins=m,y.beforeSetDimensions(),y.setDimensions(),y.afterSetDimensions(),y.beforeBuildLabels(),y.buildLabels(),y.afterBuildLabels(),y.beforeFit(),y.fit(),y.afterFit(),y.afterUpdate(),y.minSize},afterUpdate:k,beforeSetDimensions:k,setDimensions:function(){var M=this;M.isHorizontal()?(M.width=M.maxWidth,M.left=0,M.right=M.width):(M.height=M.maxHeight,M.top=0,M.bottom=M.height),M.paddingLeft=0,M.paddingTop=0,M.paddingRight=0,M.paddingBottom=0,M.minSize={width:0,height:0}},afterSetDimensions:k,beforeBuildLabels:k,buildLabels:k,afterBuildLabels:k,beforeFit:k,fit:function(){var M=this,m=M.options,y=m.display,P=(0,J.valueOrDefault)(m.fontSize,he.global.defaultFontSize),Z=M.minSize,re=J.isArray(m.text)?m.text.length:1,Q=J.options.toLineHeight(m.lineHeight,P),$=y?re*Q+2*m.padding:0;M.isHorizontal()?(Z.width=M.maxWidth,Z.height=$):(Z.width=$,Z.height=M.maxHeight),M.width=Z.width,M.height=Z.height},afterFit:k,isHorizontal:function(){var M=this.options.position;return"top"===M||"bottom"===M},draw:function(){var M=this,H=M.ctx,m=J.valueOrDefault,y=M.options,P=he.global;if(y.display){var Z,re,Q,$=m(y.fontSize,P.defaultFontSize),fe=m(y.fontStyle,P.defaultFontStyle),pe=m(y.fontFamily,P.defaultFontFamily),Ce=J.fontString($,fe,pe),ue=J.options.toLineHeight(y.lineHeight,$),Te=ue/2+y.padding,se=0,ve=M.top,_e=M.left,Me=M.bottom,Ne=M.right;H.fillStyle=m(y.fontColor,P.defaultFontColor),H.font=Ce,M.isHorizontal()?(re=_e+(Ne-_e)/2,Q=ve+Te,Z=Ne-_e):(re="left"===y.position?_e+Te:Ne-Te,Q=ve+(Me-ve)/2,Z=Me-ve,se=Math.PI*("left"===y.position?-.5:.5)),H.save(),H.translate(re,Q),H.rotate(se),H.textAlign="center",H.textBaseline="middle";var Se=y.text;if(J.isArray(Se))for(var Le=0,Ue=0;Ue<Se.length;++Ue)H.fillText(Se[Ue],0,Le,Z),Le+=ue;else H.fillText(Se,0,0,Z);H.restore()}}}),{id:"title",beforeInit:function(M){var H=M.options.title;H&&V(M,H)},beforeUpdate:function(M){var H=M.options.title,m=M.titleBlock;H?(J.mergeIf(H,he.global.title),m?(A.configure(M,m,H),m.options=H):V(M,H)):m&&(ne.layoutService.removeBox(M,m),delete M.titleBlock)}}}},{25:25,26:26,45:45}],52:[function(Ge,ht,Bt){"use strict";ht.exports=function(he){var ke=he.Scale.extend({getLabels:function(){var J=this.chart.data;return this.options.labels||(this.isHorizontal()?J.xLabels:J.yLabels)||J.labels},determineDataLimits:function(){var V,J=this,ne=J.getLabels();J.minIndex=0,J.maxIndex=ne.length-1,void 0!==J.options.ticks.min&&(V=ne.indexOf(J.options.ticks.min),J.minIndex=-1!==V?V:J.minIndex),void 0!==J.options.ticks.max&&(V=ne.indexOf(J.options.ticks.max),J.maxIndex=-1!==V?V:J.maxIndex),J.min=ne[J.minIndex],J.max=ne[J.maxIndex]},buildTicks:function(){var J=this,ne=J.getLabels();J.ticks=0===J.minIndex&&J.maxIndex===ne.length-1?ne:ne.slice(J.minIndex,J.maxIndex+1)},getLabelForIndex:function(J,ne){var V=this,A=V.chart.data,k=V.isHorizontal();return A.yLabels&&!k?V.getRightValue(A.datasets[ne].data[J]):V.ticks[J-V.minIndex]},getPixelForValue:function(J,ne){var V,A=this,k=A.options.offset,M=Math.max(A.maxIndex+1-A.minIndex-(k?0:1),1);if(null!=J&&(V=A.isHorizontal()?J.x:J.y),void 0!==V||void 0!==J&&isNaN(ne)){var m=A.getLabels().indexOf(J=V||J);ne=-1!==m?m:ne}if(A.isHorizontal()){var y=A.width/M,P=y*(ne-A.minIndex);return k&&(P+=y/2),A.left+Math.round(P)}var Z=A.height/M,re=Z*(ne-A.minIndex);return k&&(re+=Z/2),A.top+Math.round(re)},getPixelForTick:function(J){return this.getPixelForValue(this.ticks[J],J+this.minIndex,null)},getValueForPixel:function(J){var ne=this,V=ne.options.offset,A=Math.max(ne._ticks.length-(V?0:1),1),k=ne.isHorizontal(),M=(k?ne.width:ne.height)/A;return J-=k?ne.left:ne.top,V&&(J-=M/2),(J<=0?0:Math.round(J/M))+ne.minIndex},getBasePixel:function(){return this.bottom}});he.scaleService.registerScaleType("category",ke,{position:"bottom"})}},{}],53:[function(Ge,ht,Bt){"use strict";var he=Ge(25),ke=Ge(45),J=Ge(34);ht.exports=function(ne){var V={position:"left",ticks:{callback:J.formatters.linear}},A=ne.LinearScaleBase.extend({determineDataLimits:function(){function k(Q){return P?Q.xAxisID===M.id:Q.yAxisID===M.id}var M=this,H=M.options,m=M.chart,y=m.data.datasets,P=M.isHorizontal();M.min=null,M.max=null;var Z=H.stacked;if(void 0===Z&&ke.each(y,function(Q,$){if(!Z){var fe=m.getDatasetMeta($);m.isDatasetVisible($)&&k(fe)&&void 0!==fe.stack&&(Z=!0)}}),H.stacked||Z){var re={};ke.each(y,function(Q,$){var fe=m.getDatasetMeta($),pe=[fe.type,void 0===H.stacked&&void 0===fe.stack?$:"",fe.stack].join(".");void 0===re[pe]&&(re[pe]={positiveValues:[],negativeValues:[]});var Ce=re[pe].positiveValues,ue=re[pe].negativeValues;m.isDatasetVisible($)&&k(fe)&&ke.each(Q.data,function(Te,se){var ve=+M.getRightValue(Te);isNaN(ve)||fe.data[se].hidden||(Ce[se]=Ce[se]||0,ue[se]=ue[se]||0,H.relativePoints?Ce[se]=100:ve<0?ue[se]+=ve:Ce[se]+=ve)})}),ke.each(re,function(Q){var $=Q.positiveValues.concat(Q.negativeValues),fe=ke.min($),pe=ke.max($);M.min=null===M.min?fe:Math.min(M.min,fe),M.max=null===M.max?pe:Math.max(M.max,pe)})}else ke.each(y,function(Q,$){var fe=m.getDatasetMeta($);m.isDatasetVisible($)&&k(fe)&&ke.each(Q.data,function(pe,Ce){var ue=+M.getRightValue(pe);isNaN(ue)||fe.data[Ce].hidden||((null===M.min||ue<M.min)&&(M.min=ue),(null===M.max||ue>M.max)&&(M.max=ue))})});M.min=isFinite(M.min)&&!isNaN(M.min)?M.min:0,M.max=isFinite(M.max)&&!isNaN(M.max)?M.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var k,M=this,H=M.options.ticks;if(M.isHorizontal())k=Math.min(H.maxTicksLimit?H.maxTicksLimit:11,Math.ceil(M.width/50));else{var m=ke.valueOrDefault(H.fontSize,he.global.defaultFontSize);k=Math.min(H.maxTicksLimit?H.maxTicksLimit:11,Math.ceil(M.height/(2*m)))}return k},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(k,M){return+this.getRightValue(this.chart.data.datasets[M].data[k])},getPixelForValue:function(k){var M,H=this,m=H.start,y=+H.getRightValue(k),P=H.end-m;return H.isHorizontal()?(M=H.left+H.width/P*(y-m),Math.round(M)):(M=H.bottom-H.height/P*(y-m),Math.round(M))},getValueForPixel:function(k){var M=this,H=M.isHorizontal();return M.start+(H?k-M.left:M.bottom-k)/(H?M.width:M.height)*(M.end-M.start)},getPixelForTick:function(k){return this.getPixelForValue(this.ticksAsNumbers[k])}});ne.scaleService.registerScaleType("linear",A,V)}},{25:25,34:34,45:45}],54:[function(Ge,ht,Bt){"use strict";var he=Ge(45),ke=Ge(34);ht.exports=function(J){var ne=he.noop;J.LinearScaleBase=J.Scale.extend({getRightValue:function(V){return"string"==typeof V?+V:J.Scale.prototype.getRightValue.call(this,V)},handleTickRangeOptions:function(){var V=this,A=V.options.ticks;if(A.beginAtZero){var k=he.sign(V.min),M=he.sign(V.max);k<0&&M<0?V.max=0:k>0&&M>0&&(V.min=0)}var H=void 0!==A.min||void 0!==A.suggestedMin,m=void 0!==A.max||void 0!==A.suggestedMax;void 0!==A.min?V.min=A.min:void 0!==A.suggestedMin&&(V.min=null===V.min?A.suggestedMin:Math.min(V.min,A.suggestedMin)),void 0!==A.max?V.max=A.max:void 0!==A.suggestedMax&&(V.max=null===V.max?A.suggestedMax:Math.max(V.max,A.suggestedMax)),H!==m&&V.min>=V.max&&(H?V.max=V.min+1:V.min=V.max-1),V.min===V.max&&(V.max++,A.beginAtZero||V.min--)},getTickLimit:ne,handleDirectionalChanges:ne,buildTicks:function(){var V=this,A=V.options.ticks,k=V.getTickLimit(),M={maxTicks:k=Math.max(2,k),min:A.min,max:A.max,stepSize:he.valueOrDefault(A.fixedStepSize,A.stepSize)},H=V.ticks=ke.generators.linear(M,V);V.handleDirectionalChanges(),V.max=he.max(H),V.min=he.min(H),A.reverse?(H.reverse(),V.start=V.max,V.end=V.min):(V.start=V.min,V.end=V.max)},convertTicksToLabels:function(){var V=this;V.ticksAsNumbers=V.ticks.slice(),V.zeroLineIndex=V.ticks.indexOf(0),J.Scale.prototype.convertTicksToLabels.call(V)}})}},{34:34,45:45}],55:[function(Ge,ht,Bt){"use strict";var he=Ge(45),ke=Ge(34);ht.exports=function(J){var ne={position:"left",ticks:{callback:ke.formatters.logarithmic}},V=J.Scale.extend({determineDataLimits:function(){function A($){return Z?$.xAxisID===k.id:$.yAxisID===k.id}var k=this,M=k.options,H=M.ticks,m=k.chart,y=m.data.datasets,P=he.valueOrDefault,Z=k.isHorizontal();k.min=null,k.max=null,k.minNotZero=null;var re=M.stacked;if(void 0===re&&he.each(y,function($,fe){if(!re){var pe=m.getDatasetMeta(fe);m.isDatasetVisible(fe)&&A(pe)&&void 0!==pe.stack&&(re=!0)}}),M.stacked||re){var Q={};he.each(y,function($,fe){var pe=m.getDatasetMeta(fe),Ce=[pe.type,void 0===M.stacked&&void 0===pe.stack?fe:"",pe.stack].join(".");m.isDatasetVisible(fe)&&A(pe)&&(void 0===Q[Ce]&&(Q[Ce]=[]),he.each($.data,function(ue,Te){var se=Q[Ce],ve=+k.getRightValue(ue);isNaN(ve)||pe.data[Te].hidden||(se[Te]=se[Te]||0,M.relativePoints?se[Te]=100:se[Te]+=ve)}))}),he.each(Q,function($){var fe=he.min($),pe=he.max($);k.min=null===k.min?fe:Math.min(k.min,fe),k.max=null===k.max?pe:Math.max(k.max,pe)})}else he.each(y,function($,fe){var pe=m.getDatasetMeta(fe);m.isDatasetVisible(fe)&&A(pe)&&he.each($.data,function(Ce,ue){var Te=+k.getRightValue(Ce);isNaN(Te)||pe.data[ue].hidden||((null===k.min||Te<k.min)&&(k.min=Te),(null===k.max||Te>k.max)&&(k.max=Te),0!==Te&&(null===k.minNotZero||Te<k.minNotZero)&&(k.minNotZero=Te))})});k.min=P(H.min,k.min),k.max=P(H.max,k.max),k.min===k.max&&(0!==k.min&&null!==k.min?(k.min=Math.pow(10,Math.floor(he.log10(k.min))-1),k.max=Math.pow(10,Math.floor(he.log10(k.max))+1)):(k.min=1,k.max=10))},buildTicks:function(){var A=this,k=A.options.ticks,H=A.ticks=ke.generators.logarithmic({min:k.min,max:k.max},A);A.isHorizontal()||H.reverse(),A.max=he.max(H),A.min=he.min(H),k.reverse?(H.reverse(),A.start=A.max,A.end=A.min):(A.start=A.min,A.end=A.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),J.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(A,k){return+this.getRightValue(this.chart.data.datasets[k].data[A])},getPixelForTick:function(A){return this.getPixelForValue(this.tickValues[A])},getPixelForValue:function(A){var k,M,H,m=this,y=m.start,P=+m.getRightValue(A),Z=m.options.ticks;return m.isHorizontal()?(H=he.log10(m.end)-he.log10(y),M=0===P?m.left:m.left+(k=m.width)/H*(he.log10(P)-he.log10(y))):(k=m.height,0!==y||Z.reverse?0===m.end&&Z.reverse?(H=he.log10(m.start)-he.log10(m.minNotZero),M=P===m.end?m.top:P===m.minNotZero?m.top+.02*k:m.top+.02*k+.98*k/H*(he.log10(P)-he.log10(m.minNotZero))):0===P?M=Z.reverse?m.top:m.bottom:(H=he.log10(m.end)-he.log10(y),M=m.bottom-(k=m.height)/H*(he.log10(P)-he.log10(y))):(H=he.log10(m.end)-he.log10(m.minNotZero),M=P===y?m.bottom:P===m.minNotZero?m.bottom-.02*k:m.bottom-.02*k-.98*k/H*(he.log10(P)-he.log10(m.minNotZero)))),M},getValueForPixel:function(A){var k,M,H=this,m=he.log10(H.end)-he.log10(H.start);return H.isHorizontal()?(M=H.width,k=H.start*Math.pow(10,(A-H.left)*m/M)):(M=H.height,k=Math.pow(10,(H.bottom-A)*m/M)/H.start),k}});J.scaleService.registerScaleType("logarithmic",V,ne)}},{34:34,45:45}],56:[function(Ge,ht,Bt){"use strict";var he=Ge(25),ke=Ge(45),J=Ge(34);ht.exports=function(ne){function V(ue){var Te=ue.options;return Te.angleLines.display||Te.pointLabels.display?ue.chart.data.labels.length:0}function A(ue){var Te=ue.options.pointLabels,se=ke.valueOrDefault(Te.fontSize,fe.defaultFontSize),ve=ke.valueOrDefault(Te.fontStyle,fe.defaultFontStyle),_e=ke.valueOrDefault(Te.fontFamily,fe.defaultFontFamily);return{size:se,style:ve,family:_e,font:ke.fontString(se,ve,_e)}}function k(ue,Te,se){return ke.isArray(se)?{w:ke.longestText(ue,ue.font,se),h:se.length*Te+1.5*(se.length-1)*Te}:{w:ue.measureText(se).width,h:Te}}function M(ue,Te,se,ve,_e){return ue===ve||ue===_e?{start:Te-se/2,end:Te+se/2}:ue<ve||ue>_e?{start:Te-se-5,end:Te}:{start:Te,end:Te+se+5}}function y(ue){return 0===ue||180===ue?"center":ue<180?"left":"right"}function P(ue,Te,se,ve){if(ke.isArray(Te))for(var _e=se.y,Me=1.5*ve,Ne=0;Ne<Te.length;++Ne)ue.fillText(Te[Ne],se.x,_e),_e+=Me;else ue.fillText(Te,se.x,se.y)}function Z(ue,Te,se){90===ue||270===ue?se.y-=Te.h/2:(ue>270||ue<90)&&(se.y-=Te.h)}function $(ue){return ke.isNumber(ue)?ue:0}var fe=he.global,pe={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:J.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(ue){return ue}}},Ce=ne.LinearScaleBase.extend({setDimensions:function(){var ue=this,Te=ue.options,se=Te.ticks;ue.width=ue.maxWidth,ue.height=ue.maxHeight,ue.xCenter=Math.round(ue.width/2),ue.yCenter=Math.round(ue.height/2);var ve=ke.min([ue.height,ue.width]),_e=ke.valueOrDefault(se.fontSize,fe.defaultFontSize);ue.drawingArea=Te.display?ve/2-(_e/2+se.backdropPaddingY):ve/2},determineDataLimits:function(){var ue=this,Te=ue.chart,se=Number.POSITIVE_INFINITY,ve=Number.NEGATIVE_INFINITY;ke.each(Te.data.datasets,function(_e,Me){if(Te.isDatasetVisible(Me)){var Ne=Te.getDatasetMeta(Me);ke.each(_e.data,function(Se,Le){var Ue=+ue.getRightValue(Se);isNaN(Ue)||Ne.data[Le].hidden||(se=Math.min(Ue,se),ve=Math.max(Ue,ve))})}}),ue.min=se===Number.POSITIVE_INFINITY?0:se,ue.max=ve===Number.NEGATIVE_INFINITY?0:ve,ue.handleTickRangeOptions()},getTickLimit:function(){var ue=this.options.ticks,Te=ke.valueOrDefault(ue.fontSize,fe.defaultFontSize);return Math.min(ue.maxTicksLimit?ue.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*Te)))},convertTicksToLabels:function(){var ue=this;ne.LinearScaleBase.prototype.convertTicksToLabels.call(ue),ue.pointLabels=ue.chart.data.labels.map(ue.options.pointLabels.callback,ue)},getLabelForIndex:function(ue,Te){return+this.getRightValue(this.chart.data.datasets[Te].data[ue])},fit:function(){var Te;this.options.pointLabels.display?function(ue){var Te,se,ve,_e=A(ue),Me=Math.min(ue.height/2,ue.width/2),Ne={r:ue.width,l:0,t:ue.height,b:0},Se={};ue.ctx.font=_e.font,ue._pointLabelSizes=[];var Le=V(ue);for(Te=0;Te<Le;Te++){ve=ue.getPointPosition(Te,Me),se=k(ue.ctx,_e.size,ue.pointLabels[Te]||""),ue._pointLabelSizes[Te]=se;var Ue=ue.getIndexAngle(Te),Qe=ke.toDegrees(Ue)%360,Tt=M(Qe,ve.x,se.w,0,180),_t=M(Qe,ve.y,se.h,90,270);Tt.start<Ne.l&&(Ne.l=Tt.start,Se.l=Ue),Tt.end>Ne.r&&(Ne.r=Tt.end,Se.r=Ue),_t.start<Ne.t&&(Ne.t=_t.start,Se.t=Ue),_t.end>Ne.b&&(Ne.b=_t.end,Se.b=Ue)}ue.setReductions(Me,Ne,Se)}(this):(this,Te=Math.min(this.height/2,this.width/2),this.drawingArea=Math.round(Te),this.setCenterPoint(0,0,0,0))},setReductions:function(ue,Te,se){var _e=Te.l/Math.sin(se.l),Me=Math.max(Te.r-this.width,0)/Math.sin(se.r),Ne=-Te.t/Math.cos(se.t),Se=-Math.max(Te.b-this.height,0)/Math.cos(se.b);_e=$(_e),Me=$(Me),Ne=$(Ne),Se=$(Se),this.drawingArea=Math.min(Math.round(ue-(_e+Me)/2),Math.round(ue-(Ne+Se)/2)),this.setCenterPoint(_e,Me,Ne,Se)},setCenterPoint:function(ue,Te,se,ve){var _e=this,Se=se+_e.drawingArea,Le=_e.height-ve-_e.drawingArea;_e.xCenter=Math.round((ue+_e.drawingArea+(_e.width-Te-_e.drawingArea))/2+_e.left),_e.yCenter=Math.round((Se+Le)/2+_e.top)},getIndexAngle:function(ue){return ue*(2*Math.PI/V(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(ue){var Te=this;if(null===ue)return 0;var se=Te.drawingArea/(Te.max-Te.min);return Te.options.ticks.reverse?(Te.max-ue)*se:(ue-Te.min)*se},getPointPosition:function(ue,Te){var ve=this.getIndexAngle(ue)-Math.PI/2;return{x:Math.round(Math.cos(ve)*Te)+this.xCenter,y:Math.round(Math.sin(ve)*Te)+this.yCenter}},getPointPositionForValue:function(ue,Te){return this.getPointPosition(ue,this.getDistanceFromCenterForValue(Te))},getBasePosition:function(){var Te=this.min,se=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:Te<0&&se<0?se:Te>0&&se>0?Te:0)},draw:function(){var ue=this,Te=ue.options,se=Te.gridLines,ve=Te.ticks,_e=ke.valueOrDefault;if(Te.display){var Me=ue.ctx,Ne=this.getIndexAngle(0),Se=_e(ve.fontSize,fe.defaultFontSize),Le=_e(ve.fontStyle,fe.defaultFontStyle),Ue=_e(ve.fontFamily,fe.defaultFontFamily),Qe=ke.fontString(Se,Le,Ue);ke.each(ue.ticks,function(Tt,_t){if(_t>0||ve.reverse){var Ht=ue.getDistanceFromCenterForValue(ue.ticksAsNumbers[_t]);if(se.display&&0!==_t&&function(ue,Te,se,ve){var _e=ue.ctx;if(_e.strokeStyle=ke.valueAtIndexOrDefault(Te.color,ve-1),_e.lineWidth=ke.valueAtIndexOrDefault(Te.lineWidth,ve-1),ue.options.gridLines.circular)_e.beginPath(),_e.arc(ue.xCenter,ue.yCenter,se,0,2*Math.PI),_e.closePath(),_e.stroke();else{var Me=V(ue);if(0===Me)return;_e.beginPath();var Ne=ue.getPointPosition(0,se);_e.moveTo(Ne.x,Ne.y);for(var Se=1;Se<Me;Se++)Ne=ue.getPointPosition(Se,se),_e.lineTo(Ne.x,Ne.y);_e.closePath(),_e.stroke()}}(ue,se,Ht,_t),ve.display){var tt=_e(ve.fontColor,fe.defaultFontColor);if(Me.font=Qe,Me.save(),Me.translate(ue.xCenter,ue.yCenter),Me.rotate(Ne),ve.showLabelBackdrop){var kt=Me.measureText(Tt).width;Me.fillStyle=ve.backdropColor,Me.fillRect(-kt/2-ve.backdropPaddingX,-Ht-Se/2-ve.backdropPaddingY,kt+2*ve.backdropPaddingX,Se+2*ve.backdropPaddingY)}Me.textAlign="center",Me.textBaseline="middle",Me.fillStyle=tt,Me.fillText(Tt,0,-Ht),Me.restore()}}}),(Te.angleLines.display||Te.pointLabels.display)&&function(ue){var Te=ue.ctx,se=ke.valueOrDefault,ve=ue.options,_e=ve.angleLines,Me=ve.pointLabels;Te.lineWidth=_e.lineWidth,Te.strokeStyle=_e.color;var Ne=ue.getDistanceFromCenterForValue(ve.ticks.reverse?ue.min:ue.max),Se=A(ue);Te.textBaseline="top";for(var Le=V(ue)-1;Le>=0;Le--){if(_e.display){var Ue=ue.getPointPosition(Le,Ne);Te.beginPath(),Te.moveTo(ue.xCenter,ue.yCenter),Te.lineTo(Ue.x,Ue.y),Te.stroke(),Te.closePath()}if(Me.display){var Qe=ue.getPointPosition(Le,Ne+5),Tt=se(Me.fontColor,fe.defaultFontColor);Te.font=Se.font,Te.fillStyle=Tt;var _t=ue.getIndexAngle(Le),Ht=ke.toDegrees(_t);Te.textAlign=y(Ht),Z(Ht,ue._pointLabelSizes[Le],Qe),P(Te,ue.pointLabels[Le]||"",Qe,Se.size)}}}(ue)}}});ne.scaleService.registerScaleType("radialLinear",Ce,pe)}},{25:25,34:34,45:45}],57:[function(Ge,ht,Bt){"use strict";function he(se,ve){return se-ve}function ke(se){var ve,_e,Me,Ne={},Se=[];for(ve=0,_e=se.length;ve<_e;++ve)Ne[Me=se[ve]]||(Ne[Me]=!0,Se.push(Me));return Se}function V(se,ve,_e,Me){var Ne=function(se,ve,_e){for(var Me,Ne,Se,Le=0,Ue=se.length-1;Le>=0&&Le<=Ue;){if(Se=se[Me=Le+Ue>>1],!(Ne=se[Me-1]||null))return{lo:null,hi:Se};if(Se[ve]<_e)Le=Me+1;else{if(!(Ne[ve]>_e))return{lo:Ne,hi:Se};Ue=Me-1}}return{lo:Se,hi:null}}(se,ve,_e),Se=Ne.lo?Ne.hi?Ne.lo:se[se.length-2]:se[0],Le=Ne.lo?Ne.hi?Ne.hi:se[se.length-1]:se[1],Ue=Le[ve]-Se[ve];return Se[Me]+(Le[Me]-Se[Me])*(Ue?(_e-Se[ve])/Ue:0)}function A(se,ve){var _e=ve.parser,Me=ve.parser||ve.format;return"function"==typeof _e?_e(se):"string"==typeof se&&"string"==typeof Me?Q(se,Me):(se instanceof Q||(se=Q(se)),se.isValid()?se:"function"==typeof Me?Me(se):se)}function k(se,ve){if(fe.isNullOrUndef(se))return null;var _e=ve.options.time,Me=A(ve.getRightValue(se),_e);return Me.isValid()?(_e.round&&Me.startOf(_e.round),Me.valueOf()):null}function y(se){for(var ve=Te.indexOf(se)+1,_e=Te.length;ve<_e;++ve)if(ue[Te[ve]].common)return Te[ve]}var Q=Ge(1);Q="function"==typeof Q?Q:window.moment;var $=Ge(25),fe=Ge(45),pe=Number.MIN_SAFE_INTEGER||-9007199254740991,Ce=Number.MAX_SAFE_INTEGER||9007199254740991,ue={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},Te=Object.keys(ue);ht.exports=function(se){var ve=se.Scale.extend({initialize:function(){if(!Q)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),se.Scale.prototype.initialize.call(this)},update:function(){var _e=this,Me=_e.options;return Me.time&&Me.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),se.Scale.prototype.update.apply(_e,arguments)},getRightValue:function(_e){return _e&&void 0!==_e.t&&(_e=_e.t),se.Scale.prototype.getRightValue.call(this,_e)},determineDataLimits:function(){var _e,Me,Ne,Se,Le,Ue,Qe=this,Tt=Qe.chart,_t=Qe.options.time,Ht=Ce,tt=pe,kt=[],It=[],nn=[];for(_e=0,Ne=Tt.data.labels.length;_e<Ne;++_e)nn.push(k(Tt.data.labels[_e],Qe));for(_e=0,Ne=(Tt.data.datasets||[]).length;_e<Ne;++_e)if(Tt.isDatasetVisible(_e))if(fe.isObject((Le=Tt.data.datasets[_e].data)[0]))for(It[_e]=[],Me=0,Se=Le.length;Me<Se;++Me)Ue=k(Le[Me],Qe),kt.push(Ue),It[_e][Me]=Ue;else kt.push.apply(kt,nn),It[_e]=nn.slice(0);else It[_e]=[];nn.length&&(nn=ke(nn).sort(he),Ht=Math.min(Ht,nn[0]),tt=Math.max(tt,nn[nn.length-1])),kt.length&&(kt=ke(kt).sort(he),Ht=Math.min(Ht,kt[0]),tt=Math.max(tt,kt[kt.length-1])),Ht=k(_t.min,Qe)||Ht,tt=k(_t.max,Qe)||tt,Ht=Ht===Ce?+Q().startOf("day"):Ht,tt=tt===pe?+Q().endOf("day")+1:tt,Qe.min=Math.min(Ht,tt),Qe.max=Math.max(Ht+1,tt),Qe._horizontal=Qe.isHorizontal(),Qe._table=[],Qe._timestamps={data:kt,datasets:It,labels:nn}},buildTicks:function(){var _e,Me,Ne,Se=this,Le=Se.min,Ue=Se.max,Qe=Se.options,Tt=Qe.time,_t=[],Ht=[];switch(Qe.ticks.source){case"data":_t=Se._timestamps.data;break;case"labels":_t=Se._timestamps.labels;break;default:_t=function(se,ve,_e,Me){var Ne,Se=Me.time,Le=Se.unit||function(se,ve,_e,Me){var Ne,Se,Ue=Te.length;for(Ne=Te.indexOf(se);Ne<Ue-1;++Ne)if((Se=ue[Te[Ne]]).common&&Math.ceil((_e-ve)/((Se.steps?Se.steps[Se.steps.length-1]:Ce)*Se.size))<=Me)return Te[Ne];return Te[Ue-1]}(Se.minUnit,se,ve,_e),Ue=y(Le),Qe=fe.valueOrDefault(Se.stepSize,Se.unitStepSize),Tt="week"===Le&&Se.isoWeekday,_t=Me.ticks.major.enabled,Ht=ue[Le],tt=Q(se),kt=Q(ve),It=[];for(Qe||(Qe=function(se,ve,_e,Me){var Ne,Se,Le,Ue=ve-se,Qe=ue[_e],Tt=Qe.size,_t=Qe.steps;if(!_t)return Math.ceil(Ue/((Me||1)*Tt));for(Ne=0,Se=_t.length;Ne<Se&&(Le=_t[Ne],!(Math.ceil(Ue/(Tt*Le))<=Me));++Ne);return Le}(se,ve,Le,_e)),Tt&&(tt=tt.isoWeekday(Tt),kt=kt.isoWeekday(Tt)),tt=tt.startOf(Tt?"day":Le),(kt=kt.startOf(Tt?"day":Le))<ve&&kt.add(1,Le),Ne=Q(tt),_t&&Ue&&!Tt&&!Se.round&&(Ne.startOf(Ue),Ne.add(~~((tt-Ne)/(Ht.size*Qe))*Qe,Le));Ne<kt;Ne.add(Qe,Le))It.push(+Ne);return It.push(+Ne),It}(Le,Ue,Se.getLabelCapacity(Le),Qe)}for("ticks"===Qe.bounds&&_t.length&&(Le=_t[0],Ue=_t[_t.length-1]),Le=k(Tt.min,Se)||Le,Ue=k(Tt.max,Se)||Ue,_e=0,Me=_t.length;_e<Me;++_e)(Ne=_t[_e])>=Le&&Ne<=Ue&&Ht.push(Ne);return Se.min=Le,Se.max=Ue,Se._unit=Tt.unit||function(se,ve,_e,Me){var Ne,Se,Le=Q.duration(Q(Me).diff(Q(_e)));for(Ne=Te.length-1;Ne>=Te.indexOf(ve);Ne--)if(ue[Se=Te[Ne]].common&&Le.as(Se)>=se.length)return Se;return Te[ve?Te.indexOf(ve):0]}(Ht,Tt.minUnit,Se.min,Se.max),Se._majorUnit=y(Se._unit),Se._table=function(se,ve,_e,Me){if("linear"===Me||!se.length)return[{time:ve,pos:0},{time:_e,pos:1}];var Ne,Se,Le,Ue,Qe,Tt=[],_t=[ve];for(Ne=0,Se=se.length;Ne<Se;++Ne)(Ue=se[Ne])>ve&&Ue<_e&&_t.push(Ue);for(_t.push(_e),Ne=0,Se=_t.length;Ne<Se;++Ne)Qe=_t[Ne+1],Ue=_t[Ne],void 0!==(Le=_t[Ne-1])&&void 0!==Qe&&Math.round((Qe+Le)/2)===Ue||Tt.push({time:Ue,pos:Ne/(Se-1)});return Tt}(Se._timestamps.data,Le,Ue,Qe.distribution),Se._offsets=function(se,ve,_e,Me,Ne){var Le,Ue=0,Qe=0;return Ne.offset&&ve.length&&(Ne.time.min||(Le=ve[0],Ue=(V(se,"time",ve.length>1?ve[1]:Me,"pos")-V(se,"time",Le,"pos"))/2),Ne.time.max||(Le=ve.length>1?ve[ve.length-2]:_e,Qe=(V(se,"time",ve[ve.length-1],"pos")-V(se,"time",Le,"pos"))/2)),{left:Ue,right:Qe}}(Se._table,Ht,Le,Ue,Qe),function(se,ve){var _e,Me,Ne,Se,Le=[];for(_e=0,Me=se.length;_e<Me;++_e)Ne=se[_e],Se=!!ve&&Ne===+Q(Ne).startOf(ve),Le.push({value:Ne,major:Se});return Le}(Ht,Se._majorUnit)},getLabelForIndex:function(_e,Me){var Se=this.chart.data,Le=this.options.time,Ue=Se.labels&&_e<Se.labels.length?Se.labels[_e]:"",Qe=Se.datasets[Me].data[_e];return fe.isObject(Qe)&&(Ue=this.getRightValue(Qe)),Le.tooltipFormat&&(Ue=A(Ue,Le).format(Le.tooltipFormat)),Ue},tickFormatFunction:function(_e,Me,Ne,Se){var Ue=this.options,Qe=_e.valueOf(),Tt=Ue.time.displayFormats,_t=Tt[this._unit],Ht=this._majorUnit,tt=Tt[Ht],kt=_e.clone().startOf(Ht).valueOf(),It=Ue.ticks.major,nn=It.enabled&&Ht&&tt&&Qe===kt,ct=_e.format(Se||(nn?tt:_t)),Lt=nn?It:Ue.ticks.minor,ln=fe.valueOrDefault(Lt.callback,Lt.userCallback);return ln?ln(ct,Me,Ne):ct},convertTicksToLabels:function(_e){var Me,Ne,Se=[];for(Me=0,Ne=_e.length;Me<Ne;++Me)Se.push(this.tickFormatFunction(Q(_e[Me].value),Me,_e));return Se},getPixelForOffset:function(_e){var Me=this,Ne=Me._horizontal?Me.width:Me.height,Se=Me._horizontal?Me.left:Me.top,Le=V(Me._table,"time",_e,"pos");return Se+Ne*(Me._offsets.left+Le)/(Me._offsets.left+1+Me._offsets.right)},getPixelForValue:function(_e,Me,Ne){var Le=null;if(void 0!==Me&&void 0!==Ne&&(Le=this._timestamps.datasets[Ne][Me]),null===Le&&(Le=k(_e,this)),null!==Le)return this.getPixelForOffset(Le)},getPixelForTick:function(_e){var Me=this.getTicks();return _e>=0&&_e<Me.length?this.getPixelForOffset(Me[_e].value):null},getValueForPixel:function(_e){var Me=this,Ne=Me._horizontal?Me.width:Me.height,Ue=V(Me._table,"pos",(Ne?(_e-(Me._horizontal?Me.left:Me.top))/Ne:0)*(Me._offsets.left+1+Me._offsets.left)-Me._offsets.right,"time");return Q(Ue)},getLabelWidth:function(_e){var Ne=this.options.ticks,Se=this.ctx.measureText(_e).width,Le=fe.toRadians(Ne.maxRotation),Ue=Math.cos(Le),Qe=Math.sin(Le);return Se*Ue+fe.valueOrDefault(Ne.fontSize,$.global.defaultFontSize)*Qe},getLabelCapacity:function(_e){var Me=this,Ne=Me.options.time.displayFormats.millisecond,Se=Me.tickFormatFunction(Q(_e),0,[],Ne),Le=Me.getLabelWidth(Se),Ue=Me.isHorizontal()?Me.width:Me.height;return Math.floor(Ue/Le)}});se.scaleService.registerScaleType("time",ve,{position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}})}},{1:1,25:25,45:45}]},{},[7])(7)});